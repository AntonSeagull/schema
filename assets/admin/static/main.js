var kre=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Vze=kre((jh,zh)=>{function mH(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var _C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tR={exports:{}},n2={};var UB;function Ire(){if(UB)return n2;UB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var i in a)i!=="key"&&(l[i]=a[i])}else l=a;return a=l.ref,{$$typeof:e,type:r,key:u,ref:a!==void 0?a:null,props:l}}return n2.Fragment=t,n2.jsx=n,n2.jsxs=n,n2}var GB;function Nre(){return GB||(GB=1,tR.exports=Ire()),tR.exports}var S=Nre(),nR={exports:{}},Na={};var HB;function Rre(){if(HB)return Na;HB=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function P(Re){return Re===null||typeof Re!="object"?null:(Re=M&&Re[M]||Re["@@iterator"],typeof Re=="function"?Re:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,z={};function q(Re,je,Ze){this.props=Re,this.context=je,this.refs=z,this.updater=Ze||j}q.prototype.isReactComponent={},q.prototype.setState=function(Re,je){if(typeof Re!="object"&&typeof Re!="function"&&Re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Re,je,"setState")},q.prototype.forceUpdate=function(Re){this.updater.enqueueForceUpdate(this,Re,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function J(Re,je,Ze){this.props=Re,this.context=je,this.refs=z,this.updater=Ze||j}var ne=J.prototype=new Y;ne.constructor=J,G(ne,q.prototype),ne.isPureReactComponent=!0;var ie=Array.isArray;function ue(){}var oe={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function se(Re,je,Ze){var Qe=Ze.ref;return{$$typeof:e,type:Re,key:je,ref:Qe!==void 0?Qe:null,props:Ze}}function pe(Re,je){return se(Re.type,je,Re.props)}function ve(Re){return typeof Re=="object"&&Re!==null&&Re.$$typeof===e}function Te(Re){var je={"=":"=0",":":"=2"};return"$"+Re.replace(/[=:]/g,function(Ze){return je[Ze]})}var Me=/\/+/g;function xe(Re,je){return typeof Re=="object"&&Re!==null&&Re.key!=null?Te(""+Re.key):je.toString(36)}function Se(Re){switch(Re.status){case"fulfilled":return Re.value;case"rejected":throw Re.reason;default:switch(typeof Re.status=="string"?Re.then(ue,ue):(Re.status="pending",Re.then(function(je){Re.status==="pending"&&(Re.status="fulfilled",Re.value=je)},function(je){Re.status==="pending"&&(Re.status="rejected",Re.reason=je)})),Re.status){case"fulfilled":return Re.value;case"rejected":throw Re.reason}}throw Re}function he(Re,je,Ze,Qe,Pe){var St=typeof Re;(St==="undefined"||St==="boolean")&&(Re=null);var Nt=!1;if(Re===null)Nt=!0;else switch(St){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(Re.$$typeof){case e:case t:Nt=!0;break;case _:return Nt=Re._init,he(Nt(Re._payload),je,Ze,Qe,Pe)}}if(Nt)return Pe=Pe(Re),Nt=Qe===""?"."+xe(Re,0):Qe,ie(Pe)?(Ze="",Nt!=null&&(Ze=Nt.replace(Me,"$&/")+"/"),he(Pe,je,Ze,"",function(zt){return zt})):Pe!=null&&(ve(Pe)&&(Pe=pe(Pe,Ze+(Pe.key==null||Re&&Re.key===Pe.key?"":(""+Pe.key).replace(Me,"$&/")+"/")+Nt)),je.push(Pe)),1;Nt=0;var We=Qe===""?".":Qe+":";if(ie(Re))for(var en=0;en<Re.length;en++)Qe=Re[en],St=We+xe(Qe,en),Nt+=he(Qe,je,Ze,St,Pe);else if(en=P(Re),typeof en=="function")for(Re=en.call(Re),en=0;!(Qe=Re.next()).done;)Qe=Qe.value,St=We+xe(Qe,en++),Nt+=he(Qe,je,Ze,St,Pe);else if(St==="object"){if(typeof Re.then=="function")return he(Se(Re),je,Ze,Qe,Pe);throw je=String(Re),Error("Objects are not valid as a React child (found: "+(je==="[object Object]"?"object with keys {"+Object.keys(Re).join(", ")+"}":je)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function we(Re,je,Ze){if(Re==null)return Re;var Qe=[],Pe=0;return he(Re,Qe,"","",function(St){return je.call(Ze,St,Pe++)}),Qe}function _e(Re){if(Re._status===-1){var je=Re._result;je=je(),je.then(function(Ze){(Re._status===0||Re._status===-1)&&(Re._status=1,Re._result=Ze)},function(Ze){(Re._status===0||Re._status===-1)&&(Re._status=2,Re._result=Ze)}),Re._status===-1&&(Re._status=0,Re._result=je)}if(Re._status===1)return Re._result.default;throw Re._result}var Be=typeof reportError=="function"?reportError:function(Re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var je=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Re=="object"&&Re!==null&&typeof Re.message=="string"?String(Re.message):String(Re),error:Re});if(!window.dispatchEvent(je))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Re);return}console.error(Re)},He={map:we,forEach:function(Re,je,Ze){we(Re,function(){je.apply(this,arguments)},Ze)},count:function(Re){var je=0;return we(Re,function(){je++}),je},toArray:function(Re){return we(Re,function(je){return je})||[]},only:function(Re){if(!ve(Re))throw Error("React.Children.only expected to receive a single React element child.");return Re}};return Na.Activity=w,Na.Children=He,Na.Component=q,Na.Fragment=n,Na.Profiler=a,Na.PureComponent=J,Na.StrictMode=r,Na.Suspense=m,Na.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Na.__COMPILER_RUNTIME={__proto__:null,c:function(Re){return oe.H.useMemoCache(Re)}},Na.cache=function(Re){return function(){return Re.apply(null,arguments)}},Na.cacheSignal=function(){return null},Na.cloneElement=function(Re,je,Ze){if(Re==null)throw Error("The argument must be a React element, but you passed "+Re+".");var Qe=G({},Re.props),Pe=Re.key;if(je!=null)for(St in je.key!==void 0&&(Pe=""+je.key),je)!K.call(je,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&je.ref===void 0||(Qe[St]=je[St]);var St=arguments.length-2;if(St===1)Qe.children=Ze;else if(1<St){for(var Nt=Array(St),We=0;We<St;We++)Nt[We]=arguments[We+2];Qe.children=Nt}return se(Re.type,Pe,Qe)},Na.createContext=function(Re){return Re={$$typeof:u,_currentValue:Re,_currentValue2:Re,_threadCount:0,Provider:null,Consumer:null},Re.Provider=Re,Re.Consumer={$$typeof:l,_context:Re},Re},Na.createElement=function(Re,je,Ze){var Qe,Pe={},St=null;if(je!=null)for(Qe in je.key!==void 0&&(St=""+je.key),je)K.call(je,Qe)&&Qe!=="key"&&Qe!=="__self"&&Qe!=="__source"&&(Pe[Qe]=je[Qe]);var Nt=arguments.length-2;if(Nt===1)Pe.children=Ze;else if(1<Nt){for(var We=Array(Nt),en=0;en<Nt;en++)We[en]=arguments[en+2];Pe.children=We}if(Re&&Re.defaultProps)for(Qe in Nt=Re.defaultProps,Nt)Pe[Qe]===void 0&&(Pe[Qe]=Nt[Qe]);return se(Re,St,Pe)},Na.createRef=function(){return{current:null}},Na.forwardRef=function(Re){return{$$typeof:i,render:Re}},Na.isValidElement=ve,Na.lazy=function(Re){return{$$typeof:_,_payload:{_status:-1,_result:Re},_init:_e}},Na.memo=function(Re,je){return{$$typeof:b,type:Re,compare:je===void 0?null:je}},Na.startTransition=function(Re){var je=oe.T,Ze={};oe.T=Ze;try{var Qe=Re(),Pe=oe.S;Pe!==null&&Pe(Ze,Qe),typeof Qe=="object"&&Qe!==null&&typeof Qe.then=="function"&&Qe.then(ue,Be)}catch(St){Be(St)}finally{je!==null&&Ze.types!==null&&(je.types=Ze.types),oe.T=je}},Na.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Na.use=function(Re){return oe.H.use(Re)},Na.useActionState=function(Re,je,Ze){return oe.H.useActionState(Re,je,Ze)},Na.useCallback=function(Re,je){return oe.H.useCallback(Re,je)},Na.useContext=function(Re){return oe.H.useContext(Re)},Na.useDebugValue=function(){},Na.useDeferredValue=function(Re,je){return oe.H.useDeferredValue(Re,je)},Na.useEffect=function(Re,je){return oe.H.useEffect(Re,je)},Na.useEffectEvent=function(Re){return oe.H.useEffectEvent(Re)},Na.useId=function(){return oe.H.useId()},Na.useImperativeHandle=function(Re,je,Ze){return oe.H.useImperativeHandle(Re,je,Ze)},Na.useInsertionEffect=function(Re,je){return oe.H.useInsertionEffect(Re,je)},Na.useLayoutEffect=function(Re,je){return oe.H.useLayoutEffect(Re,je)},Na.useMemo=function(Re,je){return oe.H.useMemo(Re,je)},Na.useOptimistic=function(Re,je){return oe.H.useOptimistic(Re,je)},Na.useReducer=function(Re,je,Ze){return oe.H.useReducer(Re,je,Ze)},Na.useRef=function(Re){return oe.H.useRef(Re)},Na.useState=function(Re){return oe.H.useState(Re)},Na.useSyncExternalStore=function(Re,je,Ze){return oe.H.useSyncExternalStore(Re,je,Ze)},Na.useTransition=function(){return oe.H.useTransition()},Na.version="19.2.3",Na}var VB;function aw(){return VB||(VB=1,nR.exports=Rre()),nR.exports}var $=aw();const Ve=qh($),gI=mH({__proto__:null,default:Ve},[$]);var rR={exports:{}},r2={},aR={exports:{}},iR={};var qB;function Mre(){return qB||(qB=1,(function(e){function t(he,we){var _e=he.length;he.push(we);e:for(;0<_e;){var Be=_e-1>>>1,He=he[Be];if(0<a(He,we))he[Be]=we,he[_e]=He,_e=Be;else break e}}function n(he){return he.length===0?null:he[0]}function r(he){if(he.length===0)return null;var we=he[0],_e=he.pop();if(_e!==we){he[0]=_e;e:for(var Be=0,He=he.length,Re=He>>>1;Be<Re;){var je=2*(Be+1)-1,Ze=he[je],Qe=je+1,Pe=he[Qe];if(0>a(Ze,_e))Qe<He&&0>a(Pe,Ze)?(he[Be]=Pe,he[Qe]=_e,Be=Qe):(he[Be]=Ze,he[je]=_e,Be=je);else if(Qe<He&&0>a(Pe,_e))he[Be]=Pe,he[Qe]=_e,Be=Qe;else break e}}return we}function a(he,we){var _e=he.sortIndex-we.sortIndex;return _e!==0?_e:he.id-we.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,i=u.now();e.unstable_now=function(){return u.now()-i}}var m=[],b=[],_=1,w=null,M=3,P=!1,j=!1,G=!1,z=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ne(he){for(var we=n(b);we!==null;){if(we.callback===null)r(b);else if(we.startTime<=he)r(b),we.sortIndex=we.expirationTime,t(m,we);else break;we=n(b)}}function ie(he){if(G=!1,ne(he),!j)if(n(m)!==null)j=!0,ue||(ue=!0,Te());else{var we=n(b);we!==null&&Se(ie,we.startTime-he)}}var ue=!1,oe=-1,K=5,se=-1;function pe(){return z?!0:!(e.unstable_now()-se<K)}function ve(){if(z=!1,ue){var he=e.unstable_now();se=he;var we=!0;try{e:{j=!1,G&&(G=!1,Y(oe),oe=-1),P=!0;var _e=M;try{t:{for(ne(he),w=n(m);w!==null&&!(w.expirationTime>he&&pe());){var Be=w.callback;if(typeof Be=="function"){w.callback=null,M=w.priorityLevel;var He=Be(w.expirationTime<=he);if(he=e.unstable_now(),typeof He=="function"){w.callback=He,ne(he),we=!0;break t}w===n(m)&&r(m),ne(he)}else r(m);w=n(m)}if(w!==null)we=!0;else{var Re=n(b);Re!==null&&Se(ie,Re.startTime-he),we=!1}}break e}finally{w=null,M=_e,P=!1}we=void 0}}finally{we?Te():ue=!1}}}var Te;if(typeof J=="function")Te=function(){J(ve)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,xe=Me.port2;Me.port1.onmessage=ve,Te=function(){xe.postMessage(null)}}else Te=function(){q(ve,0)};function Se(he,we){oe=q(function(){he(e.unstable_now())},we)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(he){he.callback=null},e.unstable_forceFrameRate=function(he){0>he||125<he?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<he?Math.floor(1e3/he):5},e.unstable_getCurrentPriorityLevel=function(){return M},e.unstable_next=function(he){switch(M){case 1:case 2:case 3:var we=3;break;default:we=M}var _e=M;M=we;try{return he()}finally{M=_e}},e.unstable_requestPaint=function(){z=!0},e.unstable_runWithPriority=function(he,we){switch(he){case 1:case 2:case 3:case 4:case 5:break;default:he=3}var _e=M;M=he;try{return we()}finally{M=_e}},e.unstable_scheduleCallback=function(he,we,_e){var Be=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Be+_e:Be):_e=Be,he){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=_e+He,he={id:_++,callback:we,priorityLevel:he,startTime:_e,expirationTime:He,sortIndex:-1},_e>Be?(he.sortIndex=_e,t(b,he),n(m)===null&&he===n(b)&&(G?(Y(oe),oe=-1):G=!0,Se(ie,_e-Be))):(he.sortIndex=He,t(m,he),j||P||(j=!0,ue||(ue=!0,Te()))),he},e.unstable_shouldYield=pe,e.unstable_wrapCallback=function(he){var we=M;return function(){var _e=M;M=we;try{return he.apply(this,arguments)}finally{M=_e}}}})(iR)),iR}var YB;function Ore(){return YB||(YB=1,aR.exports=Mre()),aR.exports}var oR={exports:{}},ld={};var WB;function Dre(){if(WB)return ld;WB=1;var e=aw();function t(m){var b="https://react.dev/errors/"+m;if(1<arguments.length){b+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)b+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,b,_){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:w==null?null:""+w,children:m,containerInfo:b,implementation:_}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function i(m,b){if(m==="font")return"";if(typeof b=="string")return b==="use-credentials"?b:""}return ld.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ld.createPortal=function(m,b){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b||b.nodeType!==1&&b.nodeType!==9&&b.nodeType!==11)throw Error(t(299));return l(m,b,null,_)},ld.flushSync=function(m){var b=u.T,_=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=b,r.p=_,r.d.f()}},ld.preconnect=function(m,b){typeof m=="string"&&(b?(b=b.crossOrigin,b=typeof b=="string"?b==="use-credentials"?b:"":void 0):b=null,r.d.C(m,b))},ld.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ld.preinit=function(m,b){if(typeof m=="string"&&b&&typeof b.as=="string"){var _=b.as,w=i(_,b.crossOrigin),M=typeof b.integrity=="string"?b.integrity:void 0,P=typeof b.fetchPriority=="string"?b.fetchPriority:void 0;_==="style"?r.d.S(m,typeof b.precedence=="string"?b.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:P}):_==="script"&&r.d.X(m,{crossOrigin:w,integrity:M,fetchPriority:P,nonce:typeof b.nonce=="string"?b.nonce:void 0})}},ld.preinitModule=function(m,b){if(typeof m=="string")if(typeof b=="object"&&b!==null){if(b.as==null||b.as==="script"){var _=i(b.as,b.crossOrigin);r.d.M(m,{crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0})}}else b==null&&r.d.M(m)},ld.preload=function(m,b){if(typeof m=="string"&&typeof b=="object"&&b!==null&&typeof b.as=="string"){var _=b.as,w=i(_,b.crossOrigin);r.d.L(m,_,{crossOrigin:w,integrity:typeof b.integrity=="string"?b.integrity:void 0,nonce:typeof b.nonce=="string"?b.nonce:void 0,type:typeof b.type=="string"?b.type:void 0,fetchPriority:typeof b.fetchPriority=="string"?b.fetchPriority:void 0,referrerPolicy:typeof b.referrerPolicy=="string"?b.referrerPolicy:void 0,imageSrcSet:typeof b.imageSrcSet=="string"?b.imageSrcSet:void 0,imageSizes:typeof b.imageSizes=="string"?b.imageSizes:void 0,media:typeof b.media=="string"?b.media:void 0})}},ld.preloadModule=function(m,b){if(typeof m=="string")if(b){var _=i(b.as,b.crossOrigin);r.d.m(m,{as:typeof b.as=="string"&&b.as!=="script"?b.as:void 0,crossOrigin:_,integrity:typeof b.integrity=="string"?b.integrity:void 0})}else r.d.m(m)},ld.requestFormReset=function(m){r.d.r(m)},ld.unstable_batchedUpdates=function(m,b){return m(b)},ld.useFormState=function(m,b,_){return u.H.useFormState(m,b,_)},ld.useFormStatus=function(){return u.H.useHostTransitionStatus()},ld.version="19.2.3",ld}var ZB;function gH(){if(ZB)return oR.exports;ZB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oR.exports=Dre(),oR.exports}var XB;function Lre(){if(XB)return r2;XB=1;var e=Ore(),t=aw(),n=gH();function r(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function l(f){var g=f,T=f;if(f.alternate)for(;g.return;)g=g.return;else{f=g;do g=f,(g.flags&4098)!==0&&(T=g.return),f=g.return;while(f)}return g.tag===3?T:null}function u(f){if(f.tag===13){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function i(f){if(f.tag===31){var g=f.memoizedState;if(g===null&&(f=f.alternate,f!==null&&(g=f.memoizedState)),g!==null)return g.dehydrated}return null}function m(f){if(l(f)!==f)throw Error(r(188))}function b(f){var g=f.alternate;if(!g){if(g=l(f),g===null)throw Error(r(188));return g!==f?null:f}for(var T=f,D=g;;){var Z=T.return;if(Z===null)break;var re=Z.alternate;if(re===null){if(D=Z.return,D!==null){T=D;continue}break}if(Z.child===re.child){for(re=Z.child;re;){if(re===T)return m(Z),f;if(re===D)return m(Z),g;re=re.sibling}throw Error(r(188))}if(T.return!==D.return)T=Z,D=re;else{for(var Ne=!1,et=Z.child;et;){if(et===T){Ne=!0,T=Z,D=re;break}if(et===D){Ne=!0,D=Z,T=re;break}et=et.sibling}if(!Ne){for(et=re.child;et;){if(et===T){Ne=!0,T=re,D=Z;break}if(et===D){Ne=!0,D=re,T=Z;break}et=et.sibling}if(!Ne)throw Error(r(189))}}if(T.alternate!==D)throw Error(r(190))}if(T.tag!==3)throw Error(r(188));return T.stateNode.current===T?f:g}function _(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f;for(f=f.child;f!==null;){if(g=_(f),g!==null)return g;f=f.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function Te(f){return f===null||typeof f!="object"?null:(f=ve&&f[ve]||f["@@iterator"],typeof f=="function"?f:null)}var Me=Symbol.for("react.client.reference");function xe(f){if(f==null)return null;if(typeof f=="function")return f.$$typeof===Me?null:f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case G:return"Fragment";case q:return"Profiler";case z:return"StrictMode";case ie:return"Suspense";case ue:return"SuspenseList";case se:return"Activity"}if(typeof f=="object")switch(f.$$typeof){case j:return"Portal";case J:return f.displayName||"Context";case Y:return(f._context.displayName||"Context")+".Consumer";case ne:var g=f.render;return f=f.displayName,f||(f=g.displayName||g.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case oe:return g=f.displayName||null,g!==null?g:xe(f.type)||"Memo";case K:g=f._payload,f=f._init;try{return xe(f(g))}catch{}}return null}var Se=Array.isArray,he=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Be=[],He=-1;function Re(f){return{current:f}}function je(f){0>He||(f.current=Be[He],Be[He]=null,He--)}function Ze(f,g){He++,Be[He]=f.current,f.current=g}var Qe=Re(null),Pe=Re(null),St=Re(null),Nt=Re(null);function We(f,g){switch(Ze(St,g),Ze(Pe,f),Ze(Qe,null),g.nodeType){case 9:case 11:f=(f=g.documentElement)&&(f=f.namespaceURI)?bp(f):0;break;default:if(f=g.tagName,g=g.namespaceURI)g=bp(g),f=Bl(g,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}je(Qe),Ze(Qe,f)}function en(){je(Qe),je(Pe),je(St)}function zt(f){f.memoizedState!==null&&Ze(Nt,f);var g=Qe.current,T=Bl(g,f.type);g!==T&&(Ze(Pe,f),Ze(Qe,T))}function rn(f){Pe.current===f&&(je(Qe),je(Pe)),Nt.current===f&&(je(Nt),ty._currentValue=_e)}var Ge,kn;function _n(f){if(Ge===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);Ge=g&&g[1]||"",kn=-1<T.stack.indexOf(`
    at`)?" (<anonymous>)":-1<T.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ge+f+kn}var Lt=!1;function pn(f,g){if(!f||Lt)return"";Lt=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var D={DetermineComponentFrameRoot:function(){try{if(g){var $n=function(){throw Error()};if(Object.defineProperty($n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($n,[])}catch(vn){var fn=vn}Reflect.construct(f,[],$n)}else{try{$n.call()}catch(vn){fn=vn}f.call($n.prototype)}}else{try{throw Error()}catch(vn){fn=vn}($n=f())&&typeof $n.catch=="function"&&$n.catch(function(){})}}catch(vn){if(vn&&fn&&typeof vn.stack=="string")return[vn.stack,fn.stack]}return[null,null]}};D.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var Z=Object.getOwnPropertyDescriptor(D.DetermineComponentFrameRoot,"name");Z&&Z.configurable&&Object.defineProperty(D.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var re=D.DetermineComponentFrameRoot(),Ne=re[0],et=re[1];if(Ne&&et){var Dt=Ne.split(`
`),dn=et.split(`
`);for(Z=D=0;D<Dt.length&&!Dt[D].includes("DetermineComponentFrameRoot");)D++;for(;Z<dn.length&&!dn[Z].includes("DetermineComponentFrameRoot");)Z++;if(D===Dt.length||Z===dn.length)for(D=Dt.length-1,Z=dn.length-1;1<=D&&0<=Z&&Dt[D]!==dn[Z];)Z--;for(;1<=D&&0<=Z;D--,Z--)if(Dt[D]!==dn[Z]){if(D!==1||Z!==1)do if(D--,Z--,0>Z||Dt[D]!==dn[Z]){var In=`
`+Dt[D].replace(" at new "," at ");return f.displayName&&In.includes("<anonymous>")&&(In=In.replace("<anonymous>",f.displayName)),In}while(1<=D&&0<=Z);break}}}finally{Lt=!1,Error.prepareStackTrace=T}return(T=f?f.displayName||f.name:"")?_n(T):""}function Tn(f,g){switch(f.tag){case 26:case 27:case 5:return _n(f.type);case 16:return _n("Lazy");case 13:return f.child!==g&&g!==null?_n("Suspense Fallback"):_n("Suspense");case 19:return _n("SuspenseList");case 0:case 15:return pn(f.type,!1);case 11:return pn(f.type.render,!1);case 1:return pn(f.type,!0);case 31:return _n("Activity");default:return""}}function tr(f){try{var g="",T=null;do g+=Tn(f,T),T=f,f=f.return;while(f);return g}catch(D){return`
Error generating stack: `+D.message+`
`+D.stack}}var Vt=Object.prototype.hasOwnProperty,lr=e.unstable_scheduleCallback,sr=e.unstable_cancelCallback,xn=e.unstable_shouldYield,En=e.unstable_requestPaint,hn=e.unstable_now,jn=e.unstable_getCurrentPriorityLevel,_t=e.unstable_ImmediatePriority,Oe=e.unstable_UserBlockingPriority,ke=e.unstable_NormalPriority,qe=e.unstable_LowPriority,ut=e.unstable_IdlePriority,dt=e.log,Ut=e.unstable_setDisableYieldValue,Bt=null,xt=null;function Ct(f){if(typeof dt=="function"&&Ut(f),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Bt,f)}catch{}}var sn=Math.clz32?Math.clz32:gn,mn=Math.log,Vn=Math.LN2;function gn(f){return f>>>=0,f===0?32:31-(mn(f)/Vn|0)|0}var qn=256,Xn=262144,Qn=4194304;function Pt(f){var g=f&42;if(g!==0)return g;switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return f&261888;case 262144:case 524288:case 1048576:case 2097152:return f&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return f&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return f}}function wn(f,g,T){var D=f.pendingLanes;if(D===0)return 0;var Z=0,re=f.suspendedLanes,Ne=f.pingedLanes;f=f.warmLanes;var et=D&134217727;return et!==0?(D=et&~re,D!==0?Z=Pt(D):(Ne&=et,Ne!==0?Z=Pt(Ne):T||(T=et&~f,T!==0&&(Z=Pt(T))))):(et=D&~re,et!==0?Z=Pt(et):Ne!==0?Z=Pt(Ne):T||(T=D&~f,T!==0&&(Z=Pt(T)))),Z===0?0:g!==0&&g!==Z&&(g&re)===0&&(re=Z&-Z,T=g&-g,re>=T||re===32&&(T&4194048)!==0)?g:Z}function Mr(f,g){return(f.pendingLanes&~(f.suspendedLanes&~f.pingedLanes)&g)===0}function Mn(f,g){switch(f){case 1:case 2:case 4:case 8:case 64:return g+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(){var f=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),f}function Wr(f){for(var g=[],T=0;31>T;T++)g.push(f);return g}function Tr(f,g){f.pendingLanes|=g,g!==268435456&&(f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0)}function Ir(f,g,T,D,Z,re){var Ne=f.pendingLanes;f.pendingLanes=T,f.suspendedLanes=0,f.pingedLanes=0,f.warmLanes=0,f.expiredLanes&=T,f.entangledLanes&=T,f.errorRecoveryDisabledLanes&=T,f.shellSuspendCounter=0;var et=f.entanglements,Dt=f.expirationTimes,dn=f.hiddenUpdates;for(T=Ne&~T;0<T;){var In=31-sn(T),$n=1<<In;et[In]=0,Dt[In]=-1;var fn=dn[In];if(fn!==null)for(dn[In]=null,In=0;In<fn.length;In++){var vn=fn[In];vn!==null&&(vn.lane&=-536870913)}T&=~$n}D!==0&&Xr(f,D,0),re!==0&&Z===0&&f.tag!==0&&(f.suspendedLanes|=re&~(Ne&~g))}function Xr(f,g,T){f.pendingLanes|=g,f.suspendedLanes&=~g;var D=31-sn(g);f.entangledLanes|=g,f.entanglements[D]=f.entanglements[D]|1073741824|T&261930}function yt(f,g){var T=f.entangledLanes|=g;for(f=f.entanglements;T;){var D=31-sn(T),Z=1<<D;Z&g|f[D]&g&&(f[D]|=g),T&=~Z}}function Ft(f,g){var T=g&-g;return T=(T&42)!==0?1:Yt(T),(T&(f.suspendedLanes|g))!==0?0:T}function Yt(f){switch(f){case 2:f=1;break;case 8:f=4;break;case 32:f=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:f=128;break;case 268435456:f=134217728;break;default:f=0}return f}function Ot(f){return f&=-f,2<f?8<f?(f&134217727)!==0?32:268435456:8:2}function Pn(){var f=we.p;return f!==0?f:(f=window.event,f===void 0?32:Rx(f.type))}function nr(f,g){var T=we.p;try{return we.p=f,g()}finally{we.p=T}}var fr=Math.random().toString(36).slice(2),Jn="__reactFiber$"+fr,qt="__reactProps$"+fr,Gn="__reactContainer$"+fr,zn="__reactEvents$"+fr,hr="__reactListeners$"+fr,ra="__reactHandles$"+fr,ua="__reactResources$"+fr,ft="__reactMarker$"+fr;function Ke(f){delete f[Jn],delete f[qt],delete f[zn],delete f[hr],delete f[ra]}function mt(f){var g=f[Jn];if(g)return g;for(var T=f.parentNode;T;){if(g=T[Gn]||T[Jn]){if(T=g.alternate,g.child!==null||T!==null&&T.child!==null)for(f=wm(f);f!==null;){if(T=f[Jn])return T;f=wm(f)}return g}f=T,T=f.parentNode}return null}function Xt(f){if(f=f[Jn]||f[Gn]){var g=f.tag;if(g===5||g===6||g===13||g===31||g===26||g===27||g===3)return f}return null}function Cn(f){var g=f.tag;if(g===5||g===26||g===27||g===6)return f.stateNode;throw Error(r(33))}function Yn(f){var g=f[ua];return g||(g=f[ua]={hoistableStyles:new Map,hoistableScripts:new Map}),g}function Wn(f){f[ft]=!0}var br=new Set,Br={};function _r(f,g){Nr(f,g),Nr(f+"Capture",g)}function Nr(f,g){for(Br[f]=g,f=0;f<g.length;f++)br.add(g[f])}var Ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wa={},Or={};function Kr(f){return Vt.call(Or,f)?!0:Vt.call(Wa,f)?!1:Ur.test(f)?Or[f]=!0:(Wa[f]=!0,!1)}function za(f,g,T){if(Kr(g))if(T===null)f.removeAttribute(g);else{switch(typeof T){case"undefined":case"function":case"symbol":f.removeAttribute(g);return;case"boolean":var D=g.toLowerCase().slice(0,5);if(D!=="data-"&&D!=="aria-"){f.removeAttribute(g);return}}f.setAttribute(g,""+T)}}function Za(f,g,T){if(T===null)f.removeAttribute(g);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(g);return}f.setAttribute(g,""+T)}}function pa(f,g,T,D){if(D===null)f.removeAttribute(T);else{switch(typeof D){case"undefined":case"function":case"symbol":case"boolean":f.removeAttribute(T);return}f.setAttributeNS(g,T,""+D)}}function aa(f){switch(typeof f){case"bigint":case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function Ol(f){var g=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function $c(f,g,T){var D=Object.getOwnPropertyDescriptor(f.constructor.prototype,g);if(!f.hasOwnProperty(g)&&typeof D<"u"&&typeof D.get=="function"&&typeof D.set=="function"){var Z=D.get,re=D.set;return Object.defineProperty(f,g,{configurable:!0,get:function(){return Z.call(this)},set:function(Ne){T=""+Ne,re.call(this,Ne)}}),Object.defineProperty(f,g,{enumerable:D.enumerable}),{getValue:function(){return T},setValue:function(Ne){T=""+Ne},stopTracking:function(){f._valueTracker=null,delete f[g]}}}}function yl(f){if(!f._valueTracker){var g=Ol(f)?"checked":"value";f._valueTracker=$c(f,g,""+f[g])}}function hs(f){if(!f)return!1;var g=f._valueTracker;if(!g)return!0;var T=g.getValue(),D="";return f&&(D=Ol(f)?f.checked?"true":"false":f.value),f=D,f!==T?(g.setValue(f),!0):!1}function va(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}var Ua=/[\n"\\]/g;function wi(f){return f.replace(Ua,function(g){return"\\"+g.charCodeAt(0).toString(16)+" "})}function Zs(f,g,T,D,Z,re,Ne,et){f.name="",Ne!=null&&typeof Ne!="function"&&typeof Ne!="symbol"&&typeof Ne!="boolean"?f.type=Ne:f.removeAttribute("type"),g!=null?Ne==="number"?(g===0&&f.value===""||f.value!=g)&&(f.value=""+aa(g)):f.value!==""+aa(g)&&(f.value=""+aa(g)):Ne!=="submit"&&Ne!=="reset"||f.removeAttribute("value"),g!=null?bo(f,Ne,aa(g)):T!=null?bo(f,Ne,aa(T)):D!=null&&f.removeAttribute("value"),Z==null&&re!=null&&(f.defaultChecked=!!re),Z!=null&&(f.checked=Z&&typeof Z!="function"&&typeof Z!="symbol"),et!=null&&typeof et!="function"&&typeof et!="symbol"&&typeof et!="boolean"?f.name=""+aa(et):f.removeAttribute("name")}function Kl(f,g,T,D,Z,re,Ne,et){if(re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(f.type=re),g!=null||T!=null){if(!(re!=="submit"&&re!=="reset"||g!=null)){yl(f);return}T=T!=null?""+aa(T):"",g=g!=null?""+aa(g):T,et||g===f.value||(f.value=g),f.defaultValue=g}D=D??Z,D=typeof D!="function"&&typeof D!="symbol"&&!!D,f.checked=et?f.checked:!!D,f.defaultChecked=!!D,Ne!=null&&typeof Ne!="function"&&typeof Ne!="symbol"&&typeof Ne!="boolean"&&(f.name=Ne),yl(f)}function bo(f,g,T){g==="number"&&va(f.ownerDocument)===f||f.defaultValue===""+T||(f.defaultValue=""+T)}function _o(f,g,T,D){if(f=f.options,g){g={};for(var Z=0;Z<T.length;Z++)g["$"+T[Z]]=!0;for(T=0;T<f.length;T++)Z=g.hasOwnProperty("$"+f[T].value),f[T].selected!==Z&&(f[T].selected=Z),Z&&D&&(f[T].defaultSelected=!0)}else{for(T=""+aa(T),g=null,Z=0;Z<f.length;Z++){if(f[Z].value===T){f[Z].selected=!0,D&&(f[Z].defaultSelected=!0);return}g!==null||f[Z].disabled||(g=f[Z])}g!==null&&(g.selected=!0)}}function Xs(f,g,T){if(g!=null&&(g=""+aa(g),g!==f.value&&(f.value=g),T==null)){f.defaultValue!==g&&(f.defaultValue=g);return}f.defaultValue=T!=null?""+aa(T):""}function Lo(f,g,T,D){if(g==null){if(D!=null){if(T!=null)throw Error(r(92));if(Se(D)){if(1<D.length)throw Error(r(93));D=D[0]}T=D}T==null&&(T=""),g=T}T=aa(g),f.defaultValue=T,D=f.textContent,D===T&&D!==""&&D!==null&&(f.value=D),yl(f)}function co(f,g){if(g){var T=f.firstChild;if(T&&T===f.lastChild&&T.nodeType===3){T.nodeValue=g;return}}f.textContent=g}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(f,g,T){var D=g.indexOf("--")===0;T==null||typeof T=="boolean"||T===""?D?f.setProperty(g,""):g==="float"?f.cssFloat="":f[g]="":D?f.setProperty(g,T):typeof T!="number"||T===0||_u.has(g)?g==="float"?f.cssFloat=T:f[g]=(""+T).trim():f[g]=T+"px"}function wd(f,g,T){if(g!=null&&typeof g!="object")throw Error(r(62));if(f=f.style,T!=null){for(var D in T)!T.hasOwnProperty(D)||g!=null&&g.hasOwnProperty(D)||(D.indexOf("--")===0?f.setProperty(D,""):D==="float"?f.cssFloat="":f[D]="");for(var Z in g)D=g[Z],g.hasOwnProperty(Z)&&T[Z]!==D&&Po(f,Z,D)}else for(var re in g)g.hasOwnProperty(re)&&Po(f,re,g[re])}function Is(f){if(f.indexOf("-")===-1)return!1;switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aa=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jr(f){return Fo.test(""+f)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":f}function ps(){}var xo=null;function Qi(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var ji=null,Ji=null;function Si(f){var g=Xt(f);if(g&&(f=g.stateNode)){var T=f[qt]||null;e:switch(f=g.stateNode,g.type){case"input":if(Zs(f,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name),g=T.name,T.type==="radio"&&g!=null){for(T=f;T.parentNode;)T=T.parentNode;for(T=T.querySelectorAll('input[name="'+wi(""+g)+'"][type="radio"]'),g=0;g<T.length;g++){var D=T[g];if(D!==f&&D.form===f.form){var Z=D[qt]||null;if(!Z)throw Error(r(90));Zs(D,Z.value,Z.defaultValue,Z.defaultValue,Z.checked,Z.defaultChecked,Z.type,Z.name)}}for(g=0;g<T.length;g++)D=T[g],D.form===f.form&&hs(D)}break e;case"textarea":Xs(f,T.value,T.defaultValue);break e;case"select":g=T.value,g!=null&&_o(f,!!T.multiple,g,!1)}}}var Vr=!1;function Va(f,g,T){if(Vr)return f(g,T);Vr=!0;try{var D=f(g);return D}finally{if(Vr=!1,(ji!==null||Ji!==null)&&(d0(),ji&&(g=ji,f=Ji,Ji=ji=null,Si(g),f)))for(g=0;g<f.length;g++)Si(f[g])}}function Ks(f,g){var T=f.stateNode;if(T===null)return null;var D=T[qt]||null;if(D===null)return null;T=D[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(D=!D.disabled)||(f=f.type,D=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!D;break e;default:f=!1}if(f)return null;if(T&&typeof T!="function")throw Error(r(231,g,typeof T));return T}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Oi)try{var li={};Object.defineProperty(li,"passive",{get:function(){da=!0}}),window.addEventListener("test",li,li),window.removeEventListener("test",li,li)}catch{da=!1}var Ns=null,Ql=null,Qr=null;function Pa(){if(Qr)return Qr;var f,g=Ql,T=g.length,D,Z="value"in Ns?Ns.value:Ns.textContent,re=Z.length;for(f=0;f<T&&g[f]===Z[f];f++);var Ne=T-f;for(D=1;D<=Ne&&g[T-D]===Z[re-D];D++);return Qr=Z.slice(f,1<D?1-D:void 0)}function gi(f){var g=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&g===13&&(f=13)):f=g,f===10&&(f=13),32<=f||f===13?f:0}function jc(){return!0}function rs(){return!1}function eo(f){function g(T,D,Z,re,Ne){this._reactName=T,this._targetInst=Z,this.type=D,this.nativeEvent=re,this.target=Ne,this.currentTarget=null;for(var et in f)f.hasOwnProperty(et)&&(T=f[et],this[et]=T?T(re):re[et]);return this.isDefaultPrevented=(re.defaultPrevented!=null?re.defaultPrevented:re.returnValue===!1)?jc:rs,this.isPropagationStopped=rs,this}return w(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var T=this.nativeEvent;T&&(T.preventDefault?T.preventDefault():typeof T.returnValue!="unknown"&&(T.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var T=this.nativeEvent;T&&(T.stopPropagation?T.stopPropagation():typeof T.cancelBubble!="unknown"&&(T.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),g}var ms={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=eo(ms),rc=w({},ms,{view:0,detail:0}),Rs=eo(rc),ia,xu,Gr,Zr=w({},rc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Eo,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==Gr&&(Gr&&f.type==="mousemove"?(ia=f.screenX-Gr.screenX,xu=f.screenY-Gr.screenY):xu=ia=0,Gr=f),ia)},movementY:function(f){return"movementY"in f?f.movementY:xu}}),ac=eo(Zr),ea=w({},Zr,{dataTransfer:0}),Sd=eo(ea),Bo=w({},rc,{relatedTarget:0}),ic=eo(Bo),$o=w({},ms,{animationName:0,elapsedTime:0,pseudoElement:0}),Zh=eo($o),sf=w({},ms,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),Ms=eo(sf),Hy=w({},ms,{data:0}),Qs=eo(Hy),Os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gs(f){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(f):(f=qa[f])?!!g[f]:!1}function Eo(){return gs}var ui=w({},rc,{key:function(f){if(f.key){var g=Os[f.key]||f.key;if(g!=="Unidentified")return g}return f.type==="keypress"?(f=gi(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Jl[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Eo,charCode:function(f){return f.type==="keypress"?gi(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?gi(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),Xa=eo(ui),Xh=w({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lf=eo(Xh),Jf=w({},rc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Eo}),tm=eo(Jf),Td=w({},ms,{propertyName:0,elapsedTime:0,pseudoElement:0}),Js=eo(Td),zc=w({},Zr,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),jo=eo(zc),el=w({},ms,{newState:0,oldState:0}),uf=eo(el),Uc=[9,13,27,32],Di=Oi&&"CompositionEvent"in window,oc=null;Oi&&"documentMode"in document&&(oc=document.documentMode);var Eu=Oi&&"TextEvent"in window&&!oc,Cd=Oi&&(!Di||oc&&8<oc&&11>=oc),Gc=" ",Kh=!1;function Ad(f,g){switch(f){case"keyup":return Uc.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var Dl=!1;function ys(f,g){switch(f){case"compositionend":return bg(g);case"keypress":return g.which!==32?null:(Kh=!0,Gc);case"textInput":return f=g.data,f===Gc&&Kh?null:f;default:return null}}function Qh(f,g){if(Dl)return f==="compositionend"||!Di&&Ad(f,g)?(f=Pa(),Qr=Ql=Ns=null,Dl=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return Cd&&g.locale!=="ko"?null:g.data;default:return null}}var kd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eh(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g==="input"?!!kd[f.type]:g==="textarea"}function cf(f,g,T,D){ji?Ji?Ji.push(D):Ji=[D]:ji=D,g=Yg(g,"onChange"),0<g.length&&(T=new Qf("onChange","change",null,T,D),f.push({event:T,listeners:g}))}var Id=null,df=null;function _g(f){bx(f,0)}function th(f){var g=Cn(f);if(hs(g))return f}function Hc(f,g){if(f==="change")return g}var Vc=!1;if(Oi){var nh;if(Oi){var sc="oninput"in document;if(!sc){var ff=document.createElement("div");ff.setAttribute("oninput","return;"),sc=typeof ff.oninput=="function"}nh=sc}else nh=!1;Vc=nh&&(!document.documentMode||9<document.documentMode)}function Nd(){Id&&(Id.detachEvent("onpropertychange",lc),df=Id=null)}function lc(f){if(f.propertyName==="value"&&th(df)){var g=[];cf(g,df,f,Qi(f)),Va(_g,g)}}function rh(f,g,T){f==="focusin"?(Nd(),Id=g,df=T,Id.attachEvent("onpropertychange",lc)):f==="focusout"&&Nd()}function Jh(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return th(df)}function ah(f,g){if(f==="click")return th(g)}function nm(f,g){if(f==="input"||f==="change")return th(g)}function uc(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var Li=typeof Object.is=="function"?Object.is:uc;function cc(f,g){if(Li(f,g))return!0;if(typeof f!="object"||f===null||typeof g!="object"||g===null)return!1;var T=Object.keys(f),D=Object.keys(g);if(T.length!==D.length)return!1;for(D=0;D<T.length;D++){var Z=T[D];if(!Vt.call(g,Z)||!Li(f[Z],g[Z]))return!1}return!0}function as(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function ih(f,g){var T=as(f);f=0;for(var D;T;){if(T.nodeType===3){if(D=f+T.textContent.length,f<=g&&D>=g)return{node:T,offset:g-f};f=D}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=as(T)}}function oh(f,g){return f&&g?f===g?!0:f&&f.nodeType===3?!1:g&&g.nodeType===3?oh(f,g.parentNode):"contains"in f?f.contains(g):f.compareDocumentPosition?!!(f.compareDocumentPosition(g)&16):!1:!1}function Ds(f){f=f!=null&&f.ownerDocument!=null&&f.ownerDocument.defaultView!=null?f.ownerDocument.defaultView:window;for(var g=va(f.document);g instanceof f.HTMLIFrameElement;){try{var T=typeof g.contentWindow.location.href=="string"}catch{T=!1}if(T)f=g.contentWindow;else break;g=va(f.document)}return g}function tl(f){var g=f&&f.nodeName&&f.nodeName.toLowerCase();return g&&(g==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||g==="textarea"||f.contentEditable==="true")}var R=Oi&&"documentMode"in document&&11>=document.documentMode,p=null,v=null,A=null,H=!1;function te(f,g,T){var D=T.window===T?T.document:T.nodeType===9?T:T.ownerDocument;H||p==null||p!==va(D)||(D=p,"selectionStart"in D&&tl(D)?D={start:D.selectionStart,end:D.selectionEnd}:(D=(D.ownerDocument&&D.ownerDocument.defaultView||window).getSelection(),D={anchorNode:D.anchorNode,anchorOffset:D.anchorOffset,focusNode:D.focusNode,focusOffset:D.focusOffset}),A&&cc(A,D)||(A=D,D=Yg(v,"onSelect"),0<D.length&&(g=new Qf("onSelect","select",null,g,T),f.push({event:g,listeners:D}),g.target=p)))}function me(f,g){var T={};return T[f.toLowerCase()]=g.toLowerCase(),T["Webkit"+f]="webkit"+g,T["Moz"+f]="moz"+g,T}var Ie={animationend:me("Animation","AnimationEnd"),animationiteration:me("Animation","AnimationIteration"),animationstart:me("Animation","AnimationStart"),transitionrun:me("Transition","TransitionRun"),transitionstart:me("Transition","TransitionStart"),transitioncancel:me("Transition","TransitionCancel"),transitionend:me("Transition","TransitionEnd")},Ue={},ot={};Oi&&(ot=document.createElement("div").style,"AnimationEvent"in window||(delete Ie.animationend.animation,delete Ie.animationiteration.animation,delete Ie.animationstart.animation),"TransitionEvent"in window||delete Ie.transitionend.transition);function Ht(f){if(Ue[f])return Ue[f];if(!Ie[f])return f;var g=Ie[f],T;for(T in g)if(g.hasOwnProperty(T)&&T in ot)return Ue[f]=g[T];return f}var Wt=Ht("animationend"),Fn=Ht("animationiteration"),pr=Ht("animationstart"),xr=Ht("transitionrun"),Dr=Ht("transitionstart"),ga=Ht("transitioncancel"),yr=Ht("transitionend"),oi=new Map,to="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");to.push("scrollEnd");function Ka(f,g){oi.set(f,g),_r(g,[f])}var vs=typeof reportError=="function"?reportError:function(f){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var g=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof f=="object"&&f!==null&&typeof f.message=="string"?String(f.message):String(f),error:f});if(!window.dispatchEvent(g))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",f);return}console.error(f)},wo=[],wu=0,eu=0;function Ls(){for(var f=wu,g=eu=wu=0;g<f;){var T=wo[g];wo[g++]=null;var D=wo[g];wo[g++]=null;var Z=wo[g];wo[g++]=null;var re=wo[g];if(wo[g++]=null,D!==null&&Z!==null){var Ne=D.pending;Ne===null?Z.next=Z:(Z.next=Ne.next,Ne.next=Z),D.pending=Z}re!==0&&hf(T,Z,re)}}function dc(f,g,T,D){wo[wu++]=f,wo[wu++]=g,wo[wu++]=T,wo[wu++]=D,eu|=D,f.lanes|=D,f=f.alternate,f!==null&&(f.lanes|=D)}function Su(f,g,T,D){return dc(f,g,T,D),fc(f)}function bs(f,g){return dc(f,null,null,g),fc(f)}function hf(f,g,T){f.lanes|=T;var D=f.alternate;D!==null&&(D.lanes|=T);for(var Z=!1,re=f.return;re!==null;)re.childLanes|=T,D=re.alternate,D!==null&&(D.childLanes|=T),re.tag===22&&(f=re.stateNode,f===null||f._visibility&1||(Z=!0)),f=re,re=re.return;return f.tag===3?(re=f.stateNode,Z&&g!==null&&(Z=31-sn(T),f=re.hiddenUpdates,D=f[Z],D===null?f[Z]=[g]:D.push(g),g.lane=T|536870912),re):null}function fc(f){if(50<c0)throw c0=0,w_=null,Error(r(185));for(var g=f.return;g!==null;)f=g,g=f.return;return f.tag===3?f.stateNode:null}var ca={};function rm(f,g,T,D){this.tag=f,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(f,g,T,D){return new rm(f,g,T,D)}function qc(f){return f=f.prototype,!(!f||!f.isReactComponent)}function nl(f,g){var T=f.alternate;return T===null?(T=Ps(f.tag,g,f.key,f.mode),T.elementType=f.elementType,T.type=f.type,T.stateNode=f.stateNode,T.alternate=f,f.alternate=T):(T.pendingProps=g,T.type=f.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=f.flags&65011712,T.childLanes=f.childLanes,T.lanes=f.lanes,T.child=f.child,T.memoizedProps=f.memoizedProps,T.memoizedState=f.memoizedState,T.updateQueue=f.updateQueue,g=f.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=f.sibling,T.index=f.index,T.ref=f.ref,T.refCleanup=f.refCleanup,T}function yv(f,g){f.flags&=65011714;var T=f.alternate;return T===null?(f.childLanes=0,f.lanes=g,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=T.childLanes,f.lanes=T.lanes,f.child=T.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=T.memoizedProps,f.memoizedState=T.memoizedState,f.updateQueue=T.updateQueue,f.type=T.type,g=T.dependencies,f.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext}),f}function xg(f,g,T,D,Z,re){var Ne=0;if(D=f,typeof f=="function")qc(f)&&(Ne=1);else if(typeof f=="string")Ne=j_(f,T,Qe.current)?26:f==="html"||f==="head"||f==="body"?27:5;else e:switch(f){case se:return f=Ps(31,T,g,Z),f.elementType=se,f.lanes=re,f;case G:return pf(T.children,Z,re,g);case z:Ne=8,Z|=24;break;case q:return f=Ps(12,T,g,Z|2),f.elementType=q,f.lanes=re,f;case ie:return f=Ps(13,T,g,Z),f.elementType=ie,f.lanes=re,f;case ue:return f=Ps(19,T,g,Z),f.elementType=ue,f.lanes=re,f;default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case J:Ne=10;break e;case Y:Ne=9;break e;case ne:Ne=11;break e;case oe:Ne=14;break e;case K:Ne=16,D=null;break e}Ne=29,T=Error(r(130,f===null?"null":typeof f,"")),D=null}return g=Ps(Ne,T,g,Z),g.elementType=f,g.type=D,g.lanes=re,g}function pf(f,g,T,D){return f=Ps(7,f,D,g),f.lanes=T,f}function ep(f,g,T){return f=Ps(6,f,null,g),f.lanes=T,f}function sh(f){var g=Ps(18,null,null,0);return g.stateNode=f,g}function Yc(f,g,T){return g=Ps(4,f.children!==null?f.children:[],f.key,g),g.lanes=T,g.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},g}var am=new WeakMap;function rl(f,g){if(typeof f=="object"&&f!==null){var T=am.get(f);return T!==void 0?T:(g={value:f,source:g,stack:tr(g)},am.set(f,g),g)}return{value:f,source:g,stack:tr(g)}}var mf=[],gf=0,zi=null,no=0,_s=[],xs=0,hc=null,Wc=1,al="";function tu(f,g){mf[gf++]=no,mf[gf++]=zi,zi=f,no=g}function im(f,g,T){_s[xs++]=Wc,_s[xs++]=al,_s[xs++]=hc,hc=f;var D=Wc;f=al;var Z=32-sn(D)-1;D&=~(1<<Z),T+=1;var re=32-sn(g)+Z;if(30<re){var Ne=Z-Z%5;re=(D&(1<<Ne)-1).toString(32),D>>=Ne,Z-=Ne,Wc=1<<32-sn(g)+Z|T<<Z|D,al=re+f}else Wc=1<<re|T<<Z|D,al=f}function Tu(f){f.return!==null&&(tu(f,1),im(f,1,0))}function Zc(f){for(;f===zi;)zi=mf[--gf],mf[gf]=null,no=mf[--gf],mf[gf]=null;for(;f===hc;)hc=_s[--xs],_s[xs]=null,al=_s[--xs],_s[xs]=null,Wc=_s[--xs],_s[xs]=null}function lh(f,g){_s[xs++]=Wc,_s[xs++]=al,_s[xs++]=hc,Wc=g.id,al=g.overflow,hc=f}var So=null,Ya=null,ka=!1,Rd=null,nu=!1,qi=Error(r(519));function Ll(f){var g=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Cu(rl(g,f)),qi}function il(f){var g=f.stateNode,T=f.type,D=f.memoizedProps;switch(g[Jn]=f,g[qt]=D,T){case"dialog":Ga("cancel",g),Ga("close",g);break;case"iframe":case"object":case"embed":Ga("load",g);break;case"video":case"audio":for(T=0;T<y0.length;T++)Ga(y0[T],g);break;case"source":Ga("error",g);break;case"img":case"image":case"link":Ga("error",g),Ga("load",g);break;case"details":Ga("toggle",g);break;case"input":Ga("invalid",g),Kl(g,D.value,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name,!0);break;case"select":Ga("invalid",g);break;case"textarea":Ga("invalid",g),Lo(g,D.value,D.defaultValue,D.children)}T=D.children,typeof T!="string"&&typeof T!="number"&&typeof T!="bigint"||g.textContent===""+T||D.suppressHydrationWarning===!0||Hv(g.textContent,T)?(D.popover!=null&&(Ga("beforetoggle",g),Ga("toggle",g)),D.onScroll!=null&&Ga("scroll",g),D.onScrollEnd!=null&&Ga("scrollend",g),D.onClick!=null&&(g.onclick=ps),g=!0):g=!1,g||Ll(f,!0)}function Md(f){for(So=f.return;So;)switch(So.tag){case 5:case 31:case 13:nu=!1;return;case 27:case 3:nu=!0;return;default:So=So.return}}function pc(f){if(f!==So)return!1;if(!ka)return Md(f),ka=!0,!1;var g=f.tag,T;if((T=g!==3&&g!==27)&&((T=g===5)&&(T=f.type,T=!(T!=="form"&&T!=="button")||Pf(f.type,f.memoizedProps)),T=!T),T&&Ya&&Ll(f),Md(f),g===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Ya=_p(f)}else if(g===31){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));Ya=_p(f)}else g===27?(g=Ya,Pr(f.type)?(f=Zv,Zv=null,Ya=f):Ya=g):Ya=So?sd(f.stateNode.nextSibling):null;return!0}function Je(){Ya=So=null,ka=!1}function vl(){var f=Rd;return f!==null&&(Bu===null?Bu=f:Bu.push.apply(Bu,f),Rd=null),f}function Cu(f){Rd===null?Rd=[f]:Rd.push(f)}var zo=Re(null),fa=null,Xc=null;function Od(f,g,T){Ze(zo,g._currentValue),g._currentValue=T}function Kc(f){f._currentValue=zo.current,je(zo)}function Qc(f,g,T){for(;f!==null;){var D=f.alternate;if((f.childLanes&g)!==g?(f.childLanes|=g,D!==null&&(D.childLanes|=g)):D!==null&&(D.childLanes&g)!==g&&(D.childLanes|=g),f===T)break;f=f.return}}function Eg(f,g,T,D){var Z=f.child;for(Z!==null&&(Z.return=f);Z!==null;){var re=Z.dependencies;if(re!==null){var Ne=Z.child;re=re.firstContext;e:for(;re!==null;){var et=re;re=Z;for(var Dt=0;Dt<g.length;Dt++)if(et.context===g[Dt]){re.lanes|=T,et=re.alternate,et!==null&&(et.lanes|=T),Qc(re.return,T,f),D||(Ne=null);break e}re=et.next}}else if(Z.tag===18){if(Ne=Z.return,Ne===null)throw Error(r(341));Ne.lanes|=T,re=Ne.alternate,re!==null&&(re.lanes|=T),Qc(Ne,T,f),Ne=null}else Ne=Z.child;if(Ne!==null)Ne.return=Z;else for(Ne=Z;Ne!==null;){if(Ne===f){Ne=null;break}if(Z=Ne.sibling,Z!==null){Z.return=Ne.return,Ne=Z;break}Ne=Ne.return}Z=Ne}}function Au(f,g,T,D){f=null;for(var Z=g,re=!1;Z!==null;){if(!re){if((Z.flags&524288)!==0)re=!0;else if((Z.flags&262144)!==0)break}if(Z.tag===10){var Ne=Z.alternate;if(Ne===null)throw Error(r(387));if(Ne=Ne.memoizedProps,Ne!==null){var et=Z.type;Li(Z.pendingProps.value,Ne.value)||(f!==null?f.push(et):f=[et])}}else if(Z===Nt.current){if(Ne=Z.alternate,Ne===null)throw Error(r(387));Ne.memoizedState.memoizedState!==Z.memoizedState.memoizedState&&(f!==null?f.push(ty):f=[ty])}Z=Z.return}f!==null&&Eg(g,f,T,D),g.flags|=262144}function tp(f){for(f=f.firstContext;f!==null;){if(!Li(f.context._currentValue,f.memoizedValue))return!0;f=f.next}return!1}function Dd(f){fa=f,Xc=null,f=f.dependencies,f!==null&&(f.firstContext=null)}function To(f){return wg(fa,f)}function ru(f,g){return fa===null&&Dd(f),wg(f,g)}function wg(f,g){var T=g._currentValue;if(g={context:g,memoizedValue:T,next:null},Xc===null){if(f===null)throw Error(r(308));Xc=g,f.dependencies={lanes:0,firstContext:g},f.flags|=524288}else Xc=Xc.next=g;return T}var Vy=typeof AbortController<"u"?AbortController:function(){var f=[],g=this.signal={aborted:!1,addEventListener:function(T,D){f.push(D)}};this.abort=function(){g.aborted=!0,f.forEach(function(T){return T()})}},vv=e.unstable_scheduleCallback,qy=e.unstable_NormalPriority,Yi={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ol(){return{controller:new Vy,data:new Map,refCount:0}}function sl(f){f.refCount--,f.refCount===0&&vv(qy,function(){f.controller.abort()})}var bl=null,Sg=0,ll=0,np=null;function ku(f,g){if(bl===null){var T=bl=[];Sg=0,ll=cl(),np={status:"pending",value:void 0,then:function(D){T.push(D)}}}return Sg++,g.then(rp,rp),g}function rp(){if(--Sg===0&&bl!==null){np!==null&&(np.status="fulfilled");var f=bl;bl=null,ll=0,np=null;for(var g=0;g<f.length;g++)(0,f[g])()}}function om(f,g){var T=[],D={status:"pending",value:null,reason:null,then:function(Z){T.push(Z)}};return f.then(function(){D.status="fulfilled",D.value=g;for(var Z=0;Z<T.length;Z++)(0,T[Z])(g)},function(Z){for(D.status="rejected",D.reason=Z,Z=0;Z<T.length;Z++)(0,T[Z])(void 0)}),D}var Wi=he.S;he.S=function(f,g){b_=hn(),typeof g=="object"&&g!==null&&typeof g.then=="function"&&ku(f,g),Wi!==null&&Wi(f,g)};var mc=Re(null);function sm(){var f=mc.current;return f!==null?f:Gi.pooledCache}function yf(f,g){g===null?Ze(mc,mc.current):Ze(mc,g.pool)}function Jc(){var f=sm();return f===null?null:{parent:Yi._currentValue,pool:f}}var or=Error(r(460)),ap=Error(r(474)),Ld=Error(r(542)),lm={then:function(){}};function vf(f){return f=f.status,f==="fulfilled"||f==="rejected"}function bf(f,g,T){switch(T=f[T],T===void 0?f.push(g):T!==g&&(g.then(ps,ps),g=T),g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,Cg(f),f;default:if(typeof g.status=="string")g.then(ps,ps);else{if(f=Gi,f!==null&&100<f.shellSuspendCounter)throw Error(r(482));f=g,f.status="pending",f.then(function(D){if(g.status==="pending"){var Z=g;Z.status="fulfilled",Z.value=D}},function(D){if(g.status==="pending"){var Z=g;Z.status="rejected",Z.reason=D}})}switch(g.status){case"fulfilled":return g.value;case"rejected":throw f=g.reason,Cg(f),f}throw ed=g,or}}function Fs(f){try{var g=f._init;return g(f._payload)}catch(T){throw T!==null&&typeof T=="object"&&typeof T.then=="function"?(ed=T,or):T}}var ed=null;function Tg(){if(ed===null)throw Error(r(459));var f=ed;return ed=null,f}function Cg(f){if(f===or||f===Ld)throw Error(r(483))}var Iu=null,au=0;function uh(f){var g=au;return au+=1,Iu===null&&(Iu=[]),bf(Iu,f,g)}function Pl(f,g){g=g.props.ref,f.ref=g!==void 0?g:null}function _l(f,g){throw g.$$typeof===M?Error(r(525)):(f=Object.prototype.toString.call(g),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":f)))}function um(f){function g(Zt,Gt){if(f){var ln=Zt.deletions;ln===null?(Zt.deletions=[Gt],Zt.flags|=16):ln.push(Gt)}}function T(Zt,Gt){if(!f)return null;for(;Gt!==null;)g(Zt,Gt),Gt=Gt.sibling;return null}function D(Zt){for(var Gt=new Map;Zt!==null;)Zt.key!==null?Gt.set(Zt.key,Zt):Gt.set(Zt.index,Zt),Zt=Zt.sibling;return Gt}function Z(Zt,Gt){return Zt=nl(Zt,Gt),Zt.index=0,Zt.sibling=null,Zt}function re(Zt,Gt,ln){return Zt.index=ln,f?(ln=Zt.alternate,ln!==null?(ln=ln.index,ln<Gt?(Zt.flags|=67108866,Gt):ln):(Zt.flags|=67108866,Gt)):(Zt.flags|=1048576,Gt)}function Ne(Zt){return f&&Zt.alternate===null&&(Zt.flags|=67108866),Zt}function et(Zt,Gt,ln,Rn){return Gt===null||Gt.tag!==6?(Gt=ep(ln,Zt.mode,Rn),Gt.return=Zt,Gt):(Gt=Z(Gt,ln),Gt.return=Zt,Gt)}function Dt(Zt,Gt,ln,Rn){var Ar=ln.type;return Ar===G?In(Zt,Gt,ln.props.children,Rn,ln.key):Gt!==null&&(Gt.elementType===Ar||typeof Ar=="object"&&Ar!==null&&Ar.$$typeof===K&&Fs(Ar)===Gt.type)?(Gt=Z(Gt,ln.props),Pl(Gt,ln),Gt.return=Zt,Gt):(Gt=xg(ln.type,ln.key,ln.props,null,Zt.mode,Rn),Pl(Gt,ln),Gt.return=Zt,Gt)}function dn(Zt,Gt,ln,Rn){return Gt===null||Gt.tag!==4||Gt.stateNode.containerInfo!==ln.containerInfo||Gt.stateNode.implementation!==ln.implementation?(Gt=Yc(ln,Zt.mode,Rn),Gt.return=Zt,Gt):(Gt=Z(Gt,ln.children||[]),Gt.return=Zt,Gt)}function In(Zt,Gt,ln,Rn,Ar){return Gt===null||Gt.tag!==7?(Gt=pf(ln,Zt.mode,Rn,Ar),Gt.return=Zt,Gt):(Gt=Z(Gt,ln),Gt.return=Zt,Gt)}function $n(Zt,Gt,ln){if(typeof Gt=="string"&&Gt!==""||typeof Gt=="number"||typeof Gt=="bigint")return Gt=ep(""+Gt,Zt.mode,ln),Gt.return=Zt,Gt;if(typeof Gt=="object"&&Gt!==null){switch(Gt.$$typeof){case P:return ln=xg(Gt.type,Gt.key,Gt.props,null,Zt.mode,ln),Pl(ln,Gt),ln.return=Zt,ln;case j:return Gt=Yc(Gt,Zt.mode,ln),Gt.return=Zt,Gt;case K:return Gt=Fs(Gt),$n(Zt,Gt,ln)}if(Se(Gt)||Te(Gt))return Gt=pf(Gt,Zt.mode,ln,null),Gt.return=Zt,Gt;if(typeof Gt.then=="function")return $n(Zt,uh(Gt),ln);if(Gt.$$typeof===J)return $n(Zt,ru(Zt,Gt),ln);_l(Zt,Gt)}return null}function fn(Zt,Gt,ln,Rn){var Ar=Gt!==null?Gt.key:null;if(typeof ln=="string"&&ln!==""||typeof ln=="number"||typeof ln=="bigint")return Ar!==null?null:et(Zt,Gt,""+ln,Rn);if(typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case P:return ln.key===Ar?Dt(Zt,Gt,ln,Rn):null;case j:return ln.key===Ar?dn(Zt,Gt,ln,Rn):null;case K:return ln=Fs(ln),fn(Zt,Gt,ln,Rn)}if(Se(ln)||Te(ln))return Ar!==null?null:In(Zt,Gt,ln,Rn,null);if(typeof ln.then=="function")return fn(Zt,Gt,uh(ln),Rn);if(ln.$$typeof===J)return fn(Zt,Gt,ru(Zt,ln),Rn);_l(Zt,ln)}return null}function vn(Zt,Gt,ln,Rn,Ar){if(typeof Rn=="string"&&Rn!==""||typeof Rn=="number"||typeof Rn=="bigint")return Zt=Zt.get(ln)||null,et(Gt,Zt,""+Rn,Ar);if(typeof Rn=="object"&&Rn!==null){switch(Rn.$$typeof){case P:return Zt=Zt.get(Rn.key===null?ln:Rn.key)||null,Dt(Gt,Zt,Rn,Ar);case j:return Zt=Zt.get(Rn.key===null?ln:Rn.key)||null,dn(Gt,Zt,Rn,Ar);case K:return Rn=Fs(Rn),vn(Zt,Gt,ln,Rn,Ar)}if(Se(Rn)||Te(Rn))return Zt=Zt.get(ln)||null,In(Gt,Zt,Rn,Ar,null);if(typeof Rn.then=="function")return vn(Zt,Gt,ln,uh(Rn),Ar);if(Rn.$$typeof===J)return vn(Zt,Gt,ln,ru(Gt,Rn),Ar);_l(Gt,Rn)}return null}function Rr(Zt,Gt,ln,Rn){for(var Ar=null,ri=null,Hr=Gt,Ea=Gt=0,Ba=null;Hr!==null&&Ea<ln.length;Ea++){Hr.index>Ea?(Ba=Hr,Hr=null):Ba=Hr.sibling;var pi=fn(Zt,Hr,ln[Ea],Rn);if(pi===null){Hr===null&&(Hr=Ba);break}f&&Hr&&pi.alternate===null&&g(Zt,Hr),Gt=re(pi,Gt,Ea),ri===null?Ar=pi:ri.sibling=pi,ri=pi,Hr=Ba}if(Ea===ln.length)return T(Zt,Hr),ka&&tu(Zt,Ea),Ar;if(Hr===null){for(;Ea<ln.length;Ea++)Hr=$n(Zt,ln[Ea],Rn),Hr!==null&&(Gt=re(Hr,Gt,Ea),ri===null?Ar=Hr:ri.sibling=Hr,ri=Hr);return ka&&tu(Zt,Ea),Ar}for(Hr=D(Hr);Ea<ln.length;Ea++)Ba=vn(Hr,Zt,Ea,ln[Ea],Rn),Ba!==null&&(f&&Ba.alternate!==null&&Hr.delete(Ba.key===null?Ea:Ba.key),Gt=re(Ba,Gt,Ea),ri===null?Ar=Ba:ri.sibling=Ba,ri=Ba);return f&&Hr.forEach(function(Sh){return g(Zt,Sh)}),ka&&tu(Zt,Ea),Ar}function ta(Zt,Gt,ln,Rn){if(ln==null)throw Error(r(151));for(var Ar=null,ri=null,Hr=Gt,Ea=Gt=0,Ba=null,pi=ln.next();Hr!==null&&!pi.done;Ea++,pi=ln.next()){Hr.index>Ea?(Ba=Hr,Hr=null):Ba=Hr.sibling;var Sh=fn(Zt,Hr,pi.value,Rn);if(Sh===null){Hr===null&&(Hr=Ba);break}f&&Hr&&Sh.alternate===null&&g(Zt,Hr),Gt=re(Sh,Gt,Ea),ri===null?Ar=Sh:ri.sibling=Sh,ri=Sh,Hr=Ba}if(pi.done)return T(Zt,Hr),ka&&tu(Zt,Ea),Ar;if(Hr===null){for(;!pi.done;Ea++,pi=ln.next())pi=$n(Zt,pi.value,Rn),pi!==null&&(Gt=re(pi,Gt,Ea),ri===null?Ar=pi:ri.sibling=pi,ri=pi);return ka&&tu(Zt,Ea),Ar}for(Hr=D(Hr);!pi.done;Ea++,pi=ln.next())pi=vn(Hr,Zt,Ea,pi.value,Rn),pi!==null&&(f&&pi.alternate!==null&&Hr.delete(pi.key===null?Ea:pi.key),Gt=re(pi,Gt,Ea),ri===null?Ar=pi:ri.sibling=pi,ri=pi);return f&&Hr.forEach(function(Px){return g(Zt,Px)}),ka&&tu(Zt,Ea),Ar}function _i(Zt,Gt,ln,Rn){if(typeof ln=="object"&&ln!==null&&ln.type===G&&ln.key===null&&(ln=ln.props.children),typeof ln=="object"&&ln!==null){switch(ln.$$typeof){case P:e:{for(var Ar=ln.key;Gt!==null;){if(Gt.key===Ar){if(Ar=ln.type,Ar===G){if(Gt.tag===7){T(Zt,Gt.sibling),Rn=Z(Gt,ln.props.children),Rn.return=Zt,Zt=Rn;break e}}else if(Gt.elementType===Ar||typeof Ar=="object"&&Ar!==null&&Ar.$$typeof===K&&Fs(Ar)===Gt.type){T(Zt,Gt.sibling),Rn=Z(Gt,ln.props),Pl(Rn,ln),Rn.return=Zt,Zt=Rn;break e}T(Zt,Gt);break}else g(Zt,Gt);Gt=Gt.sibling}ln.type===G?(Rn=pf(ln.props.children,Zt.mode,Rn,ln.key),Rn.return=Zt,Zt=Rn):(Rn=xg(ln.type,ln.key,ln.props,null,Zt.mode,Rn),Pl(Rn,ln),Rn.return=Zt,Zt=Rn)}return Ne(Zt);case j:e:{for(Ar=ln.key;Gt!==null;){if(Gt.key===Ar)if(Gt.tag===4&&Gt.stateNode.containerInfo===ln.containerInfo&&Gt.stateNode.implementation===ln.implementation){T(Zt,Gt.sibling),Rn=Z(Gt,ln.children||[]),Rn.return=Zt,Zt=Rn;break e}else{T(Zt,Gt);break}else g(Zt,Gt);Gt=Gt.sibling}Rn=Yc(ln,Zt.mode,Rn),Rn.return=Zt,Zt=Rn}return Ne(Zt);case K:return ln=Fs(ln),_i(Zt,Gt,ln,Rn)}if(Se(ln))return Rr(Zt,Gt,ln,Rn);if(Te(ln)){if(Ar=Te(ln),typeof Ar!="function")throw Error(r(150));return ln=Ar.call(ln),ta(Zt,Gt,ln,Rn)}if(typeof ln.then=="function")return _i(Zt,Gt,uh(ln),Rn);if(ln.$$typeof===J)return _i(Zt,Gt,ru(Zt,ln),Rn);_l(Zt,ln)}return typeof ln=="string"&&ln!==""||typeof ln=="number"||typeof ln=="bigint"?(ln=""+ln,Gt!==null&&Gt.tag===6?(T(Zt,Gt.sibling),Rn=Z(Gt,ln),Rn.return=Zt,Zt=Rn):(T(Zt,Gt),Rn=ep(ln,Zt.mode,Rn),Rn.return=Zt,Zt=Rn),Ne(Zt)):T(Zt,Gt)}return function(Zt,Gt,ln,Rn){try{au=0;var Ar=_i(Zt,Gt,ln,Rn);return Iu=null,Ar}catch(Hr){if(Hr===or||Hr===Ld)throw Hr;var ri=Ps(29,Hr,null,Zt.mode);return ri.lanes=Rn,ri.return=Zt,ri}finally{}}}var gc=um(!0),cm=um(!1),iu=!1;function yc(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nu(f,g){f=f.updateQueue,g.updateQueue===f&&(g.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,callbacks:null})}function Ra(f){return{lane:f,tag:0,payload:null,callback:null,next:null}}function Ru(f,g,T){var D=f.updateQueue;if(D===null)return null;if(D=D.shared,(di&2)!==0){var Z=D.pending;return Z===null?g.next=g:(g.next=Z.next,Z.next=g),D.pending=g,g=fc(f),hf(f,null,T),g}return dc(f,D,g,T),fc(f)}function _f(f,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194048)!==0)){var D=g.lanes;D&=f.pendingLanes,T|=D,g.lanes=T,yt(f,T)}}function xf(f,g){var T=f.updateQueue,D=f.alternate;if(D!==null&&(D=D.updateQueue,T===D)){var Z=null,re=null;if(T=T.firstBaseUpdate,T!==null){do{var Ne={lane:T.lane,tag:T.tag,payload:T.payload,callback:null,next:null};re===null?Z=re=Ne:re=re.next=Ne,T=T.next}while(T!==null);re===null?Z=re=g:re=re.next=g}else Z=re=g;T={baseState:D.baseState,firstBaseUpdate:Z,lastBaseUpdate:re,shared:D.shared,callbacks:D.callbacks},f.updateQueue=T;return}f=T.lastBaseUpdate,f===null?T.firstBaseUpdate=g:f.next=g,T.lastBaseUpdate=g}var Co=!1;function Pd(){if(Co){var f=np;if(f!==null)throw f}}function ch(f,g,T,D){Co=!1;var Z=f.updateQueue;iu=!1;var re=Z.firstBaseUpdate,Ne=Z.lastBaseUpdate,et=Z.shared.pending;if(et!==null){Z.shared.pending=null;var Dt=et,dn=Dt.next;Dt.next=null,Ne===null?re=dn:Ne.next=dn,Ne=Dt;var In=f.alternate;In!==null&&(In=In.updateQueue,et=In.lastBaseUpdate,et!==Ne&&(et===null?In.firstBaseUpdate=dn:et.next=dn,In.lastBaseUpdate=Dt))}if(re!==null){var $n=Z.baseState;Ne=0,In=dn=Dt=null,et=re;do{var fn=et.lane&-536870913,vn=fn!==et.lane;if(vn?(Ia&fn)===fn:(D&fn)===fn){fn!==0&&fn===ll&&(Co=!0),In!==null&&(In=In.next={lane:0,tag:et.tag,payload:et.payload,callback:null,next:null});e:{var Rr=f,ta=et;fn=g;var _i=T;switch(ta.tag){case 1:if(Rr=ta.payload,typeof Rr=="function"){$n=Rr.call(_i,$n,fn);break e}$n=Rr;break e;case 3:Rr.flags=Rr.flags&-65537|128;case 0:if(Rr=ta.payload,fn=typeof Rr=="function"?Rr.call(_i,$n,fn):Rr,fn==null)break e;$n=w({},$n,fn);break e;case 2:iu=!0}}fn=et.callback,fn!==null&&(f.flags|=64,vn&&(f.flags|=8192),vn=Z.callbacks,vn===null?Z.callbacks=[fn]:vn.push(fn))}else vn={lane:fn,tag:et.tag,payload:et.payload,callback:et.callback,next:null},In===null?(dn=In=vn,Dt=$n):In=In.next=vn,Ne|=fn;if(et=et.next,et===null){if(et=Z.shared.pending,et===null)break;vn=et,et=vn.next,vn.next=null,Z.lastBaseUpdate=vn,Z.shared.pending=null}}while(!0);In===null&&(Dt=$n),Z.baseState=Dt,Z.firstBaseUpdate=dn,Z.lastBaseUpdate=In,re===null&&(Z.shared.lanes=0),od|=Ne,f.lanes=Ne,f.memoizedState=$n}}function ou(f,g){if(typeof f!="function")throw Error(r(191,f));f.call(g)}function dm(f,g){var T=f.callbacks;if(T!==null)for(f.callbacks=null,f=0;f<T.length;f++)ou(T[f],g)}var Es=Re(null),su=Re(0);function Cr(f,g){f=Ud,Ze(su,f),Ze(Es,g),Ud=f|g.baseLanes}function Er(){Ze(su,Ud),Ze(Es,Es.current)}function td(){Ud=su.current,je(Es),je(su)}var xl=Re(null),ws=null;function fo(f){var g=f.alternate;Ze(ho,ho.current&1),Ze(xl,f),ws===null&&(g===null||Es.current!==null||g.memoizedState!==null)&&(ws=f)}function Bs(f){Ze(ho,ho.current),Ze(xl,f),ws===null&&(ws=f)}function Yy(f){f.tag===22?(Ze(ho,ho.current),Ze(xl,f),ws===null&&(ws=f)):Mu()}function Mu(){Ze(ho,ho.current),Ze(xl,xl.current)}function El(f){je(xl),ws===f&&(ws=null),je(ho)}var ho=Re(0);function Fd(f){for(var g=f;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||$l(T)||mo(T)))return g}else if(g.tag===19&&(g.memoizedProps.revealOrder==="forwards"||g.memoizedProps.revealOrder==="backwards"||g.memoizedProps.revealOrder==="unstable_legacy-backwards"||g.memoizedProps.revealOrder==="together")){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var Fa=0,Lr=null,yi=null,Pi=null,Ef=!1,lu=!1,Bd=!1,ip=0,nd=0,vc=null,Wy=0;function Fi(){throw Error(r(321))}function Ou(f,g){if(g===null)return!1;for(var T=0;T<g.length&&T<f.length;T++)if(!Li(f[T],g[T]))return!1;return!0}function dh(f,g,T,D,Z,re){return Fa=re,Lr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,he.H=f===null||f.memoizedState===null?Ho:ul,Bd=!1,re=T(D,Z),Bd=!1,lu&&(re=wf(g,T,D,Z)),fh(f),re}function fh(f){he.H=Ci;var g=yi!==null&&yi.next!==null;if(Fa=0,Pi=yi=Lr=null,Ef=!1,nd=0,vc=null,g)throw Error(r(300));f===null||io||(f=f.dependencies,f!==null&&tp(f)&&(io=!0))}function wf(f,g,T,D){Lr=f;var Z=0;do{if(lu&&(vc=null),nd=0,lu=!1,25<=Z)throw Error(r(301));if(Z+=1,Pi=yi=null,f.updateQueue!=null){var re=f.updateQueue;re.lastEffect=null,re.events=null,re.stores=null,re.memoCache!=null&&(re.memoCache.index=0)}he.H=xi,re=g(T,D)}while(lu);return re}function fm(){var f=he.H,g=f.useState()[0];return g=typeof g.then=="function"?Sf(g):g,f=f.useState()[0],(yi!==null?yi.memoizedState:null)!==f&&(Lr.flags|=1024),g}function op(){var f=ip!==0;return ip=0,f}function rd(f,g,T){g.updateQueue=f.updateQueue,g.flags&=-2053,f.lanes&=~T}function $d(f){if(Ef){for(f=f.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Ef=!1}Fa=0,Pi=yi=Lr=null,lu=!1,nd=ip=0,vc=null}function Ss(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pi===null?Lr.memoizedState=Pi=f:Pi=Pi.next=f,Pi}function Ui(){if(yi===null){var f=Lr.alternate;f=f!==null?f.memoizedState:null}else f=yi.next;var g=Pi===null?Lr.memoizedState:Pi.next;if(g!==null)Pi=g,yi=f;else{if(f===null)throw Lr.alternate===null?Error(r(467)):Error(r(310));yi=f,f={memoizedState:yi.memoizedState,baseState:yi.baseState,baseQueue:yi.baseQueue,queue:yi.queue,next:null},Pi===null?Lr.memoizedState=Pi=f:Pi=Pi.next=f}return Pi}function Du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sf(f){var g=nd;return nd+=1,vc===null&&(vc=[]),f=bf(vc,f,g),g=Lr,(Pi===null?g.memoizedState:Pi.next)===null&&(g=g.alternate,he.H=g===null||g.memoizedState===null?Ho:ul),f}function Tf(f){if(f!==null&&typeof f=="object"){if(typeof f.then=="function")return Sf(f);if(f.$$typeof===J)return To(f)}throw Error(r(438,String(f)))}function sp(f){var g=null,T=Lr.updateQueue;if(T!==null&&(g=T.memoCache),g==null){var D=Lr.alternate;D!==null&&(D=D.updateQueue,D!==null&&(D=D.memoCache,D!=null&&(g={data:D.data.map(function(Z){return Z.slice()}),index:0})))}if(g==null&&(g={data:[],index:0}),T===null&&(T=Du(),Lr.updateQueue=T),T.memoCache=g,T=g.data[g.index],T===void 0)for(T=g.data[g.index]=Array(f),D=0;D<f;D++)T[D]=pe;return g.index++,T}function uu(f,g){return typeof g=="function"?g(f):g}function O(f){var g=Ui();return s(g,yi,f)}function s(f,g,T){var D=f.queue;if(D===null)throw Error(r(311));D.lastRenderedReducer=T;var Z=f.baseQueue,re=D.pending;if(re!==null){if(Z!==null){var Ne=Z.next;Z.next=re.next,re.next=Ne}g.baseQueue=Z=re,D.pending=null}if(re=f.baseState,Z===null)f.memoizedState=re;else{g=Z.next;var et=Ne=null,Dt=null,dn=g,In=!1;do{var $n=dn.lane&-536870913;if($n!==dn.lane?(Ia&$n)===$n:(Fa&$n)===$n){var fn=dn.revertLane;if(fn===0)Dt!==null&&(Dt=Dt.next={lane:0,revertLane:0,gesture:null,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null}),$n===ll&&(In=!0);else if((Fa&fn)===fn){dn=dn.next,fn===ll&&(In=!0);continue}else $n={lane:0,revertLane:dn.revertLane,gesture:null,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null},Dt===null?(et=Dt=$n,Ne=re):Dt=Dt.next=$n,Lr.lanes|=fn,od|=fn;$n=dn.action,Bd&&T(re,$n),re=dn.hasEagerState?dn.eagerState:T(re,$n)}else fn={lane:$n,revertLane:dn.revertLane,gesture:dn.gesture,action:dn.action,hasEagerState:dn.hasEagerState,eagerState:dn.eagerState,next:null},Dt===null?(et=Dt=fn,Ne=re):Dt=Dt.next=fn,Lr.lanes|=$n,od|=$n;dn=dn.next}while(dn!==null&&dn!==g);if(Dt===null?Ne=re:Dt.next=et,!Li(re,f.memoizedState)&&(io=!0,In&&(T=np,T!==null)))throw T;f.memoizedState=re,f.baseState=Ne,f.baseQueue=Dt,D.lastRenderedState=re}return Z===null&&(D.lanes=0),[f.memoizedState,D.dispatch]}function h(f){var g=Ui(),T=g.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=f;var D=T.dispatch,Z=T.pending,re=g.memoizedState;if(Z!==null){T.pending=null;var Ne=Z=Z.next;do re=f(re,Ne.action),Ne=Ne.next;while(Ne!==Z);Li(re,g.memoizedState)||(io=!0),g.memoizedState=re,g.baseQueue===null&&(g.baseState=re),T.lastRenderedState=re}return[re,D]}function x(f,g,T){var D=Lr,Z=Ui(),re=ka;if(re){if(T===void 0)throw Error(r(407));T=T()}else T=g();var Ne=!Li((yi||Z).memoizedState,T);if(Ne&&(Z.memoizedState=T,io=!0),Z=Z.queue,an(U.bind(null,D,Z,f),[f]),Z.getSnapshot!==g||Ne||Pi!==null&&Pi.memoizedState.tag&1){if(D.flags|=2048,bt(9,{destroy:void 0},L.bind(null,D,Z,T,g),null),Gi===null)throw Error(r(349));re||(Fa&127)!==0||k(D,g,T)}return T}function k(f,g,T){f.flags|=16384,f={getSnapshot:g,value:T},g=Lr.updateQueue,g===null?(g=Du(),Lr.updateQueue=g,g.stores=[f]):(T=g.stores,T===null?g.stores=[f]:T.push(f))}function L(f,g,T,D){g.value=T,g.getSnapshot=D,W(g)&&ee(f)}function U(f,g,T){return T(function(){W(g)&&ee(f)})}function W(f){var g=f.getSnapshot;f=f.value;try{var T=g();return!Li(f,T)}catch{return!0}}function ee(f){var g=bs(f,2);g!==null&&$u(g,f,2)}function ce(f){var g=Ss();if(typeof f=="function"){var T=f;if(f=T(),Bd){Ct(!0);try{T()}finally{Ct(!1)}}}return g.memoizedState=g.baseState=f,g.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:f},g}function fe(f,g,T,D){return f.baseState=T,s(f,yi,typeof D=="function"?D:uu)}function Ce(f,g,T,D,Z){if(Go(f))throw Error(r(485));if(f=g.action,f!==null){var re={payload:Z,action:f,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Ne){re.listeners.push(Ne)}};he.T!==null?T(!0):re.isTransition=!1,D(re),T=g.pending,T===null?(re.next=g.pending=re,Ee(g,re)):(re.next=T.next,g.pending=T.next=re)}}function Ee(f,g){var T=g.action,D=g.payload,Z=f.state;if(g.isTransition){var re=he.T,Ne={};he.T=Ne;try{var et=T(Z,D),Dt=he.S;Dt!==null&&Dt(Ne,et),Le(f,g,et)}catch(dn){it(f,g,dn)}finally{re!==null&&Ne.types!==null&&(re.types=Ne.types),he.T=re}}else try{re=T(Z,D),Le(f,g,re)}catch(dn){it(f,g,dn)}}function Le(f,g,T){T!==null&&typeof T=="object"&&typeof T.then=="function"?T.then(function(D){ze(f,g,D)},function(D){return it(f,g,D)}):ze(f,g,T)}function ze(f,g,T){g.status="fulfilled",g.value=T,ct(g),f.state=T,g=f.pending,g!==null&&(T=g.next,T===g?f.pending=null:(T=T.next,g.next=T,Ee(f,T)))}function it(f,g,T){var D=f.pending;if(f.pending=null,D!==null){D=D.next;do g.status="rejected",g.reason=T,ct(g),g=g.next;while(g!==D)}f.action=null}function ct(f){f=f.listeners;for(var g=0;g<f.length;g++)(0,f[g])()}function lt(f,g){return g}function pt(f,g){if(ka){var T=Gi.formState;if(T!==null){e:{var D=Lr;if(ka){if(Ya){t:{for(var Z=Ya,re=nu;Z.nodeType!==8;){if(!re){Z=null;break t}if(Z=sd(Z.nextSibling),Z===null){Z=null;break t}}re=Z.data,Z=re==="F!"||re==="F"?Z:null}if(Z){Ya=sd(Z.nextSibling),D=Z.data==="F!";break e}}Ll(D)}D=!1}D&&(g=T[0])}}return T=Ss(),T.memoizedState=T.baseState=g,D={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lt,lastRenderedState:g},T.queue=D,T=Cf.bind(null,Lr,D),D.dispatch=T,D=ce(!1),re=ao.bind(null,Lr,!1,D.queue),D=Ss(),Z={state:g,dispatch:null,action:f,pending:null},D.queue=Z,T=Ce.bind(null,Lr,Z,re,T),Z.dispatch=T,D.memoizedState=f,[g,T,!1]}function Tt(f){var g=Ui();return gt(g,yi,f)}function gt(f,g,T){if(g=s(f,g,lt)[0],f=O(uu)[0],typeof g=="object"&&g!==null&&typeof g.then=="function")try{var D=Sf(g)}catch(Ne){throw Ne===or?Ld:Ne}else D=g;g=Ui();var Z=g.queue,re=Z.dispatch;return T!==g.memoizedState&&(Lr.flags|=2048,bt(9,{destroy:void 0},At.bind(null,Z,T),null)),[D,re,f]}function At(f,g){f.action=g}function Rt(f){var g=Ui(),T=yi;if(T!==null)return gt(g,T,f);Ui(),g=g.memoizedState,T=Ui();var D=T.queue.dispatch;return T.memoizedState=f,[g,D,!1]}function bt(f,g,T,D){return f={tag:f,create:T,deps:D,inst:g,next:null},g=Lr.updateQueue,g===null&&(g=Du(),Lr.updateQueue=g),T=g.lastEffect,T===null?g.lastEffect=f.next=f:(D=T.next,T.next=f,f.next=D,g.lastEffect=f),f}function jt(){return Ui().memoizedState}function Qt(f,g,T,D){var Z=Ss();Lr.flags|=f,Z.memoizedState=bt(1|g,{destroy:void 0},T,D===void 0?null:D)}function Jt(f,g,T,D){var Z=Ui();D=D===void 0?null:D;var re=Z.memoizedState.inst;yi!==null&&D!==null&&Ou(D,yi.memoizedState.deps)?Z.memoizedState=bt(g,re,T,D):(Lr.flags|=f,Z.memoizedState=bt(1|g,re,T,D))}function nn(f,g){Qt(8390656,8,f,g)}function an(f,g){Jt(2048,8,f,g)}function On(f){Lr.flags|=4;var g=Lr.updateQueue;if(g===null)g=Du(),Lr.updateQueue=g,g.events=[f];else{var T=g.events;T===null?g.events=[f]:T.push(f)}}function Zn(f){var g=Ui().memoizedState;return On({ref:g,nextImpl:f}),function(){if((di&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}function Nn(f,g){return Jt(4,2,f,g)}function wr(f,g){return Jt(4,4,f,g)}function oa(f,g){if(typeof g=="function"){f=f();var T=g(f);return function(){typeof T=="function"?T():g(null)}}if(g!=null)return f=f(),g.current=f,function(){g.current=null}}function Qa(f,g,T){T=T!=null?T.concat([f]):null,Jt(4,4,oa.bind(null,g,f),T)}function ci(){}function Ja(f,g){var T=Ui();g=g===void 0?null:g;var D=T.memoizedState;return g!==null&&Ou(g,D[1])?D[0]:(T.memoizedState=[f,g],f)}function Sa(f,g){var T=Ui();g=g===void 0?null:g;var D=T.memoizedState;if(g!==null&&Ou(g,D[1]))return D[0];if(D=f(),Bd){Ct(!0);try{f()}finally{Ct(!1)}}return T.memoizedState=[D,g],D}function Ta(f,g,T){return T===void 0||(Fa&1073741824)!==0&&(Ia&261930)===0?f.memoizedState=g:(f.memoizedState=T,f=zg(),Lr.lanes|=f,od|=f,T)}function Uo(f,g,T,D){return Li(T,g)?T:Es.current!==null?(f=Ta(f,T,D),Li(f,g)||(io=!0),f):(Fa&42)===0||(Fa&1073741824)!==0&&(Ia&261930)===0?(io=!0,f.memoizedState=T):(f=zg(),Lr.lanes|=f,od|=f,g)}function Ti(f,g,T,D,Z){var re=we.p;we.p=re!==0&&8>re?re:8;var Ne=he.T,et={};he.T=et,ao(f,!1,g,T);try{var Dt=Z(),dn=he.S;if(dn!==null&&dn(et,Dt),Dt!==null&&typeof Dt=="object"&&typeof Dt.then=="function"){var In=om(Dt,D);wl(f,g,In,fi(f))}else wl(f,g,D,fi(f))}catch($n){wl(f,g,{then:function(){},status:"rejected",reason:$n},fi())}finally{we.p=re,Ne!==null&&et.types!==null&&(Ne.types=et.types),he.T=Ne}}function ro(){}function vi(f,g,T,D){if(f.tag!==5)throw Error(r(476));var Z=Zi(f).queue;Ti(f,Z,g,_e,T===null?ro:function(){return is(f),T(D)})}function Zi(f){var g=f.memoizedState;if(g!==null)return g;g={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:_e},next:null};var T={};return g.next={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uu,lastRenderedState:T},next:null},f.memoizedState=g,f=f.alternate,f!==null&&(f.memoizedState=g),g}function is(f){var g=Zi(f);g.next===null&&(g=f.alternate.memoizedState),wl(f,g.next.queue,{},fi())}function $s(){return To(ty)}function Lu(){return Ui().memoizedState}function Fl(){return Ui().memoizedState}function bc(f){for(var g=f.return;g!==null;){switch(g.tag){case 24:case 3:var T=fi();f=Ra(T);var D=Ru(g,f,T);D!==null&&($u(D,g,T),_f(D,g,T)),g={cache:ol()},f.payload=g;return}g=g.return}}function Ag(f,g,T){var D=fi();T={lane:D,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},Go(f)?Ao(g,T):(T=Su(f,g,T,D),T!==null&&($u(T,f,D),Sl(T,g,D)))}function Cf(f,g,T){var D=fi();wl(f,g,T,D)}function wl(f,g,T,D){var Z={lane:D,revertLane:0,gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null};if(Go(f))Ao(g,Z);else{var re=f.alternate;if(f.lanes===0&&(re===null||re.lanes===0)&&(re=g.lastRenderedReducer,re!==null))try{var Ne=g.lastRenderedState,et=re(Ne,T);if(Z.hasEagerState=!0,Z.eagerState=et,Li(et,Ne))return dc(f,g,Z,0),Gi===null&&Ls(),!1}catch{}finally{}if(T=Su(f,g,Z,D),T!==null)return $u(T,f,D),Sl(T,g,D),!0}return!1}function ao(f,g,T,D){if(D={lane:2,revertLane:cl(),gesture:null,action:D,hasEagerState:!1,eagerState:null,next:null},Go(f)){if(g)throw Error(r(479))}else g=Su(f,T,D,2),g!==null&&$u(g,f,2)}function Go(f){var g=f.alternate;return f===Lr||g!==null&&g===Lr}function Ao(f,g){lu=Ef=!0;var T=f.pending;T===null?g.next=g:(g.next=T.next,T.next=g),f.pending=g}function Sl(f,g,T){if((T&4194048)!==0){var D=g.lanes;D&=f.pendingLanes,T|=D,g.lanes=T,yt(f,T)}}var Ci={readContext:To,use:Tf,useCallback:Fi,useContext:Fi,useEffect:Fi,useImperativeHandle:Fi,useLayoutEffect:Fi,useInsertionEffect:Fi,useMemo:Fi,useReducer:Fi,useRef:Fi,useState:Fi,useDebugValue:Fi,useDeferredValue:Fi,useTransition:Fi,useSyncExternalStore:Fi,useId:Fi,useHostTransitionStatus:Fi,useFormState:Fi,useActionState:Fi,useOptimistic:Fi,useMemoCache:Fi,useCacheRefresh:Fi};Ci.useEffectEvent=Fi;var Ho={readContext:To,use:Tf,useCallback:function(f,g){return Ss().memoizedState=[f,g===void 0?null:g],f},useContext:To,useEffect:nn,useImperativeHandle:function(f,g,T){T=T!=null?T.concat([f]):null,Qt(4194308,4,oa.bind(null,g,f),T)},useLayoutEffect:function(f,g){return Qt(4194308,4,f,g)},useInsertionEffect:function(f,g){Qt(4,2,f,g)},useMemo:function(f,g){var T=Ss();g=g===void 0?null:g;var D=f();if(Bd){Ct(!0);try{f()}finally{Ct(!1)}}return T.memoizedState=[D,g],D},useReducer:function(f,g,T){var D=Ss();if(T!==void 0){var Z=T(g);if(Bd){Ct(!0);try{T(g)}finally{Ct(!1)}}}else Z=g;return D.memoizedState=D.baseState=Z,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:Z},D.queue=f,f=f.dispatch=Ag.bind(null,Lr,f),[D.memoizedState,f]},useRef:function(f){var g=Ss();return f={current:f},g.memoizedState=f},useState:function(f){f=ce(f);var g=f.queue,T=Cf.bind(null,Lr,g);return g.dispatch=T,[f.memoizedState,T]},useDebugValue:ci,useDeferredValue:function(f,g){var T=Ss();return Ta(T,f,g)},useTransition:function(){var f=ce(!1);return f=Ti.bind(null,Lr,f.queue,!0,!1),Ss().memoizedState=f,[!1,f]},useSyncExternalStore:function(f,g,T){var D=Lr,Z=Ss();if(ka){if(T===void 0)throw Error(r(407));T=T()}else{if(T=g(),Gi===null)throw Error(r(349));(Ia&127)!==0||k(D,g,T)}Z.memoizedState=T;var re={value:T,getSnapshot:g};return Z.queue=re,nn(U.bind(null,D,re,f),[f]),D.flags|=2048,bt(9,{destroy:void 0},L.bind(null,D,re,T,g),null),T},useId:function(){var f=Ss(),g=Gi.identifierPrefix;if(ka){var T=al,D=Wc;T=(D&~(1<<32-sn(D)-1)).toString(32)+T,g="_"+g+"R_"+T,T=ip++,0<T&&(g+="H"+T.toString(32)),g+="_"}else T=Wy++,g="_"+g+"r_"+T.toString(32)+"_";return f.memoizedState=g},useHostTransitionStatus:$s,useFormState:pt,useActionState:pt,useOptimistic:function(f){var g=Ss();g.memoizedState=g.baseState=f;var T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return g.queue=T,g=ao.bind(null,Lr,!0,T),T.dispatch=g,[f,g]},useMemoCache:sp,useCacheRefresh:function(){return Ss().memoizedState=bc.bind(null,Lr)},useEffectEvent:function(f){var g=Ss(),T={impl:f};return g.memoizedState=T,function(){if((di&2)!==0)throw Error(r(440));return T.impl.apply(void 0,arguments)}}},ul={readContext:To,use:Tf,useCallback:Ja,useContext:To,useEffect:an,useImperativeHandle:Qa,useInsertionEffect:Nn,useLayoutEffect:wr,useMemo:Sa,useReducer:O,useRef:jt,useState:function(){return O(uu)},useDebugValue:ci,useDeferredValue:function(f,g){var T=Ui();return Uo(T,yi.memoizedState,f,g)},useTransition:function(){var f=O(uu)[0],g=Ui().memoizedState;return[typeof f=="boolean"?f:Sf(f),g]},useSyncExternalStore:x,useId:Lu,useHostTransitionStatus:$s,useFormState:Tt,useActionState:Tt,useOptimistic:function(f,g){var T=Ui();return fe(T,yi,f,g)},useMemoCache:sp,useCacheRefresh:Fl};ul.useEffectEvent=Zn;var xi={readContext:To,use:Tf,useCallback:Ja,useContext:To,useEffect:an,useImperativeHandle:Qa,useInsertionEffect:Nn,useLayoutEffect:wr,useMemo:Sa,useReducer:h,useRef:jt,useState:function(){return h(uu)},useDebugValue:ci,useDeferredValue:function(f,g){var T=Ui();return yi===null?Ta(T,f,g):Uo(T,yi.memoizedState,f,g)},useTransition:function(){var f=h(uu)[0],g=Ui().memoizedState;return[typeof f=="boolean"?f:Sf(f),g]},useSyncExternalStore:x,useId:Lu,useHostTransitionStatus:$s,useFormState:Rt,useActionState:Rt,useOptimistic:function(f,g){var T=Ui();return yi!==null?fe(T,yi,f,g):(T.baseState=f,[f,T.queue.dispatch])},useMemoCache:sp,useCacheRefresh:Fl};xi.useEffectEvent=Zn;function kg(f,g,T,D){g=f.memoizedState,T=T(D,g),T=T==null?g:w({},g,T),f.memoizedState=T,f.lanes===0&&(f.updateQueue.baseState=T)}var lp={enqueueSetState:function(f,g,T){f=f._reactInternals;var D=fi(),Z=Ra(D);Z.payload=g,T!=null&&(Z.callback=T),g=Ru(f,Z,D),g!==null&&($u(g,f,D),_f(g,f,D))},enqueueReplaceState:function(f,g,T){f=f._reactInternals;var D=fi(),Z=Ra(D);Z.tag=1,Z.payload=g,T!=null&&(Z.callback=T),g=Ru(f,Z,D),g!==null&&($u(g,f,D),_f(g,f,D))},enqueueForceUpdate:function(f,g){f=f._reactInternals;var T=fi(),D=Ra(T);D.tag=2,g!=null&&(D.callback=g),g=Ru(f,D,T),g!==null&&($u(g,f,T),_f(g,f,T))}};function Ig(f,g,T,D,Z,re,Ne){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(D,re,Ne):g.prototype&&g.prototype.isPureReactComponent?!cc(T,D)||!cc(Z,re):!0}function Ng(f,g,T,D){f=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,D),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,D),g.state!==f&&lp.enqueueReplaceState(g,g.state,null)}function ko(f,g){var T=g;if("ref"in g){T={};for(var D in g)D!=="ref"&&(T[D]=g[D])}if(f=f.defaultProps){T===g&&(T=w({},T));for(var Z in f)T[Z]===void 0&&(T[Z]=f[Z])}return T}function jd(f){vs(f)}function ad(f){console.error(f)}function Zy(f){vs(f)}function Af(f,g){try{var T=f.onUncaughtError;T(g.value,{componentStack:g.stack})}catch(D){setTimeout(function(){throw D})}}function Rg(f,g,T){try{var D=f.onCaughtError;D(T.value,{componentStack:T.stack,errorBoundary:g.tag===1?g.stateNode:null})}catch(Z){setTimeout(function(){throw Z})}}function kf(f,g,T){return T=Ra(T),T.tag=3,T.payload={element:null},T.callback=function(){Af(f,g)},T}function Pu(f){return f=Ra(f),f.tag=3,f}function up(f,g,T,D){var Z=T.type.getDerivedStateFromError;if(typeof Z=="function"){var re=D.value;f.payload=function(){return Z(re)},f.callback=function(){Rg(g,T,D)}}var Ne=T.stateNode;Ne!==null&&typeof Ne.componentDidCatch=="function"&&(f.callback=function(){Rg(g,T,D),typeof Z!="function"&&(gp===null?gp=new Set([this]):gp.add(this));var et=D.stack;this.componentDidCatch(D.value,{componentStack:et!==null?et:""})})}function Xy(f,g,T,D,Z){if(T.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){if(g=T.alternate,g!==null&&Au(g,T,Z,!0),T=xl.current,T!==null){switch(T.tag){case 31:case 13:return ws===null?bh():T.alternate===null&&No===0&&(No=3),T.flags&=-257,T.flags|=65536,T.lanes=Z,D===lm?T.flags|=16384:(g=T.updateQueue,g===null?T.updateQueue=new Set([D]):g.add(D),p0(f,D,Z)),!1;case 22:return T.flags|=65536,D===lm?T.flags|=16384:(g=T.updateQueue,g===null?(g={transitions:null,markerInstances:null,retryQueue:new Set([D])},T.updateQueue=g):(T=g.retryQueue,T===null?g.retryQueue=new Set([D]):T.add(D)),p0(f,D,Z)),!1}throw Error(r(435,T.tag))}return p0(f,D,Z),bh(),!1}if(ka)return g=xl.current,g!==null?((g.flags&65536)===0&&(g.flags|=256),g.flags|=65536,g.lanes=Z,D!==qi&&(f=Error(r(422),{cause:D}),Cu(rl(f,T)))):(D!==qi&&(g=Error(r(423),{cause:D}),Cu(rl(g,T))),f=f.current.alternate,f.flags|=65536,Z&=-Z,f.lanes|=Z,D=rl(D,T),Z=kf(f.stateNode,D,Z),xf(f,Z),No!==4&&(No=2)),!1;var re=Error(r(520),{cause:D});if(re=rl(re,T),l0===null?l0=[re]:l0.push(re),No!==4&&(No=2),g===null)return!0;D=rl(D,T),T=g;do{switch(T.tag){case 3:return T.flags|=65536,f=Z&-Z,T.lanes|=f,f=kf(T.stateNode,D,f),xf(T,f),!1;case 1:if(g=T.type,re=T.stateNode,(T.flags&128)===0&&(typeof g.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(gp===null||!gp.has(re))))return T.flags|=65536,Z&=-Z,T.lanes|=Z,Z=Pu(Z),up(Z,f,T,D),xf(T,Z),!1}T=T.return}while(T!==null);return!1}var Ky=Error(r(461)),io=!1;function Io(f,g,T,D){g.child=f===null?cm(g,null,T,D):gc(g,f.child,T,D)}function sa(f,g,T,D,Z){T=T.render;var re=g.ref;if("ref"in D){var Ne={};for(var et in D)et!=="ref"&&(Ne[et]=D[et])}else Ne=D;return Dd(g),D=dh(f,g,T,Ne,re,Z),et=op(),f!==null&&!io?(rd(f,g,Z),po(f,g,Z)):(ka&&et&&Tu(g),g.flags|=1,Io(f,g,D,Z),g.child)}function If(f,g,T,D,Z){if(f===null){var re=T.type;return typeof re=="function"&&!qc(re)&&re.defaultProps===void 0&&T.compare===null?(g.tag=15,g.type=re,bv(f,g,re,D,Z)):(f=xg(T.type,null,D,g,g.mode,Z),f.ref=g.ref,f.return=g,g.child=f)}if(re=f.child,!t0(f,Z)){var Ne=re.memoizedProps;if(T=T.compare,T=T!==null?T:cc,T(Ne,D)&&f.ref===g.ref)return po(f,g,Z)}return g.flags|=1,f=nl(re,D),f.ref=g.ref,f.return=g,g.child=f}function bv(f,g,T,D,Z){if(f!==null){var re=f.memoizedProps;if(cc(re,D)&&f.ref===g.ref)if(io=!1,g.pendingProps=D=re,t0(f,Z))(f.flags&131072)!==0&&(io=!0);else return g.lanes=f.lanes,po(f,g,Z)}return xv(f,g,T,D,Z)}function _c(f,g,T,D){var Z=D.children,re=f!==null?f.memoizedState:null;if(f===null&&g.stateNode===null&&(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),D.mode==="hidden"){if((g.flags&128)!==0){if(re=re!==null?re.baseLanes|T:T,f!==null){for(D=g.child=f.child,Z=0;D!==null;)Z=Z|D.lanes|D.childLanes,D=D.sibling;D=Z&~re}else D=0,g.child=null;return hm(f,g,re,T,D)}if((T&536870912)!==0)g.memoizedState={baseLanes:0,cachePool:null},f!==null&&yf(g,re!==null?re.cachePool:null),re!==null?Cr(g,re):Er(),Yy(g);else return D=g.lanes=536870912,hm(f,g,re!==null?re.baseLanes|T:T,T,D)}else re!==null?(yf(g,re.cachePool),Cr(g,re),Mu(),g.memoizedState=null):(f!==null&&yf(g,null),Er(),Mu());return Io(f,g,Z,T),g.child}function cp(f,g){return f!==null&&f.tag===22||g.stateNode!==null||(g.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.sibling}function hm(f,g,T,D,Z){var re=sm();return re=re===null?null:{parent:Yi._currentValue,pool:re},g.memoizedState={baseLanes:T,cachePool:re},f!==null&&yf(g,null),Er(),Yy(g),f!==null&&Au(f,g,D,!0),g.childLanes=Z,null}function Qy(f,g){return g=wv({mode:g.mode,children:g.children},f.mode),g.ref=f.ref,f.child=g,g.return=f,g}function Tl(f,g,T){return gc(g,f.child,null,T),f=Qy(g,g.pendingProps),f.flags|=2,El(g),g.memoizedState=null,f}function $w(f,g,T){var D=g.pendingProps,Z=(g.flags&128)!==0;if(g.flags&=-129,f===null){if(ka){if(D.mode==="hidden")return f=Qy(g,D),g.lanes=536870912,cp(null,f);if(Bs(g),(f=Ya)?(f=L_(f,nu),f=f!==null&&f.data==="&"?f:null,f!==null&&(g.memoizedState={dehydrated:f,treeContext:hc!==null?{id:Wc,overflow:al}:null,retryLane:536870912,hydrationErrors:null},T=sh(f),T.return=g,g.child=T,So=g,Ya=null)):f=null,f===null)throw Ll(g);return g.lanes=536870912,null}return Qy(g,D)}var re=f.memoizedState;if(re!==null){var Ne=re.dehydrated;if(Bs(g),Z)if(g.flags&256)g.flags&=-257,g=Tl(f,g,T);else if(g.memoizedState!==null)g.child=f.child,g.flags|=128,g=null;else throw Error(r(558));else if(io||Au(f,g,T,!1),Z=(T&f.childLanes)!==0,io||Z){if(D=Gi,D!==null&&(Ne=Ft(D,T),Ne!==0&&Ne!==re.retryLane))throw re.retryLane=Ne,bs(f,Ne),$u(D,f,Ne),Ky;bh(),g=Tl(f,g,T)}else f=re.treeContext,Ya=sd(Ne.nextSibling),So=g,ka=!0,Rd=null,nu=!1,f!==null&&lh(g,f),g=Qy(g,D),g.flags|=4096;return g}return f=nl(f.child,{mode:D.mode,children:D.children}),f.ref=g.ref,g.child=f,f.return=g,f}function _v(f,g){var T=g.ref;if(T===null)f!==null&&f.ref!==null&&(g.flags|=4194816);else{if(typeof T!="function"&&typeof T!="object")throw Error(r(284));(f===null||f.ref!==T)&&(g.flags|=4194816)}}function xv(f,g,T,D,Z){return Dd(g),T=dh(f,g,T,D,void 0,Z),D=op(),f!==null&&!io?(rd(f,g,Z),po(f,g,Z)):(ka&&D&&Tu(g),g.flags|=1,Io(f,g,T,Z),g.child)}function a_(f,g,T,D,Z,re){return Dd(g),g.updateQueue=null,T=wf(g,D,T,Z),fh(f),D=op(),f!==null&&!io?(rd(f,g,re),po(f,g,re)):(ka&&D&&Tu(g),g.flags|=1,Io(f,g,T,re),g.child)}function Jy(f,g,T,D,Z){if(Dd(g),g.stateNode===null){var re=ca,Ne=T.contextType;typeof Ne=="object"&&Ne!==null&&(re=To(Ne)),re=new T(D,re),g.memoizedState=re.state!==null&&re.state!==void 0?re.state:null,re.updater=lp,g.stateNode=re,re._reactInternals=g,re=g.stateNode,re.props=D,re.state=g.memoizedState,re.refs={},yc(g),Ne=T.contextType,re.context=typeof Ne=="object"&&Ne!==null?To(Ne):ca,re.state=g.memoizedState,Ne=T.getDerivedStateFromProps,typeof Ne=="function"&&(kg(g,T,Ne,D),re.state=g.memoizedState),typeof T.getDerivedStateFromProps=="function"||typeof re.getSnapshotBeforeUpdate=="function"||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(Ne=re.state,typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount(),Ne!==re.state&&lp.enqueueReplaceState(re,re.state,null),ch(g,D,re,Z),Pd(),re.state=g.memoizedState),typeof re.componentDidMount=="function"&&(g.flags|=4194308),D=!0}else if(f===null){re=g.stateNode;var et=g.memoizedProps,Dt=ko(T,et);re.props=Dt;var dn=re.context,In=T.contextType;Ne=ca,typeof In=="object"&&In!==null&&(Ne=To(In));var $n=T.getDerivedStateFromProps;In=typeof $n=="function"||typeof re.getSnapshotBeforeUpdate=="function",et=g.pendingProps!==et,In||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(et||dn!==Ne)&&Ng(g,re,D,Ne),iu=!1;var fn=g.memoizedState;re.state=fn,ch(g,D,re,Z),Pd(),dn=g.memoizedState,et||fn!==dn||iu?(typeof $n=="function"&&(kg(g,T,$n,D),dn=g.memoizedState),(Dt=iu||Ig(g,T,Dt,D,fn,dn,Ne))?(In||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(g.flags|=4194308)):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=D,g.memoizedState=dn),re.props=D,re.state=dn,re.context=Ne,D=Dt):(typeof re.componentDidMount=="function"&&(g.flags|=4194308),D=!1)}else{re=g.stateNode,Nu(f,g),Ne=g.memoizedProps,In=ko(T,Ne),re.props=In,$n=g.pendingProps,fn=re.context,dn=T.contextType,Dt=ca,typeof dn=="object"&&dn!==null&&(Dt=To(dn)),et=T.getDerivedStateFromProps,(dn=typeof et=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(Ne!==$n||fn!==Dt)&&Ng(g,re,D,Dt),iu=!1,fn=g.memoizedState,re.state=fn,ch(g,D,re,Z),Pd();var vn=g.memoizedState;Ne!==$n||fn!==vn||iu||f!==null&&f.dependencies!==null&&tp(f.dependencies)?(typeof et=="function"&&(kg(g,T,et,D),vn=g.memoizedState),(In=iu||Ig(g,T,In,D,fn,vn,Dt)||f!==null&&f.dependencies!==null&&tp(f.dependencies))?(dn||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(D,vn,Dt),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(D,vn,Dt)),typeof re.componentDidUpdate=="function"&&(g.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof re.componentDidUpdate!="function"||Ne===f.memoizedProps&&fn===f.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Ne===f.memoizedProps&&fn===f.memoizedState||(g.flags|=1024),g.memoizedProps=D,g.memoizedState=vn),re.props=D,re.state=vn,re.context=Dt,D=In):(typeof re.componentDidUpdate!="function"||Ne===f.memoizedProps&&fn===f.memoizedState||(g.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||Ne===f.memoizedProps&&fn===f.memoizedState||(g.flags|=1024),D=!1)}return re=D,_v(f,g),D=(g.flags&128)!==0,re||D?(re=g.stateNode,T=D&&typeof T.getDerivedStateFromError!="function"?null:re.render(),g.flags|=1,f!==null&&D?(g.child=gc(g,f.child,null,Z),g.child=gc(g,null,T,Z)):Io(f,g,T,Z),g.memoizedState=re.state,f=g.child):f=po(f,g,Z),f}function i_(f,g,T,D){return Je(),g.flags|=256,Io(f,g,T,D),g.child}var Ev={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function o_(f){return{baseLanes:f,cachePool:Jc()}}function zd(f,g,T){return f=f!==null?f.childLanes&~T:0,g&&(f|=Sc),f}function Cl(f,g,T){var D=g.pendingProps,Z=!1,re=(g.flags&128)!==0,Ne;if((Ne=re)||(Ne=f!==null&&f.memoizedState===null?!1:(ho.current&2)!==0),Ne&&(Z=!0,g.flags&=-129),Ne=(g.flags&32)!==0,g.flags&=-33,f===null){if(ka){if(Z?fo(g):Mu(),(f=Ya)?(f=L_(f,nu),f=f!==null&&f.data!=="&"?f:null,f!==null&&(g.memoizedState={dehydrated:f,treeContext:hc!==null?{id:Wc,overflow:al}:null,retryLane:536870912,hydrationErrors:null},T=sh(f),T.return=g,g.child=T,So=g,Ya=null)):f=null,f===null)throw Ll(g);return mo(f)?g.lanes=32:g.lanes=536870912,null}var et=D.children;return D=D.fallback,Z?(Mu(),Z=g.mode,et=wv({mode:"hidden",children:et},Z),D=pf(D,Z,T,null),et.return=g,D.return=g,et.sibling=D,g.child=et,D=g.child,D.memoizedState=o_(T),D.childLanes=zd(f,Ne,T),g.memoizedState=Ev,cp(null,D)):(fo(g),Mg(g,et))}var Dt=f.memoizedState;if(Dt!==null&&(et=Dt.dehydrated,et!==null)){if(re)g.flags&256?(fo(g),g.flags&=-257,g=pm(f,g,T)):g.memoizedState!==null?(Mu(),g.child=f.child,g.flags|=128,g=null):(Mu(),et=D.fallback,Z=g.mode,D=wv({mode:"visible",children:D.children},Z),et=pf(et,Z,T,null),et.flags|=2,D.return=g,et.return=g,D.sibling=et,g.child=D,gc(g,f.child,null,T),D=g.child,D.memoizedState=o_(T),D.childLanes=zd(f,Ne,T),g.memoizedState=Ev,g=cp(null,D));else if(fo(g),mo(et)){if(Ne=et.nextSibling&&et.nextSibling.dataset,Ne)var dn=Ne.dgst;Ne=dn,D=Error(r(419)),D.stack="",D.digest=Ne,Cu({value:D,source:null,stack:null}),g=pm(f,g,T)}else if(io||Au(f,g,T,!1),Ne=(T&f.childLanes)!==0,io||Ne){if(Ne=Gi,Ne!==null&&(D=Ft(Ne,T),D!==0&&D!==Dt.retryLane))throw Dt.retryLane=D,bs(f,D),$u(Ne,f,D),Ky;$l(et)||bh(),g=pm(f,g,T)}else $l(et)?(g.flags|=192,g.child=f.child,g=null):(f=Dt.treeContext,Ya=sd(et.nextSibling),So=g,ka=!0,Rd=null,nu=!1,f!==null&&lh(g,f),g=Mg(g,D.children),g.flags|=4096);return g}return Z?(Mu(),et=D.fallback,Z=g.mode,Dt=f.child,dn=Dt.sibling,D=nl(Dt,{mode:"hidden",children:D.children}),D.subtreeFlags=Dt.subtreeFlags&65011712,dn!==null?et=nl(dn,et):(et=pf(et,Z,T,null),et.flags|=2),et.return=g,D.return=g,D.sibling=et,g.child=D,cp(null,D),D=g.child,et=f.child.memoizedState,et===null?et=o_(T):(Z=et.cachePool,Z!==null?(Dt=Yi._currentValue,Z=Z.parent!==Dt?{parent:Dt,pool:Dt}:Z):Z=Jc(),et={baseLanes:et.baseLanes|T,cachePool:Z}),D.memoizedState=et,D.childLanes=zd(f,Ne,T),g.memoizedState=Ev,cp(f.child,D)):(fo(g),T=f.child,f=T.sibling,T=nl(T,{mode:"visible",children:D.children}),T.return=g,T.sibling=null,f!==null&&(Ne=g.deletions,Ne===null?(g.deletions=[f],g.flags|=16):Ne.push(f)),g.child=T,g.memoizedState=null,T)}function Mg(f,g){return g=wv({mode:"visible",children:g},f.mode),g.return=f,f.child=g}function wv(f,g){return f=Ps(22,f,null,g),f.lanes=0,f}function pm(f,g,T){return gc(g,f.child,null,T),f=Mg(g,g.pendingProps.children),f.flags|=2,g.memoizedState=null,f}function s_(f,g,T){f.lanes|=g;var D=f.alternate;D!==null&&(D.lanes|=g),Qc(f.return,g,T)}function e0(f,g,T,D,Z,re){var Ne=f.memoizedState;Ne===null?f.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:D,tail:T,tailMode:Z,treeForkCount:re}:(Ne.isBackwards=g,Ne.rendering=null,Ne.renderingStartTime=0,Ne.last=D,Ne.tail=T,Ne.tailMode=Z,Ne.treeForkCount=re)}function Nf(f,g,T){var D=g.pendingProps,Z=D.revealOrder,re=D.tail;D=D.children;var Ne=ho.current,et=(Ne&2)!==0;if(et?(Ne=Ne&1|2,g.flags|=128):Ne&=1,Ze(ho,Ne),Io(f,g,D,T),D=ka?no:0,!et&&f!==null&&(f.flags&128)!==0)e:for(f=g.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&s_(f,T,g);else if(f.tag===19)s_(f,T,g);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===g)break e;for(;f.sibling===null;){if(f.return===null||f.return===g)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}switch(Z){case"forwards":for(T=g.child,Z=null;T!==null;)f=T.alternate,f!==null&&Fd(f)===null&&(Z=T),T=T.sibling;T=Z,T===null?(Z=g.child,g.child=null):(Z=T.sibling,T.sibling=null),e0(g,!1,Z,T,re,D);break;case"backwards":case"unstable_legacy-backwards":for(T=null,Z=g.child,g.child=null;Z!==null;){if(f=Z.alternate,f!==null&&Fd(f)===null){g.child=Z;break}f=Z.sibling,Z.sibling=T,T=Z,Z=f}e0(g,!0,T,null,re,D);break;case"together":e0(g,!1,null,null,void 0,D);break;default:g.memoizedState=null}return g.child}function po(f,g,T){if(f!==null&&(g.dependencies=f.dependencies),od|=g.lanes,(T&g.childLanes)===0)if(f!==null){if(Au(f,g,T,!1),(T&g.childLanes)===0)return null}else return null;if(f!==null&&g.child!==f.child)throw Error(r(153));if(g.child!==null){for(f=g.child,T=nl(f,f.pendingProps),g.child=T,T.return=g;f.sibling!==null;)f=f.sibling,T=T.sibling=nl(f,f.pendingProps),T.return=g;T.sibling=null}return g.child}function t0(f,g){return(f.lanes&g)!==0?!0:(f=f.dependencies,!!(f!==null&&tp(f)))}function l_(f,g,T){switch(g.tag){case 3:We(g,g.stateNode.containerInfo),Od(g,Yi,f.memoizedState.cache),Je();break;case 27:case 5:zt(g);break;case 4:We(g,g.stateNode.containerInfo);break;case 10:Od(g,g.type,g.memoizedProps.value);break;case 31:if(g.memoizedState!==null)return g.flags|=128,Bs(g),null;break;case 13:var D=g.memoizedState;if(D!==null)return D.dehydrated!==null?(fo(g),g.flags|=128,null):(T&g.child.childLanes)!==0?Cl(f,g,T):(fo(g),f=po(f,g,T),f!==null?f.sibling:null);fo(g);break;case 19:var Z=(f.flags&128)!==0;if(D=(T&g.childLanes)!==0,D||(Au(f,g,T,!1),D=(T&g.childLanes)!==0),Z){if(D)return Nf(f,g,T);g.flags|=128}if(Z=g.memoizedState,Z!==null&&(Z.rendering=null,Z.tail=null,Z.lastEffect=null),Ze(ho,ho.current),D)break;return null;case 22:return g.lanes=0,_c(f,g,T,g.pendingProps);case 24:Od(g,Yi,f.memoizedState.cache)}return po(f,g,T)}function ox(f,g,T){if(f!==null)if(f.memoizedProps!==g.pendingProps)io=!0;else{if(!t0(f,T)&&(g.flags&128)===0)return io=!1,l_(f,g,T);io=(f.flags&131072)!==0}else io=!1,ka&&(g.flags&1048576)!==0&&im(g,no,g.index);switch(g.lanes=0,g.tag){case 16:e:{var D=g.pendingProps;if(f=Fs(g.elementType),g.type=f,typeof f=="function")qc(f)?(D=ko(f,D),g.tag=1,g=Jy(null,g,f,D,T)):(g.tag=0,g=xv(null,g,f,D,T));else{if(f!=null){var Z=f.$$typeof;if(Z===ne){g.tag=11,g=sa(null,g,f,D,T);break e}else if(Z===oe){g.tag=14,g=If(null,g,f,D,T);break e}}throw g=xe(f)||f,Error(r(306,g,""))}}return g;case 0:return xv(f,g,g.type,g.pendingProps,T);case 1:return D=g.type,Z=ko(D,g.pendingProps),Jy(f,g,D,Z,T);case 3:e:{if(We(g,g.stateNode.containerInfo),f===null)throw Error(r(387));D=g.pendingProps;var re=g.memoizedState;Z=re.element,Nu(f,g),ch(g,D,null,T);var Ne=g.memoizedState;if(D=Ne.cache,Od(g,Yi,D),D!==re.cache&&Eg(g,[Yi],T,!0),Pd(),D=Ne.element,re.isDehydrated)if(re={element:D,isDehydrated:!1,cache:Ne.cache},g.updateQueue.baseState=re,g.memoizedState=re,g.flags&256){g=i_(f,g,D,T);break e}else if(D!==Z){Z=rl(Error(r(424)),g),Cu(Z),g=i_(f,g,D,T);break e}else{switch(f=g.stateNode.containerInfo,f.nodeType){case 9:f=f.body;break;default:f=f.nodeName==="HTML"?f.ownerDocument.body:f}for(Ya=sd(f.firstChild),So=g,ka=!0,Rd=null,nu=!0,T=cm(g,null,D,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling}else{if(Je(),D===Z){g=po(f,g,T);break e}Io(f,g,D,T)}g=g.child}return g;case 26:return _v(f,g),f===null?(T=Kv(g.type,null,g.pendingProps,null))?g.memoizedState=T:ka||(T=g.type,f=g.pendingProps,D=Lf(St.current).createElement(T),D[Jn]=g,D[qt]=f,Zo(D,T,f),Wn(D),g.stateNode=D):g.memoizedState=Kv(g.type,f.memoizedProps,g.pendingProps,f.memoizedState),null;case 27:return zt(g),f===null&&ka&&(D=g.stateNode=xx(g.type,g.pendingProps,St.current),So=g,nu=!0,Z=Ya,Pr(g.type)?(Zv=Z,Ya=sd(D.firstChild)):Ya=Z),Io(f,g,g.pendingProps.children,T),_v(f,g),f===null&&(g.flags|=4194304),g.child;case 5:return f===null&&ka&&((Z=D=Ya)&&(D=Ts(D,g.type,g.pendingProps,nu),D!==null?(g.stateNode=D,So=g,Ya=sd(D.firstChild),nu=!1,Z=!0):Z=!1),Z||Ll(g)),zt(g),Z=g.type,re=g.pendingProps,Ne=f!==null?f.memoizedProps:null,D=re.children,Pf(Z,re)?D=null:Ne!==null&&Pf(Z,Ne)&&(g.flags|=32),g.memoizedState!==null&&(Z=dh(f,g,fm,null,null,T),ty._currentValue=Z),_v(f,g),Io(f,g,D,T),g.child;case 6:return f===null&&ka&&((f=T=Ya)&&(T=ha(T,g.pendingProps,nu),T!==null?(g.stateNode=T,So=g,Ya=null,f=!0):f=!1),f||Ll(g)),null;case 13:return Cl(f,g,T);case 4:return We(g,g.stateNode.containerInfo),D=g.pendingProps,f===null?g.child=gc(g,null,D,T):Io(f,g,D,T),g.child;case 11:return sa(f,g,g.type,g.pendingProps,T);case 7:return Io(f,g,g.pendingProps,T),g.child;case 8:return Io(f,g,g.pendingProps.children,T),g.child;case 12:return Io(f,g,g.pendingProps.children,T),g.child;case 10:return D=g.pendingProps,Od(g,g.type,D.value),Io(f,g,D.children,T),g.child;case 9:return Z=g.type._context,D=g.pendingProps.children,Dd(g),Z=To(Z),D=D(Z),g.flags|=1,Io(f,g,D,T),g.child;case 14:return If(f,g,g.type,g.pendingProps,T);case 15:return bv(f,g,g.type,g.pendingProps,T);case 19:return Nf(f,g,T);case 31:return $w(f,g,T);case 22:return _c(f,g,T,g.pendingProps);case 24:return Dd(g),D=To(Yi),f===null?(Z=sm(),Z===null&&(Z=Gi,re=ol(),Z.pooledCache=re,re.refCount++,re!==null&&(Z.pooledCacheLanes|=T),Z=re),g.memoizedState={parent:D,cache:Z},yc(g),Od(g,Yi,Z)):((f.lanes&T)!==0&&(Nu(f,g),ch(g,null,null,T),Pd()),Z=f.memoizedState,re=g.memoizedState,Z.parent!==D?(Z={parent:D,cache:D},g.memoizedState=Z,g.lanes===0&&(g.memoizedState=g.updateQueue.baseState=Z),Od(g,Yi,D)):(D=re.cache,Od(g,Yi,D),D!==Z.cache&&Eg(g,[Yi],T,!0))),Io(f,g,g.pendingProps.children,T),g.child;case 29:throw g.pendingProps}throw Error(r(156,g.tag))}function Rf(f){f.flags|=4}function u_(f,g,T,D,Z){if((g=(f.mode&32)!==0)&&(g=!1),g){if(f.flags|=16777216,(Z&335544128)===Z)if(f.stateNode.complete)f.flags|=8192;else if(Ug())f.flags|=8192;else throw ed=lm,ap}else f.flags&=-16777217}function c_(f,g){if(g.type!=="stylesheet"||(g.state.loading&4)!==0)f.flags&=-16777217;else if(f.flags|=16777216,!z_(g))if(Ug())f.flags|=8192;else throw ed=lm,ap}function Og(f,g){g!==null&&(f.flags|=4),f.flags&16384&&(g=f.tag!==22?on():536870912,f.lanes|=g,jg|=g)}function n0(f,g){if(!ka)switch(f.tailMode){case"hidden":g=f.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?f.tail=null:T.sibling=null;break;case"collapsed":T=f.tail;for(var D=null;T!==null;)T.alternate!==null&&(D=T),T=T.sibling;D===null?g||f.tail===null?f.tail=null:f.tail.sibling=null:D.sibling=null}}function Ai(f){var g=f.alternate!==null&&f.alternate.child===f.child,T=0,D=0;if(g)for(var Z=f.child;Z!==null;)T|=Z.lanes|Z.childLanes,D|=Z.subtreeFlags&65011712,D|=Z.flags&65011712,Z.return=f,Z=Z.sibling;else for(Z=f.child;Z!==null;)T|=Z.lanes|Z.childLanes,D|=Z.subtreeFlags,D|=Z.flags,Z.return=f,Z=Z.sibling;return f.subtreeFlags|=D,f.childLanes=T,g}function d_(f,g,T){var D=g.pendingProps;switch(Zc(g),g.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(g),null;case 1:return Ai(g),null;case 3:return T=g.stateNode,D=null,f!==null&&(D=f.memoizedState.cache),g.memoizedState.cache!==D&&(g.flags|=2048),Kc(Yi),en(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(pc(g)?Rf(g):f===null||f.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,vl())),Ai(g),null;case 26:var Z=g.type,re=g.memoizedState;return f===null?(Rf(g),re!==null?(Ai(g),c_(g,re)):(Ai(g),u_(g,Z,null,D,T))):re?re!==f.memoizedState?(Rf(g),Ai(g),c_(g,re)):(Ai(g),g.flags&=-16777217):(f=f.memoizedProps,f!==D&&Rf(g),Ai(g),u_(g,Z,f,D,T)),null;case 27:if(rn(g),T=St.current,Z=g.type,f!==null&&g.stateNode!=null)f.memoizedProps!==D&&Rf(g);else{if(!D){if(g.stateNode===null)throw Error(r(166));return Ai(g),null}f=Qe.current,pc(g)?il(g):(f=xx(Z,D,T),g.stateNode=f,Rf(g))}return Ai(g),null;case 5:if(rn(g),Z=g.type,f!==null&&g.stateNode!=null)f.memoizedProps!==D&&Rf(g);else{if(!D){if(g.stateNode===null)throw Error(r(166));return Ai(g),null}if(re=Qe.current,pc(g))il(g);else{var Ne=Lf(St.current);switch(re){case 1:re=Ne.createElementNS("http://www.w3.org/2000/svg",Z);break;case 2:re=Ne.createElementNS("http://www.w3.org/1998/Math/MathML",Z);break;default:switch(Z){case"svg":re=Ne.createElementNS("http://www.w3.org/2000/svg",Z);break;case"math":re=Ne.createElementNS("http://www.w3.org/1998/Math/MathML",Z);break;case"script":re=Ne.createElement("div"),re.innerHTML="<script><\/script>",re=re.removeChild(re.firstChild);break;case"select":re=typeof D.is=="string"?Ne.createElement("select",{is:D.is}):Ne.createElement("select"),D.multiple?re.multiple=!0:D.size&&(re.size=D.size);break;default:re=typeof D.is=="string"?Ne.createElement(Z,{is:D.is}):Ne.createElement(Z)}}re[Jn]=g,re[qt]=D;e:for(Ne=g.child;Ne!==null;){if(Ne.tag===5||Ne.tag===6)re.appendChild(Ne.stateNode);else if(Ne.tag!==4&&Ne.tag!==27&&Ne.child!==null){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===g)break e;for(;Ne.sibling===null;){if(Ne.return===null||Ne.return===g)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}g.stateNode=re;e:switch(Zo(re,Z,D),Z){case"button":case"input":case"select":case"textarea":D=!!D.autoFocus;break e;case"img":D=!0;break e;default:D=!1}D&&Rf(g)}}return Ai(g),u_(g,g.type,f===null?null:f.memoizedProps,g.pendingProps,T),null;case 6:if(f&&g.stateNode!=null)f.memoizedProps!==D&&Rf(g);else{if(typeof D!="string"&&g.stateNode===null)throw Error(r(166));if(f=St.current,pc(g)){if(f=g.stateNode,T=g.memoizedProps,D=null,Z=So,Z!==null)switch(Z.tag){case 27:case 5:D=Z.memoizedProps}f[Jn]=g,f=!!(f.nodeValue===T||D!==null&&D.suppressHydrationWarning===!0||Hv(f.nodeValue,T)),f||Ll(g,!0)}else f=Lf(f).createTextNode(D),f[Jn]=g,g.stateNode=f}return Ai(g),null;case 31:if(T=g.memoizedState,f===null||f.memoizedState!==null){if(D=pc(g),T!==null){if(f===null){if(!D)throw Error(r(318));if(f=g.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(557));f[Jn]=g}else Je(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ai(g),f=!1}else T=vl(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=T),f=!0;if(!f)return g.flags&256?(El(g),g):(El(g),null);if((g.flags&128)!==0)throw Error(r(558))}return Ai(g),null;case 13:if(D=g.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Z=pc(g),D!==null&&D.dehydrated!==null){if(f===null){if(!Z)throw Error(r(318));if(Z=g.memoizedState,Z=Z!==null?Z.dehydrated:null,!Z)throw Error(r(317));Z[Jn]=g}else Je(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;Ai(g),Z=!1}else Z=vl(),f!==null&&f.memoizedState!==null&&(f.memoizedState.hydrationErrors=Z),Z=!0;if(!Z)return g.flags&256?(El(g),g):(El(g),null)}return El(g),(g.flags&128)!==0?(g.lanes=T,g):(T=D!==null,f=f!==null&&f.memoizedState!==null,T&&(D=g.child,Z=null,D.alternate!==null&&D.alternate.memoizedState!==null&&D.alternate.memoizedState.cachePool!==null&&(Z=D.alternate.memoizedState.cachePool.pool),re=null,D.memoizedState!==null&&D.memoizedState.cachePool!==null&&(re=D.memoizedState.cachePool.pool),re!==Z&&(D.flags|=2048)),T!==f&&T&&(g.child.flags|=8192),Og(g,g.updateQueue),Ai(g),null);case 4:return en(),f===null&&Uv(g.stateNode.containerInfo),Ai(g),null;case 10:return Kc(g.type),Ai(g),null;case 19:if(je(ho),D=g.memoizedState,D===null)return Ai(g),null;if(Z=(g.flags&128)!==0,re=D.rendering,re===null)if(Z)n0(D,!1);else{if(No!==0||f!==null&&(f.flags&128)!==0)for(f=g.child;f!==null;){if(re=Fd(f),re!==null){for(g.flags|=128,n0(D,!1),f=re.updateQueue,g.updateQueue=f,Og(g,f),g.subtreeFlags=0,f=T,T=g.child;T!==null;)yv(T,f),T=T.sibling;return Ze(ho,ho.current&1|2),ka&&tu(g,D.treeForkCount),g.child}f=f.sibling}D.tail!==null&&hn()>mp&&(g.flags|=128,Z=!0,n0(D,!1),g.lanes=4194304)}else{if(!Z)if(f=Fd(re),f!==null){if(g.flags|=128,Z=!0,f=f.updateQueue,g.updateQueue=f,Og(g,f),n0(D,!0),D.tail===null&&D.tailMode==="hidden"&&!re.alternate&&!ka)return Ai(g),null}else 2*hn()-D.renderingStartTime>mp&&T!==536870912&&(g.flags|=128,Z=!0,n0(D,!1),g.lanes=4194304);D.isBackwards?(re.sibling=g.child,g.child=re):(f=D.last,f!==null?f.sibling=re:g.child=re,D.last=re)}return D.tail!==null?(f=D.tail,D.rendering=f,D.tail=f.sibling,D.renderingStartTime=hn(),f.sibling=null,T=ho.current,Ze(ho,Z?T&1|2:T&1),ka&&tu(g,D.treeForkCount),f):(Ai(g),null);case 22:case 23:return El(g),td(),D=g.memoizedState!==null,f!==null?f.memoizedState!==null!==D&&(g.flags|=8192):D&&(g.flags|=8192),D?(T&536870912)!==0&&(g.flags&128)===0&&(Ai(g),g.subtreeFlags&6&&(g.flags|=8192)):Ai(g),T=g.updateQueue,T!==null&&Og(g,T.retryQueue),T=null,f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),D=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(D=g.memoizedState.cachePool.pool),D!==T&&(g.flags|=2048),f!==null&&je(mc),null;case 24:return T=null,f!==null&&(T=f.memoizedState.cache),g.memoizedState.cache!==T&&(g.flags|=2048),Kc(Yi),Ai(g),null;case 25:return null;case 30:return null}throw Error(r(156,g.tag))}function Dg(f,g){switch(Zc(g),g.tag){case 1:return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 3:return Kc(Yi),en(),f=g.flags,(f&65536)!==0&&(f&128)===0?(g.flags=f&-65537|128,g):null;case 26:case 27:case 5:return rn(g),null;case 31:if(g.memoizedState!==null){if(El(g),g.alternate===null)throw Error(r(340));Je()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 13:if(El(g),f=g.memoizedState,f!==null&&f.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Je()}return f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 19:return je(ho),null;case 4:return en(),null;case 10:return Kc(g.type),null;case 22:case 23:return El(g),td(),f!==null&&je(mc),f=g.flags,f&65536?(g.flags=f&-65537|128,g):null;case 24:return Kc(Yi),null;case 25:return null;default:return null}}function Sv(f,g){switch(Zc(g),g.tag){case 3:Kc(Yi),en();break;case 26:case 27:case 5:rn(g);break;case 4:en();break;case 31:g.memoizedState!==null&&El(g);break;case 13:El(g);break;case 19:je(ho);break;case 10:Kc(g.type);break;case 22:case 23:El(g),td(),f!==null&&je(mc);break;case 24:Kc(Yi)}}function Lg(f,g){try{var T=g.updateQueue,D=T!==null?T.lastEffect:null;if(D!==null){var Z=D.next;T=Z;do{if((T.tag&f)===f){D=void 0;var re=T.create,Ne=T.inst;D=re(),Ne.destroy=D}T=T.next}while(T!==Z)}}catch(et){hi(g,g.return,et)}}function hh(f,g,T){try{var D=g.updateQueue,Z=D!==null?D.lastEffect:null;if(Z!==null){var re=Z.next;D=re;do{if((D.tag&f)===f){var Ne=D.inst,et=Ne.destroy;if(et!==void 0){Ne.destroy=void 0,Z=g;var Dt=T,dn=et;try{dn()}catch(In){hi(Z,Dt,In)}}}D=D.next}while(D!==re)}}catch(In){hi(g,g.return,In)}}function dp(f){var g=f.updateQueue;if(g!==null){var T=f.stateNode;try{dm(g,T)}catch(D){hi(f,f.return,D)}}}function r0(f,g,T){T.props=ko(f.type,f.memoizedProps),T.state=f.memoizedState;try{T.componentWillUnmount()}catch(D){hi(f,g,D)}}function cu(f,g){try{var T=f.ref;if(T!==null){switch(f.tag){case 26:case 27:case 5:var D=f.stateNode;break;case 30:D=f.stateNode;break;default:D=f.stateNode}typeof T=="function"?f.refCleanup=T(D):T.current=D}}catch(Z){hi(f,g,Z)}}function Vo(f,g){var T=f.ref,D=f.refCleanup;if(T!==null)if(typeof D=="function")try{D()}catch(Z){hi(f,g,Z)}finally{f.refCleanup=null,f=f.alternate,f!=null&&(f.refCleanup=null)}else if(typeof T=="function")try{T(null)}catch(Z){hi(f,g,Z)}else T.current=null}function Pg(f){var g=f.type,T=f.memoizedProps,D=f.stateNode;try{e:switch(g){case"button":case"input":case"select":case"textarea":T.autoFocus&&D.focus();break e;case"img":T.src?D.src=T.src:T.srcSet&&(D.srcset=T.srcSet)}}catch(Z){hi(f,f.return,Z)}}function Tv(f,g,T){try{var D=f.stateNode;x0(D,f.type,T,g),D[qt]=g}catch(Z){hi(f,f.return,Z)}}function sx(f){return f.tag===5||f.tag===3||f.tag===26||f.tag===27&&Pr(f.type)||f.tag===4}function f_(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||sx(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.tag===27&&Pr(f.type)||f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function h_(f,g,T){var D=f.tag;if(D===5||D===6)f=f.stateNode,g?(T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T).insertBefore(f,g):(g=T.nodeType===9?T.body:T.nodeName==="HTML"?T.ownerDocument.body:T,g.appendChild(f),T=T._reactRootContainer,T!=null||g.onclick!==null||(g.onclick=ps));else if(D!==4&&(D===27&&Pr(f.type)&&(T=f.stateNode,g=null),f=f.child,f!==null))for(h_(f,g,T),f=f.sibling;f!==null;)h_(f,g,T),f=f.sibling}function Cv(f,g,T){var D=f.tag;if(D===5||D===6)f=f.stateNode,g?T.insertBefore(f,g):T.appendChild(f);else if(D!==4&&(D===27&&Pr(f.type)&&(T=f.stateNode),f=f.child,f!==null))for(Cv(f,g,T),f=f.sibling;f!==null;)Cv(f,g,T),f=f.sibling}function lx(f){var g=f.stateNode,T=f.memoizedProps;try{for(var D=f.type,Z=g.attributes;Z.length;)g.removeAttributeNode(Z[0]);Zo(g,D,T),g[Jn]=f,g[qt]=T}catch(re){hi(f,f.return,re)}}var ph=!1,qo=!1,p_=!1,m_=typeof WeakSet=="function"?WeakSet:Set,Yo=null;function jw(f,g){if(f=f.containerInfo,Xg=ny,f=Ds(f),tl(f)){if("selectionStart"in f)var T={start:f.selectionStart,end:f.selectionEnd};else e:{T=(T=f.ownerDocument)&&T.defaultView||window;var D=T.getSelection&&T.getSelection();if(D&&D.rangeCount!==0){T=D.anchorNode;var Z=D.anchorOffset,re=D.focusNode;D=D.focusOffset;try{T.nodeType,re.nodeType}catch{T=null;break e}var Ne=0,et=-1,Dt=-1,dn=0,In=0,$n=f,fn=null;t:for(;;){for(var vn;$n!==T||Z!==0&&$n.nodeType!==3||(et=Ne+Z),$n!==re||D!==0&&$n.nodeType!==3||(Dt=Ne+D),$n.nodeType===3&&(Ne+=$n.nodeValue.length),(vn=$n.firstChild)!==null;)fn=$n,$n=vn;for(;;){if($n===f)break t;if(fn===T&&++dn===Z&&(et=Ne),fn===re&&++In===D&&(Dt=Ne),(vn=$n.nextSibling)!==null)break;$n=fn,fn=$n.parentNode}$n=vn}T=et===-1||Dt===-1?null:{start:et,end:Dt}}else T=null}T=T||{start:0,end:0}}else T=null;for(Vv={focusedElem:f,selectionRange:T},ny=!1,Yo=g;Yo!==null;)if(g=Yo,f=g.child,(g.subtreeFlags&1028)!==0&&f!==null)f.return=g,Yo=f;else for(;Yo!==null;){switch(g=Yo,re=g.alternate,f=g.flags,g.tag){case 0:if((f&4)!==0&&(f=g.updateQueue,f=f!==null?f.events:null,f!==null))for(T=0;T<f.length;T++)Z=f[T],Z.ref.impl=Z.nextImpl;break;case 11:case 15:break;case 1:if((f&1024)!==0&&re!==null){f=void 0,T=g,Z=re.memoizedProps,re=re.memoizedState,D=T.stateNode;try{var Rr=ko(T.type,Z);f=D.getSnapshotBeforeUpdate(Rr,re),D.__reactInternalSnapshotBeforeUpdate=f}catch(ta){hi(T,T.return,ta)}}break;case 3:if((f&1024)!==0){if(f=g.stateNode.containerInfo,T=f.nodeType,T===9)Il(f);else if(T===1)switch(f.nodeName){case"HEAD":case"HTML":case"BODY":Il(f);break;default:f.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(r(163))}if(f=g.sibling,f!==null){f.return=g.return,Yo=f;break}Yo=g.return}}function oo(f,g,T){var D=T.flags;switch(T.tag){case 0:case 11:case 15:Mf(f,T),D&4&&Lg(5,T);break;case 1:if(Mf(f,T),D&4)if(f=T.stateNode,g===null)try{f.componentDidMount()}catch(Ne){hi(T,T.return,Ne)}else{var Z=ko(T.type,g.memoizedProps);g=g.memoizedState;try{f.componentDidUpdate(Z,g,f.__reactInternalSnapshotBeforeUpdate)}catch(Ne){hi(T,T.return,Ne)}}D&64&&dp(T),D&512&&cu(T,T.return);break;case 3:if(Mf(f,T),D&64&&(f=T.updateQueue,f!==null)){if(g=null,T.child!==null)switch(T.child.tag){case 27:case 5:g=T.child.stateNode;break;case 1:g=T.child.stateNode}try{dm(f,g)}catch(Ne){hi(T,T.return,Ne)}}break;case 27:g===null&&D&4&&lx(T);case 26:case 5:Mf(f,T),g===null&&D&4&&Pg(T),D&512&&cu(T,T.return);break;case 12:Mf(f,T);break;case 31:Mf(f,T),D&4&&Av(f,T);break;case 13:Mf(f,T),D&4&&g_(f,T),D&64&&(f=T.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&(T=Bv.bind(null,T),Wv(f,T))));break;case 22:if(D=T.memoizedState!==null||ph,!D){g=g!==null&&g.memoizedState!==null||qo,Z=ph;var re=qo;ph=D,(qo=g)&&!re?Of(f,T,(T.subtreeFlags&8772)!==0):Mf(f,T),ph=Z,qo=re}break;case 30:break;default:Mf(f,T)}}function fp(f){var g=f.alternate;g!==null&&(f.alternate=null,fp(g)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(g=f.stateNode,g!==null&&Ke(g)),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}var Xi=null,Al=!1;function id(f,g,T){for(T=T.child;T!==null;)Fg(f,g,T),T=T.sibling}function Fg(f,g,T){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Bt,T)}catch{}switch(T.tag){case 26:qo||Vo(T,g),id(f,g,T),T.memoizedState?T.memoizedState.count--:T.stateNode&&(T=T.stateNode,T.parentNode.removeChild(T));break;case 27:qo||Vo(T,g);var D=Xi,Z=Al;Pr(T.type)&&(Xi=T.stateNode,Al=!1),id(f,g,T),Kg(T.stateNode),Xi=D,Al=Z;break;case 5:qo||Vo(T,g);case 6:if(D=Xi,Z=Al,Xi=null,id(f,g,T),Xi=D,Al=Z,Xi!==null)if(Al)try{(Xi.nodeType===9?Xi.body:Xi.nodeName==="HTML"?Xi.ownerDocument.body:Xi).removeChild(T.stateNode)}catch(re){hi(T,g,re)}else try{Xi.removeChild(T.stateNode)}catch(re){hi(T,g,re)}break;case 18:Xi!==null&&(Al?(f=Xi,Tc(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,T.stateNode),ry(f)):Tc(Xi,T.stateNode));break;case 4:D=Xi,Z=Al,Xi=T.stateNode.containerInfo,Al=!0,id(f,g,T),Xi=D,Al=Z;break;case 0:case 11:case 14:case 15:hh(2,T,g),qo||hh(4,T,g),id(f,g,T);break;case 1:qo||(Vo(T,g),D=T.stateNode,typeof D.componentWillUnmount=="function"&&r0(T,g,D)),id(f,g,T);break;case 21:id(f,g,T);break;case 22:qo=(D=qo)||T.memoizedState!==null,id(f,g,T),qo=D;break;default:id(f,g,T)}}function Av(f,g){if(g.memoizedState===null&&(f=g.alternate,f!==null&&(f=f.memoizedState,f!==null))){f=f.dehydrated;try{ry(f)}catch(T){hi(g,g.return,T)}}}function g_(f,g){if(g.memoizedState===null&&(f=g.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null))))try{ry(f)}catch(T){hi(g,g.return,T)}}function a0(f){switch(f.tag){case 31:case 13:case 19:var g=f.stateNode;return g===null&&(g=f.stateNode=new m_),g;case 22:return f=f.stateNode,g=f._retryCache,g===null&&(g=f._retryCache=new m_),g;default:throw Error(r(435,f.tag))}}function Bg(f,g){var T=a0(f);g.forEach(function(D){if(!T.has(D)){T.add(D);var Z=Yw.bind(null,f,D);D.then(Z,Z)}})}function js(f,g){var T=g.deletions;if(T!==null)for(var D=0;D<T.length;D++){var Z=T[D],re=f,Ne=g,et=Ne;e:for(;et!==null;){switch(et.tag){case 27:if(Pr(et.type)){Xi=et.stateNode,Al=!1;break e}break;case 5:Xi=et.stateNode,Al=!1;break e;case 3:case 4:Xi=et.stateNode.containerInfo,Al=!0;break e}et=et.return}if(Xi===null)throw Error(r(160));Fg(re,Ne,Z),Xi=null,Al=!1,re=Z.alternate,re!==null&&(re.return=null),Z.return=null}if(g.subtreeFlags&13886)for(g=g.child;g!==null;)mm(g,f),g=g.sibling}var Fu=null;function mm(f,g){var T=f.alternate,D=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:js(g,f),ki(f),D&4&&(hh(3,f,f.return),Lg(3,f),hh(5,f,f.return));break;case 1:js(g,f),ki(f),D&512&&(qo||T===null||Vo(T,T.return)),D&64&&ph&&(f=f.updateQueue,f!==null&&(D=f.callbacks,D!==null&&(T=f.shared.hiddenCallbacks,f.shared.hiddenCallbacks=T===null?D:T.concat(D))));break;case 26:var Z=Fu;if(js(g,f),ki(f),D&512&&(qo||T===null||Vo(T,T.return)),D&4){var re=T!==null?T.memoizedState:null;if(D=f.memoizedState,T===null)if(D===null)if(f.stateNode===null){e:{D=f.type,T=f.memoizedProps,Z=Z.ownerDocument||Z;t:switch(D){case"title":re=Z.getElementsByTagName("title")[0],(!re||re[ft]||re[Jn]||re.namespaceURI==="http://www.w3.org/2000/svg"||re.hasAttribute("itemprop"))&&(re=Z.createElement(D),Z.head.insertBefore(re,Z.querySelector("head > title"))),Zo(re,D,T),re[Jn]=f,Wn(re),D=re;break e;case"link":var Ne=Qv("link","href",Z).get(D+(T.href||""));if(Ne){for(var et=0;et<Ne.length;et++)if(re=Ne[et],re.getAttribute("href")===(T.href==null||T.href===""?null:T.href)&&re.getAttribute("rel")===(T.rel==null?null:T.rel)&&re.getAttribute("title")===(T.title==null?null:T.title)&&re.getAttribute("crossorigin")===(T.crossOrigin==null?null:T.crossOrigin)){Ne.splice(et,1);break t}}re=Z.createElement(D),Zo(re,D,T),Z.head.appendChild(re);break;case"meta":if(Ne=Qv("meta","content",Z).get(D+(T.content||""))){for(et=0;et<Ne.length;et++)if(re=Ne[et],re.getAttribute("content")===(T.content==null?null:""+T.content)&&re.getAttribute("name")===(T.name==null?null:T.name)&&re.getAttribute("property")===(T.property==null?null:T.property)&&re.getAttribute("http-equiv")===(T.httpEquiv==null?null:T.httpEquiv)&&re.getAttribute("charset")===(T.charSet==null?null:T.charSet)){Ne.splice(et,1);break t}}re=Z.createElement(D),Zo(re,D,T),Z.head.appendChild(re);break;default:throw Error(r(468,D))}re[Jn]=f,Wn(re),D=re}f.stateNode=D}else Jv(Z,f.type,f.stateNode);else f.stateNode=Sx(Z,D,f.memoizedProps);else re!==D?(re===null?T.stateNode!==null&&(T=T.stateNode,T.parentNode.removeChild(T)):re.count--,D===null?Jv(Z,f.type,f.stateNode):Sx(Z,D,f.memoizedProps)):D===null&&f.stateNode!==null&&Tv(f,f.memoizedProps,T.memoizedProps)}break;case 27:js(g,f),ki(f),D&512&&(qo||T===null||Vo(T,T.return)),T!==null&&D&4&&Tv(f,f.memoizedProps,T.memoizedProps);break;case 5:if(js(g,f),ki(f),D&512&&(qo||T===null||Vo(T,T.return)),f.flags&32){Z=f.stateNode;try{co(Z,"")}catch(Rr){hi(f,f.return,Rr)}}D&4&&f.stateNode!=null&&(Z=f.memoizedProps,Tv(f,Z,T!==null?T.memoizedProps:Z)),D&1024&&(p_=!0);break;case 6:if(js(g,f),ki(f),D&4){if(f.stateNode===null)throw Error(r(162));D=f.memoizedProps,T=f.stateNode;try{T.nodeValue=D}catch(Rr){hi(f,f.return,Rr)}}break;case 3:if(Ep=null,Z=Fu,Fu=Qg(g.containerInfo),js(g,f),Fu=Z,ki(f),D&4&&T!==null&&T.memoizedState.isDehydrated)try{ry(g.containerInfo)}catch(Rr){hi(f,f.return,Rr)}p_&&(p_=!1,ux(f));break;case 4:D=Fu,Fu=Qg(f.stateNode.containerInfo),js(g,f),ki(f),Fu=D;break;case 12:js(g,f),ki(f);break;case 31:js(g,f),ki(f),D&4&&(D=f.updateQueue,D!==null&&(f.updateQueue=null,Bg(f,D)));break;case 13:js(g,f),ki(f),f.child.flags&8192&&f.memoizedState!==null!=(T!==null&&T.memoizedState!==null)&&(vm=hn()),D&4&&(D=f.updateQueue,D!==null&&(f.updateQueue=null,Bg(f,D)));break;case 22:Z=f.memoizedState!==null;var Dt=T!==null&&T.memoizedState!==null,dn=ph,In=qo;if(ph=dn||Z,qo=In||Dt,js(g,f),qo=In,ph=dn,ki(f),D&8192)e:for(g=f.stateNode,g._visibility=Z?g._visibility&-2:g._visibility|1,Z&&(T===null||Dt||ph||qo||xc(f)),T=null,g=f;;){if(g.tag===5||g.tag===26){if(T===null){Dt=T=g;try{if(re=Dt.stateNode,Z)Ne=re.style,typeof Ne.setProperty=="function"?Ne.setProperty("display","none","important"):Ne.display="none";else{et=Dt.stateNode;var $n=Dt.memoizedProps.style,fn=$n!=null&&$n.hasOwnProperty("display")?$n.display:null;et.style.display=fn==null||typeof fn=="boolean"?"":(""+fn).trim()}}catch(Rr){hi(Dt,Dt.return,Rr)}}}else if(g.tag===6){if(T===null){Dt=g;try{Dt.stateNode.nodeValue=Z?"":Dt.memoizedProps}catch(Rr){hi(Dt,Dt.return,Rr)}}}else if(g.tag===18){if(T===null){Dt=g;try{var vn=Dt.stateNode;Z?zs(vn,!0):zs(Dt.stateNode,!1)}catch(Rr){hi(Dt,Dt.return,Rr)}}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===f)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break e;for(;g.sibling===null;){if(g.return===null||g.return===f)break e;T===g&&(T=null),g=g.return}T===g&&(T=null),g.sibling.return=g.return,g=g.sibling}D&4&&(D=f.updateQueue,D!==null&&(T=D.retryQueue,T!==null&&(D.retryQueue=null,Bg(f,T))));break;case 19:js(g,f),ki(f),D&4&&(D=f.updateQueue,D!==null&&(f.updateQueue=null,Bg(f,D)));break;case 30:break;case 21:break;default:js(g,f),ki(f)}}function ki(f){var g=f.flags;if(g&2){try{for(var T,D=f.return;D!==null;){if(sx(D)){T=D;break}D=D.return}if(T==null)throw Error(r(160));switch(T.tag){case 27:var Z=T.stateNode,re=f_(f);Cv(f,re,Z);break;case 5:var Ne=T.stateNode;T.flags&32&&(co(Ne,""),T.flags&=-33);var et=f_(f);Cv(f,et,Ne);break;case 3:case 4:var Dt=T.stateNode.containerInfo,dn=f_(f);h_(f,dn,Dt);break;default:throw Error(r(161))}}catch(In){hi(f,f.return,In)}f.flags&=-3}g&4096&&(f.flags&=-4097)}function ux(f){if(f.subtreeFlags&1024)for(f=f.child;f!==null;){var g=f;ux(g),g.tag===5&&g.flags&1024&&g.stateNode.reset(),f=f.sibling}}function Mf(f,g){if(g.subtreeFlags&8772)for(g=g.child;g!==null;)oo(f,g.alternate,g),g=g.sibling}function xc(f){for(f=f.child;f!==null;){var g=f;switch(g.tag){case 0:case 11:case 14:case 15:hh(4,g,g.return),xc(g);break;case 1:Vo(g,g.return);var T=g.stateNode;typeof T.componentWillUnmount=="function"&&r0(g,g.return,T),xc(g);break;case 27:Kg(g.stateNode);case 26:case 5:Vo(g,g.return),xc(g);break;case 22:g.memoizedState===null&&xc(g);break;case 30:xc(g);break;default:xc(g)}f=f.sibling}}function Of(f,g,T){for(T=T&&(g.subtreeFlags&8772)!==0,g=g.child;g!==null;){var D=g.alternate,Z=f,re=g,Ne=re.flags;switch(re.tag){case 0:case 11:case 15:Of(Z,re,T),Lg(4,re);break;case 1:if(Of(Z,re,T),D=re,Z=D.stateNode,typeof Z.componentDidMount=="function")try{Z.componentDidMount()}catch(dn){hi(D,D.return,dn)}if(D=re,Z=D.updateQueue,Z!==null){var et=D.stateNode;try{var Dt=Z.shared.hiddenCallbacks;if(Dt!==null)for(Z.shared.hiddenCallbacks=null,Z=0;Z<Dt.length;Z++)ou(Dt[Z],et)}catch(dn){hi(D,D.return,dn)}}T&&Ne&64&&dp(re),cu(re,re.return);break;case 27:lx(re);case 26:case 5:Of(Z,re,T),T&&D===null&&Ne&4&&Pg(re),cu(re,re.return);break;case 12:Of(Z,re,T);break;case 31:Of(Z,re,T),T&&Ne&4&&Av(Z,re);break;case 13:Of(Z,re,T),T&&Ne&4&&g_(Z,re);break;case 22:re.memoizedState===null&&Of(Z,re,T),cu(re,re.return);break;case 30:break;default:Of(Z,re,T)}g=g.sibling}}function kv(f,g){var T=null;f!==null&&f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(T=f.memoizedState.cachePool.pool),f=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(f=g.memoizedState.cachePool.pool),f!==T&&(f!=null&&f.refCount++,T!=null&&sl(T))}function gm(f,g){f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&sl(f))}function Ec(f,g,T,D){if(g.subtreeFlags&10256)for(g=g.child;g!==null;)y_(f,g,T,D),g=g.sibling}function y_(f,g,T,D){var Z=g.flags;switch(g.tag){case 0:case 11:case 15:Ec(f,g,T,D),Z&2048&&Lg(9,g);break;case 1:Ec(f,g,T,D);break;case 3:Ec(f,g,T,D),Z&2048&&(f=null,g.alternate!==null&&(f=g.alternate.memoizedState.cache),g=g.memoizedState.cache,g!==f&&(g.refCount++,f!=null&&sl(f)));break;case 12:if(Z&2048){Ec(f,g,T,D),f=g.stateNode;try{var re=g.memoizedProps,Ne=re.id,et=re.onPostCommit;typeof et=="function"&&et(Ne,g.alternate===null?"mount":"update",f.passiveEffectDuration,-0)}catch(Dt){hi(g,g.return,Dt)}}else Ec(f,g,T,D);break;case 31:Ec(f,g,T,D);break;case 13:Ec(f,g,T,D);break;case 23:break;case 22:re=g.stateNode,Ne=g.alternate,g.memoizedState!==null?re._visibility&2?Ec(f,g,T,D):i0(f,g):re._visibility&2?Ec(f,g,T,D):(re._visibility|=2,mh(f,g,T,D,(g.subtreeFlags&10256)!==0||!1)),Z&2048&&kv(Ne,g);break;case 24:Ec(f,g,T,D),Z&2048&&gm(g.alternate,g);break;default:Ec(f,g,T,D)}}function mh(f,g,T,D,Z){for(Z=Z&&((g.subtreeFlags&10256)!==0||!1),g=g.child;g!==null;){var re=f,Ne=g,et=T,Dt=D,dn=Ne.flags;switch(Ne.tag){case 0:case 11:case 15:mh(re,Ne,et,Dt,Z),Lg(8,Ne);break;case 23:break;case 22:var In=Ne.stateNode;Ne.memoizedState!==null?In._visibility&2?mh(re,Ne,et,Dt,Z):i0(re,Ne):(In._visibility|=2,mh(re,Ne,et,Dt,Z)),Z&&dn&2048&&kv(Ne.alternate,Ne);break;case 24:mh(re,Ne,et,Dt,Z),Z&&dn&2048&&gm(Ne.alternate,Ne);break;default:mh(re,Ne,et,Dt,Z)}g=g.sibling}}function i0(f,g){if(g.subtreeFlags&10256)for(g=g.child;g!==null;){var T=f,D=g,Z=D.flags;switch(D.tag){case 22:i0(T,D),Z&2048&&kv(D.alternate,D);break;case 24:i0(T,D),Z&2048&&gm(D.alternate,D);break;default:i0(T,D)}g=g.sibling}}var o0=8192;function $g(f,g,T){if(f.subtreeFlags&o0)for(f=f.child;f!==null;)cx(f,g,T),f=f.sibling}function cx(f,g,T){switch(f.tag){case 26:$g(f,g,T),f.flags&o0&&f.memoizedState!==null&&Am(T,Fu,f.memoizedState,f.memoizedProps);break;case 5:$g(f,g,T);break;case 3:case 4:var D=Fu;Fu=Qg(f.stateNode.containerInfo),$g(f,g,T),Fu=D;break;case 22:f.memoizedState===null&&(D=f.alternate,D!==null&&D.memoizedState!==null?(D=o0,o0=16777216,$g(f,g,T),o0=D):$g(f,g,T));break;default:$g(f,g,T)}}function dx(f){var g=f.alternate;if(g!==null&&(f=g.child,f!==null)){g.child=null;do g=f.sibling,f.sibling=null,f=g;while(f!==null)}}function gh(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var T=0;T<g.length;T++){var D=g[T];Yo=D,hx(D,f)}dx(f)}if(f.subtreeFlags&10256)for(f=f.child;f!==null;)fx(f),f=f.sibling}function fx(f){switch(f.tag){case 0:case 11:case 15:gh(f),f.flags&2048&&hh(9,f,f.return);break;case 3:gh(f);break;case 12:gh(f);break;case 22:var g=f.stateNode;f.memoizedState!==null&&g._visibility&2&&(f.return===null||f.return.tag!==13)?(g._visibility&=-3,s0(f)):gh(f);break;default:gh(f)}}function s0(f){var g=f.deletions;if((f.flags&16)!==0){if(g!==null)for(var T=0;T<g.length;T++){var D=g[T];Yo=D,hx(D,f)}dx(f)}for(f=f.child;f!==null;){switch(g=f,g.tag){case 0:case 11:case 15:hh(8,g,g.return),s0(g);break;case 22:T=g.stateNode,T._visibility&2&&(T._visibility&=-3,s0(g));break;default:s0(g)}f=f.sibling}}function hx(f,g){for(;Yo!==null;){var T=Yo;switch(T.tag){case 0:case 11:case 15:hh(8,T,g);break;case 23:case 22:if(T.memoizedState!==null&&T.memoizedState.cachePool!==null){var D=T.memoizedState.cachePool.pool;D!=null&&D.refCount++}break;case 24:sl(T.memoizedState.cache)}if(D=T.child,D!==null)D.return=T,Yo=D;else e:for(T=f;Yo!==null;){D=Yo;var Z=D.sibling,re=D.return;if(fp(D),D===T){Yo=null;break e}if(Z!==null){Z.return=re,Yo=Z;break e}Yo=re}}}var zw={getCacheForType:function(f){var g=To(Yi),T=g.data.get(f);return T===void 0&&(T=f(),g.data.set(f,T)),T},cacheSignal:function(){return To(Yi).controller.signal}},Uw=typeof WeakMap=="function"?WeakMap:Map,di=0,Gi=null,Ma=null,Ia=0,bi=0,wc=null,hp=!1,ym=!1,Iv=!1,Ud=0,No=0,od=0,pp=0,v_=0,Sc=0,jg=0,l0=null,Bu=null,Nv=!1,vm=0,b_=0,mp=1/0,u0=null,gp=null,Wo=0,yp=null,bm=null,yh=0,__=0,x_=null,E_=null,c0=0,w_=null;function fi(){return(di&2)!==0&&Ia!==0?Ia&-Ia:he.T!==null?cl():Pn()}function zg(){if(Sc===0)if((Ia&536870912)===0||ka){var f=Xn;Xn<<=1,(Xn&3932160)===0&&(Xn=262144),Sc=f}else Sc=536870912;return f=xl.current,f!==null&&(f.flags|=32),Sc}function $u(f,g,T){(f===Gi&&(bi===2||bi===9)||f.cancelPendingCommit!==null)&&(Gd(f,0),vh(f,Ia,Sc,!1)),Tr(f,T),((di&2)===0||f!==Gi)&&(f===Gi&&((di&2)===0&&(pp|=T),No===4&&vh(f,Ia,Sc,!1)),Vd(f))}function px(f,g,T){if((di&6)!==0)throw Error(r(327));var D=!T&&(g&127)===0&&(g&f.expiredLanes)===0||Mr(f,g),Z=D?Hw(f,g):Ov(f,g,!0),re=D;do{if(Z===0){ym&&!D&&vh(f,g,0,!1);break}else{if(T=f.current.alternate,re&&!T_(T)){Z=Ov(f,g,!1),re=!1;continue}if(Z===2){if(re=g,f.errorRecoveryDisabledLanes&re)var Ne=0;else Ne=f.pendingLanes&-536870913,Ne=Ne!==0?Ne:Ne&536870912?536870912:0;if(Ne!==0){g=Ne;e:{var et=f;Z=l0;var Dt=et.current.memoizedState.isDehydrated;if(Dt&&(Gd(et,Ne).flags|=256),Ne=Ov(et,Ne,!1),Ne!==2){if(Iv&&!Dt){et.errorRecoveryDisabledLanes|=re,pp|=re,Z=4;break e}re=Bu,Bu=Z,re!==null&&(Bu===null?Bu=re:Bu.push.apply(Bu,re))}Z=Ne}if(re=!1,Z!==2)continue}}if(Z===1){Gd(f,0),vh(f,g,0,!0);break}e:{switch(D=f,re=Z,re){case 0:case 1:throw Error(r(345));case 4:if((g&4194048)!==g)break;case 6:vh(D,g,Sc,!hp);break e;case 2:Bu=null;break;case 3:case 5:break;default:throw Error(r(329))}if((g&62914560)===g&&(Z=vm+300-hn(),10<Z)){if(vh(D,g,Sc,!hp),wn(D,0,!0)!==0)break e;yh=g,D.timeoutHandle=Yv(S_.bind(null,D,T,Bu,u0,Nv,g,Sc,pp,jg,hp,re,"Throttled",-0,0),Z);break e}S_(D,T,Bu,u0,Nv,g,Sc,pp,jg,hp,re,null,-0,0)}}break}while(!0);Vd(f)}function S_(f,g,T,D,Z,re,Ne,et,Dt,dn,In,$n,fn,vn){if(f.timeoutHandle=-1,$n=g.subtreeFlags,$n&8192||($n&16785408)===16785408){$n={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ps},cx(g,re,$n);var Rr=(re&62914560)===re?vm-hn():(re&4194048)===re?b_-hn():0;if(Rr=Tx($n,Rr),Rr!==null){yh=re,f.cancelPendingCommit=Rr(yx.bind(null,f,g,re,T,D,Z,Ne,et,Dt,In,$n,null,fn,vn)),vh(f,re,Ne,!dn);return}}yx(f,g,re,T,D,Z,Ne,et,Dt)}function T_(f){for(var g=f;;){var T=g.tag;if((T===0||T===11||T===15)&&g.flags&16384&&(T=g.updateQueue,T!==null&&(T=T.stores,T!==null)))for(var D=0;D<T.length;D++){var Z=T[D],re=Z.getSnapshot;Z=Z.value;try{if(!Li(re(),Z))return!1}catch{return!1}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function vh(f,g,T,D){g&=~v_,g&=~pp,f.suspendedLanes|=g,f.pingedLanes&=~g,D&&(f.warmLanes|=g),D=f.expirationTimes;for(var Z=g;0<Z;){var re=31-sn(Z),Ne=1<<re;D[re]=-1,Z&=~Ne}T!==0&&Xr(f,T,g)}function d0(){return(di&6)===0?(Em(0),!1):!0}function Rv(){if(Ma!==null){if(bi===0)var f=Ma.return;else f=Ma,Xc=fa=null,$d(f),Iu=null,au=0,f=Ma;for(;f!==null;)Sv(f.alternate,f),f=f.return;Ma=null}}function Gd(f,g){var T=f.timeoutHandle;T!==-1&&(f.timeoutHandle=-1,Xw(T)),T=f.cancelPendingCommit,T!==null&&(f.cancelPendingCommit=null,T()),yh=0,Rv(),Gi=f,Ma=T=nl(f.current,null),Ia=g,bi=0,wc=null,hp=!1,ym=Mr(f,g),Iv=!1,jg=Sc=v_=pp=od=No=0,Bu=l0=null,Nv=!1,(g&8)!==0&&(g|=g&32);var D=f.entangledLanes;if(D!==0)for(f=f.entanglements,D&=g;0<D;){var Z=31-sn(D),re=1<<Z;g|=f[Z],D&=~re}return Ud=g,Ls(),T}function Mv(f,g){Lr=null,he.H=Ci,g===or||g===Ld?(g=Tg(),bi=3):g===ap?(g=Tg(),bi=4):bi=g===Ky?8:g!==null&&typeof g=="object"&&typeof g.then=="function"?6:1,wc=g,Ma===null&&(No=1,Af(f,rl(g,f.current)))}function Ug(){var f=xl.current;return f===null?!0:(Ia&4194048)===Ia?ws===null:(Ia&62914560)===Ia||(Ia&536870912)!==0?f===ws:!1}function C_(){var f=he.H;return he.H=Ci,f===null?Ci:f}function f0(){var f=he.A;return he.A=zw,f}function bh(){No=4,hp||(Ia&4194048)!==Ia&&xl.current!==null||(ym=!0),(od&134217727)===0&&(pp&134217727)===0||Gi===null||vh(Gi,Ia,Sc,!1)}function Ov(f,g,T){var D=di;di|=2;var Z=C_(),re=f0();(Gi!==f||Ia!==g)&&(u0=null,Gd(f,g)),g=!1;var Ne=No;e:do try{if(bi!==0&&Ma!==null){var et=Ma,Dt=wc;switch(bi){case 8:Rv(),Ne=6;break e;case 3:case 2:case 9:case 6:xl.current===null&&(g=!0);var dn=bi;if(bi=0,wc=null,Gg(f,et,Dt,dn),T&&ym){Ne=0;break e}break;default:dn=bi,bi=0,wc=null,Gg(f,et,Dt,dn)}}Gw(),Ne=No;break}catch(In){Mv(f,In)}while(!0);return g&&f.shellSuspendCounter++,Xc=fa=null,di=D,he.H=Z,he.A=re,Ma===null&&(Gi=null,Ia=0,Ls()),Ne}function Gw(){for(;Ma!==null;)mx(Ma)}function Hw(f,g){var T=di;di|=2;var D=C_(),Z=f0();Gi!==f||Ia!==g?(u0=null,mp=hn()+500,Gd(f,g)):ym=Mr(f,g);e:do try{if(bi!==0&&Ma!==null){g=Ma;var re=wc;t:switch(bi){case 1:bi=0,wc=null,Gg(f,g,re,1);break;case 2:case 9:if(vf(re)){bi=0,wc=null,gx(g);break}g=function(){bi!==2&&bi!==9||Gi!==f||(bi=7),Vd(f)},re.then(g,g);break e;case 3:bi=7;break e;case 4:bi=5;break e;case 7:vf(re)?(bi=0,wc=null,gx(g)):(bi=0,wc=null,Gg(f,g,re,7));break;case 5:var Ne=null;switch(Ma.tag){case 26:Ne=Ma.memoizedState;case 5:case 27:var et=Ma;if(Ne?z_(Ne):et.stateNode.complete){bi=0,wc=null;var Dt=et.sibling;if(Dt!==null)Ma=Dt;else{var dn=et.return;dn!==null?(Ma=dn,Dv(dn)):Ma=null}break t}}bi=0,wc=null,Gg(f,g,re,5);break;case 6:bi=0,wc=null,Gg(f,g,re,6);break;case 8:Rv(),No=6;break e;default:throw Error(r(462))}}Vw();break}catch(In){Mv(f,In)}while(!0);return Xc=fa=null,he.H=D,he.A=Z,di=T,Ma!==null?0:(Gi=null,Ia=0,Ls(),No)}function Vw(){for(;Ma!==null&&!xn();)mx(Ma)}function mx(f){var g=ox(f.alternate,f,Ud);f.memoizedProps=f.pendingProps,g===null?Dv(f):Ma=g}function gx(f){var g=f,T=g.alternate;switch(g.tag){case 15:case 0:g=a_(T,g,g.pendingProps,g.type,void 0,Ia);break;case 11:g=a_(T,g,g.pendingProps,g.type.render,g.ref,Ia);break;case 5:$d(g);default:Sv(T,g),g=Ma=yv(g,Ud),g=ox(T,g,Ud)}f.memoizedProps=f.pendingProps,g===null?Dv(f):Ma=g}function Gg(f,g,T,D){Xc=fa=null,$d(g),Iu=null,au=0;var Z=g.return;try{if(Xy(f,Z,g,T,Ia)){No=1,Af(f,rl(T,f.current)),Ma=null;return}}catch(re){if(Z!==null)throw Ma=Z,re;No=1,Af(f,rl(T,f.current)),Ma=null;return}g.flags&32768?(ka||D===1?f=!0:ym||(Ia&536870912)!==0?f=!1:(hp=f=!0,(D===2||D===9||D===3||D===6)&&(D=xl.current,D!==null&&D.tag===13&&(D.flags|=16384))),h0(g,f)):Dv(g)}function Dv(f){var g=f;do{if((g.flags&32768)!==0){h0(g,hp);return}f=g.return;var T=d_(g.alternate,g,Ud);if(T!==null){Ma=T;return}if(g=g.sibling,g!==null){Ma=g;return}Ma=g=f}while(g!==null);No===0&&(No=5)}function h0(f,g){do{var T=Dg(f.alternate,f);if(T!==null){T.flags&=32767,Ma=T;return}if(T=f.return,T!==null&&(T.flags|=32768,T.subtreeFlags=0,T.deletions=null),!g&&(f=f.sibling,f!==null)){Ma=f;return}Ma=f=T}while(f!==null);No=6,Ma=null}function yx(f,g,T,D,Z,re,Ne,et,Dt){f.cancelPendingCommit=null;do _m();while(Wo!==0);if((di&6)!==0)throw Error(r(327));if(g!==null){if(g===f.current)throw Error(r(177));if(re=g.lanes|g.childLanes,re|=eu,Ir(f,T,re,Ne,et,Dt),f===Gi&&(Ma=Gi=null,Ia=0),bm=g,yp=f,yh=T,__=re,x_=Z,E_=D,(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?(f.callbackNode=null,f.callbackPriority=0,Ww(ke,function(){return Fv(),null})):(f.callbackNode=null,f.callbackPriority=0),D=(g.flags&13878)!==0,(g.subtreeFlags&13878)!==0||D){D=he.T,he.T=null,Z=we.p,we.p=2,Ne=di,di|=4;try{jw(f,g,T)}finally{di=Ne,we.p=Z,he.T=D}}Wo=1,A_(),k_(),Lv()}}function A_(){if(Wo===1){Wo=0;var f=yp,g=bm,T=(g.flags&13878)!==0;if((g.subtreeFlags&13878)!==0||T){T=he.T,he.T=null;var D=we.p;we.p=2;var Z=di;di|=4;try{mm(g,f);var re=Vv,Ne=Ds(f.containerInfo),et=re.focusedElem,Dt=re.selectionRange;if(Ne!==et&&et&&et.ownerDocument&&oh(et.ownerDocument.documentElement,et)){if(Dt!==null&&tl(et)){var dn=Dt.start,In=Dt.end;if(In===void 0&&(In=dn),"selectionStart"in et)et.selectionStart=dn,et.selectionEnd=Math.min(In,et.value.length);else{var $n=et.ownerDocument||document,fn=$n&&$n.defaultView||window;if(fn.getSelection){var vn=fn.getSelection(),Rr=et.textContent.length,ta=Math.min(Dt.start,Rr),_i=Dt.end===void 0?ta:Math.min(Dt.end,Rr);!vn.extend&&ta>_i&&(Ne=_i,_i=ta,ta=Ne);var Zt=ih(et,ta),Gt=ih(et,_i);if(Zt&&Gt&&(vn.rangeCount!==1||vn.anchorNode!==Zt.node||vn.anchorOffset!==Zt.offset||vn.focusNode!==Gt.node||vn.focusOffset!==Gt.offset)){var ln=$n.createRange();ln.setStart(Zt.node,Zt.offset),vn.removeAllRanges(),ta>_i?(vn.addRange(ln),vn.extend(Gt.node,Gt.offset)):(ln.setEnd(Gt.node,Gt.offset),vn.addRange(ln))}}}}for($n=[],vn=et;vn=vn.parentNode;)vn.nodeType===1&&$n.push({element:vn,left:vn.scrollLeft,top:vn.scrollTop});for(typeof et.focus=="function"&&et.focus(),et=0;et<$n.length;et++){var Rn=$n[et];Rn.element.scrollLeft=Rn.left,Rn.element.scrollTop=Rn.top}}ny=!!Xg,Vv=Xg=null}finally{di=Z,we.p=D,he.T=T}}f.current=g,Wo=2}}function k_(){if(Wo===2){Wo=0;var f=yp,g=bm,T=(g.flags&8772)!==0;if((g.subtreeFlags&8772)!==0||T){T=he.T,he.T=null;var D=we.p;we.p=2;var Z=di;di|=4;try{oo(f,g.alternate,g)}finally{di=Z,we.p=D,he.T=T}}Wo=3}}function Lv(){if(Wo===4||Wo===3){Wo=0,En();var f=yp,g=bm,T=yh,D=E_;(g.subtreeFlags&10256)!==0||(g.flags&10256)!==0?Wo=5:(Wo=0,bm=yp=null,Pv(f,f.pendingLanes));var Z=f.pendingLanes;if(Z===0&&(gp=null),Ot(T),g=g.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Bt,g,void 0,(g.current.flags&128)===128)}catch{}if(D!==null){g=he.T,Z=we.p,we.p=2,he.T=null;try{for(var re=f.onRecoverableError,Ne=0;Ne<D.length;Ne++){var et=D[Ne];re(et.value,{componentStack:et.stack})}}finally{he.T=g,we.p=Z}}(yh&3)!==0&&_m(),Vd(f),Z=f.pendingLanes,(T&261930)!==0&&(Z&42)!==0?f===w_?c0++:(c0=0,w_=f):c0=0,Em(0)}}function Pv(f,g){(f.pooledCacheLanes&=g)===0&&(g=f.pooledCache,g!=null&&(f.pooledCache=null,sl(g)))}function _m(){return A_(),k_(),Lv(),Fv()}function Fv(){if(Wo!==5)return!1;var f=yp,g=__;__=0;var T=Ot(yh),D=he.T,Z=we.p;try{we.p=32>T?32:T,he.T=null,T=x_,x_=null;var re=yp,Ne=yh;if(Wo=0,bm=yp=null,yh=0,(di&6)!==0)throw Error(r(331));var et=di;if(di|=4,fx(re.current),y_(re,re.current,Ne,T),di=et,Em(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Bt,re)}catch{}return!0}finally{we.p=Z,he.T=D,Pv(f,g)}}function Df(f,g,T){g=rl(T,g),g=kf(f.stateNode,g,2),f=Ru(f,g,2),f!==null&&(Tr(f,2),Vd(f))}function hi(f,g,T){if(f.tag===3)Df(f,f,T);else for(;g!==null;){if(g.tag===3){Df(g,f,T);break}else if(g.tag===1){var D=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(gp===null||!gp.has(D))){f=rl(T,f),T=Pu(2),D=Ru(g,T,2),D!==null&&(up(T,D,g,f),Tr(D,2),Vd(D));break}}g=g.return}}function p0(f,g,T){var D=f.pingCache;if(D===null){D=f.pingCache=new Uw;var Z=new Set;D.set(g,Z)}else Z=D.get(g),Z===void 0&&(Z=new Set,D.set(g,Z));Z.has(T)||(Iv=!0,Z.add(T),f=qw.bind(null,f,g,T),g.then(f,f))}function qw(f,g,T){var D=f.pingCache;D!==null&&D.delete(g),f.pingedLanes|=f.suspendedLanes&T,f.warmLanes&=~T,Gi===f&&(Ia&T)===T&&(No===4||No===3&&(Ia&62914560)===Ia&&300>hn()-vm?(di&2)===0&&Gd(f,0):v_|=T,jg===Ia&&(jg=0)),Vd(f)}function Hg(f,g){g===0&&(g=on()),f=bs(f,g),f!==null&&(Tr(f,g),Vd(f))}function Bv(f){var g=f.memoizedState,T=0;g!==null&&(T=g.retryLane),Hg(f,T)}function Yw(f,g){var T=0;switch(f.tag){case 31:case 13:var D=f.stateNode,Z=f.memoizedState;Z!==null&&(T=Z.retryLane);break;case 19:D=f.stateNode;break;case 22:D=f.stateNode._retryCache;break;default:throw Error(r(314))}D!==null&&D.delete(g),Hg(f,T)}function Ww(f,g){return lr(f,g)}var Vg=null,xm=null,$v=!1,m0=!1,Hd=!1,du=0;function Vd(f){f!==xm&&f.next===null&&(xm===null?Vg=xm=f:xm=xm.next=f),m0=!0,$v||($v=!0,I_())}function Em(f,g){if(!Hd&&m0){Hd=!0;do for(var T=!1,D=Vg;D!==null;){if(f!==0){var Z=D.pendingLanes;if(Z===0)var re=0;else{var Ne=D.suspendedLanes,et=D.pingedLanes;re=(1<<31-sn(42|f)+1)-1,re&=Z&~(Ne&~et),re=re&201326741?re&201326741|1:re?re|2:0}re!==0&&(T=!0,zv(D,re))}else re=Ia,re=wn(D,D===Gi?re:0,D.cancelPendingCommit!==null||D.timeoutHandle!==-1),(re&3)===0||Mr(D,re)||(T=!0,zv(D,re));D=D.next}while(T);Hd=!1}}function Zw(){g0()}function g0(){m0=$v=!1;var f=0;du!==0&&D_()&&(f=du);for(var g=hn(),T=null,D=Vg;D!==null;){var Z=D.next,re=jv(D,g);re===0?(D.next=null,T===null?Vg=Z:T.next=Z,Z===null&&(xm=T)):(T=D,(f!==0||(re&3)!==0)&&(m0=!0)),D=Z}Wo!==0&&Wo!==5||Em(f),du!==0&&(du=0)}function jv(f,g){for(var T=f.suspendedLanes,D=f.pingedLanes,Z=f.expirationTimes,re=f.pendingLanes&-62914561;0<re;){var Ne=31-sn(re),et=1<<Ne,Dt=Z[Ne];Dt===-1?((et&T)===0||(et&D)!==0)&&(Z[Ne]=Mn(et,g)):Dt<=g&&(f.expiredLanes|=et),re&=~et}if(g=Gi,T=Ia,T=wn(f,f===g?T:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),D=f.callbackNode,T===0||f===g&&(bi===2||bi===9)||f.cancelPendingCommit!==null)return D!==null&&D!==null&&sr(D),f.callbackNode=null,f.callbackPriority=0;if((T&3)===0||Mr(f,T)){if(g=T&-T,g===f.callbackPriority)return g;switch(D!==null&&sr(D),Ot(T)){case 2:case 8:T=Oe;break;case 32:T=ke;break;case 268435456:T=ut;break;default:T=ke}return D=vx.bind(null,f),T=lr(T,D),f.callbackPriority=g,f.callbackNode=T,g}return D!==null&&D!==null&&sr(D),f.callbackPriority=2,f.callbackNode=null,2}function vx(f,g){if(Wo!==0&&Wo!==5)return f.callbackNode=null,f.callbackPriority=0,null;var T=f.callbackNode;if(_m()&&f.callbackNode!==T)return null;var D=Ia;return D=wn(f,f===Gi?D:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),D===0?null:(px(f,D,g),jv(f,hn()),f.callbackNode!=null&&f.callbackNode===T?vx.bind(null,f):null)}function zv(f,g){if(_m())return null;px(f,g,!0)}function I_(){ba(function(){(di&6)!==0?lr(_t,Zw):g0()})}function cl(){if(du===0){var f=ll;f===0&&(f=qn,qn<<=1,(qn&261888)===0&&(qn=256)),du=f}return du}function N_(f){return f==null||typeof f=="symbol"||typeof f=="boolean"?null:typeof f=="function"?f:Jr(""+f)}function R_(f,g){var T=g.ownerDocument.createElement("input");return T.name=g.name,T.value=g.value,f.id&&T.setAttribute("form",f.id),g.parentNode.insertBefore(T,g),f=new FormData(f),T.parentNode.removeChild(T),f}function _h(f,g,T,D,Z){if(g==="submit"&&T&&T.stateNode===Z){var re=N_((Z[qt]||null).action),Ne=D.submitter;Ne&&(g=(g=Ne[qt]||null)?N_(g.formAction):Ne.getAttribute("formAction"),g!==null&&(re=g,Ne=null));var et=new Qf("action","action",null,D,Z);f.push({event:et,listeners:[{instance:null,listener:function(){if(D.defaultPrevented){if(du!==0){var Dt=Ne?R_(Z,Ne):new FormData(Z);vi(T,{pending:!0,data:Dt,method:Z.method,action:re},null,Dt)}}else typeof re=="function"&&(et.preventDefault(),Dt=Ne?R_(Z,Ne):new FormData(Z),vi(T,{pending:!0,data:Dt,method:Z.method,action:re},re,Dt))},currentTarget:Z}]})}}for(var ya=0;ya<to.length;ya++){var qg=to[ya],fu=qg.toLowerCase(),os=qg[0].toUpperCase()+qg.slice(1);Ka(fu,"on"+os)}Ka(Wt,"onAnimationEnd"),Ka(Fn,"onAnimationIteration"),Ka(pr,"onAnimationStart"),Ka("dblclick","onDoubleClick"),Ka("focusin","onFocus"),Ka("focusout","onBlur"),Ka(xr,"onTransitionRun"),Ka(Dr,"onTransitionStart"),Ka(ga,"onTransitionCancel"),Ka(yr,"onTransitionEnd"),Nr("onMouseEnter",["mouseout","mouseover"]),Nr("onMouseLeave",["mouseout","mouseover"]),Nr("onPointerEnter",["pointerout","pointerover"]),Nr("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var y0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(y0));function bx(f,g){g=(g&4)!==0;for(var T=0;T<f.length;T++){var D=f[T],Z=D.event;D=D.listeners;e:{var re=void 0;if(g)for(var Ne=D.length-1;0<=Ne;Ne--){var et=D[Ne],Dt=et.instance,dn=et.currentTarget;if(et=et.listener,Dt!==re&&Z.isPropagationStopped())break e;re=et,Z.currentTarget=dn;try{re(Z)}catch(In){vs(In)}Z.currentTarget=null,re=Dt}else for(Ne=0;Ne<D.length;Ne++){if(et=D[Ne],Dt=et.instance,dn=et.currentTarget,et=et.listener,Dt!==re&&Z.isPropagationStopped())break e;re=et,Z.currentTarget=dn;try{re(Z)}catch(In){vs(In)}Z.currentTarget=null,re=Dt}}}}function Ga(f,g){var T=g[zn];T===void 0&&(T=g[zn]=new Set);var D=f+"__bubble";T.has(D)||(b0(g,f,2,!1),T.add(D))}function v0(f,g,T){var D=0;g&&(D|=4),b0(T,f,D,g)}var qd="_reactListening"+Math.random().toString(36).slice(2);function Uv(f){if(!f[qd]){f[qd]=!0,br.forEach(function(T){T!=="selectionchange"&&(vp.has(T)||v0(T,!1,f),v0(T,!0,f))});var g=f.nodeType===9?f:f.ownerDocument;g===null||g[qd]||(g[qd]=!0,v0("selectionchange",!1,g))}}function b0(f,g,T,D){switch(Rx(g)){case 2:var Z=q_;break;case 8:Z=Nx;break;default:Z=wp}T=Z.bind(null,g,T,f),Z=void 0,!da||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(Z=!0),D?Z!==void 0?f.addEventListener(g,T,{capture:!0,passive:Z}):f.addEventListener(g,T,!0):Z!==void 0?f.addEventListener(g,T,{passive:Z}):f.addEventListener(g,T,!1)}function Gv(f,g,T,D,Z){var re=D;if((g&1)===0&&(g&2)===0&&D!==null)e:for(;;){if(D===null)return;var Ne=D.tag;if(Ne===3||Ne===4){var et=D.stateNode.containerInfo;if(et===Z)break;if(Ne===4)for(Ne=D.return;Ne!==null;){var Dt=Ne.tag;if((Dt===3||Dt===4)&&Ne.stateNode.containerInfo===Z)return;Ne=Ne.return}for(;et!==null;){if(Ne=mt(et),Ne===null)return;if(Dt=Ne.tag,Dt===5||Dt===6||Dt===26||Dt===27){D=re=Ne;continue e}et=et.parentNode}}D=D.return}Va(function(){var dn=re,In=Qi(T),$n=[];e:{var fn=oi.get(f);if(fn!==void 0){var vn=Qf,Rr=f;switch(f){case"keypress":if(gi(T)===0)break e;case"keydown":case"keyup":vn=Xa;break;case"focusin":Rr="focus",vn=ic;break;case"focusout":Rr="blur",vn=ic;break;case"beforeblur":case"afterblur":vn=ic;break;case"click":if(T.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":vn=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":vn=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":vn=tm;break;case Wt:case Fn:case pr:vn=Zh;break;case yr:vn=Js;break;case"scroll":case"scrollend":vn=Rs;break;case"wheel":vn=jo;break;case"copy":case"cut":case"paste":vn=Ms;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":vn=lf;break;case"toggle":case"beforetoggle":vn=uf}var ta=(g&4)!==0,_i=!ta&&(f==="scroll"||f==="scrollend"),Zt=ta?fn!==null?fn+"Capture":null:fn;ta=[];for(var Gt=dn,ln;Gt!==null;){var Rn=Gt;if(ln=Rn.stateNode,Rn=Rn.tag,Rn!==5&&Rn!==26&&Rn!==27||ln===null||Zt===null||(Rn=Ks(Gt,Zt),Rn!=null&&ta.push(ju(Gt,Rn,ln))),_i)break;Gt=Gt.return}0<ta.length&&(fn=new vn(fn,Rr,null,T,In),$n.push({event:fn,listeners:ta}))}}if((g&7)===0){e:{if(fn=f==="mouseover"||f==="pointerover",vn=f==="mouseout"||f==="pointerout",fn&&T!==xo&&(Rr=T.relatedTarget||T.fromElement)&&(mt(Rr)||Rr[Gn]))break e;if((vn||fn)&&(fn=In.window===In?In:(fn=In.ownerDocument)?fn.defaultView||fn.parentWindow:window,vn?(Rr=T.relatedTarget||T.toElement,vn=dn,Rr=Rr?mt(Rr):null,Rr!==null&&(_i=l(Rr),ta=Rr.tag,Rr!==_i||ta!==5&&ta!==27&&ta!==6)&&(Rr=null)):(vn=null,Rr=dn),vn!==Rr)){if(ta=ac,Rn="onMouseLeave",Zt="onMouseEnter",Gt="mouse",(f==="pointerout"||f==="pointerover")&&(ta=lf,Rn="onPointerLeave",Zt="onPointerEnter",Gt="pointer"),_i=vn==null?fn:Cn(vn),ln=Rr==null?fn:Cn(Rr),fn=new ta(Rn,Gt+"leave",vn,T,In),fn.target=_i,fn.relatedTarget=ln,Rn=null,mt(In)===dn&&(ta=new ta(Zt,Gt+"enter",Rr,T,In),ta.target=ln,ta.relatedTarget=_i,Rn=ta),_i=Rn,vn&&Rr)t:{for(ta=_0,Zt=vn,Gt=Rr,ln=0,Rn=Zt;Rn;Rn=ta(Rn))ln++;Rn=0;for(var Ar=Gt;Ar;Ar=ta(Ar))Rn++;for(;0<ln-Rn;)Zt=ta(Zt),ln--;for(;0<Rn-ln;)Gt=ta(Gt),Rn--;for(;ln--;){if(Zt===Gt||Gt!==null&&Zt===Gt.alternate){ta=Zt;break t}Zt=ta(Zt),Gt=ta(Gt)}ta=null}else ta=null;vn!==null&&Hi($n,fn,vn,ta,!1),Rr!==null&&_i!==null&&Hi($n,_i,Rr,ta,!0)}}e:{if(fn=dn?Cn(dn):window,vn=fn.nodeName&&fn.nodeName.toLowerCase(),vn==="select"||vn==="input"&&fn.type==="file")var ri=Hc;else if(eh(fn))if(Vc)ri=nm;else{ri=Jh;var Hr=rh}else vn=fn.nodeName,!vn||vn.toLowerCase()!=="input"||fn.type!=="checkbox"&&fn.type!=="radio"?dn&&Is(dn.elementType)&&(ri=Hc):ri=ah;if(ri&&(ri=ri(f,dn))){cf($n,ri,T,In);break e}Hr&&Hr(f,fn,dn),f==="focusout"&&dn&&fn.type==="number"&&dn.memoizedProps.value!=null&&bo(fn,"number",fn.value)}switch(Hr=dn?Cn(dn):window,f){case"focusin":(eh(Hr)||Hr.contentEditable==="true")&&(p=Hr,v=dn,A=null);break;case"focusout":A=v=p=null;break;case"mousedown":H=!0;break;case"contextmenu":case"mouseup":case"dragend":H=!1,te($n,T,In);break;case"selectionchange":if(R)break;case"keydown":case"keyup":te($n,T,In)}var Ea;if(Di)e:{switch(f){case"compositionstart":var Ba="onCompositionStart";break e;case"compositionend":Ba="onCompositionEnd";break e;case"compositionupdate":Ba="onCompositionUpdate";break e}Ba=void 0}else Dl?Ad(f,T)&&(Ba="onCompositionEnd"):f==="keydown"&&T.keyCode===229&&(Ba="onCompositionStart");Ba&&(Cd&&T.locale!=="ko"&&(Dl||Ba!=="onCompositionStart"?Ba==="onCompositionEnd"&&Dl&&(Ea=Pa()):(Ns=In,Ql="value"in Ns?Ns.value:Ns.textContent,Dl=!0)),Hr=Yg(dn,Ba),0<Hr.length&&(Ba=new Qs(Ba,f,null,T,In),$n.push({event:Ba,listeners:Hr}),Ea?Ba.data=Ea:(Ea=bg(T),Ea!==null&&(Ba.data=Ea)))),(Ea=Eu?ys(f,T):Qh(f,T))&&(Ba=Yg(dn,"onBeforeInput"),0<Ba.length&&(Hr=new Qs("onBeforeInput","beforeinput",null,T,In),$n.push({event:Hr,listeners:Ba}),Hr.data=Ea)),_h($n,f,dn,T,In)}bx($n,g)})}function ju(f,g,T){return{instance:f,listener:g,currentTarget:T}}function Yg(f,g){for(var T=g+"Capture",D=[];f!==null;){var Z=f,re=Z.stateNode;if(Z=Z.tag,Z!==5&&Z!==26&&Z!==27||re===null||(Z=Ks(f,T),Z!=null&&D.unshift(ju(f,Z,re)),Z=Ks(f,g),Z!=null&&D.push(ju(f,Z,re))),f.tag===3)return D;f=f.return}return[]}function _0(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5&&f.tag!==27);return f||null}function Hi(f,g,T,D,Z){for(var re=g._reactName,Ne=[];T!==null&&T!==D;){var et=T,Dt=et.alternate,dn=et.stateNode;if(et=et.tag,Dt!==null&&Dt===D)break;et!==5&&et!==26&&et!==27||dn===null||(Dt=dn,Z?(dn=Ks(T,re),dn!=null&&Ne.unshift(ju(T,dn,Dt))):Z||(dn=Ks(T,re),dn!=null&&Ne.push(ju(T,dn,Dt)))),T=T.return}Ne.length!==0&&f.push({event:g,listeners:Ne})}var Ro=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function M_(f){return(typeof f=="string"?f:""+f).replace(Ro,`
`).replace(Wg,"")}function Hv(f,g){return g=M_(g),M_(f)===g}function Ii(f,g,T,D,Z,re){switch(T){case"children":typeof D=="string"?g==="body"||g==="textarea"&&D===""||co(f,D):(typeof D=="number"||typeof D=="bigint")&&g!=="body"&&co(f,""+D);break;case"className":Za(f,"class",D);break;case"tabIndex":Za(f,"tabindex",D);break;case"dir":case"role":case"viewBox":case"width":case"height":Za(f,T,D);break;case"style":wd(f,D,re);break;case"data":if(g!=="object"){Za(f,"data",D);break}case"src":case"href":if(D===""&&(g!=="a"||T!=="href")){f.removeAttribute(T);break}if(D==null||typeof D=="function"||typeof D=="symbol"||typeof D=="boolean"){f.removeAttribute(T);break}D=Jr(""+D),f.setAttribute(T,D);break;case"action":case"formAction":if(typeof D=="function"){f.setAttribute(T,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof re=="function"&&(T==="formAction"?(g!=="input"&&Ii(f,g,"name",Z.name,Z,null),Ii(f,g,"formEncType",Z.formEncType,Z,null),Ii(f,g,"formMethod",Z.formMethod,Z,null),Ii(f,g,"formTarget",Z.formTarget,Z,null)):(Ii(f,g,"encType",Z.encType,Z,null),Ii(f,g,"method",Z.method,Z,null),Ii(f,g,"target",Z.target,Z,null)));if(D==null||typeof D=="symbol"||typeof D=="boolean"){f.removeAttribute(T);break}D=Jr(""+D),f.setAttribute(T,D);break;case"onClick":D!=null&&(f.onclick=ps);break;case"onScroll":D!=null&&Ga("scroll",f);break;case"onScrollEnd":D!=null&&Ga("scrollend",f);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(r(61));if(T=D.__html,T!=null){if(Z.children!=null)throw Error(r(60));f.innerHTML=T}}break;case"multiple":f.multiple=D&&typeof D!="function"&&typeof D!="symbol";break;case"muted":f.muted=D&&typeof D!="function"&&typeof D!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(D==null||typeof D=="function"||typeof D=="boolean"||typeof D=="symbol"){f.removeAttribute("xlink:href");break}T=Jr(""+D),f.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",T);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":D!=null&&typeof D!="function"&&typeof D!="symbol"?f.setAttribute(T,""+D):f.removeAttribute(T);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":D&&typeof D!="function"&&typeof D!="symbol"?f.setAttribute(T,""):f.removeAttribute(T);break;case"capture":case"download":D===!0?f.setAttribute(T,""):D!==!1&&D!=null&&typeof D!="function"&&typeof D!="symbol"?f.setAttribute(T,D):f.removeAttribute(T);break;case"cols":case"rows":case"size":case"span":D!=null&&typeof D!="function"&&typeof D!="symbol"&&!isNaN(D)&&1<=D?f.setAttribute(T,D):f.removeAttribute(T);break;case"rowSpan":case"start":D==null||typeof D=="function"||typeof D=="symbol"||isNaN(D)?f.removeAttribute(T):f.setAttribute(T,D);break;case"popover":Ga("beforetoggle",f),Ga("toggle",f),za(f,"popover",D);break;case"xlinkActuate":pa(f,"http://www.w3.org/1999/xlink","xlink:actuate",D);break;case"xlinkArcrole":pa(f,"http://www.w3.org/1999/xlink","xlink:arcrole",D);break;case"xlinkRole":pa(f,"http://www.w3.org/1999/xlink","xlink:role",D);break;case"xlinkShow":pa(f,"http://www.w3.org/1999/xlink","xlink:show",D);break;case"xlinkTitle":pa(f,"http://www.w3.org/1999/xlink","xlink:title",D);break;case"xlinkType":pa(f,"http://www.w3.org/1999/xlink","xlink:type",D);break;case"xmlBase":pa(f,"http://www.w3.org/XML/1998/namespace","xml:base",D);break;case"xmlLang":pa(f,"http://www.w3.org/XML/1998/namespace","xml:lang",D);break;case"xmlSpace":pa(f,"http://www.w3.org/XML/1998/namespace","xml:space",D);break;case"is":za(f,"is",D);break;case"innerText":case"textContent":break;default:(!(2<T.length)||T[0]!=="o"&&T[0]!=="O"||T[1]!=="n"&&T[1]!=="N")&&(T=Aa.get(T)||T,za(f,T,D))}}function hu(f,g,T,D,Z,re){switch(T){case"style":wd(f,D,re);break;case"dangerouslySetInnerHTML":if(D!=null){if(typeof D!="object"||!("__html"in D))throw Error(r(61));if(T=D.__html,T!=null){if(Z.children!=null)throw Error(r(60));f.innerHTML=T}}break;case"children":typeof D=="string"?co(f,D):(typeof D=="number"||typeof D=="bigint")&&co(f,""+D);break;case"onScroll":D!=null&&Ga("scroll",f);break;case"onScrollEnd":D!=null&&Ga("scrollend",f);break;case"onClick":D!=null&&(f.onclick=ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(T))e:{if(T[0]==="o"&&T[1]==="n"&&(Z=T.endsWith("Capture"),g=T.slice(2,Z?T.length-7:void 0),re=f[qt]||null,re=re!=null?re[T]:null,typeof re=="function"&&f.removeEventListener(g,re,Z),typeof D=="function")){typeof re!="function"&&re!==null&&(T in f?f[T]=null:f.hasAttribute(T)&&f.removeAttribute(T)),f.addEventListener(g,D,Z);break e}T in f?f[T]=D:D===!0?f.setAttribute(T,""):za(f,T,D)}}}function Zo(f,g,T){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ga("error",f),Ga("load",f);var D=!1,Z=!1,re;for(re in T)if(T.hasOwnProperty(re)){var Ne=T[re];if(Ne!=null)switch(re){case"src":D=!0;break;case"srcSet":Z=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,g));default:Ii(f,g,re,Ne,T,null)}}Z&&Ii(f,g,"srcSet",T.srcSet,T,null),D&&Ii(f,g,"src",T.src,T,null);return;case"input":Ga("invalid",f);var et=re=Ne=Z=null,Dt=null,dn=null;for(D in T)if(T.hasOwnProperty(D)){var In=T[D];if(In!=null)switch(D){case"name":Z=In;break;case"type":Ne=In;break;case"checked":Dt=In;break;case"defaultChecked":dn=In;break;case"value":re=In;break;case"defaultValue":et=In;break;case"children":case"dangerouslySetInnerHTML":if(In!=null)throw Error(r(137,g));break;default:Ii(f,g,D,In,T,null)}}Kl(f,re,et,Dt,dn,Ne,Z,!1);return;case"select":Ga("invalid",f),D=Ne=re=null;for(Z in T)if(T.hasOwnProperty(Z)&&(et=T[Z],et!=null))switch(Z){case"value":re=et;break;case"defaultValue":Ne=et;break;case"multiple":D=et;default:Ii(f,g,Z,et,T,null)}g=re,T=Ne,f.multiple=!!D,g!=null?_o(f,!!D,g,!1):T!=null&&_o(f,!!D,T,!0);return;case"textarea":Ga("invalid",f),re=Z=D=null;for(Ne in T)if(T.hasOwnProperty(Ne)&&(et=T[Ne],et!=null))switch(Ne){case"value":D=et;break;case"defaultValue":Z=et;break;case"children":re=et;break;case"dangerouslySetInnerHTML":if(et!=null)throw Error(r(91));break;default:Ii(f,g,Ne,et,T,null)}Lo(f,D,Z,re);return;case"option":for(Dt in T)if(T.hasOwnProperty(Dt)&&(D=T[Dt],D!=null))switch(Dt){case"selected":f.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Ii(f,g,Dt,D,T,null)}return;case"dialog":Ga("beforetoggle",f),Ga("toggle",f),Ga("cancel",f),Ga("close",f);break;case"iframe":case"object":Ga("load",f);break;case"video":case"audio":for(D=0;D<y0.length;D++)Ga(y0[D],f);break;case"image":Ga("error",f),Ga("load",f);break;case"details":Ga("toggle",f);break;case"embed":case"source":case"link":Ga("error",f),Ga("load",f);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(dn in T)if(T.hasOwnProperty(dn)&&(D=T[dn],D!=null))switch(dn){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,g));default:Ii(f,g,dn,D,T,null)}return;default:if(Is(g)){for(In in T)T.hasOwnProperty(In)&&(D=T[In],D!==void 0&&hu(f,g,In,D,T,void 0));return}}for(et in T)T.hasOwnProperty(et)&&(D=T[et],D!=null&&Ii(f,g,et,D,T,null))}function x0(f,g,T,D){switch(g){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var Z=null,re=null,Ne=null,et=null,Dt=null,dn=null,In=null;for(vn in T){var $n=T[vn];if(T.hasOwnProperty(vn)&&$n!=null)switch(vn){case"checked":break;case"value":break;case"defaultValue":Dt=$n;default:D.hasOwnProperty(vn)||Ii(f,g,vn,null,D,$n)}}for(var fn in D){var vn=D[fn];if($n=T[fn],D.hasOwnProperty(fn)&&(vn!=null||$n!=null))switch(fn){case"type":re=vn;break;case"name":Z=vn;break;case"checked":dn=vn;break;case"defaultChecked":In=vn;break;case"value":Ne=vn;break;case"defaultValue":et=vn;break;case"children":case"dangerouslySetInnerHTML":if(vn!=null)throw Error(r(137,g));break;default:vn!==$n&&Ii(f,g,fn,vn,D,$n)}}Zs(f,Ne,et,Dt,dn,In,re,Z);return;case"select":vn=Ne=et=fn=null;for(re in T)if(Dt=T[re],T.hasOwnProperty(re)&&Dt!=null)switch(re){case"value":break;case"multiple":vn=Dt;default:D.hasOwnProperty(re)||Ii(f,g,re,null,D,Dt)}for(Z in D)if(re=D[Z],Dt=T[Z],D.hasOwnProperty(Z)&&(re!=null||Dt!=null))switch(Z){case"value":fn=re;break;case"defaultValue":et=re;break;case"multiple":Ne=re;default:re!==Dt&&Ii(f,g,Z,re,D,Dt)}g=et,T=Ne,D=vn,fn!=null?_o(f,!!T,fn,!1):!!D!=!!T&&(g!=null?_o(f,!!T,g,!0):_o(f,!!T,T?[]:"",!1));return;case"textarea":vn=fn=null;for(et in T)if(Z=T[et],T.hasOwnProperty(et)&&Z!=null&&!D.hasOwnProperty(et))switch(et){case"value":break;case"children":break;default:Ii(f,g,et,null,D,Z)}for(Ne in D)if(Z=D[Ne],re=T[Ne],D.hasOwnProperty(Ne)&&(Z!=null||re!=null))switch(Ne){case"value":fn=Z;break;case"defaultValue":vn=Z;break;case"children":break;case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(91));break;default:Z!==re&&Ii(f,g,Ne,Z,D,re)}Xs(f,fn,vn);return;case"option":for(var Rr in T)if(fn=T[Rr],T.hasOwnProperty(Rr)&&fn!=null&&!D.hasOwnProperty(Rr))switch(Rr){case"selected":f.selected=!1;break;default:Ii(f,g,Rr,null,D,fn)}for(Dt in D)if(fn=D[Dt],vn=T[Dt],D.hasOwnProperty(Dt)&&fn!==vn&&(fn!=null||vn!=null))switch(Dt){case"selected":f.selected=fn&&typeof fn!="function"&&typeof fn!="symbol";break;default:Ii(f,g,Dt,fn,D,vn)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ta in T)fn=T[ta],T.hasOwnProperty(ta)&&fn!=null&&!D.hasOwnProperty(ta)&&Ii(f,g,ta,null,D,fn);for(dn in D)if(fn=D[dn],vn=T[dn],D.hasOwnProperty(dn)&&fn!==vn&&(fn!=null||vn!=null))switch(dn){case"children":case"dangerouslySetInnerHTML":if(fn!=null)throw Error(r(137,g));break;default:Ii(f,g,dn,fn,D,vn)}return;default:if(Is(g)){for(var _i in T)fn=T[_i],T.hasOwnProperty(_i)&&fn!==void 0&&!D.hasOwnProperty(_i)&&hu(f,g,_i,void 0,D,fn);for(In in D)fn=D[In],vn=T[In],!D.hasOwnProperty(In)||fn===vn||fn===void 0&&vn===void 0||hu(f,g,In,fn,D,vn);return}}for(var Zt in T)fn=T[Zt],T.hasOwnProperty(Zt)&&fn!=null&&!D.hasOwnProperty(Zt)&&Ii(f,g,Zt,null,D,fn);for($n in D)fn=D[$n],vn=T[$n],!D.hasOwnProperty($n)||fn===vn||fn==null&&vn==null||Ii(f,g,$n,fn,D,vn)}function O_(f){switch(f){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Zg(){if(typeof performance.getEntriesByType=="function"){for(var f=0,g=0,T=performance.getEntriesByType("resource"),D=0;D<T.length;D++){var Z=T[D],re=Z.transferSize,Ne=Z.initiatorType,et=Z.duration;if(re&&et&&O_(Ne)){for(Ne=0,et=Z.responseEnd,D+=1;D<T.length;D++){var Dt=T[D],dn=Dt.startTime;if(dn>et)break;var In=Dt.transferSize,$n=Dt.initiatorType;In&&O_($n)&&(Dt=Dt.responseEnd,Ne+=In*(Dt<et?1:(et-dn)/(Dt-dn)))}if(--D,g+=8*(re+Ne)/(Z.duration/1e3),f++,10<f)break}}if(0<f)return g/f/1e6}return navigator.connection&&(f=navigator.connection.downlink,typeof f=="number")?f:5}var Xg=null,Vv=null;function Lf(f){return f.nodeType===9?f:f.ownerDocument}function bp(f){switch(f){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bl(f,g){if(f===0)switch(g){case"svg":return 1;case"math":return 2;default:return 0}return f===1&&g==="foreignObject"?0:f}function Pf(f,g){return f==="textarea"||f==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.children=="bigint"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var qv=null;function D_(){var f=window.event;return f&&f.type==="popstate"?f===qv?!1:(qv=f,!0):(qv=null,!1)}var Yv=typeof setTimeout=="function"?setTimeout:void 0,Xw=typeof clearTimeout=="function"?clearTimeout:void 0,_x=typeof Promise=="function"?Promise:void 0,ba=typeof queueMicrotask=="function"?queueMicrotask:typeof _x<"u"?function(f){return _x.resolve(null).then(f).catch(kl)}:Yv;function kl(f){setTimeout(function(){throw f})}function Pr(f){return f==="head"}function Tc(f,g){var T=g,D=0;do{var Z=T.nextSibling;if(f.removeChild(T),Z&&Z.nodeType===8)if(T=Z.data,T==="/$"||T==="/&"){if(D===0){f.removeChild(Z),ry(g);return}D--}else if(T==="$"||T==="$?"||T==="$~"||T==="$!"||T==="&")D++;else if(T==="html")Kg(f.ownerDocument.documentElement);else if(T==="head"){T=f.ownerDocument.head,Kg(T);for(var re=T.firstChild;re;){var Ne=re.nextSibling,et=re.nodeName;re[ft]||et==="SCRIPT"||et==="STYLE"||et==="LINK"&&re.rel.toLowerCase()==="stylesheet"||T.removeChild(re),re=Ne}}else T==="body"&&Kg(f.ownerDocument.body);T=Z}while(T);ry(g)}function zs(f,g){var T=f;f=0;do{var D=T.nextSibling;if(T.nodeType===1?g?(T._stashedDisplay=T.style.display,T.style.display="none"):(T.style.display=T._stashedDisplay||"",T.getAttribute("style")===""&&T.removeAttribute("style")):T.nodeType===3&&(g?(T._stashedText=T.nodeValue,T.nodeValue=""):T.nodeValue=T._stashedText||""),D&&D.nodeType===8)if(T=D.data,T==="/$"){if(f===0)break;f--}else T!=="$"&&T!=="$?"&&T!=="$~"&&T!=="$!"||f++;T=D}while(T)}function Il(f){var g=f.firstChild;for(g&&g.nodeType===10&&(g=g.nextSibling);g;){var T=g;switch(g=g.nextSibling,T.nodeName){case"HTML":case"HEAD":case"BODY":Il(T),Ke(T);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(T.rel.toLowerCase()==="stylesheet")continue}f.removeChild(T)}}function Ts(f,g,T,D){for(;f.nodeType===1;){var Z=T;if(f.nodeName.toLowerCase()!==g.toLowerCase()){if(!D&&(f.nodeName!=="INPUT"||f.type!=="hidden"))break}else if(D){if(!f[ft])switch(g){case"meta":if(!f.hasAttribute("itemprop"))break;return f;case"link":if(re=f.getAttribute("rel"),re==="stylesheet"&&f.hasAttribute("data-precedence"))break;if(re!==Z.rel||f.getAttribute("href")!==(Z.href==null||Z.href===""?null:Z.href)||f.getAttribute("crossorigin")!==(Z.crossOrigin==null?null:Z.crossOrigin)||f.getAttribute("title")!==(Z.title==null?null:Z.title))break;return f;case"style":if(f.hasAttribute("data-precedence"))break;return f;case"script":if(re=f.getAttribute("src"),(re!==(Z.src==null?null:Z.src)||f.getAttribute("type")!==(Z.type==null?null:Z.type)||f.getAttribute("crossorigin")!==(Z.crossOrigin==null?null:Z.crossOrigin))&&re&&f.hasAttribute("async")&&!f.hasAttribute("itemprop"))break;return f;default:return f}}else if(g==="input"&&f.type==="hidden"){var re=Z.name==null?null:""+Z.name;if(Z.type==="hidden"&&f.getAttribute("name")===re)return f}else return f;if(f=sd(f.nextSibling),f===null)break}return null}function ha(f,g,T){if(g==="")return null;for(;f.nodeType!==3;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!T||(f=sd(f.nextSibling),f===null))return null;return f}function L_(f,g){for(;f.nodeType!==8;)if((f.nodeType!==1||f.nodeName!=="INPUT"||f.type!=="hidden")&&!g||(f=sd(f.nextSibling),f===null))return null;return f}function $l(f){return f.data==="$?"||f.data==="$~"}function mo(f){return f.data==="$!"||f.data==="$?"&&f.ownerDocument.readyState!=="loading"}function Wv(f,g){var T=f.ownerDocument;if(f.data==="$~")f._reactRetry=g;else if(f.data!=="$?"||T.readyState!=="loading")g();else{var D=function(){g(),T.removeEventListener("DOMContentLoaded",D)};T.addEventListener("DOMContentLoaded",D),f._reactRetry=D}}function sd(f){for(;f!=null;f=f.nextSibling){var g=f.nodeType;if(g===1||g===3)break;if(g===8){if(g=f.data,g==="$"||g==="$!"||g==="$?"||g==="$~"||g==="&"||g==="F!"||g==="F")break;if(g==="/$"||g==="/&")return null}}return f}var Zv=null;function _p(f){f=f.nextSibling;for(var g=0;f;){if(f.nodeType===8){var T=f.data;if(T==="/$"||T==="/&"){if(g===0)return sd(f.nextSibling);g--}else T!=="$"&&T!=="$!"&&T!=="$?"&&T!=="$~"&&T!=="&"||g++}f=f.nextSibling}return null}function wm(f){f=f.previousSibling;for(var g=0;f;){if(f.nodeType===8){var T=f.data;if(T==="$"||T==="$!"||T==="$?"||T==="$~"||T==="&"){if(g===0)return f;g--}else T!=="/$"&&T!=="/&"||g++}f=f.previousSibling}return null}function xx(f,g,T){switch(g=Lf(T),f){case"html":if(f=g.documentElement,!f)throw Error(r(452));return f;case"head":if(f=g.head,!f)throw Error(r(453));return f;case"body":if(f=g.body,!f)throw Error(r(454));return f;default:throw Error(r(451))}}function Kg(f){for(var g=f.attributes;g.length;)f.removeAttributeNode(g[0]);Ke(f)}var Cc=new Map,P_=new Set;function Qg(f){return typeof f.getRootNode=="function"?f.getRootNode():f.nodeType===9?f:f.ownerDocument}var Ff=we.d;we.d={f:F_,r:jl,D:Bf,C:Xv,L:B_,m:Ex,X:pu,S:Us,M:wx};function F_(){var f=Ff.f(),g=d0();return f||g}function jl(f){var g=Xt(f);g!==null&&g.tag===5&&g.type==="form"?is(g):Ff.r(f)}var dl=typeof document>"u"?null:document;function Nl(f,g,T){var D=dl;if(D&&typeof g=="string"&&g){var Z=wi(g);Z='link[rel="'+f+'"][href="'+Z+'"]',typeof T=="string"&&(Z+='[crossorigin="'+T+'"]'),P_.has(Z)||(P_.add(Z),f={rel:f,crossOrigin:T,href:g},D.querySelector(Z)===null&&(g=D.createElement("link"),Zo(g,"link",f),Wn(g),D.head.appendChild(g)))}}function Bf(f){Ff.D(f),Nl("dns-prefetch",f,null)}function Xv(f,g){Ff.C(f,g),Nl("preconnect",f,g)}function B_(f,g,T){Ff.L(f,g,T);var D=dl;if(D&&f&&g){var Z='link[rel="preload"][as="'+wi(g)+'"]';g==="image"&&T&&T.imageSrcSet?(Z+='[imagesrcset="'+wi(T.imageSrcSet)+'"]',typeof T.imageSizes=="string"&&(Z+='[imagesizes="'+wi(T.imageSizes)+'"]')):Z+='[href="'+wi(f)+'"]';var re=Z;switch(g){case"style":re=xh(f);break;case"script":re=xp(f)}Cc.has(re)||(f=w({rel:"preload",href:g==="image"&&T&&T.imageSrcSet?void 0:f,as:g},T),Cc.set(re,f),D.querySelector(Z)!==null||g==="style"&&D.querySelector(Sm(re))||g==="script"&&D.querySelector(Tm(re))||(g=D.createElement("link"),Zo(g,"link",f),Wn(g),D.head.appendChild(g)))}}function Ex(f,g){Ff.m(f,g);var T=dl;if(T&&f){var D=g&&typeof g.as=="string"?g.as:"script",Z='link[rel="modulepreload"][as="'+wi(D)+'"][href="'+wi(f)+'"]',re=Z;switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":re=xp(f)}if(!Cc.has(re)&&(f=w({rel:"modulepreload",href:f},g),Cc.set(re,f),T.querySelector(Z)===null)){switch(D){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(T.querySelector(Tm(re)))return}D=T.createElement("link"),Zo(D,"link",f),Wn(D),T.head.appendChild(D)}}}function Us(f,g,T){Ff.S(f,g,T);var D=dl;if(D&&f){var Z=Yn(D).hoistableStyles,re=xh(f);g=g||"default";var Ne=Z.get(re);if(!Ne){var et={loading:0,preload:null};if(Ne=D.querySelector(Sm(re)))et.loading=5;else{f=w({rel:"stylesheet",href:f,"data-precedence":g},T),(T=Cc.get(re))&&ey(f,T);var Dt=Ne=D.createElement("link");Wn(Dt),Zo(Dt,"link",f),Dt._p=new Promise(function(dn,In){Dt.onload=dn,Dt.onerror=In}),Dt.addEventListener("load",function(){et.loading|=1}),Dt.addEventListener("error",function(){et.loading|=2}),et.loading|=4,E0(Ne,g,D)}Ne={type:"stylesheet",instance:Ne,count:1,state:et},Z.set(re,Ne)}}}function pu(f,g){Ff.X(f,g);var T=dl;if(T&&f){var D=Yn(T).hoistableScripts,Z=xp(f),re=D.get(Z);re||(re=T.querySelector(Tm(Z)),re||(f=w({src:f,async:!0},g),(g=Cc.get(Z))&&Cm(f,g),re=T.createElement("script"),Wn(re),Zo(re,"link",f),T.head.appendChild(re)),re={type:"script",instance:re,count:1,state:null},D.set(Z,re))}}function wx(f,g){Ff.M(f,g);var T=dl;if(T&&f){var D=Yn(T).hoistableScripts,Z=xp(f),re=D.get(Z);re||(re=T.querySelector(Tm(Z)),re||(f=w({src:f,async:!0,type:"module"},g),(g=Cc.get(Z))&&Cm(f,g),re=T.createElement("script"),Wn(re),Zo(re,"link",f),T.head.appendChild(re)),re={type:"script",instance:re,count:1,state:null},D.set(Z,re))}}function Kv(f,g,T,D){var Z=(Z=St.current)?Qg(Z):null;if(!Z)throw Error(r(446));switch(f){case"meta":case"title":return null;case"style":return typeof T.precedence=="string"&&typeof T.href=="string"?(g=xh(T.href),T=Yn(Z).hoistableStyles,D=T.get(g),D||(D={type:"style",instance:null,count:0,state:null},T.set(g,D)),D):{type:"void",instance:null,count:0,state:null};case"link":if(T.rel==="stylesheet"&&typeof T.href=="string"&&typeof T.precedence=="string"){f=xh(T.href);var re=Yn(Z).hoistableStyles,Ne=re.get(f);if(Ne||(Z=Z.ownerDocument||Z,Ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},re.set(f,Ne),(re=Z.querySelector(Sm(f)))&&!re._p&&(Ne.instance=re,Ne.state.loading=5),Cc.has(f)||(T={rel:"preload",as:"style",href:T.href,crossOrigin:T.crossOrigin,integrity:T.integrity,media:T.media,hrefLang:T.hrefLang,referrerPolicy:T.referrerPolicy},Cc.set(f,T),re||Jg(Z,f,T,Ne.state))),g&&D===null)throw Error(r(528,""));return Ne}if(g&&D!==null)throw Error(r(529,""));return null;case"script":return g=T.async,T=T.src,typeof T=="string"&&g&&typeof g!="function"&&typeof g!="symbol"?(g=xp(T),T=Yn(Z).hoistableScripts,D=T.get(g),D||(D={type:"script",instance:null,count:0,state:null},T.set(g,D)),D):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,f))}}function xh(f){return'href="'+wi(f)+'"'}function Sm(f){return'link[rel="stylesheet"]['+f+"]"}function $_(f){return w({},f,{"data-precedence":f.precedence,precedence:null})}function Jg(f,g,T,D){f.querySelector('link[rel="preload"][as="style"]['+g+"]")?D.loading=1:(g=f.createElement("link"),D.preload=g,g.addEventListener("load",function(){return D.loading|=1}),g.addEventListener("error",function(){return D.loading|=2}),Zo(g,"link",T),Wn(g),f.head.appendChild(g))}function xp(f){return'[src="'+wi(f)+'"]'}function Tm(f){return"script[async]"+f}function Sx(f,g,T){if(g.count++,g.instance===null)switch(g.type){case"style":var D=f.querySelector('style[data-href~="'+wi(T.href)+'"]');if(D)return g.instance=D,Wn(D),D;var Z=w({},T,{"data-href":T.href,"data-precedence":T.precedence,href:null,precedence:null});return D=(f.ownerDocument||f).createElement("style"),Wn(D),Zo(D,"style",Z),E0(D,T.precedence,f),g.instance=D;case"stylesheet":Z=xh(T.href);var re=f.querySelector(Sm(Z));if(re)return g.state.loading|=4,g.instance=re,Wn(re),re;D=$_(T),(Z=Cc.get(Z))&&ey(D,Z),re=(f.ownerDocument||f).createElement("link"),Wn(re);var Ne=re;return Ne._p=new Promise(function(et,Dt){Ne.onload=et,Ne.onerror=Dt}),Zo(re,"link",D),g.state.loading|=4,E0(re,T.precedence,f),g.instance=re;case"script":return re=xp(T.src),(Z=f.querySelector(Tm(re)))?(g.instance=Z,Wn(Z),Z):(D=T,(Z=Cc.get(re))&&(D=w({},T),Cm(D,Z)),f=f.ownerDocument||f,Z=f.createElement("script"),Wn(Z),Zo(Z,"link",D),f.head.appendChild(Z),g.instance=Z);case"void":return null;default:throw Error(r(443,g.type))}else g.type==="stylesheet"&&(g.state.loading&4)===0&&(D=g.instance,g.state.loading|=4,E0(D,T.precedence,f));return g.instance}function E0(f,g,T){for(var D=T.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),Z=D.length?D[D.length-1]:null,re=Z,Ne=0;Ne<D.length;Ne++){var et=D[Ne];if(et.dataset.precedence===g)re=et;else if(re!==Z)break}re?re.parentNode.insertBefore(f,re.nextSibling):(g=T.nodeType===9?T.head:T,g.insertBefore(f,g.firstChild))}function ey(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.title==null&&(f.title=g.title)}function Cm(f,g){f.crossOrigin==null&&(f.crossOrigin=g.crossOrigin),f.referrerPolicy==null&&(f.referrerPolicy=g.referrerPolicy),f.integrity==null&&(f.integrity=g.integrity)}var Ep=null;function Qv(f,g,T){if(Ep===null){var D=new Map,Z=Ep=new Map;Z.set(T,D)}else Z=Ep,D=Z.get(T),D||(D=new Map,Z.set(T,D));if(D.has(f))return D;for(D.set(f,null),T=T.getElementsByTagName(f),Z=0;Z<T.length;Z++){var re=T[Z];if(!(re[ft]||re[Jn]||f==="link"&&re.getAttribute("rel")==="stylesheet")&&re.namespaceURI!=="http://www.w3.org/2000/svg"){var Ne=re.getAttribute(g)||"";Ne=f+Ne;var et=D.get(Ne);et?et.push(re):D.set(Ne,[re])}}return D}function Jv(f,g,T){f=f.ownerDocument||f,f.head.insertBefore(T,g==="title"?f.querySelector("head > title"):null)}function j_(f,g,T){if(T===1||g.itemProp!=null)return!1;switch(f){case"meta":case"title":return!0;case"style":if(typeof g.precedence!="string"||typeof g.href!="string"||g.href==="")break;return!0;case"link":if(typeof g.rel!="string"||typeof g.href!="string"||g.href===""||g.onLoad||g.onError)break;switch(g.rel){case"stylesheet":return f=g.disabled,typeof g.precedence=="string"&&f==null;default:return!0}case"script":if(g.async&&typeof g.async!="function"&&typeof g.async!="symbol"&&!g.onLoad&&!g.onError&&g.src&&typeof g.src=="string")return!0}return!1}function z_(f){return!(f.type==="stylesheet"&&(f.state.loading&3)===0)}function Am(f,g,T,D){if(T.type==="stylesheet"&&(typeof D.media!="string"||matchMedia(D.media).matches!==!1)&&(T.state.loading&4)===0){if(T.instance===null){var Z=xh(D.href),re=g.querySelector(Sm(Z));if(re){g=re._p,g!==null&&typeof g=="object"&&typeof g.then=="function"&&(f.count++,f=w0.bind(f),g.then(f,f)),T.state.loading|=4,T.instance=re,Wn(re);return}re=g.ownerDocument||g,D=$_(D),(Z=Cc.get(Z))&&ey(D,Z),re=re.createElement("link"),Wn(re);var Ne=re;Ne._p=new Promise(function(et,Dt){Ne.onload=et,Ne.onerror=Dt}),Zo(re,"link",D),T.instance=re}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(T,g),(g=T.state.preload)&&(T.state.loading&3)===0&&(f.count++,T=w0.bind(f),g.addEventListener("load",T),g.addEventListener("error",T))}}var eb=0;function Tx(f,g){return f.stylesheets&&f.count===0&&S0(f,f.stylesheets),0<f.count||0<f.imgCount?function(T){var D=setTimeout(function(){if(f.stylesheets&&S0(f,f.stylesheets),f.unsuspend){var re=f.unsuspend;f.unsuspend=null,re()}},6e4+g);0<f.imgBytes&&eb===0&&(eb=62500*Zg());var Z=setTimeout(function(){if(f.waitingForImages=!1,f.count===0&&(f.stylesheets&&S0(f,f.stylesheets),f.unsuspend)){var re=f.unsuspend;f.unsuspend=null,re()}},(f.imgBytes>eb?50:800)+g);return f.unsuspend=T,function(){f.unsuspend=null,clearTimeout(D),clearTimeout(Z)}}:null}function w0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)S0(this,this.stylesheets);else if(this.unsuspend){var f=this.unsuspend;this.unsuspend=null,f()}}}var tb=null;function S0(f,g){f.stylesheets=null,f.unsuspend!==null&&(f.count++,tb=new Map,g.forEach(Cx,f),tb=null,w0.call(f))}function Cx(f,g){if(!(g.state.loading&4)){var T=tb.get(f);if(T)var D=T.get(null);else{T=new Map,tb.set(f,T);for(var Z=f.querySelectorAll("link[data-precedence],style[data-precedence]"),re=0;re<Z.length;re++){var Ne=Z[re];(Ne.nodeName==="LINK"||Ne.getAttribute("media")!=="not all")&&(T.set(Ne.dataset.precedence,Ne),D=Ne)}D&&T.set(null,D)}Z=g.instance,Ne=Z.getAttribute("data-precedence"),re=T.get(Ne)||D,re===D&&T.set(null,Z),T.set(Ne,Z),this.count++,D=w0.bind(this),Z.addEventListener("load",D),Z.addEventListener("error",D),re?re.parentNode.insertBefore(Z,re.nextSibling):(f=f.nodeType===9?f.head:f,f.insertBefore(Z,f.firstChild)),g.state.loading|=4}}var ty={$$typeof:J,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function U_(f,g,T,D,Z,re,Ne,et,Dt){this.tag=1,this.containerInfo=f,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.hiddenUpdates=Wr(null),this.identifierPrefix=D,this.onUncaughtError=Z,this.onCaughtError=re,this.onRecoverableError=Ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Dt,this.incompleteTransitions=new Map}function G_(f,g,T,D,Z,re,Ne,et,Dt,dn,In,$n){return f=new U_(f,g,T,Ne,Dt,dn,In,$n,et),g=1,re===!0&&(g|=24),re=Ps(3,null,null,g),f.current=re,re.stateNode=f,g=ol(),g.refCount++,f.pooledCache=g,g.refCount++,re.memoizedState={element:D,isDehydrated:T,cache:g},yc(re),f}function Ax(f){return f?(f=ca,f):ca}function kx(f,g,T,D,Z,re){Z=Ax(Z),D.context===null?D.context=Z:D.pendingContext=Z,D=Ra(g),D.payload={element:T},re=re===void 0?null:re,re!==null&&(D.callback=re),T=Ru(f,D,g),T!==null&&($u(T,f,g),_f(T,f,g))}function H_(f,g){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var T=f.retryLane;f.retryLane=T!==0&&T<g?T:g}}function km(f,g){H_(f,g),(f=f.alternate)&&H_(f,g)}function V_(f){if(f.tag===13||f.tag===31){var g=bs(f,67108864);g!==null&&$u(g,f,67108864),km(f,67108864)}}function Ix(f){if(f.tag===13||f.tag===31){var g=fi();g=Yt(g);var T=bs(f,g);T!==null&&$u(T,f,g),km(f,g)}}var ny=!0;function q_(f,g,T,D){var Z=he.T;he.T=null;var re=we.p;try{we.p=2,wp(f,g,T,D)}finally{we.p=re,he.T=Z}}function Nx(f,g,T,D){var Z=he.T;he.T=null;var re=we.p;try{we.p=8,wp(f,g,T,D)}finally{we.p=re,he.T=Z}}function wp(f,g,T,D){if(ny){var Z=nb(D);if(Z===null)Gv(f,g,D,rb,T),W_(f,D);else if(Mx(Z,f,g,T,D))D.stopPropagation();else if(W_(f,D),g&4&&-1<Kw.indexOf(f)){for(;Z!==null;){var re=Xt(Z);if(re!==null)switch(re.tag){case 3:if(re=re.stateNode,re.current.memoizedState.isDehydrated){var Ne=Pt(re.pendingLanes);if(Ne!==0){var et=re;for(et.pendingLanes|=2,et.entangledLanes|=2;Ne;){var Dt=1<<31-sn(Ne);et.entanglements[1]|=Dt,Ne&=~Dt}Vd(re),(di&6)===0&&(mp=hn()+500,Em(0))}}break;case 31:case 13:et=bs(re,2),et!==null&&$u(et,re,2),d0(),km(re,2)}if(re=nb(D),re===null&&Gv(f,g,D,rb,T),re===Z)break;Z=re}Z!==null&&D.stopPropagation()}else Gv(f,g,D,null,T)}}function nb(f){return f=Qi(f),Im(f)}var rb=null;function Im(f){if(rb=null,f=mt(f),f!==null){var g=l(f);if(g===null)f=null;else{var T=g.tag;if(T===13){if(f=u(g),f!==null)return f;f=null}else if(T===31){if(f=i(g),f!==null)return f;f=null}else if(T===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;f=null}else g!==f&&(f=null)}}return rb=f,null}function Rx(f){switch(f){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jn()){case _t:return 2;case Oe:return 8;case ke:case qe:return 32;case ut:return 268435456;default:return 32}default:return 32}}var Y_=!1,Eh=null,wh=null,Sp=null,T0=new Map,C0=new Map,Tp=[],Kw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(f,g){switch(f){case"focusin":case"focusout":Eh=null;break;case"dragenter":case"dragleave":wh=null;break;case"mouseover":case"mouseout":Sp=null;break;case"pointerover":case"pointerout":T0.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":C0.delete(g.pointerId)}}function Ac(f,g,T,D,Z,re){return f===null||f.nativeEvent!==re?(f={blockedOn:g,domEventName:T,eventSystemFlags:D,nativeEvent:re,targetContainers:[Z]},g!==null&&(g=Xt(g),g!==null&&V_(g)),f):(f.eventSystemFlags|=D,g=f.targetContainers,Z!==null&&g.indexOf(Z)===-1&&g.push(Z),f)}function Mx(f,g,T,D,Z){switch(g){case"focusin":return Eh=Ac(Eh,f,g,T,D,Z),!0;case"dragenter":return wh=Ac(wh,f,g,T,D,Z),!0;case"mouseover":return Sp=Ac(Sp,f,g,T,D,Z),!0;case"pointerover":var re=Z.pointerId;return T0.set(re,Ac(T0.get(re)||null,f,g,T,D,Z)),!0;case"gotpointercapture":return re=Z.pointerId,C0.set(re,Ac(C0.get(re)||null,f,g,T,D,Z)),!0}return!1}function Nm(f){var g=mt(f.target);if(g!==null){var T=l(g);if(T!==null){if(g=T.tag,g===13){if(g=u(T),g!==null){f.blockedOn=g,nr(f.priority,function(){Ix(T)});return}}else if(g===31){if(g=i(T),g!==null){f.blockedOn=g,nr(f.priority,function(){Ix(T)});return}}else if(g===3&&T.stateNode.current.memoizedState.isDehydrated){f.blockedOn=T.tag===3?T.stateNode.containerInfo:null;return}}}f.blockedOn=null}function ab(f){if(f.blockedOn!==null)return!1;for(var g=f.targetContainers;0<g.length;){var T=nb(f.nativeEvent);if(T===null){T=f.nativeEvent;var D=new T.constructor(T.type,T);xo=D,T.target.dispatchEvent(D),xo=null}else return g=Xt(T),g!==null&&V_(g),f.blockedOn=T,!1;g.shift()}return!0}function Ox(f,g,T){ab(f)&&T.delete(g)}function Qw(){Y_=!1,Eh!==null&&ab(Eh)&&(Eh=null),wh!==null&&ab(wh)&&(wh=null),Sp!==null&&ab(Sp)&&(Sp=null),T0.forEach(Ox),C0.forEach(Ox)}function Cp(f,g){f.blockedOn===g&&(f.blockedOn=null,Y_||(Y_=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Qw)))}var A0=null;function Dx(f){A0!==f&&(A0=f,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){A0===f&&(A0=null);for(var g=0;g<f.length;g+=3){var T=f[g],D=f[g+1],Z=f[g+2];if(typeof D!="function"){if(Im(D||T)===null)continue;break}var re=Xt(T);re!==null&&(f.splice(g,3),g-=3,vi(re,{pending:!0,data:Z,method:T.method,action:D},D,Z))}}))}function ry(f){function g(Dt){return Cp(Dt,f)}Eh!==null&&Cp(Eh,f),wh!==null&&Cp(wh,f),Sp!==null&&Cp(Sp,f),T0.forEach(g),C0.forEach(g);for(var T=0;T<Tp.length;T++){var D=Tp[T];D.blockedOn===f&&(D.blockedOn=null)}for(;0<Tp.length&&(T=Tp[0],T.blockedOn===null);)Nm(T),T.blockedOn===null&&Tp.shift();if(T=(f.ownerDocument||f).$$reactFormReplay,T!=null)for(D=0;D<T.length;D+=3){var Z=T[D],re=T[D+1],Ne=Z[qt]||null;if(typeof re=="function")Ne||Dx(T);else if(Ne){var et=null;if(re&&re.hasAttribute("formAction")){if(Z=re,Ne=re[qt]||null)et=Ne.formAction;else if(Im(Z)!==null)continue}else et=Ne.action;typeof et=="function"?T[D+1]=et:(T.splice(D,3),D-=3),Dx(T)}}}function zl(){function f(re){re.canIntercept&&re.info==="react-transition"&&re.intercept({handler:function(){return new Promise(function(Ne){return Z=Ne})},focusReset:"manual",scroll:"manual"})}function g(){Z!==null&&(Z(),Z=null),D||setTimeout(T,20)}function T(){if(!D&&!navigation.transition){var re=navigation.currentEntry;re&&re.url!=null&&navigation.navigate(re.url,{state:re.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var D=!1,Z=null;return navigation.addEventListener("navigate",f),navigation.addEventListener("navigatesuccess",g),navigation.addEventListener("navigateerror",g),setTimeout(T,100),function(){D=!0,navigation.removeEventListener("navigate",f),navigation.removeEventListener("navigatesuccess",g),navigation.removeEventListener("navigateerror",g),Z!==null&&(Z(),Z=null)}}}function ay(f){this._internalRoot=f}ib.prototype.render=ay.prototype.render=function(f){var g=this._internalRoot;if(g===null)throw Error(r(409));var T=g.current,D=fi();kx(T,D,f,g,null,null)},ib.prototype.unmount=ay.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var g=f.containerInfo;kx(f.current,2,null,f,null,null),d0(),g[Gn]=null}};function ib(f){this._internalRoot=f}ib.prototype.unstable_scheduleHydration=function(f){if(f){var g=Pn();f={blockedOn:null,target:f,priority:g};for(var T=0;T<Tp.length&&g!==0&&g<Tp[T].priority;T++);Tp.splice(T,0,f),T===0&&Nm(f)}};var Z_=t.version;if(Z_!=="19.2.3")throw Error(r(527,Z_,"19.2.3"));we.findDOMNode=function(f){var g=f._reactInternals;if(g===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=b(g),f=f!==null?_(f):null,f=f===null?null:f.stateNode,f};var Lx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:he,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ob=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ob.isDisabled&&ob.supportsFiber)try{Bt=ob.inject(Lx),xt=ob}catch{}}return r2.createRoot=function(f,g){if(!a(f))throw Error(r(299));var T=!1,D="",Z=jd,re=ad,Ne=Zy;return g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(D=g.identifierPrefix),g.onUncaughtError!==void 0&&(Z=g.onUncaughtError),g.onCaughtError!==void 0&&(re=g.onCaughtError),g.onRecoverableError!==void 0&&(Ne=g.onRecoverableError)),g=G_(f,1,!1,null,null,T,D,null,Z,re,Ne,zl),f[Gn]=g.current,Uv(f),new ay(g)},r2.hydrateRoot=function(f,g,T){if(!a(f))throw Error(r(299));var D=!1,Z="",re=jd,Ne=ad,et=Zy,Dt=null;return T!=null&&(T.unstable_strictMode===!0&&(D=!0),T.identifierPrefix!==void 0&&(Z=T.identifierPrefix),T.onUncaughtError!==void 0&&(re=T.onUncaughtError),T.onCaughtError!==void 0&&(Ne=T.onCaughtError),T.onRecoverableError!==void 0&&(et=T.onRecoverableError),T.formState!==void 0&&(Dt=T.formState)),g=G_(f,1,!0,g,T??null,D,Z,Dt,re,Ne,et,zl),g.context=Ax(null),T=g.current,D=fi(),D=Yt(D),Z=Ra(D),Z.callback=null,Ru(T,Z,D),T=D,g.current.lanes=T,Tr(g,T),Vd(g),f[Gn]=g.current,Uv(f),new ib(g)},r2.version="19.2.3",r2}var KB;function Pre(){if(KB)return rR.exports;KB=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rR.exports=Lre(),rR.exports}var Fre=Pre();var yH=e=>{throw TypeError(e)},Bre=(e,t,n)=>t.has(e)||yH("Cannot "+n),sR=(e,t,n)=>(Bre(e,t,"read from private field"),n?n.call(e):t.get(e)),$re=(e,t,n)=>t.has(e)?yH("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),QB="popstate";function jre(e={}){function t(a,l){let{pathname:u="/",search:i="",hash:m=""}=lv(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),dS("",{pathname:u,search:i,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(a,l){let u=a.document.querySelector("base"),i="";if(u&&u.getAttribute("href")){let m=a.location.href,b=m.indexOf("#");i=b===-1?m:m.slice(0,b)}return i+"#"+(typeof l=="string"?l:Ny(l))}function r(a,l){Ws(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return Ure(t,n,r,e)}function ti(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ws(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function zre(){return Math.random().toString(36).substring(2,10)}function JB(e,t){return{usr:e.state,key:e.key,idx:t}}function dS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?lv(t):t,state:n,key:t&&t.key||r||zre()}}function Ny({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lv(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Ure(e,t,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,i="POP",m=null,b=_();b==null&&(b=0,u.replaceState({...u.state,idx:b},""));function _(){return(u.state||{idx:null}).idx}function w(){i="POP";let z=_(),q=z==null?null:z-b;b=z,m&&m({action:i,location:G.location,delta:q})}function M(z,q){i="PUSH";let Y=dS(G.location,z,q);n&&n(Y,z),b=_()+1;let J=JB(Y,b),ne=G.createHref(Y);try{u.pushState(J,"",ne)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;a.location.assign(ne)}l&&m&&m({action:i,location:G.location,delta:1})}function P(z,q){i="REPLACE";let Y=dS(G.location,z,q);n&&n(Y,z),b=_();let J=JB(Y,b),ne=G.createHref(Y);u.replaceState(J,"",ne),l&&m&&m({action:i,location:G.location,delta:0})}function j(z){return vH(z)}let G={get action(){return i},get location(){return e(a,u)},listen(z){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(QB,w),m=z,()=>{a.removeEventListener(QB,w),m=null}},createHref(z){return t(a,z)},createURL:j,encodeLocation(z){let q=j(z);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:M,replace:P,go(z){return u.go(z)}};return G}function vH(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ti(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ny(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var C2,e$=class{constructor(e){if($re(this,C2,new Map),e)for(let[t,n]of e)this.set(t,n)}get(e){if(sR(this,C2).has(e))return sR(this,C2).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){sR(this,C2).set(e,t)}};C2=new WeakMap;var Gre=new Set(["lazy","caseSensitive","path","id","index","children"]);function Hre(e){return Gre.has(e)}var Vre=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function qre(e){return Vre.has(e)}function Yre(e){return e.index===!0}function fS(e,t,n=[],r={},a=!1){return e.map((l,u)=>{let i=[...n,String(u)],m=typeof l.id=="string"?l.id:i.join("-");if(ti(l.index!==!0||!l.children,"Cannot specify children on an index route"),ti(a||!r[m],`Found a route id collision on id "${m}".  Route id's must be globally unique within Data Router usages`),Yre(l)){let b={...l,id:m};return r[m]=t$(b,t(b)),b}else{let b={...l,id:m,children:void 0};return r[m]=t$(b,t(b)),l.children&&(b.children=fS(l.children,t,i,r,a)),b}})}function t$(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function vb(e,t,n="/"){return A2(e,t,n,!1)}function A2(e,t,n,r){let a=typeof t=="string"?lv(t):t,l=Yp(a.pathname||"/",n);if(l==null)return null;let u=bH(e);Zre(u);let i=null;for(let m=0;i==null&&m<u.length;++m){let b=oae(l);i=aae(u[m],b,r)}return i}function Wre(e,t){let{route:n,pathname:r,params:a}=e;return{id:n.id,pathname:r,params:a,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function bH(e,t=[],n=[],r="",a=!1){let l=(u,i,m=a,b)=>{let _={relativePath:b===void 0?u.path||"":b,caseSensitive:u.caseSensitive===!0,childrenIndex:i,route:u};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(r)&&m)return;ti(_.relativePath.startsWith(r),`Absolute route path "${_.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(r.length)}let w=Ty([r,_.relativePath]),M=n.concat(_);u.children&&u.children.length>0&&(ti(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),bH(u.children,t,M,w,m)),!(u.path==null&&!u.index)&&t.push({path:w,score:nae(w,u.index),routesMeta:M})};return e.forEach((u,i)=>{if(u.path===""||!u.path?.includes("?"))l(u,i);else for(let m of _H(u.path))l(u,i,!0,m)}),t}function _H(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=_H(r.join("/")),i=[];return i.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&i.push(...u),i.map(m=>e.startsWith("/")&&m===""?"/":m)}function Zre(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:rae(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Xre=/^:[\w-]+$/,Kre=3,Qre=2,Jre=1,eae=10,tae=-2,n$=e=>e==="*";function nae(e,t){let n=e.split("/"),r=n.length;return n.some(n$)&&(r+=tae),t&&(r+=Qre),n.filter(a=>!n$(a)).reduce((a,l)=>a+(Xre.test(l)?Kre:l===""?Jre:eae),r)}function rae(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function aae(e,t,n=!1){let{routesMeta:r}=e,a={},l="/",u=[];for(let i=0;i<r.length;++i){let m=r[i],b=i===r.length-1,_=l==="/"?t:t.slice(l.length)||"/",w=XA({path:m.relativePath,caseSensitive:m.caseSensitive,end:b},_),M=m.route;if(!w&&b&&n&&!r[r.length-1].route.index&&(w=XA({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!w)return null;Object.assign(a,w.params),u.push({params:a,pathname:Ty([l,w.pathname]),pathnameBase:cae(Ty([l,w.pathnameBase])),route:M}),w.pathnameBase!=="/"&&(l=Ty([l,w.pathnameBase]))}return u}function XA(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=iae(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:r.reduce((b,{paramName:_,isOptional:w},M)=>{if(_==="*"){let j=i[M]||"";u=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const P=i[M];return w&&!P?b[_]=void 0:b[_]=(P||"").replace(/%2F/g,"/"),b},{}),pathname:l,pathnameBase:u,pattern:e}}function iae(e,t=!1,n=!0){Ws(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,i,m)=>(r.push({paramName:i,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function oae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ws(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function sae({basename:e,pathname:t}){return t==="/"?e:Ty([e,t])}var lae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yI=e=>lae.test(e);function uae(e,t="/"){let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?lv(e):e,l;if(n)if(yI(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),Ws(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?l=r$(n.substring(1),"/"):l=r$(n,t)}else l=t;return{pathname:l,search:dae(r),hash:fae(a)}}function r$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lR(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xH(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function vI(e){let t=xH(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function bI(e,t,n,r=!1){let a;typeof e=="string"?a=lv(e):(a={...e},ti(!a.pathname||!a.pathname.includes("?"),lR("?","pathname","search",a)),ti(!a.pathname||!a.pathname.includes("#"),lR("#","pathname","hash",a)),ti(!a.search||!a.search.includes("#"),lR("#","search","hash",a)));let l=e===""||a.pathname==="",u=l?"/":a.pathname,i;if(u==null)i=n;else{let w=t.length-1;if(!r&&u.startsWith("..")){let M=u.split("/");for(;M[0]==="..";)M.shift(),w-=1;a.pathname=M.join("/")}i=w>=0?t[w]:"/"}let m=uae(a,i),b=u&&u!=="/"&&u.endsWith("/"),_=(l||u===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(b||_)&&(m.pathname+="/"),m}var Ty=e=>e.join("/").replace(/\/\/+/g,"/"),cae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,_I=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hS(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function uT(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Eb=Symbol("Uninstrumented");function hae(e,t){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(l){let u=Object.keys(n);for(let i of u)l[i]&&n[i].push(l[i])}}));let r={};if(typeof t.lazy=="function"&&n.lazy.length>0){let a=iE(n.lazy,t.lazy,()=>{});a&&(r.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(l=>{let u=a[l],i=n[`lazy.${l}`];if(typeof u=="function"&&i.length>0){let m=iE(i,u,()=>{});m&&(r.lazy=Object.assign(r.lazy||{},{[l]:m}))}})}return["loader","action"].forEach(a=>{let l=t[a];if(typeof l=="function"&&n[a].length>0){let u=l[Eb]??l,i=iE(n[a],u,(...m)=>a$(m[0]));i&&(i[Eb]=u,r[a]=i)}}),t.middleware&&t.middleware.length>0&&n.middleware.length>0&&(r.middleware=t.middleware.map(a=>{let l=a[Eb]??a,u=iE(n.middleware,l,(...i)=>a$(i[0]));return u?(u[Eb]=l,u):a})),r}function pae(e,t){let n={navigate:[],fetch:[]};if(t.forEach(r=>r({instrument(a){let l=Object.keys(a);for(let u of l)a[u]&&n[u].push(a[u])}})),n.navigate.length>0){let r=e.navigate[Eb]??e.navigate,a=iE(n.navigate,r,(...l)=>{let[u,i]=l;return{to:typeof u=="number"||typeof u=="string"?u:u?Ny(u):".",...i$(e,i??{})}});a&&(a[Eb]=r,e.navigate=a)}if(n.fetch.length>0){let r=e.fetch[Eb]??e.fetch,a=iE(n.fetch,r,(...l)=>{let[u,,i,m]=l;return{href:i??".",fetcherKey:u,...i$(e,m??{})}});a&&(a[Eb]=r,e.fetch=a)}return e}function iE(e,t,n){return e.length===0?null:async(...r)=>{let a=await EH(e,n(...r),()=>t(...r),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function EH(e,t,n,r){let a=e[r],l;if(a){let u,i=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=EH(e,t,n,r-1),l=await u,ti(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await a(i,t)}catch(m){console.error("An instrumentation function threw an error:",m)}u||await i(),await u}else try{l={type:"success",value:await n()}}catch(u){l={type:"error",value:u}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function a$(e){let{request:t,context:n,params:r,unstable_pattern:a}=e;return{request:mae(t),params:{...r},unstable_pattern:a,context:gae(n)}}function i$(e,t){return{currentUrl:Ny(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function mae(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function gae(e){if(vae(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var yae=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vae(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===yae}var wH=["POST","PUT","PATCH","DELETE"],bae=new Set(wH),_ae=["GET",...wH],xae=new Set(_ae),Eae=new Set([301,302,303,307,308]),wae=new Set([307,308]),uR={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sae={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},a2={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Tae=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),SH="remix-router-transitions",TH=Symbol("ResetLoaderData");function Cae(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";ti(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=e.hydrationRouteProperties||[],a=e.mapRouteProperties||Tae,l=a;if(e.unstable_instrumentations){let yt=e.unstable_instrumentations;l=Ft=>({...a(Ft),...hae(yt.map(Yt=>Yt.route).filter(Boolean),Ft)})}let u={},i=fS(e.routes,l,void 0,u),m,b=e.basename||"/";b.startsWith("/")||(b=`/${b}`);let _=e.dataStrategy||Rae,w={...e.future},M=null,P=new Set,j=null,G=null,z=null,q=e.hydrationData!=null,Y=vb(i,e.history.location,b),J=!1,ne=null,ie;if(Y==null&&!e.patchRoutesOnNavigation){let yt=Pp(404,{pathname:e.history.location.pathname}),{matches:Ft,route:Yt}=xC(i);ie=!0,Y=Ft,ne={[Yt.id]:yt}}else if(Y&&!e.hydrationData&&on(Y,i,e.history.location.pathname).active&&(Y=null),Y)if(Y.some(yt=>yt.route.lazy))ie=!1;else if(!Y.some(yt=>uL(yt.route)))ie=!0;else{let yt=e.hydrationData?e.hydrationData.loaderData:null,Ft=e.hydrationData?e.hydrationData.errors:null;if(Ft){let Yt=Y.findIndex(Ot=>Ft[Ot.route.id]!==void 0);ie=Y.slice(0,Yt+1).every(Ot=>!yO(Ot.route,yt,Ft))}else ie=Y.every(Yt=>!yO(Yt.route,yt,Ft))}else{ie=!1,Y=[];let yt=on(null,i,e.history.location.pathname);yt.active&&yt.matches&&(J=!0,Y=yt.matches)}let ue,oe={historyAction:e.history.action,location:e.history.location,matches:Y,initialized:ie,navigation:uR,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||ne,fetchers:new Map,blockers:new Map},K="POP",se=null,pe=!1,ve,Te=!1,Me=new Map,xe=null,Se=!1,he=!1,we=new Set,_e=new Map,Be=0,He=-1,Re=new Map,je=new Set,Ze=new Map,Qe=new Map,Pe=new Set,St=new Map,Nt,We=null;function en(){if(M=e.history.listen(({action:yt,location:Ft,delta:Yt})=>{if(Nt){Nt(),Nt=void 0;return}Ws(St.size===0||Yt!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ot=Xn({currentLocation:oe.location,nextLocation:Ft,historyAction:yt});if(Ot&&Yt!=null){let Pn=new Promise(nr=>{Nt=nr});e.history.go(Yt*-1),qn(Ot,{state:"blocked",location:Ft,proceed(){qn(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:Ft}),Pn.then(()=>e.history.go(Yt))},reset(){let nr=new Map(oe.blockers);nr.set(Ot,a2),Ge({blockers:nr})}}),se?.resolve(),se=null;return}return pn(yt,Ft)}),n){Yae(t,Me);let yt=()=>Wae(t,Me);t.addEventListener("pagehide",yt),xe=()=>t.removeEventListener("pagehide",yt)}return oe.initialized||pn("POP",oe.location,{initialHydration:!0}),ue}function zt(){M&&M(),xe&&xe(),P.clear(),ve&&ve.abort(),oe.fetchers.forEach((yt,Ft)=>Ut(Ft)),oe.blockers.forEach((yt,Ft)=>gn(Ft))}function rn(yt){return P.add(yt),()=>P.delete(yt)}function Ge(yt,Ft={}){yt.matches&&(yt.matches=yt.matches.map(Pn=>{let nr=u[Pn.route.id],fr=Pn.route;return fr.element!==nr.element||fr.errorElement!==nr.errorElement||fr.hydrateFallbackElement!==nr.hydrateFallbackElement?{...Pn,route:nr}:Pn})),oe={...oe,...yt};let Yt=[],Ot=[];oe.fetchers.forEach((Pn,nr)=>{Pn.state==="idle"&&(Pe.has(nr)?Yt.push(nr):Ot.push(nr))}),Pe.forEach(Pn=>{!oe.fetchers.has(Pn)&&!_e.has(Pn)&&Yt.push(Pn)}),[...P].forEach(Pn=>Pn(oe,{deletedFetchers:Yt,newErrors:yt.errors??null,viewTransitionOpts:Ft.viewTransitionOpts,flushSync:Ft.flushSync===!0})),Yt.forEach(Pn=>Ut(Pn)),Ot.forEach(Pn=>oe.fetchers.delete(Pn))}function kn(yt,Ft,{flushSync:Yt}={}){let Ot=oe.actionData!=null&&oe.navigation.formMethod!=null&&Jd(oe.navigation.formMethod)&&oe.navigation.state==="loading"&&yt.state?._isRedirect!==!0,Pn;Ft.actionData?Object.keys(Ft.actionData).length>0?Pn=Ft.actionData:Pn=null:Ot?Pn=oe.actionData:Pn=null;let nr=Ft.loaderData?m$(oe.loaderData,Ft.loaderData,Ft.matches||[],Ft.errors):oe.loaderData,fr=oe.blockers;fr.size>0&&(fr=new Map(fr),fr.forEach((zn,hr)=>fr.set(hr,a2)));let Jn=Se?!1:Mn(yt,Ft.matches||oe.matches),qt=pe===!0||oe.navigation.formMethod!=null&&Jd(oe.navigation.formMethod)&&yt.state?._isRedirect!==!0;m&&(i=m,m=void 0),Se||K==="POP"||(K==="PUSH"?e.history.push(yt,yt.state):K==="REPLACE"&&e.history.replace(yt,yt.state));let Gn;if(K==="POP"){let zn=Me.get(oe.location.pathname);zn&&zn.has(yt.pathname)?Gn={currentLocation:oe.location,nextLocation:yt}:Me.has(yt.pathname)&&(Gn={currentLocation:yt,nextLocation:oe.location})}else if(Te){let zn=Me.get(oe.location.pathname);zn?zn.add(yt.pathname):(zn=new Set([yt.pathname]),Me.set(oe.location.pathname,zn)),Gn={currentLocation:oe.location,nextLocation:yt}}Ge({...Ft,actionData:Pn,loaderData:nr,historyAction:K,location:yt,initialized:!0,navigation:uR,revalidation:"idle",restoreScrollPosition:Jn,preventScrollReset:qt,blockers:fr},{viewTransitionOpts:Gn,flushSync:Yt===!0}),K="POP",pe=!1,Te=!1,Se=!1,he=!1,se?.resolve(),se=null,We?.resolve(),We=null}async function _n(yt,Ft){if(se?.resolve(),se=null,typeof yt=="number"){se||(se=b$());let ua=se.promise;return e.history.go(yt),ua}let Yt=gO(oe.location,oe.matches,b,yt,Ft?.fromRouteId,Ft?.relative),{path:Ot,submission:Pn,error:nr}=o$(!1,Yt,Ft),fr=oe.location,Jn=dS(oe.location,Ot,Ft&&Ft.state);Jn={...Jn,...e.history.encodeLocation(Jn)};let qt=Ft&&Ft.replace!=null?Ft.replace:void 0,Gn="PUSH";qt===!0?Gn="REPLACE":qt===!1||Pn!=null&&Jd(Pn.formMethod)&&Pn.formAction===oe.location.pathname+oe.location.search&&(Gn="REPLACE");let zn=Ft&&"preventScrollReset"in Ft?Ft.preventScrollReset===!0:void 0,hr=(Ft&&Ft.flushSync)===!0,ra=Xn({currentLocation:fr,nextLocation:Jn,historyAction:Gn});if(ra){qn(ra,{state:"blocked",location:Jn,proceed(){qn(ra,{state:"proceeding",proceed:void 0,reset:void 0,location:Jn}),_n(yt,Ft)},reset(){let ua=new Map(oe.blockers);ua.set(ra,a2),Ge({blockers:ua})}});return}await pn(Gn,Jn,{submission:Pn,pendingError:nr,preventScrollReset:zn,replace:Ft&&Ft.replace,enableViewTransition:Ft&&Ft.viewTransition,flushSync:hr})}function Lt(){We||(We=b$()),Oe(),Ge({revalidation:"loading"});let yt=We.promise;return oe.navigation.state==="submitting"?yt:oe.navigation.state==="idle"?(pn(oe.historyAction,oe.location,{startUninterruptedRevalidation:!0}),yt):(pn(K||oe.historyAction,oe.navigation.location,{overrideNavigation:oe.navigation,enableViewTransition:Te===!0}),yt)}async function pn(yt,Ft,Yt){ve&&ve.abort(),ve=null,K=yt,Se=(Yt&&Yt.startUninterruptedRevalidation)===!0,Mr(oe.location,oe.matches),pe=(Yt&&Yt.preventScrollReset)===!0,Te=(Yt&&Yt.enableViewTransition)===!0;let Ot=m||i,Pn=Yt&&Yt.overrideNavigation,nr=Yt?.initialHydration&&oe.matches&&oe.matches.length>0&&!J?oe.matches:vb(Ot,Ft,b),fr=(Yt&&Yt.flushSync)===!0;if(nr&&oe.initialized&&!he&&$ae(oe.location,Ft)&&!(Yt&&Yt.submission&&Jd(Yt.submission.formMethod))){kn(Ft,{matches:nr},{flushSync:fr});return}let Jn=on(nr,Ot,Ft.pathname);if(Jn.active&&Jn.matches&&(nr=Jn.matches),!nr){let{error:Ke,notFoundMatches:mt,route:Xt}=Qn(Ft.pathname);kn(Ft,{matches:mt,loaderData:{},errors:{[Xt.id]:Ke}},{flushSync:fr});return}ve=new AbortController;let qt=Jx(e.history,Ft,ve.signal,Yt&&Yt.submission),Gn=e.getContext?await e.getContext():new e$,zn;if(Yt&&Yt.pendingError)zn=[bb(nr).route.id,{type:"error",error:Yt.pendingError}];else if(Yt&&Yt.submission&&Jd(Yt.submission.formMethod)){let Ke=await Tn(qt,Ft,Yt.submission,nr,Gn,Jn.active,Yt&&Yt.initialHydration===!0,{replace:Yt.replace,flushSync:fr});if(Ke.shortCircuited)return;if(Ke.pendingActionResult){let[mt,Xt]=Ke.pendingActionResult;if(Rh(Xt)&&hS(Xt.error)&&Xt.error.status===404){ve=null,kn(Ft,{matches:Ke.matches,loaderData:{},errors:{[mt]:Xt.error}});return}}nr=Ke.matches||nr,zn=Ke.pendingActionResult,Pn=cR(Ft,Yt.submission),fr=!1,Jn.active=!1,qt=Jx(e.history,qt.url,qt.signal)}let{shortCircuited:hr,matches:ra,loaderData:ua,errors:ft}=await tr(qt,Ft,nr,Gn,Jn.active,Pn,Yt&&Yt.submission,Yt&&Yt.fetcherSubmission,Yt&&Yt.replace,Yt&&Yt.initialHydration===!0,fr,zn);hr||(ve=null,kn(Ft,{matches:ra||nr,...g$(zn),loaderData:ua,errors:ft}))}async function Tn(yt,Ft,Yt,Ot,Pn,nr,fr,Jn={}){Oe();let qt=Vae(Ft,Yt);if(Ge({navigation:qt},{flushSync:Jn.flushSync===!0}),nr){let hr=await Wr(Ot,Ft.pathname,yt.signal);if(hr.type==="aborted")return{shortCircuited:!0};if(hr.type==="error"){if(hr.partialMatches.length===0){let{matches:ua,route:ft}=xC(i);return{matches:ua,pendingActionResult:[ft.id,{type:"error",error:hr.error}]}}let ra=bb(hr.partialMatches).route.id;return{matches:hr.partialMatches,pendingActionResult:[ra,{type:"error",error:hr.error}]}}else if(hr.matches)Ot=hr.matches;else{let{notFoundMatches:ra,error:ua,route:ft}=Qn(Ft.pathname);return{matches:ra,pendingActionResult:[ft.id,{type:"error",error:ua}]}}}let Gn,zn=bA(Ot,Ft);if(!zn.route.action&&!zn.route.lazy)Gn={type:"error",error:Pp(405,{method:yt.method,pathname:Ft.pathname,routeId:zn.route.id})};else{let hr=mE(l,u,yt,Ot,zn,fr?[]:r,Pn),ra=await jn(yt,hr,Pn,null);if(Gn=ra[zn.route.id],!Gn){for(let ua of Ot)if(ra[ua.route.id]){Gn=ra[ua.route.id];break}}if(yt.signal.aborted)return{shortCircuited:!0}}if(r1(Gn)){let hr;return Jn&&Jn.replace!=null?hr=Jn.replace:hr=f$(Gn.response.headers.get("Location"),new URL(yt.url),b)===oe.location.pathname+oe.location.search,await hn(yt,Gn,!0,{submission:Yt,replace:hr}),{shortCircuited:!0}}if(Rh(Gn)){let hr=bb(Ot,zn.route.id);return(Jn&&Jn.replace)!==!0&&(K="PUSH"),{matches:Ot,pendingActionResult:[hr.route.id,Gn,zn.route.id]}}return{matches:Ot,pendingActionResult:[zn.route.id,Gn]}}async function tr(yt,Ft,Yt,Ot,Pn,nr,fr,Jn,qt,Gn,zn,hr){let ra=nr||cR(Ft,fr),ua=fr||Jn||v$(ra),ft=!Se&&!Gn;if(Pn){if(ft){let Kr=Vt(hr);Ge({navigation:ra,...Kr!==void 0?{actionData:Kr}:{}},{flushSync:zn})}let Or=await Wr(Yt,Ft.pathname,yt.signal);if(Or.type==="aborted")return{shortCircuited:!0};if(Or.type==="error"){if(Or.partialMatches.length===0){let{matches:za,route:Za}=xC(i);return{matches:za,loaderData:{},errors:{[Za.id]:Or.error}}}let Kr=bb(Or.partialMatches).route.id;return{matches:Or.partialMatches,loaderData:{},errors:{[Kr]:Or.error}}}else if(Or.matches)Yt=Or.matches;else{let{error:Kr,notFoundMatches:za,route:Za}=Qn(Ft.pathname);return{matches:za,loaderData:{},errors:{[Za.id]:Kr}}}}let Ke=m||i,{dsMatches:mt,revalidatingFetchers:Xt}=s$(yt,Ot,l,u,e.history,oe,Yt,ua,Ft,Gn?[]:r,Gn===!0,he,we,Pe,Ze,je,Ke,b,e.patchRoutesOnNavigation!=null,hr);if(He=++Be,!e.dataStrategy&&!mt.some(Or=>Or.shouldLoad)&&!mt.some(Or=>Or.route.middleware&&Or.route.middleware.length>0)&&Xt.length===0){let Or=sn();return kn(Ft,{matches:Yt,loaderData:{},errors:hr&&Rh(hr[1])?{[hr[0]]:hr[1].error}:null,...g$(hr),...Or?{fetchers:new Map(oe.fetchers)}:{}},{flushSync:zn}),{shortCircuited:!0}}if(ft){let Or={};if(!Pn){Or.navigation=ra;let Kr=Vt(hr);Kr!==void 0&&(Or.actionData=Kr)}Xt.length>0&&(Or.fetchers=lr(Xt)),Ge(Or,{flushSync:zn})}Xt.forEach(Or=>{xt(Or.key),Or.controller&&_e.set(Or.key,Or.controller)});let Cn=()=>Xt.forEach(Or=>xt(Or.key));ve&&ve.signal.addEventListener("abort",Cn);let{loaderResults:Yn,fetcherResults:Wn}=await _t(mt,Xt,yt,Ot);if(yt.signal.aborted)return{shortCircuited:!0};ve&&ve.signal.removeEventListener("abort",Cn),Xt.forEach(Or=>_e.delete(Or.key));let br=EC(Yn);if(br)return await hn(yt,br.result,!0,{replace:qt}),{shortCircuited:!0};if(br=EC(Wn),br)return je.add(br.key),await hn(yt,br.result,!0,{replace:qt}),{shortCircuited:!0};let{loaderData:Br,errors:_r}=p$(oe,Yt,Yn,hr,Xt,Wn);Gn&&oe.errors&&(_r={...oe.errors,..._r});let Nr=sn(),Ur=mn(He),Wa=Nr||Ur||Xt.length>0;return{matches:Yt,loaderData:Br,errors:_r,...Wa?{fetchers:new Map(oe.fetchers)}:{}}}function Vt(yt){if(yt&&!Rh(yt[1]))return{[yt[0]]:yt[1].data};if(oe.actionData)return Object.keys(oe.actionData).length===0?null:oe.actionData}function lr(yt){return yt.forEach(Ft=>{let Yt=oe.fetchers.get(Ft.key),Ot=i2(void 0,Yt?Yt.data:void 0);oe.fetchers.set(Ft.key,Ot)}),new Map(oe.fetchers)}async function sr(yt,Ft,Yt,Ot){xt(yt);let Pn=(Ot&&Ot.flushSync)===!0,nr=m||i,fr=gO(oe.location,oe.matches,b,Yt,Ft,Ot?.relative),Jn=vb(nr,fr,b),qt=on(Jn,nr,fr);if(qt.active&&qt.matches&&(Jn=qt.matches),!Jn){qe(yt,Ft,Pp(404,{pathname:fr}),{flushSync:Pn});return}let{path:Gn,submission:zn,error:hr}=o$(!0,fr,Ot);if(hr){qe(yt,Ft,hr,{flushSync:Pn});return}let ra=e.getContext?await e.getContext():new e$,ua=(Ot&&Ot.preventScrollReset)===!0;if(zn&&Jd(zn.formMethod)){await xn(yt,Ft,Gn,Jn,ra,qt.active,Pn,ua,zn);return}Ze.set(yt,{routeId:Ft,path:Gn}),await En(yt,Ft,Gn,Jn,ra,qt.active,Pn,ua,zn)}async function xn(yt,Ft,Yt,Ot,Pn,nr,fr,Jn,qt){Oe(),Ze.delete(yt);let Gn=oe.fetchers.get(yt);ke(yt,qae(qt,Gn),{flushSync:fr});let zn=new AbortController,hr=Jx(e.history,Yt,zn.signal,qt);if(nr){let pa=await Wr(Ot,new URL(hr.url).pathname,hr.signal,yt);if(pa.type==="aborted")return;if(pa.type==="error"){qe(yt,Ft,pa.error,{flushSync:fr});return}else if(pa.matches)Ot=pa.matches;else{qe(yt,Ft,Pp(404,{pathname:Yt}),{flushSync:fr});return}}let ra=bA(Ot,Yt);if(!ra.route.action&&!ra.route.lazy){let pa=Pp(405,{method:qt.formMethod,pathname:Yt,routeId:Ft});qe(yt,Ft,pa,{flushSync:fr});return}_e.set(yt,zn);let ua=Be,ft=mE(l,u,hr,Ot,ra,r,Pn),Ke=await jn(hr,ft,Pn,yt),mt=Ke[ra.route.id];if(!mt){for(let pa of ft)if(Ke[pa.route.id]){mt=Ke[pa.route.id];break}}if(hr.signal.aborted){_e.get(yt)===zn&&_e.delete(yt);return}if(Pe.has(yt)){if(r1(mt)||Rh(mt)){ke(yt,M0(void 0));return}}else{if(r1(mt))if(_e.delete(yt),He>ua){ke(yt,M0(void 0));return}else return je.add(yt),ke(yt,i2(qt)),hn(hr,mt,!1,{fetcherSubmission:qt,preventScrollReset:Jn});if(Rh(mt)){qe(yt,Ft,mt.error);return}}let Xt=oe.navigation.location||oe.location,Cn=Jx(e.history,Xt,zn.signal),Yn=m||i,Wn=oe.navigation.state!=="idle"?vb(Yn,oe.navigation.location,b):oe.matches;ti(Wn,"Didn't find any matches after fetcher action");let br=++Be;Re.set(yt,br);let Br=i2(qt,mt.data);oe.fetchers.set(yt,Br);let{dsMatches:_r,revalidatingFetchers:Nr}=s$(Cn,Pn,l,u,e.history,oe,Wn,qt,Xt,r,!1,he,we,Pe,Ze,je,Yn,b,e.patchRoutesOnNavigation!=null,[ra.route.id,mt]);Nr.filter(pa=>pa.key!==yt).forEach(pa=>{let aa=pa.key,Ol=oe.fetchers.get(aa),$c=i2(void 0,Ol?Ol.data:void 0);oe.fetchers.set(aa,$c),xt(aa),pa.controller&&_e.set(aa,pa.controller)}),Ge({fetchers:new Map(oe.fetchers)});let Ur=()=>Nr.forEach(pa=>xt(pa.key));zn.signal.addEventListener("abort",Ur);let{loaderResults:Wa,fetcherResults:Or}=await _t(_r,Nr,Cn,Pn);if(zn.signal.aborted)return;if(zn.signal.removeEventListener("abort",Ur),Re.delete(yt),_e.delete(yt),Nr.forEach(pa=>_e.delete(pa.key)),oe.fetchers.has(yt)){let pa=M0(mt.data);oe.fetchers.set(yt,pa)}let Kr=EC(Wa);if(Kr)return hn(Cn,Kr.result,!1,{preventScrollReset:Jn});if(Kr=EC(Or),Kr)return je.add(Kr.key),hn(Cn,Kr.result,!1,{preventScrollReset:Jn});let{loaderData:za,errors:Za}=p$(oe,Wn,Wa,void 0,Nr,Or);mn(br),oe.navigation.state==="loading"&&br>He?(ti(K,"Expected pending action"),ve&&ve.abort(),kn(oe.navigation.location,{matches:Wn,loaderData:za,errors:Za,fetchers:new Map(oe.fetchers)})):(Ge({errors:Za,loaderData:m$(oe.loaderData,za,Wn,Za),fetchers:new Map(oe.fetchers)}),he=!1)}async function En(yt,Ft,Yt,Ot,Pn,nr,fr,Jn,qt){let Gn=oe.fetchers.get(yt);ke(yt,i2(qt,Gn?Gn.data:void 0),{flushSync:fr});let zn=new AbortController,hr=Jx(e.history,Yt,zn.signal);if(nr){let Xt=await Wr(Ot,new URL(hr.url).pathname,hr.signal,yt);if(Xt.type==="aborted")return;if(Xt.type==="error"){qe(yt,Ft,Xt.error,{flushSync:fr});return}else if(Xt.matches)Ot=Xt.matches;else{qe(yt,Ft,Pp(404,{pathname:Yt}),{flushSync:fr});return}}let ra=bA(Ot,Yt);_e.set(yt,zn);let ua=Be,ft=mE(l,u,hr,Ot,ra,r,Pn),mt=(await jn(hr,ft,Pn,yt))[ra.route.id];if(_e.get(yt)===zn&&_e.delete(yt),!hr.signal.aborted){if(Pe.has(yt)){ke(yt,M0(void 0));return}if(r1(mt))if(He>ua){ke(yt,M0(void 0));return}else{je.add(yt),await hn(hr,mt,!1,{preventScrollReset:Jn});return}if(Rh(mt)){qe(yt,Ft,mt.error);return}ke(yt,M0(mt.data))}}async function hn(yt,Ft,Yt,{submission:Ot,fetcherSubmission:Pn,preventScrollReset:nr,replace:fr}={}){Yt||(se?.resolve(),se=null),Ft.response.headers.has("X-Remix-Revalidate")&&(he=!0);let Jn=Ft.response.headers.get("Location");ti(Jn,"Expected a Location header on the redirect Response"),Jn=f$(Jn,new URL(yt.url),b);let qt=dS(oe.location,Jn,{_isRedirect:!0});if(n){let ft=!1;if(Ft.response.headers.has("X-Remix-Reload-Document"))ft=!0;else if(yI(Jn)){const Ke=vH(Jn,!0);ft=Ke.origin!==t.location.origin||Yp(Ke.pathname,b)==null}if(ft){fr?t.location.replace(Jn):t.location.assign(Jn);return}}ve=null;let Gn=fr===!0||Ft.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:zn,formAction:hr,formEncType:ra}=oe.navigation;!Ot&&!Pn&&zn&&hr&&ra&&(Ot=v$(oe.navigation));let ua=Ot||Pn;if(wae.has(Ft.response.status)&&ua&&Jd(ua.formMethod))await pn(Gn,qt,{submission:{...ua,formAction:Jn},preventScrollReset:nr||pe,enableViewTransition:Yt?Te:void 0});else{let ft=cR(qt,Ot);await pn(Gn,qt,{overrideNavigation:ft,fetcherSubmission:Pn,preventScrollReset:nr||pe,enableViewTransition:Yt?Te:void 0})}}async function jn(yt,Ft,Yt,Ot){let Pn,nr={};try{Pn=await Oae(_,yt,Ft,Ot,Yt,!1)}catch(fr){return Ft.filter(Jn=>Jn.shouldLoad).forEach(Jn=>{nr[Jn.route.id]={type:"error",error:fr}}),nr}if(yt.signal.aborted)return nr;for(let[fr,Jn]of Object.entries(Pn))if(Gae(Jn)){let qt=Jn.result;nr[fr]={type:"redirect",response:Fae(qt,yt,fr,Ft,b)}}else nr[fr]=await Pae(Jn);return nr}async function _t(yt,Ft,Yt,Ot){let Pn=jn(Yt,yt,Ot,null),nr=Promise.all(Ft.map(async qt=>{if(qt.matches&&qt.match&&qt.request&&qt.controller){let zn=(await jn(qt.request,qt.matches,Ot,qt.key))[qt.match.route.id];return{[qt.key]:zn}}else return Promise.resolve({[qt.key]:{type:"error",error:Pp(404,{pathname:qt.path})}})})),fr=await Pn,Jn=(await nr).reduce((qt,Gn)=>Object.assign(qt,Gn),{});return{loaderResults:fr,fetcherResults:Jn}}function Oe(){he=!0,Ze.forEach((yt,Ft)=>{_e.has(Ft)&&we.add(Ft),xt(Ft)})}function ke(yt,Ft,Yt={}){oe.fetchers.set(yt,Ft),Ge({fetchers:new Map(oe.fetchers)},{flushSync:(Yt&&Yt.flushSync)===!0})}function qe(yt,Ft,Yt,Ot={}){let Pn=bb(oe.matches,Ft);Ut(yt),Ge({errors:{[Pn.route.id]:Yt},fetchers:new Map(oe.fetchers)},{flushSync:(Ot&&Ot.flushSync)===!0})}function ut(yt){return Qe.set(yt,(Qe.get(yt)||0)+1),Pe.has(yt)&&Pe.delete(yt),oe.fetchers.get(yt)||Sae}function dt(yt,Ft){xt(yt,Ft?.reason),ke(yt,M0(null))}function Ut(yt){let Ft=oe.fetchers.get(yt);_e.has(yt)&&!(Ft&&Ft.state==="loading"&&Re.has(yt))&&xt(yt),Ze.delete(yt),Re.delete(yt),je.delete(yt),Pe.delete(yt),we.delete(yt),oe.fetchers.delete(yt)}function Bt(yt){let Ft=(Qe.get(yt)||0)-1;Ft<=0?(Qe.delete(yt),Pe.add(yt)):Qe.set(yt,Ft),Ge({fetchers:new Map(oe.fetchers)})}function xt(yt,Ft){let Yt=_e.get(yt);Yt&&(Yt.abort(Ft),_e.delete(yt))}function Ct(yt){for(let Ft of yt){let Yt=ut(Ft),Ot=M0(Yt.data);oe.fetchers.set(Ft,Ot)}}function sn(){let yt=[],Ft=!1;for(let Yt of je){let Ot=oe.fetchers.get(Yt);ti(Ot,`Expected fetcher: ${Yt}`),Ot.state==="loading"&&(je.delete(Yt),yt.push(Yt),Ft=!0)}return Ct(yt),Ft}function mn(yt){let Ft=[];for(let[Yt,Ot]of Re)if(Ot<yt){let Pn=oe.fetchers.get(Yt);ti(Pn,`Expected fetcher: ${Yt}`),Pn.state==="loading"&&(xt(Yt),Re.delete(Yt),Ft.push(Yt))}return Ct(Ft),Ft.length>0}function Vn(yt,Ft){let Yt=oe.blockers.get(yt)||a2;return St.get(yt)!==Ft&&St.set(yt,Ft),Yt}function gn(yt){oe.blockers.delete(yt),St.delete(yt)}function qn(yt,Ft){let Yt=oe.blockers.get(yt)||a2;ti(Yt.state==="unblocked"&&Ft.state==="blocked"||Yt.state==="blocked"&&Ft.state==="blocked"||Yt.state==="blocked"&&Ft.state==="proceeding"||Yt.state==="blocked"&&Ft.state==="unblocked"||Yt.state==="proceeding"&&Ft.state==="unblocked",`Invalid blocker state transition: ${Yt.state} -> ${Ft.state}`);let Ot=new Map(oe.blockers);Ot.set(yt,Ft),Ge({blockers:Ot})}function Xn({currentLocation:yt,nextLocation:Ft,historyAction:Yt}){if(St.size===0)return;St.size>1&&Ws(!1,"A router only supports one blocker at a time");let Ot=Array.from(St.entries()),[Pn,nr]=Ot[Ot.length-1],fr=oe.blockers.get(Pn);if(!(fr&&fr.state==="proceeding")&&nr({currentLocation:yt,nextLocation:Ft,historyAction:Yt}))return Pn}function Qn(yt){let Ft=Pp(404,{pathname:yt}),Yt=m||i,{matches:Ot,route:Pn}=xC(Yt);return{notFoundMatches:Ot,route:Pn,error:Ft}}function Pt(yt,Ft,Yt){if(j=yt,z=Ft,G=Yt||null,!q&&oe.navigation===uR){q=!0;let Ot=Mn(oe.location,oe.matches);Ot!=null&&Ge({restoreScrollPosition:Ot})}return()=>{j=null,z=null,G=null}}function wn(yt,Ft){return G&&G(yt,Ft.map(Ot=>Wre(Ot,oe.loaderData)))||yt.key}function Mr(yt,Ft){if(j&&z){let Yt=wn(yt,Ft);j[Yt]=z()}}function Mn(yt,Ft){if(j){let Yt=wn(yt,Ft),Ot=j[Yt];if(typeof Ot=="number")return Ot}return null}function on(yt,Ft,Yt){if(e.patchRoutesOnNavigation)if(yt){if(Object.keys(yt[0].params).length>0)return{active:!0,matches:A2(Ft,Yt,b,!0)}}else return{active:!0,matches:A2(Ft,Yt,b,!0)||[]};return{active:!1,matches:null}}async function Wr(yt,Ft,Yt,Ot){if(!e.patchRoutesOnNavigation)return{type:"success",matches:yt};let Pn=yt;for(;;){let nr=m==null,fr=m||i,Jn=u;try{await e.patchRoutesOnNavigation({signal:Yt,path:Ft,matches:Pn,fetcherKey:Ot,patch:(zn,hr)=>{Yt.aborted||l$(zn,hr,fr,Jn,l,!1)}})}catch(zn){return{type:"error",error:zn,partialMatches:Pn}}finally{nr&&!Yt.aborted&&(i=[...i])}if(Yt.aborted)return{type:"aborted"};let qt=vb(fr,Ft,b),Gn=null;if(qt){if(Object.keys(qt[0].params).length===0)return{type:"success",matches:qt};if(Gn=A2(fr,Ft,b,!0),!(Gn&&Pn.length<Gn.length&&Tr(Pn,Gn.slice(0,Pn.length))))return{type:"success",matches:qt}}if(Gn||(Gn=A2(fr,Ft,b,!0)),!Gn||Tr(Pn,Gn))return{type:"success",matches:null};Pn=Gn}}function Tr(yt,Ft){return yt.length===Ft.length&&yt.every((Yt,Ot)=>Yt.route.id===Ft[Ot].route.id)}function Ir(yt){u={},m=fS(yt,l,void 0,u)}function Xr(yt,Ft,Yt=!1){let Ot=m==null;l$(yt,Ft,m||i,u,l,Yt),Ot&&(i=[...i],Ge({}))}return ue={get basename(){return b},get future(){return w},get state(){return oe},get routes(){return i},get window(){return t},initialize:en,subscribe:rn,enableScrollRestoration:Pt,navigate:_n,fetch:sr,revalidate:Lt,createHref:yt=>e.history.createHref(yt),encodeLocation:yt=>e.history.encodeLocation(yt),getFetcher:ut,resetFetcher:dt,deleteFetcher:Bt,dispose:zt,getBlocker:Vn,deleteBlocker:gn,patchRoutes:Xr,_internalFetchControllers:_e,_internalSetRoutes:Ir,_internalSetStateDoNotUseOrYouWillBreakYourApp(yt){Ge(yt)}},e.unstable_instrumentations&&(ue=pae(ue,e.unstable_instrumentations.map(yt=>yt.router).filter(Boolean))),ue}function Aae(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function gO(e,t,n,r,a,l){let u,i;if(a){u=[];for(let b of t)if(u.push(b),b.route.id===a){i=b;break}}else u=t,i=t[t.length-1];let m=bI(r||".",vI(u),Yp(e.pathname,n)||e.pathname,l==="path");if(r==null&&(m.search=e.search,m.hash=e.hash),(r==null||r===""||r===".")&&i){let b=cL(m.search);if(i.route.index&&!b)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!i.route.index&&b){let _=new URLSearchParams(m.search),w=_.getAll("index");_.delete("index"),w.filter(P=>P).forEach(P=>_.append("index",P));let M=_.toString();m.search=M?`?${M}`:""}}return n!=="/"&&(m.pathname=sae({basename:n,pathname:m.pathname})),Ny(m)}function o$(e,t,n){if(!n||!Aae(n))return{path:t};if(n.formMethod&&!Hae(n.formMethod))return{path:t,error:Pp(405,{method:n.formMethod})};let r=()=>({path:t,error:Pp(400,{type:"invalid-body"})}),l=(n.formMethod||"get").toUpperCase(),u=RH(t);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Jd(l))return r();let w=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((M,[P,j])=>`${M}${P}=${j}
`,""):String(n.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:w}}}else if(n.formEncType==="application/json"){if(!Jd(l))return r();try{let w=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:n.formEncType,formData:void 0,json:w,text:void 0}}}catch{return r()}}}ti(typeof FormData=="function","FormData is not available in this environment");let i,m;if(n.formData)i=bO(n.formData),m=n.formData;else if(n.body instanceof FormData)i=bO(n.body),m=n.body;else if(n.body instanceof URLSearchParams)i=n.body,m=h$(i);else if(n.body==null)i=new URLSearchParams,m=new FormData;else try{i=new URLSearchParams(n.body),m=h$(i)}catch{return r()}let b={formMethod:l,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Jd(b.formMethod))return{path:t,submission:b};let _=lv(t);return e&&_.search&&cL(_.search)&&i.append("index",""),_.search=`?${i}`,{path:Ny(_),submission:b}}function s$(e,t,n,r,a,l,u,i,m,b,_,w,M,P,j,G,z,q,Y,J){let ne=J?Rh(J[1])?J[1].error:J[1].data:void 0,ie=a.createURL(l.location),ue=a.createURL(m),oe;if(_&&l.errors){let xe=Object.keys(l.errors)[0];oe=u.findIndex(Se=>Se.route.id===xe)}else if(J&&Rh(J[1])){let xe=J[0];oe=u.findIndex(Se=>Se.route.id===xe)-1}let K=J?J[1].statusCode:void 0,se=K&&K>=400,pe={currentUrl:ie,currentParams:l.matches[0]?.params||{},nextUrl:ue,nextParams:u[0].params,...i,actionResult:ne,actionStatus:K},ve=uT(u),Te=u.map((xe,Se)=>{let{route:he}=xe,we=null;if(oe!=null&&Se>oe?we=!1:he.lazy?we=!0:uL(he)?_?we=yO(he,l.loaderData,l.errors):kae(l.loaderData,l.matches[Se],xe)&&(we=!0):we=!1,we!==null)return vO(n,r,e,ve,xe,b,t,we);let _e=se?!1:w||ie.pathname+ie.search===ue.pathname+ue.search||ie.search!==ue.search||Iae(l.matches[Se],xe),Be={...pe,defaultShouldRevalidate:_e},He=KA(xe,Be);return vO(n,r,e,ve,xe,b,t,He,Be)}),Me=[];return j.forEach((xe,Se)=>{if(_||!u.some(Ze=>Ze.route.id===xe.routeId)||P.has(Se))return;let he=l.fetchers.get(Se),we=he&&he.state!=="idle"&&he.data===void 0,_e=vb(z,xe.path,q);if(!_e){if(Y&&we)return;Me.push({key:Se,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(G.has(Se))return;let Be=bA(_e,xe.path),He=new AbortController,Re=Jx(a,xe.path,He.signal),je=null;if(M.has(Se))M.delete(Se),je=mE(n,r,Re,_e,Be,b,t);else if(we)w&&(je=mE(n,r,Re,_e,Be,b,t));else{let Ze={...pe,defaultShouldRevalidate:se?!1:w};KA(Be,Ze)&&(je=mE(n,r,Re,_e,Be,b,t,Ze))}je&&Me.push({key:Se,routeId:xe.routeId,path:xe.path,matches:je,match:Be,request:Re,controller:He})}),{dsMatches:Te,revalidatingFetchers:Me}}function uL(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function yO(e,t,n){if(e.lazy)return!0;if(!uL(e))return!1;let r=t!=null&&e.id in t,a=n!=null&&n[e.id]!==void 0;return!r&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!a}function kae(e,t,n){let r=!t||n.route.id!==t.route.id,a=!e.hasOwnProperty(n.route.id);return r||a}function Iae(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function KA(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function l$(e,t,n,r,a,l){let u;if(e){let b=r[e];ti(b,`No route found to patch children into: routeId = ${e}`),b.children||(b.children=[]),u=b.children}else u=n;let i=[],m=[];if(t.forEach(b=>{let _=u.find(w=>CH(b,w));_?m.push({existingRoute:_,newRoute:b}):i.push(b)}),i.length>0){let b=fS(i,a,[e||"_","patch",String(u?.length||"0")],r);u.push(...b)}if(l&&m.length>0)for(let b=0;b<m.length;b++){let{existingRoute:_,newRoute:w}=m[b],M=_,[P]=fS([w],a,[],{},!0);Object.assign(M,{element:P.element?P.element:M.element,errorElement:P.errorElement?P.errorElement:M.errorElement,hydrateFallbackElement:P.hydrateFallbackElement?P.hydrateFallbackElement:M.hydrateFallbackElement})}}function CH(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>t.children?.some(a=>CH(n,a))):!1}var u$=new WeakMap,AH=({key:e,route:t,manifest:n,mapRouteProperties:r})=>{let a=n[t.id];if(ti(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let l=a.lazy[e];if(!l)return;let u=u$.get(a);u||(u={},u$.set(a,u));let i=u[e];if(i)return i;let m=(async()=>{let b=Hre(e),w=a[e]!==void 0&&e!=="hasErrorBoundary";if(b)Ws(!b,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(w)Ws(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let M=await l();M!=null&&(Object.assign(a,{[e]:M}),Object.assign(a,r(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(M=>M===void 0)&&(a.lazy=void 0))})();return u[e]=m,m},c$=new WeakMap;function Nae(e,t,n,r,a){let l=n[e.id];if(ti(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let _=c$.get(l);if(_)return{lazyRoutePromise:_,lazyHandlerPromise:_};let w=(async()=>{ti(typeof e.lazy=="function","No lazy route function found");let M=await e.lazy(),P={};for(let j in M){let G=M[j];if(G===void 0)continue;let z=qre(j),Y=l[j]!==void 0&&j!=="hasErrorBoundary";z?Ws(!z,"Route property "+j+" is not a supported property to be returned from a lazy route function. This property will be ignored."):Y?Ws(!Y,`Route "${l.id}" has a static property "${j}" defined but its lazy function is also returning a value for this property. The lazy route property "${j}" will be ignored.`):P[j]=G}Object.assign(l,P),Object.assign(l,{...r(l),lazy:void 0})})();return c$.set(l,w),w.catch(()=>{}),{lazyRoutePromise:w,lazyHandlerPromise:w}}let u=Object.keys(e.lazy),i=[],m;for(let _ of u){if(a&&a.includes(_))continue;let w=AH({key:_,route:e,manifest:n,mapRouteProperties:r});w&&(i.push(w),_===t&&(m=w))}let b=i.length>0?Promise.all(i).then(()=>{}):void 0;return b?.catch(()=>{}),m?.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:m}}async function d$(e){let t=e.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,l)=>{n[t[l].route.id]=a}),n}async function Rae(e){return e.matches.some(t=>t.route.middleware)?kH(e,()=>d$(e)):d$(e)}function kH(e,t){return Mae(e,t,r=>r,zae,n);function n(r,a,l){if(l)return Promise.resolve(Object.assign(l.value,{[a]:{type:"error",result:r}}));{let{matches:u}=e,i=Math.min(Math.max(u.findIndex(b=>b.route.id===a),0),Math.max(u.findIndex(b=>b.shouldCallHandler()),0)),m=bb(u,u[i].route.id).route.id;return Promise.resolve({[m]:{type:"error",result:r}})}}}async function Mae(e,t,n,r,a){let{matches:l,request:u,params:i,context:m,unstable_pattern:b}=e,_=l.flatMap(M=>M.route.middleware?M.route.middleware.map(P=>[M.route.id,P]):[]);return await IH({request:u,params:i,context:m,unstable_pattern:b},_,t,n,r,a)}async function IH(e,t,n,r,a,l,u=0){let{request:i}=e;if(i.signal.aborted)throw i.signal.reason??new Error(`Request aborted: ${i.method} ${i.url}`);let m=t[u];if(!m)return await n();let[b,_]=m,w,M=async()=>{if(w)throw new Error("You may only call `next()` once per middleware");try{return w={value:await IH(e,t,n,r,a,l,u+1)},w.value}catch(P){return w={value:await l(P,b,w)},w.value}};try{let P=await _(e,M),j=P!=null?r(P):void 0;return a(j)?j:w?j??w.value:(w={value:await M()},w.value)}catch(P){return await l(P,b,w)}}function NH(e,t,n,r,a){let l=AH({key:"middleware",route:r.route,manifest:t,mapRouteProperties:e}),u=Nae(r.route,Jd(n.method)?"action":"loader",t,e,a);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function vO(e,t,n,r,a,l,u,i,m=null){let b=!1,_=NH(e,t,n,a,l);return{...a,_lazyPromises:_,shouldLoad:i,shouldRevalidateArgs:m,shouldCallHandler(w){return b=!0,m?typeof w=="boolean"?KA(a,{...m,defaultShouldRevalidate:w}):KA(a,m):i},resolve(w){let{lazy:M,loader:P,middleware:j}=a.route,G=b||i||w&&!Jd(n.method)&&(M||P),z=j&&j.length>0&&!P&&!M;return G&&(Jd(n.method)||!z)?Dae({request:n,unstable_pattern:r,match:a,lazyHandlerPromise:_?.handler,lazyRoutePromise:_?.route,handlerOverride:w,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function mE(e,t,n,r,a,l,u,i=null){return r.map(m=>m.route.id!==a.route.id?{...m,shouldLoad:!1,shouldRevalidateArgs:i,shouldCallHandler:()=>!1,_lazyPromises:NH(e,t,n,m,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:vO(e,t,n,uT(r),m,l,u,!0,i))}async function Oae(e,t,n,r,a,l){n.some(b=>b._lazyPromises?.middleware)&&await Promise.all(n.map(b=>b._lazyPromises?.middleware));let u={request:t,unstable_pattern:uT(n),params:n[0].params,context:a,matches:n},m=await e({...u,fetcherKey:r,runClientMiddleware:b=>{let _=u;return kH(_,()=>b({..._,fetcherKey:r,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(b=>[b._lazyPromises?.handler,b._lazyPromises?.route]))}catch{}return m}async function Dae({request:e,unstable_pattern:t,match:n,lazyHandlerPromise:r,lazyRoutePromise:a,handlerOverride:l,scopedContext:u}){let i,m,b=Jd(e.method),_=b?"action":"loader",w=M=>{let P,j=new Promise((q,Y)=>P=Y);m=()=>P(),e.signal.addEventListener("abort",m);let G=q=>typeof M!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${_}" [routeId: ${n.route.id}]`)):M({request:e,unstable_pattern:t,params:n.params,context:u},...q!==void 0?[q]:[]),z=(async()=>{try{return{type:"data",result:await(l?l(Y=>G(Y)):G())}}catch(q){return{type:"error",result:q}}})();return Promise.race([z,j])};try{let M=b?n.route.action:n.route.loader;if(r||a)if(M){let P,[j]=await Promise.all([w(M).catch(G=>{P=G}),r,a]);if(P!==void 0)throw P;i=j}else{await r;let P=b?n.route.action:n.route.loader;if(P)[i]=await Promise.all([w(P),a]);else if(_==="action"){let j=new URL(e.url),G=j.pathname+j.search;throw Pp(405,{method:e.method,pathname:G,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(M)i=await w(M);else{let P=new URL(e.url),j=P.pathname+P.search;throw Pp(404,{pathname:j})}}catch(M){return{type:"error",result:M}}finally{m&&e.signal.removeEventListener("abort",m)}return i}async function Lae(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function Pae(e){let{result:t,type:n}=e;if(MH(t)){let r;try{r=await Lae(t)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new _I(t.status,t.statusText,r),statusCode:t.status,headers:t.headers}:{type:"data",data:r,statusCode:t.status,headers:t.headers}}return n==="error"?y$(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:jae(t),statusCode:hS(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:hS(t)?t.status:void 0}:y$(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function Fae(e,t,n,r,a){let l=e.headers.get("Location");if(ti(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!yI(l)){let u=r.slice(0,r.findIndex(i=>i.route.id===n)+1);l=gO(new URL(t.url),u,a,l),e.headers.set("Location",l)}return e}function f$(e,t,n){if(yI(e)){let r=e,a=r.startsWith("//")?new URL(t.protocol+r):new URL(r),l=Yp(a.pathname,n)!=null;if(a.origin===t.origin&&l)return a.pathname+a.search+a.hash}return e}function Jx(e,t,n,r){let a=e.createURL(RH(t)).toString(),l={signal:n};if(r&&Jd(r.formMethod)){let{formMethod:u,formEncType:i}=r;l.method=u.toUpperCase(),i==="application/json"?(l.headers=new Headers({"Content-Type":i}),l.body=JSON.stringify(r.json)):i==="text/plain"?l.body=r.text:i==="application/x-www-form-urlencoded"&&r.formData?l.body=bO(r.formData):l.body=r.formData}return new Request(a,l)}function bO(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function h$(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Bae(e,t,n,r=!1,a=!1){let l={},u=null,i,m=!1,b={},_=n&&Rh(n[1])?n[1].error:void 0;return e.forEach(w=>{if(!(w.route.id in t))return;let M=w.route.id,P=t[M];if(ti(!r1(P),"Cannot handle redirect results in processLoaderData"),Rh(P)){let j=P.error;if(_!==void 0&&(j=_,_=void 0),u=u||{},a)u[M]=j;else{let G=bb(e,M);u[G.route.id]==null&&(u[G.route.id]=j)}r||(l[M]=TH),m||(m=!0,i=hS(P.error)?P.error.status:500),P.headers&&(b[M]=P.headers)}else l[M]=P.data,P.statusCode&&P.statusCode!==200&&!m&&(i=P.statusCode),P.headers&&(b[M]=P.headers)}),_!==void 0&&n&&(u={[n[0]]:_},n[2]&&(l[n[2]]=void 0)),{loaderData:l,errors:u,statusCode:i||200,loaderHeaders:b}}function p$(e,t,n,r,a,l){let{loaderData:u,errors:i}=Bae(t,n,r);return a.filter(m=>!m.matches||m.matches.some(b=>b.shouldLoad)).forEach(m=>{let{key:b,match:_,controller:w}=m;if(w&&w.signal.aborted)return;let M=l[b];if(ti(M,"Did not find corresponding fetcher result"),Rh(M)){let P=bb(e.matches,_?.route.id);i&&i[P.route.id]||(i={...i,[P.route.id]:M.error}),e.fetchers.delete(b)}else if(r1(M))ti(!1,"Unhandled fetcher revalidation redirect");else{let P=M0(M.data);e.fetchers.set(b,P)}}),{loaderData:u,errors:i}}function m$(e,t,n,r){let a=Object.entries(t).filter(([,l])=>l!==TH).reduce((l,[u,i])=>(l[u]=i,l),{});for(let l of n){let u=l.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&l.route.loader&&(a[u]=e[u]),r&&r.hasOwnProperty(u))break}return a}function g$(e){return e?Rh(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function bb(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function xC(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Pp(e,{pathname:t,routeId:n,method:r,type:a,message:l}={}){let u="Unknown Server Error",i="Unknown @remix-run/router error";return e===400?(u="Bad Request",r&&t&&n?i=`You made a ${r} request to "${t}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(i="Unable to encode submission body")):e===403?(u="Forbidden",i=`Route "${n}" does not match URL "${t}"`):e===404?(u="Not Found",i=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",r&&t&&n?i=`You made a ${r.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(i=`Invalid request method "${r.toUpperCase()}"`)),new _I(e||500,u,new Error(i),!0)}function EC(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,a]=t[n];if(r1(a))return{key:r,result:a}}}function RH(e){let t=typeof e=="string"?lv(e):e;return Ny({...t,hash:""})}function $ae(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function jae(e){return new _I(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function zae(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&Uae(n))}function Uae(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function Gae(e){return MH(e.result)&&Eae.has(e.result.status)}function Rh(e){return e.type==="error"}function r1(e){return(e&&e.type)==="redirect"}function y$(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function MH(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Hae(e){return xae.has(e.toUpperCase())}function Jd(e){return bae.has(e.toUpperCase())}function cL(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function bA(e,t){let n=typeof t=="string"?lv(t).search:t.search;if(e[e.length-1].route.index&&cL(n||""))return e[e.length-1];let r=xH(e);return r[r.length-1]}function v$(e){let{formMethod:t,formAction:n,formEncType:r,text:a,formData:l,json:u}=e;if(!(!t||!n||!r)){if(a!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:a};if(l!=null)return{formMethod:t,formAction:n,formEncType:r,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function cR(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Vae(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function i2(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function qae(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function M0(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Yae(e,t){try{let n=e.sessionStorage.getItem(SH);if(n){let r=JSON.parse(n);for(let[a,l]of Object.entries(r||{}))l&&Array.isArray(l)&&t.set(a,new Set(l||[]))}}catch{}}function Wae(e,t){if(t.size>0){let n={};for(let[r,a]of t)n[r]=[...a];try{e.sessionStorage.setItem(SH,JSON.stringify(n))}catch(r){Ws(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function b$(){let e,t,n=new Promise((r,a)=>{e=async l=>{r(l);try{await n}catch{}},t=async l=>{a(l);try{await n}catch{}}});return{promise:n,resolve:e,reject:t}}var P1=$.createContext(null);P1.displayName="DataRouter";var cT=$.createContext(null);cT.displayName="DataRouterState";$.createContext(!1);var dL=$.createContext({isTransitioning:!1});dL.displayName="ViewTransition";var OH=$.createContext(new Map);OH.displayName="Fetchers";var Zae=$.createContext(null);Zae.displayName="Await";var Kp=$.createContext(null);Kp.displayName="Navigation";var xI=$.createContext(null);xI.displayName="Location";var $y=$.createContext({outlet:null,matches:[],isDataRoute:!1});$y.displayName="Route";var fL=$.createContext(null);fL.displayName="RouteError";function Xae(e,{relative:t}={}){ti(iw(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=$.useContext(Kp),{hash:a,pathname:l,search:u}=dT(e,{relative:t}),i=l;return n!=="/"&&(i=l==="/"?n:Ty([n,l])),r.createHref({pathname:i,search:u,hash:a})}function iw(){return $.useContext(xI)!=null}function Hb(){return ti(iw(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(xI).location}var DH="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LH(e){$.useContext(Kp).static||$.useLayoutEffect(e)}function PH(){let{isDataRoute:e}=$.useContext($y);return e?uie():Kae()}function Kae(){ti(iw(),"useNavigate() may be used only in the context of a <Router> component.");let e=$.useContext(P1),{basename:t,navigator:n}=$.useContext(Kp),{matches:r}=$.useContext($y),{pathname:a}=Hb(),l=JSON.stringify(vI(r)),u=$.useRef(!1);return LH(()=>{u.current=!0}),$.useCallback((m,b={})=>{if(Ws(u.current,DH),!u.current)return;if(typeof m=="number"){n.go(m);return}let _=bI(m,JSON.parse(l),a,b.relative==="path");e==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:Ty([t,_.pathname])),(b.replace?n.replace:n.push)(_,b.state,b)},[t,n,l,a,e])}$.createContext(null);function dT(e,{relative:t}={}){let{matches:n}=$.useContext($y),{pathname:r}=Hb(),a=JSON.stringify(vI(n));return $.useMemo(()=>bI(e,JSON.parse(a),r,t==="path"),[e,a,r,t])}function Qae(e,t,n,r,a){ti(iw(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=$.useContext(Kp),{matches:u}=$.useContext($y),i=u[u.length-1],m=i?i.params:{},b=i?i.pathname:"/",_=i?i.pathnameBase:"/",w=i&&i.route;{let Y=w&&w.path||"";FH(b,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${b}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let M=Hb(),P;P=M;let j=P.pathname||"/",G=j;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");G="/"+j.replace(/^\//,"").split("/").slice(Y.length).join("/")}let z=vb(e,{pathname:G});return Ws(w||z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ws(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),rie(z&&z.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:Ty([_,l.encodeLocation?l.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:Ty([_,l.encodeLocation?l.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),u,n,r,a)}function Jae(){let e=lie(),t=hS(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=$.createElement($.Fragment,null,$.createElement("p",null," Hey developer "),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:l},"ErrorBoundary")," or"," ",$.createElement("code",{style:l},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:a},n):null,u)}var eie=$.createElement(Jae,null),tie=class extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?$.createElement($y.Provider,{value:this.props.routeContext},$.createElement(fL.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nie({routeContext:e,match:t,children:n}){let r=$.useContext(P1);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement($y.Provider,{value:e},n)}function rie(e,t=[],n=null,r=null,a=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=n?.errors;if(u!=null){let _=l.findIndex(w=>w.route.id&&u?.[w.route.id]!==void 0);ti(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,_+1))}let i=!1,m=-1;if(n)for(let _=0;_<l.length;_++){let w=l[_];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(m=_),w.route.id){let{loaderData:M,errors:P}=n,j=w.route.loader&&!M.hasOwnProperty(w.route.id)&&(!P||P[w.route.id]===void 0);if(w.route.lazy||j){i=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}let b=n&&r?(_,w)=>{r(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:uT(n.matches),errorInfo:w})}:void 0;return l.reduceRight((_,w,M)=>{let P,j=!1,G=null,z=null;n&&(P=u&&w.route.id?u[w.route.id]:void 0,G=w.route.errorElement||eie,i&&(m<0&&M===0?(FH("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,z=null):m===M&&(j=!0,z=w.route.hydrateFallbackElement||null)));let q=t.concat(l.slice(0,M+1)),Y=()=>{let J;return P?J=G:j?J=z:w.route.Component?J=$.createElement(w.route.Component,null):w.route.element?J=w.route.element:J=_,$.createElement(nie,{match:w,routeContext:{outlet:_,matches:q,isDataRoute:n!=null},children:J})};return n&&(w.route.ErrorBoundary||w.route.errorElement||M===0)?$.createElement(tie,{location:n.location,revalidation:n.revalidation,component:G,error:P,children:Y(),routeContext:{outlet:null,matches:q,isDataRoute:!0},onError:b}):Y()},null)}function hL(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aie(e){let t=$.useContext(P1);return ti(t,hL(e)),t}function iie(e){let t=$.useContext(cT);return ti(t,hL(e)),t}function oie(e){let t=$.useContext($y);return ti(t,hL(e)),t}function pL(e){let t=oie(e),n=t.matches[t.matches.length-1];return ti(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function sie(){return pL("useRouteId")}function lie(){let e=$.useContext(fL),t=iie("useRouteError"),n=pL("useRouteError");return e!==void 0?e:t.errors?.[n]}function uie(){let{router:e}=aie("useNavigate"),t=pL("useNavigate"),n=$.useRef(!1);return LH(()=>{n.current=!0}),$.useCallback(async(a,l={})=>{Ws(n.current,DH),n.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...l}))},[e,t])}var _$={};function FH(e,t,n){!t&&!_$[e]&&(_$[e]=!0,Ws(!1,n))}var x$={};function E$(e,t){!e&&!x$[t]&&(x$[t]=!0,console.warn(t))}var cie="useOptimistic",w$=gI[cie],die=()=>{};function fie(e){return w$?w$(e):[e,die]}function hie(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Ws(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:$.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Ws(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:$.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Ws(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:$.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var pie=["HydrateFallback","hydrateFallbackElement"],mie=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",t(n))}})}};function gie({router:e,flushSync:t,unstable_onError:n,unstable_useTransitions:r}){let[a,l]=$.useState(e.state),[u,i]=fie(a),[m,b]=$.useState(),[_,w]=$.useState({isTransitioning:!1}),[M,P]=$.useState(),[j,G]=$.useState(),[z,q]=$.useState(),Y=$.useRef(new Map),J=$.useCallback((oe,{deletedFetchers:K,newErrors:se,flushSync:pe,viewTransitionOpts:ve})=>{se&&n&&Object.values(se).forEach(Me=>n(Me,{location:oe.location,params:oe.matches[0]?.params??{},unstable_pattern:uT(oe.matches)})),oe.fetchers.forEach((Me,xe)=>{Me.data!==void 0&&Y.current.set(xe,Me.data)}),K.forEach(Me=>Y.current.delete(Me)),E$(pe===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Te=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(E$(ve==null||Te,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ve||!Te){t&&pe?t(()=>l(oe)):r===!1?l(oe):$.startTransition(()=>{r===!0&&i(Me=>S$(Me,oe)),l(oe)});return}if(t&&pe){t(()=>{j&&(M?.resolve(),j.skipTransition()),w({isTransitioning:!0,flushSync:!0,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})});let Me=e.window.document.startViewTransition(()=>{t(()=>l(oe))});Me.finished.finally(()=>{t(()=>{P(void 0),G(void 0),b(void 0),w({isTransitioning:!1})})}),t(()=>G(Me));return}j?(M?.resolve(),j.skipTransition(),q({state:oe,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation})):(b(oe),w({isTransitioning:!0,flushSync:!1,currentLocation:ve.currentLocation,nextLocation:ve.nextLocation}))},[e.window,t,j,M,r,i,n]);$.useLayoutEffect(()=>e.subscribe(J),[e,J]),$.useEffect(()=>{_.isTransitioning&&!_.flushSync&&P(new mie)},[_]),$.useEffect(()=>{if(M&&m&&e.window){let oe=m,K=M.promise,se=e.window.document.startViewTransition(async()=>{r===!1?l(oe):$.startTransition(()=>{r===!0&&i(pe=>S$(pe,oe)),l(oe)}),await K});se.finished.finally(()=>{P(void 0),G(void 0),b(void 0),w({isTransitioning:!1})}),G(se)}},[m,M,e.window,r,i]),$.useEffect(()=>{M&&m&&u.location.key===m.location.key&&M.resolve()},[M,j,u.location,m]),$.useEffect(()=>{!_.isTransitioning&&z&&(b(z.state),w({isTransitioning:!0,flushSync:!1,currentLocation:z.currentLocation,nextLocation:z.nextLocation}),q(void 0))},[_.isTransitioning,z]);let ne=$.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:oe=>e.navigate(oe),push:(oe,K,se)=>e.navigate(oe,{state:K,preventScrollReset:se?.preventScrollReset}),replace:(oe,K,se)=>e.navigate(oe,{replace:!0,state:K,preventScrollReset:se?.preventScrollReset})}),[e]),ie=e.basename||"/",ue=$.useMemo(()=>({router:e,navigator:ne,static:!1,basename:ie,unstable_onError:n}),[e,ne,ie,n]);return $.createElement($.Fragment,null,$.createElement(P1.Provider,{value:ue},$.createElement(cT.Provider,{value:u},$.createElement(OH.Provider,{value:Y.current},$.createElement(dL.Provider,{value:_},$.createElement(_ie,{basename:ie,location:u.location,navigationType:u.historyAction,navigator:ne,unstable_useTransitions:r===!0},$.createElement(yie,{routes:e.routes,future:e.future,state:u,unstable_onError:n})))))),null)}function S$(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var yie=$.memo(vie);function vie({routes:e,future:t,state:n,unstable_onError:r}){return Qae(e,void 0,n,r,t)}function bie({to:e,replace:t,state:n,relative:r}){ti(iw(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=$.useContext(Kp);Ws(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=$.useContext($y),{pathname:u}=Hb(),i=PH(),m=bI(e,vI(l),u,r==="path"),b=JSON.stringify(m);return $.useEffect(()=>{i(JSON.parse(b),{replace:t,state:n,relative:r})},[i,b,r,t,n]),null}function _ie({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:u}){ti(!iw(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:i,navigator:a,static:l,unstable_useTransitions:u,future:{}}),[i,a,l,u]);typeof n=="string"&&(n=lv(n));let{pathname:b="/",search:_="",hash:w="",state:M=null,key:P="default"}=n,j=$.useMemo(()=>{let G=Yp(b,i);return G==null?null:{location:{pathname:G,search:_,hash:w,state:M,key:P},navigationType:r}},[i,b,_,w,M,P,r]);return Ws(j!=null,`<Router basename="${i}"> is not able to match the URL "${b}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:$.createElement(Kp.Provider,{value:m},$.createElement(xI.Provider,{children:t,value:j}))}var _A="get",xA="application/x-www-form-urlencoded";function EI(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function xie(e){return EI(e)&&e.tagName.toLowerCase()==="button"}function Eie(e){return EI(e)&&e.tagName.toLowerCase()==="form"}function wie(e){return EI(e)&&e.tagName.toLowerCase()==="input"}function Sie(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tie(e,t){return e.button===0&&(!t||t==="_self")&&!Sie(e)}var wC=null;function Cie(){if(wC===null)try{new FormData(document.createElement("form"),0),wC=!1}catch{wC=!0}return wC}var Aie=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function dR(e){return e!=null&&!Aie.has(e)?(Ws(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xA}"`),null):e}function kie(e,t){let n,r,a,l,u;if(Eie(e)){let i=e.getAttribute("action");r=i?Yp(i,t):null,n=e.getAttribute("method")||_A,a=dR(e.getAttribute("enctype"))||xA,l=new FormData(e)}else if(xie(e)||wie(e)&&(e.type==="submit"||e.type==="image")){let i=e.form;if(i==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||i.getAttribute("action");if(r=m?Yp(m,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||_A,a=dR(e.getAttribute("formenctype"))||dR(i.getAttribute("enctype"))||xA,l=new FormData(i,e),!Cie()){let{name:b,type:_,value:w}=e;if(_==="image"){let M=b?`${b}.`:"";l.append(`${M}x`,"0"),l.append(`${M}y`,"0")}else b&&l.append(b,w)}}else{if(EI(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=_A,r=null,a=xA,u=e}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mL(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Iie(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Yp(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Nie(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Rie(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Mie(e,t,n){let r=await Promise.all(e.map(async a=>{let l=t.routes[a.route.id];if(l){let u=await Nie(l,n);return u.links?u.links():[]}return[]}));return Pie(r.flat(1).filter(Rie).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function T$(e,t,n,r,a,l){let u=(m,b)=>n[b]?m.route.id!==n[b].route.id:!0,i=(m,b)=>n[b].pathname!==m.pathname||n[b].route.path?.endsWith("*")&&n[b].params["*"]!==m.params["*"];return l==="assets"?t.filter((m,b)=>u(m,b)||i(m,b)):l==="data"?t.filter((m,b)=>{let _=r.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(u(m,b)||i(m,b))return!0;if(m.route.shouldRevalidate){let w=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Oie(e,t,{includeHydrateFallback:n}={}){return Die(e.map(r=>{let a=t.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Die(e){return[...new Set(e)]}function Lie(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Pie(e,t){let n=new Set;return new Set(t),e.reduce((r,a)=>{let l=JSON.stringify(Lie(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}function BH(){let e=$.useContext(P1);return mL(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Fie(){let e=$.useContext(cT);return mL(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gL=$.createContext(void 0);gL.displayName="FrameworkContext";function $H(){let e=$.useContext(gL);return mL(e,"You must render this element inside a <HydratedRouter> element"),e}function Bie(e,t){let n=$.useContext(gL),[r,a]=$.useState(!1),[l,u]=$.useState(!1),{onFocus:i,onBlur:m,onMouseEnter:b,onMouseLeave:_,onTouchStart:w}=t,M=$.useRef(null);$.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let G=q=>{q.forEach(Y=>{u(Y.isIntersecting)})},z=new IntersectionObserver(G,{threshold:.5});return M.current&&z.observe(M.current),()=>{z.disconnect()}}},[e]),$.useEffect(()=>{if(r){let G=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(G)}}},[r]);let P=()=>{a(!0)},j=()=>{a(!1),u(!1)};return n?e!=="intent"?[l,M,{}]:[l,M,{onFocus:o2(i,P),onBlur:o2(m,j),onMouseEnter:o2(b,P),onMouseLeave:o2(_,j),onTouchStart:o2(w,P)}]:[!1,M,{}]}function o2(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function $ie({page:e,...t}){let{router:n}=BH(),r=$.useMemo(()=>vb(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?$.createElement(zie,{page:e,matches:r,...t}):null}function jie(e){let{manifest:t,routeModules:n}=$H(),[r,a]=$.useState([]);return $.useEffect(()=>{let l=!1;return Mie(e,t,n).then(u=>{l||a(u)}),()=>{l=!0}},[e,t,n]),r}function zie({page:e,matches:t,...n}){let r=Hb(),{manifest:a,routeModules:l}=$H(),{basename:u}=BH(),{loaderData:i,matches:m}=Fie(),b=$.useMemo(()=>T$(e,t,m,a,r,"data"),[e,t,m,a,r]),_=$.useMemo(()=>T$(e,t,m,a,r,"assets"),[e,t,m,a,r]),w=$.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,G=!1;if(t.forEach(q=>{let Y=a.routes[q.route.id];!Y||!Y.hasLoader||(!b.some(J=>J.route.id===q.route.id)&&q.route.id in i&&l[q.route.id]?.shouldRevalidate||Y.hasClientLoader?G=!0:j.add(q.route.id))}),j.size===0)return[];let z=Iie(e,u,"data");return G&&j.size>0&&z.searchParams.set("_routes",t.filter(q=>j.has(q.route.id)).map(q=>q.route.id).join(",")),[z.pathname+z.search]},[u,i,r,a,b,t,e,l]),M=$.useMemo(()=>Oie(_,a),[_,a]),P=jie(_);return $.createElement($.Fragment,null,w.map(j=>$.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),M.map(j=>$.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),P.map(({key:j,link:G})=>$.createElement("link",{key:j,nonce:n.nonce,...G})))}function Uie(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var jH=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{jH&&(window.__reactRouterVersion="7.10.1")}catch{}function Gie(e,t){return Cae({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:jre({window:t?.window}),hydrationData:t?.hydrationData||Hie(),routes:e,mapRouteProperties:hie,hydrationRouteProperties:pie,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function Hie(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Vie(e.errors)}),e}function Vie(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,a]of t)if(a&&a.__type==="RouteErrorResponse")n[r]=new _I(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let l=window[a.__subType];if(typeof l=="function")try{let u=new l(a.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let l=new Error(a.message);l.stack="",n[r]=l}}else n[r]=a;return n}var zH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UH=$.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:i,target:m,to:b,preventScrollReset:_,viewTransition:w,...M},P){let{basename:j,unstable_useTransitions:G}=$.useContext(Kp),z=typeof b=="string"&&zH.test(b),q,Y=!1;if(typeof b=="string"&&z&&(q=b,jH))try{let pe=new URL(window.location.href),ve=b.startsWith("//")?new URL(pe.protocol+b):new URL(b),Te=Yp(ve.pathname,j);ve.origin===pe.origin&&Te!=null?b=Te+ve.search+ve.hash:Y=!0}catch{Ws(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Xae(b,{relative:a}),[ne,ie,ue]=Bie(r,M),oe=Zie(b,{replace:u,state:i,target:m,preventScrollReset:_,relative:a,viewTransition:w,unstable_useTransitions:G});function K(pe){t&&t(pe),pe.defaultPrevented||oe(pe)}let se=$.createElement("a",{...M,...ue,href:q||J,onClick:Y||l?t:K,ref:Uie(P,ie),target:m,"data-discover":!z&&n==="render"?"true":void 0});return ne&&!z?$.createElement($.Fragment,null,se,$.createElement($ie,{page:J})):se});UH.displayName="Link";var qie=$.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:i,children:m,...b},_){let w=dT(u,{relative:b.relative}),M=Hb(),P=$.useContext(cT),{navigator:j,basename:G}=$.useContext(Kp),z=P!=null&&eoe(w)&&i===!0,q=j.encodeLocation?j.encodeLocation(w).pathname:w.pathname,Y=M.pathname,J=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),J=J?J.toLowerCase():null,q=q.toLowerCase()),J&&G&&(J=Yp(J,G)||J);const ne=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let ie=Y===q||!a&&Y.startsWith(q)&&Y.charAt(ne)==="/",ue=J!=null&&(J===q||!a&&J.startsWith(q)&&J.charAt(q.length)==="/"),oe={isActive:ie,isPending:ue,isTransitioning:z},K=ie?t:void 0,se;typeof r=="function"?se=r(oe):se=[r,ie?"active":null,ue?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let pe=typeof l=="function"?l(oe):l;return $.createElement(UH,{...b,"aria-current":K,className:se,ref:_,style:pe,to:u,viewTransition:i},typeof m=="function"?m(oe):m)});qie.displayName="NavLink";var Yie=$.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:a,state:l,method:u=_A,action:i,onSubmit:m,relative:b,preventScrollReset:_,viewTransition:w,...M},P)=>{let{unstable_useTransitions:j}=$.useContext(Kp),G=Qie(),z=Jie(i,{relative:b}),q=u.toLowerCase()==="get"?"get":"post",Y=typeof i=="string"&&zH.test(i),J=ne=>{if(m&&m(ne),ne.defaultPrevented)return;ne.preventDefault();let ie=ne.nativeEvent.submitter,ue=ie?.getAttribute("formmethod")||u,oe=()=>G(ie||ne.currentTarget,{fetcherKey:t,method:ue,navigate:n,replace:a,state:l,relative:b,preventScrollReset:_,viewTransition:w});j&&n!==!1?$.startTransition(()=>oe()):oe()};return $.createElement("form",{ref:P,method:q,action:z,onSubmit:r?m:J,...M,"data-discover":!Y&&e==="render"?"true":void 0})});Yie.displayName="Form";function Wie(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GH(e){let t=$.useContext(P1);return ti(t,Wie(e)),t}function Zie(e,{target:t,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u,unstable_useTransitions:i}={}){let m=PH(),b=Hb(),_=dT(e,{relative:l});return $.useCallback(w=>{if(Tie(w,t)){w.preventDefault();let M=n!==void 0?n:Ny(b)===Ny(_),P=()=>m(e,{replace:M,state:r,preventScrollReset:a,relative:l,viewTransition:u});i?$.startTransition(()=>P()):P()}},[b,m,_,n,r,t,e,a,l,u,i])}var Xie=0,Kie=()=>`__${String(++Xie)}__`;function Qie(){let{router:e}=GH("useSubmit"),{basename:t}=$.useContext(Kp),n=sie(),r=e.fetch,a=e.navigate;return $.useCallback(async(l,u={})=>{let{action:i,method:m,encType:b,formData:_,body:w}=kie(l,t);if(u.navigate===!1){let M=u.fetcherKey||Kie();await r(M,n,u.action||i,{preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||m,formEncType:u.encType||b,flushSync:u.flushSync})}else await a(u.action||i,{preventScrollReset:u.preventScrollReset,formData:_,body:w,formMethod:u.method||m,formEncType:u.encType||b,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,a,t,n])}function Jie(e,{relative:t}={}){let{basename:n}=$.useContext(Kp),r=$.useContext($y);ti(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...dT(e||".",{relative:t})},u=Hb();if(e==null){l.search=u.search;let i=new URLSearchParams(l.search),m=i.getAll("index");if(m.some(_=>_==="")){i.delete("index"),m.filter(w=>w).forEach(w=>i.append("index",w));let _=i.toString();l.search=_?`?${_}`:""}}return(!e||e===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Ty([n,l.pathname])),Ny(l)}function eoe(e,{relative:t}={}){let n=$.useContext(dL);ti(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=GH("useViewTransitionState"),a=dT(e,{relative:t});if(!n.isTransitioning)return!1;let l=Yp(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Yp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return XA(a.pathname,u)!=null||XA(a.pathname,l)!=null}var qm=gH();const HH=qh(qm);function toe(e){return $.createElement(gie,{flushSync:qm.flushSync,...e})}const noe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),roe=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),C$=e=>{const t=roe(e);return t.charAt(0).toUpperCase()+t.slice(1)},VH=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),aoe=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ioe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ooe=$.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...i},m)=>$.createElement("svg",{ref:m,...ioe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:VH("lucide",a),...!l&&!aoe(i)&&{"aria-hidden":"true"},...i},[...u.map(([b,_])=>$.createElement(b,_)),...Array.isArray(l)?l:[l]]));const jr=(e,t)=>{const n=$.forwardRef(({className:r,...a},l)=>$.createElement(ooe,{ref:l,iconNode:t,className:VH(`lucide-${noe(C$(e))}`,`lucide-${e}`,r),...a}));return n.displayName=C$(e),n};const soe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],A$=jr("archive",soe);const loe=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],qH=jr("arrow-down",loe);const uoe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YH=jr("arrow-left",uoe);const coe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],doe=jr("arrow-right",coe);const foe=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],hoe=jr("arrow-up-down",foe);const poe=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],moe=jr("arrow-up-right",poe);const goe=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],WH=jr("arrow-up",goe);const yoe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h1=jr("check",yoe);const voe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i1=jr("chevron-down",voe);const boe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],_O=jr("chevron-left",boe);const _oe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pS=jr("chevron-right",_oe);const xoe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Eoe=jr("chevron-up",xoe);const woe=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],wI=jr("chevrons-up-down",woe);const Soe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],k$=jr("circle-check-big",Soe);const Toe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Coe=jr("circle-check",Toe);const Aoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]],koe=jr("circle-minus",Aoe);const Ioe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],G2=jr("circle-plus",Ioe);const Noe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Roe=jr("clock",Noe);const Moe=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],mS=jr("cloud-download",Moe);const Ooe=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],I$=jr("cloud-off",Ooe);const Doe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],p1=jr("copy",Doe);const Loe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],N$=jr("credit-card",Loe);const Poe=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],R$=jr("download",Poe);const Foe=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],o1=jr("ellipsis",Foe);const Boe=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],xO=jr("eye-off",Boe);const $oe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],M$=jr("eye",$oe);const joe=[["path",{d:"M13.354 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l1.218-1.348",key:"8mvsmf"}],["path",{d:"M16 6h6",key:"1dogtp"}],["path",{d:"M19 3v6",key:"1ytpjt"}]],O$=jr("funnel-plus",joe);const zoe=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],fR=jr("funnel-x",zoe);const Uoe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],D$=jr("funnel",Uoe);const Goe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],L$=jr("globe",Goe);const Hoe=[["circle",{cx:"12",cy:"9",r:"1",key:"124mty"}],["circle",{cx:"19",cy:"9",r:"1",key:"1ruzo2"}],["circle",{cx:"5",cy:"9",r:"1",key:"1a8b28"}],["circle",{cx:"12",cy:"15",r:"1",key:"1e56xg"}],["circle",{cx:"19",cy:"15",r:"1",key:"1a92ep"}],["circle",{cx:"5",cy:"15",r:"1",key:"5r1jwy"}]],P$=jr("grip-horizontal",Hoe);const Voe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],qoe=jr("link-2",Voe);const Yoe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Woe=jr("link",Yoe);const Zoe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],QA=jr("loader-circle",Zoe);const Xoe=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],F$=jr("log-in",Xoe);const Koe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],B$=jr("log-out",Koe);const Qoe=[["path",{d:"M17.97 9.304A8 8 0 0 0 2 10c0 4.69 4.887 9.562 7.022 11.468",key:"1fahp3"}],["path",{d:"M21.378 16.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1817ys"}],["circle",{cx:"10",cy:"10",r:"3",key:"1ns7v1"}]],Joe=jr("map-pin-pen",Qoe);const ese=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],tse=jr("map",ese);const nse=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],EO=jr("menu",nse);const rse=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$$=jr("moon",rse);const ase=[["path",{d:"M11 19H5V13",key:"1akmht"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]],ise=jr("move-down-left",ase);const ose=[["path",{d:"M19 13V19H13",key:"10vkzq"}],["path",{d:"M5 5L19 19",key:"5zm2fv"}]],sse=jr("move-down-right",ose);const lse=[["path",{d:"M8 18L12 22L16 18",key:"cskvfv"}],["path",{d:"M12 2V22",key:"r89rzk"}]],use=jr("move-down",lse);const cse=[["path",{d:"M6 8L2 12L6 16",key:"kyvwex"}],["path",{d:"M2 12H22",key:"1m8cig"}]],dse=jr("move-left",cse);const fse=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],hse=jr("move-right",fse);const pse=[["path",{d:"M5 11V5H11",key:"3q78g9"}],["path",{d:"M5 5L19 19",key:"5zm2fv"}]],mse=jr("move-up-left",pse);const gse=[["path",{d:"M13 5H19V11",key:"1n1gyv"}],["path",{d:"M19 5L5 19",key:"72u4yj"}]],yse=jr("move-up-right",gse);const vse=[["path",{d:"M8 6L12 2L16 6",key:"1yvkyx"}],["path",{d:"M12 2V22",key:"r89rzk"}]],bse=jr("move-up",vse);const _se=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],hR=jr("move",_se);const xse=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],Ese=jr("pause",xse);const wse=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ZH=jr("pen-line",wse);const Sse=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Tse=jr("pencil",Sse);const Cse=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12",key:"1y3wsu"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z",key:"110lr1"}],["path",{d:"m2 22 .414-.414",key:"jhxm08"}]],Ase=jr("pipette",Cse);const kse=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ise=jr("play",kse);const Nse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],gS=jr("plus",Nse);const Rse=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],pR=jr("refresh-ccw",Rse);const Mse=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Ose=jr("rotate-cw",Mse);const Dse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s1=jr("save",Dse);const Lse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],j$=jr("search",Lse);const Pse=[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]],Fse=jr("server-crash",Pse);const Bse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$se=jr("square-pen",Bse);const jse=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],zse=jr("star",jse);const Use=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],z$=jr("sun",Use);const Gse=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],XH=jr("table-2",Gse);const Hse=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hd=jr("trash-2",Hse);const Vse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],U$=jr("upload",Vse);const qse=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],JA=jr("user-round",qse);const Yse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yl=jr("x",Yse);var EA={exports:{}},Wse=EA.exports,G$;function Zse(){return G$||(G$=1,(function(e,t){(function(n,r){e.exports=r()})(Wse,(function(){var n=1e3,r=6e4,a=36e5,l="millisecond",u="second",i="minute",m="hour",b="day",_="week",w="month",M="quarter",P="year",j="date",G="Invalid Date",z=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,q=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(xe){var Se=["th","st","nd","rd"],he=xe%100;return"["+xe+(Se[(he-20)%10]||Se[he]||Se[0])+"]"}},J=function(xe,Se,he){var we=String(xe);return!we||we.length>=Se?xe:""+Array(Se+1-we.length).join(he)+xe},ne={s:J,z:function(xe){var Se=-xe.utcOffset(),he=Math.abs(Se),we=Math.floor(he/60),_e=he%60;return(Se<=0?"+":"-")+J(we,2,"0")+":"+J(_e,2,"0")},m:function xe(Se,he){if(Se.date()<he.date())return-xe(he,Se);var we=12*(he.year()-Se.year())+(he.month()-Se.month()),_e=Se.clone().add(we,w),Be=he-_e<0,He=Se.clone().add(we+(Be?-1:1),w);return+(-(we+(he-_e)/(Be?_e-He:He-_e))||0)},a:function(xe){return xe<0?Math.ceil(xe)||0:Math.floor(xe)},p:function(xe){return{M:w,y:P,w:_,d:b,D:j,h:m,m:i,s:u,ms:l,Q:M}[xe]||String(xe||"").toLowerCase().replace(/s$/,"")},u:function(xe){return xe===void 0}},ie="en",ue={};ue[ie]=Y;var oe="$isDayjsObject",K=function(xe){return xe instanceof Te||!(!xe||!xe[oe])},se=function xe(Se,he,we){var _e;if(!Se)return ie;if(typeof Se=="string"){var Be=Se.toLowerCase();ue[Be]&&(_e=Be),he&&(ue[Be]=he,_e=Be);var He=Se.split("-");if(!_e&&He.length>1)return xe(He[0])}else{var Re=Se.name;ue[Re]=Se,_e=Re}return!we&&_e&&(ie=_e),_e||!we&&ie},pe=function(xe,Se){if(K(xe))return xe.clone();var he=typeof Se=="object"?Se:{};return he.date=xe,he.args=arguments,new Te(he)},ve=ne;ve.l=se,ve.i=K,ve.w=function(xe,Se){return pe(xe,{locale:Se.$L,utc:Se.$u,x:Se.$x,$offset:Se.$offset})};var Te=(function(){function xe(he){this.$L=se(he.locale,null,!0),this.parse(he),this.$x=this.$x||he.x||{},this[oe]=!0}var Se=xe.prototype;return Se.parse=function(he){this.$d=(function(we){var _e=we.date,Be=we.utc;if(_e===null)return new Date(NaN);if(ve.u(_e))return new Date;if(_e instanceof Date)return new Date(_e);if(typeof _e=="string"&&!/Z$/i.test(_e)){var He=_e.match(z);if(He){var Re=He[2]-1||0,je=(He[7]||"0").substring(0,3);return Be?new Date(Date.UTC(He[1],Re,He[3]||1,He[4]||0,He[5]||0,He[6]||0,je)):new Date(He[1],Re,He[3]||1,He[4]||0,He[5]||0,He[6]||0,je)}}return new Date(_e)})(he),this.init()},Se.init=function(){var he=this.$d;this.$y=he.getFullYear(),this.$M=he.getMonth(),this.$D=he.getDate(),this.$W=he.getDay(),this.$H=he.getHours(),this.$m=he.getMinutes(),this.$s=he.getSeconds(),this.$ms=he.getMilliseconds()},Se.$utils=function(){return ve},Se.isValid=function(){return this.$d.toString()!==G},Se.isSame=function(he,we){var _e=pe(he);return this.startOf(we)<=_e&&_e<=this.endOf(we)},Se.isAfter=function(he,we){return pe(he)<this.startOf(we)},Se.isBefore=function(he,we){return this.endOf(we)<pe(he)},Se.$g=function(he,we,_e){return ve.u(he)?this[we]:this.set(_e,he)},Se.unix=function(){return Math.floor(this.valueOf()/1e3)},Se.valueOf=function(){return this.$d.getTime()},Se.startOf=function(he,we){var _e=this,Be=!!ve.u(we)||we,He=ve.p(he),Re=function(en,zt){var rn=ve.w(_e.$u?Date.UTC(_e.$y,zt,en):new Date(_e.$y,zt,en),_e);return Be?rn:rn.endOf(b)},je=function(en,zt){return ve.w(_e.toDate()[en].apply(_e.toDate("s"),(Be?[0,0,0,0]:[23,59,59,999]).slice(zt)),_e)},Ze=this.$W,Qe=this.$M,Pe=this.$D,St="set"+(this.$u?"UTC":"");switch(He){case P:return Be?Re(1,0):Re(31,11);case w:return Be?Re(1,Qe):Re(0,Qe+1);case _:var Nt=this.$locale().weekStart||0,We=(Ze<Nt?Ze+7:Ze)-Nt;return Re(Be?Pe-We:Pe+(6-We),Qe);case b:case j:return je(St+"Hours",0);case m:return je(St+"Minutes",1);case i:return je(St+"Seconds",2);case u:return je(St+"Milliseconds",3);default:return this.clone()}},Se.endOf=function(he){return this.startOf(he,!1)},Se.$set=function(he,we){var _e,Be=ve.p(he),He="set"+(this.$u?"UTC":""),Re=(_e={},_e[b]=He+"Date",_e[j]=He+"Date",_e[w]=He+"Month",_e[P]=He+"FullYear",_e[m]=He+"Hours",_e[i]=He+"Minutes",_e[u]=He+"Seconds",_e[l]=He+"Milliseconds",_e)[Be],je=Be===b?this.$D+(we-this.$W):we;if(Be===w||Be===P){var Ze=this.clone().set(j,1);Ze.$d[Re](je),Ze.init(),this.$d=Ze.set(j,Math.min(this.$D,Ze.daysInMonth())).$d}else Re&&this.$d[Re](je);return this.init(),this},Se.set=function(he,we){return this.clone().$set(he,we)},Se.get=function(he){return this[ve.p(he)]()},Se.add=function(he,we){var _e,Be=this;he=Number(he);var He=ve.p(we),Re=function(Qe){var Pe=pe(Be);return ve.w(Pe.date(Pe.date()+Math.round(Qe*he)),Be)};if(He===w)return this.set(w,this.$M+he);if(He===P)return this.set(P,this.$y+he);if(He===b)return Re(1);if(He===_)return Re(7);var je=(_e={},_e[i]=r,_e[m]=a,_e[u]=n,_e)[He]||1,Ze=this.$d.getTime()+he*je;return ve.w(Ze,this)},Se.subtract=function(he,we){return this.add(-1*he,we)},Se.format=function(he){var we=this,_e=this.$locale();if(!this.isValid())return _e.invalidDate||G;var Be=he||"YYYY-MM-DDTHH:mm:ssZ",He=ve.z(this),Re=this.$H,je=this.$m,Ze=this.$M,Qe=_e.weekdays,Pe=_e.months,St=_e.meridiem,Nt=function(zt,rn,Ge,kn){return zt&&(zt[rn]||zt(we,Be))||Ge[rn].slice(0,kn)},We=function(zt){return ve.s(Re%12||12,zt,"0")},en=St||function(zt,rn,Ge){var kn=zt<12?"AM":"PM";return Ge?kn.toLowerCase():kn};return Be.replace(q,(function(zt,rn){return rn||(function(Ge){switch(Ge){case"YY":return String(we.$y).slice(-2);case"YYYY":return ve.s(we.$y,4,"0");case"M":return Ze+1;case"MM":return ve.s(Ze+1,2,"0");case"MMM":return Nt(_e.monthsShort,Ze,Pe,3);case"MMMM":return Nt(Pe,Ze);case"D":return we.$D;case"DD":return ve.s(we.$D,2,"0");case"d":return String(we.$W);case"dd":return Nt(_e.weekdaysMin,we.$W,Qe,2);case"ddd":return Nt(_e.weekdaysShort,we.$W,Qe,3);case"dddd":return Qe[we.$W];case"H":return String(Re);case"HH":return ve.s(Re,2,"0");case"h":return We(1);case"hh":return We(2);case"a":return en(Re,je,!0);case"A":return en(Re,je,!1);case"m":return String(je);case"mm":return ve.s(je,2,"0");case"s":return String(we.$s);case"ss":return ve.s(we.$s,2,"0");case"SSS":return ve.s(we.$ms,3,"0");case"Z":return He}return null})(zt)||He.replace(":","")}))},Se.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Se.diff=function(he,we,_e){var Be,He=this,Re=ve.p(we),je=pe(he),Ze=(je.utcOffset()-this.utcOffset())*r,Qe=this-je,Pe=function(){return ve.m(He,je)};switch(Re){case P:Be=Pe()/12;break;case w:Be=Pe();break;case M:Be=Pe()/3;break;case _:Be=(Qe-Ze)/6048e5;break;case b:Be=(Qe-Ze)/864e5;break;case m:Be=Qe/a;break;case i:Be=Qe/r;break;case u:Be=Qe/n;break;default:Be=Qe}return _e?Be:ve.a(Be)},Se.daysInMonth=function(){return this.endOf(w).$D},Se.$locale=function(){return ue[this.$L]},Se.locale=function(he,we){if(!he)return this.$L;var _e=this.clone(),Be=se(he,we,!0);return Be&&(_e.$L=Be),_e},Se.clone=function(){return ve.w(this.$d,this)},Se.toDate=function(){return new Date(this.valueOf())},Se.toJSON=function(){return this.isValid()?this.toISOString():null},Se.toISOString=function(){return this.$d.toISOString()},Se.toString=function(){return this.$d.toUTCString()},xe})(),Me=Te.prototype;return pe.prototype=Me,[["$ms",l],["$s",u],["$m",i],["$H",m],["$W",b],["$M",w],["$y",P],["$D",j]].forEach((function(xe){Me[xe[1]]=function(Se){return this.$g(Se,xe[0],xe[1])}})),pe.extend=function(xe,Se){return xe.$i||(xe(Se,Te,pe),xe.$i=!0),pe},pe.locale=se,pe.isDayjs=K,pe.unix=function(xe){return pe(1e3*xe)},pe.en=ue[ie],pe.Ls=ue,pe.p={},pe}))})(EA)),EA.exports}var Xse=Zse();const yo=qh(Xse);var wA={exports:{}},Kse=wA.exports,H$;function Qse(){return H$||(H$=1,(function(e,t){(function(n,r){e.exports=r()})(Kse,(function(){var n={year:0,month:1,day:2,hour:3,minute:4,second:5},r={};return function(a,l,u){var i,m=function(M,P,j){j===void 0&&(j={});var G=new Date(M),z=(function(q,Y){Y===void 0&&(Y={});var J=Y.timeZoneName||"short",ne=q+"|"+J,ie=r[ne];return ie||(ie=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:q,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:J}),r[ne]=ie),ie})(P,j);return z.formatToParts(G)},b=function(M,P){for(var j=m(M,P),G=[],z=0;z<j.length;z+=1){var q=j[z],Y=q.type,J=q.value,ne=n[Y];ne>=0&&(G[ne]=parseInt(J,10))}var ie=G[3],ue=ie===24?0:ie,oe=G[0]+"-"+G[1]+"-"+G[2]+" "+ue+":"+G[4]+":"+G[5]+":000",K=+M;return(u.utc(oe).valueOf()-(K-=K%1e3))/6e4},_=l.prototype;_.tz=function(M,P){M===void 0&&(M=i);var j,G=this.utcOffset(),z=this.toDate(),q=z.toLocaleString("en-US",{timeZone:M}),Y=Math.round((z-new Date(q))/1e3/60),J=15*-Math.round(z.getTimezoneOffset()/15)-Y;if(!Number(J))j=this.utcOffset(0,P);else if(j=u(q,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(J,!0),P){var ne=j.utcOffset();j=j.add(G-ne,"minute")}return j.$x.$timezone=M,j},_.offsetName=function(M){var P=this.$x.$timezone||u.tz.guess(),j=m(this.valueOf(),P,{timeZoneName:M}).find((function(G){return G.type.toLowerCase()==="timezonename"}));return j&&j.value};var w=_.startOf;_.startOf=function(M,P){if(!this.$x||!this.$x.$timezone)return w.call(this,M,P);var j=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return w.call(j,M,P).tz(this.$x.$timezone,!0)},u.tz=function(M,P,j){var G=j&&P,z=j||P||i,q=b(+u(),z);if(typeof M!="string")return u(M).tz(z);var Y=(function(ue,oe,K){var se=ue-60*oe*1e3,pe=b(se,K);if(oe===pe)return[se,oe];var ve=b(se-=60*(pe-oe)*1e3,K);return pe===ve?[se,pe]:[ue-60*Math.min(pe,ve)*1e3,Math.max(pe,ve)]})(u.utc(M,G).valueOf(),q,z),J=Y[0],ne=Y[1],ie=u(J).utcOffset(ne);return ie.$x.$timezone=z,ie},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(M){i=M}}}))})(wA)),wA.exports}var Jse=Qse();const ele=qh(Jse);var SA={exports:{}},tle=SA.exports,V$;function nle(){return V$||(V$=1,(function(e,t){(function(n,r){e.exports=r()})(tle,(function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,u,i){var m=u.prototype;i.utc=function(G){var z={date:G,utc:!0,args:arguments};return new u(z)},m.utc=function(G){var z=i(this.toDate(),{locale:this.$L,utc:!0});return G?z.add(this.utcOffset(),n):z},m.local=function(){return i(this.toDate(),{locale:this.$L,utc:!1})};var b=m.parse;m.parse=function(G){G.utc&&(this.$u=!0),this.$utils().u(G.$offset)||(this.$offset=G.$offset),b.call(this,G)};var _=m.init;m.init=function(){if(this.$u){var G=this.$d;this.$y=G.getUTCFullYear(),this.$M=G.getUTCMonth(),this.$D=G.getUTCDate(),this.$W=G.getUTCDay(),this.$H=G.getUTCHours(),this.$m=G.getUTCMinutes(),this.$s=G.getUTCSeconds(),this.$ms=G.getUTCMilliseconds()}else _.call(this)};var w=m.utcOffset;m.utcOffset=function(G,z){var q=this.$utils().u;if(q(G))return this.$u?0:q(this.$offset)?w.call(this):this.$offset;if(typeof G=="string"&&(G=(function(ie){ie===void 0&&(ie="");var ue=ie.match(r);if(!ue)return null;var oe=(""+ue[0]).match(a)||["-",0,0],K=oe[0],se=60*+oe[1]+ +oe[2];return se===0?0:K==="+"?se:-se})(G),G===null))return this;var Y=Math.abs(G)<=16?60*G:G;if(Y===0)return this.utc(z);var J=this.clone();if(z)return J.$offset=Y,J.$u=!1,J;var ne=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(J=this.local().add(Y+ne,n)).$offset=Y,J.$x.$localOffset=ne,J};var M=m.format;m.format=function(G){var z=G||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return M.call(this,z)},m.valueOf=function(){var G=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*G},m.isUTC=function(){return!!this.$u},m.toISOString=function(){return this.toDate().toISOString()},m.toString=function(){return this.toDate().toUTCString()};var P=m.toDate;m.toDate=function(G){return G==="s"&&this.$offset?i(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():P.call(this)};var j=m.diff;m.diff=function(G,z,q){if(G&&this.$u===G.$u)return j.call(this,G,z,q);var Y=this.local(),J=i(G).local();return j.call(Y,J,z,q)}}}))})(SA)),SA.exports}var rle=nle();const ale=qh(rle),Ic=[];for(let e=0;e<256;++e)Ic.push((e+256).toString(16).slice(1));function ile(e,t=0){return(Ic[e[t+0]]+Ic[e[t+1]]+Ic[e[t+2]]+Ic[e[t+3]]+"-"+Ic[e[t+4]]+Ic[e[t+5]]+"-"+Ic[e[t+6]]+Ic[e[t+7]]+"-"+Ic[e[t+8]]+Ic[e[t+9]]+"-"+Ic[e[t+10]]+Ic[e[t+11]]+Ic[e[t+12]]+Ic[e[t+13]]+Ic[e[t+14]]+Ic[e[t+15]]).toLowerCase()}let mR;const ole=new Uint8Array(16);function sle(){if(!mR){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");mR=crypto.getRandomValues.bind(crypto)}return mR(ole)}const lle=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),q$={randomUUID:lle};function ule(e,t,n){e=e||{};const r=e.random??e.rng?.()??sle();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,ile(r)}function SC(e,t,n){return q$.randomUUID&&!e?q$.randomUUID():ule(e)}function cle(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const dle=e=>{switch(e){case"success":return ple;case"info":return gle;case"warning":return mle;case"error":return yle;default:return null}},fle=Array(12).fill(0),hle=({visible:e,className:t})=>Ve.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ve.createElement("div",{className:"sonner-spinner"},fle.map((n,r)=>Ve.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),ple=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mle=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gle=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yle=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ve.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vle=Ve.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ve.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ve.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),ble=()=>{const[e,t]=Ve.useState(document.hidden);return Ve.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let wO=1;class _le{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...a}=t,l=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:wO++,u=this.toasts.find(m=>m.id===l),i=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(l)&&this.dismissedToasts.delete(l),u?this.toasts=this.toasts.map(m=>m.id===l?(this.publish({...m,...t,id:l,title:r}),{...m,...t,id:l,dismissible:i,title:r}):m):this.addToast({title:r,...a,dismissible:i,id:l}),l},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(t instanceof Function?t():t);let l=r!==void 0,u;const i=a.then(async b=>{if(u=["resolve",b],Ve.isValidElement(b))l=!1,this.create({id:r,type:"default",message:b});else if(Ele(b)&&!b.ok){l=!1;const w=typeof n.error=="function"?await n.error(`HTTP error! status: ${b.status}`):n.error,M=typeof n.description=="function"?await n.description(`HTTP error! status: ${b.status}`):n.description,j=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:M,...j})}else if(b instanceof Error){l=!1;const w=typeof n.error=="function"?await n.error(b):n.error,M=typeof n.description=="function"?await n.description(b):n.description,j=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:r,type:"error",description:M,...j})}else if(n.success!==void 0){l=!1;const w=typeof n.success=="function"?await n.success(b):n.success,M=typeof n.description=="function"?await n.description(b):n.description,j=typeof w=="object"&&!Ve.isValidElement(w)?w:{message:w};this.create({id:r,type:"success",description:M,...j})}}).catch(async b=>{if(u=["reject",b],n.error!==void 0){l=!1;const _=typeof n.error=="function"?await n.error(b):n.error,w=typeof n.description=="function"?await n.description(b):n.description,P=typeof _=="object"&&!Ve.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:w,...P})}}).finally(()=>{l&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((b,_)=>i.then(()=>u[0]==="reject"?_(u[1]):b(u[1])).catch(_));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=n?.id||wO++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const zf=new _le,xle=(e,t)=>{const n=t?.id||wO++;return zf.addToast({title:e,...t,id:n}),n},Ele=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",wle=xle,Sle=()=>zf.toasts,Tle=()=>zf.getActiveToasts(),$p=Object.assign(wle,{success:zf.success,info:zf.info,warning:zf.warning,error:zf.error,custom:zf.custom,message:zf.message,promise:zf.promise,dismiss:zf.dismiss,loading:zf.loading},{getHistory:Sle,getToasts:Tle});cle("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function TC(e){return e.label!==void 0}const Cle=3,Ale="24px",kle="16px",Y$=4e3,Ile=356,Nle=14,Rle=45,Mle=200;function oy(...e){return e.filter(Boolean).join(" ")}function Ole(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Dle=e=>{var t,n,r,a,l,u,i,m,b;const{invert:_,toast:w,unstyled:M,interacting:P,setHeights:j,visibleToasts:G,heights:z,index:q,toasts:Y,expanded:J,removeToast:ne,defaultRichColors:ie,closeButton:ue,style:oe,cancelButtonStyle:K,actionButtonStyle:se,className:pe="",descriptionClassName:ve="",duration:Te,position:Me,gap:xe,expandByDefault:Se,classNames:he,icons:we,closeButtonAriaLabel:_e="Close toast"}=e,[Be,He]=Ve.useState(null),[Re,je]=Ve.useState(null),[Ze,Qe]=Ve.useState(!1),[Pe,St]=Ve.useState(!1),[Nt,We]=Ve.useState(!1),[en,zt]=Ve.useState(!1),[rn,Ge]=Ve.useState(!1),[kn,_n]=Ve.useState(0),[Lt,pn]=Ve.useState(0),Tn=Ve.useRef(w.duration||Te||Y$),tr=Ve.useRef(null),Vt=Ve.useRef(null),lr=q===0,sr=q+1<=G,xn=w.type,En=w.dismissible!==!1,hn=w.className||"",jn=w.descriptionClassName||"",_t=Ve.useMemo(()=>z.findIndex(wn=>wn.toastId===w.id)||0,[z,w.id]),Oe=Ve.useMemo(()=>{var wn;return(wn=w.closeButton)!=null?wn:ue},[w.closeButton,ue]),ke=Ve.useMemo(()=>w.duration||Te||Y$,[w.duration,Te]),qe=Ve.useRef(0),ut=Ve.useRef(0),dt=Ve.useRef(0),Ut=Ve.useRef(null),[Bt,xt]=Me.split("-"),Ct=Ve.useMemo(()=>z.reduce((wn,Mr,Mn)=>Mn>=_t?wn:wn+Mr.height,0),[z,_t]),sn=ble(),mn=w.invert||_,Vn=xn==="loading";ut.current=Ve.useMemo(()=>_t*xe+Ct,[_t,Ct]),Ve.useEffect(()=>{Tn.current=ke},[ke]),Ve.useEffect(()=>{Qe(!0)},[]),Ve.useEffect(()=>{const wn=Vt.current;if(wn){const Mr=wn.getBoundingClientRect().height;return pn(Mr),j(Mn=>[{toastId:w.id,height:Mr,position:w.position},...Mn]),()=>j(Mn=>Mn.filter(on=>on.toastId!==w.id))}},[j,w.id]),Ve.useLayoutEffect(()=>{if(!Ze)return;const wn=Vt.current,Mr=wn.style.height;wn.style.height="auto";const Mn=wn.getBoundingClientRect().height;wn.style.height=Mr,pn(Mn),j(on=>on.find(Tr=>Tr.toastId===w.id)?on.map(Tr=>Tr.toastId===w.id?{...Tr,height:Mn}:Tr):[{toastId:w.id,height:Mn,position:w.position},...on])},[Ze,w.title,w.description,j,w.id,w.jsx,w.action,w.cancel]);const gn=Ve.useCallback(()=>{St(!0),_n(ut.current),j(wn=>wn.filter(Mr=>Mr.toastId!==w.id)),setTimeout(()=>{ne(w)},Mle)},[w,ne,j,ut]);Ve.useEffect(()=>{if(w.promise&&xn==="loading"||w.duration===1/0||w.type==="loading")return;let wn;return J||P||sn?(()=>{if(dt.current<qe.current){const on=new Date().getTime()-qe.current;Tn.current=Tn.current-on}dt.current=new Date().getTime()})():(()=>{Tn.current!==1/0&&(qe.current=new Date().getTime(),wn=setTimeout(()=>{w.onAutoClose==null||w.onAutoClose.call(w,w),gn()},Tn.current))})(),()=>clearTimeout(wn)},[J,P,w,xn,sn,gn]),Ve.useEffect(()=>{w.delete&&(gn(),w.onDismiss==null||w.onDismiss.call(w,w))},[gn,w.delete]);function qn(){var wn;if(we?.loading){var Mr;return Ve.createElement("div",{className:oy(he?.loader,w==null||(Mr=w.classNames)==null?void 0:Mr.loader,"sonner-loader"),"data-visible":xn==="loading"},we.loading)}return Ve.createElement(hle,{className:oy(he?.loader,w==null||(wn=w.classNames)==null?void 0:wn.loader),visible:xn==="loading"})}const Xn=w.icon||we?.[xn]||dle(xn);var Qn,Pt;return Ve.createElement("li",{tabIndex:0,ref:Vt,className:oy(pe,hn,he?.toast,w==null||(t=w.classNames)==null?void 0:t.toast,he?.default,he?.[xn],w==null||(n=w.classNames)==null?void 0:n[xn]),"data-sonner-toast":"","data-rich-colors":(Qn=w.richColors)!=null?Qn:ie,"data-styled":!(w.jsx||w.unstyled||M),"data-mounted":Ze,"data-promise":!!w.promise,"data-swiped":rn,"data-removed":Pe,"data-visible":sr,"data-y-position":Bt,"data-x-position":xt,"data-index":q,"data-front":lr,"data-swiping":Nt,"data-dismissible":En,"data-type":xn,"data-invert":mn,"data-swipe-out":en,"data-swipe-direction":Re,"data-expanded":!!(J||Se&&Ze),"data-testid":w.testId,style:{"--index":q,"--toasts-before":q,"--z-index":Y.length-q,"--offset":`${Pe?kn:ut.current}px`,"--initial-height":Se?"auto":`${Lt}px`,...oe,...w.style},onDragEnd:()=>{We(!1),He(null),Ut.current=null},onPointerDown:wn=>{wn.button!==2&&(Vn||!En||(tr.current=new Date,_n(ut.current),wn.target.setPointerCapture(wn.pointerId),wn.target.tagName!=="BUTTON"&&(We(!0),Ut.current={x:wn.clientX,y:wn.clientY})))},onPointerUp:()=>{var wn,Mr,Mn;if(en||!En)return;Ut.current=null;const on=Number(((wn=Vt.current)==null?void 0:wn.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wr=Number(((Mr=Vt.current)==null?void 0:Mr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Tr=new Date().getTime()-((Mn=tr.current)==null?void 0:Mn.getTime()),Ir=Be==="x"?on:Wr,Xr=Math.abs(Ir)/Tr;if(Math.abs(Ir)>=Rle||Xr>.11){_n(ut.current),w.onDismiss==null||w.onDismiss.call(w,w),je(Be==="x"?on>0?"right":"left":Wr>0?"down":"up"),gn(),zt(!0);return}else{var yt,Ft;(yt=Vt.current)==null||yt.style.setProperty("--swipe-amount-x","0px"),(Ft=Vt.current)==null||Ft.style.setProperty("--swipe-amount-y","0px")}Ge(!1),We(!1),He(null)},onPointerMove:wn=>{var Mr,Mn,on;if(!Ut.current||!En||((Mr=window.getSelection())==null?void 0:Mr.toString().length)>0)return;const Tr=wn.clientY-Ut.current.y,Ir=wn.clientX-Ut.current.x;var Xr;const yt=(Xr=e.swipeDirections)!=null?Xr:Ole(Me);!Be&&(Math.abs(Ir)>1||Math.abs(Tr)>1)&&He(Math.abs(Ir)>Math.abs(Tr)?"x":"y");let Ft={x:0,y:0};const Yt=Ot=>1/(1.5+Math.abs(Ot)/20);if(Be==="y"){if(yt.includes("top")||yt.includes("bottom"))if(yt.includes("top")&&Tr<0||yt.includes("bottom")&&Tr>0)Ft.y=Tr;else{const Ot=Tr*Yt(Tr);Ft.y=Math.abs(Ot)<Math.abs(Tr)?Ot:Tr}}else if(Be==="x"&&(yt.includes("left")||yt.includes("right")))if(yt.includes("left")&&Ir<0||yt.includes("right")&&Ir>0)Ft.x=Ir;else{const Ot=Ir*Yt(Ir);Ft.x=Math.abs(Ot)<Math.abs(Ir)?Ot:Ir}(Math.abs(Ft.x)>0||Math.abs(Ft.y)>0)&&Ge(!0),(Mn=Vt.current)==null||Mn.style.setProperty("--swipe-amount-x",`${Ft.x}px`),(on=Vt.current)==null||on.style.setProperty("--swipe-amount-y",`${Ft.y}px`)}},Oe&&!w.jsx&&xn!=="loading"?Ve.createElement("button",{"aria-label":_e,"data-disabled":Vn,"data-close-button":!0,onClick:Vn||!En?()=>{}:()=>{gn(),w.onDismiss==null||w.onDismiss.call(w,w)},className:oy(he?.closeButton,w==null||(r=w.classNames)==null?void 0:r.closeButton)},(Pt=we?.close)!=null?Pt:vle):null,(xn||w.icon||w.promise)&&w.icon!==null&&(we?.[xn]!==null||w.icon)?Ve.createElement("div",{"data-icon":"",className:oy(he?.icon,w==null||(a=w.classNames)==null?void 0:a.icon)},w.promise||w.type==="loading"&&!w.icon?w.icon||qn():null,w.type!=="loading"?Xn:null):null,Ve.createElement("div",{"data-content":"",className:oy(he?.content,w==null||(l=w.classNames)==null?void 0:l.content)},Ve.createElement("div",{"data-title":"",className:oy(he?.title,w==null||(u=w.classNames)==null?void 0:u.title)},w.jsx?w.jsx:typeof w.title=="function"?w.title():w.title),w.description?Ve.createElement("div",{"data-description":"",className:oy(ve,jn,he?.description,w==null||(i=w.classNames)==null?void 0:i.description)},typeof w.description=="function"?w.description():w.description):null),Ve.isValidElement(w.cancel)?w.cancel:w.cancel&&TC(w.cancel)?Ve.createElement("button",{"data-button":!0,"data-cancel":!0,style:w.cancelButtonStyle||K,onClick:wn=>{TC(w.cancel)&&En&&(w.cancel.onClick==null||w.cancel.onClick.call(w.cancel,wn),gn())},className:oy(he?.cancelButton,w==null||(m=w.classNames)==null?void 0:m.cancelButton)},w.cancel.label):null,Ve.isValidElement(w.action)?w.action:w.action&&TC(w.action)?Ve.createElement("button",{"data-button":!0,"data-action":!0,style:w.actionButtonStyle||se,onClick:wn=>{TC(w.action)&&(w.action.onClick==null||w.action.onClick.call(w.action,wn),!wn.defaultPrevented&&gn())},className:oy(he?.actionButton,w==null||(b=w.classNames)==null?void 0:b.actionButton)},w.action.label):null)};function W$(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Lle(e,t){const n={};return[e,t].forEach((r,a)=>{const l=a===1,u=l?"--mobile-offset":"--offset",i=l?kle:Ale;function m(b){["top","right","bottom","left"].forEach(_=>{n[`${u}-${_}`]=typeof b=="number"?`${b}px`:b})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(b=>{r[b]===void 0?n[`${u}-${b}`]=i:n[`${u}-${b}`]=typeof r[b]=="number"?`${r[b]}px`:r[b]}):m(i)}),n}const Ple=Ve.forwardRef(function(t,n){const{id:r,invert:a,position:l="bottom-right",hotkey:u=["altKey","KeyT"],expand:i,closeButton:m,className:b,offset:_,mobileOffset:w,theme:M="light",richColors:P,duration:j,style:G,visibleToasts:z=Cle,toastOptions:q,dir:Y=W$(),gap:J=Nle,icons:ne,containerAriaLabel:ie="Notifications"}=t,[ue,oe]=Ve.useState([]),K=Ve.useMemo(()=>r?ue.filter(Ze=>Ze.toasterId===r):ue.filter(Ze=>!Ze.toasterId),[ue,r]),se=Ve.useMemo(()=>Array.from(new Set([l].concat(K.filter(Ze=>Ze.position).map(Ze=>Ze.position)))),[K,l]),[pe,ve]=Ve.useState([]),[Te,Me]=Ve.useState(!1),[xe,Se]=Ve.useState(!1),[he,we]=Ve.useState(M!=="system"?M:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_e=Ve.useRef(null),Be=u.join("+").replace(/Key/g,"").replace(/Digit/g,""),He=Ve.useRef(null),Re=Ve.useRef(!1),je=Ve.useCallback(Ze=>{oe(Qe=>{var Pe;return(Pe=Qe.find(St=>St.id===Ze.id))!=null&&Pe.delete||zf.dismiss(Ze.id),Qe.filter(({id:St})=>St!==Ze.id)})},[]);return Ve.useEffect(()=>zf.subscribe(Ze=>{if(Ze.dismiss){requestAnimationFrame(()=>{oe(Qe=>Qe.map(Pe=>Pe.id===Ze.id?{...Pe,delete:!0}:Pe))});return}setTimeout(()=>{HH.flushSync(()=>{oe(Qe=>{const Pe=Qe.findIndex(St=>St.id===Ze.id);return Pe!==-1?[...Qe.slice(0,Pe),{...Qe[Pe],...Ze},...Qe.slice(Pe+1)]:[Ze,...Qe]})})})}),[ue]),Ve.useEffect(()=>{if(M!=="system"){we(M);return}if(M==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?we("dark"):we("light")),typeof window>"u")return;const Ze=window.matchMedia("(prefers-color-scheme: dark)");try{Ze.addEventListener("change",({matches:Qe})=>{we(Qe?"dark":"light")})}catch{Ze.addListener(({matches:Pe})=>{try{we(Pe?"dark":"light")}catch(St){console.error(St)}})}},[M]),Ve.useEffect(()=>{ue.length<=1&&Me(!1)},[ue]),Ve.useEffect(()=>{const Ze=Qe=>{var Pe;if(u.every(We=>Qe[We]||Qe.code===We)){var Nt;Me(!0),(Nt=_e.current)==null||Nt.focus()}Qe.code==="Escape"&&(document.activeElement===_e.current||(Pe=_e.current)!=null&&Pe.contains(document.activeElement))&&Me(!1)};return document.addEventListener("keydown",Ze),()=>document.removeEventListener("keydown",Ze)},[u]),Ve.useEffect(()=>{if(_e.current)return()=>{He.current&&(He.current.focus({preventScroll:!0}),He.current=null,Re.current=!1)}},[_e.current]),Ve.createElement("section",{ref:n,"aria-label":`${ie} ${Be}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},se.map((Ze,Qe)=>{var Pe;const[St,Nt]=Ze.split("-");return K.length?Ve.createElement("ol",{key:Ze,dir:Y==="auto"?W$():Y,tabIndex:-1,ref:_e,className:b,"data-sonner-toaster":!0,"data-sonner-theme":he,"data-y-position":St,"data-x-position":Nt,style:{"--front-toast-height":`${((Pe=pe[0])==null?void 0:Pe.height)||0}px`,"--width":`${Ile}px`,"--gap":`${J}px`,...G,...Lle(_,w)},onBlur:We=>{Re.current&&!We.currentTarget.contains(We.relatedTarget)&&(Re.current=!1,He.current&&(He.current.focus({preventScroll:!0}),He.current=null))},onFocus:We=>{We.target instanceof HTMLElement&&We.target.dataset.dismissible==="false"||Re.current||(Re.current=!0,He.current=We.relatedTarget)},onMouseEnter:()=>Me(!0),onMouseMove:()=>Me(!0),onMouseLeave:()=>{xe||Me(!1)},onDragEnd:()=>Me(!1),onPointerDown:We=>{We.target instanceof HTMLElement&&We.target.dataset.dismissible==="false"||Se(!0)},onPointerUp:()=>Se(!1)},K.filter(We=>!We.position&&Qe===0||We.position===Ze).map((We,en)=>{var zt,rn;return Ve.createElement(Dle,{key:We.id,icons:ne,index:en,toast:We,defaultRichColors:P,duration:(zt=q?.duration)!=null?zt:j,className:q?.className,descriptionClassName:q?.descriptionClassName,invert:a,visibleToasts:z,closeButton:(rn=q?.closeButton)!=null?rn:m,interacting:xe,position:Ze,style:q?.style,unstyled:q?.unstyled,classNames:q?.classNames,cancelButtonStyle:q?.cancelButtonStyle,actionButtonStyle:q?.actionButtonStyle,closeButtonAriaLabel:q?.closeButtonAriaLabel,removeToast:je,toasts:K.filter(Ge=>Ge.position==We.position),heights:pe.filter(Ge=>Ge.position==We.position),setHeights:ve,expandByDefault:i,gap:J,expanded:Te,swipeDirections:t.swipeDirections})})):null}))}),KH=new Map,gR=(e,t)=>t===void 0?`rpc:${e}`:`rpc:${e}:${JSON.stringify(t)}`,yR=e=>{const t=KH.get(e);return t===void 0?null:t},vR=(e,t)=>{KH.set(e,t)},SI={collection:async e=>{const t=gR("collection",e),n=yR(t);if(n)return n;const r=await ja.collection(e);return vR(t,r),r},init:async()=>{const e=gR("init"),t=yR(e);if(t)return t;const n=await ja.init();return vR(e,n),n},menu:async()=>{const e=gR("menu"),t=yR(e);if(t)return t;const n=await ja.menu();return vR(e,n),n}};function QH(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=QH(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function JH(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=QH(e))&&(r&&(r+=" "),r+=t);return r}const Z$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,X$=JH,Vb=(e,t)=>n=>{var r;if(t?.variants==null)return X$(e,n?.class,n?.className);const{variants:a,defaultVariants:l}=t,u=Object.keys(a).map(b=>{const _=n?.[b],w=l?.[b];if(_===null)return null;const M=Z$(_)||Z$(w);return a[b][M]}),i=n&&Object.entries(n).reduce((b,_)=>{let[w,M]=_;return M===void 0||(b[w]=M),b},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((b,_)=>{let{class:w,className:M,...P}=_;return Object.entries(P).every(j=>{let[G,z]=j;return Array.isArray(z)?z.includes({...l,...i}[G]):{...l,...i}[G]===z})?[...b,w,M]:b},[]);return X$(e,u,m,n?.class,n?.className)},ow=Ve.createContext({theme:"material",dark:!0,materialTouchRipple:!0,iosHoverHighlight:!0});function Fle(e,t){return typeof window>"u"?$.useEffect(e,t):$.useLayoutEffect(e,t)}const eV=(e,t=!0)=>{const[n,r]=$.useState(e);return Fle(()=>{if(t){if(e==="ios"||e==="material")n!==e&&r(e);else if(n==="parent"&&typeof window<"u"&&typeof document<"u"){const a=document.documentElement;a&&(a.classList.contains("ios")?r("ios"):(a.classList.contains("md")||a.classList.contains("material"))&&r("material"))}}},[e]),t?n:e},Ble=e=>{const{theme:t,dark:n,materialTouchRipple:r=!0,iosHoverHighlight:a=!0,autoThemeDetection:l=!0,children:u}=e,i=eV(t,l);return Ve.createElement(ow.Provider,{value:{theme:i,dark:n,materialTouchRipple:r,iosHoverHighlight:a}},u)},$le=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},jle=(e,t)=>({classGroupId:e,validator:t}),tV=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ek="-",K$=[],zle="arbitrary..",Ule=e=>{const t=Hle(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return Gle(u);const i=u.split(ek),m=i[0]===""&&i.length>1?1:0;return nV(i,m,t)},getConflictingClassGroupIds:(u,i)=>{if(i){const m=r[u],b=n[u];return m?b?$le(b,m):m:b||K$}return n[u]||K$}}},nV=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const a=e[t],l=n.nextPart.get(a);if(l){const b=nV(e,t+1,l);if(b)return b}const u=n.validators;if(u===null)return;const i=t===0?e.join(ek):e.slice(t).join(ek),m=u.length;for(let b=0;b<m;b++){const _=u[b];if(_.validator(i))return _.classGroupId}},Gle=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?zle+r:void 0})(),Hle=e=>{const{theme:t,classGroups:n}=e;return Vle(n,t)},Vle=(e,t)=>{const n=tV();for(const r in e){const a=e[r];yL(a,n,r,t)}return n},yL=(e,t,n,r)=>{const a=e.length;for(let l=0;l<a;l++){const u=e[l];qle(u,t,n,r)}},qle=(e,t,n,r)=>{if(typeof e=="string"){Yle(e,t,n);return}if(typeof e=="function"){Wle(e,t,n,r);return}Zle(e,t,n,r)},Yle=(e,t,n)=>{const r=e===""?t:rV(t,e);r.classGroupId=n},Wle=(e,t,n,r)=>{if(Xle(e)){yL(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(jle(n,e))},Zle=(e,t,n,r)=>{const a=Object.entries(e),l=a.length;for(let u=0;u<l;u++){const[i,m]=a[u];yL(m,rV(t,i),n,r)}},rV=(e,t)=>{let n=e;const r=t.split(ek),a=r.length;for(let l=0;l<a;l++){const u=r[l];let i=n.nextPart.get(u);i||(i=tV(),n.nextPart.set(u,i)),n=i}return n},Xle=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Kle=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const a=(l,u)=>{n[l]=u,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=r[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},SO="!",Q$=":",Qle=[],J$=(e,t,n,r,a)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:a}),Jle=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=a=>{const l=[];let u=0,i=0,m=0,b;const _=a.length;for(let G=0;G<_;G++){const z=a[G];if(u===0&&i===0){if(z===Q$){l.push(a.slice(m,G)),m=G+1;continue}if(z==="/"){b=G;continue}}z==="["?u++:z==="]"?u--:z==="("?i++:z===")"&&i--}const w=l.length===0?a:a.slice(m);let M=w,P=!1;w.endsWith(SO)?(M=w.slice(0,-1),P=!0):w.startsWith(SO)&&(M=w.slice(1),P=!0);const j=b&&b>m?b-m:void 0;return J$(l,P,M,j)};if(t){const a=t+Q$,l=r;r=u=>u.startsWith(a)?l(u.slice(a.length)):J$(Qle,!1,u,void 0,!0)}if(n){const a=r;r=l=>n({className:l,parseClassName:a})}return r},eue=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],i=u[0]==="[",m=t.has(u);i||m?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(u)):a.push(u)}return a.length>0&&(a.sort(),r.push(...a)),r}},tue=e=>({cache:Kle(e.cacheSize),parseClassName:Jle(e),sortModifiers:eue(e),...Ule(e)}),nue=/\s+/,rue=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=t,u=[],i=e.trim().split(nue);let m="";for(let b=i.length-1;b>=0;b-=1){const _=i[b],{isExternal:w,modifiers:M,hasImportantModifier:P,baseClassName:j,maybePostfixModifierPosition:G}=n(_);if(w){m=_+(m.length>0?" "+m:m);continue}let z=!!G,q=r(z?j.substring(0,G):j);if(!q){if(!z){m=_+(m.length>0?" "+m:m);continue}if(q=r(j),!q){m=_+(m.length>0?" "+m:m);continue}z=!1}const Y=M.length===0?"":M.length===1?M[0]:l(M).join(":"),J=P?Y+SO:Y,ne=J+q;if(u.indexOf(ne)>-1)continue;u.push(ne);const ie=a(q,z);for(let ue=0;ue<ie.length;++ue){const oe=ie[ue];u.push(J+oe)}m=_+(m.length>0?" "+m:m)}return m},aue=(...e)=>{let t=0,n,r,a="";for(;t<e.length;)(n=e[t++])&&(r=aV(n))&&(a&&(a+=" "),a+=r);return a},aV=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=aV(e[r]))&&(n&&(n+=" "),n+=t);return n},iue=(e,...t)=>{let n,r,a,l;const u=m=>{const b=t.reduce((_,w)=>w(_),e());return n=tue(b),r=n.cache.get,a=n.cache.set,l=i,i(m)},i=m=>{const b=r(m);if(b)return b;const _=rue(m,n);return a(m,_),_};return l=u,(...m)=>l(aue(...m))},oue=[],mu=e=>{const t=n=>n[e]||oue;return t.isThemeGetter=!0,t},iV=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,oV=/^\((?:(\w[\w-]*):)?(.+)\)$/i,sue=/^\d+\/\d+$/,lue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,uue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,cue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,due=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jx=e=>sue.test(e),ei=e=>!!e&&!Number.isNaN(Number(e)),lb=e=>!!e&&Number.isInteger(Number(e)),bR=e=>e.endsWith("%")&&ei(e.slice(0,-1)),N0=e=>lue.test(e),hue=()=>!0,pue=e=>uue.test(e)&&!cue.test(e),sV=()=>!1,mue=e=>due.test(e),gue=e=>fue.test(e),yue=e=>!qr(e)&&!Yr(e),vue=e=>sw(e,cV,sV),qr=e=>iV.test(e),J_=e=>sw(e,dV,pue),_R=e=>sw(e,wue,ei),e9=e=>sw(e,lV,sV),bue=e=>sw(e,uV,gue),CC=e=>sw(e,fV,mue),Yr=e=>oV.test(e),s2=e=>lw(e,dV),_ue=e=>lw(e,Sue),t9=e=>lw(e,lV),xue=e=>lw(e,cV),Eue=e=>lw(e,uV),AC=e=>lw(e,fV,!0),sw=(e,t,n)=>{const r=iV.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},lw=(e,t,n=!1)=>{const r=oV.exec(e);return r?r[1]?t(r[1]):n:!1},lV=e=>e==="position"||e==="percentage",uV=e=>e==="image"||e==="url",cV=e=>e==="length"||e==="size"||e==="bg-size",dV=e=>e==="length",wue=e=>e==="number",Sue=e=>e==="family-name",fV=e=>e==="shadow",Tue=()=>{const e=mu("color"),t=mu("font"),n=mu("text"),r=mu("font-weight"),a=mu("tracking"),l=mu("leading"),u=mu("breakpoint"),i=mu("container"),m=mu("spacing"),b=mu("radius"),_=mu("shadow"),w=mu("inset-shadow"),M=mu("text-shadow"),P=mu("drop-shadow"),j=mu("blur"),G=mu("perspective"),z=mu("aspect"),q=mu("ease"),Y=mu("animate"),J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ie=()=>[...ne(),Yr,qr],ue=()=>["auto","hidden","clip","visible","scroll"],oe=()=>["auto","contain","none"],K=()=>[Yr,qr,m],se=()=>[jx,"full","auto",...K()],pe=()=>[lb,"none","subgrid",Yr,qr],ve=()=>["auto",{span:["full",lb,Yr,qr]},lb,Yr,qr],Te=()=>[lb,"auto",Yr,qr],Me=()=>["auto","min","max","fr",Yr,qr],xe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],he=()=>["auto",...K()],we=()=>[jx,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...K()],_e=()=>[e,Yr,qr],Be=()=>[...ne(),t9,e9,{position:[Yr,qr]}],He=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Re=()=>["auto","cover","contain",xue,vue,{size:[Yr,qr]}],je=()=>[bR,s2,J_],Ze=()=>["","none","full",b,Yr,qr],Qe=()=>["",ei,s2,J_],Pe=()=>["solid","dashed","dotted","double"],St=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Nt=()=>[ei,bR,t9,e9],We=()=>["","none",j,Yr,qr],en=()=>["none",ei,Yr,qr],zt=()=>["none",ei,Yr,qr],rn=()=>[ei,Yr,qr],Ge=()=>[jx,"full",...K()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[N0],breakpoint:[N0],color:[hue],container:[N0],"drop-shadow":[N0],ease:["in","out","in-out"],font:[yue],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[N0],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[N0],shadow:[N0],spacing:["px",ei],text:[N0],"text-shadow":[N0],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",jx,qr,Yr,z]}],container:["container"],columns:[{columns:[ei,qr,Yr,i]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ie()}],overflow:[{overflow:ue()}],"overflow-x":[{"overflow-x":ue()}],"overflow-y":[{"overflow-y":ue()}],overscroll:[{overscroll:oe()}],"overscroll-x":[{"overscroll-x":oe()}],"overscroll-y":[{"overscroll-y":oe()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:se()}],"inset-x":[{"inset-x":se()}],"inset-y":[{"inset-y":se()}],start:[{start:se()}],end:[{end:se()}],top:[{top:se()}],right:[{right:se()}],bottom:[{bottom:se()}],left:[{left:se()}],visibility:["visible","invisible","collapse"],z:[{z:[lb,"auto",Yr,qr]}],basis:[{basis:[jx,"full","auto",i,...K()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ei,jx,"auto","initial","none",qr]}],grow:[{grow:["",ei,Yr,qr]}],shrink:[{shrink:["",ei,Yr,qr]}],order:[{order:[lb,"first","last","none",Yr,qr]}],"grid-cols":[{"grid-cols":pe()}],"col-start-end":[{col:ve()}],"col-start":[{"col-start":Te()}],"col-end":[{"col-end":Te()}],"grid-rows":[{"grid-rows":pe()}],"row-start-end":[{row:ve()}],"row-start":[{"row-start":Te()}],"row-end":[{"row-end":Te()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Me()}],"auto-rows":[{"auto-rows":Me()}],gap:[{gap:K()}],"gap-x":[{"gap-x":K()}],"gap-y":[{"gap-y":K()}],"justify-content":[{justify:[...xe(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...xe()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":xe()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:K()}],px:[{px:K()}],py:[{py:K()}],ps:[{ps:K()}],pe:[{pe:K()}],pt:[{pt:K()}],pr:[{pr:K()}],pb:[{pb:K()}],pl:[{pl:K()}],m:[{m:he()}],mx:[{mx:he()}],my:[{my:he()}],ms:[{ms:he()}],me:[{me:he()}],mt:[{mt:he()}],mr:[{mr:he()}],mb:[{mb:he()}],ml:[{ml:he()}],"space-x":[{"space-x":K()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":K()}],"space-y-reverse":["space-y-reverse"],size:[{size:we()}],w:[{w:[i,"screen",...we()]}],"min-w":[{"min-w":[i,"screen","none",...we()]}],"max-w":[{"max-w":[i,"screen","none","prose",{screen:[u]},...we()]}],h:[{h:["screen","lh",...we()]}],"min-h":[{"min-h":["screen","lh","none",...we()]}],"max-h":[{"max-h":["screen","lh",...we()]}],"font-size":[{text:["base",n,s2,J_]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Yr,_R]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",bR,qr]}],"font-family":[{font:[_ue,qr,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Yr,qr]}],"line-clamp":[{"line-clamp":[ei,"none",Yr,_R]}],leading:[{leading:[l,...K()]}],"list-image":[{"list-image":["none",Yr,qr]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Yr,qr]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:_e()}],"text-color":[{text:_e()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pe(),"wavy"]}],"text-decoration-thickness":[{decoration:[ei,"from-font","auto",Yr,J_]}],"text-decoration-color":[{decoration:_e()}],"underline-offset":[{"underline-offset":[ei,"auto",Yr,qr]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yr,qr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yr,qr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Be()}],"bg-repeat":[{bg:He()}],"bg-size":[{bg:Re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},lb,Yr,qr],radial:["",Yr,qr],conic:[lb,Yr,qr]},Eue,bue]}],"bg-color":[{bg:_e()}],"gradient-from-pos":[{from:je()}],"gradient-via-pos":[{via:je()}],"gradient-to-pos":[{to:je()}],"gradient-from":[{from:_e()}],"gradient-via":[{via:_e()}],"gradient-to":[{to:_e()}],rounded:[{rounded:Ze()}],"rounded-s":[{"rounded-s":Ze()}],"rounded-e":[{"rounded-e":Ze()}],"rounded-t":[{"rounded-t":Ze()}],"rounded-r":[{"rounded-r":Ze()}],"rounded-b":[{"rounded-b":Ze()}],"rounded-l":[{"rounded-l":Ze()}],"rounded-ss":[{"rounded-ss":Ze()}],"rounded-se":[{"rounded-se":Ze()}],"rounded-ee":[{"rounded-ee":Ze()}],"rounded-es":[{"rounded-es":Ze()}],"rounded-tl":[{"rounded-tl":Ze()}],"rounded-tr":[{"rounded-tr":Ze()}],"rounded-br":[{"rounded-br":Ze()}],"rounded-bl":[{"rounded-bl":Ze()}],"border-w":[{border:Qe()}],"border-w-x":[{"border-x":Qe()}],"border-w-y":[{"border-y":Qe()}],"border-w-s":[{"border-s":Qe()}],"border-w-e":[{"border-e":Qe()}],"border-w-t":[{"border-t":Qe()}],"border-w-r":[{"border-r":Qe()}],"border-w-b":[{"border-b":Qe()}],"border-w-l":[{"border-l":Qe()}],"divide-x":[{"divide-x":Qe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Qe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pe(),"hidden","none"]}],"divide-style":[{divide:[...Pe(),"hidden","none"]}],"border-color":[{border:_e()}],"border-color-x":[{"border-x":_e()}],"border-color-y":[{"border-y":_e()}],"border-color-s":[{"border-s":_e()}],"border-color-e":[{"border-e":_e()}],"border-color-t":[{"border-t":_e()}],"border-color-r":[{"border-r":_e()}],"border-color-b":[{"border-b":_e()}],"border-color-l":[{"border-l":_e()}],"divide-color":[{divide:_e()}],"outline-style":[{outline:[...Pe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ei,Yr,qr]}],"outline-w":[{outline:["",ei,s2,J_]}],"outline-color":[{outline:_e()}],shadow:[{shadow:["","none",_,AC,CC]}],"shadow-color":[{shadow:_e()}],"inset-shadow":[{"inset-shadow":["none",w,AC,CC]}],"inset-shadow-color":[{"inset-shadow":_e()}],"ring-w":[{ring:Qe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:_e()}],"ring-offset-w":[{"ring-offset":[ei,J_]}],"ring-offset-color":[{"ring-offset":_e()}],"inset-ring-w":[{"inset-ring":Qe()}],"inset-ring-color":[{"inset-ring":_e()}],"text-shadow":[{"text-shadow":["none",M,AC,CC]}],"text-shadow-color":[{"text-shadow":_e()}],opacity:[{opacity:[ei,Yr,qr]}],"mix-blend":[{"mix-blend":[...St(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":St()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ei]}],"mask-image-linear-from-pos":[{"mask-linear-from":Nt()}],"mask-image-linear-to-pos":[{"mask-linear-to":Nt()}],"mask-image-linear-from-color":[{"mask-linear-from":_e()}],"mask-image-linear-to-color":[{"mask-linear-to":_e()}],"mask-image-t-from-pos":[{"mask-t-from":Nt()}],"mask-image-t-to-pos":[{"mask-t-to":Nt()}],"mask-image-t-from-color":[{"mask-t-from":_e()}],"mask-image-t-to-color":[{"mask-t-to":_e()}],"mask-image-r-from-pos":[{"mask-r-from":Nt()}],"mask-image-r-to-pos":[{"mask-r-to":Nt()}],"mask-image-r-from-color":[{"mask-r-from":_e()}],"mask-image-r-to-color":[{"mask-r-to":_e()}],"mask-image-b-from-pos":[{"mask-b-from":Nt()}],"mask-image-b-to-pos":[{"mask-b-to":Nt()}],"mask-image-b-from-color":[{"mask-b-from":_e()}],"mask-image-b-to-color":[{"mask-b-to":_e()}],"mask-image-l-from-pos":[{"mask-l-from":Nt()}],"mask-image-l-to-pos":[{"mask-l-to":Nt()}],"mask-image-l-from-color":[{"mask-l-from":_e()}],"mask-image-l-to-color":[{"mask-l-to":_e()}],"mask-image-x-from-pos":[{"mask-x-from":Nt()}],"mask-image-x-to-pos":[{"mask-x-to":Nt()}],"mask-image-x-from-color":[{"mask-x-from":_e()}],"mask-image-x-to-color":[{"mask-x-to":_e()}],"mask-image-y-from-pos":[{"mask-y-from":Nt()}],"mask-image-y-to-pos":[{"mask-y-to":Nt()}],"mask-image-y-from-color":[{"mask-y-from":_e()}],"mask-image-y-to-color":[{"mask-y-to":_e()}],"mask-image-radial":[{"mask-radial":[Yr,qr]}],"mask-image-radial-from-pos":[{"mask-radial-from":Nt()}],"mask-image-radial-to-pos":[{"mask-radial-to":Nt()}],"mask-image-radial-from-color":[{"mask-radial-from":_e()}],"mask-image-radial-to-color":[{"mask-radial-to":_e()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":ne()}],"mask-image-conic-pos":[{"mask-conic":[ei]}],"mask-image-conic-from-pos":[{"mask-conic-from":Nt()}],"mask-image-conic-to-pos":[{"mask-conic-to":Nt()}],"mask-image-conic-from-color":[{"mask-conic-from":_e()}],"mask-image-conic-to-color":[{"mask-conic-to":_e()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Be()}],"mask-repeat":[{mask:He()}],"mask-size":[{mask:Re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Yr,qr]}],filter:[{filter:["","none",Yr,qr]}],blur:[{blur:We()}],brightness:[{brightness:[ei,Yr,qr]}],contrast:[{contrast:[ei,Yr,qr]}],"drop-shadow":[{"drop-shadow":["","none",P,AC,CC]}],"drop-shadow-color":[{"drop-shadow":_e()}],grayscale:[{grayscale:["",ei,Yr,qr]}],"hue-rotate":[{"hue-rotate":[ei,Yr,qr]}],invert:[{invert:["",ei,Yr,qr]}],saturate:[{saturate:[ei,Yr,qr]}],sepia:[{sepia:["",ei,Yr,qr]}],"backdrop-filter":[{"backdrop-filter":["","none",Yr,qr]}],"backdrop-blur":[{"backdrop-blur":We()}],"backdrop-brightness":[{"backdrop-brightness":[ei,Yr,qr]}],"backdrop-contrast":[{"backdrop-contrast":[ei,Yr,qr]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ei,Yr,qr]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ei,Yr,qr]}],"backdrop-invert":[{"backdrop-invert":["",ei,Yr,qr]}],"backdrop-opacity":[{"backdrop-opacity":[ei,Yr,qr]}],"backdrop-saturate":[{"backdrop-saturate":[ei,Yr,qr]}],"backdrop-sepia":[{"backdrop-sepia":["",ei,Yr,qr]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":K()}],"border-spacing-x":[{"border-spacing-x":K()}],"border-spacing-y":[{"border-spacing-y":K()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Yr,qr]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ei,"initial",Yr,qr]}],ease:[{ease:["linear","initial",q,Yr,qr]}],delay:[{delay:[ei,Yr,qr]}],animate:[{animate:["none",Y,Yr,qr]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[G,Yr,qr]}],"perspective-origin":[{"perspective-origin":ie()}],rotate:[{rotate:en()}],"rotate-x":[{"rotate-x":en()}],"rotate-y":[{"rotate-y":en()}],"rotate-z":[{"rotate-z":en()}],scale:[{scale:zt()}],"scale-x":[{"scale-x":zt()}],"scale-y":[{"scale-y":zt()}],"scale-z":[{"scale-z":zt()}],"scale-3d":["scale-3d"],skew:[{skew:rn()}],"skew-x":[{"skew-x":rn()}],"skew-y":[{"skew-y":rn()}],transform:[{transform:[Yr,qr,"","none","gpu","cpu"]}],"transform-origin":[{origin:ie()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ge()}],"translate-x":[{"translate-x":Ge()}],"translate-y":[{"translate-y":Ge()}],"translate-z":[{"translate-z":Ge()}],"translate-none":["translate-none"],accent:[{accent:_e()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:_e()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yr,qr]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yr,qr]}],fill:[{fill:["none",..._e()]}],"stroke-w":[{stroke:[ei,s2,J_,_R]}],stroke:[{stroke:["none",..._e()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},hV=iue(Tue);function Cue(...e){const t=[];e.forEach(r=>{typeof r=="object"&&r.constructor===Object?Object.keys(r).forEach(a=>{r[a]&&t.push(a)}):Array.isArray(r)?t.push(...r):typeof r=="function"?t.push(r()):r&&r.value?t.push(r.value):r&&t.push(r)});const n=[];return t.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.filter(r=>!!r).join(" ")}function rt(...e){return hV(Cue(...e))}const Aue=(e,t,n)=>{const{safeAreas:r}=e;return rt(t==="ios"&&"k-ios",t==="material"&&"k-material","k-app w-full h-full min-h-screen relative",r&&"safe-areas",n)};function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TO.apply(null,arguments)}const pV=e=>{const{component:t="div",className:n,theme:r="material",dark:a=!0,materialTouchRipple:l=!0,iosHoverHighlight:u=!0,safeAreas:i=!0,ref:m,children:b,..._}=e,w=$.useRef(null),M=t,P={..._},j=eV(r),G=Aue({...e,safeAreas:i},j,n);return Ve.createElement(Ble,{theme:j,dark:a,materialTouchRipple:l,iosHoverHighlight:u,autoThemeDetection:!1},Ve.createElement(M,TO({ref:z=>{w.current=z,m&&typeof m=="function"?m(z):m&&(m.current=z)},className:G},P),b))};pV.displayName="App";const xR=(e,t,n)=>{if(typeof e=="string")return e;const r=[e[t],e.common];return n&&e[n]&&(typeof e[n]=="string"?r.push(e[n]):r.push(e[n].common,e[n][t])),r},kue=(e,t,n)=>{const r={},a=["common","ios","material"];return Object.keys(e).forEach(l=>{const u=l==="base"?n:"";if(!(typeof e[l]!="string"&&Object.keys(e[l]).filter(b=>!a.includes(b)).length>0)){r[l]=rt(xR(e[l],t),u);return}r[l]={};const m=xR(e[l],t);r[l].default=rt(m,u),Object.keys(e[l]).filter(b=>!a.includes(b)).forEach(b=>{r[l][b]=rt(m,xR(e[l],t,b),u)})}),r},uo=({ios:e,material:t}={})=>{let r=$.useContext(ow).theme||"ios";return e&&(r="ios"),t&&(r="material"),(a,l)=>kue(a,r,l)},Iue=(e,t)=>({base:{common:"",ios:rt("bg-ios-light-glass shadow-ios-light-glass backdrop-blur-lg touch-none",t("dark:bg-ios-dark-glass dark:shadow-ios-dark-glass")),material:""}}),Xl=({ios:e,material:t}={})=>{let r=$.useContext(ow).theme||"ios";return e&&(r="ios"),t&&(r="material"),r},ds=()=>{const e=$.useContext(ow);return t=>e.dark?t:""},Nue=e=>{requestAnimationFrame(()=>{requestAnimationFrame(e)})},Rue=({getEl:e,zIndex:t=10,opacity:n=1,offset:r=1,enabled:a=!0,data:l={}})=>{const u=()=>typeof a=="function"?a():a,i=()=>{const j=e();if(j&&l.elScale){l.elScale=!1,j.style.scale="";const G=()=>{j.style.transitionDuration="",j.style.transitionTimingFunction="",j.removeEventListener("transitionend",G)};j.addEventListener("transitionend",G)}if(l.lightElWrap){const G=l.lightElWrap;G.style.opacity==="0"?G.remove():(G.addEventListener("transitionend",()=>{G.remove()}),G.style.opacity=0)}},m=j=>{if(l.lightEl){const{x:G,y:z}=j,q=G-l.rect.x,Y=z-l.rect.y;l.lightEl.style.transform=`translate3d(${q}px, ${Y}px, 0)`}},b=j=>{if(!u())return;const G=l,z=e();G.rect=z.getBoundingClientRect();const q=document.createElement("span");q.className="rounded-[inherit]",q.style=`left: ${r}px; top: ${r}px; right: ${r}px; bottom: ${r}px;transition-duration: 300ms; opacity: 0; position: absolute; overflow: hidden; pointer-events: none`;const Y=document.createElement("span"),{width:J,height:ne}=G.rect,ie=(J**2+ne**2)**.5;Y.style.position="absolute",Y.style.zIndex=t,Y.style.width=`${ie*2}px`,Y.style.left=`${-ie}px`,Y.style.height=`${ie*2}px`,Y.style.top=`${-ie}px`,Y.style.borderRadius="50%";const ue="var(--color-ios-hover-highlight)";if(Y.style.backgroundImage=`radial-gradient(circle at center, color-mix(in oklab, ${ue} ${n*100}%, transparent), transparent 50%)`,Y.style.pointerEvents="none",G.lightEl=Y,G.lightElWrap=q,m(j),q.append(Y),z.append(q),j.pointerType!=="mouse"&&j.pointerType!=="mouse"){G.elScale=!0;let oe=1.25;(G.rect.width>60||G.rect.height>60)&&(oe=1.05),z.style.scale=oe,z.style.transitionDuration="300ms",z.style.transitionTimingFunction="ease-in-out"}Nue(()=>{q.style.opacity=1})},_=j=>{u()&&m(j)},w=j=>{i()};return{removeHoverHighlight:i,attachEvents:()=>{const j=e();j&&(j.addEventListener("pointerenter",b),j.addEventListener("pointermove",_),j.addEventListener("pointerleave",w))},detachEvents:()=>{const j=e();j&&(j.removeEventListener("pointerenter",b),j.removeEventListener("pointermove",_),j.removeEventListener("pointerleave",w))}}};function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CO.apply(null,arguments)}const Wp=e=>{const{component:t="div",className:n,highlight:r=!0,ios:a,material:l,children:u,ref:i,...m}=e,b=$.useRef(null),_=t,w={...m},M=Xl(),P=uo({ios:a,material:l}),j=ds(),{iosHoverHighlight:G}=$.useContext(ow),z=$.useRef({}),{attachEvents:q,detachEvents:Y}=Rue({getEl:()=>b.current,enabled:r&&M==="ios"&&G,data:z.current}),J=P(Iue({...e},j),n);return $.useEffect(()=>(q(),()=>Y())),Ve.createElement(_,CO({ref:ne=>{i&&typeof i=="function"?i(ne):i&&(i.current=ne),b.current=ne},className:J.base},w),u)};Wp.displayName="Glass";function fs(e){if(!e||typeof e!="object")return{};const t={};return Object.keys(e).forEach(n=>{e[n]!=null&&(t[n]=e[n])}),t}class Mue{constructor(t,n,r){const a=this;if(!t)return;a.el=t;const{left:l,top:u,width:i,height:m}=t.getBoundingClientRect(),b={x:n-l,y:r-u};let _=Math.max((m**2+i**2)**.5,48);const w=t.classList.contains("k-touch-ripple-inset");w&&(_=Math.max(Math.min(i,m),48));const M=typeof window<"u"&&window.getComputedStyle(t,null).getPropertyValue("overflow")==="hidden";if(!w&&M){const j=((b.x-i/2)**2+(b.y-m/2)**2)**.5,G=(_/2+j)/(_/2);a.rippleTransform=`translate3d(0px, 0px, 0) scale(${G})`}else a.rippleTransform=`translate3d(${-b.x+i/2}px, ${-b.y+m/2}px, 0) scale(1)`;a.rippleWaveEl=document.createElement("span"),a.rippleWaveEl.classList.add("k-touch-ripple-wave"),a.rippleWaveEl.style=`
      width: ${_}px;
      height: ${_}px;
      margin-top:-${_/2}px;
      margin-left:-${_/2}px;
      left:${b.x}px;
      top:${b.y}px; --k-ripple-transform: ${a.rippleTransform}`,t.insertAdjacentElement("afterbegin",a.rippleWaveEl);const P=()=>{a.rippleWaveEl.removeEventListener("animationend",P),a.rippleWaveEl&&(a.rippleWaveEl.classList.contains("k-touch-ripple-wave-out")||(a.rippleWaveEl.classList.add("k-touch-ripple-wave-in"),a.shouldBeRemoved&&a.out()))};return a.rippleWaveEl.addEventListener("animationend",P),a}destroy(){}out(){const t=this,{rippleWaveEl:n}=this;clearTimeout(t.removeTimeout),n.classList.add("k-touch-ripple-wave-out"),t.removeTimeout=setTimeout(()=>{t.destroy()},300);const r=()=>{t.rippleWaveEl.removeEventListener("animationend",r),clearTimeout(t.removeTimeout),t.destroy()};t.rippleWaveEl.addEventListener("animationend",r)}remove(){const t=this;t.shouldBeRemoved||(t.removeTimeout=setTimeout(()=>{t.destroy()},400),t.shouldBeRemoved=!0,t.rippleWaveEl.classList.contains("k-touch-ripple-wave-in")&&t.out())}}const uw=(e,t,n)=>{const r=$.useContext(ow);n||(n=e);const a=$.useRef(null),l=()=>{a.current&&a.current.remove(),a.current=null},u=P=>{a.current=new Mue(e.current,P.pageX,P.pageY)},i=()=>{l()},m=()=>{l()},b=()=>{if(!r.materialTouchRipple)return;const P=n.current;P.addEventListener("pointerdown",u),P.addEventListener("pointermove",i),P.addEventListener("pointerup",m),P.addEventListener("pointercancel",m),P.addEventListener("contextmenu",m)},_=()=>{const P=n.current;P.removeEventListener("pointerdown",u),P.removeEventListener("pointermove",i),P.removeEventListener("pointerup",m),P.removeEventListener("pointercancel",m),P.removeEventListener("contextmenu",m)},w=()=>{!n||!n.current||!t||b()},M=()=>{!n||!n.current||!t||_()};$.useEffect(()=>(w(),()=>M()))},Oue=(e,t)=>({base:{common:`k-badge ${t.text} ${t.bg} inline-flex items-center justify-center rounded-full leading-none`,ios:"font-semibold",material:"font-medium",sm:"text-2xs min-w-4 min-h-4 px-0.5",md:"text-xs min-w-5 min-h-5 px-1.5 py-0.5"}}),Due=(e={})=>({bg:"bg-primary",text:"text-white",...fs(e)});function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AO.apply(null,arguments)}const mV=e=>{const{component:t="span",className:n,colors:r,small:a,ios:l,material:u,children:i,ref:m,...b}=e,_=$.useRef(null),w=t,M={...b},P=uo({ios:l,material:u}),j=Due(r),G=a?"sm":"md",z=P(Oue(e,j),n);return Ve.createElement(w,AO({ref:q=>{_.current=q,m&&typeof m=="function"?m(q):m&&(m.current=q)},className:z.base[G]},M),i)};mV.displayName="Badge";const Lue=(e,t)=>{const{inset:n,nested:r,strong:a,outline:l}=e;return{base:{common:rt("k-block text-sm z-10 relative",!n&&!r&&l&&"hairline-t hairline-b",n&&l&&"border",n&&"px-4",!n&&"pl-safe-4 pr-safe-4",!r&&"my-8",(a||l)&&"py-4"),ios:rt(t.textIos,a&&t.strongBgIos,n&&l&&t.outlineIos),material:rt(t.textMaterial,a&&t.strongBgMaterial,n&&l&&t.outlineMaterial)},inset:{common:"ml-safe-4 mr-safe-4 overflow-hidden",ios:"rounded-3xl",material:"rounded-2xl"}}},Pue=(e={},t)=>({outlineIos:rt("border-black/20",t("dark:border-white/15")),outlineMaterial:rt("border-md-light-outline",t("border-md-dark-outline")),strongBgIos:rt("bg-ios-light-surface-1",t("dark:bg-ios-dark-surface-1")),strongBgMaterial:rt("bg-md-light-surface-1",t("dark:bg-md-dark-surface-1")),textIos:"",textMaterial:rt("text-md-light-on-surface",t("dark:text-md-dark-on-surface")),...fs(e)}),TI=(e,t,n)=>{const r={};return Object.keys(t).forEach(a=>{r[a]=typeof t[a]>"u"?e==="ios"?n[`${a}Ios`]:n[`${a}Material`]:t[a]}),r};function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kO.apply(null,arguments)}const gV=e=>{const{component:t="div",className:n,colors:r,inset:a,insetIos:l,insetMaterial:u,strong:i,strongIos:m,strongMaterial:b,outline:_,outlineIos:w,outlineMaterial:M,nested:P,ios:j,material:G,ref:z,children:q,...Y}=e,J=$.useRef(null),ne=t,ie={...Y},ue=Xl({ios:j,material:G}),oe=uo({ios:j,material:G}),K=ds(),se=Pue(r,K),{strong:pe,outline:ve,inset:Te}=TI(ue,{strong:i,outline:_,inset:a},e),Me=oe(Lue({...e,inset:Te,strong:pe,outline:ve},se)),xe=rt(Me.base,Te&&Me.inset,n);return Ve.createElement(ne,kO({ref:Se=>{J.current=Se,z&&typeof z=="function"?z(Se):z&&(z.current=Se)},className:xe},ie),q)};gV.displayName="Block";const Fue=(e,t)=>{const{medium:n,large:r}=e;return{base:{common:"k-block-title pl-safe-4 pr-safe-4 mt-8 flex justify-between items-center -mb-2 has-[+:is(.k-block,.k-block-header,.k-block-footer,.k-list,.k-table)]:-mb-6",ios:rt(`font-semibold ${t.textIos}`,r&&rt(t.largeTextIos,"text-[1.375rem]"),n&&rt(t.mediumTextIos,"text-[1.25rem]"),!n&&!r&&"text-[17px]"),material:rt(`font-medium ${t.textMaterial}`,r&&rt(t.largeTextMaterial,"text-[1.375rem]"),n&&rt(t.mediumTextMaterial,"text-[1rem]"),!n&&!r&&"text-[0.875rem]")}}},Bue=(e={},t)=>({textIos:rt("text-black/60",t("dark:text-white/60")),textMaterial:rt("text-md-light-primary",t("dark:text-md-dark-primary")),mediumTextIos:rt("text-black",t("dark:text-white")),mediumTextMaterial:"",largeTextIos:rt("text-black",t("dark:text-white")),largeTextMaterial:"",...fs(e)});function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(null,arguments)}const yV=e=>{const{component:t="div",className:n,colors:r,medium:a,large:l,ios:u,material:i,children:m,ref:b,..._}=e,w=$.useRef(null),M=t,P={..._},j=uo({ios:u,material:i}),G=ds(),z=Bue(r,G),q=j(Fue({...e},z),n);return Ve.createElement(M,IO({ref:Y=>{w.current=Y,b&&typeof b=="function"?b(Y):b&&(b.current=Y)},className:q.base},P),m)};yV.displayName="BlockTitle";function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NO.apply(null,arguments)}const $ue=e=>Ve.createElement("svg",NO({xmlns:"http://www.w3.org/2000/svg",width:"8",height:"14",viewBox:"0 0 12 20",fill:"currentcolor"},e),Ve.createElement("path",{d:"M11.518406,10.5648622 C11.4831857,10.6163453 11.4426714,10.6653692 11.3968592,10.7111814 L2.5584348,19.5496058 C1.9753444,20.1326962 1.03186648,20.1345946 0.44199608,19.5447242 C-0.14379032,18.9589377 -0.14922592,18.0146258 0.43711448,17.4282854 L7.87507783,9.9903221 L0.4431923,2.5584366 C-0.1398981,1.9753462 -0.1417965,1.0318683 0.448074,0.4419979 C1.0338604,-0.1437886 1.9781723,-0.1492241 2.56451268,0.4371163 L11.4029371,9.2755407 C11.7556117,9.6282153 11.7969345,10.1725307 11.518406,10.5648622 Z"})),jue=(e,t,n)=>{const{inline:r,segmented:a,segmentedStrong:l,segmentedActive:u,disabled:i}=e;return{base:{common:rt("k-button flex text-center justify-center items-center appearance-none py-1 transition-colors focus:outline-none cursor-pointer select-none overflow-hidden z-10 relative",r?"inline-flex":"w-full flex",i&&"pointer-events-none",l&&u&&"k-segmented-strong-button-active"),ios:"duration-100 font-medium px-2",material:"duration-300 font-medium px-4",square:{ios:a&&!l?"first:rounded-s last:rounded-e":"rounded",material:a&&!l?"first:rounded-lg-s last:rounded-lg-e":"rounded-lg"},rounded:a&&!l?"":"rounded-full"},style:{fill:{common:rt(i&&rt(t.disabledBg,t.disabledText)),ios:rt(i?rt(t.disabledBg,t.disabledText):`${t.fillTextIos} ${t.fillBgIos}`),material:rt(i?rt(t.disabledBg,t.disabledText):rt(t.fillTextMaterial,t.fillBgMaterial,t.fillTouchRipple))},outline:{common:rt(i?rt(t.disabledText,t.disabledBorder):t.touchRipple),ios:rt(!a&&"border-2",!i&&!a&&t.outlineBorderIos,!i&&rt(t.textIos,t.outlineBgIos)),material:rt(!a&&"border",!i&&!a&&t.outlineBorderMaterial,!i&&rt(t.textMaterial,t.outlineBgMaterial))},clear:{common:rt(i?t.disabledText:t.touchRipple),ios:!i&&rt(t.textIos,t.clearBgIos),material:!i&&rt(t.textMaterial,t.clearBgMaterial)},tonal:{common:i?rt(t.disabledBg,t.disabledText):rt(t.touchRipple),ios:!i&&rt(t.tonalTextIos,t.tonalBgIos),material:!i&&rt(t.tonalTextMaterial,t.tonalBgMaterial)},segmentedStrong:rt("active:bg-black/10",n("dark:active:bg-white/5 dark:touch-ripple-white")),segmentedStrongActive:{ios:rt("duration-200",t.segmentedStrongTextIos),material:rt("duration-0",t.segmentedStrongTextMaterial)}},size:{small:{ios:"text-sm h-7",material:"text-sm h-8"},medium:{common:"text-sm",ios:"h-8.5 text-[15px]",material:"h-10"},large:{ios:"h-12 text-[17px] font-semibold",material:"h-12"}},raised:"shadow active:shadow-lg"}},zue=(e={},t)=>({textIos:"text-primary",textMaterial:rt("text-md-light-primary","dark:text-md-dark-primary"),fillTextIos:rt("text-white"),fillTextMaterial:rt("text-md-light-on-primary",t("dark:text-md-dark-on-primary")),fillBgIos:"bg-primary active:bg-ios-primary-shade",fillBgMaterial:rt("bg-md-light-primary",t("dark:bg-md-dark-primary")),fillTouchRipple:rt("touch-ripple-white","dark:touch-ripple-primary"),clearBgIos:"bg-transparent active:bg-primary/15",clearBgMaterial:"bg-transparent",outlineBgIos:"bg-transparent active:bg-primary/15",outlineBgMaterial:"bg-transparent",outlineBorderIos:"border-primary",outlineBorderMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),segmentedStrongTextIos:"text-black",segmentedStrongTextMaterial:"",tonalBgIos:"bg-primary/15 active:bg-primary/25",tonalBgMaterial:rt("bg-md-light-secondary-container",t("dark:bg-md-dark-secondary-container")),tonalTextIos:"text-primary",tonalTextMaterial:rt("text-md-light-on-secondary-container",t("dark:text-md-dark-on-secondary-container")),touchRipple:"touch-ripple-primary",disabledText:rt("text-black/30",t("dark:text-white/30")),disabledBg:rt("bg-black/10",t("dark:bg-white/10")),disabledBorder:rt("border-black/10",t("dark:border-white/10")),...fs(e)});function RO(){return RO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RO.apply(null,arguments)}const yS=e=>{const{component:t="button",className:n,colors:r,ios:a,material:l,disabled:u,href:i,outline:m,outlineIos:b,outlineMaterial:_,clear:w,clearIos:M,clearMaterial:P,tonal:j,tonalIos:G,tonalMaterial:z,rounded:q,roundedIos:Y,roundedMaterial:J,small:ne,smallIos:ie,smallMaterial:ue,large:oe,largeIos:K,largeMaterial:se,raised:pe,raisedIos:ve,raisedMaterial:Te,inline:Me,segmented:xe,segmentedStrong:Se,segmentedActive:he,children:we,ref:_e,...Be}=e,He=$.useRef(null);let Re=t;typeof e.component>"u"&&(i||i==="")&&(Re="a");const je={href:i,...Be},Ze=Xl({ios:a,material:l}),Qe=uo({ios:a,material:l}),Pe=ds();uw(He,Ze==="material");const St=TI(Ze,{outline:m,clear:w,tonal:j,rounded:q,small:ne,large:oe,raised:pe},e),Nt=St.large?"large":St.small?"small":"medium";let We=St.outline?"outline":St.clear||xe&&!he?"clear":St.tonal?"tonal":"fill";Se&&(We="segmentedStrong"),Se&&he&&(We="segmentedStrongActive");const en=zue(r,Pe),zt=Qe(jue({...e,...St},en,Pe)),rn=rt(zt.base[St.rounded?"rounded":"square"],zt.style[We],zt.size[Nt],St.raised&&zt.raised,n);return Ve.createElement(Re,RO({ref:Ge=>{He.current=Ge,_e&&typeof _e=="function"?_e(Ge):_e&&(_e.current=Ge)},className:rn,disabled:u,role:"button",tabIndex:"0"},je),we)};yS.displayName="Button";const Uue=(e,t,n)=>{const{headerDivider:r,footerDivider:a,contentWrapPadding:l}=e;return{base:{common:rt("k-card overflow-hidden my-4 mx-safe-4",n),ios:rt("rounded-3xl",t.bgIos,t.textIos),material:rt("rounded-2xl",t.bgMaterial,t.textMaterial),plain:"",raised:"shadow",outline:{common:rt("border"),ios:t.outlineIos,material:t.outlineMaterial}},header:{common:rt(r&&"border-b","p-4"),ios:rt(r&&t.outlineIos,e.headerFontSizeIos),material:rt(r&&t.outlineMaterial,e.headerFontSizeMaterial)},content:rt(l,"text-sm"),footer:{common:rt(r&&"border-t","text-sm p-4"),ios:rt(t.footerTextIos,a&&t.outlineIos),material:rt(t.footerTextMaterial,a&&t.outlineMaterial)}}},Gue=(e={},t)=>({textIos:rt(""),textMaterial:rt("text-md-light-on-surface",t("dark:text-md-dark-on-surface")),bgIos:rt("bg-ios-light-surface-1",t("dark:bg-ios-dark-surface-1")),bgMaterial:rt("bg-md-light-surface-1",t("dark:bg-md-dark-surface-1")),footerTextIos:rt("text-black/55",t("dark:text-white/55")),footerTextMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),outlineIos:rt("border-black/20",t("dark:border-white/20")),outlineMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),...fs(e)});function MO(){return MO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},MO.apply(null,arguments)}const vV=e=>{const{component:t="div",className:n,colors:r,header:a,footer:l,ios:u,material:i,headerFontSizeIos:m="text-[17px]",headerFontSizeMaterial:b="text-[22px]",contentWrap:_=!0,contentWrapPadding:w="p-4",raised:M,raisedIos:P,raisedMaterial:j,outline:G,outlineIos:z,outlineMaterial:q,headerDivider:Y=!1,footerDivider:J=!1,children:ne,ref:ie,...ue}=e,oe=$.useRef(null),K=t,se={...ue},pe=Xl(),ve=uo({ios:u,material:i}),Te=ds(),Me=Gue(r,Te),he=(typeof G>"u"?pe==="ios"?z:q:G)?"outline":(typeof M>"u"?pe==="ios"?P:j:M)?"raised":"plain",we=ve(Uue({...e,contentWrapPadding:w,headerDivider:Y,footerDivider:J,headerFontSizeIos:m,headerFontSizeMaterial:b},Me),n);return Ve.createElement(K,MO({ref:_e=>{oe.current=_e,ie&&typeof ie=="function"?ie(_e):ie&&(ie.current=_e)},className:we.base[he]},se),a&&Ve.createElement("div",{className:we.header},a),_?Ve.createElement("div",{className:we.content},ne):ne,l&&Ve.createElement("div",{className:we.footer},l))};vV.displayName="Card";const Hue=(e,t,n)=>({base:rt("k-checkbox cursor-pointer inline-flex align-middle relative",n("dark:touch-ripple-white")),iconWrap:{common:rt("flex items-center justify-center text-white"),ios:"w-5.5 h-5.5 rounded-full border",material:rt("w-4.5 h-4.5 rounded-sm border-2",n("dark:text-black")),notChecked:{ios:t.borderIos,material:t.borderMaterial},checked:{ios:`${t.bgCheckedIos} ${t.borderCheckedIos}`,material:`${t.bgCheckedMaterial} ${t.borderCheckedMaterial}`}},icon:{notChecked:"opacity-0",checked:"opacity-100"},indeterminateIcon:{common:rt("bg-white w-3/4"),ios:"h-0.5 rounded-full",material:rt("h-0.5",n("dark:bg-black"))},input:"hidden"}),Vue=(e={},t)=>({borderIos:rt("border-black/30",t("dark:border-white/30")),borderMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),bgCheckedIos:"bg-primary",bgCheckedMaterial:rt("bg-md-light-primary",t("dark:bg-md-dark-primary")),borderCheckedIos:"border-primary",borderCheckedMaterial:rt("border-md-light-primary",t("dark:border-md-dark-primary")),...fs(e)});function tk(){return tk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tk.apply(null,arguments)}const que=e=>{const{ios:t,material:n,fill:r,...a}=e;return Xl({ios:t,material:n})==="ios"?Ve.createElement("svg",tk({xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"currentcolor"},a),Ve.createElement("path",{fill:r||"currentColor",fillRule:"evenodd",d:"M10.6461792,0.119820016 C11.0022676,0.346673312 11.1070333,0.819240884 10.88018,1.17532923 L5.59004012,9.47918548 C5.44456028,9.70754308 5.19802823,9.83254199 4.94596825,9.83309245 C4.59813173,9.83364386 4.39457446,9.67360825 4.28105047,9.53831563 L1.17887189,5.84128316 C0.907480501,5.5178515 0.949667479,5.03565214 1.27309914,4.76426075 C1.59653081,4.49286936 2.07873017,4.53505633 2.35012156,4.858488 L4.8346263,7.81909046 L9.59067001,0.353820775 C9.81752331,-0.00226757161 10.2900909,-0.10703328 10.6461792,0.119820016 Z",transform:"translate(4 5.483)"})):Ve.createElement("svg",tk({xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 18 14",fill:"currentcolor"},a),Ve.createElement("polygon",{fill:r,points:"6 11.17 1.83 7 .41 8.41 6 14 18 2 16.59 .59"}))};function OO(){return OO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OO.apply(null,arguments)}const bV=e=>{const{component:t="label",className:n,colors:r,defaultChecked:a,checked:l,indeterminate:u,name:i,value:m,disabled:b,readOnly:_,onChange:w,ios:M,material:P,children:j,ref:G,...z}=e,q=$.useRef(null),Y=$.useRef(null),J=t,ne={...z},ie=Xl({ios:M,material:P}),ue=uo({ios:M,material:P}),oe=ds();uw(Y,ie==="material");const K=Vue(r,oe),se=l||a&&!w||u?"checked":"notChecked",pe=ue(Hue(e,K,oe),n);return $.useEffect(()=>{q.current&&(q.current.indeterminate=!!u)},[u]),Ve.createElement(J,OO({ref:ve=>{Y.current=ve,G&&typeof G=="function"?G(ve):G&&(G.current=ve)},className:pe.base},ne),Ve.createElement("input",{ref:q,type:"checkbox",name:i,value:m,disabled:b,readOnly:_,checked:l,defaultChecked:a,onChange:w,className:pe.input}),Ve.createElement("i",{className:pe.iconWrap[se]},u?Ve.createElement("span",{className:pe.indeterminateIcon}):Ve.createElement(que,{ios:M,material:P,className:pe.icon[se]})),j)};bV.displayName="Checkbox";function nk(){return nk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nk.apply(null,arguments)}const DO=({theme:e,...t})=>e==="ios"?Ve.createElement("svg",nk({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentcolor"},t),Ve.createElement("path",{d:"M14,0 C21.7319865,0 28,6.2680135 28,14 C28,21.7319865 21.7319865,28 14,28 C6.2680135,28 0,21.7319865 0,14 C0,6.2680135 6.2680135,0 14,0 Z M18.9393398,6.93933983 L14,11.8786797 L9.06066017,6.93933983 L6.93933983,9.06066017 L11.8786797,14 L6.93933983,18.9393398 L9.06066017,21.0606602 L14,16.1213203 L18.9393398,21.0606602 L21.0606602,18.9393398 L16.1213203,14 L21.0606602,9.06066017 L18.9393398,6.93933983 Z"})):Ve.createElement("svg",nk({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),Ve.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C6.47 2 2 6.47 2 12C2 17.53 6.47 22 12 22C17.53 22 22 17.53 22 12C22 6.47 17.53 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM12 10.59L15.59 7L17 8.41L13.41 12L17 15.59L15.59 17L12 13.41L8.41 17L7 15.59L10.59 12L7 8.41L8.41 7L12 10.59Z",fill:"currentcolor"})),Yue=(e,t,n)=>{const{titleFontSizeMaterial:r,titleFontSizeIos:a,sizeMaterial:l}=e;return{base:{common:rt("k-dialog left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 z-40 max-h-full overflow-hidden duration-400 fixed",n),ios:rt("rounded-4xl max-w-full w-75",t.bgIos),material:rt("rounded-[1.75rem] p-6 max-w-[90%] w-78",l,t.bgMaterial),opened:"",closed:"scale-[0.85] opacity-0 pointer-events-none"},contentWrap:{common:"flex flex-col items-center justify-center",material:"gap-3",ios:rt("p-6 gap-3 relative")},title:{common:rt("w-full"),ios:rt(t.titleIos,a,"font-semibold"),material:rt(t.titleMaterial,r)},content:{common:rt("text-sm w-full"),ios:rt(t.contentTextIos),material:rt(t.contentTextMaterial)},buttons:{common:"flex items-center",ios:rt("justify-center p-3.5 pt-0 gap-2"),material:rt("justify-end pt-6 gap-2")},backdrop:{common:"fixed z-40 w-full h-full left-0 top-0 bg-black/50 duration-400",opened:"",closed:"opacity-0 pointer-events-none"}}},Wue=(e={},t)=>({bgIos:"",bgMaterial:rt("bg-md-light-surface-3",t("dark:bg-md-dark-surface-3")),titleIos:"",titleMaterial:rt("text-md-light-on-surface",t("dark:text-md-dark-on-surface")),contentTextIos:"",contentTextMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),...fs(e)});function LO(){return LO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LO.apply(null,arguments)}const _V=e=>{const{component:t="div",className:n,colors:r,opened:a,backdrop:l=!0,onBackdropClick:u,titleFontSizeIos:i="text-[17px]",titleFontSizeMaterial:m="text-[24px]",title:b,content:_,buttons:w,ios:M,material:P,children:j,ref:G,...z}=e,q=$.useRef(null),Y=a?"opened":"closed",J=t,ne={...z},ie=uo({ios:M,material:P}),ue=ds(),oe=Wue(r,ue),K=ie(Yue({...e,titleFontSizeIos:i,titleFontSizeMaterial:m},oe),n);return Ve.createElement(Ve.Fragment,null,l&&Ve.createElement("div",{className:K.backdrop[Y],onClick:u}),Ve.createElement(Wp,LO({component:J,highlight:!1,ref:se=>{q.current=se,G&&typeof G=="function"?G(se):G&&(G.current=se)},className:K.base[Y]},ne),Ve.createElement("div",{className:K.contentWrap},b&&Ve.createElement("div",{className:K.title},b),(_||j)&&Ve.createElement("div",{className:K.content},_,j)),w&&Ve.createElement("div",{className:K.buttons},w)))};_V.displayName="Dialog";function rk(){return rk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rk.apply(null,arguments)}const xV=e=>{const{component:t="button",className:n,ios:r,material:a,disabled:l,strong:u,strongIos:i,strongMaterial:m,children:b,ref:_,...w}=e,M=$.useRef(null),P={...w},j=Xl({ios:r,material:a}),G=typeof u>"u"?j==="ios"?i:m:u;return j==="ios"?Ve.createElement(yS,rk({component:t,ref:z=>{M.current=z,_&&typeof _=="function"?_(z):_&&(_.current=z)},large:!0,rounded:!0,tonal:!G,className:n,disabled:l},P),b):Ve.createElement(yS,rk({component:t,inline:!0,rounded:!0,disabled:l,clear:!G,className:n,ref:z=>{M.current=z,_&&typeof _=="function"?_(z):_&&(_.current=z)}},P),b)};xV.displayName="DialogButton";const Zue=(e,t,n,r)=>({base:{common:rt("k-fab flex items-center justify-center gap-2 cursor-pointer overflow-hidden select-none",r),ios:rt(`h-11 duration-100 rounded-full shadow-ios-light-glass-fab ${t.bgIos} ${t.activeBgIos} ${t.textIos}`,n("dark:shadow-ios-dark-glass-fab")),material:`duration-300 rounded-2xl shadow ${t.bgMaterial} ${t.activeBgMaterial} ${t.textMaterial} ${t.touchRipple}`,iconOnly:{ios:"w-11",material:"w-14 h-14"},withText:{common:"px-4",material:"h-14"}},text:{common:"text-sm",ios:"font-semibold uppercase",material:"font-medium"},icon:{common:"flex items-center justify-center size-6"}}),Xue=(e={},t)=>({bgIos:rt("bg-primary",t("dark:bg-ios-primary-shade/50")),bgMaterial:rt("bg-md-light-primary-container",t("dark:bg-md-dark-primary-container")),activeBgIos:"",activeBgMaterial:"",textIos:"text-white",textMaterial:rt("text-md-light-on-primary-container",t("dark:text-md-dark-on-primary-container")),touchRipple:rt("touch-ripple-primary",t("dark:touch-ripple-white")),...fs(e)});function PO(){return PO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},PO.apply(null,arguments)}const EV=e=>{const{component:t="a",className:n,colors:r,href:a,text:l,textPosition:u="after",icon:i,ios:m,material:b,children:_,ref:w,...M}=e,P=$.useRef(null),j=t,G={...M},z=Xl({ios:m,material:b}),q=uo({ios:m,material:b}),Y=ds();uw(P,z==="material");const J=Xue(r,Y),ne=q(Zue(e,J,Y),n);return Ve.createElement(Wp,PO({component:j,className:l?ne.base.withText:ne.base.iconOnly,href:a,ref:ie=>{P.current=ie,w&&typeof w=="function"?w(ie):w&&(w.current=ie)},role:"button",tabIndex:"0"},G),l&&u==="before"&&Ve.createElement("span",{className:ne.text},l),i&&Ve.createElement("span",{className:ne.icon},i),l&&u==="after"&&Ve.createElement("span",{className:ne.text},l),_)};EV.displayName="Fab";const Kue=(e,{textColor:t,needsTouchRipple:n})=>{const{iconOnly:r,tabbar:a,tabbarLabels:l,tabbarIcons:u}=e;return{base:{common:rt("k-link",!a&&t,"inline-flex gap-1 justify-center items-center cursor-pointer select-none",n&&"touch-ripple-primary relative z-10"),ios:rt(!a&&"active:opacity-50 duration-300"),material:!a&&rt(n?"":"active:opacity-55")},tabbar:{common:rt("w-full h-full duration-300 transition-colors relative"),ios:rt("px-4 truncate",!u&&l&&"md:px-8",u&&l&&"md:min-w-24",u&&!l&&"md:min-w-12"),material:"font-medium text-sm z-10",active:"k-tabbar-link-active",inactive:""},toolbar:{common:rt("h-full",r&&"k-touch-ripple-inset"),ios:rt(!r&&"px-4 truncate",r&&"aspect-square"),material:"px-3 text-sm font-medium max-h-12"},navbar:{common:rt("h-full max-h-12",r&&"k-touch-ripple-inset"),ios:rt(!r&&"px-4",r&&"aspect-square"),material:"px-3"}}},Que=(e={},t)=>({textIos:"text-primary",textMaterial:rt("text-md-light-primary",t("dark:text-md-dark-primary")),navbarTextIos:"",navbarTextMaterial:"",toolbarTextIos:"",toolbarTextMaterial:rt("text-md-light-primary",t("dark:text-md-dark-primary")),...fs(e)}),wV=$.createContext({tabbarLabels:!0,tabbarIcons:!0,tabbar:!1,toolbar:!1}),SV=()=>$.useContext(wV),TV=$.createContext({navbar:!1}),CV=()=>$.useContext(TV);function FO(){return FO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FO.apply(null,arguments)}const AV=e=>{const{component:t="a",className:n,colors:r,iconOnly:a,linkProps:l={},tabbarActive:u,ios:i,material:m,onClick:b,children:_,ref:w,...M}=e,{navbar:P}=CV(),{toolbar:j,tabbar:G,tabbarLabels:z,tabbarIcons:q}=SV(),Y=$.useRef(null),J=t,ne={...l,...M},ie=Xl({ios:i,material:m}),ue=uo({ios:i,material:m}),oe=ds(),K=ie==="material"&&(j||G||P);uw(Y,K);const se=Que(r,oe),pe=P?ie==="material"?se.navbarTextMaterial:se.navbarTextIos:j?ie==="material"?se.toolbarTextMaterial:se.toolbarTextIos:ie==="material"?se.textMaterial:se.textIos,ve=G&&!u?se.tabbarInactive:pe,Te=u?"active":"inactive",Me=ue(Kue({...e,tabbarLabels:z,tabbarIcons:q,tabbar:G},{textColor:ve,needsTouchRipple:K})),xe=rt(Me.base,j&&Me.toolbar,P&&Me.navbar,G&&Me.tabbar[Te],n);return Ve.createElement(J,FO({ref:Se=>{Y.current=Se,w&&typeof w=="function"?w(Se):w&&(w.current=Se)},className:xe},ne,{role:"link",tabIndex:"0",onClick:b}),_)};AV.displayName="Link";const Jue=(e,t)=>{const{nested:n,inset:r,strong:a,outline:l}=e;return{base:{common:rt("k-list",!n&&"my-8",!r&&!n&&l&&"hairline-t hairline-b",r&&l&&"border","z-10 relative"),ios:rt(a&&t.strongBgIos,r&&l&&t.outlineIos),material:rt(a&&t.strongBgMaterial,r&&l&&t.outlineMaterial)},ul:{common:rt(r&&"no-safe-areas","last-child-hairline-b-none")},inset:{common:"ml-safe-4 mr-safe-4 overflow-hidden",ios:"rounded-3xl",material:"rounded-2xl"},menuList:{common:"py-1"}}},ece=(e={},t)=>({outlineIos:rt("border-black/20",t("dark:border-white/15")),outlineMaterial:rt("border-md-light-outline",t("border-md-dark-outline")),strongBgIos:rt("bg-ios-light-surface-1",t("dark:bg-ios-dark-surface-1")),strongBgMaterial:rt("bg-md-light-surface-1",t("dark:bg-md-dark-surface-1")),...fs(e)}),kV=Ve.createContext({dividers:!1,nested:!1});function BO(){return BO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BO.apply(null,arguments)}const IV=e=>{const{component:t="div",className:n,colors:r,nested:a,menuList:l,dividers:u,dividersIos:i=!0,dividersMaterial:m=!1,inset:b,insetIos:_,insetMaterial:w,strong:M,strongIos:P,strongMaterial:j,outline:G,outlineIos:z,outlineMaterial:q,ios:Y,material:J,children:ne,ref:ie,...ue}=e,oe=$.useRef(null),K=t,se={...ue},pe=Xl(),ve=uo({ios:Y,material:J}),Te=ds(),{strong:Me,outline:xe,inset:Se,dividers:he}=TI(pe,{strong:M,outline:G,inset:b,dividers:u},{strongIos:P,strongMaterial:j,outlineIos:z,outlineMaterial:q,insetIos:_,insetMaterial:w,dividersIos:i,dividersMaterial:m,...e}),we=ece(r,Te),_e=ve(Jue({...e,inset:Se,strong:Me,outline:xe},we)),Be=rt(_e.base,Se&&_e.inset,l&&_e.menuList,n);return Ve.createElement(kV.Provider,{value:{nested:a,dividers:he}},Ve.createElement(K,BO({ref:He=>{oe.current=He,ie&&typeof ie=="function"?ie(He):ie&&(ie.current=He)},className:Be},se),Ve.createElement("ul",{className:_e.ul},ne)))};IV.displayName="List";const tce=()=>$.useContext(kV),nce=(e,t,{isMediaItem:n,theme:r,textColor:a,needsTouchRipple:l,isMenuListItemActive:u,autoStrongTitle:i,nested:m},b)=>{const{menuListItem:_,dividers:w,mediaClassName:M="",mediaClass:P="",innerClassName:j="",innerClass:G="",contentClassName:z="",contentClass:q="",titleWrapClassName:Y="",titleWrapClass:J="",titleFontSizeIos:ne,titleFontSizeMaterial:ie,strongTitle:ue,contacts:oe}=e;return{base:{common:rt("k-list-item",_?`${a} py-1`:"",b),material:oe&&"[&:nth-child(2)]:-mt-12"},itemContent:{common:rt(`flex items-center ${z||q}`),ios:rt(!_&&rt(t.primaryTextIos,m?"ps-4":"ps-safe-4"),_&&"rounded-2xl ml-safe-2 mr-safe-2 ps-2"),material:rt(!_&&rt(t.primaryTextMaterial,n?"ml-safe-2 mr-safe-2 rounded-2xl ps-2":"ps-safe-4",oe&&"ml-10"),_&&"rounded-full min-h-[3.5rem] ml-safe-4 mr-safe-4 ps-4"),link:rt("duration-300 active:duration-0 cursor-pointer select-none",w&&r==="ios"&&"active:hairline-transparent",l&&rt("relative overflow-hidden z-10",t.touchRipple),rt(u?r==="ios"?t.menuListItemActiveBgIos:t.menuListItemActiveBgMaterial:_?r==="ios"?t.menuListItemBgIos:t.menuListItemBgMaterial:r==="ios"?t.activeBgIos:t.activeBgMaterial))},media:{common:`shrink-0 flex ${M||P}`,ios:"py-2 me-4",material:rt("py-3",_?"me-3":"me-4")},inner:{common:rt("w-full relative",!_&&w&&"hairline-b",j||G),ios:rt("py-3 pe-safe-4"),material:rt("py-3",n&&!_?"pe-2":"pe-safe-4")},titleWrap:{common:rt(`flex justify-between items-center ${Y||J}`),ios:rt(!_&&ne,!_&&"min-h-7"),material:rt(!_&&ie)},title:{common:"shrink",menuListItem:rt("text-sm",ue===!0||i?"font-semibold":"font-medium"),strong:{common:"",ios:"font-semibold",material:"font-medium"}},after:{common:rt("shrink-0 ms-auto ps-1 flex items-center gap-1"),ios:t.secondaryTextIos,material:rt(t.secondaryTextMaterial,"text-sm")},chevron:"opacity-20 shrink-0 ms-3 rtl:rotate-180",subtitle:"text-sm",text:{common:rt("text-sm line-clamp-2"),ios:t.secondaryTextIos,material:t.secondaryTextMaterial},header:{common:"text-xs mb-0.5",ios:t.secondaryTextIos,material:t.secondaryTextMaterial},footer:{common:rt("text-xs mt-0.5"),ios:t.secondaryTextIos,material:t.secondaryTextMaterial},groupTitle:{common:rt("pl-safe-4 pr-safe-4 py-1 flex items-center z-20"),ios:`h-8${w?" hairline-t":""} -mt-px ${ne} ${t.secondaryTextIos} ${t.groupTitleBgIos} ${oe&&rt("font-semibold top-safe-15 sticky",t.groupTitleContactsTextIos,t.groupTitleContactsBgIos)}`,material:`h-12 ${ie} ${t.secondaryTextMaterial} ${t.groupTitleBgMaterial} ${oe&&rt("pointer-events-none overflow-visible h-12 box-border text-xl font-medium flex max-w-full items-center px-4 top-safe-16 sticky",t.groupTitleContactsTextMaterial,t.groupTitleContactsBgMaterial)}`}}},rce=(e={},t)=>({primaryTextIos:rt("text-black",t("dark:text-white")),primaryTextMaterial:rt("text-md-light-on-surface",t("dark:text-md-dark-on-surface")),secondaryTextIos:rt("text-black/55",t("dark:text-white/55")),secondaryTextMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),activeBgIos:rt("active:not-[:has(.k-toggle:active)]:bg-black/10",t("dark:active:not-[:has(.k-toggle:active)]:bg-white/10")),activeBgMaterial:"",groupTitleBgIos:rt("bg-ios-light-surface-variant",t("dark:bg-ios-dark-surface-variant")),groupTitleBgMaterial:rt("bg-md-light-surface-2",t("dark:bg-md-dark-surface-2")),menuListItemTextIos:rt("text-black",t("dark:text-white")),menuListItemTextMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),menuListItemBgIos:rt("active:bg-black/10",t("dark:active:bg-white/10")),menuListItemBgMaterial:rt("bg-md-light-surface-1",t("dark:bg-md-dark-surface-1")),menuListItemActiveTextIos:rt("text-primary",t("dark:text-white")),menuListItemActiveTextMaterial:rt("text-md-light-on-secondary-container",t("dark:text-md-dark-on-secondary-container")),menuListItemActiveBgIos:rt("bg-primary/15",t("dark:bg-primary")),menuListItemActiveBgMaterial:rt("bg-md-light-secondary-container",t("dark:bg-md-dark-secondary-container")),touchRipple:rt("touch-ripple-black",t("dark:touch-ripple-white")),groupTitleContactsTextIos:rt("text-black/90",t("dark:text-white/90")),groupTitleContactsTextMaterial:rt("text-md-light-primary",t("dark:text-md-dark-primary")),groupTitleContactsBgIos:rt(t("dark:bg-[#323234]")),groupTitleContactsBgMaterial:rt("bg-transparent",t("dark:bg-transparent")),...fs(e)});function ak(){return ak=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ak.apply(null,arguments)}const NV=e=>{const{component:t="li",colors:n,className:r,mediaClassName:a="",innerClassName:l="",innerChildren:u,contentClassName:i="",contentChildren:m,titleWrapClassName:b="",titleFontSizeIos:_="text-[17px]",titleFontSizeMaterial:w="text-[16px]",title:M,subtitle:P,text:j,after:G,media:z,header:q,footer:Y,menuListItem:J,menuListItemActive:ne,groupTitle:ie,strongTitle:ue="auto",label:oe,chevron:K=void 0,chevronIos:se=!0,chevronMaterial:pe=!0,chevronIcon:ve,href:Te,target:Me,link:xe,linkComponent:Se="a",linkProps:he={},dividers:we,contacts:_e,ios:Be,material:He,children:Re,ref:je,...Ze}=e,Qe=$.useRef(null),Pe=$.useRef(null),St=t,Nt={...Ze},We=tce(),en=typeof we>"u"?We?.dividers:we,zt=Xl({ios:Be,material:He}),rn=uo({ios:Be,material:He}),Ge=ds(),kn=typeof K>"u"?zt==="ios"?se:pe:K,_n=rce(n,Ge),Lt=J&&ne,pn=_n[`${Lt?"menuListItemActiveText":J?"menuListItemText":"text"}${zt==="ios"?"Ios":"Material"}`],Tn=!!Te||Te===""||J||xe,tr=!!oe,Vt=zt==="material"&&(tr||Tn);uw(Qe,Vt);const lr=Te===!0||Te===!1||typeof Te>"u"?void 0:Te||"",sr=Tn?Se:tr?"label":"div",xn=Tn?{href:lr,target:Me,...he}:{},En=M&&(P||j),hn=ue==="auto"&&En,jn=rn(nce({...e,titleFontSizeIos:_,titleFontSizeMaterial:w,dividers:en,strongTitle:ue,mediaClassName:a,innerClassName:l,contentClassName:i,titleWrapClassName:b},_n,{isMediaItem:En,theme:zt,textColor:pn,needsTouchRipple:Vt,isMenuListItemActive:Lt,autoStrongTitle:hn,nested:We?.nested}),r),_t=Tn||tr?jn.itemContent.link:jn.itemContent.default,Oe=J?jn.title.menuListItem:ue===!0||hn?jn.title.strong:jn.title.default;return ie?Ve.createElement(St,{className:rt(jn.groupTitle,r)},M,Re):Ve.createElement(St,ak({ref:ke=>{Pe.current=ke,je&&typeof je=="function"?je(ke):je&&(je.current=ke)},className:jn.base},Nt),Ve.createElement(sr,ak({ref:Qe,className:_t},xn),z&&Ve.createElement("div",{className:jn.media},z),Ve.createElement("div",{className:jn.inner},q&&Ve.createElement("div",{className:jn.header},q),(M||G)&&Ve.createElement("div",{className:jn.titleWrap},M&&Ve.createElement("div",{className:Oe},M),G&&Ve.createElement("div",{className:jn.after},G),Tn&&kn&&!J&&(ve||Ve.createElement($ue,{className:jn.chevron}))),P&&Ve.createElement("div",{className:jn.subtitle},P),j&&Ve.createElement("div",{className:jn.text},j),Y&&Ve.createElement("div",{className:jn.footer},Y),u),m),Re)};NV.displayName="ListItem";const ace=(e,t,n)=>{const{bgClassName:r="",bgClass:a="",outline:l,innerClassName:u="",innerClass:i="",tabbar:m,tabbarIcons:b,tabbarLabels:_,top:w}=e;return{base:{common:rt("k-toolbar w-full z-20 relative",n),ios:rt(!w&&"pb-safe-4","px-safe-4 flex justify-center"),material:rt(!w&&"pb-safe")},bgBlur:{ios:!w&&rt(rt(b&&_?"h-[calc(var(--k-safe-area-bottom)_+16px_+_64px_+_16px)]":"h-[calc(var(--k-safe-area-bottom)_+16px_+_48px_+_16px)]"),"backdrop-blur-[2px] absolute left-0 bottom-0 w-full mask-t-from-50% mask-t-to-100% pointer-events-none")},bg:{common:rt(r||a),ios:!w&&rt(t.bgIos,"bottom-0 absolute w-full left-0 pointer-events-none",b&&_?"h-[calc(var(--k-safe-area-bottom)_+16px_+_64px_+_16px)]":"h-[calc(var(--k-safe-area-bottom)_+16px_+_48px_+_16px)]"),material:rt(t.bgMaterial,"h-full top-0 absolute w-full left-0",l&&(w?"hairline-b":"hairline-t"))},inner:{common:rt("flex relative justify-between",u||i),ios:rt("gap-4 items-stretch",b&&_?"h-16":"h-12",m?"w-full md:w-auto":"w-auto"),material:rt("w-full overflow-hidden items-center",m?"":"pl-safe-2 pr-safe-2",b?"h-20":"h-14")},highlight:{common:rt(w?"bottom-0":"top-0","absolute left-0 w-full h-0.5 duration-200 pointer-events-none transition-transform"),ios:t.tabbarHighlightBgIos,material:t.tabbarHighlightBgMaterial}}},ice=(e={},t)=>({bgIos:rt("bg-gradient-to-t from-ios-light-surface to-transparent",t("dark:from-ios-dark-surface/50")),bgMaterial:rt("bg-md-light-surface-2",t("dark:bg-md-dark-surface-2")),tabbarHighlightBgIos:"",tabbarHighlightBgMaterial:rt("bg-md-light-primary",t("dark:bg-md-dark-primary")),...fs(e)});function $O(){return $O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$O.apply(null,arguments)}const RV=e=>{const{component:t="div",className:n,colors:r,bgClassName:a="",innerClassName:l="",outline:u,tabbar:i,tabbarIcons:m,tabbarLabels:b,top:_,ios:w,material:M,children:P,ref:j,...G}=e,z=$.useRef(null),q=$.useRef(null),Y=t,[J,ne]=$.useState({transform:"",width:""}),ie=Xl({ios:w,material:M}),ue=uo({ios:w,material:M}),oe=ds(),K={...G},se=ice(r,oe),ve=ue(ace({...e,outline:typeof u>"u"?ie==="ios":u,bgClassName:a,innerClassName:l},se),n),Te=ie==="material"&&i&&!m;return $.useEffect(()=>{if(Te&&z.current){const Me=z.current.previousElementSibling,xe=1/Me.children.length*100,Se=[...Me.children].indexOf(Me.querySelector(".k-tabbar-link-active"));ne({...J,width:`${xe}%`,transform:`translateX(${Se*100}%)`})}},[P]),Ve.createElement(Y,$O({ref:Me=>{q.current=Me,j&&typeof j=="function"?j(Me):j&&(j.current=Me)},className:ve.base},K),Ve.createElement(wV.Provider,{value:{toolbar:!0,tabbarLabels:b,tabbarIcons:m,tabbar:i}},ie==="ios"&&!_&&Ve.createElement("div",{className:ve.bgBlur}),(ie==="material"||!_)&&Ve.createElement("div",{className:ve.bg}),Ve.createElement("div",{className:ve.inner},P),Te&&Ve.createElement("span",{className:ve.highlight,style:J,ref:z})))};RV.displayName="Toolbar";const oce=(e,t,n)=>{const{outline:r,large:a,medium:l,transparent:u,left:i,right:m,subnavbar:b,fontSizeIos:_,fontSizeMaterial:w,titleFontSizeIos:M,titleFontSizeMaterial:P,titleLargeFontSizeIos:j,titleLargeFontSizeMaterial:G,titleMediumFontSizeIos:z,titleMediumFontSizeMaterial:q,bgClassName:Y="",bgClass:J="",subnavbarClassName:ne="",subnavbarClass:ie="",innerClassName:ue="",innerClass:oe="",leftClassName:K="",leftClass:se="",titleClassName:pe="",titleClass:ve="",subtitleClassName:Te="",subtitleClass:Me="",rightClassName:xe="",rightClass:Se="",centerTitle:he}=e;return{base:{common:rt("k-navbar w-full z-20 top-0 sticky",(a||l)&&"pointer-events-none",n),ios:rt("pt-[max(16px,var(--k-safe-area-top))]",_,t.textIos),material:rt("pt-safe",w,t.textMaterial)},bgBlur:{ios:rt("backdrop-blur-[2px] absolute left-0 top-0 w-full  mask-b-to-100% pointer-events-none mask-b-from-50%",b?"h-[calc(max(16px,var(--k-safe-area-top))_+_44px_+70px_+_16px)]":"h-[calc(max(16px,var(--k-safe-area-top))_+_44px_+_16px)]")},bg:{common:rt("absolute w-full left-0 top-0",Y||J),ios:rt(t.bgIos,"pointer-events-none",b?"h-[calc(max(16px,var(--k-safe-area-top))_+_44px_+70px_+_16px)]":"h-[calc(max(16px,var(--k-safe-area-top))_+_44px_+_16px)]"),material:rt("h-full",t.bgMaterial,r&&"hairline-b")},subnavbar:{common:rt("relative flex items-center",ne||ie,(a||l)&&"pointer-events-auto"),ios:"h-14 pl-safe-4 pr-safe-4",material:"h-14 pl-safe-4 pr-safe-4"},inner:{common:rt("flex relative items-center w-full",ue||oe,(a||l)&&"pointer-events-auto z-10"),ios:rt("pl-safe-4 pr-safe-4 h-11",!i&&m?"justify-end":"justify-between"),material:"justify-start h-16 pl-safe pr-safe overflow-hidden"},titleContainer:{common:rt("flex items-center px-safe-4 relative",(a||l)&&"pointer-events-auto"),ios:rt(l&&rt(z,"h-11 font-semibold"),a&&rt(j,"h-13 font-bold")),material:rt(l&&rt(q,"h-12 pb-4"),a&&rt(G,"h-[5.5rem]"))},left:{common:rt("flex justify-center items-center h-full",K||se),ios:"me-2 transform transform-gpu rounded-full",material:"mx-1"},title:{common:rt("whitespace-nowrap leading-tight",pe||ve,(a||l||u)&&"opacity-0",he?"absolute top-1/2 left-1/2 transform-gpu -translate-x-1/2 -translate-y-1/2 text-center":"text-start"),ios:rt(`${M} font-semibold`,!he&&"first:mx-2"),material:rt(`${P} font-normal`,!he&&"first:mx-4")},subtitle:{common:rt("leading-none",Te||Me),ios:"text-sm opacity-75 font-medium",material:"text-sm opacity-85 font-normal"},right:{common:rt("flex justify-center items-center h-full",xe||Se),ios:rt("transform transform-gpu rounded-full",he?"ms-2":"ms-auto"),material:"ms-auto me-1"}}},sce=(e,t)=>({bgIos:rt("bg-gradient-to-b from-ios-light-surface to-transparent",t("dark:from-ios-dark-surface/50")),bgMaterial:rt("bg-md-light-surface-2",t("dark:bg-md-dark-surface-2")),textIos:rt("text-black",t("dark:text-white")),textMaterial:rt("text-md-light-on-surface",t("dark:text-md-dark-on-surface")),...fs(e)});function jO(){return jO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jO.apply(null,arguments)}const MV=e=>{const{component:t="div",className:n,bgClassName:r="",innerClassName:a="",leftClassName:l="",titleClassName:u="",subtitleClassName:i="",rightClassName:m="",subnavbarClassName:b="",centerTitle:_,colors:w,outline:M,medium:P,large:j,transparent:G,fontSizeIos:z="text-[17px]",fontSizeMaterial:q="text-[16px]",titleFontSizeIos:Y="text-[17px]",titleFontSizeMaterial:J="text-[22px]",titleMediumFontSizeIos:ne="text-[24px]",titleMediumFontSizeMaterial:ie="text-[24px]",titleLargeFontSizeIos:ue="text-[34px]",titleLargeFontSizeMaterial:oe="text-[28px]",scrollEl:K,left:se,title:pe,subtitle:ve,right:Te,subnavbar:Me,ios:xe,material:Se,children:he,ref:we,..._e}=e,Be=$.useRef(null),He=$.useRef(0),Re=$.useRef(null),je=$.useRef(null),Ze=$.useRef(null),Qe=$.useRef(null),Pe=$.useRef(null),St=$.useRef(null),Nt=t,We=Xl({ios:xe,material:Se}),en=uo({ios:xe,material:Se}),zt=ds(),rn={..._e},Ge=sce(w,zt),kn=G,_n=Vt=>{const{scrollTop:lr}=Vt.target;if(!kn&&!j&&!P){St.current&&(Qe.current&&(Qe.current.style.opacity=""),Re.current&&(Re.current.style.opacity=""));return}const sr=He.current,xn=Math.max(Math.min(lr/sr,1),0);We==="material"&&(Re.current.style.opacity=kn?-.5+xn*1.5:"",(P||j)&&(Re.current.style.transform=`translateY(-${xn*sr}px)`)),Ze.current&&(Ze.current.style.transform=`translateY(-${xn*sr}px)`,Ze.current.style.opacity=1-xn*2),Qe.current&&(Qe.current.style.opacity=-.5+xn*1.5),(P||j)&&Pe.current&&(Pe.current.style.transform=`translateY(-${xn*sr}px)`)},Lt=()=>typeof K>"u"?Be.current&&Be.current.parentNode:K.current||K,pn=()=>{if(!j&&!P&&!kn){St.current&&(_n({target:{scrollTop:0}}),St.current=!1);return}St.current=!0,Ze.current?He.current=Ze.current.offsetHeight:He.current=je.current.offsetHeight;const Vt=Lt();Vt?(Vt.addEventListener("scroll",_n),_n({target:Vt})):_n({target:{scrollTop:0}})},Tn=()=>{const Vt=Lt();Vt&&Vt.removeEventListener("scroll",_n)};$.useEffect(()=>(pn(),Tn));const tr=en(oce({...e,centerTitle:typeof _>"u"?We==="ios":_,outline:M,fontSizeIos:z,fontSizeMaterial:q,titleFontSizeIos:Y,titleFontSizeMaterial:J,titleMediumFontSizeIos:ne,titleMediumFontSizeMaterial:ie,titleLargeFontSizeIos:ue,titleLargeFontSizeMaterial:oe,bgClassName:r,innerClassName:a,leftClassName:l,titleClassName:u,subtitleClassName:i,rightClassName:m,subnavbarClassName:b},Ge),n);return Ve.createElement(Nt,jO({ref:Vt=>{Be.current=Vt,we&&typeof we=="function"?we(Vt):we&&(we.current=Vt)},className:tr.base},rn),Ve.createElement(TV.Provider,{value:{navbar:!0}},We==="ios"&&Ve.createElement("div",{className:tr.bgBlur}),Ve.createElement("div",{className:tr.bg,ref:Re}),Ve.createElement("div",{className:tr.inner,ref:je},se&&Ve.createElement(Wp,{className:tr.left},se),(pe||ve)&&Ve.createElement("div",{className:tr.title,ref:Qe},pe,ve&&Ve.createElement("div",{className:tr.subtitle},ve)),Te&&Ve.createElement(Wp,{className:tr.right},Te),he),(j||P)&&Ve.createElement("div",{className:tr.titleContainer,ref:Ze},pe),Me&&Ve.createElement("div",{className:tr.subnavbar,ref:Pe},Me)))};MV.displayName="Navbar";function ik(){return ik=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ik.apply(null,arguments)}const lce=({theme:e,...t})=>e==="ios"?Ve.createElement("svg",ik({xmlns:"http://www.w3.org/2000/svg",width:"12",height:"20",viewBox:"0 0 12 20",fill:"currentcolor"},t),Ve.createElement("path",{d:"M10.6737904,1.29289322 C11.0342516,1.65335447 11.0619794,2.22054978 10.7569738,2.61281627 L10.6737458,2.70706222 L3.76756619,9.61235263 C3.5939889,9.78590804 3.57468677,10.0553312 3.70967055,10.2502079 L3.76753111,10.3194689 L10.673816,17.2262348 C11.0643303,17.6167774 11.0643188,18.2499456 10.6737904,18.640474 C10.2832661,19.0309983 9.65010112,19.0309983 9.25957683,18.640474 L1.29289322,10.6737904 C0.902368927,10.2832661 0.902368927,9.65010112 1.29289322,9.25957683 L9.25957683,1.29289322 C9.62006079,0.932409257 10.1872918,0.904679722 10.5795831,1.20970461 L10.6737904,1.29289322 Z"})):Ve.createElement("svg",ik({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentcolor"},t),Ve.createElement("polygon",{points:"16 7 3.83 7 9.42 1.41 8 0 0 8 8 16 9.41 14.59 3.83 9 16 9"})),uce=(e,t,n)=>{const{opened:r}=e;return{base:{common:rt("k-notifications z-50 transform transition-(--transition-transform-opacity) box-border duration-500 absolute",!r&&"-translate-y-full opacity-0 pointer-events-none transition duration-500","md:w-[568px] md:end-auto md:start-1/2 md:-ms-[284px]",n),ios:rt("rounded-xl p-4 start-2 end-2 top-safe-2 rounded-3xl flex gap-4 items-center",t.bgIos),material:rt("rounded-2xl py-5 px-4 start-4 end-4 top-safe-4",t.bgMaterial)},content:{common:"w-full shrink",ios:"",material:rt("mt-2")},header:{common:rt("flex justify-start"),ios:"items-center",material:"items-start"},icon:{ios:"shrink-0",material:"me-4"},contentTitle:{material:rt("flex flex-row items-center")},title:{ios:rt("text-sm font-bold",t.titleIos),material:rt("font-medium")},titleRightText:{ios:rt("me-1 ms-auto text-sm",t.titleRightIos),material:rt("ms-1 text-xs before:w-0.75 before:h-0.75 before:rounded-full before:inline-block before:align-middle before:me-1",t.titleRightMd)},button:{ios:rt("me-1 ms-auto cursor-pointer"),material:rt("ms-auto cursor-pointer")},deleteIcon:{ios:rt("w-5 h-5",t.deleteIconIos),material:rt("w-6 h-6",t.deleteIconMd)},subtitle:{ios:rt("text-sm font-semibold",t.subtitleIos),material:rt("text-sm")},text:{ios:rt("text-sm"),material:rt("text-sm",t.textMaterial)}}},cce=(e,t)=>({bgIos:"",bgMaterial:rt("bg-md-light-surface-5",t("dark:bg-md-dark-surface-5")),titleIos:rt("text-black",t("dark:text-white")),titleRightIos:rt("text-black/45",t("dark:text-white/45")),titleRightMd:rt("text-md-light-on-surface-variant before:bg-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant before:dark:bg-md-dark-on-surface-variant")),subtitleIos:rt("text-black ",t("dark:text-white")),textMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant ")),deleteIconIos:rt("fill-stone-400 active:fill-stone-200",t("dark:fill-stone-500 dark:active:fill-stone-700")),deleteIconMd:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),...fs(e)});function ok(){return ok=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok.apply(null,arguments)}const OV=e=>{const{component:t="div",className:n,colors:r,button:a,icon:l,title:u,titleRightText:i,subtitle:m,text:b,opened:_,onClose:w,ios:M,material:P,children:j,ref:G,...z}=e,q=$.useRef(null),Y=t,J={...z},ne=Xl({ios:M,material:P}),ie=uo({ios:M,material:P}),ue=ds(),oe=cce(r,ue),K=ie(uce({...e},oe),n);return ne==="ios"?Ve.createElement(Wp,ok({ref:se=>{q.current=se,G&&typeof G=="function"?G(se):G&&(G.current=se)},component:t,className:K.base},J),l&&Ve.createElement("div",{className:K.icon},l),Ve.createElement("div",{className:K.content},Ve.createElement("div",{className:K.header},u&&Ve.createElement("div",{className:K.title},u),i&&Ve.createElement("div",{className:K.titleRightText},i),a&&Ve.createElement("div",{className:K.button,role:"button",tabIndex:"0",onClick:w},Ve.createElement(DO,{theme:ne,className:K.deleteIcon}))),m&&Ve.createElement("div",{className:K.subtitle},m),b&&Ve.createElement("div",{className:K.text},b),j)):Ve.createElement(Y,ok({ref:se=>{q.current=se,G&&typeof G=="function"?G(se):G&&(G.current=se)},className:K.base},J),Ve.createElement("div",{className:K.header},l&&Ve.createElement("div",{className:K.icon},l),Ve.createElement("div",{className:K.contentWrapper},Ve.createElement("div",{className:K.contentTitle},u&&Ve.createElement("div",{className:K.title},u),i&&Ve.createElement("div",{className:K.titleRightText},i)),Ve.createElement("div",{className:K.content},m&&Ve.createElement("div",{className:K.subtitle},m),b&&Ve.createElement("div",{className:K.text},b),j)),a&&Ve.createElement("div",{className:K.button,role:"button",tabIndex:"0",onClick:w},Ve.createElement(DO,{theme:ne,className:K.deleteIcon}))))};OV.displayName="Notification";const dce=(e,t,n)=>({base:{common:rt("k-page h-full w-full left-0 top-0 overflow-auto absolute",n),ios:t.bgIos,material:t.bgMaterial}}),fce=(e={},t)=>({bgIos:rt("bg-ios-light-surface",t("dark:bg-ios-dark-surface")),bgMaterial:rt("bg-md-light-surface",t("dark:bg-md-dark-surface")),...fs(e)});function zO(){return zO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zO.apply(null,arguments)}const DV=e=>{const{component:t="div",className:n,colors:r,ios:a,material:l,children:u,ref:i,...m}=e,b=$.useRef(null),_=t,w={...m},M=uo({ios:a,material:l}),P=ds(),j=fce(r,P),G=M(dce(e,j,n));return Ve.createElement(_,zO({ref:z=>{b.current=z,i&&typeof i=="function"?i(z):i&&(i.current=z)},className:G.base},w),u)};DV.displayName="Page";const hce=(e,t)=>{const{floating:n}=e;return{base:{common:rt("k-panel transition-transform transform duration-400 z-40 max-w-full overflow-hidden fixed",n?"top-safe-2 bottom-safe-2 !h-auto":"top-0 max-h-full","w-72 h-screen"),ios:rt(n&&rt("rounded-4xl",t.floatingBgIos),!n&&t.bgIos),material:rt("ease-material-in",n?t.floatingBgMaterial:t.bgMaterial)},left:{common:rt("no-safe-areas-right",n?"right-full -mr-2":"right-full"),material:rt(n?"rounded-2xl":"rounded-r-2xl"),opened:"translate-x-full",closed:"-translate-x-2"},right:{common:rt("no-safe-areas-left",n?"left-full -ml-2":"left-full"),material:rt(n?"rounded-2xl":"rounded-l-2xl"),opened:"-translate-x-full",closed:"translate-x-2"},backdrop:{common:"fixed z-40 w-full h-full left-0 top-0 bg-black/50 duration-400",opened:"",closed:"opacity-0 pointer-events-none"}}},pce=(e={},t)=>({bgIos:rt("bg-white",t("dark:bg-black")),bgMaterial:rt("bg-md-light-surface",t("dark:bg-md-dark-surface")),floatingBgIos:"",floatingBgMaterial:rt("bg-md-light-surface",t("dark:bg-md-dark-surface")),...fs(e)});function sk(){return sk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sk.apply(null,arguments)}const LV=e=>{const{component:t="div",className:n,colors:r,side:a="left",opened:l,backdrop:u=!0,floating:i=!1,onBackdropClick:m,ios:b,material:_,children:w,ref:M,...P}=e,j=$.useRef(null),G=l?"opened":"closed",z=t,q={...P},Y=Xl({ios:b,material:_}),J=uo({ios:b,material:_}),ne=ds(),ie=pce(r,ne),ue=J(hce({...e,floating:i},ie),n),oe=rt(ue.base,ue[a][G]),K=se=>{j.current=se,M&&typeof M=="function"?M(se):M&&(M.current=se)};return Ve.createElement(Ve.Fragment,null,u&&Ve.createElement("div",{className:ue.backdrop[G],onClick:m}),Y==="ios"&&i?Ve.createElement(Wp,sk({component:t,ref:K,className:oe,highlight:!1},q),w):Ve.createElement(z,sk({ref:K,className:oe},q),w))};LV.displayName="Panel";const mce=({popoverEl:e,targetEl:t,angleEl:n,needsAngle:r,targetX:a,targetY:l,targetWidth:u=0,targetHeight:i=0,theme:m})=>{t.current?t=t.current:t.value?t=t.value:t.el?t=t.el:t.$el&&(t=t.$el),typeof t=="string"&&(t=document.querySelector(t));let b=document.body.offsetWidth,_=document.body.offsetHeight;b===0&&(b=window.innerWidth),_===0&&(_=window.innerHeight);const[w,M]=[e.offsetWidth,e.offsetHeight];let P=0,j,G,z="";r&&(P=n.offsetWidth/2);let q,Y;const J=window.getComputedStyle(t);let ne=parseInt(J.getPropertyValue("--k-safe-area-top"),10)||0,ie=parseInt(J.getPropertyValue("--k-safe-area-left"),10)||0,ue=parseInt(J.getPropertyValue("--k-safe-area-right"),10)||0;if(Number.isNaN(ne)&&(ne=0),Number.isNaN(ie)&&(ie=0),Number.isNaN(ue)&&(ue=0),t){u=t.offsetWidth,i=t.offsetHeight;const xe=t.getBoundingClientRect();q=xe.left,Y=xe.top}else typeof a<"u"&&l!=="undefined"&&(q=a,Y=l);let[oe,K,se]=[0,0,0];const pe=m==="ios"?13:23;let ve="top";M+P<Y-ne?K=Y-M-P:M+P<_-Y-i?(ve="bottom",K=Y+i+P):(ve="middle",K=i/2+Y-M/2,se=K,K=Math.max(5,Math.min(K,_-M-5)),se-=K),ve==="top"||ve==="bottom"?(oe=u/2+q-w/2,se=oe,oe=Math.max(5,Math.min(oe,b-w-5)),ie&&(oe=Math.max(oe,ie)),ue&&oe+w>b-5-ue&&(oe=b-5-ue-w),ve==="top"&&(z="bottom"),ve==="bottom"&&(z="top"),se-=oe,j=w/2-P+se,j=Math.max(Math.min(j,w-P*2-pe),pe)):ve==="middle"&&(oe=q-w-P,z="right",(oe<5||oe+w+ue>b||oe<ie)&&(oe<5&&(oe=q+u+P),oe+w+ue>b&&(oe=b-w-5-ue),oe<ie&&(oe=ie),z="left"),G=M/2-P+se,G=Math.max(Math.min(G,M-P*2-pe),pe));const Te=ve,Me=oe<q?"left":"right";return{set:!0,angleTop:typeof G>"u"?void 0:`${G}px`,angleLeft:typeof j>"u"?void 0:`${j}px`,anglePosition:z,popoverTop:`${K}px`,popoverLeft:`${oe}px`,popoverPosition:`${Te}-${Me}`}},gce=(e,t,n)=>{const{angleClassName:r,angleClass:a}=e;return{base:{common:rt("k-popover transition-(--transition-transform-opacity) z-40 w-60 no-safe-areas fixed translate-3d transform-gpu duration-400"),ios:"",material:"ease-material-in",opened:{common:"",ios:"ease-[cubic-bezier(0,1,0.2,1.05)]"},closed:{common:"pointer-events-none",ios:"scale-0",material:"scale-x-90 scale-y-75 opacity-0"}},inner:{common:rt("overflow-hidden relative"),ios:rt("rounded-4xl duration-600",t.bgIos),material:rt("rounded-[1.75rem]",t.bgMaterial),opened:{common:"",ios:"ease-[cubic-bezier(0,1,0.2,1.05)]",material:""},closed:{common:"",ios:"-translate-y-20 opacity-0",material:""}},angleWrap:{common:rt(r||a||"","pointer-events-none"),ios:rt("absolute w-6.5 h-6.5 z-50 overflow-hidden"),material:rt("absolute w-6.5 h-6.5 z-50 overflow-hidden"),bottom:"top-full",top:"bottom-full",left:"right-full",right:"left-full"},angleArrow:{common:rt("absolute rounded w-full h-full transform rotate-45"),ios:rt("bg-ios-light-glass backdrop-blur-lg",n("dark:bg-ios-dark-glass")),material:t.bgMaterial,bottom:"-top-4.75",top:"top-4.75",left:"left-4.75",right:"-left-4.75"},backdrop:{common:"fixed z-40 w-full h-full left-0 top-0 bg-black/50 duration-300",opened:"",closed:"opacity-0 pointer-events-none"}}},yce=(e={},t)=>({bgIos:"",bgMaterial:rt("bg-md-light-surface-3",t("dark:bg-md-dark-surface-3")),...fs(e)});function UO(){return UO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UO.apply(null,arguments)}const PV=e=>{const{component:t="div",className:n,angle:r=!1,angleClassName:a="",colors:l,opened:u,backdrop:i=!0,onBackdropClick:m,target:b,targetX:_,targetY:w,targetWidth:M,targetHeight:P,ios:j,material:G,children:z,style:q={},ref:Y,...J}=e,ne=$.useRef(null),ie=$.useRef(null),[ue,oe]=$.useState({set:!1,angleTop:0,angleLeft:0,anglePosition:"bottom",popoverTop:0,popoverLeft:0,popoverPosition:"top-left"}),K=u?"opened":"closed",se=t,pe={...J},ve=Xl({ios:j,material:G}),Te=uo({ios:j,material:G}),Me=ds(),xe=yce(l,Me),Se=Te(gce({...e,angleClassName:a},xe,Me),n),he=()=>{!b||!ne.current||!u||oe(mce({popoverEl:ne.current,targetEl:b,angleEl:ie.current,needsAngle:r,targetX:_,targetY:w,targetHeight:P,targetWidth:M,theme:ve}))},we=()=>{typeof window>"u"||window.addEventListener("resize",he)},_e=()=>{typeof window>"u"||window.removeEventListener("resize",he)};$.useEffect(()=>(we(),()=>_e())),$.useEffect(()=>{he()},[u]);const Be=ue.set?{...q||{},left:ue.popoverLeft,top:ue.popoverTop}:q,He=ue.set?{left:ue.angleLeft,top:ue.angleTop}:void 0,Re={"top-right":"origin-bottom-left","top-left":"origin-bottom-right","middle-left":"origin-right","middle-right":"origin-left","bottom-right":"origin-top-left","bottom-left":"origin-top-right"},je=rt(Se.base[K],Re[ue.popoverPosition]);return Ve.createElement(Ve.Fragment,null,i&&Ve.createElement("div",{className:Se.backdrop[K],onClick:m}),Ve.createElement(se,UO({ref:Ze=>{ne.current=Ze,Y&&typeof Y=="function"?Y(Ze):Y&&(Y.current=Ze)},className:je,style:Be},pe),r&&Ve.createElement("div",{ref:ie,style:He,className:Se.angleWrap[ue.anglePosition]},Ve.createElement("div",{className:Se.angleArrow[ue.anglePosition]})),Ve.createElement(Wp,{className:Se.inner[K]},z)))};PV.displayName="Popover";const vce=(e,t,n)=>({base:{common:rt("k-popup left-1/2 top-1/2 transition-transform transform -translate-x-1/2 z-40 max-w-full max-h-full overflow-hidden md:no-safe-areas fixed",t.bg,"w-screen h-screen md:w-160 md:h-160",n),ios:"duration-400 md:rounded-4xl",material:" md:rounded-[1.75rem]",opened:{common:"-translate-y-1/2",material:rt("ease-material-in-popup duration-[600ms]")},closed:{common:"translate-y-full",material:"duration-400"}},backdrop:{common:"fixed z-40 w-full h-full left-0 top-0 bg-black/50 duration-400",opened:"",closed:"opacity-0 pointer-events-none"}}),bce=(e={},t)=>({bg:rt("bg-white",t("dark:bg-black")),...fs(e)});function GO(){return GO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GO.apply(null,arguments)}const FV=e=>{const{component:t="div",className:n,colors:r,ref:a,opened:l,backdrop:u=!0,onBackdropClick:i,ios:m,material:b,children:_,...w}=e,M=$.useRef(null),P=l?"opened":"closed",j=t,G={...w},z=uo({ios:m,material:b}),q=ds(),Y=bce(r,q),J=z(vce(e,Y,n));return Ve.createElement(Ve.Fragment,null,u&&Ve.createElement("div",{className:J.backdrop[P],onClick:i}),Ve.createElement(j,GO({ref:ne=>{M.current=ne,a&&typeof a=="function"?a(ne):a&&(a.current=ne)},className:J.base[P]},G),_))};FV.displayName="Popup";const _ce=(e,t,{isEnabled:n,darkClasses:r})=>({base:{common:"k-searchbar relative flex items-center",ios:"w-full",material:"px-0 py-2 -mx-2 w-[calc(100%+32px)] overflow-hidden "},inner:{common:"w-full shrink-1 relative",ios:"transition-all duration-300 rounded-full"},searchIconWrap:{common:"absolute inset-y-0 flex items-center z-40",ios:"start-4",material:"start-4"},clearButton:{common:"absolute justify-center top-1/2 -translate-y-1/2 flex items-center z-40 cursor-pointer active:opacity-30",ios:"w-8 h-8 end-2",material:"w-12 h-12 end-0"},input:{common:"block appearance-none w-full py-2  focus:outline-none z-30",ios:rt("h-11 pl-10.5 pr-9 text-[17px]",r("dark:placeholder-white/30"),t.placeholderIos,t.inputBgIos),material:rt("h-12 ps-12 pe-4 rounded-full",t.placeholderMaterial,t.inputBgMaterial)},deleteIcon:{common:"",ios:"w-3.5 h-3.5 opacity-45",material:"w-6 h-6 active:opacity-20"},searchIcon:{common:"",ios:rt("w-4 h-4 opacity-45"),material:rt("w-5 h-5 z-30",n?"opacity-0 transform rotate-90 scale-50 transition-(--transition-transform-opacity)  duration-400 ":"block transform transition-(--transition-transform-opacity) scale-100 rotate-0 duration-400")},cancelButton:{ios:rt("flex justify-center items-center h-11 w-11 cursor-pointer shrink-0 z-40 transition-all duration-300 rounded-full",n?"":"scale-0"),material:rt("absolute left-4 cursor-pointer",n?"z-40 transform scale-100 rotate-0 transition-(--transition-transform-opacity)  duration-400":"opacity-0 transform -rotate-90 scale-50 transition-(--transition-transform-opacity) duration-400")}}),xce=(e={},t)=>({inputBgIos:"",inputBgMaterial:rt("bg-md-light-secondary-container",t("dark:bg-md-dark-secondary-container")),placeholderIos:"",placeholderMaterial:rt("placeholder-md-light-on-surface-variant",t("dark:placeholder-md-dark-on-surface-variant")),...fs(e)});function lk(){return lk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lk.apply(null,arguments)}const Ece=({theme:e,...t})=>e==="ios"?Ve.createElement("svg",lk({xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 56 56",fill:"currentcolor"},t),Ve.createElement("path",{d:"M 23.9570 41.7695 C 27.8476 41.7695 31.4804 40.5039 34.4336 38.3945 L 45.5429 49.5039 C 46.0585 50.0195 46.7382 50.2774 47.4414 50.2774 C 48.9648 50.2774 50.0664 49.1055 50.0664 47.6055 C 50.0664 46.9023 49.8322 46.2461 49.3162 45.7305 L 38.2773 34.6679 C 40.5976 31.6211 41.9804 27.8476 41.9804 23.7461 C 41.9804 13.8320 33.8710 5.7226 23.9570 5.7226 C 14.0195 5.7226 5.9336 13.8320 5.9336 23.7461 C 5.9336 33.6601 14.0195 41.7695 23.9570 41.7695 Z M 23.9570 37.8789 C 16.1992 37.8789 9.8242 31.4805 9.8242 23.7461 C 9.8242 16.0117 16.1992 9.6133 23.9570 9.6133 C 31.6914 9.6133 38.0898 16.0117 38.0898 23.7461 C 38.0898 31.4805 31.6914 37.8789 23.9570 37.8789 Z"})):Ve.createElement("svg",lk({xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 56 56",fill:"currentcolor"},t),Ve.createElement("path",{d:"M 23.9570 41.7695 C 27.8476 41.7695 31.4804 40.5039 34.4336 38.3945 L 45.5429 49.5039 C 46.0585 50.0195 46.7382 50.2774 47.4414 50.2774 C 48.9648 50.2774 50.0664 49.1055 50.0664 47.6055 C 50.0664 46.9023 49.8322 46.2461 49.3162 45.7305 L 38.2773 34.6679 C 40.5976 31.6211 41.9804 27.8476 41.9804 23.7461 C 41.9804 13.8320 33.8710 5.7226 23.9570 5.7226 C 14.0195 5.7226 5.9336 13.8320 5.9336 23.7461 C 5.9336 33.6601 14.0195 41.7695 23.9570 41.7695 Z M 23.9570 37.8789 C 16.1992 37.8789 9.8242 31.4805 9.8242 23.7461 C 9.8242 16.0117 16.1992 9.6133 23.9570 9.6133 C 31.6914 9.6133 38.0898 16.0117 38.0898 23.7461 C 38.0898 31.4805 31.6914 37.8789 23.9570 37.8789 Z"}));function HO(){return HO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HO.apply(null,arguments)}const wce=({...e})=>React.createElement("svg",HO({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 56 56",fill:"currentcolor"},e),React.createElement("path",{d:"M 10.0234 43.0234 C 9.2266 43.8203 9.2031 45.1797 10.0234 45.9766 C 10.8438 46.7734 12.1797 46.7734 13.0000 45.9766 L 28.0000 30.9766 L 43.0000 45.9766 C 43.7969 46.7734 45.1563 46.7969 45.9766 45.9766 C 46.7734 45.1562 46.7734 43.8203 45.9766 43.0234 L 30.9531 28.0000 L 45.9766 13.0000 C 46.7734 12.2031 46.7969 10.8437 45.9766 10.0469 C 45.1328 9.2266 43.7969 9.2266 43.0000 10.0469 L 28.0000 25.0469 L 13.0000 10.0469 C 12.1797 9.2266 10.8203 9.2031 10.0234 10.0469 C 9.2266 10.8672 9.2266 12.2031 10.0234 13.0000 L 25.0234 28.0000 Z"}));function VO(){return VO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VO.apply(null,arguments)}const BV=e=>{const{component:t="div",className:n,colors:r,placeholder:a="Search",value:l,inputId:u,inputStyle:i,disableButton:m=!1,clearButton:b=!0,onInput:_,onChange:w,onFocus:M,onBlur:P,onClear:j,onDisable:G,ios:z,material:q,ref:Y,...J}=e,ne=$.useRef(null),ie=$.useRef(null),ue=$.useRef(null),[oe,K]=$.useState(!1),se=Xl({ios:z,material:q}),pe=uo({ios:z,material:q}),ve=ds(),Te=xce(r,ve),Me=Qe=>{_&&_(Qe)},xe=Qe=>{w&&w(Qe)},Se=Qe=>{K(!0),M&&M(Qe)},he=Qe=>{P&&P(Qe)},we=()=>{l||(ue.current=setTimeout(()=>{K(!1)}))},_e=()=>{clearTimeout(ue.current)},Be=Qe=>{Qe.preventDefault(),K(!1),ne.current&&ne.current.blur(),G&&G(),j&&j()},He=pe(_ce({...e},Te,{isEnabled:oe,darkClasses:ve})),Re=se==="ios"?Ve.createElement(Wp,{component:"button",type:"button",style:{marginRight:oe?0:"-64px",marginLeft:oe?"16px":0},className:He.cancelButton,onClick:Be,onPointerDown:Qe=>Qe.preventDefault()},Ve.createElement(wce,null)):Ve.createElement(lce,{theme:se,onClick:Be,className:rt(He.cancelButton),onPointerDown:Qe=>Qe.preventDefault()}),je=t,Ze={...J};return Ve.createElement(je,VO({ref:Qe=>{ie.current=Qe,Y&&typeof Y=="function"?Y(Qe):Y&&(Y.current=Qe)},className:He.base},Ze,{onBlurCapture:we,onFocusCapture:_e}),Ve.createElement(Wp,{className:He.inner},Ve.createElement("span",{className:He.searchIconWrap},Ve.createElement(Ece,{ios:z,material:q,className:He.searchIcon})),Ve.createElement("input",{id:u,ref:ne,className:rt(He.input),style:i,type:"text",name:"search",placeholder:a,value:l,onInput:Me,onChange:xe,onFocus:Se,onBlur:he}),l&&b&&Ve.createElement("button",{className:He.clearButton,onClick:j,type:"button"},Ve.createElement(DO,{theme:se,className:He.deleteIcon}))),m&&Re)};BV.displayName="Searchbar";const Sce=(e,t,n,r)=>{const{outline:a,rounded:l,navbar:u}=e;return{base:{common:rt("k-segmented flex justify-center items-center overflow-hidden w-full",r),square:{ios:"rounded",material:"rounded-lg"},rounded:"rounded-full"},raised:a?"shadow":"shadow divide-x divide-black/10 rtl:divide-x-reverse",outline:{common:"",ios:`${t.borderIos} border-2`,material:`${t.borderMaterial} border`},outlineInner:{common:"-m-0.5 flex w-full justify-center items-center rtl:divide-x-reverse",ios:`divide-x-2 ${t.divideIos}`,material:`divide-x ${t.divideMaterial}`},strong:{common:rt("gap-1 relative"),ios:rt(!u&&t.strongBgIos,u?"p-1":"p-0.5"),material:rt("p-0.5",t.strongBgMaterial)},strongHighlight:{common:rt("absolute !ms-0 pointer-events-none duration-200",l&&"rounded-full","shadow",n("dark:touch-ripple-white")),ios:rt(u?"start-1 top-1 bottom-1":"start-0.5 top-0.5 bottom-0.5",!l&&"rounded",t.strongHighlightBgIos),material:rt("start-0.5 top-0.5 bottom-0.5",!l&&"rounded-md",t.strongHighlightBgMaterial)}}},Tce=(e={},t)=>({strongBgIos:rt("bg-black/5",t("dark:bg-white/10")),strongBgMaterial:rt("bg-md-light-surface-variant",t("dark:bg-md-dark-surface-3")),strongHighlightBgIos:rt("bg-white",t("dark:bg-white/75")),strongHighlightBgMaterial:rt("bg-white",t("dark:bg-white/15")),borderIos:"border-primary",borderMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),divideIos:"divide-primary",divideMaterial:rt("divide-md-light-outline",t("dark:divide-md-dark-outline")),...fs(e)}),$V=$.createContext({strong:!1,outline:!1,rounded:!1,raised:!1}),Cce=()=>$.useContext($V);function qO(){return qO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qO.apply(null,arguments)}const jV=e=>{const{component:t="div",className:n,colors:r,ios:a,material:l,raised:u,raisedIos:i,raisedMaterial:m,outline:b,outlineIos:_,outlineMaterial:w,strong:M,strongIos:P,strongMaterial:j,rounded:G,roundedIos:z,roundedMaterial:q,children:Y,ref:J,...ne}=e,ie=$.useRef(null),ue=$.useRef(null),[oe,K]=$.useState({transform:"",width:""}),se={...ne},pe=Xl({ios:a,material:l}),ve=uo({ios:a,material:l}),Te=ds(),Me=Tce(r,Te),xe=TI(pe,{outline:b,rounded:G,strong:M,raised:u},e),{navbar:Se}=CV(),he=ve(Sce({...e,...xe,navbar:Se},Me,Te)),we=pe==="ios"&&Se?Wp:t,_e=rt(xe.rounded?he.base.rounded:he.base.square,xe.raised&&he.raised,xe.outline&&he.outline,xe.strong&&he.strong,n);return $.useEffect(()=>{if(xe.strong&&ue.current){const Be=ue.current.parentElement,He=Be.children.length-1,Re=[...Be.children].indexOf(Be.querySelector(".k-segmented-strong-button-active")),je="4px";K({...oe,width:`calc((100% - ${pe==="ios"&&Se?"4px":"2px"} * 2 - ${je} * (${He} - 1)) / ${He})`,transform:`translateX(calc((${Re} * 100% + ${Re} * ${je}) * var(--k-rtl-reverse)))`})}},[Y]),Ve.createElement(we,qO({ref:Be=>{ie.current=Be,J&&typeof J=="function"?J(Be):J&&(J.current=Be)},className:_e},se),Ve.createElement($V.Provider,{value:{strong:xe.strong,outline:xe.outline,rounded:xe.rounded,raised:xe.raised}},xe.outline?Ve.createElement("span",{className:he.outlineInner},Y):Y,xe.strong&&Ve.createElement("span",{ref:ue,className:he.strongHighlight,style:oe})))};jV.displayName="Segmented";function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YO.apply(null,arguments)}const zV=e=>{const{active:t,children:n,outline:r,strong:a,rounded:l,raised:u,ref:i,...m}=e,b=$.useRef(null),{strong:_,rounded:w}=Cce();return Ve.createElement(yS,YO({ref:M=>{b.current=M,i&&typeof i=="function"?i(M):i&&(i.current=M)},segmented:!0,segmentedActive:t,segmentedStrong:_,rounded:w&&_},m),n)};zV.displayName="SegmentedButton";const Ace=(e,t,n)=>({base:{common:rt("k-sheet left-safe right-safe top-full transition-transform duration-400 z-40 overflow-hidden fixed [&>*]:no-safe-areas-left [&>*]:no-safe-areas-right",n),ios:rt("rounded-t-4xl",t.bgIos),material:`rounded-t-2xl ease-material-in ${t.bgMaterial}`,opened:"-translate-y-full",closed:""},backdrop:{common:"fixed z-40 w-full h-full left-0 top-0 bg-black/50 duration-400",opened:"",closed:"opacity-0 pointer-events-none"}}),kce=(e={},t)=>({bgIos:rt("bg-ios-light-surface-1",t("dark:bg-ios-dark-surface-1")),bgMaterial:rt("bg-md-light-surface",t("dark:bg-md-dark-surface")),...fs(e)});function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WO.apply(null,arguments)}const UV=e=>{const{component:t="div",className:n,colors:r,opened:a,backdrop:l=!0,onBackdropClick:u,ios:i,material:m,children:b,ref:_,...w}=e,M=$.useRef(null),P=a?"opened":"closed",j=t,G={...w},z=uo({ios:i,material:m}),q=ds(),Y=kce(r,q),J=z(Ace(e,Y,n));return Ve.createElement(Ve.Fragment,null,l&&Ve.createElement("div",{className:J.backdrop[P],onClick:u}),Ve.createElement(j,WO({ref:M,className:J.base[P]},G),b))};UV.displayName="Sheet";const Ice=()=>({base:{common:"k-table w-full border-none p-0 m-0 border-collapse text-left table",ios:"",material:""}});function ZO(){return ZO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZO.apply(null,arguments)}const GV=e=>{const{className:t,ios:n,material:r,children:a,ref:l,...u}=e,i=$.useRef(null),b=uo({ios:n,material:r})(Ice({...e})),_={...u};return Ve.createElement("table",ZO({ref:w=>{i.current=w,l&&typeof l=="function"?l(w):l&&(l.current=w)},className:b.base},_),a)};GV.displayName="Table";const Nce=()=>({base:{common:"text-sm",ios:"",material:""}});function XO(){return XO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XO.apply(null,arguments)}const HV=e=>{const{className:t,ios:n,material:r,children:a,ref:l,...u}=e,i=$.useRef(null),b=uo({ios:n,material:r})(Nce({...e})),_={...u};return Ve.createElement("tbody",XO({ref:w=>{i.current=w,l&&typeof l=="function"?l(w):l&&(l.current=w)},className:b.base},_),a)};HV.displayName="TableBody";const Rce=(e,t,n)=>{const{header:r}=e;return{base:{common:rt("align-middle",n),ios:rt(r?`text-xs font-semibold overflow-hidden whitespace-nowrap leading-4 h-11 bg-transparent ${t.textHeaderIos} py-0 px-4`:"h-11 relative py-0 px-4"),material:rt(r?`${t.textHeaderMaterial} px-6 py-0  text-xs font-medium overflow-hidden text-ellipsis whitespace-nowrap leading-4 h-14 bg-transparent`:"py-0 first:px-6 px-7 h-12")}}},Mce=(e={},t)=>({textHeaderIos:rt("text-black/45",t("dark:text-white/55")),textHeaderMaterial:rt("text-md-light-on-surface-variant",t("dark:text-md-dark-on-surface-variant")),...fs(e)});function KO(){return KO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KO.apply(null,arguments)}const VV=e=>{const{className:t,colors:n,header:r,ios:a,material:l,children:u,ref:i,...m}=e,b=$.useRef(null),_=r?"th":"td",w=uo({ios:a,material:l}),M=ds(),P=Mce(n,M),j=w(Rce({...e},P,t)),G={...m};return Ve.createElement(_,KO({ref:z=>{b.current=z,i&&typeof i=="function"?i(z):i&&(i.current=z)},className:j.base},G),u)};VV.displayName="TableCell";const Oce=()=>({base:{common:"align-middle relative",ios:"hairline-b",material:""}});function QO(){return QO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QO.apply(null,arguments)}const qV=e=>{const{className:t,ios:n,material:r,children:a,ref:l,...u}=e,i=$.useRef(null),b=uo({ios:n,material:r})(Oce({...e})),_={...u};return Ve.createElement("thead",QO({ref:w=>{i.current=w,l&&typeof l=="function"?l(w):l&&(l.current=w)},className:b.base},_),a)};qV.displayName="TableHead";const Dce=(e,t)=>{const{header:n}=e;return{base:{common:"align-middle relative",ios:n?"":rt(t.bgIos,"hairline-b last:hairline-transparent"),material:n?"":rt(t.bgMaterial,`border-t ${t.dividerMaterial}`)}}},Lce=(e={},t)=>({bgIos:rt("hover:bg-black/5",t("dark:hover:bg-white/10")),bgMaterial:rt("hover:bg-md-light-secondary-container",t("dark:hover:bg-md-dark-secondary-container")),dividerMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),...fs(e)});function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(null,arguments)}const YV=e=>{const{className:t,colors:n,header:r,ios:a,material:l,children:u,ref:i,...m}=e,b=$.useRef(null),_=uo({ios:a,material:l}),w=ds(),M=Lce(n,w),P=_(Dce({...e},M)),j={...m};return Ve.createElement("tr",JO({ref:G=>{b.current=G,i&&typeof i=="function"?i(G):i&&(i.current=G)},className:P.base},j),u)};YV.displayName="TableRow";const Pce=(e,t,n,r)=>({base:{common:rt("k-toggle cursor-pointer select-none inline-block align-middle relative duration-300 rounded-full group",n("dark:touch-ripple-white"),r),ios:"h-7 w-16 p-0.5",material:"w-13 h-8 border-2",notChecked:{ios:"",material:rt(t.bgMaterial,t.borderMaterial)},checked:{ios:"",material:rt(t.checkedBgMaterial,t.checkedBorderMaterial)}},thumbSide:{common:"",material:"",ios:"absolute w-7 h-7 rounded-full top-0 duration-300 left-0",notChecked:rt("translate-x-8",t.bgIos),checked:rt(t.checkedBgIos)},thumbShadow:{common:"",material:"",ios:rt("absolute w-px h-px rounded-full top-1/2 duration-300 opacity-0 group-active:opacity-100 left-0 shadow-[0_0_40px_10px] shadow-primary/75",n("dark:shadow-[0_0_40px_15px] dark:shadow-primary")),notChecked:rt("translate-x-5"),checked:rt("translate-x-10.5")},thumbBg:{common:"",ios:"w-full h-full absolute inset-0 rounded-full group-active:scale-[0.75] duration-300 ",material:"contents",notChecked:t.bgIos,checked:t.checkedBgIos},thumbWrap:{common:"rounded-full absolute duration-300 transform",ios:rt("w-9.5 h-6 start-0.5 top-0.5 group-active:scale-[1.4] shadow-ios-thumb group-active:bg-transparent",t.thumbBgIos),material:"w-6 h-6 start-0.5 top-0.5",checked:{ios:rt("translate-x-5.5 rtl:!-translate-x-5.5"),material:rt("translate-x-5 rtl:!-translate-x-5")},notChecked:{}},thumb:{common:"w-full h-full rounded-full absolute duration-300 start-0 top-0 ",ios:rt("opacity-0 group-active:opacity-100 shadow-ios-light-glass-thumb",n("dark:bg-white/10 dark:shadow-ios-dark-glass-thumb")),material:"transform group-active:scale-[1.1]",checked:{material:rt(t.checkedThumbBgMaterial)},notChecked:{material:rt("scale-[0.666]",t.thumbBgMaterial)}},input:{common:"sr-only"}}),Fce=(e={},t)=>({bgIos:rt("bg-ios-light-surface-1-shade",t("dark:bg-ios-dark-surface-1-tint")),checkedBgIos:"bg-primary",thumbBgIos:"bg-white",checkedThumbBgIos:"bg-white",bgMaterial:rt("bg-md-light-surface-variant",t("dark:bg-md-dark-surface-variant")),checkedBgMaterial:rt("bg-md-light-primary",t("dark:bg-md-dark-primary")),borderMaterial:rt("border-md-light-outline",t("dark:border-md-dark-outline")),checkedBorderMaterial:rt("border-md-light-primary",t("dark:border-md-dark-primary")),thumbBgMaterial:rt("bg-md-light-outline",t("dark:bg-md-dark-outline")),checkedThumbBgMaterial:rt("bg-md-light-on-primary",t("dark:bg-md-dark-on-primary")),...fs(e)});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e3.apply(null,arguments)}const WV=e=>{const{component:t="label",className:n,colors:r,defaultChecked:a,checked:l,name:u,value:i,disabled:m,readOnly:b,onChange:_,ios:w,material:M,children:P,ref:j,...G}=e,z=$.useRef(null),q=$.useRef(null),Y=t,J={...G},ne=Xl({ios:w,material:M}),ie=uo({ios:w,material:M}),ue=ds();uw(q,ne==="material",z);const oe=Fce(r,ue),K=l||a&&!_?"checked":"notChecked",se=ie(Pce(e,oe,ue),n);return Ve.createElement(Y,e3({ref:pe=>{z.current=pe,j&&typeof j=="function"?j(pe):j&&(j.current=pe)},className:se.base[K]},J),Ve.createElement("input",{type:"checkbox",name:u,value:i,disabled:m,readOnly:b,checked:l,defaultChecked:a,onChange:_,className:se.input}),ne==="ios"?Ve.createElement(Ve.Fragment,null,Ve.createElement("span",{className:se.thumbSide[K]}),Ve.createElement("span",{className:se.thumbBg[K]}),Ve.createElement("span",{className:se.thumbShadow[K]}),Ve.createElement("span",{ref:q,className:se.thumbWrap[K]},Ve.createElement("span",{className:se.thumb[K]}))):Ve.createElement("span",{ref:q,className:se.thumbWrap[K]},Ve.createElement("span",{className:se.thumb[K]})),P)};WV.displayName="Toggle";const Bce=(e,t,n,r)=>{const{tabbar:a}=e;return{base:{common:rt(r),ios:rt("k-toolbar-pane flex relative justify-between items-center h-full rounded-full group/toolbar-pane",a&&"w-full md:w-auto"),material:rt("contents")},highlight:{ios:"absolute left-0 top-0 h-full rounded-[inherit]  duration-300 pointer-events-none"},highlightInner:{ios:rt("bg-black/10 rounded-[inherit] absolute inset-1 duration-300 pointer-events-none",n("dark:bg-white/15"))},highlightThumb:{ios:rt("rounded-[inherit] absolute inset-1 opacity-0 duration-300 shadow-ios-light-glass-thumb pointer-events-none bg-black/5",n("dark:shadow-ios-dark-glass-thumb dark:bg-white/10"))},highlightInnerPressed:{common:rt("opacity-0 scale-140")},highlightThumbPressed:{common:rt("opacity-100 scale-140")}}},$ce=(e={},t)=>({tabbarHighlightBgIos:rt("bg-black/10",t("dark:bg-white/15")),...fs(e)}),jce=e=>{const{getEl:t,getHighlightEl:n,getHighlightInnerEl:r,getHighlightThumbEl:a,getHasHighlight:l,data:u={},getHasTabbarLinks:i=()=>!1,setHasTabbarLinks:m=()=>{},classes:b={},getHighlightStyle:_={},setHighlightStyle:w=()=>{}}=e,M=()=>{u.raf=requestAnimationFrame(()=>{if(!u.setTransform)return;const ne=n();ne&&(ne.style.transform=u.setTransform,ne.style.transitionTimingFunction="ease-out",u.setTransform=null)})},P=()=>{cancelAnimationFrame(u.raf)},j=ne=>{if(!i())return;const{rect:ie,linkEls:ue}=u,{clientX:oe,clientY:K}=ne,se=ie.width/ue.length,pe=oe-ie.left-se/2,ve=0,Te=ie.width-se,Me=Math.max(ve,Math.min(pe,Te)),xe=[...ue].map((we,_e)=>_e*se+se/2),Se=xe.reduce((we,_e)=>{const Be=Me+se/2;return Math.abs(_e-Be)<Math.abs(we-Be)?_e:we},xe[0]),he=xe.indexOf(Se);u.newActiveIndex=he,r().classList.add(...b.highlightInnerPressed.split(" ")),a().classList.add(...b.highlightThumbPressed.split(" ")),u.setTransform=`translateX(${Me}px)`,M()},G=()=>{if(!i())return;cancelAnimationFrame(u.raf),u.setTransform=null,r().classList.remove(...b.highlightInnerPressed.split(" ")),a().classList.remove(...b.highlightThumbPressed.split(" "));const{activeIndex:ne,newActiveIndex:ie,linkEls:ue}=u;ne!==ie&&ue[ie].click(),n().style.transform=`translateX(${ie*100}%)`,n().style.transitionTimingFunction="",w({..._(),transform:`translateX(${ie*100}%)`,transitionTimingFunction:""})},z=ne=>{if(ne.pointerType!=="touch")return;const ie=t();if(ie){if(ne.type==="pointerdown"&&(u.rect=ie.getBoundingClientRect(),u.touched=!0,j(ne),M()),ne.type==="pointermove"){if(!u.touched)return;u.moved=!0,j(ne)}if(ne.type==="pointerup"){if(!u.touched)return;u.touched=!1,u.moved=!1,G(),P()}}};return{attachEvents:()=>{const ne=t();!ne||!l()||(ne.addEventListener("pointerdown",z),document.addEventListener("pointermove",z),document.addEventListener("pointerup",z))},detachEvents:()=>{const ne=t();!ne||!l()||(ne.removeEventListener("pointerdown",z),document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",z))},onUpdated:()=>{if(l()&&n()){const ne=t();if(!ne)return;const ie=ne.querySelectorAll("a, button");if(!ie.length){m(!1);return}m(!0);const ue=t().querySelector(".k-tabbar-link-active"),oe=1/ie.length*100,K=[...ie].indexOf(ue);u.linkEls=ie,u.activeIndex=K,w({..._(),width:`${oe}%`,transform:`translateX(${K*100}%)`})}}}};function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t3.apply(null,arguments)}const ZV=e=>{const{component:t="div",className:n,colors:r,ios:a,material:l,children:u,ref:i,...m}=e,b=$.useRef(null),_=$.useRef(null),[w,M]=$.useState({transform:"",width:""}),P=$.useRef({}),j=$.useRef(null),G=$.useRef(null),[z,q]=$.useState(!1),Y=uo({ios:a,material:l}),J={...m},ne=Xl({ios:a,material:l}),{tabbar:ie}=SV(),ue=ne==="ios"&&ie,oe=ds(),K=$ce(r,oe),se=Y(Bce({...e,tabbar:ie},K,oe),n),{attachEvents:pe,detachEvents:ve,onUpdated:Te}=jce({getEl:()=>b.current,getHighlightEl:()=>_.current,getHighlightInnerEl:()=>j.current,getHighlightThumbEl:()=>G.current,getHasHighlight:()=>ue,data:P.current,getHasTabbarLinks:()=>z,setHasTabbarLinks:q,classes:se,getHighlightStyle:()=>w,setHighlightStyle:M});return $.useEffect(()=>{Te()},[u]),$.useEffect(()=>(pe(),()=>{ve()})),ne==="material"?u:Ve.createElement(Wp,t3({component:t,ref:Me=>{b.current=Me,i&&typeof i=="function"?i(Me):i&&(i.current=Me)},className:se.base},J),u,ue&&Ve.createElement("span",{className:se.highlight,style:w,ref:_},Ve.createElement("span",{ref:j,className:se.highlightInner}),Ve.createElement("span",{ref:G,className:se.highlightThumb})))};ZV.displayName="ToolbarPane";const n9=pV,n3=mV,ig=gV,zce=yV,vu=yS,Uce=vV,Gce=bV,XV=_V,TA=xV,Jm=EV,ks=AV,Pb=IV,ql=NV,Oc=MV,Hce=OV,Dc=DV,Vce=LV,r3=PV,Yh=FV,KV=BV,qce=jV,r9=zV,QV=UV,Yce=GV,Wce=HV,JV=VV,Zce=qV,Xce=YV,Kce=WV,vL=RV,Qce=ZV;function Dn(...e){return hV(JH(e))}function a9(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function uv(...e){return t=>{let n=!1;const r=e.map(a=>{const l=a9(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():a9(e[a],null)}}}}function ni(...e){return $.useCallback(uv(...e),e)}var Jce=Symbol.for("react.lazy"),uk=gI[" use ".trim().toString()];function ede(e){return typeof e=="object"&&e!==null&&"then"in e}function eq(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===Jce&&"_payload"in e&&ede(e._payload)}function tq(e){const t=tde(e),n=$.forwardRef((r,a)=>{let{children:l,...u}=r;eq(l)&&typeof uk=="function"&&(l=uk(l._payload));const i=$.Children.toArray(l),m=i.find(rde);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}var Wf=tq("Slot");function tde(e){const t=$.forwardRef((n,r)=>{let{children:a,...l}=n;if(eq(a)&&typeof uk=="function"&&(a=uk(a._payload)),$.isValidElement(a)){const u=ide(a),i=ade(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nde=Symbol("radix.slottable");function rde(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nde}function ade(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function ide(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const a3=Vb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function Bn({className:e,variant:t,size:n,asChild:r=!1,...a}){const l=r?Wf:"button";return S.jsx(l,{"data-slot":"button",className:Dn(a3({variant:t,size:n,className:e})),...a})}function m1({className:e,...t}){return S.jsx("div",{"data-slot":"empty",className:Dn("flex min-w-0 flex-1 flex-col items-center justify-center gap-6 rounded-lg border-dashed p-6 text-center text-balance md:p-12",e),...t})}function g1({className:e,...t}){return S.jsx("div",{"data-slot":"empty-header",className:Dn("flex max-w-sm flex-col items-center gap-2 text-center",e),...t})}const ode=Vb("flex shrink-0 items-center justify-center mb-2 [&_svg]:pointer-events-none [&_svg]:shrink-0",{variants:{variant:{default:"bg-transparent",icon:"bg-muted text-foreground flex size-10 shrink-0 items-center justify-center rounded-lg [&_svg:not([class*='size-'])]:size-6"}},defaultVariants:{variant:"default"}});function y1({className:e,variant:t="default",...n}){return S.jsx("div",{"data-slot":"empty-icon","data-variant":t,className:Dn(ode({variant:t,className:e})),...n})}function v1({className:e,...t}){return S.jsx("div",{"data-slot":"empty-title",className:Dn("text-lg font-medium tracking-tight",e),...t})}function b1({className:e,...t}){return S.jsx("div",{"data-slot":"empty-description",className:Dn("text-muted-foreground [&>a:hover]:text-primary text-sm/relaxed [&>a]:underline [&>a]:underline-offset-4",e),...t})}function i3({className:e,...t}){return S.jsx("div",{"data-slot":"empty-content",className:Dn("flex w-full max-w-sm min-w-0 flex-col items-center gap-4 text-sm text-balance",e),...t})}const J0=window.location.hostname==="localhost",sde={red:"#ff0000",green:"#00ff00",blue:"#0000ff",yellow:"#ffff00",purple:"#800080",orange:"#ffa500",pink:"#ffc0cb",brown:"#a52a2a",cyan:"#00ffff",magenta:"#ff00ff",lime:"#00ff00",teal:"#008080",indigo:"#4b0082",violet:"#8a2be2",coral:"#ff7f50",salmon:"#fa8072",gold:"#ffd700",silver:"#c0c0c0",gray:"#808080",black:"#000000",white:"#ffffff"};function i9(e){e=e.replace("#",""),e.length===3&&(e=e.split("").map(a=>a+a).join(""));const t=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),r=parseInt(e.substring(4,6),16);return[t,n,r]}function lde(e,t){const[n,r,a]=e,[l,u,i]=t;return Math.sqrt(Math.pow(l-n,2)+Math.pow(u-r,2)+Math.pow(i-a,2))}function ude(e){if(!e)return"";try{const t=i9(e);let n=null,r=1/0;for(const[a,l]of Object.entries(sde)){const u=i9(l),i=lde(t,u);i<r&&(r=i,n=a)}return n?`k-color-brand-${n}`:"k-color-brand-red"}catch{return"k-color-brand-red"}}const cde=()=>J0?"http://localhost:8888":window.location.origin,dde=()=>{if(J0)return"http://localhost:8888/admin";let e=window.location.href;return e=e.split("#")[0],e=e.split("?")[0],e},fde={login:{ru:"",en:"Login"},registration:{ru:"",en:"Registration"},recovery:{ru:" ",en:"Password recovery"},restore:{ru:" ",en:"Restore access"},enterPassword:{ru:" ",en:"Enter password"},phoneLogin:{ru:"   ",en:"Phone login"},continue:{ru:"",en:"Continue"},forgotPassword:{ru:" ?",en:"Forgot password?"},or:{ru:"",en:"or"},emailOrLogin:{ru:"  ",en:"Email or login"},termsOfUse:{ru:"     ",en:"By entering the resource, you accept"},termsOfUseLink:{ru:" ",en:"terms of use"},and:{ru:"",en:"and"},privacyPolicyLink:{ru:"  ",en:"processing of personal data"},emailCodeConfirmationSentToEmail:{ru:"    ",en:"Code confirmation sent to email"},emailCodeConfirmation:{ru:" ",en:"Code confirmation"},password:{ru:"",en:"Password"},emailCodeConfirmationSent:{ru:"    ",en:"Code confirmation sent to email"},copyCode:{ru:" ",en:"Copy code"},selectMessenger:{ru:" ",en:"Select messenger"},autoLogin:{ru:"   ",en:"Send code to messenger"},scanQRCode:{ru:" QR-  ,     ",en:"Scan QR code with your phone to go to the selected messenger"},copiedToClipboard:{ru:"   ",en:"Copied to clipboard"},enterPhoneLogin:{ru:"  ",en:"Enter phone number"},phone:{ru:" ",en:"Phone number"},successfulAuthorization:{ru:" ",en:"Successful authorization"},searchPlaceholder:{ru:"",en:"Search"},total:{ru:"",en:"Total"},page:{ru:"",en:"Page"},empty_table_title:{ru:" ",en:"No data"},empty_table_description:{ru:"    ",en:"No data available for display"},empty_table_button_create:{ru:"",en:"Create"},empty_table_button_clean_filter:{ru:" ",en:"Clean filters"},select_value:{ru:" ",en:"Select value"},search:{ru:"",en:"Search"},no_results_found:{ru:"  ",en:"Nothing found"},set_password:{ru:" ",en:"Set password"},generate_random_password:{ru:"  ",en:"Generate random password"},close:{ru:"",en:"Close"},new_password:{ru:" ",en:"New password"},file_browse:{ru:" ",en:"Browse file"},file_drag_drop:{ru:"  ",en:"Drag and drop files here"},file_rejected:{ru:"  ",en:"File not accepted"},click_to_browse_file:{ru:"   ",en:"Click to browse file"},file_type_not_allowed:{ru:"   ",en:"File type not allowed"},file_size_max:{ru:"    ",en:"File size exceeds the maximum size"},from:{ru:"",en:"From"},to:{ru:"",en:"To"},select_date:{ru:" ",en:"Select date"},select_time:{ru:" ",en:"Select time"},pick_color:{ru:" ",en:"Select color"},reset:{ru:"",en:"Reset"},add_color:{ru:" ",en:"Add color"},min_colors_gradient:{ru:"     2",en:"Minimum number of colors in gradient 2"},enabled_float_number:{ru:"    ",en:"Allowed number with fractional part"},only_int_number:{ru:"  ",en:"Only integer number"},required_field:{ru:" ",en:"Required field"},add_to:{ru:" ",en:"Add to"},delete_all:{ru:" ",en:"Delete all"},sort:{ru:"",en:"Sort"},add:{ru:"",en:"Add"},cant_move_up:{ru:"  ",en:"Cannot move up"},cant_move_down:{ru:"  ",en:"Cannot move down"},no_data_short:{ru:" ",en:"Not set"},save:{ru:"",en:"Save"},copy:{ru:"",en:"Copy"},delete:{ru:"",en:"Delete"},save_and_close:{ru:"  ",en:"Save and close"},save_and_add_new:{ru:"   ",en:"Save and add new"},save_and_edit:{ru:"  ",en:"Save and continue"},copy_item_id:{ru:" ID",en:"Copy ID"},copy_item:{ru:" ",en:"Create copy"},start_entering_an_address_for_a_search_to_go_to_the_editing_mode_click_on_enable_editing_mode:{ru:'        "  "',en:'To go to the editing mode, click on the "Enable editing mode" button'},enable_editing_mode:{ru:"  ",en:"Enable editing mode"},add_comment:{ru:" ",en:"Add comment"},add_entrance:{ru:" ",en:"Add entrance"},add_floor:{ru:" ",en:"Add floor"},add_apartment:{ru:" ",en:"Add apartment"},add_phone:{ru:" ",en:"Add phone"},remove_comment:{ru:" ",en:"Remove comment"},remove_entrance:{ru:" ",en:"Remove entrance"},remove_floor:{ru:" ",en:"Remove floor"},remove_apartment:{ru:" ",en:"Remove apartment"},remove_phone:{ru:" ",en:"Remove phone"},you_can_edit_address_in_free_mode_to_go_to_search_mode_click_on_enable_search_mode:{ru:'       ,     ,    "  "',en:'You can edit the address in the free mode to go to the search mode, click on the "Enable search mode" button'},enable_search_mode:{ru:"  ",en:"Enable search mode"},search_address_placeholder:{ru:" ",en:"Enter address"},address:{ru:"",en:"Address"},entrance:{ru:"",en:"Entrance"},floor:{ru:"",en:"Floor"},apartment:{ru:"",en:"Apartment"},comment:{ru:"",en:"Comment"},searching:{ru:"...",en:"Searching..."},click_on_map_to_select_location:{ru:"     ",en:"Click on the map to select the location"},selected:{ru:"",en:"Selected"},delete_selected:{ru:" ",en:"Delete selected"},edit_fields:{ru:" ",en:"Edit fields"},do_action:{ru:" ",en:"Do action"},saving:{ru:"...",en:"Saving..."},saved_successfully:{ru:" ",en:"Saved successfully"},select_audio:{ru:" ",en:"Upload audio"},select_document:{ru:" ",en:"Upload document"},select_video:{ru:" ",en:"Upload video"},select_image:{ru:" ",en:"Upload image"},select_file:{ru:" ",en:"Upload file"},uploading_file_wait:{ru:" ...",en:"Uploading file..."},upload_new:{ru:"  ",en:"Upload new file"},copy_link:{ru:" ",en:"Copy link"},delete_item:{ru:" ?",en:"Delete record?"},delete_item_description:{ru:" ,     ?",en:"Are you sure you want to delete this record?"},cancel:{ru:"",en:"Cancel"},deleted_successfully:{ru:"  ",en:"Record deleted successfully"},error_saving:{ru:" ",en:"Error saving"},error_deleting:{ru:" ",en:"Error deleting"},record_audio:{ru:" ",en:"Record audio"},start_recording_stop_listen_apply:{ru:' ,      " ".       ,      ""',en:'Start recording, then click "Stop recording". You can listen to the recording and re-record it, then click "Save".'},start_recording:{ru:" ",en:"Start recording"},stop_recording:{ru:" ",en:"Stop recording"},recording_in_progress:{ru:" ...",en:"Recording in progress..."},rerecord:{ru:"",en:"Rerecord"},recording_audio_not_supported_in_this_browser:{ru:"      .",en:"Recording audio not supported in this browser."},my_account:{ru:"  ",en:"My account"},profile:{ru:"",en:"Profile"},billing:{ru:"",en:"Billing"},log_out:{ru:"",en:"Log out"},log_out_description:{ru:" ,      ?",en:"Are you sure you want to log out of your account?"},log_out_title:{ru:"   ",en:"Log out of account"},add_filter:{ru:" ",en:"Add filter"},search_fields:{ru:" ",en:"Search fields"},no_fields_found:{ru:"  ",en:"Fields not found"},select:{ru:"",en:"Select"},true:{ru:"",en:"Yes"},false:{ru:"",en:"No"},min:{ru:" ",en:"Minimum value"},max:{ru:" ",en:"Maximum value"},type_and_press_enter_to_add_tag:{ru:"   Enter   ",en:"Enter and press Enter to add a tag"},selected_count:{ru:"",en:"Selected"},percent:{ru:"",en:"Percent"},default_currency:{ru:"  ",en:"Default currency"},default_color:{ru:"  ",en:"Default color"},add_filter_title:{ru:" ",en:"Add filter"},enter_key:{ru:" ",en:"Enter key"},enter_value:{ru:" ",en:"Enter value"},invalid_email_format:{ru:"  email",en:"Invalid email format"},invalid_url_format:{ru:"  URL",en:"Invalid URL format"},invalid_phone_format:{ru:"  ",en:"Invalid phone format"},invalid_input_format:{ru:"  ",en:"Invalid input format"},filter_operator_is:{ru:"",en:"Equal"},filter_operator_is_not:{ru:" ",en:"Not equal"},filter_operator_after:{ru:"",en:"After"},filter_operator_before:{ru:"",en:"Before"},filter_operator_is_any_of:{ru:" ",en:"Any of"},filter_operator_between:{ru:"",en:"Between"},filter_operator_not_between:{ru:" ",en:"Not between"},filter_operator_is_not_any_of:{ru:"  ",en:"Not any of"},filter_operator_not_contains:{ru:" ",en:"Not contains"},filter_operator_starts_with:{ru:" ",en:"Starts with"},filter_operator_contains:{ru:"",en:"Contains"},filter_operator_includes_all:{ru:" ",en:"Includes all"},filter_operator_is_exactly:{ru:" ",en:"Exactly matches"},filter_operator_equals:{ru:"",en:"Equal"},filter_operator_not_equals:{ru:" ",en:"Not equal"},filter_operator_ends_with:{ru:" ",en:"Ends with"},filter_operator_excludes_all:{ru:"  ",en:"Does not include all"},filter_operator_less_than:{ru:"",en:"Less than"},filter_operator_overlaps:{ru:"",en:"Overlaps"},filter_operator_includes:{ru:"",en:"Includes"},filter_operator_excludes:{ru:" ",en:"Does not include"},filter_operator_greater_than:{ru:"",en:"Greater than"},filter_operator_includes_any_of:{ru:"  ",en:"Includes any of"},filter_operator_empty:{ru:"",en:"Empty"},filter_operator_not_empty:{ru:" ",en:"Not empty"},filter_operator_includes_all_of:{ru:" ",en:"Includes all"},saving_profile:{ru:" ...",en:"Saving profile..."},profile_saved_successfully:{ru:"  ",en:"Profile saved successfully"},error_saving_profile:{ru:"  ",en:"Error saving profile"},change_password:{ru:" ",en:"Change password"},save_new_password:{ru:"  ",en:"Save new password"},new_password_saved_successfully:{ru:"   ",en:"New password saved successfully"},error_saving_new_password:{ru:"   ",en:"Error saving new password"},search_placeholder:{ru:"...",en:"Search..."},invalidLoginOrEmail:{ru:"   email",en:"Invalid login or email"},Enter:{ru:"",en:"Enter"},filter:{ru:"",en:"Filter"},select_filter:{ru:" ",en:"Select filter"},Yes:{ru:"",en:"Yes"},No:{ru:"",en:"No"},select_operator:{ru:" ",en:"Select operator"},greater_than:{ru:" ",en:"Greater than"},less_than:{ru:" ",en:"Less than"},between:{ru:"",en:"Between"},select_value_address:{ru:" ",en:"Select address"},export:{ru:"",en:"Export"},create:{ru:"",en:"Create"},sortingByHandSuccess:{ru:"  ",en:"Sorting saved successfully"},sortingByHandError:{ru:"  ",en:"Error saving sorting"},sortingByHandDisabledWithManualSort:{ru:"      ",en:"Column sorting is disabled when manual sorting is enabled"},disableManualSort:{ru:"  ",en:"Disable manual sorting"},manualSort:{ru:" ",en:"Manual sorting"},date:{ru:"",en:"Date"},time:{ru:"",en:"Time"},Element:{ru:"",en:"Element"},is_required:{ru:" ",en:"is required"},exportCreatedSuccess:{ru:" ,        ,    .",en:"Export created, you will be able to download it in the Export data section when it is ready."},export_data:{ru:" ",en:"Export data"},no_export_data:{ru:"   ",en:"You have no exports"},no_export_data_description:{ru:"           ",en:"After creating an export, here you can track its status and download the result"},export_data_pending:{ru:" ",en:"Preparing data"},export_data_processing:{ru:" ",en:"Generating file"},export_data_done:{ru:" ",en:"File is ready"},export_data_error:{ru:" ",en:"Error exporting"},export_data_confirm:{ru:" ",en:"Export confirmation"},export_data_confirm_description:{ru:" ,    ?",en:"Are you sure you want to export data?"},payment:{ru:"",en:"Operation"},payment_history:{ru:"   ",en:"Payment history"},payment_history_description_one:{ru:"      ,     .",en:"The withdrawal of funds for services is made from accounts formed in the order of payment inflow."},payment_history_description_two:{ru:"           .",en:"In case of reaching a negative balance of the account, debt deductions are covered by the next inflow."},payment_and_balance:{ru:"  ",en:"Payments and balance"},spend_balance:{ru:"  ",en:"Spend from balance"},earn_balance:{ru:"  ",en:"Earn on balance"},all_operations:{ru:" ",en:"All operations"},payment_type:{ru:" ",en:"Operation type"},payment_description:{ru:"",en:"Details"},payment_amount:{ru:"",en:"Amount"},payment_currency:{ru:"",en:"Currency"},payment_earn:{ru:"",en:"Earn"},not_found_payment:{ru:"    ",en:"No operations found for balance"},top_up_balance:{ru:"",en:"Top up"},export_report:{ru:"  ",en:"Download payment report"},no_gateways_available:{ru:"    ",en:"Online payment is not available"},no_gateways_available_description:{ru:"      ,         .",en:"You cannot top up the balance online, for top up contact support or your manager."},exporting_report:{ru:"  ...",en:"Generating payment report..."},report_exported_successfully:{ru:"   ,        ,    .",en:"Payment report successfully generated, you will be able to download it in the Export data section when it is ready."},error_exporting_report:{ru:"   ",en:"Error generating payment report"},edit_item:{ru:"",en:"Edit"},create_item:{ru:"",en:"Create new"},calendar_su_sort:{ru:"",en:"Su"},calendar_mo_sort:{ru:"",en:"Mo"},calendar_sa_sort:{ru:"",en:"Sa"},calendar_tu_sort:{ru:"",en:"Tu"},calendar_we_sort:{ru:"",en:"We"},calendar_th_sort:{ru:"",en:"Th"},calendar_fr_sort:{ru:"",en:"Fr"},all:{ru:"",en:"All"},remove_selected:{ru:" ",en:"Remove selected"},add_selected:{ru:" ",en:"Add selected"},confirm_ids_selection:{ru:" ",en:"Save selection"},confirm_ids_selection_description:{ru:"  ?",en:"Save selected items?"},items:{ru:"",en:"Items"},remove_selected_items:{ru:"  ?",en:"Delete selected items?"},remove_selected_items_description:{ru:" ,     ?     .",en:"Are you sure you want to delete selected items? This action cannot be undone."},removing_selected_items:{ru:"  ...",en:"Removing selected items..."},remove_selected_items_success:{ru:"   ",en:"Selected items deleted successfully"},add_from_excel:{ru:"  Excel",en:"Add from Excel"},import_from_excel:{ru:"  Excel",en:"Import from Excel"},select_excel_file:{ru:"  Excel",en:"Select Excel file"},import_from_excel_description_one:{ru:"  Excel   ,      ",en:"Select an Excel file to import data, the first column will be used as the value"},vkLogin:{ru:"VK",en:"VK"},yaLogin:{ru:"",en:"Yandex"},googleLogin:{ru:"Google",en:"Google"},loginWithAuth4AppInstructions:{ru:"    ,         .       .",en:"To login by phone number, copy the code and send it to one of the messengers. Login will be performed automatically after sending the code."},selectMessengerAndSendCodeToMessenger:{ru:"      ",en:"Select messenger and send code to it"},cancelAuthWithPhoneNumber:{ru:"    ",en:"Cancel login by phone number"},enter_new_password:{ru:"  ",en:"Enter new password"},payment_spend:{ru:"",en:"Spend"},export_selected:{ru:" ",en:"Export selected"},export_selected_items:{ru:"  ?",en:"Export selected items?"},export_selected_items_description:{ru:" ,     ?",en:"Are you sure you want to export selected items?"},apply:{ru:"",en:"Apply"},clearFilter:{ru:" ",en:"Clear filters"},please_add_filter:{ru:",  ",en:"Please add a filter"},no_filters_title:{ru:"  ",en:"Filters not set"},no_filters_description:{ru:"       ",en:"Click the add filter button to add a filter"},clear_all:{ru:" ",en:"Clear all"},edit:{ru:"",en:"Edit"},click_to_set_location:{ru:"   ",en:"Click to set location"},error_please_go_to_support:{ru:"! , -   ,   ",en:"Oops! Something went wrong, please contact support"},region_editor:{ru:" ",en:"Region editor"},edit_field:{ru:" ",en:"Edit field"},remove_item:{ru:" ?",en:"Delete item?"},remove_item_description:{ru:" ,    ?     .",en:"Are you sure you want to delete the item? This action cannot be undone."},actions:{ru:"",en:"Actions"},execute:{ru:"",en:"Execute"},open_link:{ru:" ",en:"Open link"},executing:{ru:"...",en:"Executing..."},action_dialog_success_title:{ru:"  ",en:"Action executed successfully"},hide_tips:{ru:" ",en:"Hide tips"},show_tips:{ru:" ",en:"Show tips"},run_action_confirm:{ru:" ,    ?",en:"Are you sure you want to run the action?"},dark_theme:{ru:" ",en:"Dark theme"},light_theme:{ru:" ",en:"Light theme"},internet_error_navbar_title:{ru:"  ",en:"Connection Issues"},internet_error_card_header:{ru:"    ",en:"No connection to server "},internet_error_card_description:{ru:"       .   -       .",en:"Connection to the server was interrupted or the server is temporarily unavailable. Check your internet connection and try refreshing the page in a few seconds."},internet_error_card_button:{ru:" ",en:"Try Again"},relations_collection:{ru:" ",en:"Related data"}};class tt{static initLang(){const t=localStorage.getItem("lang");if(t=="ru"||t=="en")this.setCurrentLang(t);else{const n=navigator.language.split("-")[0];n=="ru"||n=="en"?this.setCurrentLang(n):this.setCurrentLang("en")}}static currentLang="ru";static pendingKeys=new Set;static getCurrentLang(){return this.currentLang}static manualChangeLang(t){this.setCurrentLang(t),window.location.reload()}static setCurrentLang(t){this.currentLang=t,localStorage.setItem("lang",t)}static async addKeyToLocal(t){this.pendingKeys.has(t)||this.pendingKeys.add(t)}static key(t){let n=fde?.[t];return n?n[this.currentLang]:t}}const Ym={events:{},execute(e,t){this.events[e]&&this.events[e].forEach(n=>n(t))},subscribe(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter(n=>n!==t)}},delete(e){delete this.events[e]}},nq=$.createContext(void 0);function hde({children:e}){const[t,n]=$.useState(!1),[r,a]=$.useState(!1);$.useEffect(()=>{Ym.subscribe("internetError",()=>{a(!0)}),localStorage.getItem("hideTips")==="true"&&n(!0);const se=localStorage.getItem("_theme");M(se==="dark")},[]),$.useEffect(()=>{localStorage.setItem("hideTips",t.toString())},[t]);const[l,u]=$.useState(!1),[i,m]=$.useState({}),[b,_]=$.useState(!1),[w,M]=$.useState(!1),P=K=>{const se=window.document.documentElement;se.classList.remove("light","dark"),se.classList.add(K)},j=()=>{M(!w)};$.useEffect(()=>{P(w?"dark":"light"),localStorage.setItem("_theme",w?"dark":"light")},[w]);const G=$.useRef(!1);$.useEffect(()=>{u(window.innerWidth<768),window.addEventListener("resize",()=>{u(window.innerWidth<768)}),!G.current&&(G.current=!0,SI.init().then(K=>{K&&(m(K),_(!0))}))},[]),$.useEffect(()=>{i.color&&(document.documentElement.style.setProperty("--color-primary",i.color),document.documentElement.style.setProperty("--k-color-primary",i.color))},[i]);const[z,q]=$.useState([]),[Y,J]=$.useState(void 0);$.useEffect(()=>{if(z.length>0){let K;z[z.length-1].view?K=z?.[z.length-1]?.view?.modalKey:z[z.length-1].table&&(K=z?.[z.length-1]?.table?.modalKey),J(K)}else J(void 0)},[z]);const ne=K=>{q(se=>[...se,{view:{...K,modalKey:`collection_view_${K.collection}_${K._id??"create"}_${K.clonedFrom??""}`}}])},ie=K=>{q(se=>[...se,{table:{collection:K.collection,defaultFilter:{[K.key]:{in:K.ids}},modalKey:`collection_table_${K.collection}_${JSON.stringify(K.key)??""}`}}])},ue=K=>{K&&q(se=>se.filter(pe=>pe.view?.modalKey!==K&&pe.table?.modalKey!==K))},oe=/iPad|iPhone|iPod/.test(navigator.userAgent);return r?l?S.jsx(n9,{className:"k-color-brand-red",theme:oe?"ios":"material",children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("internet_error_navbar_title"),right:S.jsx(ks,{onClick:()=>{window.location.reload()},children:S.jsx(pR,{className:"mr-3"})})}),S.jsxs(ig,{outline:!0,className:"flex flex-col items-center justify-center",children:[S.jsx("div",{className:"text-xl font-medium",children:tt.key("internet_error_card_header")}),S.jsx(I$,{className:"animate-pulse my-4",size:60}),S.jsx("div",{children:tt.key("internet_error_card_description")})]}),S.jsx(ig,{children:S.jsxs(vu,{onClick:()=>{window.location.reload()},children:[S.jsx(pR,{className:"mr-3"}),"  ",tt.key("internet_error_card_button")]})})]})}):S.jsx("div",{className:"w-screen h-screen flex items-center justify-center",children:S.jsxs(m1,{children:[S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(I$,{size:60})}),S.jsx(v1,{children:tt.key("internet_error_card_header")}),S.jsx(b1,{children:tt.key("internet_error_card_description")})]}),S.jsx(i3,{children:S.jsxs(Bn,{onClick:()=>{window.location.reload()},children:[S.jsx(pR,{})," ",tt.key("internet_error_card_button")]})})]})}):S.jsx(nq.Provider,{value:{...i,initLoaded:b,toggleTheme:j,focusDialogKey:Y,color:i.color??"#000000",isMobile:l,isDarkTheme:w,openTableDialog:ie,dialogStack:z,openDialog:ne,closeDialog:ue,hideTips:t,setHideTips:n},children:l?S.jsx(n9,{className:ude(i.color),theme:oe?"ios":"material",children:e}):e})}function Fr(){const e=$.useContext(nq);if(e===void 0)throw new Error("useAppConfig must be used within an AppConfigProvider");return e}const Ca={success:(e,t)=>Ch.current?Ch.current?.success(e,t):$p.success(e,t),info:(e,t)=>Ch.current?Ch.current?.info(e,t):$p.info(e,t),warning:(e,t)=>Ch.current?Ch.current?.warning(e,t):$p.warning(e,t),error:(e,t)=>Ch.current?Ch.current?.error(e,t):$p.error(e,t),dismiss:e=>Ch.current?Ch.current?.dismiss(e):$p.dismiss(e),loading:(e,t)=>Ch.current?Ch.current?.loading(e,t):$p.loading(e,t)},Ch=$.createRef(),pde=$.forwardRef((e,t)=>{const[n,r]=$.useState(null),{isMobile:a,title:l,icon:u}=Fr();return $.useImperativeHandle(t,()=>({success:(i,m)=>a?(r({message:i,type:"success"}),0):$p.success(i,m),info:(i,m)=>a?(r({message:i,type:"info"}),0):$p.info(i,m),warning:(i,m)=>a?(r({message:i,type:"warning"}),0):$p.warning(i,m),error:(i,m)=>a?(r({message:i,type:"error"}),0):$p.error(i,m),dismiss:i=>a?(r(null),0):$p.dismiss(i),loading:(i,m)=>a?(r({message:i,type:"loading"}),0):$p.loading(i,m)})),$.useEffect(()=>{if(n&&n.type!=="loading"){const i=setTimeout(()=>{r(null)},3e3);return()=>clearTimeout(i)}},[n,a]),a?S.jsx(Hce,{opened:!!n,icon:S.jsx("img",{src:u,className:"w-6 h-6 rounded-sm"}),onClick:()=>{r(null)},title:l,button:!0,subtitle:n?.message}):S.jsx(Ple,{position:"top-right"})}),o9=dde()??"";yo.extend(ale);yo.extend(ele);class mi{static headers={timezone:yo.tz.guess()};static xorEncrypt(t,n){const r=new TextEncoder().encode(t),a=new TextEncoder().encode(n),l=new Uint8Array(r.length);for(let u=0;u<r.length;u++)l[u]=r[u]^a[u%a.length];return btoa(String.fromCharCode(...Array.from(l)))}static xorDecrypt(t,n){const r=atob(t),a=new Uint8Array(r.length);for(let i=0;i<r.length;i++)a[i]=r.charCodeAt(i);const l=new TextEncoder().encode(n),u=new Uint8Array(a.length);for(let i=0;i<a.length;i++)u[i]=a[i]^l[i%l.length];return new TextDecoder().decode(u)}static setHeaders(t){this.headers={...this.headers,...t}}static callFormData(t,n){const r=J0?void 0:SC();return n.append("method",t),n.append("timezone",yo.tz.guess()),n.append("token",window.token??localStorage.token),n.append("id",SC()),r&&n.append("context",r),new Promise((a,l)=>{fetch(o9,{method:"POST",headers:{...this.headers},body:n}).then(u=>{if(!u.ok||u.status>=500)throw Ym.execute("internetError"),new Error(`Server error: ${u.status}`);return u.json()}).then(u=>{r&&u.result&&(u.result=JSON.parse(this.xorDecrypt(u.result,r)));let i=u;if(i?.error){(i.error.type==="UNAUTHORIZED"||i.error.type==="UNAUTHENTICATED")&&(localStorage.clear(),window.location.reload()),i.error?.message&&Ca.error(i.error.message),l(u.error);return}a(i.result)}).catch(u=>{(u instanceof TypeError||u.message?.includes("fetch")||u.message?.includes("Server error"))&&Ym.execute("internetError"),l(u)})})}static call(t,n){const r=J0?void 0:SC(),a={method:t,params:n?r?this.xorEncrypt(JSON.stringify(n??{}),r):n:void 0,context:r,timezone:yo.tz.guess(),token:window.token??localStorage.token,id:SC()};return new Promise((l,u)=>{console.log("  RPC Request: ",a.method,a),fetch(o9,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(a)}).then(i=>{if(!i.ok||i.status>=500)throw Ym.execute("internetError"),new Error(`Server error: ${i.status}`);return i.json()}).then(i=>{r&&i.result&&(i.result=JSON.parse(this.xorDecrypt(i.result,r)));let m=i;if(m?.error){(m.error.type==="UNAUTHORIZED"||m.error.type==="UNAUTHENTICATED")&&(localStorage.clear(),window.location.reload()),m.error?.message&&Ca.error(m.error.message),u(i.error);return}l(m.result)}).catch(i=>{(i instanceof TypeError||i.message?.includes("fetch")||i.message?.includes("Server error"))&&Ym.execute("internetError"),u(i)})})}}const ja={apikeys:()=>mi.call("apikeys"),audioUpload:e=>mi.callFormData("audioUpload",e),authEmail:e=>mi.call("authEmail",e),authEmailPrepare:e=>mi.call("authEmailPrepare",e),authPhone:e=>mi.call("authPhone",e),authSoc:e=>mi.call("authSoc",e),collection:e=>mi.call("collection",e),compositeTypes:()=>mi.call("compositeTypes"),dashboard:e=>mi.call("dashboard",e),data:e=>mi.call("data",e),deleteData:e=>mi.call("deleteData",e),deleteExport:e=>mi.call("deleteExport",e),displayValues:e=>mi.call("displayValues",e),documentUpload:e=>mi.callFormData("documentUpload",e),emptyData:e=>mi.call("emptyData",e),filter:e=>mi.call("filter",e),generatePaymentLink:e=>mi.call("generatePaymentLink",e),geocode:e=>mi.call("geocode",e),geolocation:e=>mi.call("geolocation",e),hash:e=>mi.call("hash",e),imageUpload:e=>mi.callFormData("imageUpload",e),init:()=>mi.call("init"),lastBalanceOperations:()=>mi.call("lastBalanceOperations"),listExport:()=>mi.call("listExport"),makeExport:e=>mi.call("makeExport",e),makeStatementExport:e=>mi.call("makeStatementExport",e),menu:()=>mi.call("menu"),moveUpdate:e=>mi.call("moveUpdate",e),newApiKey:e=>mi.call("newApiKey",e),profile:()=>mi.call("profile"),removeApiKey:e=>mi.call("removeApiKey",e),runAction:e=>mi.call("runAction",e),stagesTotal:e=>mi.call("stagesTotal",e),update:e=>mi.call("update",e),updateProfile:e=>mi.call("updateProfile",e),videoUpload:e=>mi.callFormData("videoUpload",e)};var k2={exports:{}};var mde=k2.exports,s9;function gde(){return s9||(s9=1,(function(e,t){(function(){var n,r="4.17.21",a=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",i="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",b=500,_="__lodash_placeholder__",w=1,M=2,P=4,j=1,G=2,z=1,q=2,Y=4,J=8,ne=16,ie=32,ue=64,oe=128,K=256,se=512,pe=30,ve="...",Te=800,Me=16,xe=1,Se=2,he=3,we=1/0,_e=9007199254740991,Be=17976931348623157e292,He=NaN,Re=4294967295,je=Re-1,Ze=Re>>>1,Qe=[["ary",oe],["bind",z],["bindKey",q],["curry",J],["curryRight",ne],["flip",se],["partial",ie],["partialRight",ue],["rearg",K]],Pe="[object Arguments]",St="[object Array]",Nt="[object AsyncFunction]",We="[object Boolean]",en="[object Date]",zt="[object DOMException]",rn="[object Error]",Ge="[object Function]",kn="[object GeneratorFunction]",_n="[object Map]",Lt="[object Number]",pn="[object Null]",Tn="[object Object]",tr="[object Promise]",Vt="[object Proxy]",lr="[object RegExp]",sr="[object Set]",xn="[object String]",En="[object Symbol]",hn="[object Undefined]",jn="[object WeakMap]",_t="[object WeakSet]",Oe="[object ArrayBuffer]",ke="[object DataView]",qe="[object Float32Array]",ut="[object Float64Array]",dt="[object Int8Array]",Ut="[object Int16Array]",Bt="[object Int32Array]",xt="[object Uint8Array]",Ct="[object Uint8ClampedArray]",sn="[object Uint16Array]",mn="[object Uint32Array]",Vn=/\b__p \+= '';/g,gn=/\b(__p \+=) '' \+/g,qn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xn=/&(?:amp|lt|gt|quot|#39);/g,Qn=/[&<>"']/g,Pt=RegExp(Xn.source),wn=RegExp(Qn.source),Mr=/<%-([\s\S]+?)%>/g,Mn=/<%([\s\S]+?)%>/g,on=/<%=([\s\S]+?)%>/g,Wr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Tr=/^\w*$/,Ir=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xr=/[\\^$.*+?()[\]{}|]/g,yt=RegExp(Xr.source),Ft=/^\s+/,Yt=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pn=/\{\n\/\* \[wrapped with (.+)\] \*/,nr=/,? & /,fr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Jn=/[()=,{}\[\]\/\s]/,qt=/\\(\\)?/g,Gn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zn=/\w*$/,hr=/^[-+]0x[0-9a-f]+$/i,ra=/^0b[01]+$/i,ua=/^\[object .+?Constructor\]$/,ft=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,mt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,Cn=/['\n\r\u2028\u2029\\]/g,Yn="\\ud800-\\udfff",Wn="\\u0300-\\u036f",br="\\ufe20-\\ufe2f",Br="\\u20d0-\\u20ff",_r=Wn+br+Br,Nr="\\u2700-\\u27bf",Ur="a-z\\xdf-\\xf6\\xf8-\\xff",Wa="\\xac\\xb1\\xd7\\xf7",Or="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kr="\\u2000-\\u206f",za=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Za="A-Z\\xc0-\\xd6\\xd8-\\xde",pa="\\ufe0e\\ufe0f",aa=Wa+Or+Kr+za,Ol="[']",$c="["+Yn+"]",yl="["+aa+"]",hs="["+_r+"]",va="\\d+",Ua="["+Nr+"]",wi="["+Ur+"]",Zs="[^"+Yn+aa+va+Nr+Ur+Za+"]",Kl="\\ud83c[\\udffb-\\udfff]",bo="(?:"+hs+"|"+Kl+")",_o="[^"+Yn+"]",Xs="(?:\\ud83c[\\udde6-\\uddff]){2}",Lo="[\\ud800-\\udbff][\\udc00-\\udfff]",co="["+Za+"]",_u="\\u200d",Po="(?:"+wi+"|"+Zs+")",wd="(?:"+co+"|"+Zs+")",Is="(?:"+Ol+"(?:d|ll|m|re|s|t|ve))?",Aa="(?:"+Ol+"(?:D|LL|M|RE|S|T|VE))?",Fo=bo+"?",Jr="["+pa+"]?",ps="(?:"+_u+"(?:"+[_o,Xs,Lo].join("|")+")"+Jr+Fo+")*",xo="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Qi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ji=Jr+Fo+ps,Ji="(?:"+[Ua,Xs,Lo].join("|")+")"+ji,Si="(?:"+[_o+hs+"?",hs,Xs,Lo,$c].join("|")+")",Vr=RegExp(Ol,"g"),Va=RegExp(hs,"g"),Ks=RegExp(Kl+"(?="+Kl+")|"+Si+ji,"g"),Oi=RegExp([co+"?"+wi+"+"+Is+"(?="+[yl,co,"$"].join("|")+")",wd+"+"+Aa+"(?="+[yl,co+Po,"$"].join("|")+")",co+"?"+Po+"+"+Is,co+"+"+Aa,Qi,xo,va,Ji].join("|"),"g"),da=RegExp("["+_u+Yn+_r+pa+"]"),li=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ns=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ql=-1,Qr={};Qr[qe]=Qr[ut]=Qr[dt]=Qr[Ut]=Qr[Bt]=Qr[xt]=Qr[Ct]=Qr[sn]=Qr[mn]=!0,Qr[Pe]=Qr[St]=Qr[Oe]=Qr[We]=Qr[ke]=Qr[en]=Qr[rn]=Qr[Ge]=Qr[_n]=Qr[Lt]=Qr[Tn]=Qr[lr]=Qr[sr]=Qr[xn]=Qr[jn]=!1;var Pa={};Pa[Pe]=Pa[St]=Pa[Oe]=Pa[ke]=Pa[We]=Pa[en]=Pa[qe]=Pa[ut]=Pa[dt]=Pa[Ut]=Pa[Bt]=Pa[_n]=Pa[Lt]=Pa[Tn]=Pa[lr]=Pa[sr]=Pa[xn]=Pa[En]=Pa[xt]=Pa[Ct]=Pa[sn]=Pa[mn]=!0,Pa[rn]=Pa[Ge]=Pa[jn]=!1;var gi={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},jc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},eo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ms=parseFloat,Qf=parseInt,rc=typeof _C=="object"&&_C&&_C.Object===Object&&_C,Rs=typeof self=="object"&&self&&self.Object===Object&&self,ia=rc||Rs||Function("return this")(),xu=t&&!t.nodeType&&t,Gr=xu&&!0&&e&&!e.nodeType&&e,Zr=Gr&&Gr.exports===xu,ac=Zr&&rc.process,ea=(function(){try{var p=Gr&&Gr.require&&Gr.require("util").types;return p||ac&&ac.binding&&ac.binding("util")}catch{}})(),Sd=ea&&ea.isArrayBuffer,Bo=ea&&ea.isDate,ic=ea&&ea.isMap,$o=ea&&ea.isRegExp,Zh=ea&&ea.isSet,sf=ea&&ea.isTypedArray;function Ms(p,v,A){switch(A.length){case 0:return p.call(v);case 1:return p.call(v,A[0]);case 2:return p.call(v,A[0],A[1]);case 3:return p.call(v,A[0],A[1],A[2])}return p.apply(v,A)}function Hy(p,v,A,H){for(var te=-1,me=p==null?0:p.length;++te<me;){var Ie=p[te];v(H,Ie,A(Ie),p)}return H}function Qs(p,v){for(var A=-1,H=p==null?0:p.length;++A<H&&v(p[A],A,p)!==!1;);return p}function Os(p,v){for(var A=p==null?0:p.length;A--&&v(p[A],A,p)!==!1;);return p}function Jl(p,v){for(var A=-1,H=p==null?0:p.length;++A<H;)if(!v(p[A],A,p))return!1;return!0}function qa(p,v){for(var A=-1,H=p==null?0:p.length,te=0,me=[];++A<H;){var Ie=p[A];v(Ie,A,p)&&(me[te++]=Ie)}return me}function gs(p,v){var A=p==null?0:p.length;return!!A&&el(p,v,0)>-1}function Eo(p,v,A){for(var H=-1,te=p==null?0:p.length;++H<te;)if(A(v,p[H]))return!0;return!1}function ui(p,v){for(var A=-1,H=p==null?0:p.length,te=Array(H);++A<H;)te[A]=v(p[A],A,p);return te}function Xa(p,v){for(var A=-1,H=v.length,te=p.length;++A<H;)p[te+A]=v[A];return p}function Xh(p,v,A,H){var te=-1,me=p==null?0:p.length;for(H&&me&&(A=p[++te]);++te<me;)A=v(A,p[te],te,p);return A}function lf(p,v,A,H){var te=p==null?0:p.length;for(H&&te&&(A=p[--te]);te--;)A=v(A,p[te],te,p);return A}function Jf(p,v){for(var A=-1,H=p==null?0:p.length;++A<H;)if(v(p[A],A,p))return!0;return!1}var tm=oc("length");function Td(p){return p.split("")}function Js(p){return p.match(fr)||[]}function zc(p,v,A){var H;return A(p,function(te,me,Ie){if(v(te,me,Ie))return H=me,!1}),H}function jo(p,v,A,H){for(var te=p.length,me=A+(H?1:-1);H?me--:++me<te;)if(v(p[me],me,p))return me;return-1}function el(p,v,A){return v===v?ah(p,v,A):jo(p,Uc,A)}function uf(p,v,A,H){for(var te=A-1,me=p.length;++te<me;)if(H(p[te],v))return te;return-1}function Uc(p){return p!==p}function Di(p,v){var A=p==null?0:p.length;return A?Kh(p,v)/A:He}function oc(p){return function(v){return v==null?n:v[p]}}function Eu(p){return function(v){return p==null?n:p[v]}}function Cd(p,v,A,H,te){return te(p,function(me,Ie,Ue){A=H?(H=!1,me):v(A,me,Ie,Ue)}),A}function Gc(p,v){var A=p.length;for(p.sort(v);A--;)p[A]=p[A].value;return p}function Kh(p,v){for(var A,H=-1,te=p.length;++H<te;){var me=v(p[H]);me!==n&&(A=A===n?me:A+me)}return A}function Ad(p,v){for(var A=-1,H=Array(p);++A<p;)H[A]=v(A);return H}function bg(p,v){return ui(v,function(A){return[A,p[A]]})}function Dl(p){return p&&p.slice(0,cc(p)+1).replace(Ft,"")}function ys(p){return function(v){return p(v)}}function Qh(p,v){return ui(v,function(A){return p[A]})}function kd(p,v){return p.has(v)}function eh(p,v){for(var A=-1,H=p.length;++A<H&&el(v,p[A],0)>-1;);return A}function cf(p,v){for(var A=p.length;A--&&el(v,p[A],0)>-1;);return A}function Id(p,v){for(var A=p.length,H=0;A--;)p[A]===v&&++H;return H}var df=Eu(gi),_g=Eu(jc);function th(p){return"\\"+eo[p]}function Hc(p,v){return p==null?n:p[v]}function Vc(p){return da.test(p)}function nh(p){return li.test(p)}function sc(p){for(var v,A=[];!(v=p.next()).done;)A.push(v.value);return A}function ff(p){var v=-1,A=Array(p.size);return p.forEach(function(H,te){A[++v]=[te,H]}),A}function Nd(p,v){return function(A){return p(v(A))}}function lc(p,v){for(var A=-1,H=p.length,te=0,me=[];++A<H;){var Ie=p[A];(Ie===v||Ie===_)&&(p[A]=_,me[te++]=A)}return me}function rh(p){var v=-1,A=Array(p.size);return p.forEach(function(H){A[++v]=H}),A}function Jh(p){var v=-1,A=Array(p.size);return p.forEach(function(H){A[++v]=[H,H]}),A}function ah(p,v,A){for(var H=A-1,te=p.length;++H<te;)if(p[H]===v)return H;return-1}function nm(p,v,A){for(var H=A+1;H--;)if(p[H]===v)return H;return H}function uc(p){return Vc(p)?ih(p):tm(p)}function Li(p){return Vc(p)?oh(p):Td(p)}function cc(p){for(var v=p.length;v--&&Yt.test(p.charAt(v)););return v}var as=Eu(rs);function ih(p){for(var v=Ks.lastIndex=0;Ks.test(p);)++v;return v}function oh(p){return p.match(Ks)||[]}function Ds(p){return p.match(Oi)||[]}var tl=(function p(v){v=v==null?ia:R.defaults(ia.Object(),v,R.pick(ia,Ns));var A=v.Array,H=v.Date,te=v.Error,me=v.Function,Ie=v.Math,Ue=v.Object,ot=v.RegExp,Ht=v.String,Wt=v.TypeError,Fn=A.prototype,pr=me.prototype,xr=Ue.prototype,Dr=v["__core-js_shared__"],ga=pr.toString,yr=xr.hasOwnProperty,oi=0,to=(function(){var C=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return C?"Symbol(src)_1."+C:""})(),Ka=xr.toString,vs=ga.call(Ue),wo=ia._,wu=ot("^"+ga.call(yr).replace(Xr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=Zr?v.Buffer:n,Ls=v.Symbol,dc=v.Uint8Array,Su=eu?eu.allocUnsafe:n,bs=Nd(Ue.getPrototypeOf,Ue),hf=Ue.create,fc=xr.propertyIsEnumerable,ca=Fn.splice,rm=Ls?Ls.isConcatSpreadable:n,Ps=Ls?Ls.iterator:n,qc=Ls?Ls.toStringTag:n,nl=(function(){try{var C=_c(Ue,"defineProperty");return C({},"",{}),C}catch{}})(),yv=v.clearTimeout!==ia.clearTimeout&&v.clearTimeout,xg=H&&H.now!==ia.Date.now&&H.now,pf=v.setTimeout!==ia.setTimeout&&v.setTimeout,ep=Ie.ceil,sh=Ie.floor,Yc=Ue.getOwnPropertySymbols,am=eu?eu.isBuffer:n,rl=v.isFinite,mf=Fn.join,gf=Nd(Ue.keys,Ue),zi=Ie.max,no=Ie.min,_s=H.now,xs=v.parseInt,hc=Ie.random,Wc=Fn.reverse,al=_c(v,"DataView"),tu=_c(v,"Map"),im=_c(v,"Promise"),Tu=_c(v,"Set"),Zc=_c(v,"WeakMap"),lh=_c(Ue,"create"),So=Zc&&new Zc,Ya={},ka=Vo(al),Rd=Vo(tu),nu=Vo(im),qi=Vo(Tu),Ll=Vo(Zc),il=Ls?Ls.prototype:n,Md=il?il.valueOf:n,pc=il?il.toString:n;function Je(C){if(Ro(C)&&!ya(C)&&!(C instanceof fa)){if(C instanceof zo)return C;if(yr.call(C,"__wrapped__"))return Tv(C)}return new zo(C)}var vl=(function(){function C(){}return function(B){if(!Hi(B))return{};if(hf)return hf(B);C.prototype=B;var Q=new C;return C.prototype=n,Q}})();function Cu(){}function zo(C,B){this.__wrapped__=C,this.__actions__=[],this.__chain__=!!B,this.__index__=0,this.__values__=n}Je.templateSettings={escape:Mr,evaluate:Mn,interpolate:on,variable:"",imports:{_:Je}},Je.prototype=Cu.prototype,Je.prototype.constructor=Je,zo.prototype=vl(Cu.prototype),zo.prototype.constructor=zo;function fa(C){this.__wrapped__=C,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Re,this.__views__=[]}function Xc(){var C=new fa(this.__wrapped__);return C.__actions__=Sa(this.__actions__),C.__dir__=this.__dir__,C.__filtered__=this.__filtered__,C.__iteratees__=Sa(this.__iteratees__),C.__takeCount__=this.__takeCount__,C.__views__=Sa(this.__views__),C}function Od(){if(this.__filtered__){var C=new fa(this);C.__dir__=-1,C.__filtered__=!0}else C=this.clone(),C.__dir__*=-1;return C}function Kc(){var C=this.__wrapped__.value(),B=this.__dir__,Q=ya(C),ye=B<0,$e=Q?C.length:0,st=$w(0,$e,this.__views__),It=st.start,$t=st.end,Kt=$t-It,Hn=ye?$t:It-1,d=this.__iteratees__,o=d.length,c=0,y=no(Kt,this.__takeCount__);if(!Q||!ye&&$e==Kt&&y==Kt)return pt(C,this.__actions__);var E=[];e:for(;Kt--&&c<y;){Hn+=B;for(var I=-1,N=C[Hn];++I<o;){var F=d[I],V=F.iteratee,X=F.type,ae=V(N);if(X==Se)N=ae;else if(!ae){if(X==xe)continue e;break e}}E[c++]=N}return E}fa.prototype=vl(Cu.prototype),fa.prototype.constructor=fa;function Qc(C){var B=-1,Q=C==null?0:C.length;for(this.clear();++B<Q;){var ye=C[B];this.set(ye[0],ye[1])}}function Eg(){this.__data__=lh?lh(null):{},this.size=0}function Au(C){var B=this.has(C)&&delete this.__data__[C];return this.size-=B?1:0,B}function tp(C){var B=this.__data__;if(lh){var Q=B[C];return Q===m?n:Q}return yr.call(B,C)?B[C]:n}function Dd(C){var B=this.__data__;return lh?B[C]!==n:yr.call(B,C)}function To(C,B){var Q=this.__data__;return this.size+=this.has(C)?0:1,Q[C]=lh&&B===n?m:B,this}Qc.prototype.clear=Eg,Qc.prototype.delete=Au,Qc.prototype.get=tp,Qc.prototype.has=Dd,Qc.prototype.set=To;function ru(C){var B=-1,Q=C==null?0:C.length;for(this.clear();++B<Q;){var ye=C[B];this.set(ye[0],ye[1])}}function wg(){this.__data__=[],this.size=0}function Vy(C){var B=this.__data__,Q=ed(B,C);if(Q<0)return!1;var ye=B.length-1;return Q==ye?B.pop():ca.call(B,Q,1),--this.size,!0}function vv(C){var B=this.__data__,Q=ed(B,C);return Q<0?n:B[Q][1]}function qy(C){return ed(this.__data__,C)>-1}function Yi(C,B){var Q=this.__data__,ye=ed(Q,C);return ye<0?(++this.size,Q.push([C,B])):Q[ye][1]=B,this}ru.prototype.clear=wg,ru.prototype.delete=Vy,ru.prototype.get=vv,ru.prototype.has=qy,ru.prototype.set=Yi;function ol(C){var B=-1,Q=C==null?0:C.length;for(this.clear();++B<Q;){var ye=C[B];this.set(ye[0],ye[1])}}function sl(){this.size=0,this.__data__={hash:new Qc,map:new(tu||ru),string:new Qc}}function bl(C){var B=If(this,C).delete(C);return this.size-=B?1:0,B}function Sg(C){return If(this,C).get(C)}function ll(C){return If(this,C).has(C)}function np(C,B){var Q=If(this,C),ye=Q.size;return Q.set(C,B),this.size+=Q.size==ye?0:1,this}ol.prototype.clear=sl,ol.prototype.delete=bl,ol.prototype.get=Sg,ol.prototype.has=ll,ol.prototype.set=np;function ku(C){var B=-1,Q=C==null?0:C.length;for(this.__data__=new ol;++B<Q;)this.add(C[B])}function rp(C){return this.__data__.set(C,m),this}function om(C){return this.__data__.has(C)}ku.prototype.add=ku.prototype.push=rp,ku.prototype.has=om;function Wi(C){var B=this.__data__=new ru(C);this.size=B.size}function mc(){this.__data__=new ru,this.size=0}function sm(C){var B=this.__data__,Q=B.delete(C);return this.size=B.size,Q}function yf(C){return this.__data__.get(C)}function Jc(C){return this.__data__.has(C)}function or(C,B){var Q=this.__data__;if(Q instanceof ru){var ye=Q.__data__;if(!tu||ye.length<a-1)return ye.push([C,B]),this.size=++Q.size,this;Q=this.__data__=new ol(ye)}return Q.set(C,B),this.size=Q.size,this}Wi.prototype.clear=mc,Wi.prototype.delete=sm,Wi.prototype.get=yf,Wi.prototype.has=Jc,Wi.prototype.set=or;function ap(C,B){var Q=ya(C),ye=!Q&&_h(C),$e=!Q&&!ye&&vp(C),st=!Q&&!ye&&!$e&&Pf(C),It=Q||ye||$e||st,$t=It?Ad(C.length,Ht):[],Kt=$t.length;for(var Hn in C)(B||yr.call(C,Hn))&&!(It&&(Hn=="length"||$e&&(Hn=="offset"||Hn=="parent")||st&&(Hn=="buffer"||Hn=="byteLength"||Hn=="byteOffset")||zd(Hn,Kt)))&&$t.push(Hn);return $t}function Ld(C){var B=C.length;return B?C[Tf(0,B-1)]:n}function lm(C,B){return dp(Sa(C),Pl(B,0,C.length))}function vf(C){return dp(Sa(C))}function bf(C,B,Q){(Q!==n&&!cl(C[B],Q)||Q===n&&!(B in C))&&au(C,B,Q)}function Fs(C,B,Q){var ye=C[B];(!(yr.call(C,B)&&cl(ye,Q))||Q===n&&!(B in C))&&au(C,B,Q)}function ed(C,B){for(var Q=C.length;Q--;)if(cl(C[Q][0],B))return Q;return-1}function Tg(C,B,Q,ye){return yc(C,function($e,st,It){B(ye,$e,Q($e),It)}),ye}function Cg(C,B){return C&&Ta(B,Us(B),C)}function Iu(C,B){return C&&Ta(B,pu(B),C)}function au(C,B,Q){B=="__proto__"&&nl?nl(C,B,{configurable:!0,enumerable:!0,value:Q,writable:!0}):C[B]=Q}function uh(C,B){for(var Q=-1,ye=B.length,$e=A(ye),st=C==null;++Q<ye;)$e[Q]=st?n:dl(C,B[Q]);return $e}function Pl(C,B,Q){return C===C&&(Q!==n&&(C=C<=Q?C:Q),B!==n&&(C=C>=B?C:B)),C}function _l(C,B,Q,ye,$e,st){var It,$t=B&w,Kt=B&M,Hn=B&P;if(Q&&(It=$e?Q(C,ye,$e,st):Q(C)),It!==n)return It;if(!Hi(C))return C;var d=ya(C);if(d){if(It=a_(C),!$t)return Sa(C,It)}else{var o=Tl(C),c=o==Ge||o==kn;if(vp(C))return nn(C,$t);if(o==Tn||o==Pe||c&&!$e){if(It=Kt||c?{}:Jy(C),!$t)return Kt?Ti(C,Iu(It,C)):Uo(C,Cg(It,C))}else{if(!Pa[o])return $e?C:{};It=i_(C,o,$t)}}st||(st=new Wi);var y=st.get(C);if(y)return y;st.set(C,It),Lf(C)?C.forEach(function(N){It.add(_l(N,B,Q,N,C,st))}):Wg(C)&&C.forEach(function(N,F){It.set(F,_l(N,B,Q,F,C,st))});var E=Hn?Kt?Xy:up:Kt?pu:Us,I=d?n:E(C);return Qs(I||C,function(N,F){I&&(F=N,N=C[F]),Fs(It,F,_l(N,B,Q,F,C,st))}),It}function um(C){var B=Us(C);return function(Q){return gc(Q,C,B)}}function gc(C,B,Q){var ye=Q.length;if(C==null)return!ye;for(C=Ue(C);ye--;){var $e=Q[ye],st=B[$e],It=C[$e];if(It===n&&!($e in C)||!st(It))return!1}return!0}function cm(C,B,Q){if(typeof C!="function")throw new Wt(u);return Dg(function(){C.apply(n,Q)},B)}function iu(C,B,Q,ye){var $e=-1,st=gs,It=!0,$t=C.length,Kt=[],Hn=B.length;if(!$t)return Kt;Q&&(B=ui(B,ys(Q))),ye?(st=Eo,It=!1):B.length>=a&&(st=kd,It=!1,B=new ku(B));e:for(;++$e<$t;){var d=C[$e],o=Q==null?d:Q(d);if(d=ye||d!==0?d:0,It&&o===o){for(var c=Hn;c--;)if(B[c]===o)continue e;Kt.push(d)}else st(B,o,ye)||Kt.push(d)}return Kt}var yc=Zi(ou),Nu=Zi(dm,!0);function Ra(C,B){var Q=!0;return yc(C,function(ye,$e,st){return Q=!!B(ye,$e,st),Q}),Q}function Ru(C,B,Q){for(var ye=-1,$e=C.length;++ye<$e;){var st=C[ye],It=B(st);if(It!=null&&($t===n?It===It&&!Bl(It):Q(It,$t)))var $t=It,Kt=st}return Kt}function _f(C,B,Q,ye){var $e=C.length;for(Q=Pr(Q),Q<0&&(Q=-Q>$e?0:$e+Q),ye=ye===n||ye>$e?$e:Pr(ye),ye<0&&(ye+=$e),ye=Q>ye?0:Tc(ye);Q<ye;)C[Q++]=B;return C}function xf(C,B){var Q=[];return yc(C,function(ye,$e,st){B(ye,$e,st)&&Q.push(ye)}),Q}function Co(C,B,Q,ye,$e){var st=-1,It=C.length;for(Q||(Q=o_),$e||($e=[]);++st<It;){var $t=C[st];B>0&&Q($t)?B>1?Co($t,B-1,Q,ye,$e):Xa($e,$t):ye||($e[$e.length]=$t)}return $e}var Pd=is(),ch=is(!0);function ou(C,B){return C&&Pd(C,B,Us)}function dm(C,B){return C&&ch(C,B,Us)}function Es(C,B){return qa(B,function(Q){return ju(C[Q])})}function su(C,B){B=bt(B,C);for(var Q=0,ye=B.length;C!=null&&Q<ye;)C=C[cu(B[Q++])];return Q&&Q==ye?C:n}function Cr(C,B,Q){var ye=B(C);return ya(C)?ye:Xa(ye,Q(C))}function Er(C){return C==null?C===n?hn:pn:qc&&qc in Ue(C)?cp(C):u_(C)}function td(C,B){return C>B}function xl(C,B){return C!=null&&yr.call(C,B)}function ws(C,B){return C!=null&&B in Ue(C)}function fo(C,B,Q){return C>=no(B,Q)&&C<zi(B,Q)}function Bs(C,B,Q){for(var ye=Q?Eo:gs,$e=C[0].length,st=C.length,It=st,$t=A(st),Kt=1/0,Hn=[];It--;){var d=C[It];It&&B&&(d=ui(d,ys(B))),Kt=no(d.length,Kt),$t[It]=!Q&&(B||$e>=120&&d.length>=120)?new ku(It&&d):n}d=C[0];var o=-1,c=$t[0];e:for(;++o<$e&&Hn.length<Kt;){var y=d[o],E=B?B(y):y;if(y=Q||y!==0?y:0,!(c?kd(c,E):ye(Hn,E,Q))){for(It=st;--It;){var I=$t[It];if(!(I?kd(I,E):ye(C[It],E,Q)))continue e}c&&c.push(E),Hn.push(y)}}return Hn}function Yy(C,B,Q,ye){return ou(C,function($e,st,It){B(ye,Q($e),st,It)}),ye}function Mu(C,B,Q){B=bt(B,C),C=Og(C,B);var ye=C==null?C:C[cu(ki(B))];return ye==null?n:Ms(ye,C,Q)}function El(C){return Ro(C)&&Er(C)==Pe}function ho(C){return Ro(C)&&Er(C)==Oe}function Fd(C){return Ro(C)&&Er(C)==en}function Fa(C,B,Q,ye,$e){return C===B?!0:C==null||B==null||!Ro(C)&&!Ro(B)?C!==C&&B!==B:Lr(C,B,Q,ye,Fa,$e)}function Lr(C,B,Q,ye,$e,st){var It=ya(C),$t=ya(B),Kt=It?St:Tl(C),Hn=$t?St:Tl(B);Kt=Kt==Pe?Tn:Kt,Hn=Hn==Pe?Tn:Hn;var d=Kt==Tn,o=Hn==Tn,c=Kt==Hn;if(c&&vp(C)){if(!vp(B))return!1;It=!0,d=!1}if(c&&!d)return st||(st=new Wi),It||Pf(C)?Af(C,B,Q,ye,$e,st):Rg(C,B,Kt,Q,ye,$e,st);if(!(Q&j)){var y=d&&yr.call(C,"__wrapped__"),E=o&&yr.call(B,"__wrapped__");if(y||E){var I=y?C.value():C,N=E?B.value():B;return st||(st=new Wi),$e(I,N,Q,ye,st)}}return c?(st||(st=new Wi),kf(C,B,Q,ye,$e,st)):!1}function yi(C){return Ro(C)&&Tl(C)==_n}function Pi(C,B,Q,ye){var $e=Q.length,st=$e,It=!ye;if(C==null)return!st;for(C=Ue(C);$e--;){var $t=Q[$e];if(It&&$t[2]?$t[1]!==C[$t[0]]:!($t[0]in C))return!1}for(;++$e<st;){$t=Q[$e];var Kt=$t[0],Hn=C[Kt],d=$t[1];if(It&&$t[2]){if(Hn===n&&!(Kt in C))return!1}else{var o=new Wi;if(ye)var c=ye(Hn,d,Kt,C,B,o);if(!(c===n?Fa(d,Hn,j|G,ye,o):c))return!1}}return!0}function Ef(C){if(!Hi(C)||s_(C))return!1;var B=ju(C)?wu:ua;return B.test(Vo(C))}function lu(C){return Ro(C)&&Er(C)==lr}function Bd(C){return Ro(C)&&Tl(C)==sr}function ip(C){return Ro(C)&&_0(C.length)&&!!Qr[Er(C)]}function nd(C){return typeof C=="function"?C:C==null?zl:typeof C=="object"?ya(C)?fh(C[0],C[1]):dh(C):et(C)}function vc(C){if(!Nf(C))return gf(C);var B=[];for(var Q in Ue(C))yr.call(C,Q)&&Q!="constructor"&&B.push(Q);return B}function Wy(C){if(!Hi(C))return Rf(C);var B=Nf(C),Q=[];for(var ye in C)ye=="constructor"&&(B||!yr.call(C,ye))||Q.push(ye);return Q}function Fi(C,B){return C<B}function Ou(C,B){var Q=-1,ye=fu(C)?A(C.length):[];return yc(C,function($e,st,It){ye[++Q]=B($e,st,It)}),ye}function dh(C){var B=bv(C);return B.length==1&&B[0][2]?t0(B[0][0],B[0][1]):function(Q){return Q===C||Pi(Q,C,B)}}function fh(C,B){return Mg(C)&&po(B)?t0(cu(C),B):function(Q){var ye=dl(Q,C);return ye===n&&ye===B?Bf(Q,C):Fa(B,ye,j|G)}}function wf(C,B,Q,ye,$e){C!==B&&Pd(B,function(st,It){if($e||($e=new Wi),Hi(st))fm(C,B,It,Q,wf,ye,$e);else{var $t=ye?ye(Ai(C,It),st,It+"",C,B,$e):n;$t===n&&($t=st),bf(C,It,$t)}},pu)}function fm(C,B,Q,ye,$e,st,It){var $t=Ai(C,Q),Kt=Ai(B,Q),Hn=It.get(Kt);if(Hn){bf(C,Q,Hn);return}var d=st?st($t,Kt,Q+"",C,B,It):n,o=d===n;if(o){var c=ya(Kt),y=!c&&vp(Kt),E=!c&&!y&&Pf(Kt);d=Kt,c||y||E?ya($t)?d=$t:os($t)?d=Sa($t):y?(o=!1,d=nn(Kt,!0)):E?(o=!1,d=wr(Kt,!0)):d=[]:Zg(Kt)||_h(Kt)?(d=$t,_h($t)?d=Il($t):(!Hi($t)||ju($t))&&(d=Jy(Kt))):o=!1}o&&(It.set(Kt,d),$e(d,Kt,ye,st,It),It.delete(Kt)),bf(C,Q,d)}function op(C,B){var Q=C.length;if(Q)return B+=B<0?Q:0,zd(B,Q)?C[B]:n}function rd(C,B,Q){B.length?B=ui(B,function(st){return ya(st)?function(It){return su(It,st.length===1?st[0]:st)}:st}):B=[zl];var ye=-1;B=ui(B,ys(sa()));var $e=Ou(C,function(st,It,$t){var Kt=ui(B,function(Hn){return Hn(st)});return{criteria:Kt,index:++ye,value:st}});return Gc($e,function(st,It){return Qa(st,It,Q)})}function $d(C,B){return Ss(C,B,function(Q,ye){return Bf(C,ye)})}function Ss(C,B,Q){for(var ye=-1,$e=B.length,st={};++ye<$e;){var It=B[ye],$t=su(C,It);Q($t,It)&&x(st,bt(It,C),$t)}return st}function Ui(C){return function(B){return su(B,C)}}function Du(C,B,Q,ye){var $e=ye?uf:el,st=-1,It=B.length,$t=C;for(C===B&&(B=Sa(B)),Q&&($t=ui(C,ys(Q)));++st<It;)for(var Kt=0,Hn=B[st],d=Q?Q(Hn):Hn;(Kt=$e($t,d,Kt,ye))>-1;)$t!==C&&ca.call($t,Kt,1),ca.call(C,Kt,1);return C}function Sf(C,B){for(var Q=C?B.length:0,ye=Q-1;Q--;){var $e=B[Q];if(Q==ye||$e!==st){var st=$e;zd($e)?ca.call(C,$e,1):it(C,$e)}}return C}function Tf(C,B){return C+sh(hc()*(B-C+1))}function sp(C,B,Q,ye){for(var $e=-1,st=zi(ep((B-C)/(Q||1)),0),It=A(st);st--;)It[ye?st:++$e]=C,C+=Q;return It}function uu(C,B){var Q="";if(!C||B<1||B>_e)return Q;do B%2&&(Q+=C),B=sh(B/2),B&&(C+=C);while(B);return Q}function O(C,B){return Sv(c_(C,B,zl),C+"")}function s(C){return Ld(Am(C))}function h(C,B){var Q=Am(C);return dp(Q,Pl(B,0,Q.length))}function x(C,B,Q,ye){if(!Hi(C))return C;B=bt(B,C);for(var $e=-1,st=B.length,It=st-1,$t=C;$t!=null&&++$e<st;){var Kt=cu(B[$e]),Hn=Q;if(Kt==="__proto__"||Kt==="constructor"||Kt==="prototype")return C;if($e!=It){var d=$t[Kt];Hn=ye?ye(d,Kt,$t):n,Hn===n&&(Hn=Hi(d)?d:zd(B[$e+1])?[]:{})}Fs($t,Kt,Hn),$t=$t[Kt]}return C}var k=So?function(C,B){return So.set(C,B),C}:zl,L=nl?function(C,B){return nl(C,"toString",{configurable:!0,enumerable:!1,value:Cp(B),writable:!0})}:zl;function U(C){return dp(Am(C))}function W(C,B,Q){var ye=-1,$e=C.length;B<0&&(B=-B>$e?0:$e+B),Q=Q>$e?$e:Q,Q<0&&(Q+=$e),$e=B>Q?0:Q-B>>>0,B>>>=0;for(var st=A($e);++ye<$e;)st[ye]=C[ye+B];return st}function ee(C,B){var Q;return yc(C,function(ye,$e,st){return Q=B(ye,$e,st),!Q}),!!Q}function ce(C,B,Q){var ye=0,$e=C==null?ye:C.length;if(typeof B=="number"&&B===B&&$e<=Ze){for(;ye<$e;){var st=ye+$e>>>1,It=C[st];It!==null&&!Bl(It)&&(Q?It<=B:It<B)?ye=st+1:$e=st}return $e}return fe(C,B,zl,Q)}function fe(C,B,Q,ye){var $e=0,st=C==null?0:C.length;if(st===0)return 0;B=Q(B);for(var It=B!==B,$t=B===null,Kt=Bl(B),Hn=B===n;$e<st;){var d=sh(($e+st)/2),o=Q(C[d]),c=o!==n,y=o===null,E=o===o,I=Bl(o);if(It)var N=ye||E;else Hn?N=E&&(ye||c):$t?N=E&&c&&(ye||!y):Kt?N=E&&c&&!y&&(ye||!I):y||I?N=!1:N=ye?o<=B:o<B;N?$e=d+1:st=d}return no(st,je)}function Ce(C,B){for(var Q=-1,ye=C.length,$e=0,st=[];++Q<ye;){var It=C[Q],$t=B?B(It):It;if(!Q||!cl($t,Kt)){var Kt=$t;st[$e++]=It===0?0:It}}return st}function Ee(C){return typeof C=="number"?C:Bl(C)?He:+C}function Le(C){if(typeof C=="string")return C;if(ya(C))return ui(C,Le)+"";if(Bl(C))return pc?pc.call(C):"";var B=C+"";return B=="0"&&1/C==-we?"-0":B}function ze(C,B,Q){var ye=-1,$e=gs,st=C.length,It=!0,$t=[],Kt=$t;if(Q)It=!1,$e=Eo;else if(st>=a){var Hn=B?null:Ig(C);if(Hn)return rh(Hn);It=!1,$e=kd,Kt=new ku}else Kt=B?[]:$t;e:for(;++ye<st;){var d=C[ye],o=B?B(d):d;if(d=Q||d!==0?d:0,It&&o===o){for(var c=Kt.length;c--;)if(Kt[c]===o)continue e;B&&Kt.push(o),$t.push(d)}else $e(Kt,o,Q)||(Kt!==$t&&Kt.push(o),$t.push(d))}return $t}function it(C,B){return B=bt(B,C),C=Og(C,B),C==null||delete C[cu(ki(B))]}function ct(C,B,Q,ye){return x(C,B,Q(su(C,B)),ye)}function lt(C,B,Q,ye){for(var $e=C.length,st=ye?$e:-1;(ye?st--:++st<$e)&&B(C[st],st,C););return Q?W(C,ye?0:st,ye?st+1:$e):W(C,ye?st+1:0,ye?$e:st)}function pt(C,B){var Q=C;return Q instanceof fa&&(Q=Q.value()),Xh(B,function(ye,$e){return $e.func.apply($e.thisArg,Xa([ye],$e.args))},Q)}function Tt(C,B,Q){var ye=C.length;if(ye<2)return ye?ze(C[0]):[];for(var $e=-1,st=A(ye);++$e<ye;)for(var It=C[$e],$t=-1;++$t<ye;)$t!=$e&&(st[$e]=iu(st[$e]||It,C[$t],B,Q));return ze(Co(st,1),B,Q)}function gt(C,B,Q){for(var ye=-1,$e=C.length,st=B.length,It={};++ye<$e;){var $t=ye<st?B[ye]:n;Q(It,C[ye],$t)}return It}function At(C){return os(C)?C:[]}function Rt(C){return typeof C=="function"?C:zl}function bt(C,B){return ya(C)?C:Mg(C,B)?[C]:r0(ha(C))}var jt=O;function Qt(C,B,Q){var ye=C.length;return Q=Q===n?ye:Q,!B&&Q>=ye?C:W(C,B,Q)}var Jt=yv||function(C){return ia.clearTimeout(C)};function nn(C,B){if(B)return C.slice();var Q=C.length,ye=Su?Su(Q):new C.constructor(Q);return C.copy(ye),ye}function an(C){var B=new C.constructor(C.byteLength);return new dc(B).set(new dc(C)),B}function On(C,B){var Q=B?an(C.buffer):C.buffer;return new C.constructor(Q,C.byteOffset,C.byteLength)}function Zn(C){var B=new C.constructor(C.source,zn.exec(C));return B.lastIndex=C.lastIndex,B}function Nn(C){return Md?Ue(Md.call(C)):{}}function wr(C,B){var Q=B?an(C.buffer):C.buffer;return new C.constructor(Q,C.byteOffset,C.length)}function oa(C,B){if(C!==B){var Q=C!==n,ye=C===null,$e=C===C,st=Bl(C),It=B!==n,$t=B===null,Kt=B===B,Hn=Bl(B);if(!$t&&!Hn&&!st&&C>B||st&&It&&Kt&&!$t&&!Hn||ye&&It&&Kt||!Q&&Kt||!$e)return 1;if(!ye&&!st&&!Hn&&C<B||Hn&&Q&&$e&&!ye&&!st||$t&&Q&&$e||!It&&$e||!Kt)return-1}return 0}function Qa(C,B,Q){for(var ye=-1,$e=C.criteria,st=B.criteria,It=$e.length,$t=Q.length;++ye<It;){var Kt=oa($e[ye],st[ye]);if(Kt){if(ye>=$t)return Kt;var Hn=Q[ye];return Kt*(Hn=="desc"?-1:1)}}return C.index-B.index}function ci(C,B,Q,ye){for(var $e=-1,st=C.length,It=Q.length,$t=-1,Kt=B.length,Hn=zi(st-It,0),d=A(Kt+Hn),o=!ye;++$t<Kt;)d[$t]=B[$t];for(;++$e<It;)(o||$e<st)&&(d[Q[$e]]=C[$e]);for(;Hn--;)d[$t++]=C[$e++];return d}function Ja(C,B,Q,ye){for(var $e=-1,st=C.length,It=-1,$t=Q.length,Kt=-1,Hn=B.length,d=zi(st-$t,0),o=A(d+Hn),c=!ye;++$e<d;)o[$e]=C[$e];for(var y=$e;++Kt<Hn;)o[y+Kt]=B[Kt];for(;++It<$t;)(c||$e<st)&&(o[y+Q[It]]=C[$e++]);return o}function Sa(C,B){var Q=-1,ye=C.length;for(B||(B=A(ye));++Q<ye;)B[Q]=C[Q];return B}function Ta(C,B,Q,ye){var $e=!Q;Q||(Q={});for(var st=-1,It=B.length;++st<It;){var $t=B[st],Kt=ye?ye(Q[$t],C[$t],$t,Q,C):n;Kt===n&&(Kt=C[$t]),$e?au(Q,$t,Kt):Fs(Q,$t,Kt)}return Q}function Uo(C,B){return Ta(C,hm(C),B)}function Ti(C,B){return Ta(C,Qy(C),B)}function ro(C,B){return function(Q,ye){var $e=ya(Q)?Hy:Tg,st=B?B():{};return $e(Q,C,sa(ye,2),st)}}function vi(C){return O(function(B,Q){var ye=-1,$e=Q.length,st=$e>1?Q[$e-1]:n,It=$e>2?Q[2]:n;for(st=C.length>3&&typeof st=="function"?($e--,st):n,It&&Cl(Q[0],Q[1],It)&&(st=$e<3?n:st,$e=1),B=Ue(B);++ye<$e;){var $t=Q[ye];$t&&C(B,$t,ye,st)}return B})}function Zi(C,B){return function(Q,ye){if(Q==null)return Q;if(!fu(Q))return C(Q,ye);for(var $e=Q.length,st=B?$e:-1,It=Ue(Q);(B?st--:++st<$e)&&ye(It[st],st,It)!==!1;);return Q}}function is(C){return function(B,Q,ye){for(var $e=-1,st=Ue(B),It=ye(B),$t=It.length;$t--;){var Kt=It[C?$t:++$e];if(Q(st[Kt],Kt,st)===!1)break}return B}}function $s(C,B,Q){var ye=B&z,$e=bc(C);function st(){var It=this&&this!==ia&&this instanceof st?$e:C;return It.apply(ye?Q:this,arguments)}return st}function Lu(C){return function(B){B=ha(B);var Q=Vc(B)?Li(B):n,ye=Q?Q[0]:B.charAt(0),$e=Q?Qt(Q,1).join(""):B.slice(1);return ye[C]()+$e}}function Fl(C){return function(B){return Xh(Mx(ty(B).replace(Vr,"")),C,"")}}function bc(C){return function(){var B=arguments;switch(B.length){case 0:return new C;case 1:return new C(B[0]);case 2:return new C(B[0],B[1]);case 3:return new C(B[0],B[1],B[2]);case 4:return new C(B[0],B[1],B[2],B[3]);case 5:return new C(B[0],B[1],B[2],B[3],B[4]);case 6:return new C(B[0],B[1],B[2],B[3],B[4],B[5]);case 7:return new C(B[0],B[1],B[2],B[3],B[4],B[5],B[6])}var Q=vl(C.prototype),ye=C.apply(Q,B);return Hi(ye)?ye:Q}}function Ag(C,B,Q){var ye=bc(C);function $e(){for(var st=arguments.length,It=A(st),$t=st,Kt=Io($e);$t--;)It[$t]=arguments[$t];var Hn=st<3&&It[0]!==Kt&&It[st-1]!==Kt?[]:lc(It,Kt);if(st-=Hn.length,st<Q)return kg(C,B,ao,$e.placeholder,n,It,Hn,n,n,Q-st);var d=this&&this!==ia&&this instanceof $e?ye:C;return Ms(d,this,It)}return $e}function Cf(C){return function(B,Q,ye){var $e=Ue(B);if(!fu(B)){var st=sa(Q,3);B=Us(B),Q=function($t){return st($e[$t],$t,$e)}}var It=C(B,Q,ye);return It>-1?$e[st?B[It]:It]:n}}function wl(C){return Pu(function(B){var Q=B.length,ye=Q,$e=zo.prototype.thru;for(C&&B.reverse();ye--;){var st=B[ye];if(typeof st!="function")throw new Wt(u);if($e&&!It&&io(st)=="wrapper")var It=new zo([],!0)}for(ye=It?ye:Q;++ye<Q;){st=B[ye];var $t=io(st),Kt=$t=="wrapper"?Ky(st):n;Kt&&pm(Kt[0])&&Kt[1]==(oe|J|ie|K)&&!Kt[4].length&&Kt[9]==1?It=It[io(Kt[0])].apply(It,Kt[3]):It=st.length==1&&pm(st)?It[$t]():It.thru(st)}return function(){var Hn=arguments,d=Hn[0];if(It&&Hn.length==1&&ya(d))return It.plant(d).value();for(var o=0,c=Q?B[o].apply(this,Hn):d;++o<Q;)c=B[o].call(this,c);return c}})}function ao(C,B,Q,ye,$e,st,It,$t,Kt,Hn){var d=B&oe,o=B&z,c=B&q,y=B&(J|ne),E=B&se,I=c?n:bc(C);function N(){for(var F=arguments.length,V=A(F),X=F;X--;)V[X]=arguments[X];if(y)var ae=Io(N),de=Id(V,ae);if(ye&&(V=ci(V,ye,$e,y)),st&&(V=Ja(V,st,It,y)),F-=de,y&&F<Hn){var ge=lc(V,ae);return kg(C,B,ao,N.placeholder,Q,V,ge,$t,Kt,Hn-F)}var be=o?Q:this,Ae=c?be[C]:C;return F=V.length,$t?V=n0(V,$t):E&&F>1&&V.reverse(),d&&Kt<F&&(V.length=Kt),this&&this!==ia&&this instanceof N&&(Ae=I||bc(Ae)),Ae.apply(be,V)}return N}function Go(C,B){return function(Q,ye){return Yy(Q,C,B(ye),{})}}function Ao(C,B){return function(Q,ye){var $e;if(Q===n&&ye===n)return B;if(Q!==n&&($e=Q),ye!==n){if($e===n)return ye;typeof Q=="string"||typeof ye=="string"?(Q=Le(Q),ye=Le(ye)):(Q=Ee(Q),ye=Ee(ye)),$e=C(Q,ye)}return $e}}function Sl(C){return Pu(function(B){return B=ui(B,ys(sa())),O(function(Q){var ye=this;return C(B,function($e){return Ms($e,ye,Q)})})})}function Ci(C,B){B=B===n?" ":Le(B);var Q=B.length;if(Q<2)return Q?uu(B,C):B;var ye=uu(B,ep(C/uc(B)));return Vc(B)?Qt(Li(ye),0,C).join(""):ye.slice(0,C)}function Ho(C,B,Q,ye){var $e=B&z,st=bc(C);function It(){for(var $t=-1,Kt=arguments.length,Hn=-1,d=ye.length,o=A(d+Kt),c=this&&this!==ia&&this instanceof It?st:C;++Hn<d;)o[Hn]=ye[Hn];for(;Kt--;)o[Hn++]=arguments[++$t];return Ms(c,$e?Q:this,o)}return It}function ul(C){return function(B,Q,ye){return ye&&typeof ye!="number"&&Cl(B,Q,ye)&&(Q=ye=n),B=kl(B),Q===n?(Q=B,B=0):Q=kl(Q),ye=ye===n?B<Q?1:-1:kl(ye),sp(B,Q,ye,C)}}function xi(C){return function(B,Q){return typeof B=="string"&&typeof Q=="string"||(B=zs(B),Q=zs(Q)),C(B,Q)}}function kg(C,B,Q,ye,$e,st,It,$t,Kt,Hn){var d=B&J,o=d?It:n,c=d?n:It,y=d?st:n,E=d?n:st;B|=d?ie:ue,B&=~(d?ue:ie),B&Y||(B&=-4);var I=[C,B,$e,y,o,E,c,$t,Kt,Hn],N=Q.apply(n,I);return pm(C)&&d_(N,I),N.placeholder=ye,Lg(N,C,B)}function lp(C){var B=Ie[C];return function(Q,ye){if(Q=zs(Q),ye=ye==null?0:no(Pr(ye),292),ye&&rl(Q)){var $e=(ha(Q)+"e").split("e"),st=B($e[0]+"e"+(+$e[1]+ye));return $e=(ha(st)+"e").split("e"),+($e[0]+"e"+(+$e[1]-ye))}return B(Q)}}var Ig=Tu&&1/rh(new Tu([,-0]))[1]==we?function(C){return new Tu(C)}:T;function Ng(C){return function(B){var Q=Tl(B);return Q==_n?ff(B):Q==sr?Jh(B):bg(B,C(B))}}function ko(C,B,Q,ye,$e,st,It,$t){var Kt=B&q;if(!Kt&&typeof C!="function")throw new Wt(u);var Hn=ye?ye.length:0;if(Hn||(B&=-97,ye=$e=n),It=It===n?It:zi(Pr(It),0),$t=$t===n?$t:Pr($t),Hn-=$e?$e.length:0,B&ue){var d=ye,o=$e;ye=$e=n}var c=Kt?n:Ky(C),y=[C,B,Q,ye,$e,d,o,st,It,$t];if(c&&ox(y,c),C=y[0],B=y[1],Q=y[2],ye=y[3],$e=y[4],$t=y[9]=y[9]===n?Kt?0:C.length:zi(y[9]-Hn,0),!$t&&B&(J|ne)&&(B&=-25),!B||B==z)var E=$s(C,B,Q);else B==J||B==ne?E=Ag(C,B,$t):(B==ie||B==(z|ie))&&!$e.length?E=Ho(C,B,Q,ye):E=ao.apply(n,y);var I=c?k:d_;return Lg(I(E,y),C,B)}function jd(C,B,Q,ye){return C===n||cl(C,xr[Q])&&!yr.call(ye,Q)?B:C}function ad(C,B,Q,ye,$e,st){return Hi(C)&&Hi(B)&&(st.set(B,C),wf(C,B,n,ad,st),st.delete(B)),C}function Zy(C){return Zg(C)?n:C}function Af(C,B,Q,ye,$e,st){var It=Q&j,$t=C.length,Kt=B.length;if($t!=Kt&&!(It&&Kt>$t))return!1;var Hn=st.get(C),d=st.get(B);if(Hn&&d)return Hn==B&&d==C;var o=-1,c=!0,y=Q&G?new ku:n;for(st.set(C,B),st.set(B,C);++o<$t;){var E=C[o],I=B[o];if(ye)var N=It?ye(I,E,o,B,C,st):ye(E,I,o,C,B,st);if(N!==n){if(N)continue;c=!1;break}if(y){if(!Jf(B,function(F,V){if(!kd(y,V)&&(E===F||$e(E,F,Q,ye,st)))return y.push(V)})){c=!1;break}}else if(!(E===I||$e(E,I,Q,ye,st))){c=!1;break}}return st.delete(C),st.delete(B),c}function Rg(C,B,Q,ye,$e,st,It){switch(Q){case ke:if(C.byteLength!=B.byteLength||C.byteOffset!=B.byteOffset)return!1;C=C.buffer,B=B.buffer;case Oe:return!(C.byteLength!=B.byteLength||!st(new dc(C),new dc(B)));case We:case en:case Lt:return cl(+C,+B);case rn:return C.name==B.name&&C.message==B.message;case lr:case xn:return C==B+"";case _n:var $t=ff;case sr:var Kt=ye&j;if($t||($t=rh),C.size!=B.size&&!Kt)return!1;var Hn=It.get(C);if(Hn)return Hn==B;ye|=G,It.set(C,B);var d=Af($t(C),$t(B),ye,$e,st,It);return It.delete(C),d;case En:if(Md)return Md.call(C)==Md.call(B)}return!1}function kf(C,B,Q,ye,$e,st){var It=Q&j,$t=up(C),Kt=$t.length,Hn=up(B),d=Hn.length;if(Kt!=d&&!It)return!1;for(var o=Kt;o--;){var c=$t[o];if(!(It?c in B:yr.call(B,c)))return!1}var y=st.get(C),E=st.get(B);if(y&&E)return y==B&&E==C;var I=!0;st.set(C,B),st.set(B,C);for(var N=It;++o<Kt;){c=$t[o];var F=C[c],V=B[c];if(ye)var X=It?ye(V,F,c,B,C,st):ye(F,V,c,C,B,st);if(!(X===n?F===V||$e(F,V,Q,ye,st):X)){I=!1;break}N||(N=c=="constructor")}if(I&&!N){var ae=C.constructor,de=B.constructor;ae!=de&&"constructor"in C&&"constructor"in B&&!(typeof ae=="function"&&ae instanceof ae&&typeof de=="function"&&de instanceof de)&&(I=!1)}return st.delete(C),st.delete(B),I}function Pu(C){return Sv(c_(C,n,Xi),C+"")}function up(C){return Cr(C,Us,hm)}function Xy(C){return Cr(C,pu,Qy)}var Ky=So?function(C){return So.get(C)}:T;function io(C){for(var B=C.name+"",Q=Ya[B],ye=yr.call(Ya,B)?Q.length:0;ye--;){var $e=Q[ye],st=$e.func;if(st==null||st==C)return $e.name}return B}function Io(C){var B=yr.call(Je,"placeholder")?Je:C;return B.placeholder}function sa(){var C=Je.iteratee||ay;return C=C===ay?nd:C,arguments.length?C(arguments[0],arguments[1]):C}function If(C,B){var Q=C.__data__;return wv(B)?Q[typeof B=="string"?"string":"hash"]:Q.map}function bv(C){for(var B=Us(C),Q=B.length;Q--;){var ye=B[Q],$e=C[ye];B[Q]=[ye,$e,po($e)]}return B}function _c(C,B){var Q=Hc(C,B);return Ef(Q)?Q:n}function cp(C){var B=yr.call(C,qc),Q=C[qc];try{C[qc]=n;var ye=!0}catch{}var $e=Ka.call(C);return ye&&(B?C[qc]=Q:delete C[qc]),$e}var hm=Yc?function(C){return C==null?[]:(C=Ue(C),qa(Yc(C),function(B){return fc.call(C,B)}))}:$n,Qy=Yc?function(C){for(var B=[];C;)Xa(B,hm(C)),C=bs(C);return B}:$n,Tl=Er;(al&&Tl(new al(new ArrayBuffer(1)))!=ke||tu&&Tl(new tu)!=_n||im&&Tl(im.resolve())!=tr||Tu&&Tl(new Tu)!=sr||Zc&&Tl(new Zc)!=jn)&&(Tl=function(C){var B=Er(C),Q=B==Tn?C.constructor:n,ye=Q?Vo(Q):"";if(ye)switch(ye){case ka:return ke;case Rd:return _n;case nu:return tr;case qi:return sr;case Ll:return jn}return B});function $w(C,B,Q){for(var ye=-1,$e=Q.length;++ye<$e;){var st=Q[ye],It=st.size;switch(st.type){case"drop":C+=It;break;case"dropRight":B-=It;break;case"take":B=no(B,C+It);break;case"takeRight":C=zi(C,B-It);break}}return{start:C,end:B}}function _v(C){var B=C.match(Pn);return B?B[1].split(nr):[]}function xv(C,B,Q){B=bt(B,C);for(var ye=-1,$e=B.length,st=!1;++ye<$e;){var It=cu(B[ye]);if(!(st=C!=null&&Q(C,It)))break;C=C[It]}return st||++ye!=$e?st:($e=C==null?0:C.length,!!$e&&_0($e)&&zd(It,$e)&&(ya(C)||_h(C)))}function a_(C){var B=C.length,Q=new C.constructor(B);return B&&typeof C[0]=="string"&&yr.call(C,"index")&&(Q.index=C.index,Q.input=C.input),Q}function Jy(C){return typeof C.constructor=="function"&&!Nf(C)?vl(bs(C)):{}}function i_(C,B,Q){var ye=C.constructor;switch(B){case Oe:return an(C);case We:case en:return new ye(+C);case ke:return On(C,Q);case qe:case ut:case dt:case Ut:case Bt:case xt:case Ct:case sn:case mn:return wr(C,Q);case _n:return new ye;case Lt:case xn:return new ye(C);case lr:return Zn(C);case sr:return new ye;case En:return Nn(C)}}function Ev(C,B){var Q=B.length;if(!Q)return C;var ye=Q-1;return B[ye]=(Q>1?"& ":"")+B[ye],B=B.join(Q>2?", ":" "),C.replace(Ot,`{
/* [wrapped with `+B+`] */
`)}function o_(C){return ya(C)||_h(C)||!!(rm&&C&&C[rm])}function zd(C,B){var Q=typeof C;return B=B??_e,!!B&&(Q=="number"||Q!="symbol"&&Ke.test(C))&&C>-1&&C%1==0&&C<B}function Cl(C,B,Q){if(!Hi(Q))return!1;var ye=typeof B;return(ye=="number"?fu(Q)&&zd(B,Q.length):ye=="string"&&B in Q)?cl(Q[B],C):!1}function Mg(C,B){if(ya(C))return!1;var Q=typeof C;return Q=="number"||Q=="symbol"||Q=="boolean"||C==null||Bl(C)?!0:Tr.test(C)||!Wr.test(C)||B!=null&&C in Ue(B)}function wv(C){var B=typeof C;return B=="string"||B=="number"||B=="symbol"||B=="boolean"?C!=="__proto__":C===null}function pm(C){var B=io(C),Q=Je[B];if(typeof Q!="function"||!(B in fa.prototype))return!1;if(C===Q)return!0;var ye=Ky(Q);return!!ye&&C===ye[0]}function s_(C){return!!to&&to in C}var e0=Dr?ju:fn;function Nf(C){var B=C&&C.constructor,Q=typeof B=="function"&&B.prototype||xr;return C===Q}function po(C){return C===C&&!Hi(C)}function t0(C,B){return function(Q){return Q==null?!1:Q[C]===B&&(B!==n||C in Ue(Q))}}function l_(C){var B=Hg(C,function(ye){return Q.size===b&&Q.clear(),ye}),Q=B.cache;return B}function ox(C,B){var Q=C[1],ye=B[1],$e=Q|ye,st=$e<(z|q|oe),It=ye==oe&&Q==J||ye==oe&&Q==K&&C[7].length<=B[8]||ye==(oe|K)&&B[7].length<=B[8]&&Q==J;if(!(st||It))return C;ye&z&&(C[2]=B[2],$e|=Q&z?0:Y);var $t=B[3];if($t){var Kt=C[3];C[3]=Kt?ci(Kt,$t,B[4]):$t,C[4]=Kt?lc(C[3],_):B[4]}return $t=B[5],$t&&(Kt=C[5],C[5]=Kt?Ja(Kt,$t,B[6]):$t,C[6]=Kt?lc(C[5],_):B[6]),$t=B[7],$t&&(C[7]=$t),ye&oe&&(C[8]=C[8]==null?B[8]:no(C[8],B[8])),C[9]==null&&(C[9]=B[9]),C[0]=B[0],C[1]=$e,C}function Rf(C){var B=[];if(C!=null)for(var Q in Ue(C))B.push(Q);return B}function u_(C){return Ka.call(C)}function c_(C,B,Q){return B=zi(B===n?C.length-1:B,0),function(){for(var ye=arguments,$e=-1,st=zi(ye.length-B,0),It=A(st);++$e<st;)It[$e]=ye[B+$e];$e=-1;for(var $t=A(B+1);++$e<B;)$t[$e]=ye[$e];return $t[B]=Q(It),Ms(C,this,$t)}}function Og(C,B){return B.length<2?C:su(C,W(B,0,-1))}function n0(C,B){for(var Q=C.length,ye=no(B.length,Q),$e=Sa(C);ye--;){var st=B[ye];C[ye]=zd(st,Q)?$e[st]:n}return C}function Ai(C,B){if(!(B==="constructor"&&typeof C[B]=="function")&&B!="__proto__")return C[B]}var d_=hh(k),Dg=pf||function(C,B){return ia.setTimeout(C,B)},Sv=hh(L);function Lg(C,B,Q){var ye=B+"";return Sv(C,Ev(ye,Pg(_v(ye),Q)))}function hh(C){var B=0,Q=0;return function(){var ye=_s(),$e=Me-(ye-Q);if(Q=ye,$e>0){if(++B>=Te)return arguments[0]}else B=0;return C.apply(n,arguments)}}function dp(C,B){var Q=-1,ye=C.length,$e=ye-1;for(B=B===n?ye:B;++Q<B;){var st=Tf(Q,$e),It=C[st];C[st]=C[Q],C[Q]=It}return C.length=B,C}var r0=l_(function(C){var B=[];return C.charCodeAt(0)===46&&B.push(""),C.replace(Ir,function(Q,ye,$e,st){B.push($e?st.replace(qt,"$1"):ye||Q)}),B});function cu(C){if(typeof C=="string"||Bl(C))return C;var B=C+"";return B=="0"&&1/C==-we?"-0":B}function Vo(C){if(C!=null){try{return ga.call(C)}catch{}try{return C+""}catch{}}return""}function Pg(C,B){return Qs(Qe,function(Q){var ye="_."+Q[0];B&Q[1]&&!gs(C,ye)&&C.push(ye)}),C.sort()}function Tv(C){if(C instanceof fa)return C.clone();var B=new zo(C.__wrapped__,C.__chain__);return B.__actions__=Sa(C.__actions__),B.__index__=C.__index__,B.__values__=C.__values__,B}function sx(C,B,Q){(Q?Cl(C,B,Q):B===n)?B=1:B=zi(Pr(B),0);var ye=C==null?0:C.length;if(!ye||B<1)return[];for(var $e=0,st=0,It=A(ep(ye/B));$e<ye;)It[st++]=W(C,$e,$e+=B);return It}function f_(C){for(var B=-1,Q=C==null?0:C.length,ye=0,$e=[];++B<Q;){var st=C[B];st&&($e[ye++]=st)}return $e}function h_(){var C=arguments.length;if(!C)return[];for(var B=A(C-1),Q=arguments[0],ye=C;ye--;)B[ye-1]=arguments[ye];return Xa(ya(Q)?Sa(Q):[Q],Co(B,1))}var Cv=O(function(C,B){return os(C)?iu(C,Co(B,1,os,!0)):[]}),lx=O(function(C,B){var Q=ki(B);return os(Q)&&(Q=n),os(C)?iu(C,Co(B,1,os,!0),sa(Q,2)):[]}),ph=O(function(C,B){var Q=ki(B);return os(Q)&&(Q=n),os(C)?iu(C,Co(B,1,os,!0),n,Q):[]});function qo(C,B,Q){var ye=C==null?0:C.length;return ye?(B=Q||B===n?1:Pr(B),W(C,B<0?0:B,ye)):[]}function p_(C,B,Q){var ye=C==null?0:C.length;return ye?(B=Q||B===n?1:Pr(B),B=ye-B,W(C,0,B<0?0:B)):[]}function m_(C,B){return C&&C.length?lt(C,sa(B,3),!0,!0):[]}function Yo(C,B){return C&&C.length?lt(C,sa(B,3),!0):[]}function jw(C,B,Q,ye){var $e=C==null?0:C.length;return $e?(Q&&typeof Q!="number"&&Cl(C,B,Q)&&(Q=0,ye=$e),_f(C,B,Q,ye)):[]}function oo(C,B,Q){var ye=C==null?0:C.length;if(!ye)return-1;var $e=Q==null?0:Pr(Q);return $e<0&&($e=zi(ye+$e,0)),jo(C,sa(B,3),$e)}function fp(C,B,Q){var ye=C==null?0:C.length;if(!ye)return-1;var $e=ye-1;return Q!==n&&($e=Pr(Q),$e=Q<0?zi(ye+$e,0):no($e,ye-1)),jo(C,sa(B,3),$e,!0)}function Xi(C){var B=C==null?0:C.length;return B?Co(C,1):[]}function Al(C){var B=C==null?0:C.length;return B?Co(C,we):[]}function id(C,B){var Q=C==null?0:C.length;return Q?(B=B===n?1:Pr(B),Co(C,B)):[]}function Fg(C){for(var B=-1,Q=C==null?0:C.length,ye={};++B<Q;){var $e=C[B];ye[$e[0]]=$e[1]}return ye}function Av(C){return C&&C.length?C[0]:n}function g_(C,B,Q){var ye=C==null?0:C.length;if(!ye)return-1;var $e=Q==null?0:Pr(Q);return $e<0&&($e=zi(ye+$e,0)),el(C,B,$e)}function a0(C){var B=C==null?0:C.length;return B?W(C,0,-1):[]}var Bg=O(function(C){var B=ui(C,At);return B.length&&B[0]===C[0]?Bs(B):[]}),js=O(function(C){var B=ki(C),Q=ui(C,At);return B===ki(Q)?B=n:Q.pop(),Q.length&&Q[0]===C[0]?Bs(Q,sa(B,2)):[]}),Fu=O(function(C){var B=ki(C),Q=ui(C,At);return B=typeof B=="function"?B:n,B&&Q.pop(),Q.length&&Q[0]===C[0]?Bs(Q,n,B):[]});function mm(C,B){return C==null?"":mf.call(C,B)}function ki(C){var B=C==null?0:C.length;return B?C[B-1]:n}function ux(C,B,Q){var ye=C==null?0:C.length;if(!ye)return-1;var $e=ye;return Q!==n&&($e=Pr(Q),$e=$e<0?zi(ye+$e,0):no($e,ye-1)),B===B?nm(C,B,$e):jo(C,Uc,$e,!0)}function Mf(C,B){return C&&C.length?op(C,Pr(B)):n}var xc=O(Of);function Of(C,B){return C&&C.length&&B&&B.length?Du(C,B):C}function kv(C,B,Q){return C&&C.length&&B&&B.length?Du(C,B,sa(Q,2)):C}function gm(C,B,Q){return C&&C.length&&B&&B.length?Du(C,B,n,Q):C}var Ec=Pu(function(C,B){var Q=C==null?0:C.length,ye=uh(C,B);return Sf(C,ui(B,function($e){return zd($e,Q)?+$e:$e}).sort(oa)),ye});function y_(C,B){var Q=[];if(!(C&&C.length))return Q;var ye=-1,$e=[],st=C.length;for(B=sa(B,3);++ye<st;){var It=C[ye];B(It,ye,C)&&(Q.push(It),$e.push(ye))}return Sf(C,$e),Q}function mh(C){return C==null?C:Wc.call(C)}function i0(C,B,Q){var ye=C==null?0:C.length;return ye?(Q&&typeof Q!="number"&&Cl(C,B,Q)?(B=0,Q=ye):(B=B==null?0:Pr(B),Q=Q===n?ye:Pr(Q)),W(C,B,Q)):[]}function o0(C,B){return ce(C,B)}function $g(C,B,Q){return fe(C,B,sa(Q,2))}function cx(C,B){var Q=C==null?0:C.length;if(Q){var ye=ce(C,B);if(ye<Q&&cl(C[ye],B))return ye}return-1}function dx(C,B){return ce(C,B,!0)}function gh(C,B,Q){return fe(C,B,sa(Q,2),!0)}function fx(C,B){var Q=C==null?0:C.length;if(Q){var ye=ce(C,B,!0)-1;if(cl(C[ye],B))return ye}return-1}function s0(C){return C&&C.length?Ce(C):[]}function hx(C,B){return C&&C.length?Ce(C,sa(B,2)):[]}function zw(C){var B=C==null?0:C.length;return B?W(C,1,B):[]}function Uw(C,B,Q){return C&&C.length?(B=Q||B===n?1:Pr(B),W(C,0,B<0?0:B)):[]}function di(C,B,Q){var ye=C==null?0:C.length;return ye?(B=Q||B===n?1:Pr(B),B=ye-B,W(C,B<0?0:B,ye)):[]}function Gi(C,B){return C&&C.length?lt(C,sa(B,3),!1,!0):[]}function Ma(C,B){return C&&C.length?lt(C,sa(B,3)):[]}var Ia=O(function(C){return ze(Co(C,1,os,!0))}),bi=O(function(C){var B=ki(C);return os(B)&&(B=n),ze(Co(C,1,os,!0),sa(B,2))}),wc=O(function(C){var B=ki(C);return B=typeof B=="function"?B:n,ze(Co(C,1,os,!0),n,B)});function hp(C){return C&&C.length?ze(C):[]}function ym(C,B){return C&&C.length?ze(C,sa(B,2)):[]}function Iv(C,B){return B=typeof B=="function"?B:n,C&&C.length?ze(C,n,B):[]}function Ud(C){if(!(C&&C.length))return[];var B=0;return C=qa(C,function(Q){if(os(Q))return B=zi(Q.length,B),!0}),Ad(B,function(Q){return ui(C,oc(Q))})}function No(C,B){if(!(C&&C.length))return[];var Q=Ud(C);return B==null?Q:ui(Q,function(ye){return Ms(B,n,ye)})}var od=O(function(C,B){return os(C)?iu(C,B):[]}),pp=O(function(C){return Tt(qa(C,os))}),v_=O(function(C){var B=ki(C);return os(B)&&(B=n),Tt(qa(C,os),sa(B,2))}),Sc=O(function(C){var B=ki(C);return B=typeof B=="function"?B:n,Tt(qa(C,os),n,B)}),jg=O(Ud);function l0(C,B){return gt(C||[],B||[],Fs)}function Bu(C,B){return gt(C||[],B||[],x)}var Nv=O(function(C){var B=C.length,Q=B>1?C[B-1]:n;return Q=typeof Q=="function"?(C.pop(),Q):n,No(C,Q)});function vm(C){var B=Je(C);return B.__chain__=!0,B}function b_(C,B){return B(C),C}function mp(C,B){return B(C)}var u0=Pu(function(C){var B=C.length,Q=B?C[0]:0,ye=this.__wrapped__,$e=function(st){return uh(st,C)};return B>1||this.__actions__.length||!(ye instanceof fa)||!zd(Q)?this.thru($e):(ye=ye.slice(Q,+Q+(B?1:0)),ye.__actions__.push({func:mp,args:[$e],thisArg:n}),new zo(ye,this.__chain__).thru(function(st){return B&&!st.length&&st.push(n),st}))});function gp(){return vm(this)}function Wo(){return new zo(this.value(),this.__chain__)}function yp(){this.__values__===n&&(this.__values__=ba(this.value()));var C=this.__index__>=this.__values__.length,B=C?n:this.__values__[this.__index__++];return{done:C,value:B}}function bm(){return this}function yh(C){for(var B,Q=this;Q instanceof Cu;){var ye=Tv(Q);ye.__index__=0,ye.__values__=n,B?$e.__wrapped__=ye:B=ye;var $e=ye;Q=Q.__wrapped__}return $e.__wrapped__=C,B}function __(){var C=this.__wrapped__;if(C instanceof fa){var B=C;return this.__actions__.length&&(B=new fa(this)),B=B.reverse(),B.__actions__.push({func:mp,args:[mh],thisArg:n}),new zo(B,this.__chain__)}return this.thru(mh)}function x_(){return pt(this.__wrapped__,this.__actions__)}var E_=ro(function(C,B,Q){yr.call(C,Q)?++C[Q]:au(C,Q,1)});function c0(C,B,Q){var ye=ya(C)?Jl:Ra;return Q&&Cl(C,B,Q)&&(B=n),ye(C,sa(B,3))}function w_(C,B){var Q=ya(C)?qa:xf;return Q(C,sa(B,3))}var fi=Cf(oo),zg=Cf(fp);function $u(C,B){return Co(Ug(C,B),1)}function px(C,B){return Co(Ug(C,B),we)}function S_(C,B,Q){return Q=Q===n?1:Pr(Q),Co(Ug(C,B),Q)}function T_(C,B){var Q=ya(C)?Qs:yc;return Q(C,sa(B,3))}function vh(C,B){var Q=ya(C)?Os:Nu;return Q(C,sa(B,3))}var d0=ro(function(C,B,Q){yr.call(C,Q)?C[Q].push(B):au(C,Q,[B])});function Rv(C,B,Q,ye){C=fu(C)?C:Am(C),Q=Q&&!ye?Pr(Q):0;var $e=C.length;return Q<0&&(Q=zi($e+Q,0)),bp(C)?Q<=$e&&C.indexOf(B,Q)>-1:!!$e&&el(C,B,Q)>-1}var Gd=O(function(C,B,Q){var ye=-1,$e=typeof B=="function",st=fu(C)?A(C.length):[];return yc(C,function(It){st[++ye]=$e?Ms(B,It,Q):Mu(It,B,Q)}),st}),Mv=ro(function(C,B,Q){au(C,Q,B)});function Ug(C,B){var Q=ya(C)?ui:Ou;return Q(C,sa(B,3))}function C_(C,B,Q,ye){return C==null?[]:(ya(B)||(B=B==null?[]:[B]),Q=ye?n:Q,ya(Q)||(Q=Q==null?[]:[Q]),rd(C,B,Q))}var f0=ro(function(C,B,Q){C[Q?0:1].push(B)},function(){return[[],[]]});function bh(C,B,Q){var ye=ya(C)?Xh:Cd,$e=arguments.length<3;return ye(C,sa(B,4),Q,$e,yc)}function Ov(C,B,Q){var ye=ya(C)?lf:Cd,$e=arguments.length<3;return ye(C,sa(B,4),Q,$e,Nu)}function Gw(C,B){var Q=ya(C)?qa:xf;return Q(C,Bv(sa(B,3)))}function Hw(C){var B=ya(C)?Ld:s;return B(C)}function Vw(C,B,Q){(Q?Cl(C,B,Q):B===n)?B=1:B=Pr(B);var ye=ya(C)?lm:h;return ye(C,B)}function mx(C){var B=ya(C)?vf:U;return B(C)}function gx(C){if(C==null)return 0;if(fu(C))return bp(C)?uc(C):C.length;var B=Tl(C);return B==_n||B==sr?C.size:vc(C).length}function Gg(C,B,Q){var ye=ya(C)?Jf:ee;return Q&&Cl(C,B,Q)&&(B=n),ye(C,sa(B,3))}var Dv=O(function(C,B){if(C==null)return[];var Q=B.length;return Q>1&&Cl(C,B[0],B[1])?B=[]:Q>2&&Cl(B[0],B[1],B[2])&&(B=[B[0]]),rd(C,Co(B,1),[])}),h0=xg||function(){return ia.Date.now()};function yx(C,B){if(typeof B!="function")throw new Wt(u);return C=Pr(C),function(){if(--C<1)return B.apply(this,arguments)}}function A_(C,B,Q){return B=Q?n:B,B=C&&B==null?C.length:B,ko(C,oe,n,n,n,n,B)}function k_(C,B){var Q;if(typeof B!="function")throw new Wt(u);return C=Pr(C),function(){return--C>0&&(Q=B.apply(this,arguments)),C<=1&&(B=n),Q}}var Lv=O(function(C,B,Q){var ye=z;if(Q.length){var $e=lc(Q,Io(Lv));ye|=ie}return ko(C,ye,B,Q,$e)}),Pv=O(function(C,B,Q){var ye=z|q;if(Q.length){var $e=lc(Q,Io(Pv));ye|=ie}return ko(B,ye,C,Q,$e)});function _m(C,B,Q){B=Q?n:B;var ye=ko(C,J,n,n,n,n,n,B);return ye.placeholder=_m.placeholder,ye}function Fv(C,B,Q){B=Q?n:B;var ye=ko(C,ne,n,n,n,n,n,B);return ye.placeholder=Fv.placeholder,ye}function Df(C,B,Q){var ye,$e,st,It,$t,Kt,Hn=0,d=!1,o=!1,c=!0;if(typeof C!="function")throw new Wt(u);B=zs(B)||0,Hi(Q)&&(d=!!Q.leading,o="maxWait"in Q,st=o?zi(zs(Q.maxWait)||0,B):st,c="trailing"in Q?!!Q.trailing:c);function y(ge){var be=ye,Ae=$e;return ye=$e=n,Hn=ge,It=C.apply(Ae,be),It}function E(ge){return Hn=ge,$t=Dg(F,B),d?y(ge):It}function I(ge){var be=ge-Kt,Ae=ge-Hn,De=B-be;return o?no(De,st-Ae):De}function N(ge){var be=ge-Kt,Ae=ge-Hn;return Kt===n||be>=B||be<0||o&&Ae>=st}function F(){var ge=h0();if(N(ge))return V(ge);$t=Dg(F,I(ge))}function V(ge){return $t=n,c&&ye?y(ge):(ye=$e=n,It)}function X(){$t!==n&&Jt($t),Hn=0,ye=Kt=$e=$t=n}function ae(){return $t===n?It:V(h0())}function de(){var ge=h0(),be=N(ge);if(ye=arguments,$e=this,Kt=ge,be){if($t===n)return E(Kt);if(o)return Jt($t),$t=Dg(F,B),y(Kt)}return $t===n&&($t=Dg(F,B)),It}return de.cancel=X,de.flush=ae,de}var hi=O(function(C,B){return cm(C,1,B)}),p0=O(function(C,B,Q){return cm(C,zs(B)||0,Q)});function qw(C){return ko(C,se)}function Hg(C,B){if(typeof C!="function"||B!=null&&typeof B!="function")throw new Wt(u);var Q=function(){var ye=arguments,$e=B?B.apply(this,ye):ye[0],st=Q.cache;if(st.has($e))return st.get($e);var It=C.apply(this,ye);return Q.cache=st.set($e,It)||st,It};return Q.cache=new(Hg.Cache||ol),Q}Hg.Cache=ol;function Bv(C){if(typeof C!="function")throw new Wt(u);return function(){var B=arguments;switch(B.length){case 0:return!C.call(this);case 1:return!C.call(this,B[0]);case 2:return!C.call(this,B[0],B[1]);case 3:return!C.call(this,B[0],B[1],B[2])}return!C.apply(this,B)}}function Yw(C){return k_(2,C)}var Ww=jt(function(C,B){B=B.length==1&&ya(B[0])?ui(B[0],ys(sa())):ui(Co(B,1),ys(sa()));var Q=B.length;return O(function(ye){for(var $e=-1,st=no(ye.length,Q);++$e<st;)ye[$e]=B[$e].call(this,ye[$e]);return Ms(C,this,ye)})}),Vg=O(function(C,B){var Q=lc(B,Io(Vg));return ko(C,ie,n,B,Q)}),xm=O(function(C,B){var Q=lc(B,Io(xm));return ko(C,ue,n,B,Q)}),$v=Pu(function(C,B){return ko(C,K,n,n,n,B)});function m0(C,B){if(typeof C!="function")throw new Wt(u);return B=B===n?B:Pr(B),O(C,B)}function Hd(C,B){if(typeof C!="function")throw new Wt(u);return B=B==null?0:zi(Pr(B),0),O(function(Q){var ye=Q[B],$e=Qt(Q,0,B);return ye&&Xa($e,ye),Ms(C,this,$e)})}function du(C,B,Q){var ye=!0,$e=!0;if(typeof C!="function")throw new Wt(u);return Hi(Q)&&(ye="leading"in Q?!!Q.leading:ye,$e="trailing"in Q?!!Q.trailing:$e),Df(C,B,{leading:ye,maxWait:B,trailing:$e})}function Vd(C){return A_(C,1)}function Em(C,B){return Vg(Rt(B),C)}function Zw(){if(!arguments.length)return[];var C=arguments[0];return ya(C)?C:[C]}function g0(C){return _l(C,P)}function jv(C,B){return B=typeof B=="function"?B:n,_l(C,P,B)}function vx(C){return _l(C,w|P)}function zv(C,B){return B=typeof B=="function"?B:n,_l(C,w|P,B)}function I_(C,B){return B==null||gc(C,B,Us(B))}function cl(C,B){return C===B||C!==C&&B!==B}var N_=xi(td),R_=xi(function(C,B){return C>=B}),_h=El((function(){return arguments})())?El:function(C){return Ro(C)&&yr.call(C,"callee")&&!fc.call(C,"callee")},ya=A.isArray,qg=Sd?ys(Sd):ho;function fu(C){return C!=null&&_0(C.length)&&!ju(C)}function os(C){return Ro(C)&&fu(C)}function y0(C){return C===!0||C===!1||Ro(C)&&Er(C)==We}var vp=am||fn,bx=Bo?ys(Bo):Fd;function Ga(C){return Ro(C)&&C.nodeType===1&&!Zg(C)}function v0(C){if(C==null)return!0;if(fu(C)&&(ya(C)||typeof C=="string"||typeof C.splice=="function"||vp(C)||Pf(C)||_h(C)))return!C.length;var B=Tl(C);if(B==_n||B==sr)return!C.size;if(Nf(C))return!vc(C).length;for(var Q in C)if(yr.call(C,Q))return!1;return!0}function qd(C,B){return Fa(C,B)}function Uv(C,B,Q){Q=typeof Q=="function"?Q:n;var ye=Q?Q(C,B):n;return ye===n?Fa(C,B,n,Q):!!ye}function b0(C){if(!Ro(C))return!1;var B=Er(C);return B==rn||B==zt||typeof C.message=="string"&&typeof C.name=="string"&&!Zg(C)}function Gv(C){return typeof C=="number"&&rl(C)}function ju(C){if(!Hi(C))return!1;var B=Er(C);return B==Ge||B==kn||B==Nt||B==Vt}function Yg(C){return typeof C=="number"&&C==Pr(C)}function _0(C){return typeof C=="number"&&C>-1&&C%1==0&&C<=_e}function Hi(C){var B=typeof C;return C!=null&&(B=="object"||B=="function")}function Ro(C){return C!=null&&typeof C=="object"}var Wg=ic?ys(ic):yi;function M_(C,B){return C===B||Pi(C,B,bv(B))}function Hv(C,B,Q){return Q=typeof Q=="function"?Q:n,Pi(C,B,bv(B),Q)}function Ii(C){return O_(C)&&C!=+C}function hu(C){if(e0(C))throw new te(l);return Ef(C)}function Zo(C){return C===null}function x0(C){return C==null}function O_(C){return typeof C=="number"||Ro(C)&&Er(C)==Lt}function Zg(C){if(!Ro(C)||Er(C)!=Tn)return!1;var B=bs(C);if(B===null)return!0;var Q=yr.call(B,"constructor")&&B.constructor;return typeof Q=="function"&&Q instanceof Q&&ga.call(Q)==vs}var Xg=$o?ys($o):lu;function Vv(C){return Yg(C)&&C>=-_e&&C<=_e}var Lf=Zh?ys(Zh):Bd;function bp(C){return typeof C=="string"||!ya(C)&&Ro(C)&&Er(C)==xn}function Bl(C){return typeof C=="symbol"||Ro(C)&&Er(C)==En}var Pf=sf?ys(sf):ip;function qv(C){return C===n}function D_(C){return Ro(C)&&Tl(C)==jn}function Yv(C){return Ro(C)&&Er(C)==_t}var Xw=xi(Fi),_x=xi(function(C,B){return C<=B});function ba(C){if(!C)return[];if(fu(C))return bp(C)?Li(C):Sa(C);if(Ps&&C[Ps])return sc(C[Ps]());var B=Tl(C),Q=B==_n?ff:B==sr?rh:Am;return Q(C)}function kl(C){if(!C)return C===0?C:0;if(C=zs(C),C===we||C===-we){var B=C<0?-1:1;return B*Be}return C===C?C:0}function Pr(C){var B=kl(C),Q=B%1;return B===B?Q?B-Q:B:0}function Tc(C){return C?Pl(Pr(C),0,Re):0}function zs(C){if(typeof C=="number")return C;if(Bl(C))return He;if(Hi(C)){var B=typeof C.valueOf=="function"?C.valueOf():C;C=Hi(B)?B+"":B}if(typeof C!="string")return C===0?C:+C;C=Dl(C);var Q=ra.test(C);return Q||ft.test(C)?Qf(C.slice(2),Q?2:8):hr.test(C)?He:+C}function Il(C){return Ta(C,pu(C))}function Ts(C){return C?Pl(Pr(C),-_e,_e):C===0?C:0}function ha(C){return C==null?"":Le(C)}var L_=vi(function(C,B){if(Nf(B)||fu(B)){Ta(B,Us(B),C);return}for(var Q in B)yr.call(B,Q)&&Fs(C,Q,B[Q])}),$l=vi(function(C,B){Ta(B,pu(B),C)}),mo=vi(function(C,B,Q,ye){Ta(B,pu(B),C,ye)}),Wv=vi(function(C,B,Q,ye){Ta(B,Us(B),C,ye)}),sd=Pu(uh);function Zv(C,B){var Q=vl(C);return B==null?Q:Cg(Q,B)}var _p=O(function(C,B){C=Ue(C);var Q=-1,ye=B.length,$e=ye>2?B[2]:n;for($e&&Cl(B[0],B[1],$e)&&(ye=1);++Q<ye;)for(var st=B[Q],It=pu(st),$t=-1,Kt=It.length;++$t<Kt;){var Hn=It[$t],d=C[Hn];(d===n||cl(d,xr[Hn])&&!yr.call(C,Hn))&&(C[Hn]=st[Hn])}return C}),wm=O(function(C){return C.push(n,ad),Ms(Sm,n,C)});function xx(C,B){return zc(C,sa(B,3),ou)}function Kg(C,B){return zc(C,sa(B,3),dm)}function Cc(C,B){return C==null?C:Pd(C,sa(B,3),pu)}function P_(C,B){return C==null?C:ch(C,sa(B,3),pu)}function Qg(C,B){return C&&ou(C,sa(B,3))}function Ff(C,B){return C&&dm(C,sa(B,3))}function F_(C){return C==null?[]:Es(C,Us(C))}function jl(C){return C==null?[]:Es(C,pu(C))}function dl(C,B,Q){var ye=C==null?n:su(C,B);return ye===n?Q:ye}function Nl(C,B){return C!=null&&xv(C,B,xl)}function Bf(C,B){return C!=null&&xv(C,B,ws)}var Xv=Go(function(C,B,Q){B!=null&&typeof B.toString!="function"&&(B=Ka.call(B)),C[B]=Q},Cp(zl)),B_=Go(function(C,B,Q){B!=null&&typeof B.toString!="function"&&(B=Ka.call(B)),yr.call(C,B)?C[B].push(Q):C[B]=[Q]},sa),Ex=O(Mu);function Us(C){return fu(C)?ap(C):vc(C)}function pu(C){return fu(C)?ap(C,!0):Wy(C)}function wx(C,B){var Q={};return B=sa(B,3),ou(C,function(ye,$e,st){au(Q,B(ye,$e,st),ye)}),Q}function Kv(C,B){var Q={};return B=sa(B,3),ou(C,function(ye,$e,st){au(Q,$e,B(ye,$e,st))}),Q}var xh=vi(function(C,B,Q){wf(C,B,Q)}),Sm=vi(function(C,B,Q,ye){wf(C,B,Q,ye)}),$_=Pu(function(C,B){var Q={};if(C==null)return Q;var ye=!1;B=ui(B,function(st){return st=bt(st,C),ye||(ye=st.length>1),st}),Ta(C,Xy(C),Q),ye&&(Q=_l(Q,w|M|P,Zy));for(var $e=B.length;$e--;)it(Q,B[$e]);return Q});function Jg(C,B){return Tm(C,Bv(sa(B)))}var xp=Pu(function(C,B){return C==null?{}:$d(C,B)});function Tm(C,B){if(C==null)return{};var Q=ui(Xy(C),function(ye){return[ye]});return B=sa(B),Ss(C,Q,function(ye,$e){return B(ye,$e[0])})}function Sx(C,B,Q){B=bt(B,C);var ye=-1,$e=B.length;for($e||($e=1,C=n);++ye<$e;){var st=C==null?n:C[cu(B[ye])];st===n&&(ye=$e,st=Q),C=ju(st)?st.call(C):st}return C}function E0(C,B,Q){return C==null?C:x(C,B,Q)}function ey(C,B,Q,ye){return ye=typeof ye=="function"?ye:n,C==null?C:x(C,B,Q,ye)}var Cm=Ng(Us),Ep=Ng(pu);function Qv(C,B,Q){var ye=ya(C),$e=ye||vp(C)||Pf(C);if(B=sa(B,4),Q==null){var st=C&&C.constructor;$e?Q=ye?new st:[]:Hi(C)?Q=ju(st)?vl(bs(C)):{}:Q={}}return($e?Qs:ou)(C,function(It,$t,Kt){return B(Q,It,$t,Kt)}),Q}function Jv(C,B){return C==null?!0:it(C,B)}function j_(C,B,Q){return C==null?C:ct(C,B,Rt(Q))}function z_(C,B,Q,ye){return ye=typeof ye=="function"?ye:n,C==null?C:ct(C,B,Rt(Q),ye)}function Am(C){return C==null?[]:Qh(C,Us(C))}function eb(C){return C==null?[]:Qh(C,pu(C))}function Tx(C,B,Q){return Q===n&&(Q=B,B=n),Q!==n&&(Q=zs(Q),Q=Q===Q?Q:0),B!==n&&(B=zs(B),B=B===B?B:0),Pl(zs(C),B,Q)}function w0(C,B,Q){return B=kl(B),Q===n?(Q=B,B=0):Q=kl(Q),C=zs(C),fo(C,B,Q)}function tb(C,B,Q){if(Q&&typeof Q!="boolean"&&Cl(C,B,Q)&&(B=Q=n),Q===n&&(typeof B=="boolean"?(Q=B,B=n):typeof C=="boolean"&&(Q=C,C=n)),C===n&&B===n?(C=0,B=1):(C=kl(C),B===n?(B=C,C=0):B=kl(B)),C>B){var ye=C;C=B,B=ye}if(Q||C%1||B%1){var $e=hc();return no(C+$e*(B-C+ms("1e-"+(($e+"").length-1))),B)}return Tf(C,B)}var S0=Fl(function(C,B,Q){return B=B.toLowerCase(),C+(Q?Cx(B):B)});function Cx(C){return Ac(ha(C).toLowerCase())}function ty(C){return C=ha(C),C&&C.replace(mt,df).replace(Va,"")}function U_(C,B,Q){C=ha(C),B=Le(B);var ye=C.length;Q=Q===n?ye:Pl(Pr(Q),0,ye);var $e=Q;return Q-=B.length,Q>=0&&C.slice(Q,$e)==B}function G_(C){return C=ha(C),C&&wn.test(C)?C.replace(Qn,_g):C}function Ax(C){return C=ha(C),C&&yt.test(C)?C.replace(Xr,"\\$&"):C}var kx=Fl(function(C,B,Q){return C+(Q?"-":"")+B.toLowerCase()}),H_=Fl(function(C,B,Q){return C+(Q?" ":"")+B.toLowerCase()}),km=Lu("toLowerCase");function V_(C,B,Q){C=ha(C),B=Pr(B);var ye=B?uc(C):0;if(!B||ye>=B)return C;var $e=(B-ye)/2;return Ci(sh($e),Q)+C+Ci(ep($e),Q)}function Ix(C,B,Q){C=ha(C),B=Pr(B);var ye=B?uc(C):0;return B&&ye<B?C+Ci(B-ye,Q):C}function ny(C,B,Q){C=ha(C),B=Pr(B);var ye=B?uc(C):0;return B&&ye<B?Ci(B-ye,Q)+C:C}function q_(C,B,Q){return Q||B==null?B=0:B&&(B=+B),xs(ha(C).replace(Ft,""),B||0)}function Nx(C,B,Q){return(Q?Cl(C,B,Q):B===n)?B=1:B=Pr(B),uu(ha(C),B)}function wp(){var C=arguments,B=ha(C[0]);return C.length<3?B:B.replace(C[1],C[2])}var nb=Fl(function(C,B,Q){return C+(Q?"_":"")+B.toLowerCase()});function rb(C,B,Q){return Q&&typeof Q!="number"&&Cl(C,B,Q)&&(B=Q=n),Q=Q===n?Re:Q>>>0,Q?(C=ha(C),C&&(typeof B=="string"||B!=null&&!Xg(B))&&(B=Le(B),!B&&Vc(C))?Qt(Li(C),0,Q):C.split(B,Q)):[]}var Im=Fl(function(C,B,Q){return C+(Q?" ":"")+Ac(B)});function Rx(C,B,Q){return C=ha(C),Q=Q==null?0:Pl(Pr(Q),0,C.length),B=Le(B),C.slice(Q,Q+B.length)==B}function Y_(C,B,Q){var ye=Je.templateSettings;Q&&Cl(C,B,Q)&&(B=n),C=ha(C),B=mo({},B,ye,jd);var $e=mo({},B.imports,ye.imports,jd),st=Us($e),It=Qh($e,st),$t,Kt,Hn=0,d=B.interpolate||Xt,o="__p += '",c=ot((B.escape||Xt).source+"|"+d.source+"|"+(d===on?Gn:Xt).source+"|"+(B.evaluate||Xt).source+"|$","g"),y="//# sourceURL="+(yr.call(B,"sourceURL")?(B.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ql+"]")+`
`;C.replace(c,function(N,F,V,X,ae,de){return V||(V=X),o+=C.slice(Hn,de).replace(Cn,th),F&&($t=!0,o+=`' +
__e(`+F+`) +
'`),ae&&(Kt=!0,o+=`';
`+ae+`;
__p += '`),V&&(o+=`' +
((__t = (`+V+`)) == null ? '' : __t) +
'`),Hn=de+N.length,N}),o+=`';
`;var E=yr.call(B,"variable")&&B.variable;if(!E)o=`with (obj) {
`+o+`
}
`;else if(Jn.test(E))throw new te(i);o=(Kt?o.replace(Vn,""):o).replace(gn,"$1").replace(qn,"$1;"),o="function("+(E||"obj")+`) {
`+(E?"":`obj || (obj = {});
`)+"var __t, __p = ''"+($t?", __e = _.escape":"")+(Kt?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+o+`return __p
}`;var I=Nm(function(){return me(st,y+"return "+o).apply(n,It)});if(I.source=o,b0(I))throw I;return I}function Eh(C){return ha(C).toLowerCase()}function wh(C){return ha(C).toUpperCase()}function Sp(C,B,Q){if(C=ha(C),C&&(Q||B===n))return Dl(C);if(!C||!(B=Le(B)))return C;var ye=Li(C),$e=Li(B),st=eh(ye,$e),It=cf(ye,$e)+1;return Qt(ye,st,It).join("")}function T0(C,B,Q){if(C=ha(C),C&&(Q||B===n))return C.slice(0,cc(C)+1);if(!C||!(B=Le(B)))return C;var ye=Li(C),$e=cf(ye,Li(B))+1;return Qt(ye,0,$e).join("")}function C0(C,B,Q){if(C=ha(C),C&&(Q||B===n))return C.replace(Ft,"");if(!C||!(B=Le(B)))return C;var ye=Li(C),$e=eh(ye,Li(B));return Qt(ye,$e).join("")}function Tp(C,B){var Q=pe,ye=ve;if(Hi(B)){var $e="separator"in B?B.separator:$e;Q="length"in B?Pr(B.length):Q,ye="omission"in B?Le(B.omission):ye}C=ha(C);var st=C.length;if(Vc(C)){var It=Li(C);st=It.length}if(Q>=st)return C;var $t=Q-uc(ye);if($t<1)return ye;var Kt=It?Qt(It,0,$t).join(""):C.slice(0,$t);if($e===n)return Kt+ye;if(It&&($t+=Kt.length-$t),Xg($e)){if(C.slice($t).search($e)){var Hn,d=Kt;for($e.global||($e=ot($e.source,ha(zn.exec($e))+"g")),$e.lastIndex=0;Hn=$e.exec(d);)var o=Hn.index;Kt=Kt.slice(0,o===n?$t:o)}}else if(C.indexOf(Le($e),$t)!=$t){var c=Kt.lastIndexOf($e);c>-1&&(Kt=Kt.slice(0,c))}return Kt+ye}function Kw(C){return C=ha(C),C&&Pt.test(C)?C.replace(Xn,as):C}var W_=Fl(function(C,B,Q){return C+(Q?" ":"")+B.toUpperCase()}),Ac=Lu("toUpperCase");function Mx(C,B,Q){return C=ha(C),B=Q?n:B,B===n?nh(C)?Ds(C):Js(C):C.match(B)||[]}var Nm=O(function(C,B){try{return Ms(C,n,B)}catch(Q){return b0(Q)?Q:new te(Q)}}),ab=Pu(function(C,B){return Qs(B,function(Q){Q=cu(Q),au(C,Q,Lv(C[Q],C))}),C});function Ox(C){var B=C==null?0:C.length,Q=sa();return C=B?ui(C,function(ye){if(typeof ye[1]!="function")throw new Wt(u);return[Q(ye[0]),ye[1]]}):[],O(function(ye){for(var $e=-1;++$e<B;){var st=C[$e];if(Ms(st[0],this,ye))return Ms(st[1],this,ye)}})}function Qw(C){return um(_l(C,w))}function Cp(C){return function(){return C}}function A0(C,B){return C==null||C!==C?B:C}var Dx=wl(),ry=wl(!0);function zl(C){return C}function ay(C){return nd(typeof C=="function"?C:_l(C,w))}function ib(C){return dh(_l(C,w))}function Z_(C,B){return fh(C,_l(B,w))}var Lx=O(function(C,B){return function(Q){return Mu(Q,C,B)}}),ob=O(function(C,B){return function(Q){return Mu(C,Q,B)}});function f(C,B,Q){var ye=Us(B),$e=Es(B,ye);Q==null&&!(Hi(B)&&($e.length||!ye.length))&&(Q=B,B=C,C=this,$e=Es(B,Us(B)));var st=!(Hi(Q)&&"chain"in Q)||!!Q.chain,It=ju(C);return Qs($e,function($t){var Kt=B[$t];C[$t]=Kt,It&&(C.prototype[$t]=function(){var Hn=this.__chain__;if(st||Hn){var d=C(this.__wrapped__),o=d.__actions__=Sa(this.__actions__);return o.push({func:Kt,args:arguments,thisArg:C}),d.__chain__=Hn,d}return Kt.apply(C,Xa([this.value()],arguments))})}),C}function g(){return ia._===this&&(ia._=wo),this}function T(){}function D(C){return C=Pr(C),O(function(B){return op(B,C)})}var Z=Sl(ui),re=Sl(Jl),Ne=Sl(Jf);function et(C){return Mg(C)?oc(cu(C)):Ui(C)}function Dt(C){return function(B){return C==null?n:su(C,B)}}var dn=ul(),In=ul(!0);function $n(){return[]}function fn(){return!1}function vn(){return{}}function Rr(){return""}function ta(){return!0}function _i(C,B){if(C=Pr(C),C<1||C>_e)return[];var Q=Re,ye=no(C,Re);B=sa(B),C-=Re;for(var $e=Ad(ye,B);++Q<C;)B(Q);return $e}function Zt(C){return ya(C)?ui(C,cu):Bl(C)?[C]:Sa(r0(ha(C)))}function Gt(C){var B=++oi;return ha(C)+B}var ln=Ao(function(C,B){return C+B},0),Rn=lp("ceil"),Ar=Ao(function(C,B){return C/B},1),ri=lp("floor");function Hr(C){return C&&C.length?Ru(C,zl,td):n}function Ea(C,B){return C&&C.length?Ru(C,sa(B,2),td):n}function Ba(C){return Di(C,zl)}function pi(C,B){return Di(C,sa(B,2))}function Sh(C){return C&&C.length?Ru(C,zl,Fi):n}function Px(C,B){return C&&C.length?Ru(C,sa(B,2),Fi):n}var QN=Ao(function(C,B){return C*B},1),yC=lp("round"),Jw=Ao(function(C,B){return C-B},0);function e2(C){return C&&C.length?Kh(C,zl):0}function vC(C,B){return C&&C.length?Kh(C,sa(B,2)):0}return Je.after=yx,Je.ary=A_,Je.assign=L_,Je.assignIn=$l,Je.assignInWith=mo,Je.assignWith=Wv,Je.at=sd,Je.before=k_,Je.bind=Lv,Je.bindAll=ab,Je.bindKey=Pv,Je.castArray=Zw,Je.chain=vm,Je.chunk=sx,Je.compact=f_,Je.concat=h_,Je.cond=Ox,Je.conforms=Qw,Je.constant=Cp,Je.countBy=E_,Je.create=Zv,Je.curry=_m,Je.curryRight=Fv,Je.debounce=Df,Je.defaults=_p,Je.defaultsDeep=wm,Je.defer=hi,Je.delay=p0,Je.difference=Cv,Je.differenceBy=lx,Je.differenceWith=ph,Je.drop=qo,Je.dropRight=p_,Je.dropRightWhile=m_,Je.dropWhile=Yo,Je.fill=jw,Je.filter=w_,Je.flatMap=$u,Je.flatMapDeep=px,Je.flatMapDepth=S_,Je.flatten=Xi,Je.flattenDeep=Al,Je.flattenDepth=id,Je.flip=qw,Je.flow=Dx,Je.flowRight=ry,Je.fromPairs=Fg,Je.functions=F_,Je.functionsIn=jl,Je.groupBy=d0,Je.initial=a0,Je.intersection=Bg,Je.intersectionBy=js,Je.intersectionWith=Fu,Je.invert=Xv,Je.invertBy=B_,Je.invokeMap=Gd,Je.iteratee=ay,Je.keyBy=Mv,Je.keys=Us,Je.keysIn=pu,Je.map=Ug,Je.mapKeys=wx,Je.mapValues=Kv,Je.matches=ib,Je.matchesProperty=Z_,Je.memoize=Hg,Je.merge=xh,Je.mergeWith=Sm,Je.method=Lx,Je.methodOf=ob,Je.mixin=f,Je.negate=Bv,Je.nthArg=D,Je.omit=$_,Je.omitBy=Jg,Je.once=Yw,Je.orderBy=C_,Je.over=Z,Je.overArgs=Ww,Je.overEvery=re,Je.overSome=Ne,Je.partial=Vg,Je.partialRight=xm,Je.partition=f0,Je.pick=xp,Je.pickBy=Tm,Je.property=et,Je.propertyOf=Dt,Je.pull=xc,Je.pullAll=Of,Je.pullAllBy=kv,Je.pullAllWith=gm,Je.pullAt=Ec,Je.range=dn,Je.rangeRight=In,Je.rearg=$v,Je.reject=Gw,Je.remove=y_,Je.rest=m0,Je.reverse=mh,Je.sampleSize=Vw,Je.set=E0,Je.setWith=ey,Je.shuffle=mx,Je.slice=i0,Je.sortBy=Dv,Je.sortedUniq=s0,Je.sortedUniqBy=hx,Je.split=rb,Je.spread=Hd,Je.tail=zw,Je.take=Uw,Je.takeRight=di,Je.takeRightWhile=Gi,Je.takeWhile=Ma,Je.tap=b_,Je.throttle=du,Je.thru=mp,Je.toArray=ba,Je.toPairs=Cm,Je.toPairsIn=Ep,Je.toPath=Zt,Je.toPlainObject=Il,Je.transform=Qv,Je.unary=Vd,Je.union=Ia,Je.unionBy=bi,Je.unionWith=wc,Je.uniq=hp,Je.uniqBy=ym,Je.uniqWith=Iv,Je.unset=Jv,Je.unzip=Ud,Je.unzipWith=No,Je.update=j_,Je.updateWith=z_,Je.values=Am,Je.valuesIn=eb,Je.without=od,Je.words=Mx,Je.wrap=Em,Je.xor=pp,Je.xorBy=v_,Je.xorWith=Sc,Je.zip=jg,Je.zipObject=l0,Je.zipObjectDeep=Bu,Je.zipWith=Nv,Je.entries=Cm,Je.entriesIn=Ep,Je.extend=$l,Je.extendWith=mo,f(Je,Je),Je.add=ln,Je.attempt=Nm,Je.camelCase=S0,Je.capitalize=Cx,Je.ceil=Rn,Je.clamp=Tx,Je.clone=g0,Je.cloneDeep=vx,Je.cloneDeepWith=zv,Je.cloneWith=jv,Je.conformsTo=I_,Je.deburr=ty,Je.defaultTo=A0,Je.divide=Ar,Je.endsWith=U_,Je.eq=cl,Je.escape=G_,Je.escapeRegExp=Ax,Je.every=c0,Je.find=fi,Je.findIndex=oo,Je.findKey=xx,Je.findLast=zg,Je.findLastIndex=fp,Je.findLastKey=Kg,Je.floor=ri,Je.forEach=T_,Je.forEachRight=vh,Je.forIn=Cc,Je.forInRight=P_,Je.forOwn=Qg,Je.forOwnRight=Ff,Je.get=dl,Je.gt=N_,Je.gte=R_,Je.has=Nl,Je.hasIn=Bf,Je.head=Av,Je.identity=zl,Je.includes=Rv,Je.indexOf=g_,Je.inRange=w0,Je.invoke=Ex,Je.isArguments=_h,Je.isArray=ya,Je.isArrayBuffer=qg,Je.isArrayLike=fu,Je.isArrayLikeObject=os,Je.isBoolean=y0,Je.isBuffer=vp,Je.isDate=bx,Je.isElement=Ga,Je.isEmpty=v0,Je.isEqual=qd,Je.isEqualWith=Uv,Je.isError=b0,Je.isFinite=Gv,Je.isFunction=ju,Je.isInteger=Yg,Je.isLength=_0,Je.isMap=Wg,Je.isMatch=M_,Je.isMatchWith=Hv,Je.isNaN=Ii,Je.isNative=hu,Je.isNil=x0,Je.isNull=Zo,Je.isNumber=O_,Je.isObject=Hi,Je.isObjectLike=Ro,Je.isPlainObject=Zg,Je.isRegExp=Xg,Je.isSafeInteger=Vv,Je.isSet=Lf,Je.isString=bp,Je.isSymbol=Bl,Je.isTypedArray=Pf,Je.isUndefined=qv,Je.isWeakMap=D_,Je.isWeakSet=Yv,Je.join=mm,Je.kebabCase=kx,Je.last=ki,Je.lastIndexOf=ux,Je.lowerCase=H_,Je.lowerFirst=km,Je.lt=Xw,Je.lte=_x,Je.max=Hr,Je.maxBy=Ea,Je.mean=Ba,Je.meanBy=pi,Je.min=Sh,Je.minBy=Px,Je.stubArray=$n,Je.stubFalse=fn,Je.stubObject=vn,Je.stubString=Rr,Je.stubTrue=ta,Je.multiply=QN,Je.nth=Mf,Je.noConflict=g,Je.noop=T,Je.now=h0,Je.pad=V_,Je.padEnd=Ix,Je.padStart=ny,Je.parseInt=q_,Je.random=tb,Je.reduce=bh,Je.reduceRight=Ov,Je.repeat=Nx,Je.replace=wp,Je.result=Sx,Je.round=yC,Je.runInContext=p,Je.sample=Hw,Je.size=gx,Je.snakeCase=nb,Je.some=Gg,Je.sortedIndex=o0,Je.sortedIndexBy=$g,Je.sortedIndexOf=cx,Je.sortedLastIndex=dx,Je.sortedLastIndexBy=gh,Je.sortedLastIndexOf=fx,Je.startCase=Im,Je.startsWith=Rx,Je.subtract=Jw,Je.sum=e2,Je.sumBy=vC,Je.template=Y_,Je.times=_i,Je.toFinite=kl,Je.toInteger=Pr,Je.toLength=Tc,Je.toLower=Eh,Je.toNumber=zs,Je.toSafeInteger=Ts,Je.toString=ha,Je.toUpper=wh,Je.trim=Sp,Je.trimEnd=T0,Je.trimStart=C0,Je.truncate=Tp,Je.unescape=Kw,Je.uniqueId=Gt,Je.upperCase=W_,Je.upperFirst=Ac,Je.each=T_,Je.eachRight=vh,Je.first=Av,f(Je,(function(){var C={};return ou(Je,function(B,Q){yr.call(Je.prototype,Q)||(C[Q]=B)}),C})(),{chain:!1}),Je.VERSION=r,Qs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(C){Je[C].placeholder=Je}),Qs(["drop","take"],function(C,B){fa.prototype[C]=function(Q){Q=Q===n?1:zi(Pr(Q),0);var ye=this.__filtered__&&!B?new fa(this):this.clone();return ye.__filtered__?ye.__takeCount__=no(Q,ye.__takeCount__):ye.__views__.push({size:no(Q,Re),type:C+(ye.__dir__<0?"Right":"")}),ye},fa.prototype[C+"Right"]=function(Q){return this.reverse()[C](Q).reverse()}}),Qs(["filter","map","takeWhile"],function(C,B){var Q=B+1,ye=Q==xe||Q==he;fa.prototype[C]=function($e){var st=this.clone();return st.__iteratees__.push({iteratee:sa($e,3),type:Q}),st.__filtered__=st.__filtered__||ye,st}}),Qs(["head","last"],function(C,B){var Q="take"+(B?"Right":"");fa.prototype[C]=function(){return this[Q](1).value()[0]}}),Qs(["initial","tail"],function(C,B){var Q="drop"+(B?"":"Right");fa.prototype[C]=function(){return this.__filtered__?new fa(this):this[Q](1)}}),fa.prototype.compact=function(){return this.filter(zl)},fa.prototype.find=function(C){return this.filter(C).head()},fa.prototype.findLast=function(C){return this.reverse().find(C)},fa.prototype.invokeMap=O(function(C,B){return typeof C=="function"?new fa(this):this.map(function(Q){return Mu(Q,C,B)})}),fa.prototype.reject=function(C){return this.filter(Bv(sa(C)))},fa.prototype.slice=function(C,B){C=Pr(C);var Q=this;return Q.__filtered__&&(C>0||B<0)?new fa(Q):(C<0?Q=Q.takeRight(-C):C&&(Q=Q.drop(C)),B!==n&&(B=Pr(B),Q=B<0?Q.dropRight(-B):Q.take(B-C)),Q)},fa.prototype.takeRightWhile=function(C){return this.reverse().takeWhile(C).reverse()},fa.prototype.toArray=function(){return this.take(Re)},ou(fa.prototype,function(C,B){var Q=/^(?:filter|find|map|reject)|While$/.test(B),ye=/^(?:head|last)$/.test(B),$e=Je[ye?"take"+(B=="last"?"Right":""):B],st=ye||/^find/.test(B);$e&&(Je.prototype[B]=function(){var It=this.__wrapped__,$t=ye?[1]:arguments,Kt=It instanceof fa,Hn=$t[0],d=Kt||ya(It),o=function(F){var V=$e.apply(Je,Xa([F],$t));return ye&&c?V[0]:V};d&&Q&&typeof Hn=="function"&&Hn.length!=1&&(Kt=d=!1);var c=this.__chain__,y=!!this.__actions__.length,E=st&&!c,I=Kt&&!y;if(!st&&d){It=I?It:new fa(this);var N=C.apply(It,$t);return N.__actions__.push({func:mp,args:[o],thisArg:n}),new zo(N,c)}return E&&I?C.apply(this,$t):(N=this.thru(o),E?ye?N.value()[0]:N.value():N)})}),Qs(["pop","push","shift","sort","splice","unshift"],function(C){var B=Fn[C],Q=/^(?:push|sort|unshift)$/.test(C)?"tap":"thru",ye=/^(?:pop|shift)$/.test(C);Je.prototype[C]=function(){var $e=arguments;if(ye&&!this.__chain__){var st=this.value();return B.apply(ya(st)?st:[],$e)}return this[Q](function(It){return B.apply(ya(It)?It:[],$e)})}}),ou(fa.prototype,function(C,B){var Q=Je[B];if(Q){var ye=Q.name+"";yr.call(Ya,ye)||(Ya[ye]=[]),Ya[ye].push({name:B,func:Q})}}),Ya[ao(n,q).name]=[{name:"wrapper",func:n}],fa.prototype.clone=Xc,fa.prototype.reverse=Od,fa.prototype.value=Kc,Je.prototype.at=u0,Je.prototype.chain=gp,Je.prototype.commit=Wo,Je.prototype.next=yp,Je.prototype.plant=yh,Je.prototype.reverse=__,Je.prototype.toJSON=Je.prototype.valueOf=Je.prototype.value=x_,Je.prototype.first=Je.prototype.head,Ps&&(Je.prototype[Ps]=bm),Je}),R=tl();Gr?((Gr.exports=R)._=R,xu._=R):ia._=R}).call(mde)})(k2,k2.exports)),k2.exports}var ck=gde();const na=qh(ck),vS=({col:e,className:t,children:n,style:r,inline:a=!1})=>{const{isMobile:l}=Fr(),[u,i]=$.useState(window.innerWidth);$.useEffect(()=>{const _=()=>i(window.innerWidth);return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]);const m=l?24:e??24,b={flexGrow:0,flexShrink:0,flexBasis:`${m/24*100}%`,maxWidth:`${m/24*100}%`,...r};return a?S.jsx("div",{children:n}):S.jsx("div",{className:t,style:b,children:n})},IE=({children:e,style:t,gap:n,justify:r,className:a,inline:l=!1})=>{const u={display:"flex",flexWrap:"wrap",...t};return n&&(u.gap=`${n}px`),l?S.jsx("div",{children:e}):S.jsx("div",{style:u,className:a,children:e})},yde=e=>{for(var t="",n=0;n<e;n++)t+="x";var r=new Date().getTime(),a=t.replace(/[xy]/g,function(l){var u=(r+Math.random()*16)%16|0;return r=Math.floor(r/16),(l=="x"?u:u&3|8).toString(16)});return a},vde=e=>{for(var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=0,a=0;a<e;a++)a==0?r=10:r=0,n+=t[Math.round(Math.random()*(t.length-r-1))];return n},bde=e=>{var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy");n&&Ca.success(tt.key("copiedToClipboard"))}catch{}document.body.removeChild(t)},qf=e=>{if(!navigator.clipboard){bde(e);return}navigator.clipboard.writeText(e).then(function(){Ca.success(tt.key("copiedToClipboard"))},function(t){})},_de=e=>{const t=parseInt(e.substring(1),16),n=t>>16&255,r=t>>8&255,a=t&255;return[n,r,a]},o3=e=>{let t=[];return na.forOwn(e,n=>{na.isPlainObject(n)?t=t.concat(o3(n)):na.isArray(n)?n.forEach(r=>{na.isPlainObject(r)?t=t.concat(o3(r)):t.push(r)}):t.push(n)}),t},xde=e=>e?o3(e).filter(n=>n).length>0:!1;var Ede=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wde=Ede.reduce((e,t)=>{const n=tq(`Primitive.${t}`),r=$.forwardRef((a,l)=>{const{asChild:u,...i}=a,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(m,{...i,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),Sde="Label",rq=$.forwardRef((e,t)=>S.jsx(wde.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));rq.displayName=Sde;var Tde=rq;function kr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e?.(a),n===!1||!a.defaultPrevented)return t?.(a)}}function Cde(e,t){const n=$.createContext(t),r=l=>{const{children:u,...i}=l,m=$.useMemo(()=>i,Object.values(i));return S.jsx(n.Provider,{value:m,children:u})};r.displayName=e+"Provider";function a(l){const u=$.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${l}\` must be used within \`${e}\``)}return[r,a]}function vd(e,t=[]){let n=[];function r(l,u){const i=$.createContext(u),m=n.length;n=[...n,u];const b=w=>{const{scope:M,children:P,...j}=w,G=M?.[e]?.[m]||i,z=$.useMemo(()=>j,Object.values(j));return S.jsx(G.Provider,{value:z,children:P})};b.displayName=l+"Provider";function _(w,M){const P=M?.[e]?.[m]||i,j=$.useContext(P);if(j)return j;if(u!==void 0)return u;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[b,_]}const a=()=>{const l=n.map(u=>$.createContext(u));return function(i){const m=i?.[e]||l;return $.useMemo(()=>({[`__scope${e}`]:{...i,[e]:m}}),[i,m])}};return a.scopeName=e,[r,Ade(a,...t)]}function Ade(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=r.reduce((i,{useScope:m,scopeName:b})=>{const w=m(l)[`__scope${b}`];return{...i,...w}},{});return $.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function kde(e){const t=Ide(e),n=$.forwardRef((r,a)=>{const{children:l,...u}=r,i=$.Children.toArray(l),m=i.find(Rde);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function Ide(e){const t=$.forwardRef((n,r)=>{const{children:a,...l}=n;if($.isValidElement(a)){const u=Ode(a),i=Mde(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Nde=Symbol("radix.slottable");function Rde(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Nde}function Mde(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function Ode(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xa=Dde.reduce((e,t)=>{const n=kde(`Primitive.${t}`),r=$.forwardRef((a,l)=>{const{asChild:u,...i}=a,m=u?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(m,{...i,ref:l})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function aq(e,t){e&&qm.flushSync(()=>e.dispatchEvent(t))}function Xu(e){const t=$.useRef(e);return $.useEffect(()=>{t.current=e}),$.useMemo(()=>(...n)=>t.current?.(...n),[])}function Lde(e,t=globalThis?.document){const n=Xu(e);$.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Pde="DismissableLayer",s3="dismissableLayer.update",Fde="dismissableLayer.pointerDownOutside",Bde="dismissableLayer.focusOutside",l9,iq=$.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fT=$.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:u,onDismiss:i,...m}=e,b=$.useContext(iq),[_,w]=$.useState(null),M=_?.ownerDocument??globalThis?.document,[,P]=$.useState({}),j=ni(t,oe=>w(oe)),G=Array.from(b.layers),[z]=[...b.layersWithOutsidePointerEventsDisabled].slice(-1),q=G.indexOf(z),Y=_?G.indexOf(_):-1,J=b.layersWithOutsidePointerEventsDisabled.size>0,ne=Y>=q,ie=zde(oe=>{const K=oe.target,se=[...b.branches].some(pe=>pe.contains(K));!ne||se||(a?.(oe),u?.(oe),oe.defaultPrevented||i?.())},M),ue=Ude(oe=>{const K=oe.target;[...b.branches].some(pe=>pe.contains(K))||(l?.(oe),u?.(oe),oe.defaultPrevented||i?.())},M);return Lde(oe=>{Y===b.layers.size-1&&(r?.(oe),!oe.defaultPrevented&&i&&(oe.preventDefault(),i()))},M),$.useEffect(()=>{if(_)return n&&(b.layersWithOutsidePointerEventsDisabled.size===0&&(l9=M.body.style.pointerEvents,M.body.style.pointerEvents="none"),b.layersWithOutsidePointerEventsDisabled.add(_)),b.layers.add(_),u9(),()=>{n&&b.layersWithOutsidePointerEventsDisabled.size===1&&(M.body.style.pointerEvents=l9)}},[_,M,n,b]),$.useEffect(()=>()=>{_&&(b.layers.delete(_),b.layersWithOutsidePointerEventsDisabled.delete(_),u9())},[_,b]),$.useEffect(()=>{const oe=()=>P({});return document.addEventListener(s3,oe),()=>document.removeEventListener(s3,oe)},[]),S.jsx(xa.div,{...m,ref:j,style:{pointerEvents:J?ne?"auto":"none":void 0,...e.style},onFocusCapture:kr(e.onFocusCapture,ue.onFocusCapture),onBlurCapture:kr(e.onBlurCapture,ue.onBlurCapture),onPointerDownCapture:kr(e.onPointerDownCapture,ie.onPointerDownCapture)})});fT.displayName=Pde;var $de="DismissableLayerBranch",jde=$.forwardRef((e,t)=>{const n=$.useContext(iq),r=$.useRef(null),a=ni(t,r);return $.useEffect(()=>{const l=r.current;if(l)return n.branches.add(l),()=>{n.branches.delete(l)}},[n.branches]),S.jsx(xa.div,{...e,ref:a})});jde.displayName=$de;function zde(e,t=globalThis?.document){const n=Xu(e),r=$.useRef(!1),a=$.useRef(()=>{});return $.useEffect(()=>{const l=i=>{if(i.target&&!r.current){let m=function(){oq(Fde,n,b,{discrete:!0})};const b={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=m,t.addEventListener("click",a.current,{once:!0})):m()}else t.removeEventListener("click",a.current);r.current=!1},u=window.setTimeout(()=>{t.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(u),t.removeEventListener("pointerdown",l),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Ude(e,t=globalThis?.document){const n=Xu(e),r=$.useRef(!1);return $.useEffect(()=>{const a=l=>{l.target&&!r.current&&oq(Bde,n,{originalEvent:l},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u9(){const e=new CustomEvent(s3);document.dispatchEvent(e)}function oq(e,t,n,{discrete:r}){const a=n.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?aq(a,l):a.dispatchEvent(l)}var ev=globalThis?.document?$.useLayoutEffect:()=>{},Gde=gI[" useId ".trim().toString()]||(()=>{}),Hde=0;function eg(e){const[t,n]=$.useState(Gde());return ev(()=>{n(r=>r??String(Hde++))},[e]),e||(t?`radix-${t}`:"")}const Vde=["top","right","bottom","left"],Fb=Math.min,Oh=Math.max,dk=Math.round,kC=Math.floor,Cy=e=>({x:e,y:e}),qde={left:"right",right:"left",bottom:"top",top:"bottom"},Yde={start:"end",end:"start"};function l3(e,t,n){return Oh(e,Fb(t,n))}function tv(e,t){return typeof e=="function"?e(t):e}function nv(e){return e.split("-")[0]}function cw(e){return e.split("-")[1]}function bL(e){return e==="x"?"y":"x"}function _L(e){return e==="y"?"height":"width"}const Wde=new Set(["top","bottom"]);function by(e){return Wde.has(nv(e))?"y":"x"}function xL(e){return bL(by(e))}function Zde(e,t,n){n===void 0&&(n=!1);const r=cw(e),a=xL(e),l=_L(a);let u=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=fk(u)),[u,fk(u)]}function Xde(e){const t=fk(e);return[u3(e),t,u3(t)]}function u3(e){return e.replace(/start|end/g,t=>Yde[t])}const c9=["left","right"],d9=["right","left"],Kde=["top","bottom"],Qde=["bottom","top"];function Jde(e,t,n){switch(e){case"top":case"bottom":return n?t?d9:c9:t?c9:d9;case"left":case"right":return t?Kde:Qde;default:return[]}}function efe(e,t,n,r){const a=cw(e);let l=Jde(nv(e),n==="start",r);return a&&(l=l.map(u=>u+"-"+a),t&&(l=l.concat(l.map(u3)))),l}function fk(e){return e.replace(/left|right|bottom|top/g,t=>qde[t])}function tfe(e){return{top:0,right:0,bottom:0,left:0,...e}}function sq(e){return typeof e!="number"?tfe(e):{top:e,right:e,bottom:e,left:e}}function hk(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function f9(e,t,n){let{reference:r,floating:a}=e;const l=by(t),u=xL(t),i=_L(u),m=nv(t),b=l==="y",_=r.x+r.width/2-a.width/2,w=r.y+r.height/2-a.height/2,M=r[i]/2-a[i]/2;let P;switch(m){case"top":P={x:_,y:r.y-a.height};break;case"bottom":P={x:_,y:r.y+r.height};break;case"right":P={x:r.x+r.width,y:w};break;case"left":P={x:r.x-a.width,y:w};break;default:P={x:r.x,y:r.y}}switch(cw(t)){case"start":P[u]-=M*(n&&b?-1:1);break;case"end":P[u]+=M*(n&&b?-1:1);break}return P}const nfe=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:l=[],platform:u}=n,i=l.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(t));let b=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:_,y:w}=f9(b,r,m),M=r,P={},j=0;for(let G=0;G<i.length;G++){const{name:z,fn:q}=i[G],{x:Y,y:J,data:ne,reset:ie}=await q({x:_,y:w,initialPlacement:r,placement:M,strategy:a,middlewareData:P,rects:b,platform:u,elements:{reference:e,floating:t}});_=Y??_,w=J??w,P={...P,[z]:{...P[z],...ne}},ie&&j<=50&&(j++,typeof ie=="object"&&(ie.placement&&(M=ie.placement),ie.rects&&(b=ie.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):ie.rects),{x:_,y:w}=f9(b,M,m)),G=-1)}return{x:_,y:w,placement:M,strategy:a,middlewareData:P}};async function bS(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:l,rects:u,elements:i,strategy:m}=e,{boundary:b="clippingAncestors",rootBoundary:_="viewport",elementContext:w="floating",altBoundary:M=!1,padding:P=0}=tv(t,e),j=sq(P),z=i[M?w==="floating"?"reference":"floating":w],q=hk(await l.getClippingRect({element:(n=await(l.isElement==null?void 0:l.isElement(z)))==null||n?z:z.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(i.floating)),boundary:b,rootBoundary:_,strategy:m})),Y=w==="floating"?{x:r,y:a,width:u.floating.width,height:u.floating.height}:u.reference,J=await(l.getOffsetParent==null?void 0:l.getOffsetParent(i.floating)),ne=await(l.isElement==null?void 0:l.isElement(J))?await(l.getScale==null?void 0:l.getScale(J))||{x:1,y:1}:{x:1,y:1},ie=hk(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:Y,offsetParent:J,strategy:m}):Y);return{top:(q.top-ie.top+j.top)/ne.y,bottom:(ie.bottom-q.bottom+j.bottom)/ne.y,left:(q.left-ie.left+j.left)/ne.x,right:(ie.right-q.right+j.right)/ne.x}}const rfe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:l,platform:u,elements:i,middlewareData:m}=t,{element:b,padding:_=0}=tv(e,t)||{};if(b==null)return{};const w=sq(_),M={x:n,y:r},P=xL(a),j=_L(P),G=await u.getDimensions(b),z=P==="y",q=z?"top":"left",Y=z?"bottom":"right",J=z?"clientHeight":"clientWidth",ne=l.reference[j]+l.reference[P]-M[P]-l.floating[j],ie=M[P]-l.reference[P],ue=await(u.getOffsetParent==null?void 0:u.getOffsetParent(b));let oe=ue?ue[J]:0;(!oe||!await(u.isElement==null?void 0:u.isElement(ue)))&&(oe=i.floating[J]||l.floating[j]);const K=ne/2-ie/2,se=oe/2-G[j]/2-1,pe=Fb(w[q],se),ve=Fb(w[Y],se),Te=pe,Me=oe-G[j]-ve,xe=oe/2-G[j]/2+K,Se=l3(Te,xe,Me),he=!m.arrow&&cw(a)!=null&&xe!==Se&&l.reference[j]/2-(xe<Te?pe:ve)-G[j]/2<0,we=he?xe<Te?xe-Te:xe-Me:0;return{[P]:M[P]+we,data:{[P]:Se,centerOffset:xe-Se-we,...he&&{alignmentOffset:we}},reset:he}}}),afe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:l,rects:u,initialPlacement:i,platform:m,elements:b}=t,{mainAxis:_=!0,crossAxis:w=!0,fallbackPlacements:M,fallbackStrategy:P="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:G=!0,...z}=tv(e,t);if((n=l.arrow)!=null&&n.alignmentOffset)return{};const q=nv(a),Y=by(i),J=nv(i)===i,ne=await(m.isRTL==null?void 0:m.isRTL(b.floating)),ie=M||(J||!G?[fk(i)]:Xde(i)),ue=j!=="none";!M&&ue&&ie.push(...efe(i,G,j,ne));const oe=[i,...ie],K=await bS(t,z),se=[];let pe=((r=l.flip)==null?void 0:r.overflows)||[];if(_&&se.push(K[q]),w){const xe=Zde(a,u,ne);se.push(K[xe[0]],K[xe[1]])}if(pe=[...pe,{placement:a,overflows:se}],!se.every(xe=>xe<=0)){var ve,Te;const xe=(((ve=l.flip)==null?void 0:ve.index)||0)+1,Se=oe[xe];if(Se&&(!(w==="alignment"?Y!==by(Se):!1)||pe.every(_e=>by(_e.placement)===Y?_e.overflows[0]>0:!0)))return{data:{index:xe,overflows:pe},reset:{placement:Se}};let he=(Te=pe.filter(we=>we.overflows[0]<=0).sort((we,_e)=>we.overflows[1]-_e.overflows[1])[0])==null?void 0:Te.placement;if(!he)switch(P){case"bestFit":{var Me;const we=(Me=pe.filter(_e=>{if(ue){const Be=by(_e.placement);return Be===Y||Be==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(Be=>Be>0).reduce((Be,He)=>Be+He,0)]).sort((_e,Be)=>_e[1]-Be[1])[0])==null?void 0:Me[0];we&&(he=we);break}case"initialPlacement":he=i;break}if(a!==he)return{reset:{placement:he}}}return{}}}};function h9(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function p9(e){return Vde.some(t=>e[t]>=0)}const ife=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=tv(e,t);switch(r){case"referenceHidden":{const l=await bS(t,{...a,elementContext:"reference"}),u=h9(l,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:p9(u)}}}case"escaped":{const l=await bS(t,{...a,altBoundary:!0}),u=h9(l,n.floating);return{data:{escapedOffsets:u,escaped:p9(u)}}}default:return{}}}}},lq=new Set(["left","top"]);async function ofe(e,t){const{placement:n,platform:r,elements:a}=e,l=await(r.isRTL==null?void 0:r.isRTL(a.floating)),u=nv(n),i=cw(n),m=by(n)==="y",b=lq.has(u)?-1:1,_=l&&m?-1:1,w=tv(t,e);let{mainAxis:M,crossAxis:P,alignmentAxis:j}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return i&&typeof j=="number"&&(P=i==="end"?j*-1:j),m?{x:P*_,y:M*b}:{x:M*b,y:P*_}}const sfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:l,placement:u,middlewareData:i}=t,m=await ofe(t,e);return u===((n=i.offset)==null?void 0:n.placement)&&(r=i.arrow)!=null&&r.alignmentOffset?{}:{x:a+m.x,y:l+m.y,data:{...m,placement:u}}}}},lfe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:i={fn:z=>{let{x:q,y:Y}=z;return{x:q,y:Y}}},...m}=tv(e,t),b={x:n,y:r},_=await bS(t,m),w=by(nv(a)),M=bL(w);let P=b[M],j=b[w];if(l){const z=M==="y"?"top":"left",q=M==="y"?"bottom":"right",Y=P+_[z],J=P-_[q];P=l3(Y,P,J)}if(u){const z=w==="y"?"top":"left",q=w==="y"?"bottom":"right",Y=j+_[z],J=j-_[q];j=l3(Y,j,J)}const G=i.fn({...t,[M]:P,[w]:j});return{...G,data:{x:G.x-n,y:G.y-r,enabled:{[M]:l,[w]:u}}}}}},ufe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:l,middlewareData:u}=t,{offset:i=0,mainAxis:m=!0,crossAxis:b=!0}=tv(e,t),_={x:n,y:r},w=by(a),M=bL(w);let P=_[M],j=_[w];const G=tv(i,t),z=typeof G=="number"?{mainAxis:G,crossAxis:0}:{mainAxis:0,crossAxis:0,...G};if(m){const J=M==="y"?"height":"width",ne=l.reference[M]-l.floating[J]+z.mainAxis,ie=l.reference[M]+l.reference[J]-z.mainAxis;P<ne?P=ne:P>ie&&(P=ie)}if(b){var q,Y;const J=M==="y"?"width":"height",ne=lq.has(nv(a)),ie=l.reference[w]-l.floating[J]+(ne&&((q=u.offset)==null?void 0:q[w])||0)+(ne?0:z.crossAxis),ue=l.reference[w]+l.reference[J]+(ne?0:((Y=u.offset)==null?void 0:Y[w])||0)-(ne?z.crossAxis:0);j<ie?j=ie:j>ue&&(j=ue)}return{[M]:P,[w]:j}}}},cfe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:l,platform:u,elements:i}=t,{apply:m=()=>{},...b}=tv(e,t),_=await bS(t,b),w=nv(a),M=cw(a),P=by(a)==="y",{width:j,height:G}=l.floating;let z,q;w==="top"||w==="bottom"?(z=w,q=M===(await(u.isRTL==null?void 0:u.isRTL(i.floating))?"start":"end")?"left":"right"):(q=w,z=M==="end"?"top":"bottom");const Y=G-_.top-_.bottom,J=j-_.left-_.right,ne=Fb(G-_[z],Y),ie=Fb(j-_[q],J),ue=!t.middlewareData.shift;let oe=ne,K=ie;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(K=J),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(oe=Y),ue&&!M){const pe=Oh(_.left,0),ve=Oh(_.right,0),Te=Oh(_.top,0),Me=Oh(_.bottom,0);P?K=j-2*(pe!==0||ve!==0?pe+ve:Oh(_.left,_.right)):oe=G-2*(Te!==0||Me!==0?Te+Me:Oh(_.top,_.bottom))}await m({...t,availableWidth:K,availableHeight:oe});const se=await u.getDimensions(i.floating);return j!==se.width||G!==se.height?{reset:{rects:!0}}:{}}}};function CI(){return typeof window<"u"}function dw(e){return uq(e)?(e.nodeName||"").toLowerCase():"#document"}function Uh(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function jy(e){var t;return(t=(uq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function uq(e){return CI()?e instanceof Node||e instanceof Uh(e).Node:!1}function og(e){return CI()?e instanceof Element||e instanceof Uh(e).Element:!1}function Ry(e){return CI()?e instanceof HTMLElement||e instanceof Uh(e).HTMLElement:!1}function m9(e){return!CI()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Uh(e).ShadowRoot}const dfe=new Set(["inline","contents"]);function hT(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=sg(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!dfe.has(a)}const ffe=new Set(["table","td","th"]);function hfe(e){return ffe.has(dw(e))}const pfe=[":popover-open",":modal"];function AI(e){return pfe.some(t=>{try{return e.matches(t)}catch{return!1}})}const mfe=["transform","translate","scale","rotate","perspective"],gfe=["transform","translate","scale","rotate","perspective","filter"],yfe=["paint","layout","strict","content"];function EL(e){const t=wL(),n=og(e)?sg(e):e;return mfe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||gfe.some(r=>(n.willChange||"").includes(r))||yfe.some(r=>(n.contain||"").includes(r))}function vfe(e){let t=Bb(e);for(;Ry(t)&&!NE(t);){if(EL(t))return t;if(AI(t))return null;t=Bb(t)}return null}function wL(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const bfe=new Set(["html","body","#document"]);function NE(e){return bfe.has(dw(e))}function sg(e){return Uh(e).getComputedStyle(e)}function kI(e){return og(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bb(e){if(dw(e)==="html")return e;const t=e.assignedSlot||e.parentNode||m9(e)&&e.host||jy(e);return m9(t)?t.host:t}function cq(e){const t=Bb(e);return NE(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ry(t)&&hT(t)?t:cq(t)}function _S(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=cq(e),l=a===((r=e.ownerDocument)==null?void 0:r.body),u=Uh(a);if(l){const i=c3(u);return t.concat(u,u.visualViewport||[],hT(a)?a:[],i&&n?_S(i):[])}return t.concat(a,_S(a,[],n))}function c3(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function dq(e){const t=sg(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Ry(e),l=a?e.offsetWidth:n,u=a?e.offsetHeight:r,i=dk(n)!==l||dk(r)!==u;return i&&(n=l,r=u),{width:n,height:r,$:i}}function SL(e){return og(e)?e:e.contextElement}function gE(e){const t=SL(e);if(!Ry(t))return Cy(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:l}=dq(t);let u=(l?dk(n.width):n.width)/r,i=(l?dk(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!i||!Number.isFinite(i))&&(i=1),{x:u,y:i}}const _fe=Cy(0);function fq(e){const t=Uh(e);return!wL()||!t.visualViewport?_fe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xfe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Uh(e)?!1:t}function _1(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),l=SL(e);let u=Cy(1);t&&(r?og(r)&&(u=gE(r)):u=gE(e));const i=xfe(l,n,r)?fq(l):Cy(0);let m=(a.left+i.x)/u.x,b=(a.top+i.y)/u.y,_=a.width/u.x,w=a.height/u.y;if(l){const M=Uh(l),P=r&&og(r)?Uh(r):r;let j=M,G=c3(j);for(;G&&r&&P!==j;){const z=gE(G),q=G.getBoundingClientRect(),Y=sg(G),J=q.left+(G.clientLeft+parseFloat(Y.paddingLeft))*z.x,ne=q.top+(G.clientTop+parseFloat(Y.paddingTop))*z.y;m*=z.x,b*=z.y,_*=z.x,w*=z.y,m+=J,b+=ne,j=Uh(G),G=c3(j)}}return hk({width:_,height:w,x:m,y:b})}function II(e,t){const n=kI(e).scrollLeft;return t?t.left+n:_1(jy(e)).left+n}function hq(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-II(e,n),a=n.top+t.scrollTop;return{x:r,y:a}}function Efe(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const l=a==="fixed",u=jy(r),i=t?AI(t.floating):!1;if(r===u||i&&l)return n;let m={scrollLeft:0,scrollTop:0},b=Cy(1);const _=Cy(0),w=Ry(r);if((w||!w&&!l)&&((dw(r)!=="body"||hT(u))&&(m=kI(r)),Ry(r))){const P=_1(r);b=gE(r),_.x=P.x+r.clientLeft,_.y=P.y+r.clientTop}const M=u&&!w&&!l?hq(u,m):Cy(0);return{width:n.width*b.x,height:n.height*b.y,x:n.x*b.x-m.scrollLeft*b.x+_.x+M.x,y:n.y*b.y-m.scrollTop*b.y+_.y+M.y}}function wfe(e){return Array.from(e.getClientRects())}function Sfe(e){const t=jy(e),n=kI(e),r=e.ownerDocument.body,a=Oh(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),l=Oh(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let u=-n.scrollLeft+II(e);const i=-n.scrollTop;return sg(r).direction==="rtl"&&(u+=Oh(t.clientWidth,r.clientWidth)-a),{width:a,height:l,x:u,y:i}}const g9=25;function Tfe(e,t){const n=Uh(e),r=jy(e),a=n.visualViewport;let l=r.clientWidth,u=r.clientHeight,i=0,m=0;if(a){l=a.width,u=a.height;const _=wL();(!_||_&&t==="fixed")&&(i=a.offsetLeft,m=a.offsetTop)}const b=II(r);if(b<=0){const _=r.ownerDocument,w=_.body,M=getComputedStyle(w),P=_.compatMode==="CSS1Compat"&&parseFloat(M.marginLeft)+parseFloat(M.marginRight)||0,j=Math.abs(r.clientWidth-w.clientWidth-P);j<=g9&&(l-=j)}else b<=g9&&(l+=b);return{width:l,height:u,x:i,y:m}}const Cfe=new Set(["absolute","fixed"]);function Afe(e,t){const n=_1(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,l=Ry(e)?gE(e):Cy(1),u=e.clientWidth*l.x,i=e.clientHeight*l.y,m=a*l.x,b=r*l.y;return{width:u,height:i,x:m,y:b}}function y9(e,t,n){let r;if(t==="viewport")r=Tfe(e,n);else if(t==="document")r=Sfe(jy(e));else if(og(t))r=Afe(t,n);else{const a=fq(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return hk(r)}function pq(e,t){const n=Bb(e);return n===t||!og(n)||NE(n)?!1:sg(n).position==="fixed"||pq(n,t)}function kfe(e,t){const n=t.get(e);if(n)return n;let r=_S(e,[],!1).filter(i=>og(i)&&dw(i)!=="body"),a=null;const l=sg(e).position==="fixed";let u=l?Bb(e):e;for(;og(u)&&!NE(u);){const i=sg(u),m=EL(u);!m&&i.position==="fixed"&&(a=null),(l?!m&&!a:!m&&i.position==="static"&&!!a&&Cfe.has(a.position)||hT(u)&&!m&&pq(e,u))?r=r.filter(_=>_!==u):a=i,u=Bb(u)}return t.set(e,r),r}function Ife(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const u=[...n==="clippingAncestors"?AI(t)?[]:kfe(t,this._c):[].concat(n),r],i=u[0],m=u.reduce((b,_)=>{const w=y9(t,_,a);return b.top=Oh(w.top,b.top),b.right=Fb(w.right,b.right),b.bottom=Fb(w.bottom,b.bottom),b.left=Oh(w.left,b.left),b},y9(t,i,a));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Nfe(e){const{width:t,height:n}=dq(e);return{width:t,height:n}}function Rfe(e,t,n){const r=Ry(t),a=jy(t),l=n==="fixed",u=_1(e,!0,l,t);let i={scrollLeft:0,scrollTop:0};const m=Cy(0);function b(){m.x=II(a)}if(r||!r&&!l)if((dw(t)!=="body"||hT(a))&&(i=kI(t)),r){const P=_1(t,!0,l,t);m.x=P.x+t.clientLeft,m.y=P.y+t.clientTop}else a&&b();l&&!r&&a&&b();const _=a&&!r&&!l?hq(a,i):Cy(0),w=u.left+i.scrollLeft-m.x-_.x,M=u.top+i.scrollTop-m.y-_.y;return{x:w,y:M,width:u.width,height:u.height}}function ER(e){return sg(e).position==="static"}function v9(e,t){if(!Ry(e)||sg(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return jy(e)===n&&(n=n.ownerDocument.body),n}function mq(e,t){const n=Uh(e);if(AI(e))return n;if(!Ry(e)){let a=Bb(e);for(;a&&!NE(a);){if(og(a)&&!ER(a))return a;a=Bb(a)}return n}let r=v9(e,t);for(;r&&hfe(r)&&ER(r);)r=v9(r,t);return r&&NE(r)&&ER(r)&&!EL(r)?n:r||vfe(e)||n}const Mfe=async function(e){const t=this.getOffsetParent||mq,n=this.getDimensions,r=await n(e.floating);return{reference:Rfe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ofe(e){return sg(e).direction==="rtl"}const Dfe={convertOffsetParentRelativeRectToViewportRelativeRect:Efe,getDocumentElement:jy,getClippingRect:Ife,getOffsetParent:mq,getElementRects:Mfe,getClientRects:wfe,getDimensions:Nfe,getScale:gE,isElement:og,isRTL:Ofe};function gq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Lfe(e,t){let n=null,r;const a=jy(e);function l(){var i;clearTimeout(r),(i=n)==null||i.disconnect(),n=null}function u(i,m){i===void 0&&(i=!1),m===void 0&&(m=1),l();const b=e.getBoundingClientRect(),{left:_,top:w,width:M,height:P}=b;if(i||t(),!M||!P)return;const j=kC(w),G=kC(a.clientWidth-(_+M)),z=kC(a.clientHeight-(w+P)),q=kC(_),J={rootMargin:-j+"px "+-G+"px "+-z+"px "+-q+"px",threshold:Oh(0,Fb(1,m))||1};let ne=!0;function ie(ue){const oe=ue[0].intersectionRatio;if(oe!==m){if(!ne)return u();oe?u(!1,oe):r=setTimeout(()=>{u(!1,1e-7)},1e3)}oe===1&&!gq(b,e.getBoundingClientRect())&&u(),ne=!1}try{n=new IntersectionObserver(ie,{...J,root:a.ownerDocument})}catch{n=new IntersectionObserver(ie,J)}n.observe(e)}return u(!0),l}function Pfe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,b=SL(e),_=a||l?[...b?_S(b):[],..._S(t)]:[];_.forEach(q=>{a&&q.addEventListener("scroll",n,{passive:!0}),l&&q.addEventListener("resize",n)});const w=b&&i?Lfe(b,n):null;let M=-1,P=null;u&&(P=new ResizeObserver(q=>{let[Y]=q;Y&&Y.target===b&&P&&(P.unobserve(t),cancelAnimationFrame(M),M=requestAnimationFrame(()=>{var J;(J=P)==null||J.observe(t)})),n()}),b&&!m&&P.observe(b),P.observe(t));let j,G=m?_1(e):null;m&&z();function z(){const q=_1(e);G&&!gq(G,q)&&n(),G=q,j=requestAnimationFrame(z)}return n(),()=>{var q;_.forEach(Y=>{a&&Y.removeEventListener("scroll",n),l&&Y.removeEventListener("resize",n)}),w?.(),(q=P)==null||q.disconnect(),P=null,m&&cancelAnimationFrame(j)}}const Ffe=sfe,Bfe=lfe,$fe=afe,jfe=cfe,zfe=ife,b9=rfe,Ufe=ufe,Gfe=(e,t,n)=>{const r=new Map,a={platform:Dfe,...n},l={...a.platform,_c:r};return nfe(e,t,{...a,platform:l})};var Hfe=typeof document<"u",Vfe=function(){},CA=Hfe?$.useLayoutEffect:Vfe;function pk(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!pk(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const l=a[r];if(!(l==="_owner"&&e.$$typeof)&&!pk(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function yq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function _9(e,t){const n=yq(e);return Math.round(t*n)/n}function wR(e){const t=$.useRef(e);return CA(()=>{t.current=e}),t}function qfe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:l,floating:u}={},transform:i=!0,whileElementsMounted:m,open:b}=e,[_,w]=$.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[M,P]=$.useState(r);pk(M,r)||P(r);const[j,G]=$.useState(null),[z,q]=$.useState(null),Y=$.useCallback(_e=>{_e!==ue.current&&(ue.current=_e,G(_e))},[]),J=$.useCallback(_e=>{_e!==oe.current&&(oe.current=_e,q(_e))},[]),ne=l||j,ie=u||z,ue=$.useRef(null),oe=$.useRef(null),K=$.useRef(_),se=m!=null,pe=wR(m),ve=wR(a),Te=wR(b),Me=$.useCallback(()=>{if(!ue.current||!oe.current)return;const _e={placement:t,strategy:n,middleware:M};ve.current&&(_e.platform=ve.current),Gfe(ue.current,oe.current,_e).then(Be=>{const He={...Be,isPositioned:Te.current!==!1};xe.current&&!pk(K.current,He)&&(K.current=He,qm.flushSync(()=>{w(He)}))})},[M,t,n,ve,Te]);CA(()=>{b===!1&&K.current.isPositioned&&(K.current.isPositioned=!1,w(_e=>({..._e,isPositioned:!1})))},[b]);const xe=$.useRef(!1);CA(()=>(xe.current=!0,()=>{xe.current=!1}),[]),CA(()=>{if(ne&&(ue.current=ne),ie&&(oe.current=ie),ne&&ie){if(pe.current)return pe.current(ne,ie,Me);Me()}},[ne,ie,Me,pe,se]);const Se=$.useMemo(()=>({reference:ue,floating:oe,setReference:Y,setFloating:J}),[Y,J]),he=$.useMemo(()=>({reference:ne,floating:ie}),[ne,ie]),we=$.useMemo(()=>{const _e={position:n,left:0,top:0};if(!he.floating)return _e;const Be=_9(he.floating,_.x),He=_9(he.floating,_.y);return i?{..._e,transform:"translate("+Be+"px, "+He+"px)",...yq(he.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Be,top:He}},[n,i,he.floating,_.x,_.y]);return $.useMemo(()=>({..._,update:Me,refs:Se,elements:he,floatingStyles:we}),[_,Me,Se,he,we])}const Yfe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?b9({element:r.current,padding:a}).fn(n):{}:r?b9({element:r,padding:a}).fn(n):{}}}},Wfe=(e,t)=>({...Ffe(e),options:[e,t]}),Zfe=(e,t)=>({...Bfe(e),options:[e,t]}),Xfe=(e,t)=>({...Ufe(e),options:[e,t]}),Kfe=(e,t)=>({...$fe(e),options:[e,t]}),Qfe=(e,t)=>({...jfe(e),options:[e,t]}),Jfe=(e,t)=>({...zfe(e),options:[e,t]}),ehe=(e,t)=>({...Yfe(e),options:[e,t]});var the="Arrow",vq=$.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...l}=e;return S.jsx(xa.svg,{...l,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:S.jsx("polygon",{points:"0,0 30,0 15,10"})})});vq.displayName=the;var nhe=vq;function NI(e){const[t,n]=$.useState(void 0);return ev(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,i;if("borderBoxSize"in l){const m=l.borderBoxSize,b=Array.isArray(m)?m[0]:m;u=b.inlineSize,i=b.blockSize}else u=e.offsetWidth,i=e.offsetHeight;n({width:u,height:i})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var TL="Popper",[bq,fw]=vd(TL),[rhe,_q]=bq(TL),xq=e=>{const{__scopePopper:t,children:n}=e,[r,a]=$.useState(null);return S.jsx(rhe,{scope:t,anchor:r,onAnchorChange:a,children:n})};xq.displayName=TL;var Eq="PopperAnchor",wq=$.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,l=_q(Eq,n),u=$.useRef(null),i=ni(t,u),m=$.useRef(null);return $.useEffect(()=>{const b=m.current;m.current=r?.current||u.current,b!==m.current&&l.onAnchorChange(m.current)}),r?null:S.jsx(xa.div,{...a,ref:i})});wq.displayName=Eq;var CL="PopperContent",[ahe,ihe]=bq(CL),Sq=$.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:l="center",alignOffset:u=0,arrowPadding:i=0,avoidCollisions:m=!0,collisionBoundary:b=[],collisionPadding:_=0,sticky:w="partial",hideWhenDetached:M=!1,updatePositionStrategy:P="optimized",onPlaced:j,...G}=e,z=_q(CL,n),[q,Y]=$.useState(null),J=ni(t,Nt=>Y(Nt)),[ne,ie]=$.useState(null),ue=NI(ne),oe=ue?.width??0,K=ue?.height??0,se=r+(l!=="center"?"-"+l:""),pe=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},ve=Array.isArray(b)?b:[b],Te=ve.length>0,Me={padding:pe,boundary:ve.filter(she),altBoundary:Te},{refs:xe,floatingStyles:Se,placement:he,isPositioned:we,middlewareData:_e}=qfe({strategy:"fixed",placement:se,whileElementsMounted:(...Nt)=>Pfe(...Nt,{animationFrame:P==="always"}),elements:{reference:z.anchor},middleware:[Wfe({mainAxis:a+K,alignmentAxis:u}),m&&Zfe({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?Xfe():void 0,...Me}),m&&Kfe({...Me}),Qfe({...Me,apply:({elements:Nt,rects:We,availableWidth:en,availableHeight:zt})=>{const{width:rn,height:Ge}=We.reference,kn=Nt.floating.style;kn.setProperty("--radix-popper-available-width",`${en}px`),kn.setProperty("--radix-popper-available-height",`${zt}px`),kn.setProperty("--radix-popper-anchor-width",`${rn}px`),kn.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),ne&&ehe({element:ne,padding:i}),lhe({arrowWidth:oe,arrowHeight:K}),M&&Jfe({strategy:"referenceHidden",...Me})]}),[Be,He]=Aq(he),Re=Xu(j);ev(()=>{we&&Re?.()},[we,Re]);const je=_e.arrow?.x,Ze=_e.arrow?.y,Qe=_e.arrow?.centerOffset!==0,[Pe,St]=$.useState();return ev(()=>{q&&St(window.getComputedStyle(q).zIndex)},[q]),S.jsx("div",{ref:xe.setFloating,"data-radix-popper-content-wrapper":"",style:{...Se,transform:we?Se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Pe,"--radix-popper-transform-origin":[_e.transformOrigin?.x,_e.transformOrigin?.y].join(" "),..._e.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:S.jsx(ahe,{scope:n,placedSide:Be,onArrowChange:ie,arrowX:je,arrowY:Ze,shouldHideArrow:Qe,children:S.jsx(xa.div,{"data-side":Be,"data-align":He,...G,ref:J,style:{...G.style,animation:we?void 0:"none"}})})})});Sq.displayName=CL;var Tq="PopperArrow",ohe={top:"bottom",right:"left",bottom:"top",left:"right"},Cq=$.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,l=ihe(Tq,r),u=ohe[l.placedSide];return S.jsx("span",{ref:l.onArrowChange,style:{position:"absolute",left:l.arrowX,top:l.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[l.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[l.placedSide],visibility:l.shouldHideArrow?"hidden":void 0},children:S.jsx(nhe,{...a,ref:n,style:{...a.style,display:"block"}})})});Cq.displayName=Tq;function she(e){return e!==null}var lhe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:a}=t,u=a.arrow?.centerOffset!==0,i=u?0:e.arrowWidth,m=u?0:e.arrowHeight,[b,_]=Aq(n),w={start:"0%",center:"50%",end:"100%"}[_],M=(a.arrow?.x??0)+i/2,P=(a.arrow?.y??0)+m/2;let j="",G="";return b==="bottom"?(j=u?w:`${M}px`,G=`${-m}px`):b==="top"?(j=u?w:`${M}px`,G=`${r.floating.height+m}px`):b==="right"?(j=`${-m}px`,G=u?w:`${P}px`):b==="left"&&(j=`${r.floating.width+m}px`,G=u?w:`${P}px`),{data:{x:j,y:G}}}});function Aq(e){const[t,n="center"]=e.split("-");return[t,n]}var RI=xq,MI=wq,AL=Sq,kL=Cq,uhe="Portal",pT=$.forwardRef((e,t)=>{const{container:n,...r}=e,[a,l]=$.useState(!1);ev(()=>l(!0),[]);const u=n||a&&globalThis?.document?.body;return u?HH.createPortal(S.jsx(xa.div,{...r,ref:t}),u):null});pT.displayName=uhe;function che(e,t){return $.useReducer((n,r)=>t[n][r]??n,e)}var ec=e=>{const{present:t,children:n}=e,r=dhe(t),a=typeof n=="function"?n({present:r.isPresent}):$.Children.only(n),l=ni(r.ref,fhe(a));return typeof n=="function"||r.isPresent?$.cloneElement(a,{ref:l}):null};ec.displayName="Presence";function dhe(e){const[t,n]=$.useState(),r=$.useRef(null),a=$.useRef(e),l=$.useRef("none"),u=e?"mounted":"unmounted",[i,m]=che(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return $.useEffect(()=>{const b=IC(r.current);l.current=i==="mounted"?b:"none"},[i]),ev(()=>{const b=r.current,_=a.current;if(_!==e){const M=l.current,P=IC(b);e?m("MOUNT"):P==="none"||b?.display==="none"?m("UNMOUNT"):m(_&&M!==P?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,m]),ev(()=>{if(t){let b;const _=t.ownerDocument.defaultView??window,w=P=>{const G=IC(r.current).includes(CSS.escape(P.animationName));if(P.target===t&&G&&(m("ANIMATION_END"),!a.current)){const z=t.style.animationFillMode;t.style.animationFillMode="forwards",b=_.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=z)})}},M=P=>{P.target===t&&(l.current=IC(r.current))};return t.addEventListener("animationstart",M),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{_.clearTimeout(b),t.removeEventListener("animationstart",M),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:$.useCallback(b=>{r.current=b?getComputedStyle(b):null,n(b)},[])}}function IC(e){return e?.animationName||"none"}function fhe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var hhe=Symbol("radix.slottable");function phe(e){const t=({children:n})=>S.jsx(S.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=hhe,t}var mhe=gI[" useInsertionEffect ".trim().toString()]||ev;function Zf({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[a,l,u]=ghe({defaultProp:t,onChange:n}),i=e!==void 0,m=i?e:a;{const _=$.useRef(e!==void 0);$.useEffect(()=>{const w=_.current;w!==i&&console.warn(`${r} is changing from ${w?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),_.current=i},[i,r])}const b=$.useCallback(_=>{if(i){const w=yhe(_)?_(e):_;w!==e&&u.current?.(w)}else l(_)},[i,e,l,u]);return[m,b]}function ghe({defaultProp:e,onChange:t}){const[n,r]=$.useState(e),a=$.useRef(n),l=$.useRef(t);return mhe(()=>{l.current=t},[t]),$.useEffect(()=>{a.current!==n&&(l.current?.(n),a.current=n)},[n,a]),[n,r,l]}function yhe(e){return typeof e=="function"}var vhe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bhe="VisuallyHidden",kq=$.forwardRef((e,t)=>S.jsx(xa.span,{...e,ref:t,style:{...vhe,...e.style}}));kq.displayName=bhe;var _he=kq,[OI]=vd("Tooltip",[fw]),DI=fw(),Iq="TooltipProvider",xhe=700,d3="tooltip.open",[Ehe,IL]=OI(Iq),Nq=e=>{const{__scopeTooltip:t,delayDuration:n=xhe,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:l}=e,u=$.useRef(!0),i=$.useRef(!1),m=$.useRef(0);return $.useEffect(()=>{const b=m.current;return()=>window.clearTimeout(b)},[]),S.jsx(Ehe,{scope:t,isOpenDelayedRef:u,delayDuration:n,onOpen:$.useCallback(()=>{window.clearTimeout(m.current),u.current=!1},[]),onClose:$.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>u.current=!0,r)},[r]),isPointerInTransitRef:i,onPointerInTransitChange:$.useCallback(b=>{i.current=b},[]),disableHoverableContent:a,children:l})};Nq.displayName=Iq;var xS="Tooltip",[whe,mT]=OI(xS),Rq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:a,onOpenChange:l,disableHoverableContent:u,delayDuration:i}=e,m=IL(xS,e.__scopeTooltip),b=DI(t),[_,w]=$.useState(null),M=eg(),P=$.useRef(0),j=u??m.disableHoverableContent,G=i??m.delayDuration,z=$.useRef(!1),[q,Y]=Zf({prop:r,defaultProp:a??!1,onChange:oe=>{oe?(m.onOpen(),document.dispatchEvent(new CustomEvent(d3))):m.onClose(),l?.(oe)},caller:xS}),J=$.useMemo(()=>q?z.current?"delayed-open":"instant-open":"closed",[q]),ne=$.useCallback(()=>{window.clearTimeout(P.current),P.current=0,z.current=!1,Y(!0)},[Y]),ie=$.useCallback(()=>{window.clearTimeout(P.current),P.current=0,Y(!1)},[Y]),ue=$.useCallback(()=>{window.clearTimeout(P.current),P.current=window.setTimeout(()=>{z.current=!0,Y(!0),P.current=0},G)},[G,Y]);return $.useEffect(()=>()=>{P.current&&(window.clearTimeout(P.current),P.current=0)},[]),S.jsx(RI,{...b,children:S.jsx(whe,{scope:t,contentId:M,open:q,stateAttribute:J,trigger:_,onTriggerChange:w,onTriggerEnter:$.useCallback(()=>{m.isOpenDelayedRef.current?ue():ne()},[m.isOpenDelayedRef,ue,ne]),onTriggerLeave:$.useCallback(()=>{j?ie():(window.clearTimeout(P.current),P.current=0)},[ie,j]),onOpen:ne,onClose:ie,disableHoverableContent:j,children:n})})};Rq.displayName=xS;var f3="TooltipTrigger",Mq=$.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=mT(f3,n),l=IL(f3,n),u=DI(n),i=$.useRef(null),m=ni(t,i,a.onTriggerChange),b=$.useRef(!1),_=$.useRef(!1),w=$.useCallback(()=>b.current=!1,[]);return $.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),S.jsx(MI,{asChild:!0,...u,children:S.jsx(xa.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:m,onPointerMove:kr(e.onPointerMove,M=>{M.pointerType!=="touch"&&!_.current&&!l.isPointerInTransitRef.current&&(a.onTriggerEnter(),_.current=!0)}),onPointerLeave:kr(e.onPointerLeave,()=>{a.onTriggerLeave(),_.current=!1}),onPointerDown:kr(e.onPointerDown,()=>{a.open&&a.onClose(),b.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:kr(e.onFocus,()=>{b.current||a.onOpen()}),onBlur:kr(e.onBlur,a.onClose),onClick:kr(e.onClick,a.onClose)})})});Mq.displayName=f3;var NL="TooltipPortal",[She,The]=OI(NL,{forceMount:void 0}),Oq=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:a}=e,l=mT(NL,t);return S.jsx(She,{scope:t,forceMount:n,children:S.jsx(ec,{present:n||l.open,children:S.jsx(pT,{asChild:!0,container:a,children:r})})})};Oq.displayName=NL;var RE="TooltipContent",Dq=$.forwardRef((e,t)=>{const n=The(RE,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...l}=e,u=mT(RE,e.__scopeTooltip);return S.jsx(ec,{present:r||u.open,children:u.disableHoverableContent?S.jsx(Lq,{side:a,...l,ref:t}):S.jsx(Che,{side:a,...l,ref:t})})}),Che=$.forwardRef((e,t)=>{const n=mT(RE,e.__scopeTooltip),r=IL(RE,e.__scopeTooltip),a=$.useRef(null),l=ni(t,a),[u,i]=$.useState(null),{trigger:m,onClose:b}=n,_=a.current,{onPointerInTransitChange:w}=r,M=$.useCallback(()=>{i(null),w(!1)},[w]),P=$.useCallback((j,G)=>{const z=j.currentTarget,q={x:j.clientX,y:j.clientY},Y=Nhe(q,z.getBoundingClientRect()),J=Rhe(q,Y),ne=Mhe(G.getBoundingClientRect()),ie=Dhe([...J,...ne]);i(ie),w(!0)},[w]);return $.useEffect(()=>()=>M(),[M]),$.useEffect(()=>{if(m&&_){const j=z=>P(z,_),G=z=>P(z,m);return m.addEventListener("pointerleave",j),_.addEventListener("pointerleave",G),()=>{m.removeEventListener("pointerleave",j),_.removeEventListener("pointerleave",G)}}},[m,_,P,M]),$.useEffect(()=>{if(u){const j=G=>{const z=G.target,q={x:G.clientX,y:G.clientY},Y=m?.contains(z)||_?.contains(z),J=!Ohe(q,u);Y?M():J&&(M(),b())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[m,_,u,b,M]),S.jsx(Lq,{...e,ref:l})}),[Ahe,khe]=OI(xS,{isInside:!1}),Ihe=phe("TooltipContent"),Lq=$.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:l,onPointerDownOutside:u,...i}=e,m=mT(RE,n),b=DI(n),{onClose:_}=m;return $.useEffect(()=>(document.addEventListener(d3,_),()=>document.removeEventListener(d3,_)),[_]),$.useEffect(()=>{if(m.trigger){const w=M=>{M.target?.contains(m.trigger)&&_()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[m.trigger,_]),S.jsx(fT,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:w=>w.preventDefault(),onDismiss:_,children:S.jsxs(AL,{"data-state":m.stateAttribute,...b,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[S.jsx(Ihe,{children:r}),S.jsx(Ahe,{scope:n,isInside:!0,children:S.jsx(_he,{id:m.contentId,role:"tooltip",children:a||r})})]})})});Dq.displayName=RE;var Pq="TooltipArrow",Fq=$.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=DI(n);return khe(Pq,n).isInside?null:S.jsx(kL,{...a,...r,ref:t})});Fq.displayName=Pq;function Nhe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),l=Math.abs(t.left-e.x);switch(Math.min(n,r,a,l)){case l:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Rhe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Mhe(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function Ohe(e,t){const{x:n,y:r}=e;let a=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const i=t[l],m=t[u],b=i.x,_=i.y,w=m.x,M=m.y;_>r!=M>r&&n<(w-b)*(r-_)/(M-_)+b&&(a=!a)}return a}function Dhe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Lhe(t)}function Lhe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const l=t[t.length-1],u=t[t.length-2];if((l.x-u.x)*(a.y-u.y)>=(l.y-u.y)*(a.x-u.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const l=n[n.length-1],u=n[n.length-2];if((l.x-u.x)*(a.y-u.y)>=(l.y-u.y)*(a.x-u.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Phe=Nq,Fhe=Rq,Bhe=Mq,$he=Oq,jhe=Dq,zhe=Fq;function Uhe({delayDuration:e=0,...t}){return S.jsx(Phe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function Bq({...e}){return S.jsx(Uhe,{children:S.jsx(Fhe,{"data-slot":"tooltip",...e})})}function $q({...e}){return S.jsx(Bhe,{"data-slot":"tooltip-trigger",...e})}function jq({className:e,sideOffset:t=0,children:n,...r}){return S.jsx($he,{children:S.jsxs(jhe,{"data-slot":"tooltip-content",sideOffset:t,className:Dn("bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",e),...r,children:[n,S.jsx(zhe,{className:"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}function $m({required:e=!1,noMargin:t=!1,className:n,...r}){return S.jsx("div",{className:"flex items-center",children:S.jsxs(Tde,{"data-slot":"label",className:Dn("flex items-center gap-2 text-xs opacity-70  leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t?"":"mb-1 mx-1",n),...r,children:[r.children,e&&S.jsxs(Bq,{children:[S.jsx($q,{asChild:!0,children:S.jsx("span",{className:"text-red-500",children:"*"})}),S.jsx(jq,{children:tt.key("required_field")})]})]})})}const ma=e=>{if(e.hideLabel)return null;let t=e.structure.title??"";return tt.getCurrentLang()=="en"&&e.descriptions?.titleEN&&(t=e.descriptions.titleEN),S.jsx($m,{className:"overflow-hidden truncate",required:e.structure.required,children:t})},RL=e=>S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx("div",{className:"text-red-500 text-xs p-2 bg-red-200 rounded-md px-4",children:tt.key("error_please_go_to_support")})]});function Ghe(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,l=[],u;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(i){u={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return l}function x9(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ghe(arguments[t]));return e}function E9(e,t,n){var r=e[t],a=e.length,l=t-n;if(l>0)return x9(e.slice(0,n),[r],e.slice(n,t),e.slice(t+1,a));if(l<0){var u=n+1;return x9(e.slice(0,t),e.slice(t+1,u),[r],e.slice(u,a))}return e}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(null,arguments)}function zq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uq={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},w9=Ve.createContext&&Ve.createContext(Uq),Hhe=["attr","size","title"];function Vhe(e,t){if(e==null)return{};var n=qhe(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qhe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function mk(){return mk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mk.apply(this,arguments)}function S9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S9(Object(n),!0).forEach(function(r){Yhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yhe(e,t,n){return t=Whe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Whe(e){var t=Zhe(e,"string");return typeof t=="symbol"?t:t+""}function Zhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gq(e){return e&&e.map((t,n)=>Ve.createElement(t.tag,gk({key:n},t.attr),Gq(t.child)))}function tc(e){return t=>Ve.createElement(Xhe,mk({attr:gk({},e.attr)},t),Gq(e.child))}function Xhe(e){var t=n=>{var{attr:r,size:a,title:l}=e,u=Vhe(e,Hhe),i=a||n.size||"1em",m;return n.className&&(m=n.className),e.className&&(m=(m?m+" ":"")+e.className),Ve.createElement("svg",mk({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:m,style:gk(gk({color:e.color||n.color},n.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),l&&Ve.createElement("title",null,l),e.children)};return w9!==void 0?Ve.createElement(w9.Consumer,null,n=>t(n)):t(Uq)}function Khe(e){return tc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"15",x2:"15",y1:"12",y2:"18"},child:[]},{tag:"line",attr:{x1:"12",x2:"18",y1:"15",y2:"15"},child:[]},{tag:"rect",attr:{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"},child:[]}]})(e)}function T9(e){return tc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"},child:[]}]})(e)}function C9(e){return tc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"2",x2:"22",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83"},child:[]},{tag:"line",attr:{x1:"13.5",x2:"6",y1:"13.5",y2:"21"},child:[]},{tag:"line",attr:{x1:"18",x2:"21",y1:"12",y2:"15"},child:[]},{tag:"path",attr:{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59"},child:[]},{tag:"path",attr:{d:"M21 15V5a2 2 0 0 0-2-2H9"},child:[]}]})(e)}function A9(e){return tc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function Qhe(e){return tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function k9(e){return tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19 9h-4V3H9v6H5l7 7 7-7zm-8 2V5h2v6h1.17L12 13.17 9.83 11H11zm-6 7h14v2H5z"},child:[]}]})(e)}const Jhe={createDocument:function(t){return new DOMParser().parseFromString(t.trim(),"text/xml")}};var Dh=Uint8Array,oE=Uint16Array,epe=Int32Array,Hq=new Dh([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Vq=new Dh([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tpe=new Dh([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qq=function(e,t){for(var n=new oE(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var a=new epe(n[30]),r=1;r<30;++r)for(var l=n[r];l<n[r+1];++l)a[l]=l-n[r]<<5|r;return{b:n,r:a}},Yq=qq(Hq,2),Wq=Yq.b,npe=Yq.r;Wq[28]=258,npe[258]=28;var rpe=qq(Vq,0),ape=rpe.b,h3=new oE(32768);for(var cs=0;cs<32768;++cs){var ub=(cs&43690)>>1|(cs&21845)<<1;ub=(ub&52428)>>2|(ub&13107)<<2,ub=(ub&61680)>>4|(ub&3855)<<4,h3[cs]=((ub&65280)>>8|(ub&255)<<8)>>1}var H2=(function(e,t,n){for(var r=e.length,a=0,l=new oE(t);a<r;++a)e[a]&&++l[e[a]-1];var u=new oE(t);for(a=1;a<t;++a)u[a]=u[a-1]+l[a-1]<<1;var i;if(n){i=new oE(1<<t);var m=15-t;for(a=0;a<r;++a)if(e[a])for(var b=a<<4|e[a],_=t-e[a],w=u[e[a]-1]++<<_,M=w|(1<<_)-1;w<=M;++w)i[h3[w]>>m]=b}else for(i=new oE(r),a=0;a<r;++a)e[a]&&(i[a]=h3[u[e[a]-1]++]>>15-e[a]);return i}),gT=new Dh(288);for(var cs=0;cs<144;++cs)gT[cs]=8;for(var cs=144;cs<256;++cs)gT[cs]=9;for(var cs=256;cs<280;++cs)gT[cs]=7;for(var cs=280;cs<288;++cs)gT[cs]=8;var Zq=new Dh(32);for(var cs=0;cs<32;++cs)Zq[cs]=5;var ipe=H2(gT,9,1),ope=H2(Zq,5,1),SR=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Dm=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},TR=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},spe=function(e){return(e+7)/8|0},ML=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Dh(e.subarray(t,n))},lpe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fp=function(e,t,n){var r=new Error(t||lpe[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Fp),!n)throw r;return r},upe=function(e,t,n,r){var a=e.length,l=r?r.length:0;if(!a||t.f&&!t.l)return n||new Dh(0);var u=!n,i=u||t.i!=2,m=t.i;u&&(n=new Dh(a*3));var b=function(rn){var Ge=n.length;if(rn>Ge){var kn=new Dh(Math.max(Ge*2,rn));kn.set(n),n=kn}},_=t.f||0,w=t.p||0,M=t.b||0,P=t.l,j=t.d,G=t.m,z=t.n,q=a*8;do{if(!P){_=Dm(e,w,1);var Y=Dm(e,w+1,3);if(w+=3,Y)if(Y==1)P=ipe,j=ope,G=9,z=5;else if(Y==2){var ue=Dm(e,w,31)+257,oe=Dm(e,w+10,15)+4,K=ue+Dm(e,w+5,31)+1;w+=14;for(var se=new Dh(K),pe=new Dh(19),ve=0;ve<oe;++ve)pe[tpe[ve]]=Dm(e,w+ve*3,7);w+=oe*3;for(var Te=SR(pe),Me=(1<<Te)-1,xe=H2(pe,Te,1),ve=0;ve<K;){var Se=xe[Dm(e,w,Me)];w+=Se&15;var J=Se>>4;if(J<16)se[ve++]=J;else{var he=0,we=0;for(J==16?(we=3+Dm(e,w,3),w+=2,he=se[ve-1]):J==17?(we=3+Dm(e,w,7),w+=3):J==18&&(we=11+Dm(e,w,127),w+=7);we--;)se[ve++]=he}}var _e=se.subarray(0,ue),Be=se.subarray(ue);G=SR(_e),z=SR(Be),P=H2(_e,G,1),j=H2(Be,z,1)}else Fp(1);else{var J=spe(w)+4,ne=e[J-4]|e[J-3]<<8,ie=J+ne;if(ie>a){m&&Fp(0);break}i&&b(M+ne),n.set(e.subarray(J,ie),M),t.b=M+=ne,t.p=w=ie*8,t.f=_;continue}if(w>q){m&&Fp(0);break}}i&&b(M+131072);for(var He=(1<<G)-1,Re=(1<<z)-1,je=w;;je=w){var he=P[TR(e,w)&He],Ze=he>>4;if(w+=he&15,w>q){m&&Fp(0);break}if(he||Fp(2),Ze<256)n[M++]=Ze;else if(Ze==256){je=w,P=null;break}else{var Qe=Ze-254;if(Ze>264){var ve=Ze-257,Pe=Hq[ve];Qe=Dm(e,w,(1<<Pe)-1)+Wq[ve],w+=Pe}var St=j[TR(e,w)&Re],Nt=St>>4;St||Fp(3),w+=St&15;var Be=ape[Nt];if(Nt>3){var Pe=Vq[Nt];Be+=TR(e,w)&(1<<Pe)-1,w+=Pe}if(w>q){m&&Fp(0);break}i&&b(M+131072);var We=M+Qe;if(M<Be){var en=l-Be,zt=Math.min(Be,We);for(en+M<0&&Fp(3);M<zt;++M)n[M]=r[en+M]}for(;M<We;++M)n[M]=n[M-Be]}}t.l=P,t.p=je,t.b=M,t.f=_,P&&(_=1,t.m=G,t.d=j,t.n=z)}while(!_);return M!=n.length&&u?ML(n,0,M):n.subarray(0,M)},cpe=new Dh(0),gy=function(e,t){return e[t]|e[t+1]<<8},jm=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},CR=function(e,t){return jm(e,t)+jm(e,t+4)*4294967296};function dpe(e,t){return upe(e,{i:2},t&&t.out,t&&t.dictionary)}var p3=typeof TextDecoder<"u"&&new TextDecoder,fpe=0;try{p3.decode(cpe,{stream:!0}),fpe=1}catch{}var hpe=function(e){for(var t="",n=0;;){var r=e[n++],a=(r>127)+(r>223)+(r>239);if(n+a>e.length)return{s:t,r:ML(e,n-1)};a?a==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):a&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}};function Xq(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(p3)return p3.decode(e);var a=hpe(e),l=a.s,n=a.r;return n.length&&Fp(8),l}}var ppe=function(e,t){return t+30+gy(e,t+26)+gy(e,t+28)},mpe=function(e,t,n){var r=gy(e,t+28),a=Xq(e.subarray(t+46,t+46+r),!(gy(e,t+8)&2048)),l=t+46+r,u=jm(e,t+20),i=n&&u==4294967295?gpe(e,l):[u,jm(e,t+24),jm(e,t+42)],m=i[0],b=i[1],_=i[2];return[gy(e,t+10),m,b,a,l+gy(e,t+30)+gy(e,t+32),_]},gpe=function(e,t){for(;gy(e,t)!=1;t+=4+gy(e,t+2));return[CR(e,t+12),CR(e,t+4),CR(e,t+20)]};function ype(e,t){for(var n={},r=e.length-22;jm(e,r)!=101010256;--r)(!r||e.length-r>65558)&&Fp(13);var a=gy(e,r+8);if(!a)return{};var l=jm(e,r+16),u=l==4294967295||a==65535;if(u){var i=jm(e,r-12);u=jm(e,i)==101075792,u&&(a=jm(e,i+32),l=jm(e,i+48))}for(var m=0;m<a;++m){var b=mpe(e,l,u),_=b[0],w=b[1],M=b[2],P=b[3],j=b[4],G=b[5],z=ppe(e,G);l=j,_?_==8?n[P]=dpe(e.subarray(z,z+w),{out:new Dh(M)}):Fp(14,"unknown compression type "+_):n[P]=ML(e,z,z+w)}return n}function vpe(e){return e instanceof File||e instanceof Blob?e.arrayBuffer().then(AR):AR(e)}function AR(e){var t=new Uint8Array(e),n=ype(t);return Promise.resolve(bpe(n))}function bpe(e){for(var t=[],n=0,r=Object.keys(e);n<r.length;n++){var a=r[n];t[a]=Xq(e[a])}return t}function My(e,t){for(var n=0;n<e.childNodes.length;){var r=e.childNodes[n];if(r.nodeType===1&&x1(r)===t)return r;n++}}function yT(e,t){for(var n=[],r=0;r<e.childNodes.length;){var a=e.childNodes[r];a.nodeType===1&&x1(a)===t&&n.push(a),r++}return n}function yk(e,t,n){for(var r=0;r<e.childNodes.length;){var a=e.childNodes[r];t?a.nodeType===1&&x1(a)===t&&n(a,r):n(a,r),r++}}function _pe(e,t,n){var r=[];return yk(e,t,function(a,l){r.push(n(a,l))}),r}var xpe=/.+\:/;function x1(e){return e.tagName.replace(xpe,"")}function Kq(e){if(e.nodeType!==1)return e.textContent;for(var t="<"+x1(e),n=0;n<e.attributes.length;)t+=" "+e.attributes[n].name+'="'+e.attributes[n].value+'"',n++;t+=">";for(var r=0;r<e.childNodes.length;)t+=Kq(e.childNodes[r]),r++;return t+="</"+x1(e)+">",t}function Epe(e){var t=e.documentElement,n=My(t,"sheetData"),r=[];return yk(n,"row",function(a){yk(a,"c",function(l){r.push(l)})}),r}function wpe(e,t){return My(t,"v")}function Spe(e,t){if(t.firstChild&&x1(t.firstChild)==="is"&&t.firstChild.firstChild&&x1(t.firstChild.firstChild)==="t")return t.firstChild.firstChild.textContent}function Tpe(e){var t=e.documentElement,n=My(t,"dimension");if(n)return n.getAttribute("ref")}function Cpe(e){var t=e.documentElement,n=My(t,"cellStyleXfs");return n?yT(n,"xf"):[]}function Ape(e){var t=e.documentElement,n=My(t,"cellXfs");return n?yT(n,"xf"):[]}function kpe(e){var t=e.documentElement,n=My(t,"numFmts");return n?yT(n,"numFmt"):[]}function Ipe(e){var t=e.documentElement;return _pe(t,"si",function(n){var r=My(n,"t");if(r)return r.textContent;var a="";return yk(n,"r",function(l){a+=My(l,"t").textContent}),a})}function Npe(e){var t=e.documentElement;return My(t,"workbookPr")}function Rpe(e){var t=e.documentElement;return yT(t,"Relationship")}function Mpe(e){var t=e.documentElement,n=My(t,"sheets");return yT(n,"sheet")}function Ope(e,t){var n=t.createDocument(e),r={},a=Npe(n);a&&a.getAttribute("date1904")==="1"&&(r.epoch1904=!0),r.sheets=[];var l=function(i){i.getAttribute("name")&&r.sheets.push({id:i.getAttribute("sheetId"),name:i.getAttribute("name"),relationId:i.getAttribute("r:id")})};return Mpe(n).forEach(l),r}function Dpe(e,t){var n=t.createDocument(e),r={sheets:{},sharedStrings:void 0,styles:void 0},a=function(u){var i=u.getAttribute("Target"),m=u.getAttribute("Type");switch(m){case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles":r.styles=kR(i);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings":r.sharedStrings=kR(i);break;case"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet":r.sheets[u.getAttribute("Id")]=kR(i);break}};return Rpe(n).forEach(a),r}function kR(e){return e[0]==="/"?e.slice(1):"xl/"+e}function ES(e){"@babel/helpers - typeof";return ES=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ES(e)}function I9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function N9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I9(Object(n),!0).forEach(function(r){Lpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lpe(e,t,n){return t=Ppe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ppe(e){var t=Fpe(e,"string");return ES(t)==="symbol"?t:String(t)}function Fpe(e,t){if(ES(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ES(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bpe(e,t){if(!e)return{};var n=t.createDocument(e),r=Cpe(n).map(IR),a=kpe(n).map($pe).reduce(function(u,i){return u[i.id]=i,u},[]),l=function(i){return i.hasAttribute("xfId")?N9(N9({},r[i.xfId]),IR(i,a)):IR(i,a)};return Ape(n).map(l)}function $pe(e){return{id:e.getAttribute("numFmtId"),template:e.getAttribute("formatCode")}}function IR(e,t){var n={};if(e.hasAttribute("numFmtId")){var r=e.getAttribute("numFmtId");t[r]?n.numberFormat=t[r]:n.numberFormat={id:r}}return n}function jpe(e,t){return e?Ipe(t.createDocument(e)):[]}function Qq(e,t){t&&t.epoch1904&&(e+=1462);var n=70*365+19,r=3600*1e3;return new Date(Math.round((e-n)*24*r))}function zpe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Upe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Upe(e,t){if(e){if(typeof e=="string")return R9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R9(e,t)}}function R9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gpe(e,t,n){if(e){var r=t[e];if(!r)throw new Error("Cell style not found: ".concat(e));if(!r.numberFormat)return!1;if(Hpe.indexOf(Number(r.numberFormat.id))>=0||n.dateFormat&&r.numberFormat.template===n.dateFormat||n.smartDateParser!==!1&&r.numberFormat.template&&Ype(r.numberFormat.template))return!0}}var Hpe=[14,15,16,17,18,19,20,21,22,27,30,36,45,46,47,50,57],Vpe=/^\[\$-414\]/,qpe=/;@$/;function Ype(e){e=e.toLowerCase(),e=e.replace(Vpe,""),e=e.replace(qpe,"");for(var t=e.split(/\W+/),n=zpe(t),r;!(r=n()).done;){var a=r.value;if(Wpe.indexOf(a)<0)return!1}return!0}var Wpe=["ss","mm","h","hh","am","pm","d","dd","m","mm","mmm","mmmm","yy","yyyy","e"];function Zpe(e,t,n){var r=n.getInlineStringValue,a=n.getInlineStringXml,l=n.getStyleId,u=n.styles,i=n.values,m=n.properties,b=n.options;switch(t||(t="n"),t){case"str":e=NR(e,b);break;case"inlineStr":if(e=r(),e===void 0)throw new Error('Unsupported "inline string" cell value structure: '.concat(a()));e=NR(e,b);break;case"s":var _=Number(e);if(isNaN(_))throw new Error('Invalid "shared" string index: '.concat(e));if(_>=i.length)throw new Error('An out-of-bounds "shared" string index: '.concat(e));e=i[_],e=NR(e,b);break;case"b":if(e==="1")e=!0;else if(e==="0")e=!1;else throw new Error('Unsupported "boolean" cell value: '.concat(e));break;case"z":e=void 0;break;case"e":e=Xpe(e);break;case"d":if(e===void 0)break;var w=new Date(e);if(isNaN(w.valueOf()))throw new Error('Unsupported "date" cell value: '.concat(e));e=w;break;case"n":if(e===void 0)break;var M=Gpe(l(),u,b);M?(e=M9(e),e=Qq(e,m)):e=(b.parseNumber||M9)(e);break;default:throw new TypeError("Cell type not supported: ".concat(t))}return e===void 0&&(e=null),e}function Xpe(e){switch(e){case 0:return"#NULL!";case 7:return"#DIV/0!";case 15:return"#VALUE!";case 23:return"#REF!";case 29:return"#NAME?";case 36:return"#NUM!";case 42:return"#N/A";case 43:return"#GETTING_DATA";default:return"#ERROR_".concat(e)}}function NR(e,t){return t.trim!==!1&&(e=e.trim()),e===""&&(e=void 0),e}function M9(e){var t=Number(e);if(isNaN(t))throw new Error('Invalid "numeric" cell value: '.concat(e));return t}var Kpe=["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function Qpe(e){var t=function(b,_){return b-_},n=e.map(function(m){return m.row}).sort(t),r=e.map(function(m){return m.column}).sort(t),a=n[0],l=n[n.length-1],u=r[0],i=r[r.length-1];return[{row:a,column:u},{row:l,column:i}]}function Jpe(e){for(var t=0,n=0;n<e.length;)t*=26,t+=Kpe.indexOf(e[n]),n++;return t}function Jq(e){return e=e.split(/(\d+)/),[parseInt(e[1]),Jpe(e[0].trim())]}function eme(e,t,n,r,a,l,u){var i=Jq(e.getAttribute("r")),m=wpe(t,e),b=m&&m.textContent,_;return e.hasAttribute("t")&&(_=e.getAttribute("t")),{row:i[0],column:i[1],value:Zpe(b,_,{getInlineStringValue:function(){return Spe(t,e)},getInlineStringXml:function(){return Kq(e)},getStyleId:function(){return e.getAttribute("s")},styles:a,values:r,properties:l,options:u})}}function tme(e,t,n,r,a,l){var u=Epe(e);return u.length===0?[]:u.map(function(i){return eme(i,e,t,n,r,a,l)})}function nme(e,t){return ome(e)||ime(e,t)||ame(e,t)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ame(e,t){if(e){if(typeof e=="string")return O9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O9(e,t)}}function O9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ime(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,i=[],m=!0,b=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(m=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);m=!0);}catch(_){b=!0,a=_}finally{try{if(!m&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(b)throw a}}return i}}function ome(e){if(Array.isArray(e))return e}function sme(e){var t=Tpe(e);if(t)return t=t.split(":").map(Jq).map(function(n){var r=nme(n,2),a=r[0],l=r[1];return{row:a,column:l}}),t.length===1&&(t=[t[0],t[0]]),t}function lme(e,t,n,r,a,l){var u=t.createDocument(e),i=tme(u,t,n,r,a,l),m=sme(u)||Qpe(i);return{cells:i,dimensions:m}}function ume(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=cme(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cme(e,t){if(e){if(typeof e=="string")return D9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D9(e,t)}}function D9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dme(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.rowIndexSourceMap,r=t.accessor,a=r===void 0?function(w){return w}:r,l=t.onlyTrimAtTheEnd,u=e.length-1;u>=0;){for(var i=!0,m=ume(e[u]),b;!(b=m()).done;){var _=b.value;if(a(_)!==null){i=!1;break}}if(i)e.splice(u,1),n&&n.splice(u,1);else if(l)break;u--}return e}function fme(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=hme(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return L9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L9(e,t)}}function L9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pme(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.accessor,r=n===void 0?function(w){return w}:n,a=t.onlyTrimAtTheEnd,l=e[0].length-1;l>=0;){for(var u=!0,i=fme(e),m;!(m=i()).done;){var b=m.value;if(r(b[l])!==null){u=!1;break}}if(u)for(var _=0;_<e.length;)e[_].splice(l,1),_++;else if(a)break;l--}return e}function mme(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=eY(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gme(e,t){return bme(e)||vme(e,t)||eY(e,t)||yme()}function yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(e,t){if(e){if(typeof e=="string")return P9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P9(e,t)}}function P9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,i=[],m=!0,b=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(m=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);m=!0);}catch(_){b=!0,a=_}finally{try{if(!m&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(b)throw a}}return i}}function bme(e){if(Array.isArray(e))return e}function _me(e,t){var n=e.dimensions,r=e.cells;if(r.length===0)return[];var a=gme(n,2);a[0];for(var l=a[1],u=l.column,i=l.row,m=new Array(i),b=0;b<i;){m[b]=new Array(u);for(var _=0;_<u;)m[b][_]=null,_++;b++}for(var w=mme(r),M;!(M=w()).done;){var P=M.value,j=P.row-1,G=P.column-1;G<u&&j<i&&(m[j][G]=P.value)}var z=t.rowIndexSourceMap;if(z)for(var q=0;q<m.length;)z[q]=q,q++;return m=dme(pme(m,{onlyTrimAtTheEnd:!0}),{onlyTrimAtTheEnd:!0,rowIndexSourceMap:z}),t.transformData&&(m=t.transformData(m)),m}function wS(e){"@babel/helpers - typeof";return wS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wS(e)}function xme(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Eme(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eme(e,t){if(e){if(typeof e=="string")return F9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F9(e,t)}}function F9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B9(Object(n),!0).forEach(function(r){wme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wme(e,t,n){return t=Sme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sme(e){var t=Tme(e,"string");return wS(t)==="symbol"?t:String(t)}function Tme(e,t){if(wS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cme(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n.sheet||(n=$9({sheet:1},n));var r=function(M){if(!e[M])throw new Error('"'.concat(M,'" file not found inside the *.xlsx file zip archive'));return e[M]},a=Dpe(r("xl/_rels/workbook.xml.rels"),t),l=a.sharedStrings?jpe(r(a.sharedStrings),t):[],u=a.styles?Bpe(r(a.styles),t):{},i=Ope(r("xl/workbook.xml"),t);if(n.getSheets)return i.sheets.map(function(w){var M=w.name;return{name:M}});var m=Ame(n.sheet,i.sheets);if(!m||!a.sheets[m])throw kme(n.sheet,i.sheets);var b=lme(r(a.sheets[m]),t,l,u,i,n);n=$9({rowIndexSourceMap:[]},n);var _=_me(b,n);return n.properties?{data:_,properties:i}:_}function Ame(e,t){if(typeof e=="number"){var n=t[e-1];return n&&n.relationId}for(var r=xme(t),a;!(a=r()).done;){var l=a.value;if(l.name===e)return l.relationId}}function kme(e,t){var n=t&&t.map(function(r,a){return'"'.concat(r.name,'" (#').concat(a+1,")")}).join(", ");return new Error("Sheet ".concat(typeof e=="number"?"#"+e:'"'+e+'"'," not found in the *.xlsx file.").concat(t?" Available sheets: "+n+".":""))}function m3(e){"@babel/helpers - typeof";return m3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m3(e)}function Ime(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Nme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SS(e,t)}function Mme(e){var t=tY();return function(){var r=TS(e),a;if(t){var l=TS(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return Ome(this,a)}}function Ome(e,t){if(t&&(m3(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(e)}function Dme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g3(e){var t=typeof Map=="function"?new Map:void 0;return g3=function(r){if(r===null||!Lme(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return AA(r,arguments,TS(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),SS(a,r)},g3(e)}function AA(e,t,n){return tY()?AA=Reflect.construct.bind():AA=function(a,l,u){var i=[null];i.push.apply(i,l);var m=Function.bind.apply(a,i),b=new m;return u&&SS(b,u.prototype),b},AA.apply(null,arguments)}function tY(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lme(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function SS(e,t){return SS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},SS(e,t)}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TS(e)}var Lh=(function(e){Rme(n,e);var t=Mme(n);function n(r){var a;return Nme(this,n),a=t.call(this,"invalid"),a.reason=r,a}return Ime(n)})(g3(Error));function Pme(e){if(typeof e=="string"){var t=e;if(e=Number(e),String(e)!==t)throw new Lh("not_a_number")}if(typeof e!="number")throw new Lh("not_a_number");if(isNaN(e))throw new Lh("invalid_number");if(!isFinite(e))throw new Lh("out_of_bounds");return e}function Fme(e){if(typeof e=="string")return e;if(typeof e=="number"){if(isNaN(e))throw new Lh("invalid_number");if(!isFinite(e))throw new Lh("out_of_bounds");return String(e)}throw new Lh("not_a_string")}function Bme(e){if(typeof e=="boolean")return e;throw new Lh("not_a_boolean")}function $me(e,t){var n=t.properties;if(e instanceof Date){if(isNaN(e.valueOf()))throw new Lh("out_of_bounds");return e}if(typeof e=="number"){if(isNaN(e))throw new Lh("invalid_number");if(!isFinite(e))throw new Lh("out_of_bounds");var r=Qq(e,n);if(isNaN(r.valueOf()))throw new Lh("out_of_bounds");return r}throw new Lh("not_a_date")}var jme=["isColumnOriented","ignoreEmptyRows","rowIndexSourceMap"];function ME(e){"@babel/helpers - typeof";return ME=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ME(e)}function zme(e,t){return Hme(e)||Gme(e,t)||nY(e,t)||Ume()}function Ume(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,i=[],m=!0,b=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(m=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);m=!0);}catch(_){b=!0,a=_}finally{try{if(!m&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(b)throw a}}return i}}function Hme(e){if(Array.isArray(e))return e}function Vme(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=nY(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nY(e,t){if(e){if(typeof e=="string")return j9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j9(e,t)}}function j9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qme(e,t){if(e==null)return{};var n=Yme(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yme(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function z9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function U9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z9(Object(n),!0).forEach(function(r){Wme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wme(e,t,n){return t=Zme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zme(e){var t=Xme(e,"string");return ME(t)==="symbol"?t:String(t)}function Xme(e,t){if(ME(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ME(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G9={schemaPropertyValueForMissingColumn:void 0,schemaPropertyValueForMissingValue:null,schemaPropertyShouldSkipRequiredValidationForMissingColumn:function(){return!1},getEmptyObjectValue:function(){return null},getEmptyArrayValue:function(){return null},isColumnOriented:!1,ignoreEmptyRows:!0,arrayValueSeparator:","};function Kme(e,t,n){n?n=U9(U9({},G9),n):n=G9;var r=n,a=r.isColumnOriented,l=r.ignoreEmptyRows,u=r.rowIndexSourceMap,i=qme(r,jme),m=u&&u.slice();tge(t),a&&(e=ege(e)),l&&(e=e.filter(function(q,Y){var J=q.every(function(ne){return ne===null});return J?(m&&m.splice(Y,1),!1):!0}));for(var b=e[0],_=[],w=[],M=1;M<e.length;M++){var P=rY(t,e[M],M,void 0,b,w,i);_.push(P)}if(m)for(var j=Vme(w),G;!(G=j()).done;){var z=G.value;z.row=m[z.row-1]+1}return{rows:_,errors:w}}function rY(e,t,n,r,a,l,u){for(var i={},m=!0,b=function(K){var se=K.schemaEntry,pe=K.value,ve=K.error,Te=K.reason,Me={error:ve,row:n+1,column:se.column,value:pe};return Te&&(Me.reason=Te),se.type&&(Me.type=se.type),Me},_=[],w=function(){var K=P[M],se=e[K],pe=K,ve=se.column,Te="".concat(r||"",".").concat(pe),Me,xe=a.indexOf(ve),Se=xe<0;Se||(Me=t[xe]);var he,we,_e;if(se.schema)he=rY(se.schema,t,n,Te,a,l,u);else if(Se)"schemaPropertyValueForMissingColumn"in u&&(he=u.schemaPropertyValueForMissingColumn);else if(Me===void 0)"schemaPropertyValueForMissingValue"in u&&(he=u.schemaPropertyValueForMissingValue);else if(Me===null)"schemaPropertyValueForMissingValue"in u&&(he=u.schemaPropertyValueForMissingValue);else if(Array.isArray(se.type)){var Be=Jme(Me,u.arrayValueSeparator).map(function(je){if(!we){var Ze=H9(je,se,u);return Ze.error&&(he=je,we=Ze.error,_e=Ze.reason),Ze.value}});if(!we){var He=Be.every(RR);he=He?u.getEmptyArrayValue(Be,{path:Te}):Be}}else{var Re=H9(Me,se,u);we=Re.error,_e=Re.reason,he=we?Me:Re.value}!we&&RR(he)&&se.required&&_.push({schemaEntry:se,value:he,isMissingColumn:Se}),we?l.push(b({schemaEntry:se,value:he,error:we,reason:_e})):(m&&!RR(he)&&(m=!1),he!==void 0&&(i[pe]=he))},M=0,P=Object.keys(e);M<P.length;M++)w();if(m)return u.getEmptyObjectValue(i,{path:r});for(var j=0,G=_;j<G.length;j++){var z=G[j],q=z.schemaEntry,Y=z.value,J=z.isMissingColumn,ne=J&&u.schemaPropertyShouldSkipRequiredValidationForMissingColumn(q.column,{object:i});if(!ne){var ie=q.required,ue=typeof ie=="boolean"?ie:ie(i);ue&&l.push(b({schemaEntry:q,value:Y,error:"required"}))}}return i}function H9(e,t,n){if(e===null)return{value:null};var r;if(t.parse)throw new Error("`schemaEntry.parse` property was renamed to `schemaEntry.type`");if(t.type?r=Qme(e,Array.isArray(t.type)?t.type[0]:t.type,n):r={value:e},r.error)return r;if(r.value!==null){if(t.oneOf&&t.oneOf.indexOf(r.value)<0)return{error:"invalid",reason:"unknown"};if(t.validate)try{t.validate(r.value)}catch(a){return{error:a.message}}}return r}function l2(e,t){try{var n=t(e);return n===void 0?{value:null}:{value:n}}catch(a){var r={error:a.message};return a.reason&&(r.reason=a.reason),r}}function Qme(e,t,n){switch(t){case String:return l2(e,Fme);case Number:return l2(e,Pme);case Date:return l2(e,function(r){return $me(r,{properties:n.properties})});case Boolean:return l2(e,Bme);default:if(typeof t=="function")return l2(e,t);throw new Error("Unsupported schema type: ".concat(t&&t.name||t))}}function aY(e,t,n){for(var r=0,a="";n+r<e.length;){var l=e[n+r];if(l===t)return[a,r];if(l==='"'){var u=aY(e,'"',n+r+1);a+=u[0],r+=1+u[1]+1}else a+=l,r++}return[a,r]}function Jme(e,t){for(var n=[],r=0;r<e.length;){var a=aY(e,t,r),l=zme(a,2),u=l[0],i=l[1];r+=i+t.length,n.push(u.trim())}return n}var ege=function(t){return t[0].map(function(n,r){return t.map(function(a){return a[r]})})};function tge(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];if(ME(a.type)==="object"&&!Array.isArray(a.type))throw new Error("When defining a nested schema, use a `schema` property instead of a `type` property");if(!a.schema&&!a.column)throw new Error('"column" not defined for schema entry "'.concat(r,'".'))}}function RR(e){return e==null}function CS(e){"@babel/helpers - typeof";return CS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},CS(e)}var nge=["schema"];function V9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function NC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V9(Object(n),!0).forEach(function(r){rge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rge(e,t,n){return t=age(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function age(e){var t=ige(e,"string");return CS(t)==="symbol"?t:String(t)}function ige(e,t){if(CS(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(CS(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oge(e,t){if(e==null)return{};var n=sge(e,t),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sge(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,l;for(l=0;l<r.length;l++)a=r[l],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function lge(e,t,n){var r=n.schema,a=oge(n,nge);if(a.map)throw new Error("`map` option was removed. Pass a `schema` option instead.");var l=Cme(e,t,NC(NC({},a),{},{properties:r||a.properties}));return r?Kme(l.data,r,NC(NC({},a),{},{properties:l.properties})):l}function q9(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return vpe(e).then(function(n){return lge(n,Jhe,t)})}var MR="focusScope.autoFocusOnMount",OR="focusScope.autoFocusOnUnmount",Y9={bubbles:!1,cancelable:!0},uge="FocusScope",LI=$.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:l,...u}=e,[i,m]=$.useState(null),b=Xu(a),_=Xu(l),w=$.useRef(null),M=ni(t,G=>m(G)),P=$.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;$.useEffect(()=>{if(r){let G=function(J){if(P.paused||!i)return;const ne=J.target;i.contains(ne)?w.current=ne:pb(w.current,{select:!0})},z=function(J){if(P.paused||!i)return;const ne=J.relatedTarget;ne!==null&&(i.contains(ne)||pb(w.current,{select:!0}))},q=function(J){if(document.activeElement===document.body)for(const ie of J)ie.removedNodes.length>0&&pb(i)};document.addEventListener("focusin",G),document.addEventListener("focusout",z);const Y=new MutationObserver(q);return i&&Y.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",G),document.removeEventListener("focusout",z),Y.disconnect()}}},[r,i,P.paused]),$.useEffect(()=>{if(i){Z9.add(P);const G=document.activeElement;if(!i.contains(G)){const q=new CustomEvent(MR,Y9);i.addEventListener(MR,b),i.dispatchEvent(q),q.defaultPrevented||(cge(mge(iY(i)),{select:!0}),document.activeElement===G&&pb(i))}return()=>{i.removeEventListener(MR,b),setTimeout(()=>{const q=new CustomEvent(OR,Y9);i.addEventListener(OR,_),i.dispatchEvent(q),q.defaultPrevented||pb(G??document.body,{select:!0}),i.removeEventListener(OR,_),Z9.remove(P)},0)}}},[i,b,_,P]);const j=$.useCallback(G=>{if(!n&&!r||P.paused)return;const z=G.key==="Tab"&&!G.altKey&&!G.ctrlKey&&!G.metaKey,q=document.activeElement;if(z&&q){const Y=G.currentTarget,[J,ne]=dge(Y);J&&ne?!G.shiftKey&&q===ne?(G.preventDefault(),n&&pb(J,{select:!0})):G.shiftKey&&q===J&&(G.preventDefault(),n&&pb(ne,{select:!0})):q===Y&&G.preventDefault()}},[n,r,P.paused]);return S.jsx(xa.div,{tabIndex:-1,...u,ref:M,onKeyDown:j})});LI.displayName=uge;function cge(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(pb(r,{select:t}),document.activeElement!==n)return}function dge(e){const t=iY(e),n=W9(t,e),r=W9(t.reverse(),e);return[n,r]}function iY(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function W9(e,t){for(const n of e)if(!fge(n,{upTo:t}))return n}function fge(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function hge(e){return e instanceof HTMLInputElement&&"select"in e}function pb(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&hge(e)&&t&&e.select()}}var Z9=pge();function pge(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=X9(e,t),e.unshift(t)},remove(t){e=X9(e,t),e[0]?.resume()}}}function X9(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mge(e){return e.filter(t=>t.tagName!=="A")}var DR=0;function OL(){$.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??K9()),document.body.insertAdjacentElement("beforeend",e[1]??K9()),DR++,()=>{DR===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),DR--}},[])}function K9(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yy=function(){return yy=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},yy.apply(this,arguments)};function oY(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function gge(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,l;r<a;r++)(l||!(r in t))&&(l||(l=Array.prototype.slice.call(t,0,r)),l[r]=t[r]);return e.concat(l||Array.prototype.slice.call(t))}var kA="right-scroll-bar-position",IA="width-before-scroll-bar",yge="with-scroll-bars-hidden",vge="--removed-body-scroll-bar-size";function LR(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bge(e,t){var n=$.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var _ge=typeof window<"u"?$.useLayoutEffect:$.useEffect,Q9=new WeakMap;function xge(e,t){var n=bge(null,function(r){return e.forEach(function(a){return LR(a,r)})});return _ge(function(){var r=Q9.get(n);if(r){var a=new Set(r),l=new Set(e),u=n.current;a.forEach(function(i){l.has(i)||LR(i,null)}),l.forEach(function(i){a.has(i)||LR(i,u)})}Q9.set(n,e)},[e]),n}function Ege(e){return e}function wge(e,t){t===void 0&&(t=Ege);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(l){var u=t(l,r);return n.push(u),function(){n=n.filter(function(i){return i!==u})}},assignSyncMedium:function(l){for(r=!0;n.length;){var u=n;n=[],u.forEach(l)}n={push:function(i){return l(i)},filter:function(){return n}}},assignMedium:function(l){r=!0;var u=[];if(n.length){var i=n;n=[],i.forEach(l),u=n}var m=function(){var _=u;u=[],_.forEach(l)},b=function(){return Promise.resolve().then(m)};b(),n={push:function(_){u.push(_),b()},filter:function(_){return u=u.filter(_),n}}}};return a}function Sge(e){e===void 0&&(e={});var t=wge(null);return t.options=yy({async:!0,ssr:!1},e),t}var sY=function(e){var t=e.sideCar,n=oY(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return $.createElement(r,yy({},n))};sY.isSideCarExport=!0;function Tge(e,t){return e.useMedium(t),sY}var lY=Sge(),PR=function(){},PI=$.forwardRef(function(e,t){var n=$.useRef(null),r=$.useState({onScrollCapture:PR,onWheelCapture:PR,onTouchMoveCapture:PR}),a=r[0],l=r[1],u=e.forwardProps,i=e.children,m=e.className,b=e.removeScrollBar,_=e.enabled,w=e.shards,M=e.sideCar,P=e.noRelative,j=e.noIsolation,G=e.inert,z=e.allowPinchZoom,q=e.as,Y=q===void 0?"div":q,J=e.gapMode,ne=oY(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),ie=M,ue=xge([n,t]),oe=yy(yy({},ne),a);return $.createElement($.Fragment,null,_&&$.createElement(ie,{sideCar:lY,removeScrollBar:b,shards:w,noRelative:P,noIsolation:j,inert:G,setCallbacks:l,allowPinchZoom:!!z,lockRef:n,gapMode:J}),u?$.cloneElement($.Children.only(i),yy(yy({},oe),{ref:ue})):$.createElement(Y,yy({},oe,{className:m,ref:ue}),i))});PI.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};PI.classNames={fullWidth:IA,zeroRight:kA};var Cge=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Age(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cge();return t&&e.setAttribute("nonce",t),e}function kge(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Ige(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nge=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Age())&&(kge(t,n),Ige(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rge=function(){var e=Nge();return function(t,n){$.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},uY=function(){var e=Rge(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},Mge={left:0,top:0,right:0,gap:0},FR=function(e){return parseInt(e||"",10)||0},Oge=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[FR(n),FR(r),FR(a)]},Dge=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Mge;var t=Oge(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lge=uY(),yE="data-scroll-locked",Pge=function(e,t,n,r){var a=e.left,l=e.top,u=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yge,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(yE,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kA,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(IA,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(kA," .").concat(kA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(IA," .").concat(IA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yE,`] {
    `).concat(vge,": ").concat(i,`px;
  }
`)},J9=function(){var e=parseInt(document.body.getAttribute(yE)||"0",10);return isFinite(e)?e:0},Fge=function(){$.useEffect(function(){return document.body.setAttribute(yE,(J9()+1).toString()),function(){var e=J9()-1;e<=0?document.body.removeAttribute(yE):document.body.setAttribute(yE,e.toString())}},[])},Bge=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;Fge();var l=$.useMemo(function(){return Dge(a)},[a]);return $.createElement(Lge,{styles:Pge(l,!t,a,n?"":"!important")})},y3=!1;if(typeof window<"u")try{var RC=Object.defineProperty({},"passive",{get:function(){return y3=!0,!0}});window.addEventListener("test",RC,RC),window.removeEventListener("test",RC,RC)}catch{y3=!1}var zx=y3?{passive:!1}:!1,$ge=function(e){return e.tagName==="TEXTAREA"},cY=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!$ge(e)&&n[t]==="visible")},jge=function(e){return cY(e,"overflowY")},zge=function(e){return cY(e,"overflowX")},ej=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=dY(e,r);if(a){var l=fY(e,r),u=l[1],i=l[2];if(u>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Uge=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Gge=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},dY=function(e,t){return e==="v"?jge(t):zge(t)},fY=function(e,t){return e==="v"?Uge(t):Gge(t)},Hge=function(e,t){return e==="h"&&t==="rtl"?-1:1},Vge=function(e,t,n,r,a){var l=Hge(e,window.getComputedStyle(t).direction),u=l*r,i=n.target,m=t.contains(i),b=!1,_=u>0,w=0,M=0;do{if(!i)break;var P=fY(e,i),j=P[0],G=P[1],z=P[2],q=G-z-l*j;(j||q)&&dY(e,i)&&(w+=q,M+=j);var Y=i.parentNode;i=Y&&Y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?Y.host:Y}while(!m&&i!==document.body||m&&(t.contains(i)||t===i));return(_&&Math.abs(w)<1||!_&&Math.abs(M)<1)&&(b=!0),b},MC=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tj=function(e){return[e.deltaX,e.deltaY]},nj=function(e){return e&&"current"in e?e.current:e},qge=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Yge=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Wge=0,Ux=[];function Zge(e){var t=$.useRef([]),n=$.useRef([0,0]),r=$.useRef(),a=$.useState(Wge++)[0],l=$.useState(uY)[0],u=$.useRef(e);$.useEffect(function(){u.current=e},[e]),$.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var G=gge([e.lockRef.current],(e.shards||[]).map(nj),!0).filter(Boolean);return G.forEach(function(z){return z.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),G.forEach(function(z){return z.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var i=$.useCallback(function(G,z){if("touches"in G&&G.touches.length===2||G.type==="wheel"&&G.ctrlKey)return!u.current.allowPinchZoom;var q=MC(G),Y=n.current,J="deltaX"in G?G.deltaX:Y[0]-q[0],ne="deltaY"in G?G.deltaY:Y[1]-q[1],ie,ue=G.target,oe=Math.abs(J)>Math.abs(ne)?"h":"v";if("touches"in G&&oe==="h"&&ue.type==="range")return!1;var K=window.getSelection(),se=K&&K.anchorNode,pe=se?se===ue||se.contains(ue):!1;if(pe)return!1;var ve=ej(oe,ue);if(!ve)return!0;if(ve?ie=oe:(ie=oe==="v"?"h":"v",ve=ej(oe,ue)),!ve)return!1;if(!r.current&&"changedTouches"in G&&(J||ne)&&(r.current=ie),!ie)return!0;var Te=r.current||ie;return Vge(Te,z,G,Te==="h"?J:ne)},[]),m=$.useCallback(function(G){var z=G;if(!(!Ux.length||Ux[Ux.length-1]!==l)){var q="deltaY"in z?tj(z):MC(z),Y=t.current.filter(function(ie){return ie.name===z.type&&(ie.target===z.target||z.target===ie.shadowParent)&&qge(ie.delta,q)})[0];if(Y&&Y.should){z.cancelable&&z.preventDefault();return}if(!Y){var J=(u.current.shards||[]).map(nj).filter(Boolean).filter(function(ie){return ie.contains(z.target)}),ne=J.length>0?i(z,J[0]):!u.current.noIsolation;ne&&z.cancelable&&z.preventDefault()}}},[]),b=$.useCallback(function(G,z,q,Y){var J={name:G,delta:z,target:q,should:Y,shadowParent:Xge(q)};t.current.push(J),setTimeout(function(){t.current=t.current.filter(function(ne){return ne!==J})},1)},[]),_=$.useCallback(function(G){n.current=MC(G),r.current=void 0},[]),w=$.useCallback(function(G){b(G.type,tj(G),G.target,i(G,e.lockRef.current))},[]),M=$.useCallback(function(G){b(G.type,MC(G),G.target,i(G,e.lockRef.current))},[]);$.useEffect(function(){return Ux.push(l),e.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:M}),document.addEventListener("wheel",m,zx),document.addEventListener("touchmove",m,zx),document.addEventListener("touchstart",_,zx),function(){Ux=Ux.filter(function(G){return G!==l}),document.removeEventListener("wheel",m,zx),document.removeEventListener("touchmove",m,zx),document.removeEventListener("touchstart",_,zx)}},[]);var P=e.removeScrollBar,j=e.inert;return $.createElement($.Fragment,null,j?$.createElement(l,{styles:Yge(a)}):null,P?$.createElement(Bge,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Xge(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kge=Tge(lY,Zge);var FI=$.forwardRef(function(e,t){return $.createElement(PI,yy({},e,{ref:t,sideCar:Kge}))});FI.classNames=PI.classNames;var Qge=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Gx=new WeakMap,OC=new WeakMap,DC={},BR=0,hY=function(e){return e&&(e.host||hY(e.parentNode))},Jge=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hY(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},eye=function(e,t,n,r){var a=Jge(t,Array.isArray(e)?e:[e]);DC[n]||(DC[n]=new WeakMap);var l=DC[n],u=[],i=new Set,m=new Set(a),b=function(w){!w||i.has(w)||(i.add(w),b(w.parentNode))};a.forEach(b);var _=function(w){!w||m.has(w)||Array.prototype.forEach.call(w.children,function(M){if(i.has(M))_(M);else try{var P=M.getAttribute(r),j=P!==null&&P!=="false",G=(Gx.get(M)||0)+1,z=(l.get(M)||0)+1;Gx.set(M,G),l.set(M,z),u.push(M),G===1&&j&&OC.set(M,!0),z===1&&M.setAttribute(n,"true"),j||M.setAttribute(r,"true")}catch(q){console.error("aria-hidden: cannot operate on ",M,q)}})};return _(t),i.clear(),BR++,function(){u.forEach(function(w){var M=Gx.get(w)-1,P=l.get(w)-1;Gx.set(w,M),l.set(w,P),M||(OC.has(w)||w.removeAttribute(r),OC.delete(w)),P||w.removeAttribute(n)}),BR--,BR||(Gx=new WeakMap,Gx=new WeakMap,OC=new WeakMap,DC={})}},DL=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=Qge(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live], script"))),eye(r,a,n,"aria-hidden")):function(){return null}};function tye(e){const t=nye(e),n=$.forwardRef((r,a)=>{const{children:l,...u}=r,i=$.Children.toArray(l),m=i.find(aye);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function nye(e){const t=$.forwardRef((n,r)=>{const{children:a,...l}=n;if($.isValidElement(a)){const u=oye(a),i=iye(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rye=Symbol("radix.slottable");function aye(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rye}function iye(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function oye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var BI="Dialog",[pY,mY]=vd(BI),[sye,pg]=pY(BI),gY=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:l,modal:u=!0}=e,i=$.useRef(null),m=$.useRef(null),[b,_]=Zf({prop:r,defaultProp:a??!1,onChange:l,caller:BI});return S.jsx(sye,{scope:t,triggerRef:i,contentRef:m,contentId:eg(),titleId:eg(),descriptionId:eg(),open:b,onOpenChange:_,onOpenToggle:$.useCallback(()=>_(w=>!w),[_]),modal:u,children:n})};gY.displayName=BI;var yY="DialogTrigger",vY=$.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=pg(yY,n),l=ni(t,a.triggerRef);return S.jsx(xa.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":FL(a.open),...r,ref:l,onClick:kr(e.onClick,a.onOpenToggle)})});vY.displayName=yY;var LL="DialogPortal",[lye,bY]=pY(LL,{forceMount:void 0}),_Y=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,l=pg(LL,t);return S.jsx(lye,{scope:t,forceMount:n,children:$.Children.map(r,u=>S.jsx(ec,{present:n||l.open,children:S.jsx(pT,{asChild:!0,container:a,children:u})}))})};_Y.displayName=LL;var vk="DialogOverlay",xY=$.forwardRef((e,t)=>{const n=bY(vk,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,l=pg(vk,e.__scopeDialog);return l.modal?S.jsx(ec,{present:r||l.open,children:S.jsx(cye,{...a,ref:t})}):null});xY.displayName=vk;var uye=tye("DialogOverlay.RemoveScroll"),cye=$.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=pg(vk,n);return S.jsx(FI,{as:uye,allowPinchZoom:!0,shards:[a.contentRef],children:S.jsx(xa.div,{"data-state":FL(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),E1="DialogContent",EY=$.forwardRef((e,t)=>{const n=bY(E1,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,l=pg(E1,e.__scopeDialog);return S.jsx(ec,{present:r||l.open,children:l.modal?S.jsx(dye,{...a,ref:t}):S.jsx(fye,{...a,ref:t})})});EY.displayName=E1;var dye=$.forwardRef((e,t)=>{const n=pg(E1,e.__scopeDialog),r=$.useRef(null),a=ni(t,n.contentRef,r);return $.useEffect(()=>{const l=r.current;if(l)return DL(l)},[]),S.jsx(wY,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kr(e.onCloseAutoFocus,l=>{l.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:kr(e.onPointerDownOutside,l=>{const u=l.detail.originalEvent,i=u.button===0&&u.ctrlKey===!0;(u.button===2||i)&&l.preventDefault()}),onFocusOutside:kr(e.onFocusOutside,l=>l.preventDefault())})}),fye=$.forwardRef((e,t)=>{const n=pg(E1,e.__scopeDialog),r=$.useRef(!1),a=$.useRef(!1);return S.jsx(wY,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),wY=$.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:l,...u}=e,i=pg(E1,n),m=$.useRef(null),b=ni(t,m);return OL(),S.jsxs(S.Fragment,{children:[S.jsx(LI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:l,children:S.jsx(fT,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":FL(i.open),...u,ref:b,onDismiss:()=>i.onOpenChange(!1)})}),S.jsxs(S.Fragment,{children:[S.jsx(pye,{titleId:i.titleId}),S.jsx(gye,{contentRef:m,descriptionId:i.descriptionId})]})]})}),PL="DialogTitle",SY=$.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=pg(PL,n);return S.jsx(xa.h2,{id:a.titleId,...r,ref:t})});SY.displayName=PL;var TY="DialogDescription",CY=$.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=pg(TY,n);return S.jsx(xa.p,{id:a.descriptionId,...r,ref:t})});CY.displayName=TY;var AY="DialogClose",kY=$.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=pg(AY,n);return S.jsx(xa.button,{type:"button",...r,ref:t,onClick:kr(e.onClick,()=>a.onOpenChange(!1))})});kY.displayName=AY;function FL(e){return e?"open":"closed"}var IY="DialogTitleWarning",[hye,NY]=Cde(IY,{contentName:E1,titleName:PL,docsSlug:"dialog"}),pye=({titleId:e})=>{const t=NY(IY),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return $.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mye="DialogDescriptionWarning",gye=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NY(mye).contentName}}.`;return $.useEffect(()=>{const a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},RY=gY,yye=vY,MY=_Y,OY=xY,DY=EY,LY=SY,PY=CY,BL=kY;const FY=$.createContext(!1);function Lc({...e}){const{isMobile:t}=Fr(),n=e.open??!1;return S.jsx(FY.Provider,{value:n,children:S.jsx(RY,{"data-slot":"dialog",...e})})}function vye({...e}){return S.jsx(MY,{"data-slot":"dialog-portal",...e})}function bye({className:e,...t}){return S.jsx(OY,{"data-slot":"dialog-overlay",className:Dn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 dark:bg-white/20 backdrop-blur-xs",e),...t})}function Pc({className:e,children:t,showCloseButton:n=!0,...r}){const{isMobile:a}=Fr(),l=$.useContext(FY);return a?l?t:null:l?S.jsxs(vye,{"data-slot":"dialog-portal",children:[S.jsx(bye,{}),S.jsxs(DY,{"data-slot":"dialog-content",className:Dn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-md border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...r,children:[t,n&&S.jsxs(BL,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[S.jsx(Yl,{}),S.jsx("span",{className:"sr-only",children:"Close"})]})]})]}):null}function F1({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx("div",{children:t.children}):S.jsx("div",{"data-slot":"dialog-header",className:Dn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function B1({className:e,...t}){return S.jsx("div",{"data-slot":"dialog-footer",className:Dn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function qb({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx("div",{children:t.children}):S.jsx(LY,{"data-slot":"dialog-title",className:Dn("text-lg leading-none font-semibold",e),...t})}function _ye({className:e,...t}){return S.jsx(PY,{"data-slot":"dialog-description",className:Dn("text-muted-foreground text-sm",e),...t})}const BY=Ve.createRef(),xye=$.forwardRef((e,t)=>{const{isMobile:n}=Fr(),[r,a]=$.useState(!1),l=Ve.useRef(null),u=Ve.useRef(null);return $.useImperativeHandle(t,()=>({open:({onSelect:i})=>{l.current=i,a(!0)},close:()=>a(!1)})),n?S.jsx(Yh,{opened:r,onBackdropClick:()=>a(!1),children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("import_from_excel"),right:S.jsx(ks,{onClick:()=>a(!1),children:S.jsx(Yl,{})})}),S.jsxs("div",{className:"p-4",children:[S.jsx("div",{className:"text-sm text-gray-500",children:S.jsx("p",{children:tt.key("import_from_excel_description_one")})}),S.jsx(vu,{onClick:()=>{u.current?.click()},className:"mt-4",children:tt.key("select_excel_file")}),S.jsx("input",{type:"file",accept:".xlsx, .xls",style:{position:"absolute",top:0,left:0,opacity:0,cursor:"pointer"},ref:u,onChange:async i=>{const m=i.target.files?.[0];if(m){let b=await q9(m);l.current&&l.current(b),a(!1)}}})]})]})}):S.jsx(Lc,{open:r,onOpenChange:i=>a(i),children:S.jsxs(Pc,{children:[S.jsx(F1,{children:S.jsx(qb,{children:tt.key("import_from_excel")})}),S.jsx("div",{className:"text-sm text-gray-500",children:S.jsx("p",{children:tt.key("import_from_excel_description_one")})}),S.jsx(Bn,{onClick:()=>{u.current?.click()},children:tt.key("select_excel_file")}),S.jsx("input",{type:"file",ref:u,accept:".xlsx, .xls",style:{position:"absolute",top:0,left:0,opacity:0,cursor:"pointer"},onChange:async i=>{const m=i.target.files?.[0];if(m){let b=await q9(m);b=b.filter(_=>_[0]!==null&&_[0]!==void 0&&_[0]!==""),l.current&&l.current(b),a(!1)}}})]})})}),Eye=Vb("inline-flex items-center justify-center rounded-full border px-2 py-0 text-xs font-normal w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pl({className:e,variant:t,asChild:n=!1,...r}){const a=n?Wf:"span",{isMobile:l}=Fr();return S.jsx(a,{"data-slot":"badge",className:Dn(Eye({variant:t}),e),...r})}const La=e=>{if(e.parent?.type=="array")return null;const{hideTips:t}=Fr();if(t)return null;let n="";return tt.getCurrentLang()=="en"&&e.descriptions?.descriptionEN&&(n=e.descriptions.descriptionEN),tt.getCurrentLang()=="ru"&&e.descriptions?.descriptionRU&&(n=e.descriptions.descriptionRU),n?S.jsx("div",{className:"text-xs text-muted-foreground px-1",children:n}):null},wye=e=>{const[t,n]=$.useState(e.getValue()??[]);$.useEffect(()=>{e.setValue(t)},[t]);const r=({firstButton:z=!1})=>S.jsxs(S.Fragment,{children:[S.jsxs(Bn,{onClick:m,variant:"outline",size:"sm",children:[z?tt.key("add"):tt.key("add_to")," ",e.structure.title]}),!e.structure.itemType?.items&&S.jsx(Bn,{className:"ml-2",onClick:()=>{BY.current?.open({onSelect:q=>{let Y=q.map(J=>J?.[0]??null).filter(J=>J!==null);n(J=>[...J,...Y])}})},variant:"outline",size:"sm",children:tt.key("add_from_excel")})]}),a=z=>{const q=t[z];n(Y=>{const J=[...Y];return J.splice(z+1,0,{...q,uuid:null}),J}),u(!0)},[l,u]=$.useState(!1),i=z=>{n(q=>{const Y=[...q];return Y.splice(z,1),Y}),u(!0)};$.useEffect(()=>{l&&u(!1)},[l]);const m=()=>{n(z=>[...z,null])},b=()=>{n([])},_=()=>S.jsx(pl,{variant:"destructive",onClick:()=>{b()},className:" cursor-pointer",children:tt.key("delete_all")});if(!e.structure.itemType)return S.jsx(S.Fragment,{});const w=z=>e.getValue()?.[z],M=e.onlyShow||!e.structure.editable;if(l)return S.jsx("div",{});if(!t||na.size(t)==0)return M?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(La,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:tt.key("no_data_short")})]}):S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(La,{...e}),S.jsx(r,{firstButton:!0})]});const{color:P}=Fr(),j=z=>{if(z<=0){Ca.error(tt.key("cant_move_up"));return}n(q=>E9(q,z,z-1)),u(!0)},G=z=>{if(z>=t.length-1){Ca.error(tt.key("cant_move_down"));return}n(q=>E9(q,z,z+1)),u(!0)};return S.jsxs("div",{style:{backgroundColor:`rgba(${_de(P).join(",")},${.02*(e.arrayLevel+1)})`,padding:"10px",borderRadius:"10px"},children:[S.jsxs("div",{className:"mb-2",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx(ma,{...e}),S.jsx("div",{className:"flex items-center gap-2 ",children:!M&&S.jsx("div",{className:"flex items-center gap-2",children:na.size(t)>0&&S.jsx(S.Fragment,{children:S.jsx(_,{})})})})]}),S.jsx(La,{...e})]}),S.jsx(vS,{col:e.structure?.col??24,children:S.jsxs(S.Fragment,{children:[na.map(t,(z,q)=>S.jsx("div",{children:S.jsxs("div",{style:{flex:1},className:"mb-2 border-b-2 border-gray-200 relative",children:[S.jsx(JE,{descriptions:e.descriptions,inline:e.inline,getDataStructure:e.getDataStructure,onlyShow:e.onlyShow,getDataValue:e.getDataValue,structureLevel:0,arrayLevel:e?.arrayLevel+1,getParentValue:()=>w(q),structure:e.structure.itemType,getValue:()=>t[q],rootParent:e.parent,parent:e.structure,setValue:Y=>{const J=[...t];J[q]=Y,n(J)}}),!M&&S.jsxs("div",{children:[S.jsx(Bn,{variant:"secondary",onClick:()=>{i(q)},size:"icon-sm",children:S.jsx(Qhe,{size:18})}),S.jsx(Bn,{variant:"secondary",onClick:()=>{a(q)},size:"icon-sm",children:S.jsx(Khe,{size:18})}),S.jsx(Bn,{variant:"secondary",onClick:()=>{j(q)},size:"icon-sm",children:S.jsx(WH,{size:18})}),S.jsx(Bn,{variant:"secondary",onClick:()=>{G(q)},size:"icon-sm",children:S.jsx(qH,{size:18})})]})]})},z?.uuid)),!M&&S.jsx(r,{})]})})]})};function $L(e){const t=$.useRef({value:e,previous:e});return $.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var $I="Switch",[Sye]=vd($I),[Tye,Cye]=Sye($I),$Y=$.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:l,required:u,disabled:i,value:m="on",onCheckedChange:b,form:_,...w}=e,[M,P]=$.useState(null),j=ni(t,J=>P(J)),G=$.useRef(!1),z=M?_||!!M.closest("form"):!0,[q,Y]=Zf({prop:a,defaultProp:l??!1,onChange:b,caller:$I});return S.jsxs(Tye,{scope:n,checked:q,disabled:i,children:[S.jsx(xa.button,{type:"button",role:"switch","aria-checked":q,"aria-required":u,"data-state":GY(q),"data-disabled":i?"":void 0,disabled:i,value:m,...w,ref:j,onClick:kr(e.onClick,J=>{Y(ne=>!ne),z&&(G.current=J.isPropagationStopped(),G.current||J.stopPropagation())})}),z&&S.jsx(UY,{control:M,bubbles:!G.current,name:r,value:m,checked:q,required:u,disabled:i,form:_,style:{transform:"translateX(-100%)"}})]})});$Y.displayName=$I;var jY="SwitchThumb",zY=$.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=Cye(jY,n);return S.jsx(xa.span,{"data-state":GY(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});zY.displayName=jY;var Aye="SwitchBubbleInput",UY=$.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...a},l)=>{const u=$.useRef(null),i=ni(u,l),m=$L(n),b=NI(t);return $.useEffect(()=>{const _=u.current;if(!_)return;const w=window.HTMLInputElement.prototype,P=Object.getOwnPropertyDescriptor(w,"checked").set;if(m!==n&&P){const j=new Event("click",{bubbles:r});P.call(_,n),_.dispatchEvent(j)}},[m,n,r]),S.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});UY.displayName=Aye;function GY(e){return e?"checked":"unchecked"}var kye=$Y,Iye=zY;function Nye({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(Kce,{checked:t.checked,onChange:()=>t.onCheckedChange?.(!t.checked)}):S.jsx(kye,{"data-slot":"switch",className:Dn("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:S.jsx(Iye,{"data-slot":"switch-thumb",className:Dn("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Rye=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]),$.useEffect(()=>{t==null&&n(!1)},[]);const{color:r}=Fr();return e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:t?S.jsx(h1,{color:r}):S.jsx(Yl,{color:r})}),S.jsx(La,{...e})]}):S.jsxs("div",{className:"",children:[S.jsx(ma,{...e}),S.jsx(Nye,{checked:!!t,onCheckedChange:n}),S.jsx(La,{...e})]})};let vT=class{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}};vT.prototype.normal={};vT.prototype.property={};vT.prototype.space=void 0;function HY(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new vT(n,r,t)}function AS(e){return e.toLowerCase()}let Xf=class{constructor(t,n){this.attribute=n,this.property=t}};Xf.prototype.attribute="";Xf.prototype.booleanish=!1;Xf.prototype.boolean=!1;Xf.prototype.commaOrSpaceSeparated=!1;Xf.prototype.commaSeparated=!1;Xf.prototype.defined=!1;Xf.prototype.mustUseProperty=!1;Xf.prototype.number=!1;Xf.prototype.overloadedBoolean=!1;Xf.prototype.property="";Xf.prototype.spaceSeparated=!1;Xf.prototype.space=void 0;let Mye=0;const Ha=$1(),Hl=$1(),v3=$1(),ur=$1(),Qo=$1(),vE=$1(),Ah=$1();function $1(){return 2**++Mye}const b3=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ha,booleanish:Hl,commaOrSpaceSeparated:Ah,commaSeparated:vE,number:ur,overloadedBoolean:v3,spaceSeparated:Qo},Symbol.toStringTag,{value:"Module"})),$R=Object.keys(b3);let jL=class extends Xf{constructor(t,n,r,a){let l=-1;if(super(t,n),rj(this,"space",a),typeof r=="number")for(;++l<$R.length;){const u=$R[l];rj(this,$R[l],(r&b3[u])===b3[u])}}};jL.prototype.defined=!0;function rj(e,t,n){n&&(e[t]=n)}function hw(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const l=new jL(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[AS(r)]=r,n[AS(l.attribute)]=r}return new vT(t,n,e.space)}const VY=hw({properties:{ariaActiveDescendant:null,ariaAtomic:Hl,ariaAutoComplete:null,ariaBusy:Hl,ariaChecked:Hl,ariaColCount:ur,ariaColIndex:ur,ariaColSpan:ur,ariaControls:Qo,ariaCurrent:null,ariaDescribedBy:Qo,ariaDetails:null,ariaDisabled:Hl,ariaDropEffect:Qo,ariaErrorMessage:null,ariaExpanded:Hl,ariaFlowTo:Qo,ariaGrabbed:Hl,ariaHasPopup:null,ariaHidden:Hl,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Qo,ariaLevel:ur,ariaLive:null,ariaModal:Hl,ariaMultiLine:Hl,ariaMultiSelectable:Hl,ariaOrientation:null,ariaOwns:Qo,ariaPlaceholder:null,ariaPosInSet:ur,ariaPressed:Hl,ariaReadOnly:Hl,ariaRelevant:null,ariaRequired:Hl,ariaRoleDescription:Qo,ariaRowCount:ur,ariaRowIndex:ur,ariaRowSpan:ur,ariaSelected:Hl,ariaSetSize:ur,ariaSort:null,ariaValueMax:ur,ariaValueMin:ur,ariaValueNow:ur,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function qY(e,t){return t in e?e[t]:t}function YY(e,t){return qY(e,t.toLowerCase())}const Oye=hw({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vE,acceptCharset:Qo,accessKey:Qo,action:null,allow:null,allowFullScreen:Ha,allowPaymentRequest:Ha,allowUserMedia:Ha,alt:null,as:null,async:Ha,autoCapitalize:null,autoComplete:Qo,autoFocus:Ha,autoPlay:Ha,blocking:Qo,capture:null,charSet:null,checked:Ha,cite:null,className:Qo,cols:ur,colSpan:null,content:null,contentEditable:Hl,controls:Ha,controlsList:Qo,coords:ur|vE,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ha,defer:Ha,dir:null,dirName:null,disabled:Ha,download:v3,draggable:Hl,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ha,formTarget:null,headers:Qo,height:ur,hidden:v3,high:ur,href:null,hrefLang:null,htmlFor:Qo,httpEquiv:Qo,id:null,imageSizes:null,imageSrcSet:null,inert:Ha,inputMode:null,integrity:null,is:null,isMap:Ha,itemId:null,itemProp:Qo,itemRef:Qo,itemScope:Ha,itemType:Qo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ha,low:ur,manifest:null,max:null,maxLength:ur,media:null,method:null,min:null,minLength:ur,multiple:Ha,muted:Ha,name:null,nonce:null,noModule:Ha,noValidate:Ha,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ha,optimum:ur,pattern:null,ping:Qo,placeholder:null,playsInline:Ha,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ha,referrerPolicy:null,rel:Qo,required:Ha,reversed:Ha,rows:ur,rowSpan:ur,sandbox:Qo,scope:null,scoped:Ha,seamless:Ha,selected:Ha,shadowRootClonable:Ha,shadowRootDelegatesFocus:Ha,shadowRootMode:null,shape:null,size:ur,sizes:null,slot:null,span:ur,spellCheck:Hl,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ur,step:null,style:null,tabIndex:ur,target:null,title:null,translate:null,type:null,typeMustMatch:Ha,useMap:null,value:Hl,width:ur,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Qo,axis:null,background:null,bgColor:null,border:ur,borderColor:null,bottomMargin:ur,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ha,declare:Ha,event:null,face:null,frame:null,frameBorder:null,hSpace:ur,leftMargin:ur,link:null,longDesc:null,lowSrc:null,marginHeight:ur,marginWidth:ur,noResize:Ha,noHref:Ha,noShade:Ha,noWrap:Ha,object:null,profile:null,prompt:null,rev:null,rightMargin:ur,rules:null,scheme:null,scrolling:Hl,standby:null,summary:null,text:null,topMargin:ur,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ur,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ha,disableRemotePlayback:Ha,prefix:null,property:null,results:ur,security:null,unselectable:null},space:"html",transform:YY}),Dye=hw({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Ah,accentHeight:ur,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ur,amplitude:ur,arabicForm:null,ascent:ur,attributeName:null,attributeType:null,azimuth:ur,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ur,by:null,calcMode:null,capHeight:ur,className:Qo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ur,diffuseConstant:ur,direction:null,display:null,dur:null,divisor:ur,dominantBaseline:null,download:Ha,dx:null,dy:null,edgeMode:null,editable:null,elevation:ur,enableBackground:null,end:null,event:null,exponent:ur,externalResourcesRequired:null,fill:null,fillOpacity:ur,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vE,g2:vE,glyphName:vE,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ur,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ur,horizOriginX:ur,horizOriginY:ur,id:null,ideographic:ur,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ur,k:ur,k1:ur,k2:ur,k3:ur,k4:ur,kernelMatrix:Ah,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ur,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ur,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ur,overlineThickness:ur,paintOrder:null,panose1:null,path:null,pathLength:ur,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Qo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ur,pointsAtY:ur,pointsAtZ:ur,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Ah,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Ah,rev:Ah,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Ah,requiredFeatures:Ah,requiredFonts:Ah,requiredFormats:Ah,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ur,specularExponent:ur,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ur,strikethroughThickness:ur,string:null,stroke:null,strokeDashArray:Ah,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ur,strokeOpacity:ur,strokeWidth:null,style:null,surfaceScale:ur,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Ah,tabIndex:ur,tableValues:null,target:null,targetX:ur,targetY:ur,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Ah,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ur,underlineThickness:ur,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ur,values:null,vAlphabetic:ur,vMathematical:ur,vectorEffect:null,vHanging:ur,vIdeographic:ur,version:null,vertAdvY:ur,vertOriginX:ur,vertOriginY:ur,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ur,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:qY}),WY=hw({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),ZY=hw({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:YY}),XY=hw({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Lye=/[A-Z]/g,aj=/-[a-z]/g,Pye=/^data[-\w.:]+$/i;function zL(e,t){const n=AS(t);let r=t,a=Xf;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Pye.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(aj,Bye);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!aj.test(l)){let u=l.replace(Lye,Fye);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=jL}return new a(r,t)}function Fye(e){return"-"+e.toLowerCase()}function Bye(e){return e.charAt(1).toUpperCase()}const jI=HY([VY,Oye,WY,ZY,XY],"html"),bT=HY([VY,Dye,WY,ZY,XY],"svg");function bk(e){const t=[],n=String(e||"");let r=n.indexOf(","),a=0,l=!1;for(;!l;){r===-1&&(r=n.length,l=!0);const u=n.slice(a,r).trim();(u||!l)&&t.push(u),a=r+1,r=n.indexOf(",",a)}return t}function $ye(e,t){const n=t||{};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const ij=/[#.]/g;function jye(e,t){const n=e||"",r={};let a=0,l,u;for(;a<n.length;){ij.lastIndex=a;const i=ij.exec(n),m=n.slice(a,i?i.index:n.length);m&&(l?l==="#"?r.id=m:Array.isArray(r.className)?r.className.push(m):r.className=[m]:u=m,a+=m.length),i&&(l=i[0],a++)}return{type:"element",tagName:u||t||"div",properties:r,children:[]}}function _k(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function zye(e){return e.join(" ").trim()}function KY(e,t,n){const r=n?Vye(n):void 0;function a(l,u,...i){let m;if(l==null){m={type:"root",children:[]};const b=u;i.unshift(b)}else{m=jye(l,t);const b=m.tagName.toLowerCase(),_=r?r.get(b):void 0;if(m.tagName=_||b,Uye(u))i.unshift(u);else for(const[w,M]of Object.entries(u))Gye(e,m.properties,w,M)}for(const b of i)_3(m.children,b);return m.type==="element"&&m.tagName==="template"&&(m.content={type:"root",children:m.children},m.children=[]),m}return a}function Uye(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,n=Object.keys(e);for(const r of n){const a=t[r];if(a&&typeof a=="object"){if(!Array.isArray(a))return!0;const l=a;for(const u of l)if(typeof u!="number"&&typeof u!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function Gye(e,t,n,r){const a=zL(e,n);let l;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;l=r}else typeof r=="boolean"?l=r:typeof r=="string"?a.spaceSeparated?l=_k(r):a.commaSeparated?l=bk(r):a.commaOrSpaceSeparated?l=_k(bk(r).join(" ")):l=oj(a,a.property,r):Array.isArray(r)?l=[...r]:l=a.property==="style"?Hye(r):String(r);if(Array.isArray(l)){const u=[];for(const i of l)u.push(oj(a,a.property,i));l=u}a.property==="className"&&Array.isArray(t.className)&&(l=t.className.concat(l)),t[a.property]=l}}function _3(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const n of t)_3(e,n);else if(typeof t=="object"&&"type"in t)t.type==="root"?_3(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function oj(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||AS(n)===AS(t)))return!0}return n}function Hye(e){const t=[];for(const[n,r]of Object.entries(e))t.push([n,r].join(": "));return t.join("; ")}function Vye(e){const t=new Map;for(const n of e)t.set(n.toLowerCase(),n);return t}const qye=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],Yye=KY(jI,"div"),Wye=KY(bT,"g",qye);function Zye(e){const t=String(e),n=[];return{toOffset:a,toPoint:r};function r(l){if(typeof l=="number"&&l>-1&&l<=t.length){let u=0;for(;;){let i=n[u];if(i===void 0){const m=sj(t,n[u-1]);i=m===-1?t.length+1:m+1,n[u]=i}if(i>l)return{line:u+1,column:l-(u>0?n[u-1]:0)+1,offset:l};u++}}}function a(l){if(l&&typeof l.line=="number"&&typeof l.column=="number"&&!Number.isNaN(l.line)&&!Number.isNaN(l.column)){for(;n.length<l.line;){const i=n[n.length-1],m=sj(t,i),b=m===-1?t.length+1:m+1;if(i===b)break;n.push(b)}const u=(l.line>1?n[l.line-2]:0)+l.column-1;if(u<n[l.line-1])return u}}}function sj(e,t){const n=e.indexOf("\r",t),r=e.indexOf(`
`,t);return r===-1?n:n===-1||n+1===r?r:n<r?n:r}const Xye={svg:"http://www.w3.org/2000/svg"},QY={}.hasOwnProperty,Kye=Object.prototype;function Qye(e,t){const n=t||{};return UL({file:n.file||void 0,location:!1,schema:n.space==="svg"?bT:jI,verbose:n.verbose||!1},e)}function UL(e,t){let n;switch(t.nodeName){case"#comment":{const r=t;return n={type:"comment",value:r.data},NA(e,r,n),n}case"#document":case"#document-fragment":{const r=t,a="mode"in r?r.mode==="quirks"||r.mode==="limited-quirks":!1;if(n={type:"root",children:JY(e,t.childNodes),data:{quirksMode:a}},e.file&&e.location){const l=String(e.file),u=Zye(l),i=u.toPoint(0),m=u.toPoint(l.length);n.position={start:i,end:m}}return n}case"#documentType":{const r=t;return n={type:"doctype"},NA(e,r,n),n}case"#text":{const r=t;return n={type:"text",value:r.value},NA(e,r,n),n}default:return n=Jye(e,t),n}}function JY(e,t){let n=-1;const r=[];for(;++n<t.length;){const a=UL(e,t[n]);r.push(a)}return r}function Jye(e,t){const n=e.schema;e.schema=t.namespaceURI===Xye.svg?bT:jI;let r=-1;const a={};for(;++r<t.attrs.length;){const i=t.attrs[r],m=(i.prefix?i.prefix+":":"")+i.name;QY.call(Kye,m)||(a[m]=i.value)}const u=(e.schema.space==="svg"?Wye:Yye)(t.tagName,a,JY(e,t.childNodes));if(NA(e,t,u),u.tagName==="template"){const i=t,m=i.sourceCodeLocation,b=m&&m.startTag&&sE(m.startTag),_=m&&m.endTag&&sE(m.endTag),w=UL(e,i.content);b&&_&&e.file&&(w.position={start:b.end,end:_.start}),u.content=w}return e.schema=n,u}function NA(e,t,n){if("sourceCodeLocation"in t&&t.sourceCodeLocation&&e.file){const r=e0e(e,n,t.sourceCodeLocation);r&&(e.location=!0,n.position=r)}}function e0e(e,t,n){const r=sE(n);if(t.type==="element"){const a=t.children[t.children.length-1];if(r&&!n.endTag&&a&&a.position&&a.position.end&&(r.end=Object.assign({},a.position.end)),e.verbose){const l={};let u;if(n.attrs)for(u in n.attrs)QY.call(n.attrs,u)&&(l[zL(e.schema,u).property]=sE(n.attrs[u]));n.startTag;const i=sE(n.startTag),m=n.endTag?sE(n.endTag):void 0,b={opening:i};m&&(b.closing=m),b.properties=l,t.data={position:b}}}return r}function sE(e){const t=lj({line:e.startLine,column:e.startCol,offset:e.startOffset}),n=lj({line:e.endLine,column:e.endCol,offset:e.endOffset});return t||n?{start:t,end:n}:void 0}function lj(e){return e.line&&e.column?e:void 0}const t0e=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),As="";var ht;(function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z"})(ht||(ht={}));const $f={DASH_DASH:"--",CDATA_START:"[CDATA[",DOCTYPE:"doctype",SCRIPT:"script",PUBLIC:"public",SYSTEM:"system"};function eW(e){return e>=55296&&e<=57343}function n0e(e){return e>=56320&&e<=57343}function r0e(e,t){return(e-55296)*1024+9216+t}function tW(e){return e!==32&&e!==10&&e!==13&&e!==9&&e!==12&&e>=1&&e<=31||e>=127&&e<=159}function nW(e){return e>=64976&&e<=65007||t0e.has(e)}var An;(function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text"})(An||(An={}));const a0e=65536;class i0e{constructor(t){this.handler=t,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=a0e,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1}get col(){return this.pos-this.lineStartPos+ +(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(t,n){const{line:r,col:a,offset:l}=this,u=a+n,i=l+n;return{code:t,startLine:r,endLine:r,startCol:u,endCol:u,startOffset:i,endOffset:i}}_err(t){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(t,0)))}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(t){if(this.pos!==this.html.length-1){const n=this.html.charCodeAt(this.pos+1);if(n0e(n))return this.pos++,this._addGap(),r0e(t,n)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,ht.EOF;return this._err(An.surrogateInInputStream),t}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0)}write(t,n){this.html.length>0?this.html+=t:this.html=t,this.endOfChunkHit=!1,this.lastChunkWritten=n}insertHtmlAtCurrentPos(t){this.html=this.html.substring(0,this.pos+1)+t+this.html.substring(this.pos+1),this.endOfChunkHit=!1}startsWith(t,n){if(this.pos+t.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(n)return this.html.startsWith(t,this.pos);for(let r=0;r<t.length;r++)if((this.html.charCodeAt(this.pos+r)|32)!==t.charCodeAt(r))return!1;return!0}peek(t){const n=this.pos+t;if(n>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ht.EOF;const r=this.html.charCodeAt(n);return r===ht.CARRIAGE_RETURN?ht.LINE_FEED:r}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,ht.EOF;let t=this.html.charCodeAt(this.pos);return t===ht.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,ht.LINE_FEED):t===ht.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,eW(t)&&(t=this._processSurrogate(t)),this.handler.onParseError===null||t>31&&t<127||t===ht.LINE_FEED||t===ht.CARRIAGE_RETURN||t>159&&t<64976||this._checkForProblematicCharacters(t),t)}_checkForProblematicCharacters(t){tW(t)?this._err(An.controlCharacterInInputStream):nW(t)&&this._err(An.noncharacterInInputStream)}retreat(t){for(this.pos-=t;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1}}var Ni;(function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION"})(Ni||(Ni={}));function rW(e,t){for(let n=e.attrs.length-1;n>=0;n--)if(e.attrs[n].name===t)return e.attrs[n].value;return null}const o0e=new Uint16Array('<\0\0\0\0\0\0EMabcfglmnoprstu\\bfmsligP&cutereve;iyx}rc;r;ravepha;acr;d;gpon;f;plyFunction;ingcsr;ign;ildemlaceforsucrkslash;;ed;y;crtause;noullis;a;r;pf;eve;cmpeq;HOacdefhilorsucy;PYcpyute;;italDifferentialD;leys;aeioron;dilrc;nint;ot;dnilla;terDot;i;rcleDMPTot;inus;lus;imes;ocskwiseContourIntegral;eCurlyDQoubleQuote;uote;lnpuon;e;gitruent;nt;ourIntegral;fr;oduct;nterClockwiseContourIntegral;oss;cr;p;Cap;DJSZacefios;otrahd;cy;cy;cy;grsger;r;hv;ayron;;l;ta;r;afcmriticalADGTcute;o;bleAcute;rave;ilde;ond;ferentialD;\0\0\0\0f;;DEot;qual;bleCDLRUVontourIntegrao\0\0nArrow;eoftARTrrow;ightArrow;engLReftARrrow;ightArrow;ightArrow;ightATrrow;ee;p\0\0rrow;ownArrow;erticalBar;nABLRTarrow;BUar;pArrow;reve;eft\0\0ightVector;eeVector;ector;Bar;ight\0eeVector;ector;Bar;ee;Arrow;ctr;rok;NTacdfglmopqstuxG;Hcuteaiyron;rc;ot;r;raveement;apcr;ty\0\0mallSquare;erySmallSquare;gpon;f;silon;uail;Tilde;librium;cir;m;a;mlipsts;onentialE;cfiosy;r;lled\0\0mallSquare;erySmallSquare;\0\0\0f;All;riertrf;cJTabcdfgorstcy;>mma;d;reve;eiydil;rc;;ot;r;;pf;eaterEFGLSTqual;Less;ullEqual;reater;ess;lantEqual;ilde;cr;;AacfiosuRDcy;ctek;;irc;r;lbertSpace;\0f;izontalLine;ctrok;mpownHumqual;EJOacdfgmnostucy;lig;cy;cuteiyrc;ot;r;rave;apcgr;inaryI;lie\0;egrral;section;isibleCTomma;imes;gpton;f;a;cr;ilde;\0cy;lcfosuiyrc;;r;pf;\0r;rcy;kcy;HJacfoscy;cy;ppa;eydil;;r;pf;cr;JTaceflmostcy;<cmnprute;bda;g;lacetrf;r;aeyron;dil;;fstACDFRTUVarnrgleBracket;row;BRar;ightArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ightAVrrow;ector;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;ightsEFGLSTqualGreater;ullEqual;reater;ess;lantEqual;ilde;r;;eftarrow;idot;npwgLRlreftARrrow;ightArrow;ightArrow;eftarightightf;erLReftArrow;ightArrow;cht;rok;;acefiosup;y;dliumSpace;lintrf;r;nusPlus;pf;c;Jacefostucy;cute;aeyron;dil;;gswativeMTVediumSpace;hicneryThitedGLreaterGreateessLesLine;r;Bnptreak;BreakingSpace;f;;CDEGHLNPRSTVoungruent;pCap;oubleVerticalBar;lqxement;ual;Tilde;ists;reater;EFGLSTqual;ullEqual;reater;ess;lantEqual;ilde;umpownHump;qual;efstTriangle;BEar;qual;s;EGLSTqual;reater;ess;lantEqual;ilde;estedGLreaterGreater;essLess;recedes;ESqual;lantEqual;eiverseElement;ghtTriangle;BEar;qual;quuareSubpset;Equal;erset;Equal;bcpset;Equal;ceeds;ESTqual;lantEqual;ilde;erset;Equal;ilde;EFTqual;ullEqual;ilde;erticalBar;cr;ilde;Eacdfgmoprstuvlig;cuteiyrc;blac;r;raveaeicr;ga;cron;pf;enCurlyDQoubleQuote;uote;;clr;ashidees;mlerBParr;acek;et;arenthesis;acfhilorsrtialD;y;r;i;;usMinus;ipncareplanf;;eiocedes;ESTqual;lantEqual;ilde;me;dpuct;ortion;al;cir;;UfosOT"r;pf;cr;BEacefhiorsuarr;Gcnrute;g;r;tl;aeyron;dil;;;verseEUlqement;uilibrium;pEquilibrium;ro;ghtACDFTUVanrgleBracket;row;BLar;eftArrow;eiling;o\0bleBracket;n\0eeVector;ector;Bar;loor;ere;AVrrow;ector;iangle;BEar;qual;pDTVownVector;eeVector;ector;Bar;ector;Bar;puf;ndImplies;ightarrow;chr;;leDelayed;HOacfhimoqstuCcHcy;y;FTcy;cute;;aeiyron;dil;rc;;r;ortDLRUownArroweftArrowightArrowpArrow;gma;allCircle;pf;\0\0t;are;ISUntersection;ubpset;Equal;erset;Equal;nion;cr;ar;bcmp;set;Equal;cheeds;ESTqual;lantEqual;ilde;Th;;esrset;Equal;etHRSacfhiorsORNADE;Hccy;y;bu;;aeyron;dil;;r;ei\0efore;a;cnkSpace;Space;lde;EFTqual;ullEqual;ilde;pf;ipleDot;ctr;rok;\0\0\0\0\0\0\0cruter;ocir;r\0y;ve;iyrc;blac;r;raveacr;dierBParr;acek;et;arenthesis;on;Plus;gpon;f;ADETadpsrrow;BDar;ownArrow;ownArrow;quilibrium;ee;Arrow;ownerLReftArrow;ightArrow;i;lon;ing;cr;ilde;mlDbcdefosvash;ar;y;ash;l;er;btyar;;icalBLSTar;ine;eparator;ilde;ThinSpace;r;pf;cr;dash;cefosirc;dge;r;pf;cr;fiosr;;pf;cr;AIUacfosucy;cy;cy;cuteiyrc;;r;pf;cr;ml;Hacdefoscy;cute;ayron;;ot;\0oWidta;r;pf;cr;\0\0\0\0\0\0\0cutereve;;Ediuy;;rcte;lig;r;raveepfpsym;ha;apcclr;g;\0\0;adsvnd;;lope;;;elmrsz;esd;a;;;;;;;;t;vb;d;pth;arr;gpon;f;;Eaeiop;cir;;d;s;rox;eingctyr;;mp;eildemlcioninnt;Nabcdefiklnoprsuot;crkcepsong;psilon;rime;im;eq;ee;ed;gerk;tbrk;oy;quo;cmprtaus;eptyv;snoahw;;een;r;gcostuvwaiurc;pdptot;lus;imes;\0\0cup;ar;riangleduown;p;plus;earow;akocnklstozenge;riangle;dlrown;eft;ight;k;\0\0;;4;ck;eo;q=uiv;t;ptwxf;;tomtie;DHUVbdhmptuvLRlr;;;;;DUdu;;;;LRlr;;;;;HLRhlr;;;;;;ox;LRlr;;;;;DUdu;;;;inus;lus;imes;LRlr;;;;;HLRhlr;;;;;;evbarceior;mi;m;el;bh;sub;l;etp;Ee;;q\0\0\0\0\0\0\0\0\0\0cprute;;abcdsnd;rcup;aup;p;ot;;eot;aeiu\0s;on;dilrc;ps;sm;ot;dmnilptyv;t;err;ceiy;ck;mark;r;Ecefms;;elq;e\0\0rrowlreft;ight;RSacd;st;irc;ash;nint;id;cir;ubs;uit\0on;e;q\0\0a;t;;flemxente\0;dot;nfry;o;sr;aorr;ss;cur;bp;e;;e;dot;delprvwarrlr;;\0\0r;c;arr;p;;bcdosrcap;aup;p;ot;r;;alrvrr;m;yevwq\0\0reuee;edge;enearrowlreftightecioninnt;lcty;AHabcdefhijlorstuwzrar;glrsger;eth;h;varow;aayron;;;aogrr;tseq;glmta;ptyv;irsht;;arlraegsvm;osnd;suit;amma;in;;iode;ontimes;ncy;c\0\0rn;op;lptuwlar;f;;empsq;dot;inus;lus;quare;blebarwedgnadhownarrowarpoonlrefighkaro\0\0rn;op;cotry;;l;rok;drot;i;fahraangle;ciy;grarr;DacdefglmnopqrstuxDoocsuteter;aioyron;r;clon;;ot;Drot;;;rsave;dot;;ilsnters;;;dot;apscr;ty;svetp1;;;gs;p;gpon;f;alsr;sl;us;i;lvon;csuviorc\0\0antgltressaeils;st;v;DD;parsl;Daot;rr;cdir;oah;mrlo;cipl;seoctationential\0\0\0\0\0\0\0llingdotsey;male;ilrlig;\0\0g;ig;;lig;lig;fjaltt;ig;ns;of;\0f;ak;v;artint;aocs\0\0;;;;\0;;\0\0;;5;\0;;8;l;wn;cr;Eabcdefgijlnorstv;l;cmpute;ma;d;reve;iyrc;;ot;;lqs;qslan;cdlc;ot;o;l;;es;r;;gmel;cy;;Eaj;;;Eaes;p;prox;q;qim;pf;cir;m;el;;>;cdlqrci;r;ot;Par;uest;adels\0pror;qlqlesienrtneqq;Aabcefkosyrilmrrsfildrcy;;cwir;;ar;irc;alrrts;uitlip;con;r;sewarow;arow;amoprrr;tht;klreftarrow;ightarrow;f;bar;cltr;asrok;bpull;hen\0\0\0\0\0\0cute;iyrc;cxy;clfr;rave;inoinnt;t;fin;ta;lig;aopcgtr;elpinarh;f;ed;;cfotare;in;tie;do;celpal;grerarhk;rod;cgpty;on;f;a;uestcir;n;Edsv;ot;;v;;ilde;\0cy;lcfmosuiyrc;;r;ath;pf;\0r;rcy;kcy;acfghjosppa;v;eydil;;r;reen;cy;cy;pf;cr;ABEHabcdefghjlmnoprstuvartrail;arr;;g;ar;\0\0\0\0\0\0\0\0\0ute;mptyv;rabda;g;dl;;uor;bfhlpst;fs;s;p;l;im;l;;aeil;;s;abrrr;rk;akcek;;es;ldu;;aeuyron;diil;;cqrsa;uo;rduhar;shar;h;;fgqstahlrtrrow;taarpoonduownpeftarrows;ightahsrrow;sarpoonquigarrohreetimes;;qslan;cdgsc;ot;o;r;;es;adegspproot;qgqgtiilrsht;;;E;rdu;l;lk;cy;;achtrorneard;ri;iodot;ust;acheEaes;p;prox;q;qim;abnoptwznrg;r;rglmreftarightapsto;ightparrowlrefight;aflr;;us;imes;st;;efngear;lt;achmtrornear;d;;ri;achiqtquo;r;m;eg;;buo;r;rok;<;cdhilqrci;r;remes;arr;uest;Piar;;efrdushar;har;enrtneqq;DacdefhilnopsuDot;clprret;;ese;sto;dluowefker;oymma;;ash;asuredangler;o;cdnro;acdsir;otus;bd;u;p;dpels;f;ctr;pos;lmtimap;GLRVabcdefghijlmoprstuvwgt;;veltftarrrow;ightarrow;;;vightarrow;Ddash;ash;bcnptlaute;g;;Eiop;d;s;rour;al;s\0pmp;eaeouy\0;on;dil;ng;dot;p;;ash;;Aadqsxrr;rhrk;;oot;uieiar;ist;sr;Eest;qs;qslani;rAaprrr;ar;;sv;d;cy;AEadestr;rr;r;;fqstarrroightarro;qslan;si;ri;eiptf;;inn;Edv;ot;;;i;v;;aorr;astllel;;lint;;ceu;c;eAaitrrr;cw;;ghtarrowri;echimpqu;ceru;ort\0\0arm;e;qsubpbcp;Ees;et;eq;qc;e;Ees;et;eq;qgilrldeianglelreft;eight;e;m;esro;p;DHadgilrsash;arr;p;ash;et;;>nfin;Aetrr;;;r<ie;Atrr;rie;im;Aanrr;rhrk;;oear;\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0csuteiyr;c;abioslac;v;old;lig;crir;;\0\0\0n;ave;bmar;acitrirr;oss;n;aeicr;ga;cdnron;;pf;aelr;rp;;adiosvr;efmr;ofgof;r;lope;;cloashl;idees;as;mlbar;\0\0\0\0\0\0\0\0\0r;ast;lle\0\0m;;y;rcimptnt;od;il;enk;r;imo;v;mane;;tvchfork;aunckk;h;s;abcdemstcir;ir;ou;;nim;wo;ipuntint;f;nd;Eaceinosu;p;u;c;acenspprourlyeaespprox;qq;im;ime;sEasdfpalslar;ine;urf;;trel;cir;;ncsp;fiopsur;pf;rime;cr;aeoteirnionnt;st;eABHabcdefhilmnoprstuxartrail;arar;cdenqrteu;te;imptyv;g;del;;uor;abcfhlpstwp;;fs;;s;l;im;l;;aiil;o;nalabrrrk;akcek;;es;ldu;;aeuyron;diil;;clqsa;dhar;uo;rh;acgl;ipsnart;ilrsht;;aordu;l;;v;gnshtahlrstrrow;taarpoonduowpeftahrrowarpoonightarrows;quigarrohreetimes;g;ingdotseahmra;oust;achemid;abptnrg;r;raflr;;us;imes;apr;gt;olint;arachqquo;r;buo;rhirremes;i;efltri;luhar;;\0\0\0\0\0\0\0cute;qu;Eaceinpsy;\0;on;u;dil;rc;Eas;p;im;olint;i;ot;be;Aacmstxrr;rhr;oti;war;minnut;r;oacoyrp;hycy;;rt\0\0iaragmma;fv;;deglnprot;;q;E;;E;e;lus;arr;araeitlslsetmhp;parsl;dle;;e;s;flptcy;;b;ar;f;adres;uitcsuaup;s;p;s;ubp;eset;e;eset;e;afrarcemtr;tmiararr;fanighteppsilohsbcmnp;Edemnprs;ot;;dot;ult;Ee;;lus;arr;eiut;enq;qeq;qm;bp;;c;acenspprourlyeaespproqg;123;Edehlmnps;ost;ub;;dot;soul;b;arr;ult;Ee;;lus;eiut;enq;qeq;qm;bp;;Aanrr;rhr;owar;lig\0\0\0\0\0\0\0\0\0\0\0\0get;;raeyron;dil;;lrec;r;eiko\0e4fa;svym;cnkaspproimsasrnes;bd;ar;;eps;bcfot;ir;;ork;rime;aipdadempstngle;dlqrowneft;e;ight;eot;inus;lus;b;ime;ezium;chtry;;cy;rok;ioxheadlreftarroightarrowAHabcdfghlmoprstuwrar;cruter\0y;ve;iyrc;abhrlac;airsht;;raverlrlk;ct\0\0rn;erop;ri;alcr;gpon;f;adhlsuownarpoonlrefighi;hlonparrows;cit\0\0rn;erop;ng;ri;cr;dirot;lde;i;famrlangle;ABDacdeflnoprszrar;v;asnrgrt;eknprstappothinhirop;hiugmbpsetneq;q;setneq;q;hretianglelreftighty;ashelr;bear;q;lip;btar;trsubppf;rotrcur;bpnEenEeigzag;cefoprsirc;dibgar;e;q;erp;r;pf;;eatcr;\0\0\0\0\0\0\0trr;Aarr;Aarrais;dptfl;imAarrcqr;ptracefiosucuyte;iyrc;;nr;cy;pf;cr;cmy;lacdefhioswcute;ayron;;ot;ettra;r;cy;grarr;pf;cr;jn;j;'.split("").map(e=>e.charCodeAt(0))),s0e=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function l0e(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=s0e.get(e))!==null&&t!==void 0?t:e}var Ku;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(Ku||(Ku={}));const u0e=32;var wb;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(wb||(wb={}));function x3(e){return e>=Ku.ZERO&&e<=Ku.NINE}function c0e(e){return e>=Ku.UPPER_A&&e<=Ku.UPPER_F||e>=Ku.LOWER_A&&e<=Ku.LOWER_F}function d0e(e){return e>=Ku.UPPER_A&&e<=Ku.UPPER_Z||e>=Ku.LOWER_A&&e<=Ku.LOWER_Z||x3(e)}function f0e(e){return e===Ku.EQUALS||d0e(e)}var Hu;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Hu||(Hu={}));var P0;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(P0||(P0={}));class h0e{constructor(t,n,r){this.decodeTree=t,this.emitCodePoint=n,this.errors=r,this.state=Hu.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=P0.Strict}startEntity(t){this.decodeMode=t,this.state=Hu.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Hu.EntityStart:return t.charCodeAt(n)===Ku.NUM?(this.state=Hu.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Hu.NamedEntity,this.stateNamedEntity(t,n));case Hu.NumericStart:return this.stateNumericStart(t,n);case Hu.NumericDecimal:return this.stateNumericDecimal(t,n);case Hu.NumericHex:return this.stateNumericHex(t,n);case Hu.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|u0e)===Ku.LOWER_X?(this.state=Hu.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Hu.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,r,a){if(n!==r){const l=r-n;this.result=this.result*Math.pow(a,l)+Number.parseInt(t.substr(n,l),a),this.consumed+=l}}stateNumericHex(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(x3(a)||c0e(a))n+=1;else return this.addToNumericResult(t,r,n,16),this.emitNumericEntity(a,3)}return this.addToNumericResult(t,r,n,16),-1}stateNumericDecimal(t,n){const r=n;for(;n<t.length;){const a=t.charCodeAt(n);if(x3(a))n+=1;else return this.addToNumericResult(t,r,n,10),this.emitNumericEntity(a,2)}return this.addToNumericResult(t,r,n,10),-1}emitNumericEntity(t,n){var r;if(this.consumed<=n)return(r=this.errors)===null||r===void 0||r.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===Ku.SEMI)this.consumed+=1;else if(this.decodeMode===P0.Strict)return 0;return this.emitCodePoint(l0e(this.result),this.consumed),this.errors&&(t!==Ku.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:r}=this;let a=r[this.treeIndex],l=(a&wb.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const u=t.charCodeAt(n);if(this.treeIndex=p0e(r,a,this.treeIndex+Math.max(1,l),u),this.treeIndex<0)return this.result===0||this.decodeMode===P0.Attribute&&(l===0||f0e(u))?0:this.emitNotTerminatedNamedEntity();if(a=r[this.treeIndex],l=(a&wb.VALUE_LENGTH)>>14,l!==0){if(u===Ku.SEMI)return this.emitNamedEntityData(this.treeIndex,l,this.consumed+this.excess);this.decodeMode!==P0.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:r}=this,a=(r[n]&wb.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,a,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,r){const{decodeTree:a}=this;return this.emitCodePoint(n===1?a[t]&~wb.VALUE_LENGTH:a[t+1],r),n===3&&this.emitCodePoint(a[t+2],r),r}end(){var t;switch(this.state){case Hu.NamedEntity:return this.result!==0&&(this.decodeMode!==P0.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Hu.NumericDecimal:return this.emitNumericEntity(0,2);case Hu.NumericHex:return this.emitNumericEntity(0,3);case Hu.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Hu.EntityStart:return 0}}}function p0e(e,t,n,r){const a=(t&wb.BRANCH_LENGTH)>>7,l=t&wb.JUMP_TABLE;if(a===0)return l!==0&&r===l?n:-1;if(l){const m=r-l;return m<0||m>=a?-1:e[n+m]-1}let u=n,i=u+a-1;for(;u<=i;){const m=u+i>>>1,b=e[m];if(b<r)u=m+1;else if(b>r)i=m-1;else return e[m+a]}return-1}var er;(function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/"})(er||(er={}));var l1;(function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size"})(l1||(l1={}));var jp;(function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks"})(jp||(jp={}));var cn;(function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SEARCH="search",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp"})(cn||(cn={}));var le;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SEARCH=94]="SEARCH",e[e.SECTION=95]="SECTION",e[e.SELECT=96]="SELECT",e[e.SOURCE=97]="SOURCE",e[e.SMALL=98]="SMALL",e[e.SPAN=99]="SPAN",e[e.STRIKE=100]="STRIKE",e[e.STRONG=101]="STRONG",e[e.STYLE=102]="STYLE",e[e.SUB=103]="SUB",e[e.SUMMARY=104]="SUMMARY",e[e.SUP=105]="SUP",e[e.TABLE=106]="TABLE",e[e.TBODY=107]="TBODY",e[e.TEMPLATE=108]="TEMPLATE",e[e.TEXTAREA=109]="TEXTAREA",e[e.TFOOT=110]="TFOOT",e[e.TD=111]="TD",e[e.TH=112]="TH",e[e.THEAD=113]="THEAD",e[e.TITLE=114]="TITLE",e[e.TR=115]="TR",e[e.TRACK=116]="TRACK",e[e.TT=117]="TT",e[e.U=118]="U",e[e.UL=119]="UL",e[e.SVG=120]="SVG",e[e.VAR=121]="VAR",e[e.WBR=122]="WBR",e[e.XMP=123]="XMP"})(le||(le={}));const m0e=new Map([[cn.A,le.A],[cn.ADDRESS,le.ADDRESS],[cn.ANNOTATION_XML,le.ANNOTATION_XML],[cn.APPLET,le.APPLET],[cn.AREA,le.AREA],[cn.ARTICLE,le.ARTICLE],[cn.ASIDE,le.ASIDE],[cn.B,le.B],[cn.BASE,le.BASE],[cn.BASEFONT,le.BASEFONT],[cn.BGSOUND,le.BGSOUND],[cn.BIG,le.BIG],[cn.BLOCKQUOTE,le.BLOCKQUOTE],[cn.BODY,le.BODY],[cn.BR,le.BR],[cn.BUTTON,le.BUTTON],[cn.CAPTION,le.CAPTION],[cn.CENTER,le.CENTER],[cn.CODE,le.CODE],[cn.COL,le.COL],[cn.COLGROUP,le.COLGROUP],[cn.DD,le.DD],[cn.DESC,le.DESC],[cn.DETAILS,le.DETAILS],[cn.DIALOG,le.DIALOG],[cn.DIR,le.DIR],[cn.DIV,le.DIV],[cn.DL,le.DL],[cn.DT,le.DT],[cn.EM,le.EM],[cn.EMBED,le.EMBED],[cn.FIELDSET,le.FIELDSET],[cn.FIGCAPTION,le.FIGCAPTION],[cn.FIGURE,le.FIGURE],[cn.FONT,le.FONT],[cn.FOOTER,le.FOOTER],[cn.FOREIGN_OBJECT,le.FOREIGN_OBJECT],[cn.FORM,le.FORM],[cn.FRAME,le.FRAME],[cn.FRAMESET,le.FRAMESET],[cn.H1,le.H1],[cn.H2,le.H2],[cn.H3,le.H3],[cn.H4,le.H4],[cn.H5,le.H5],[cn.H6,le.H6],[cn.HEAD,le.HEAD],[cn.HEADER,le.HEADER],[cn.HGROUP,le.HGROUP],[cn.HR,le.HR],[cn.HTML,le.HTML],[cn.I,le.I],[cn.IMG,le.IMG],[cn.IMAGE,le.IMAGE],[cn.INPUT,le.INPUT],[cn.IFRAME,le.IFRAME],[cn.KEYGEN,le.KEYGEN],[cn.LABEL,le.LABEL],[cn.LI,le.LI],[cn.LINK,le.LINK],[cn.LISTING,le.LISTING],[cn.MAIN,le.MAIN],[cn.MALIGNMARK,le.MALIGNMARK],[cn.MARQUEE,le.MARQUEE],[cn.MATH,le.MATH],[cn.MENU,le.MENU],[cn.META,le.META],[cn.MGLYPH,le.MGLYPH],[cn.MI,le.MI],[cn.MO,le.MO],[cn.MN,le.MN],[cn.MS,le.MS],[cn.MTEXT,le.MTEXT],[cn.NAV,le.NAV],[cn.NOBR,le.NOBR],[cn.NOFRAMES,le.NOFRAMES],[cn.NOEMBED,le.NOEMBED],[cn.NOSCRIPT,le.NOSCRIPT],[cn.OBJECT,le.OBJECT],[cn.OL,le.OL],[cn.OPTGROUP,le.OPTGROUP],[cn.OPTION,le.OPTION],[cn.P,le.P],[cn.PARAM,le.PARAM],[cn.PLAINTEXT,le.PLAINTEXT],[cn.PRE,le.PRE],[cn.RB,le.RB],[cn.RP,le.RP],[cn.RT,le.RT],[cn.RTC,le.RTC],[cn.RUBY,le.RUBY],[cn.S,le.S],[cn.SCRIPT,le.SCRIPT],[cn.SEARCH,le.SEARCH],[cn.SECTION,le.SECTION],[cn.SELECT,le.SELECT],[cn.SOURCE,le.SOURCE],[cn.SMALL,le.SMALL],[cn.SPAN,le.SPAN],[cn.STRIKE,le.STRIKE],[cn.STRONG,le.STRONG],[cn.STYLE,le.STYLE],[cn.SUB,le.SUB],[cn.SUMMARY,le.SUMMARY],[cn.SUP,le.SUP],[cn.TABLE,le.TABLE],[cn.TBODY,le.TBODY],[cn.TEMPLATE,le.TEMPLATE],[cn.TEXTAREA,le.TEXTAREA],[cn.TFOOT,le.TFOOT],[cn.TD,le.TD],[cn.TH,le.TH],[cn.THEAD,le.THEAD],[cn.TITLE,le.TITLE],[cn.TR,le.TR],[cn.TRACK,le.TRACK],[cn.TT,le.TT],[cn.U,le.U],[cn.UL,le.UL],[cn.SVG,le.SVG],[cn.VAR,le.VAR],[cn.WBR,le.WBR],[cn.XMP,le.XMP]]);function zI(e){var t;return(t=m0e.get(e))!==null&&t!==void 0?t:le.UNKNOWN}const ir=le,g0e={[er.HTML]:new Set([ir.ADDRESS,ir.APPLET,ir.AREA,ir.ARTICLE,ir.ASIDE,ir.BASE,ir.BASEFONT,ir.BGSOUND,ir.BLOCKQUOTE,ir.BODY,ir.BR,ir.BUTTON,ir.CAPTION,ir.CENTER,ir.COL,ir.COLGROUP,ir.DD,ir.DETAILS,ir.DIR,ir.DIV,ir.DL,ir.DT,ir.EMBED,ir.FIELDSET,ir.FIGCAPTION,ir.FIGURE,ir.FOOTER,ir.FORM,ir.FRAME,ir.FRAMESET,ir.H1,ir.H2,ir.H3,ir.H4,ir.H5,ir.H6,ir.HEAD,ir.HEADER,ir.HGROUP,ir.HR,ir.HTML,ir.IFRAME,ir.IMG,ir.INPUT,ir.LI,ir.LINK,ir.LISTING,ir.MAIN,ir.MARQUEE,ir.MENU,ir.META,ir.NAV,ir.NOEMBED,ir.NOFRAMES,ir.NOSCRIPT,ir.OBJECT,ir.OL,ir.P,ir.PARAM,ir.PLAINTEXT,ir.PRE,ir.SCRIPT,ir.SECTION,ir.SELECT,ir.SOURCE,ir.STYLE,ir.SUMMARY,ir.TABLE,ir.TBODY,ir.TD,ir.TEMPLATE,ir.TEXTAREA,ir.TFOOT,ir.TH,ir.THEAD,ir.TITLE,ir.TR,ir.TRACK,ir.UL,ir.WBR,ir.XMP]),[er.MATHML]:new Set([ir.MI,ir.MO,ir.MN,ir.MS,ir.MTEXT,ir.ANNOTATION_XML]),[er.SVG]:new Set([ir.TITLE,ir.FOREIGN_OBJECT,ir.DESC]),[er.XLINK]:new Set,[er.XML]:new Set,[er.XMLNS]:new Set},E3=new Set([ir.H1,ir.H2,ir.H3,ir.H4,ir.H5,ir.H6]);cn.STYLE,cn.SCRIPT,cn.XMP,cn.IFRAME,cn.NOEMBED,cn.NOFRAMES,cn.PLAINTEXT;var wt;(function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=72]="AMBIGUOUS_AMPERSAND"})(wt||(wt={}));const Gf={DATA:wt.DATA,RCDATA:wt.RCDATA,RAWTEXT:wt.RAWTEXT,SCRIPT_DATA:wt.SCRIPT_DATA,PLAINTEXT:wt.PLAINTEXT,CDATA_SECTION:wt.CDATA_SECTION};function y0e(e){return e>=ht.DIGIT_0&&e<=ht.DIGIT_9}function I2(e){return e>=ht.LATIN_CAPITAL_A&&e<=ht.LATIN_CAPITAL_Z}function v0e(e){return e>=ht.LATIN_SMALL_A&&e<=ht.LATIN_SMALL_Z}function mb(e){return v0e(e)||I2(e)}function uj(e){return mb(e)||y0e(e)}function LC(e){return e+32}function aW(e){return e===ht.SPACE||e===ht.LINE_FEED||e===ht.TABULATION||e===ht.FORM_FEED}function cj(e){return aW(e)||e===ht.SOLIDUS||e===ht.GREATER_THAN_SIGN}function b0e(e){return e===ht.NULL?An.nullCharacterReference:e>1114111?An.characterReferenceOutsideUnicodeRange:eW(e)?An.surrogateCharacterReference:nW(e)?An.noncharacterCharacterReference:tW(e)||e===ht.CARRIAGE_RETURN?An.controlCharacterReference:null}class _0e{constructor(t,n){this.options=t,this.handler=n,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=wt.DATA,this.returnState=wt.DATA,this.entityStartPos=0,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new i0e(n),this.currentLocation=this.getCurrentLocation(-1),this.entityDecoder=new h0e(o0e,(r,a)=>{this.preprocessor.pos=this.entityStartPos+a-1,this._flushCodePointConsumedAsCharacterReference(r)},n.onParseError?{missingSemicolonAfterCharacterReference:()=>{this._err(An.missingSemicolonAfterCharacterReference,1)},absenceOfDigitsInNumericCharacterReference:r=>{this._err(An.absenceOfDigitsInNumericCharacterReference,this.entityStartPos-this.preprocessor.pos+r)},validateNumericCharacterReference:r=>{const a=b0e(r);a&&this._err(a,1)}}:void 0)}_err(t,n=0){var r,a;(a=(r=this.handler).onParseError)===null||a===void 0||a.call(r,this.preprocessor.getError(t,n))}getCurrentLocation(t){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-t,startOffset:this.preprocessor.offset-t,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const t=this._consume();this._ensureHibernation()||this._callState(t)}this.inLoop=!1}}pause(){this.paused=!0}resume(t){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,!this.inLoop&&(this._runParsingLoop(),this.paused||t?.())}write(t,n,r){this.active=!0,this.preprocessor.write(t,n),this._runParsingLoop(),this.paused||r?.()}insertHtmlAtCurrentPos(t){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(t),this._runParsingLoop()}_ensureHibernation(){return this.preprocessor.endOfChunkHit?(this.preprocessor.retreat(this.consumedAfterSnapshot),this.consumedAfterSnapshot=0,this.active=!1,!0):!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_advanceBy(t){this.consumedAfterSnapshot+=t;for(let n=0;n<t;n++)this.preprocessor.advance()}_consumeSequenceIfMatch(t,n){return this.preprocessor.startsWith(t,n)?(this._advanceBy(t.length-1),!0):!1}_createStartTagToken(){this.currentToken={type:Ni.START_TAG,tagName:"",tagID:le.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)}}_createEndTagToken(){this.currentToken={type:Ni.END_TAG,tagName:"",tagID:le.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)}}_createCommentToken(t){this.currentToken={type:Ni.COMMENT,data:"",location:this.getCurrentLocation(t)}}_createDoctypeToken(t){this.currentToken={type:Ni.DOCTYPE,name:t,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation}}_createCharacterToken(t,n){this.currentCharacterToken={type:t,chars:n,location:this.currentLocation}}_createAttr(t){this.currentAttr={name:t,value:""},this.currentLocation=this.getCurrentLocation(0)}_leaveAttrName(){var t,n;const r=this.currentToken;if(rW(r,this.currentAttr.name)===null){if(r.attrs.push(this.currentAttr),r.location&&this.currentLocation){const a=(t=(n=r.location).attrs)!==null&&t!==void 0?t:n.attrs=Object.create(null);a[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue()}}else this._err(An.duplicateAttribute)}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset)}prepareToken(t){this._emitCurrentCharacterToken(t.location),this.currentToken=null,t.location&&(t.location.endLine=this.preprocessor.line,t.location.endCol=this.preprocessor.col+1,t.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1)}emitCurrentTagToken(){const t=this.currentToken;this.prepareToken(t),t.tagID=zI(t.tagName),t.type===Ni.START_TAG?(this.lastStartTagName=t.tagName,this.handler.onStartTag(t)):(t.attrs.length>0&&this._err(An.endTagWithAttributes),t.selfClosing&&this._err(An.endTagWithTrailingSolidus),this.handler.onEndTag(t)),this.preprocessor.dropParsedChunk()}emitCurrentComment(t){this.prepareToken(t),this.handler.onComment(t),this.preprocessor.dropParsedChunk()}emitCurrentDoctype(t){this.prepareToken(t),this.handler.onDoctype(t),this.preprocessor.dropParsedChunk()}_emitCurrentCharacterToken(t){if(this.currentCharacterToken){switch(t&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=t.startLine,this.currentCharacterToken.location.endCol=t.startCol,this.currentCharacterToken.location.endOffset=t.startOffset),this.currentCharacterToken.type){case Ni.CHARACTER:{this.handler.onCharacter(this.currentCharacterToken);break}case Ni.NULL_CHARACTER:{this.handler.onNullCharacter(this.currentCharacterToken);break}case Ni.WHITESPACE_CHARACTER:{this.handler.onWhitespaceCharacter(this.currentCharacterToken);break}}this.currentCharacterToken=null}}_emitEOFToken(){const t=this.getCurrentLocation(0);t&&(t.endLine=t.startLine,t.endCol=t.startCol,t.endOffset=t.startOffset),this._emitCurrentCharacterToken(t),this.handler.onEof({type:Ni.EOF,location:t}),this.active=!1}_appendCharToCurrentCharacterToken(t,n){if(this.currentCharacterToken)if(this.currentCharacterToken.type===t){this.currentCharacterToken.chars+=n;return}else this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();this._createCharacterToken(t,n)}_emitCodePoint(t){const n=aW(t)?Ni.WHITESPACE_CHARACTER:t===ht.NULL?Ni.NULL_CHARACTER:Ni.CHARACTER;this._appendCharToCurrentCharacterToken(n,String.fromCodePoint(t))}_emitChars(t){this._appendCharToCurrentCharacterToken(Ni.CHARACTER,t)}_startCharacterReference(){this.returnState=this.state,this.state=wt.CHARACTER_REFERENCE,this.entityStartPos=this.preprocessor.pos,this.entityDecoder.startEntity(this._isCharacterReferenceInAttribute()?P0.Attribute:P0.Legacy)}_isCharacterReferenceInAttribute(){return this.returnState===wt.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===wt.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===wt.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(t){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(t):this._emitCodePoint(t)}_callState(t){switch(this.state){case wt.DATA:{this._stateData(t);break}case wt.RCDATA:{this._stateRcdata(t);break}case wt.RAWTEXT:{this._stateRawtext(t);break}case wt.SCRIPT_DATA:{this._stateScriptData(t);break}case wt.PLAINTEXT:{this._statePlaintext(t);break}case wt.TAG_OPEN:{this._stateTagOpen(t);break}case wt.END_TAG_OPEN:{this._stateEndTagOpen(t);break}case wt.TAG_NAME:{this._stateTagName(t);break}case wt.RCDATA_LESS_THAN_SIGN:{this._stateRcdataLessThanSign(t);break}case wt.RCDATA_END_TAG_OPEN:{this._stateRcdataEndTagOpen(t);break}case wt.RCDATA_END_TAG_NAME:{this._stateRcdataEndTagName(t);break}case wt.RAWTEXT_LESS_THAN_SIGN:{this._stateRawtextLessThanSign(t);break}case wt.RAWTEXT_END_TAG_OPEN:{this._stateRawtextEndTagOpen(t);break}case wt.RAWTEXT_END_TAG_NAME:{this._stateRawtextEndTagName(t);break}case wt.SCRIPT_DATA_LESS_THAN_SIGN:{this._stateScriptDataLessThanSign(t);break}case wt.SCRIPT_DATA_END_TAG_OPEN:{this._stateScriptDataEndTagOpen(t);break}case wt.SCRIPT_DATA_END_TAG_NAME:{this._stateScriptDataEndTagName(t);break}case wt.SCRIPT_DATA_ESCAPE_START:{this._stateScriptDataEscapeStart(t);break}case wt.SCRIPT_DATA_ESCAPE_START_DASH:{this._stateScriptDataEscapeStartDash(t);break}case wt.SCRIPT_DATA_ESCAPED:{this._stateScriptDataEscaped(t);break}case wt.SCRIPT_DATA_ESCAPED_DASH:{this._stateScriptDataEscapedDash(t);break}case wt.SCRIPT_DATA_ESCAPED_DASH_DASH:{this._stateScriptDataEscapedDashDash(t);break}case wt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataEscapedLessThanSign(t);break}case wt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:{this._stateScriptDataEscapedEndTagOpen(t);break}case wt.SCRIPT_DATA_ESCAPED_END_TAG_NAME:{this._stateScriptDataEscapedEndTagName(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPE_START:{this._stateScriptDataDoubleEscapeStart(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPED:{this._stateScriptDataDoubleEscaped(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:{this._stateScriptDataDoubleEscapedDash(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:{this._stateScriptDataDoubleEscapedDashDash(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:{this._stateScriptDataDoubleEscapedLessThanSign(t);break}case wt.SCRIPT_DATA_DOUBLE_ESCAPE_END:{this._stateScriptDataDoubleEscapeEnd(t);break}case wt.BEFORE_ATTRIBUTE_NAME:{this._stateBeforeAttributeName(t);break}case wt.ATTRIBUTE_NAME:{this._stateAttributeName(t);break}case wt.AFTER_ATTRIBUTE_NAME:{this._stateAfterAttributeName(t);break}case wt.BEFORE_ATTRIBUTE_VALUE:{this._stateBeforeAttributeValue(t);break}case wt.ATTRIBUTE_VALUE_DOUBLE_QUOTED:{this._stateAttributeValueDoubleQuoted(t);break}case wt.ATTRIBUTE_VALUE_SINGLE_QUOTED:{this._stateAttributeValueSingleQuoted(t);break}case wt.ATTRIBUTE_VALUE_UNQUOTED:{this._stateAttributeValueUnquoted(t);break}case wt.AFTER_ATTRIBUTE_VALUE_QUOTED:{this._stateAfterAttributeValueQuoted(t);break}case wt.SELF_CLOSING_START_TAG:{this._stateSelfClosingStartTag(t);break}case wt.BOGUS_COMMENT:{this._stateBogusComment(t);break}case wt.MARKUP_DECLARATION_OPEN:{this._stateMarkupDeclarationOpen(t);break}case wt.COMMENT_START:{this._stateCommentStart(t);break}case wt.COMMENT_START_DASH:{this._stateCommentStartDash(t);break}case wt.COMMENT:{this._stateComment(t);break}case wt.COMMENT_LESS_THAN_SIGN:{this._stateCommentLessThanSign(t);break}case wt.COMMENT_LESS_THAN_SIGN_BANG:{this._stateCommentLessThanSignBang(t);break}case wt.COMMENT_LESS_THAN_SIGN_BANG_DASH:{this._stateCommentLessThanSignBangDash(t);break}case wt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:{this._stateCommentLessThanSignBangDashDash(t);break}case wt.COMMENT_END_DASH:{this._stateCommentEndDash(t);break}case wt.COMMENT_END:{this._stateCommentEnd(t);break}case wt.COMMENT_END_BANG:{this._stateCommentEndBang(t);break}case wt.DOCTYPE:{this._stateDoctype(t);break}case wt.BEFORE_DOCTYPE_NAME:{this._stateBeforeDoctypeName(t);break}case wt.DOCTYPE_NAME:{this._stateDoctypeName(t);break}case wt.AFTER_DOCTYPE_NAME:{this._stateAfterDoctypeName(t);break}case wt.AFTER_DOCTYPE_PUBLIC_KEYWORD:{this._stateAfterDoctypePublicKeyword(t);break}case wt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateBeforeDoctypePublicIdentifier(t);break}case wt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypePublicIdentifierDoubleQuoted(t);break}case wt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypePublicIdentifierSingleQuoted(t);break}case wt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:{this._stateAfterDoctypePublicIdentifier(t);break}case wt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:{this._stateBetweenDoctypePublicAndSystemIdentifiers(t);break}case wt.AFTER_DOCTYPE_SYSTEM_KEYWORD:{this._stateAfterDoctypeSystemKeyword(t);break}case wt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateBeforeDoctypeSystemIdentifier(t);break}case wt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:{this._stateDoctypeSystemIdentifierDoubleQuoted(t);break}case wt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:{this._stateDoctypeSystemIdentifierSingleQuoted(t);break}case wt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:{this._stateAfterDoctypeSystemIdentifier(t);break}case wt.BOGUS_DOCTYPE:{this._stateBogusDoctype(t);break}case wt.CDATA_SECTION:{this._stateCdataSection(t);break}case wt.CDATA_SECTION_BRACKET:{this._stateCdataSectionBracket(t);break}case wt.CDATA_SECTION_END:{this._stateCdataSectionEnd(t);break}case wt.CHARACTER_REFERENCE:{this._stateCharacterReference();break}case wt.AMBIGUOUS_AMPERSAND:{this._stateAmbiguousAmpersand(t);break}default:throw new Error("Unknown state")}}_stateData(t){switch(t){case ht.LESS_THAN_SIGN:{this.state=wt.TAG_OPEN;break}case ht.AMPERSAND:{this._startCharacterReference();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitCodePoint(t);break}case ht.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRcdata(t){switch(t){case ht.AMPERSAND:{this._startCharacterReference();break}case ht.LESS_THAN_SIGN:{this.state=wt.RCDATA_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateRawtext(t){switch(t){case ht.LESS_THAN_SIGN:{this.state=wt.RAWTEXT_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptData(t){switch(t){case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_statePlaintext(t){switch(t){case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateTagOpen(t){if(mb(t))this._createStartTagToken(),this.state=wt.TAG_NAME,this._stateTagName(t);else switch(t){case ht.EXCLAMATION_MARK:{this.state=wt.MARKUP_DECLARATION_OPEN;break}case ht.SOLIDUS:{this.state=wt.END_TAG_OPEN;break}case ht.QUESTION_MARK:{this._err(An.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=wt.BOGUS_COMMENT,this._stateBogusComment(t);break}case ht.EOF:{this._err(An.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break}default:this._err(An.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=wt.DATA,this._stateData(t)}}_stateEndTagOpen(t){if(mb(t))this._createEndTagToken(),this.state=wt.TAG_NAME,this._stateTagName(t);else switch(t){case ht.GREATER_THAN_SIGN:{this._err(An.missingEndTagName),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break}default:this._err(An.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=wt.BOGUS_COMMENT,this._stateBogusComment(t)}}_stateTagName(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.BEFORE_ATTRIBUTE_NAME;break}case ht.SOLIDUS:{this.state=wt.SELF_CLOSING_START_TAG;break}case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentTagToken();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.tagName+=As;break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:n.tagName+=String.fromCodePoint(I2(t)?LC(t):t)}}_stateRcdataLessThanSign(t){t===ht.SOLIDUS?this.state=wt.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=wt.RCDATA,this._stateRcdata(t))}_stateRcdataEndTagOpen(t){mb(t)?(this.state=wt.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(t)):(this._emitChars("</"),this.state=wt.RCDATA,this._stateRcdata(t))}handleSpecialEndTag(t){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return!this._ensureHibernation();this._createEndTagToken();const n=this.currentToken;switch(n.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=wt.BEFORE_ATTRIBUTE_NAME,!1;case ht.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=wt.SELF_CLOSING_START_TAG,!1;case ht.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=wt.DATA,!1;default:return!this._ensureHibernation()}}_stateRcdataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=wt.RCDATA,this._stateRcdata(t))}_stateRawtextLessThanSign(t){t===ht.SOLIDUS?this.state=wt.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=wt.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagOpen(t){mb(t)?(this.state=wt.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(t)):(this._emitChars("</"),this.state=wt.RAWTEXT,this._stateRawtext(t))}_stateRawtextEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=wt.RAWTEXT,this._stateRawtext(t))}_stateScriptDataLessThanSign(t){switch(t){case ht.SOLIDUS:{this.state=wt.SCRIPT_DATA_END_TAG_OPEN;break}case ht.EXCLAMATION_MARK:{this.state=wt.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break}default:this._emitChars("<"),this.state=wt.SCRIPT_DATA,this._stateScriptData(t)}}_stateScriptDataEndTagOpen(t){mb(t)?(this.state=wt.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(t)):(this._emitChars("</"),this.state=wt.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=wt.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStart(t){t===ht.HYPHEN_MINUS?(this.state=wt.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=wt.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscapeStartDash(t){t===ht.HYPHEN_MINUS?(this.state=wt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=wt.SCRIPT_DATA,this._stateScriptData(t))}_stateScriptDataEscaped(t){switch(t){case ht.HYPHEN_MINUS:{this.state=wt.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataEscapedDash(t){switch(t){case ht.HYPHEN_MINUS:{this.state=wt.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.state=wt.SCRIPT_DATA_ESCAPED,this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=wt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedDashDash(t){switch(t){case ht.HYPHEN_MINUS:{this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break}case ht.GREATER_THAN_SIGN:{this.state=wt.SCRIPT_DATA,this._emitChars(">");break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.state=wt.SCRIPT_DATA_ESCAPED,this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=wt.SCRIPT_DATA_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataEscapedLessThanSign(t){t===ht.SOLIDUS?this.state=wt.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:mb(t)?(this._emitChars("<"),this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(t)):(this._emitChars("<"),this.state=wt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagOpen(t){mb(t)?(this.state=wt.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(t)):(this._emitChars("</"),this.state=wt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataEscapedEndTagName(t){this.handleSpecialEndTag(t)&&(this._emitChars("</"),this.state=wt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscapeStart(t){if(this.preprocessor.startsWith($f.SCRIPT,!1)&&cj(this.preprocessor.peek($f.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<$f.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED}else this._ensureHibernation()||(this.state=wt.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(t))}_stateScriptDataDoubleEscaped(t){switch(t){case ht.HYPHEN_MINUS:{this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDash(t){switch(t){case ht.HYPHEN_MINUS:{this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedDashDash(t){switch(t){case ht.HYPHEN_MINUS:{this._emitChars("-");break}case ht.LESS_THAN_SIGN:{this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break}case ht.GREATER_THAN_SIGN:{this.state=wt.SCRIPT_DATA,this._emitChars(">");break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(As);break}case ht.EOF:{this._err(An.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break}default:this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(t)}}_stateScriptDataDoubleEscapedLessThanSign(t){t===ht.SOLIDUS?(this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateScriptDataDoubleEscapeEnd(t){if(this.preprocessor.startsWith($f.SCRIPT,!1)&&cj(this.preprocessor.peek($f.SCRIPT.length))){this._emitCodePoint(t);for(let n=0;n<$f.SCRIPT.length;n++)this._emitCodePoint(this._consume());this.state=wt.SCRIPT_DATA_ESCAPED}else this._ensureHibernation()||(this.state=wt.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(t))}_stateBeforeAttributeName(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.SOLIDUS:case ht.GREATER_THAN_SIGN:case ht.EOF:{this.state=wt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ht.EQUALS_SIGN:{this._err(An.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=wt.ATTRIBUTE_NAME;break}default:this._createAttr(""),this.state=wt.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateAttributeName(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:case ht.SOLIDUS:case ht.GREATER_THAN_SIGN:case ht.EOF:{this._leaveAttrName(),this.state=wt.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(t);break}case ht.EQUALS_SIGN:{this._leaveAttrName(),this.state=wt.BEFORE_ATTRIBUTE_VALUE;break}case ht.QUOTATION_MARK:case ht.APOSTROPHE:case ht.LESS_THAN_SIGN:{this._err(An.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(t);break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.currentAttr.name+=As;break}default:this.currentAttr.name+=String.fromCodePoint(I2(t)?LC(t):t)}}_stateAfterAttributeName(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.SOLIDUS:{this.state=wt.SELF_CLOSING_START_TAG;break}case ht.EQUALS_SIGN:{this.state=wt.BEFORE_ATTRIBUTE_VALUE;break}case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentTagToken();break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this._createAttr(""),this.state=wt.ATTRIBUTE_NAME,this._stateAttributeName(t)}}_stateBeforeAttributeValue(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:{this.state=wt.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{this.state=wt.ATTRIBUTE_VALUE_SINGLE_QUOTED;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingAttributeValue),this.state=wt.DATA,this.emitCurrentTagToken();break}default:this.state=wt.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(t)}}_stateAttributeValueDoubleQuoted(t){switch(t){case ht.QUOTATION_MARK:{this.state=wt.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ht.AMPERSAND:{this._startCharacterReference();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.currentAttr.value+=As;break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueSingleQuoted(t){switch(t){case ht.APOSTROPHE:{this.state=wt.AFTER_ATTRIBUTE_VALUE_QUOTED;break}case ht.AMPERSAND:{this._startCharacterReference();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.currentAttr.value+=As;break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAttributeValueUnquoted(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this._leaveAttrValue(),this.state=wt.BEFORE_ATTRIBUTE_NAME;break}case ht.AMPERSAND:{this._startCharacterReference();break}case ht.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=wt.DATA,this.emitCurrentTagToken();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),this.currentAttr.value+=As;break}case ht.QUOTATION_MARK:case ht.APOSTROPHE:case ht.LESS_THAN_SIGN:case ht.EQUALS_SIGN:case ht.GRAVE_ACCENT:{this._err(An.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(t);break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this.currentAttr.value+=String.fromCodePoint(t)}}_stateAfterAttributeValueQuoted(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this._leaveAttrValue(),this.state=wt.BEFORE_ATTRIBUTE_NAME;break}case ht.SOLIDUS:{this._leaveAttrValue(),this.state=wt.SELF_CLOSING_START_TAG;break}case ht.GREATER_THAN_SIGN:{this._leaveAttrValue(),this.state=wt.DATA,this.emitCurrentTagToken();break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this._err(An.missingWhitespaceBetweenAttributes),this.state=wt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateSelfClosingStartTag(t){switch(t){case ht.GREATER_THAN_SIGN:{const n=this.currentToken;n.selfClosing=!0,this.state=wt.DATA,this.emitCurrentTagToken();break}case ht.EOF:{this._err(An.eofInTag),this._emitEOFToken();break}default:this._err(An.unexpectedSolidusInTag),this.state=wt.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(t)}}_stateBogusComment(t){const n=this.currentToken;switch(t){case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentComment(n);break}case ht.EOF:{this.emitCurrentComment(n),this._emitEOFToken();break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.data+=As;break}default:n.data+=String.fromCodePoint(t)}}_stateMarkupDeclarationOpen(t){this._consumeSequenceIfMatch($f.DASH_DASH,!0)?(this._createCommentToken($f.DASH_DASH.length+1),this.state=wt.COMMENT_START):this._consumeSequenceIfMatch($f.DOCTYPE,!1)?(this.currentLocation=this.getCurrentLocation($f.DOCTYPE.length+1),this.state=wt.DOCTYPE):this._consumeSequenceIfMatch($f.CDATA_START,!0)?this.inForeignNode?this.state=wt.CDATA_SECTION:(this._err(An.cdataInHtmlContent),this._createCommentToken($f.CDATA_START.length+1),this.currentToken.data="[CDATA[",this.state=wt.BOGUS_COMMENT):this._ensureHibernation()||(this._err(An.incorrectlyOpenedComment),this._createCommentToken(2),this.state=wt.BOGUS_COMMENT,this._stateBogusComment(t))}_stateCommentStart(t){switch(t){case ht.HYPHEN_MINUS:{this.state=wt.COMMENT_START_DASH;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptClosingOfEmptyComment),this.state=wt.DATA;const n=this.currentToken;this.emitCurrentComment(n);break}default:this.state=wt.COMMENT,this._stateComment(t)}}_stateCommentStartDash(t){const n=this.currentToken;switch(t){case ht.HYPHEN_MINUS:{this.state=wt.COMMENT_END;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptClosingOfEmptyComment),this.state=wt.DATA,this.emitCurrentComment(n);break}case ht.EOF:{this._err(An.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=wt.COMMENT,this._stateComment(t)}}_stateComment(t){const n=this.currentToken;switch(t){case ht.HYPHEN_MINUS:{this.state=wt.COMMENT_END_DASH;break}case ht.LESS_THAN_SIGN:{n.data+="<",this.state=wt.COMMENT_LESS_THAN_SIGN;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.data+=As;break}case ht.EOF:{this._err(An.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+=String.fromCodePoint(t)}}_stateCommentLessThanSign(t){const n=this.currentToken;switch(t){case ht.EXCLAMATION_MARK:{n.data+="!",this.state=wt.COMMENT_LESS_THAN_SIGN_BANG;break}case ht.LESS_THAN_SIGN:{n.data+="<";break}default:this.state=wt.COMMENT,this._stateComment(t)}}_stateCommentLessThanSignBang(t){t===ht.HYPHEN_MINUS?this.state=wt.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=wt.COMMENT,this._stateComment(t))}_stateCommentLessThanSignBangDash(t){t===ht.HYPHEN_MINUS?this.state=wt.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=wt.COMMENT_END_DASH,this._stateCommentEndDash(t))}_stateCommentLessThanSignBangDashDash(t){t!==ht.GREATER_THAN_SIGN&&t!==ht.EOF&&this._err(An.nestedComment),this.state=wt.COMMENT_END,this._stateCommentEnd(t)}_stateCommentEndDash(t){const n=this.currentToken;switch(t){case ht.HYPHEN_MINUS:{this.state=wt.COMMENT_END;break}case ht.EOF:{this._err(An.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="-",this.state=wt.COMMENT,this._stateComment(t)}}_stateCommentEnd(t){const n=this.currentToken;switch(t){case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentComment(n);break}case ht.EXCLAMATION_MARK:{this.state=wt.COMMENT_END_BANG;break}case ht.HYPHEN_MINUS:{n.data+="-";break}case ht.EOF:{this._err(An.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--",this.state=wt.COMMENT,this._stateComment(t)}}_stateCommentEndBang(t){const n=this.currentToken;switch(t){case ht.HYPHEN_MINUS:{n.data+="--!",this.state=wt.COMMENT_END_DASH;break}case ht.GREATER_THAN_SIGN:{this._err(An.incorrectlyClosedComment),this.state=wt.DATA,this.emitCurrentComment(n);break}case ht.EOF:{this._err(An.eofInComment),this.emitCurrentComment(n),this._emitEOFToken();break}default:n.data+="--!",this.state=wt.COMMENT,this._stateComment(t)}}_stateDoctype(t){switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.BEFORE_DOCTYPE_NAME;break}case ht.GREATER_THAN_SIGN:{this.state=wt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t);break}case ht.EOF:{this._err(An.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingWhitespaceBeforeDoctypeName),this.state=wt.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(t)}}_stateBeforeDoctypeName(t){if(I2(t))this._createDoctypeToken(String.fromCharCode(LC(t))),this.state=wt.DOCTYPE_NAME;else switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.NULL:{this._err(An.unexpectedNullCharacter),this._createDoctypeToken(As),this.state=wt.DOCTYPE_NAME;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingDoctypeName),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),this._createDoctypeToken(null);const n=this.currentToken;n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(t)),this.state=wt.DOCTYPE_NAME}}_stateDoctypeName(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.AFTER_DOCTYPE_NAME;break}case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.name+=As;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.name+=String.fromCodePoint(I2(t)?LC(t):t)}}_stateAfterDoctypeName(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._consumeSequenceIfMatch($f.PUBLIC,!1)?this.state=wt.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch($f.SYSTEM,!1)?this.state=wt.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(An.invalidCharacterSequenceAfterDoctypeName),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t))}}_stateAfterDoctypePublicKeyword(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break}case ht.QUOTATION_MARK:{this._err(An.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=wt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{this._err(An.missingWhitespaceAfterDoctypePublicKeyword),n.publicId="",this.state=wt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:{n.publicId="",this.state=wt.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{n.publicId="",this.state=wt.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingDoctypePublicIdentifier),n.forceQuirks=!0,this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypePublicIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypePublicIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ht.QUOTATION_MARK:{this.state=wt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.publicId+=As;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateDoctypePublicIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ht.APOSTROPHE:{this.state=wt.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.publicId+=As;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptDoctypePublicIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.publicId+=String.fromCodePoint(t)}}_stateAfterDoctypePublicIdentifier(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break}case ht.GREATER_THAN_SIGN:{this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.QUOTATION_MARK:{this._err(An.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{this._err(An.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBetweenDoctypePublicAndSystemIdentifiers(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.QUOTATION_MARK:{n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateAfterDoctypeSystemKeyword(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:{this.state=wt.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break}case ht.QUOTATION_MARK:{this._err(An.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{this._err(An.missingWhitespaceAfterDoctypeSystemKeyword),n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBeforeDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.QUOTATION_MARK:{n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break}case ht.APOSTROPHE:{n.systemId="",this.state=wt.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break}case ht.GREATER_THAN_SIGN:{this._err(An.missingDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.DATA,this.emitCurrentDoctype(n);break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.missingQuoteBeforeDoctypeSystemIdentifier),n.forceQuirks=!0,this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateDoctypeSystemIdentifierDoubleQuoted(t){const n=this.currentToken;switch(t){case ht.QUOTATION_MARK:{this.state=wt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.systemId+=As;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateDoctypeSystemIdentifierSingleQuoted(t){const n=this.currentToken;switch(t){case ht.APOSTROPHE:{this.state=wt.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break}case ht.NULL:{this._err(An.unexpectedNullCharacter),n.systemId+=As;break}case ht.GREATER_THAN_SIGN:{this._err(An.abruptDoctypeSystemIdentifier),n.forceQuirks=!0,this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:n.systemId+=String.fromCodePoint(t)}}_stateAfterDoctypeSystemIdentifier(t){const n=this.currentToken;switch(t){case ht.SPACE:case ht.LINE_FEED:case ht.TABULATION:case ht.FORM_FEED:break;case ht.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.EOF:{this._err(An.eofInDoctype),n.forceQuirks=!0,this.emitCurrentDoctype(n),this._emitEOFToken();break}default:this._err(An.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=wt.BOGUS_DOCTYPE,this._stateBogusDoctype(t)}}_stateBogusDoctype(t){const n=this.currentToken;switch(t){case ht.GREATER_THAN_SIGN:{this.emitCurrentDoctype(n),this.state=wt.DATA;break}case ht.NULL:{this._err(An.unexpectedNullCharacter);break}case ht.EOF:{this.emitCurrentDoctype(n),this._emitEOFToken();break}}}_stateCdataSection(t){switch(t){case ht.RIGHT_SQUARE_BRACKET:{this.state=wt.CDATA_SECTION_BRACKET;break}case ht.EOF:{this._err(An.eofInCdata),this._emitEOFToken();break}default:this._emitCodePoint(t)}}_stateCdataSectionBracket(t){t===ht.RIGHT_SQUARE_BRACKET?this.state=wt.CDATA_SECTION_END:(this._emitChars("]"),this.state=wt.CDATA_SECTION,this._stateCdataSection(t))}_stateCdataSectionEnd(t){switch(t){case ht.GREATER_THAN_SIGN:{this.state=wt.DATA;break}case ht.RIGHT_SQUARE_BRACKET:{this._emitChars("]");break}default:this._emitChars("]]"),this.state=wt.CDATA_SECTION,this._stateCdataSection(t)}}_stateCharacterReference(){let t=this.entityDecoder.write(this.preprocessor.html,this.preprocessor.pos);if(t<0)if(this.preprocessor.lastChunkWritten)t=this.entityDecoder.end();else{this.active=!1,this.preprocessor.pos=this.preprocessor.html.length-1,this.consumedAfterSnapshot=0,this.preprocessor.endOfChunkHit=!0;return}t===0?(this.preprocessor.pos=this.entityStartPos,this._flushCodePointConsumedAsCharacterReference(ht.AMPERSAND),this.state=!this._isCharacterReferenceInAttribute()&&uj(this.preprocessor.peek(1))?wt.AMBIGUOUS_AMPERSAND:this.returnState):this.state=this.returnState}_stateAmbiguousAmpersand(t){uj(t)?this._flushCodePointConsumedAsCharacterReference(t):(t===ht.SEMICOLON&&this._err(An.unknownNamedCharacterReference),this.state=this.returnState,this._callState(t))}}const iW=new Set([le.DD,le.DT,le.LI,le.OPTGROUP,le.OPTION,le.P,le.RB,le.RP,le.RT,le.RTC]),dj=new Set([...iW,le.CAPTION,le.COLGROUP,le.TBODY,le.TD,le.TFOOT,le.TH,le.THEAD,le.TR]),xk=new Set([le.APPLET,le.CAPTION,le.HTML,le.MARQUEE,le.OBJECT,le.TABLE,le.TD,le.TEMPLATE,le.TH]),x0e=new Set([...xk,le.OL,le.UL]),E0e=new Set([...xk,le.BUTTON]),fj=new Set([le.ANNOTATION_XML,le.MI,le.MN,le.MO,le.MS,le.MTEXT]),hj=new Set([le.DESC,le.FOREIGN_OBJECT,le.TITLE]),w0e=new Set([le.TR,le.TEMPLATE,le.HTML]),S0e=new Set([le.TBODY,le.TFOOT,le.THEAD,le.TEMPLATE,le.HTML]),T0e=new Set([le.TABLE,le.TEMPLATE,le.HTML]),C0e=new Set([le.TD,le.TH]);class A0e{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(t,n,r){this.treeAdapter=n,this.handler=r,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=le.UNKNOWN,this.current=t}_indexOf(t){return this.items.lastIndexOf(t,this.stackTop)}_isInTemplate(){return this.currentTagId===le.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===er.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop]}push(t,n){this.stackTop++,this.items[this.stackTop]=t,this.current=t,this.tagIDs[this.stackTop]=n,this.currentTagId=n,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(t,n,!0)}pop(){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!0)}replace(t,n){const r=this._indexOf(t);this.items[r]=n,r===this.stackTop&&(this.current=n)}insertAfter(t,n,r){const a=this._indexOf(t)+1;this.items.splice(a,0,n),this.tagIDs.splice(a,0,r),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.current&&this.currentTagId!==void 0&&this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop)}popUntilTagNamePopped(t){let n=this.stackTop+1;do n=this.tagIDs.lastIndexOf(t,n-1);while(n>0&&this.treeAdapter.getNamespaceURI(this.items[n])!==er.HTML);this.shortenToLength(Math.max(n,0))}shortenToLength(t){for(;this.stackTop>=t;){const n=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(n,this.stackTop<t)}}popUntilElementPopped(t){const n=this._indexOf(t);this.shortenToLength(Math.max(n,0))}popUntilPopped(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(Math.max(r,0))}popUntilNumberedHeaderPopped(){this.popUntilPopped(E3,er.HTML)}popUntilTableCellPopped(){this.popUntilPopped(C0e,er.HTML)}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1)}_indexOfTagNames(t,n){for(let r=this.stackTop;r>=0;r--)if(t.has(this.tagIDs[r])&&this.treeAdapter.getNamespaceURI(this.items[r])===n)return r;return-1}clearBackTo(t,n){const r=this._indexOfTagNames(t,n);this.shortenToLength(r+1)}clearBackToTableContext(){this.clearBackTo(T0e,er.HTML)}clearBackToTableBodyContext(){this.clearBackTo(S0e,er.HTML)}clearBackToTableRowContext(){this.clearBackTo(w0e,er.HTML)}remove(t){const n=this._indexOf(t);n>=0&&(n===this.stackTop?this.pop():(this.items.splice(n,1),this.tagIDs.splice(n,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,!1)))}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===le.BODY?this.items[1]:null}contains(t){return this._indexOf(t)>-1}getCommonAncestor(t){const n=this._indexOf(t)-1;return n>=0?this.items[n]:null}isRootHtmlElementCurrent(){return this.stackTop===0&&this.tagIDs[0]===le.HTML}hasInDynamicScope(t,n){for(let r=this.stackTop;r>=0;r--){const a=this.tagIDs[r];switch(this.treeAdapter.getNamespaceURI(this.items[r])){case er.HTML:{if(a===t)return!0;if(n.has(a))return!1;break}case er.SVG:{if(hj.has(a))return!1;break}case er.MATHML:{if(fj.has(a))return!1;break}}}return!0}hasInScope(t){return this.hasInDynamicScope(t,xk)}hasInListItemScope(t){return this.hasInDynamicScope(t,x0e)}hasInButtonScope(t){return this.hasInDynamicScope(t,E0e)}hasNumberedHeaderInScope(){for(let t=this.stackTop;t>=0;t--){const n=this.tagIDs[t];switch(this.treeAdapter.getNamespaceURI(this.items[t])){case er.HTML:{if(E3.has(n))return!0;if(xk.has(n))return!1;break}case er.SVG:{if(hj.has(n))return!1;break}case er.MATHML:{if(fj.has(n))return!1;break}}}return!0}hasInTableScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===er.HTML)switch(this.tagIDs[n]){case t:return!0;case le.TABLE:case le.HTML:return!1}return!0}hasTableBodyContextInTableScope(){for(let t=this.stackTop;t>=0;t--)if(this.treeAdapter.getNamespaceURI(this.items[t])===er.HTML)switch(this.tagIDs[t]){case le.TBODY:case le.THEAD:case le.TFOOT:return!0;case le.TABLE:case le.HTML:return!1}return!0}hasInSelectScope(t){for(let n=this.stackTop;n>=0;n--)if(this.treeAdapter.getNamespaceURI(this.items[n])===er.HTML)switch(this.tagIDs[n]){case t:return!0;case le.OPTION:case le.OPTGROUP:break;default:return!1}return!0}generateImpliedEndTags(){for(;this.currentTagId!==void 0&&iW.has(this.currentTagId);)this.pop()}generateImpliedEndTagsThoroughly(){for(;this.currentTagId!==void 0&&dj.has(this.currentTagId);)this.pop()}generateImpliedEndTagsWithExclusion(t){for(;this.currentTagId!==void 0&&this.currentTagId!==t&&dj.has(this.currentTagId);)this.pop()}}const jR=3;var py;(function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element"})(py||(py={}));const pj={type:py.Marker};class k0e{constructor(t){this.treeAdapter=t,this.entries=[],this.bookmark=null}_getNoahArkConditionCandidates(t,n){const r=[],a=n.length,l=this.treeAdapter.getTagName(t),u=this.treeAdapter.getNamespaceURI(t);for(let i=0;i<this.entries.length;i++){const m=this.entries[i];if(m.type===py.Marker)break;const{element:b}=m;if(this.treeAdapter.getTagName(b)===l&&this.treeAdapter.getNamespaceURI(b)===u){const _=this.treeAdapter.getAttrList(b);_.length===a&&r.push({idx:i,attrs:_})}}return r}_ensureNoahArkCondition(t){if(this.entries.length<jR)return;const n=this.treeAdapter.getAttrList(t),r=this._getNoahArkConditionCandidates(t,n);if(r.length<jR)return;const a=new Map(n.map(u=>[u.name,u.value]));let l=0;for(let u=0;u<r.length;u++){const i=r[u];i.attrs.every(m=>a.get(m.name)===m.value)&&(l+=1,l>=jR&&this.entries.splice(i.idx,1))}}insertMarker(){this.entries.unshift(pj)}pushElement(t,n){this._ensureNoahArkCondition(t),this.entries.unshift({type:py.Element,element:t,token:n})}insertElementAfterBookmark(t,n){const r=this.entries.indexOf(this.bookmark);this.entries.splice(r,0,{type:py.Element,element:t,token:n})}removeEntry(t){const n=this.entries.indexOf(t);n!==-1&&this.entries.splice(n,1)}clearToLastMarker(){const t=this.entries.indexOf(pj);t===-1?this.entries.length=0:this.entries.splice(0,t+1)}getElementEntryInScopeWithTagName(t){const n=this.entries.find(r=>r.type===py.Marker||this.treeAdapter.getTagName(r.element)===t);return n&&n.type===py.Element?n:null}getElementEntry(t){return this.entries.find(n=>n.type===py.Element&&n.element===t)}}const gb={createDocument(){return{nodeName:"#document",mode:jp.NO_QUIRKS,childNodes:[]}},createDocumentFragment(){return{nodeName:"#document-fragment",childNodes:[]}},createElement(e,t,n){return{nodeName:e,tagName:e,attrs:n,namespaceURI:t,childNodes:[],parentNode:null}},createCommentNode(e){return{nodeName:"#comment",data:e,parentNode:null}},createTextNode(e){return{nodeName:"#text",value:e,parentNode:null}},appendChild(e,t){e.childNodes.push(t),t.parentNode=e},insertBefore(e,t,n){const r=e.childNodes.indexOf(n);e.childNodes.splice(r,0,t),t.parentNode=e},setTemplateContent(e,t){e.content=t},getTemplateContent(e){return e.content},setDocumentType(e,t,n,r){const a=e.childNodes.find(l=>l.nodeName==="#documentType");if(a)a.name=t,a.publicId=n,a.systemId=r;else{const l={nodeName:"#documentType",name:t,publicId:n,systemId:r,parentNode:null};gb.appendChild(e,l)}},setDocumentMode(e,t){e.mode=t},getDocumentMode(e){return e.mode},detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null}},insertText(e,t){if(e.childNodes.length>0){const n=e.childNodes[e.childNodes.length-1];if(gb.isTextNode(n)){n.value+=t;return}}gb.appendChild(e,gb.createTextNode(t))},insertTextBefore(e,t,n){const r=e.childNodes[e.childNodes.indexOf(n)-1];r&&gb.isTextNode(r)?r.value+=t:gb.insertBefore(e,gb.createTextNode(t),n)},adoptAttributes(e,t){const n=new Set(e.attrs.map(r=>r.name));for(let r=0;r<t.length;r++)n.has(t[r].name)||e.attrs.push(t[r])},getFirstChild(e){return e.childNodes[0]},getChildNodes(e){return e.childNodes},getParentNode(e){return e.parentNode},getAttrList(e){return e.attrs},getTagName(e){return e.tagName},getNamespaceURI(e){return e.namespaceURI},getTextNodeContent(e){return e.value},getCommentNodeContent(e){return e.data},getDocumentTypeNodeName(e){return e.name},getDocumentTypeNodePublicId(e){return e.publicId},getDocumentTypeNodeSystemId(e){return e.systemId},isTextNode(e){return e.nodeName==="#text"},isCommentNode(e){return e.nodeName==="#comment"},isDocumentTypeNode(e){return e.nodeName==="#documentType"},isElementNode(e){return Object.prototype.hasOwnProperty.call(e,"tagName")},setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t},getNodeSourceCodeLocation(e){return e.sourceCodeLocation},updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t}}},oW="html",I0e="about:legacy-compat",N0e="http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd",sW=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],R0e=[...sW,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],M0e=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),lW=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],O0e=[...lW,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function mj(e,t){return t.some(n=>e.startsWith(n))}function D0e(e){return e.name===oW&&e.publicId===null&&(e.systemId===null||e.systemId===I0e)}function L0e(e){if(e.name!==oW)return jp.QUIRKS;const{systemId:t}=e;if(t&&t.toLowerCase()===N0e)return jp.QUIRKS;let{publicId:n}=e;if(n!==null){if(n=n.toLowerCase(),M0e.has(n))return jp.QUIRKS;let r=t===null?R0e:sW;if(mj(n,r))return jp.QUIRKS;if(r=t===null?lW:O0e,mj(n,r))return jp.LIMITED_QUIRKS}return jp.NO_QUIRKS}const gj={TEXT_HTML:"text/html",APPLICATION_XML:"application/xhtml+xml"},P0e="definitionurl",F0e="definitionURL",B0e=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),$0e=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:er.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:er.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:er.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:er.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:er.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:er.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:er.XLINK}],["xml:lang",{prefix:"xml",name:"lang",namespace:er.XML}],["xml:space",{prefix:"xml",name:"space",namespace:er.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:er.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:er.XMLNS}]]),j0e=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map(e=>[e.toLowerCase(),e])),z0e=new Set([le.B,le.BIG,le.BLOCKQUOTE,le.BODY,le.BR,le.CENTER,le.CODE,le.DD,le.DIV,le.DL,le.DT,le.EM,le.EMBED,le.H1,le.H2,le.H3,le.H4,le.H5,le.H6,le.HEAD,le.HR,le.I,le.IMG,le.LI,le.LISTING,le.MENU,le.META,le.NOBR,le.OL,le.P,le.PRE,le.RUBY,le.S,le.SMALL,le.SPAN,le.STRONG,le.STRIKE,le.SUB,le.SUP,le.TABLE,le.TT,le.U,le.UL,le.VAR]);function U0e(e){const t=e.tagID;return t===le.FONT&&e.attrs.some(({name:r})=>r===l1.COLOR||r===l1.SIZE||r===l1.FACE)||z0e.has(t)}function uW(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===P0e){e.attrs[t].name=F0e;break}}function cW(e){for(let t=0;t<e.attrs.length;t++){const n=B0e.get(e.attrs[t].name);n!=null&&(e.attrs[t].name=n)}}function GL(e){for(let t=0;t<e.attrs.length;t++){const n=$0e.get(e.attrs[t].name);n&&(e.attrs[t].prefix=n.prefix,e.attrs[t].name=n.name,e.attrs[t].namespace=n.namespace)}}function G0e(e){const t=j0e.get(e.tagName);t!=null&&(e.tagName=t,e.tagID=zI(e.tagName))}function H0e(e,t){return t===er.MATHML&&(e===le.MI||e===le.MO||e===le.MN||e===le.MS||e===le.MTEXT)}function V0e(e,t,n){if(t===er.MATHML&&e===le.ANNOTATION_XML){for(let r=0;r<n.length;r++)if(n[r].name===l1.ENCODING){const a=n[r].value.toLowerCase();return a===gj.TEXT_HTML||a===gj.APPLICATION_XML}}return t===er.SVG&&(e===le.FOREIGN_OBJECT||e===le.DESC||e===le.TITLE)}function q0e(e,t,n,r){return(!r||r===er.HTML)&&V0e(e,t,n)||(!r||r===er.MATHML)&&H0e(e,t)}const Y0e="hidden",W0e=8,Z0e=3;var Mt;(function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET"})(Mt||(Mt={}));const X0e={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},dW=new Set([le.TABLE,le.TBODY,le.TFOOT,le.THEAD,le.TR]),yj={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:gb,onParseError:null};class fW{constructor(t,n,r=null,a=null){this.fragmentContext=r,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Mt.INITIAL,this.originalInsertionMode=Mt.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...yj,...t},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=n??this.treeAdapter.createDocument(),this.tokenizer=new _0e(this.options,this),this.activeFormattingElements=new k0e(this.treeAdapter),this.fragmentContextID=r?zI(this.treeAdapter.getTagName(r)):le.UNKNOWN,this._setContextModes(r??this.document,this.fragmentContextID),this.openElements=new A0e(this.document,this.treeAdapter,this)}static parse(t,n){const r=new this(n);return r.tokenizer.write(t,!0),r.document}static getFragmentParser(t,n){const r={...yj,...n};t??(t=r.treeAdapter.createElement(cn.TEMPLATE,er.HTML,[]));const a=r.treeAdapter.createElement("documentmock",er.HTML,[]),l=new this(r,a,t);return l.fragmentContextID===le.TEMPLATE&&l.tmplInsertionModeStack.unshift(Mt.IN_TEMPLATE),l._initTokenizerForFragmentParsing(),l._insertFakeRootElement(),l._resetInsertionMode(),l._findFormInFragmentContext(),l}getFragment(){const t=this.treeAdapter.getFirstChild(this.document),n=this.treeAdapter.createDocumentFragment();return this._adoptNodes(t,n),n}_err(t,n,r){var a;if(!this.onParseError)return;const l=(a=t.location)!==null&&a!==void 0?a:X0e,u={code:n,startLine:l.startLine,startCol:l.startCol,startOffset:l.startOffset,endLine:r?l.startLine:l.endLine,endCol:r?l.startCol:l.endCol,endOffset:r?l.startOffset:l.endOffset};this.onParseError(u)}onItemPush(t,n,r){var a,l;(l=(a=this.treeAdapter).onItemPush)===null||l===void 0||l.call(a,t),r&&this.openElements.stackTop>0&&this._setContextModes(t,n)}onItemPop(t,n){var r,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(t,this.currentToken),(a=(r=this.treeAdapter).onItemPop)===null||a===void 0||a.call(r,t,this.openElements.current),n){let l,u;this.openElements.stackTop===0&&this.fragmentContext?(l=this.fragmentContext,u=this.fragmentContextID):{current:l,currentTagId:u}=this.openElements,this._setContextModes(l,u)}}_setContextModes(t,n){const r=t===this.document||t&&this.treeAdapter.getNamespaceURI(t)===er.HTML;this.currentNotInHTML=!r,this.tokenizer.inForeignNode=!r&&t!==void 0&&n!==void 0&&!this._isIntegrationPoint(n,t)}_switchToTextParsing(t,n){this._insertElement(t,er.HTML),this.tokenizer.state=n,this.originalInsertionMode=this.insertionMode,this.insertionMode=Mt.TEXT}switchToPlaintextParsing(){this.insertionMode=Mt.TEXT,this.originalInsertionMode=Mt.IN_BODY,this.tokenizer.state=Gf.PLAINTEXT}_getAdjustedCurrentElement(){return this.openElements.stackTop===0&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let t=this.fragmentContext;for(;t;){if(this.treeAdapter.getTagName(t)===cn.FORM){this.formElement=t;break}t=this.treeAdapter.getParentNode(t)}}_initTokenizerForFragmentParsing(){if(!(!this.fragmentContext||this.treeAdapter.getNamespaceURI(this.fragmentContext)!==er.HTML))switch(this.fragmentContextID){case le.TITLE:case le.TEXTAREA:{this.tokenizer.state=Gf.RCDATA;break}case le.STYLE:case le.XMP:case le.IFRAME:case le.NOEMBED:case le.NOFRAMES:case le.NOSCRIPT:{this.tokenizer.state=Gf.RAWTEXT;break}case le.SCRIPT:{this.tokenizer.state=Gf.SCRIPT_DATA;break}case le.PLAINTEXT:{this.tokenizer.state=Gf.PLAINTEXT;break}}}_setDocumentType(t){const n=t.name||"",r=t.publicId||"",a=t.systemId||"";if(this.treeAdapter.setDocumentType(this.document,n,r,a),t.location){const u=this.treeAdapter.getChildNodes(this.document).find(i=>this.treeAdapter.isDocumentTypeNode(i));u&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}}_attachElementToTree(t,n){if(this.options.sourceCodeLocationInfo){const r=n&&{...n,startTag:n};this.treeAdapter.setNodeSourceCodeLocation(t,r)}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(t);else{const r=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(r??this.document,t)}}_appendElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location)}_insertElement(t,n){const r=this.treeAdapter.createElement(t.tagName,n,t.attrs);this._attachElementToTree(r,t.location),this.openElements.push(r,t.tagID)}_insertFakeElement(t,n){const r=this.treeAdapter.createElement(t,er.HTML,[]);this._attachElementToTree(r,null),this.openElements.push(r,n)}_insertTemplate(t){const n=this.treeAdapter.createElement(t.tagName,er.HTML,t.attrs),r=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(n,r),this._attachElementToTree(n,t.location),this.openElements.push(n,t.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,null)}_insertFakeRootElement(){const t=this.treeAdapter.createElement(cn.HTML,er.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(t,null),this.treeAdapter.appendChild(this.openElements.current,t),this.openElements.push(t,le.HTML)}_appendCommentNode(t,n){const r=this.treeAdapter.createCommentNode(t.data);this.treeAdapter.appendChild(n,r),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(r,t.location)}_insertCharacters(t){let n,r;if(this._shouldFosterParentOnInsertion()?({parent:n,beforeElement:r}=this._findFosterParentingLocation(),r?this.treeAdapter.insertTextBefore(n,t.chars,r):this.treeAdapter.insertText(n,t.chars)):(n=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(n,t.chars)),!t.location)return;const a=this.treeAdapter.getChildNodes(n),l=r?a.lastIndexOf(r):a.length,u=a[l-1];if(this.treeAdapter.getNodeSourceCodeLocation(u)){const{endLine:m,endCol:b,endOffset:_}=t.location;this.treeAdapter.updateNodeSourceCodeLocation(u,{endLine:m,endCol:b,endOffset:_})}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(u,t.location)}_adoptNodes(t,n){for(let r=this.treeAdapter.getFirstChild(t);r;r=this.treeAdapter.getFirstChild(t))this.treeAdapter.detachNode(r),this.treeAdapter.appendChild(n,r)}_setEndLocation(t,n){if(this.treeAdapter.getNodeSourceCodeLocation(t)&&n.location){const r=n.location,a=this.treeAdapter.getTagName(t),l=n.type===Ni.END_TAG&&a===n.tagName?{endTag:{...r},endLine:r.endLine,endCol:r.endCol,endOffset:r.endOffset}:{endLine:r.startLine,endCol:r.startCol,endOffset:r.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(t,l)}}shouldProcessStartTagTokenInForeignContent(t){if(!this.currentNotInHTML)return!1;let n,r;return this.openElements.stackTop===0&&this.fragmentContext?(n=this.fragmentContext,r=this.fragmentContextID):{current:n,currentTagId:r}=this.openElements,t.tagID===le.SVG&&this.treeAdapter.getTagName(n)===cn.ANNOTATION_XML&&this.treeAdapter.getNamespaceURI(n)===er.MATHML?!1:this.tokenizer.inForeignNode||(t.tagID===le.MGLYPH||t.tagID===le.MALIGNMARK)&&r!==void 0&&!this._isIntegrationPoint(r,n,er.HTML)}_processToken(t){switch(t.type){case Ni.CHARACTER:{this.onCharacter(t);break}case Ni.NULL_CHARACTER:{this.onNullCharacter(t);break}case Ni.COMMENT:{this.onComment(t);break}case Ni.DOCTYPE:{this.onDoctype(t);break}case Ni.START_TAG:{this._processStartTag(t);break}case Ni.END_TAG:{this.onEndTag(t);break}case Ni.EOF:{this.onEof(t);break}case Ni.WHITESPACE_CHARACTER:{this.onWhitespaceCharacter(t);break}}}_isIntegrationPoint(t,n,r){const a=this.treeAdapter.getNamespaceURI(n),l=this.treeAdapter.getAttrList(n);return q0e(t,a,l,r)}_reconstructActiveFormattingElements(){const t=this.activeFormattingElements.entries.length;if(t){const n=this.activeFormattingElements.entries.findIndex(a=>a.type===py.Marker||this.openElements.contains(a.element)),r=n===-1?t-1:n-1;for(let a=r;a>=0;a--){const l=this.activeFormattingElements.entries[a];this._insertElement(l.token,this.treeAdapter.getNamespaceURI(l.element)),l.element=this.openElements.current}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Mt.IN_ROW}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(le.P),this.openElements.popUntilTagNamePopped(le.P)}_resetInsertionMode(){for(let t=this.openElements.stackTop;t>=0;t--)switch(t===0&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[t]){case le.TR:{this.insertionMode=Mt.IN_ROW;return}case le.TBODY:case le.THEAD:case le.TFOOT:{this.insertionMode=Mt.IN_TABLE_BODY;return}case le.CAPTION:{this.insertionMode=Mt.IN_CAPTION;return}case le.COLGROUP:{this.insertionMode=Mt.IN_COLUMN_GROUP;return}case le.TABLE:{this.insertionMode=Mt.IN_TABLE;return}case le.BODY:{this.insertionMode=Mt.IN_BODY;return}case le.FRAMESET:{this.insertionMode=Mt.IN_FRAMESET;return}case le.SELECT:{this._resetInsertionModeForSelect(t);return}case le.TEMPLATE:{this.insertionMode=this.tmplInsertionModeStack[0];return}case le.HTML:{this.insertionMode=this.headElement?Mt.AFTER_HEAD:Mt.BEFORE_HEAD;return}case le.TD:case le.TH:{if(t>0){this.insertionMode=Mt.IN_CELL;return}break}case le.HEAD:{if(t>0){this.insertionMode=Mt.IN_HEAD;return}break}}this.insertionMode=Mt.IN_BODY}_resetInsertionModeForSelect(t){if(t>0)for(let n=t-1;n>0;n--){const r=this.openElements.tagIDs[n];if(r===le.TEMPLATE)break;if(r===le.TABLE){this.insertionMode=Mt.IN_SELECT_IN_TABLE;return}}this.insertionMode=Mt.IN_SELECT}_isElementCausesFosterParenting(t){return dW.has(t)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this.openElements.currentTagId!==void 0&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let t=this.openElements.stackTop;t>=0;t--){const n=this.openElements.items[t];switch(this.openElements.tagIDs[t]){case le.TEMPLATE:{if(this.treeAdapter.getNamespaceURI(n)===er.HTML)return{parent:this.treeAdapter.getTemplateContent(n),beforeElement:null};break}case le.TABLE:{const r=this.treeAdapter.getParentNode(n);return r?{parent:r,beforeElement:n}:{parent:this.openElements.items[t-1],beforeElement:null}}}}return{parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(t){const n=this._findFosterParentingLocation();n.beforeElement?this.treeAdapter.insertBefore(n.parent,t,n.beforeElement):this.treeAdapter.appendChild(n.parent,t)}_isSpecialElement(t,n){const r=this.treeAdapter.getNamespaceURI(t);return g0e[r].has(n)}onCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Cbe(this,t);return}switch(this.insertionMode){case Mt.INITIAL:{u2(this,t);break}case Mt.BEFORE_HTML:{V2(this,t);break}case Mt.BEFORE_HEAD:{q2(this,t);break}case Mt.IN_HEAD:{Y2(this,t);break}case Mt.IN_HEAD_NO_SCRIPT:{W2(this,t);break}case Mt.AFTER_HEAD:{Z2(this,t);break}case Mt.IN_BODY:case Mt.IN_CAPTION:case Mt.IN_CELL:case Mt.IN_TEMPLATE:{pW(this,t);break}case Mt.TEXT:case Mt.IN_SELECT:case Mt.IN_SELECT_IN_TABLE:{this._insertCharacters(t);break}case Mt.IN_TABLE:case Mt.IN_TABLE_BODY:case Mt.IN_ROW:{zR(this,t);break}case Mt.IN_TABLE_TEXT:{_W(this,t);break}case Mt.IN_COLUMN_GROUP:{Ek(this,t);break}case Mt.AFTER_BODY:{wk(this,t);break}case Mt.AFTER_AFTER_BODY:{RA(this,t);break}}}onNullCharacter(t){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode){Tbe(this,t);return}switch(this.insertionMode){case Mt.INITIAL:{u2(this,t);break}case Mt.BEFORE_HTML:{V2(this,t);break}case Mt.BEFORE_HEAD:{q2(this,t);break}case Mt.IN_HEAD:{Y2(this,t);break}case Mt.IN_HEAD_NO_SCRIPT:{W2(this,t);break}case Mt.AFTER_HEAD:{Z2(this,t);break}case Mt.TEXT:{this._insertCharacters(t);break}case Mt.IN_TABLE:case Mt.IN_TABLE_BODY:case Mt.IN_ROW:{zR(this,t);break}case Mt.IN_COLUMN_GROUP:{Ek(this,t);break}case Mt.AFTER_BODY:{wk(this,t);break}case Mt.AFTER_AFTER_BODY:{RA(this,t);break}}}onComment(t){if(this.skipNextNewLine=!1,this.currentNotInHTML){w3(this,t);return}switch(this.insertionMode){case Mt.INITIAL:case Mt.BEFORE_HTML:case Mt.BEFORE_HEAD:case Mt.IN_HEAD:case Mt.IN_HEAD_NO_SCRIPT:case Mt.AFTER_HEAD:case Mt.IN_BODY:case Mt.IN_TABLE:case Mt.IN_CAPTION:case Mt.IN_COLUMN_GROUP:case Mt.IN_TABLE_BODY:case Mt.IN_ROW:case Mt.IN_CELL:case Mt.IN_SELECT:case Mt.IN_SELECT_IN_TABLE:case Mt.IN_TEMPLATE:case Mt.IN_FRAMESET:case Mt.AFTER_FRAMESET:{w3(this,t);break}case Mt.IN_TABLE_TEXT:{c2(this,t);break}case Mt.AFTER_BODY:{rve(this,t);break}case Mt.AFTER_AFTER_BODY:case Mt.AFTER_AFTER_FRAMESET:{ave(this,t);break}}}onDoctype(t){switch(this.skipNextNewLine=!1,this.insertionMode){case Mt.INITIAL:{ive(this,t);break}case Mt.BEFORE_HEAD:case Mt.IN_HEAD:case Mt.IN_HEAD_NO_SCRIPT:case Mt.AFTER_HEAD:{this._err(t,An.misplacedDoctype);break}case Mt.IN_TABLE_TEXT:{c2(this,t);break}}}onStartTag(t){this.skipNextNewLine=!1,this.currentToken=t,this._processStartTag(t),t.selfClosing&&!t.ackSelfClosing&&this._err(t,An.nonVoidHtmlElementStartTagWithTrailingSolidus)}_processStartTag(t){this.shouldProcessStartTagTokenInForeignContent(t)?Abe(this,t):this._startTagOutsideForeignContent(t)}_startTagOutsideForeignContent(t){switch(this.insertionMode){case Mt.INITIAL:{u2(this,t);break}case Mt.BEFORE_HTML:{ove(this,t);break}case Mt.BEFORE_HEAD:{lve(this,t);break}case Mt.IN_HEAD:{mg(this,t);break}case Mt.IN_HEAD_NO_SCRIPT:{dve(this,t);break}case Mt.AFTER_HEAD:{hve(this,t);break}case Mt.IN_BODY:{bd(this,t);break}case Mt.IN_TABLE:{OE(this,t);break}case Mt.IN_TABLE_TEXT:{c2(this,t);break}case Mt.IN_CAPTION:{ube(this,t);break}case Mt.IN_COLUMN_GROUP:{qL(this,t);break}case Mt.IN_TABLE_BODY:{HI(this,t);break}case Mt.IN_ROW:{VI(this,t);break}case Mt.IN_CELL:{fbe(this,t);break}case Mt.IN_SELECT:{wW(this,t);break}case Mt.IN_SELECT_IN_TABLE:{pbe(this,t);break}case Mt.IN_TEMPLATE:{gbe(this,t);break}case Mt.AFTER_BODY:{vbe(this,t);break}case Mt.IN_FRAMESET:{bbe(this,t);break}case Mt.AFTER_FRAMESET:{xbe(this,t);break}case Mt.AFTER_AFTER_BODY:{wbe(this,t);break}case Mt.AFTER_AFTER_FRAMESET:{Sbe(this,t);break}}}onEndTag(t){this.skipNextNewLine=!1,this.currentToken=t,this.currentNotInHTML?kbe(this,t):this._endTagOutsideForeignContent(t)}_endTagOutsideForeignContent(t){switch(this.insertionMode){case Mt.INITIAL:{u2(this,t);break}case Mt.BEFORE_HTML:{sve(this,t);break}case Mt.BEFORE_HEAD:{uve(this,t);break}case Mt.IN_HEAD:{cve(this,t);break}case Mt.IN_HEAD_NO_SCRIPT:{fve(this,t);break}case Mt.AFTER_HEAD:{pve(this,t);break}case Mt.IN_BODY:{GI(this,t);break}case Mt.TEXT:{Jve(this,t);break}case Mt.IN_TABLE:{kS(this,t);break}case Mt.IN_TABLE_TEXT:{c2(this,t);break}case Mt.IN_CAPTION:{cbe(this,t);break}case Mt.IN_COLUMN_GROUP:{dbe(this,t);break}case Mt.IN_TABLE_BODY:{S3(this,t);break}case Mt.IN_ROW:{EW(this,t);break}case Mt.IN_CELL:{hbe(this,t);break}case Mt.IN_SELECT:{SW(this,t);break}case Mt.IN_SELECT_IN_TABLE:{mbe(this,t);break}case Mt.IN_TEMPLATE:{ybe(this,t);break}case Mt.AFTER_BODY:{CW(this,t);break}case Mt.IN_FRAMESET:{_be(this,t);break}case Mt.AFTER_FRAMESET:{Ebe(this,t);break}case Mt.AFTER_AFTER_BODY:{RA(this,t);break}}}onEof(t){switch(this.insertionMode){case Mt.INITIAL:{u2(this,t);break}case Mt.BEFORE_HTML:{V2(this,t);break}case Mt.BEFORE_HEAD:{q2(this,t);break}case Mt.IN_HEAD:{Y2(this,t);break}case Mt.IN_HEAD_NO_SCRIPT:{W2(this,t);break}case Mt.AFTER_HEAD:{Z2(this,t);break}case Mt.IN_BODY:case Mt.IN_TABLE:case Mt.IN_CAPTION:case Mt.IN_COLUMN_GROUP:case Mt.IN_TABLE_BODY:case Mt.IN_ROW:case Mt.IN_CELL:case Mt.IN_SELECT:case Mt.IN_SELECT_IN_TABLE:{vW(this,t);break}case Mt.TEXT:{ebe(this,t);break}case Mt.IN_TABLE_TEXT:{c2(this,t);break}case Mt.IN_TEMPLATE:{TW(this,t);break}case Mt.AFTER_BODY:case Mt.IN_FRAMESET:case Mt.AFTER_FRAMESET:case Mt.AFTER_AFTER_BODY:case Mt.AFTER_AFTER_FRAMESET:{VL(this,t);break}}}onWhitespaceCharacter(t){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,t.chars.charCodeAt(0)===ht.LINE_FEED)){if(t.chars.length===1)return;t.chars=t.chars.substr(1)}if(this.tokenizer.inForeignNode){this._insertCharacters(t);return}switch(this.insertionMode){case Mt.IN_HEAD:case Mt.IN_HEAD_NO_SCRIPT:case Mt.AFTER_HEAD:case Mt.TEXT:case Mt.IN_COLUMN_GROUP:case Mt.IN_SELECT:case Mt.IN_SELECT_IN_TABLE:case Mt.IN_FRAMESET:case Mt.AFTER_FRAMESET:{this._insertCharacters(t);break}case Mt.IN_BODY:case Mt.IN_CAPTION:case Mt.IN_CELL:case Mt.IN_TEMPLATE:case Mt.AFTER_BODY:case Mt.AFTER_AFTER_BODY:case Mt.AFTER_AFTER_FRAMESET:{hW(this,t);break}case Mt.IN_TABLE:case Mt.IN_TABLE_BODY:case Mt.IN_ROW:{zR(this,t);break}case Mt.IN_TABLE_TEXT:{bW(this,t);break}}}}function K0e(e,t){let n=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return n?e.openElements.contains(n.element)?e.openElements.hasInScope(t.tagID)||(n=null):(e.activeFormattingElements.removeEntry(n),n=null):yW(e,t),n}function Q0e(e,t){let n=null,r=e.openElements.stackTop;for(;r>=0;r--){const a=e.openElements.items[r];if(a===t.element)break;e._isSpecialElement(a,e.openElements.tagIDs[r])&&(n=a)}return n||(e.openElements.shortenToLength(Math.max(r,0)),e.activeFormattingElements.removeEntry(t)),n}function J0e(e,t,n){let r=t,a=e.openElements.getCommonAncestor(t);for(let l=0,u=a;u!==n;l++,u=a){a=e.openElements.getCommonAncestor(u);const i=e.activeFormattingElements.getElementEntry(u),m=i&&l>=Z0e;!i||m?(m&&e.activeFormattingElements.removeEntry(i),e.openElements.remove(u)):(u=eve(e,i),r===t&&(e.activeFormattingElements.bookmark=i),e.treeAdapter.detachNode(r),e.treeAdapter.appendChild(u,r),r=u)}return r}function eve(e,t){const n=e.treeAdapter.getNamespaceURI(t.element),r=e.treeAdapter.createElement(t.token.tagName,n,t.token.attrs);return e.openElements.replace(t.element,r),t.element=r,r}function tve(e,t,n){const r=e.treeAdapter.getTagName(t),a=zI(r);if(e._isElementCausesFosterParenting(a))e._fosterParentElement(n);else{const l=e.treeAdapter.getNamespaceURI(t);a===le.TEMPLATE&&l===er.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,n)}}function nve(e,t,n){const r=e.treeAdapter.getNamespaceURI(n.element),{token:a}=n,l=e.treeAdapter.createElement(a.tagName,r,a.attrs);e._adoptNodes(t,l),e.treeAdapter.appendChild(t,l),e.activeFormattingElements.insertElementAfterBookmark(l,a),e.activeFormattingElements.removeEntry(n),e.openElements.remove(n.element),e.openElements.insertAfter(t,l,a.tagID)}function HL(e,t){for(let n=0;n<W0e;n++){const r=K0e(e,t);if(!r)break;const a=Q0e(e,r);if(!a)break;e.activeFormattingElements.bookmark=r;const l=J0e(e,a,r.element),u=e.openElements.getCommonAncestor(r.element);e.treeAdapter.detachNode(l),u&&tve(e,u,l),nve(e,a,r)}}function w3(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode)}function rve(e,t){e._appendCommentNode(t,e.openElements.items[0])}function ave(e,t){e._appendCommentNode(t,e.document)}function VL(e,t){if(e.stopped=!0,t.location){const n=e.fragmentContext?0:2;for(let r=e.openElements.stackTop;r>=n;r--)e._setEndLocation(e.openElements.items[r],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const r=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(r);if(a&&!a.endTag&&(e._setEndLocation(r,t),e.openElements.stackTop>=1)){const l=e.openElements.items[1],u=e.treeAdapter.getNodeSourceCodeLocation(l);u&&!u.endTag&&e._setEndLocation(l,t)}}}}function ive(e,t){e._setDocumentType(t);const n=t.forceQuirks?jp.QUIRKS:L0e(t);D0e(t)||e._err(t,An.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,n),e.insertionMode=Mt.BEFORE_HTML}function u2(e,t){e._err(t,An.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,jp.QUIRKS),e.insertionMode=Mt.BEFORE_HTML,e._processToken(t)}function ove(e,t){t.tagID===le.HTML?(e._insertElement(t,er.HTML),e.insertionMode=Mt.BEFORE_HEAD):V2(e,t)}function sve(e,t){const n=t.tagID;(n===le.HTML||n===le.HEAD||n===le.BODY||n===le.BR)&&V2(e,t)}function V2(e,t){e._insertFakeRootElement(),e.insertionMode=Mt.BEFORE_HEAD,e._processToken(t)}function lve(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.HEAD:{e._insertElement(t,er.HTML),e.headElement=e.openElements.current,e.insertionMode=Mt.IN_HEAD;break}default:q2(e,t)}}function uve(e,t){const n=t.tagID;n===le.HEAD||n===le.BODY||n===le.HTML||n===le.BR?q2(e,t):e._err(t,An.endTagWithoutMatchingOpenElement)}function q2(e,t){e._insertFakeElement(cn.HEAD,le.HEAD),e.headElement=e.openElements.current,e.insertionMode=Mt.IN_HEAD,e._processToken(t)}function mg(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.BASE:case le.BASEFONT:case le.BGSOUND:case le.LINK:case le.META:{e._appendElement(t,er.HTML),t.ackSelfClosing=!0;break}case le.TITLE:{e._switchToTextParsing(t,Gf.RCDATA);break}case le.NOSCRIPT:{e.options.scriptingEnabled?e._switchToTextParsing(t,Gf.RAWTEXT):(e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_HEAD_NO_SCRIPT);break}case le.NOFRAMES:case le.STYLE:{e._switchToTextParsing(t,Gf.RAWTEXT);break}case le.SCRIPT:{e._switchToTextParsing(t,Gf.SCRIPT_DATA);break}case le.TEMPLATE:{e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Mt.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Mt.IN_TEMPLATE);break}case le.HEAD:{e._err(t,An.misplacedStartTagForHeadElement);break}default:Y2(e,t)}}function cve(e,t){switch(t.tagID){case le.HEAD:{e.openElements.pop(),e.insertionMode=Mt.AFTER_HEAD;break}case le.BODY:case le.BR:case le.HTML:{Y2(e,t);break}case le.TEMPLATE:{j1(e,t);break}default:e._err(t,An.endTagWithoutMatchingOpenElement)}}function j1(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==le.TEMPLATE&&e._err(t,An.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(le.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,An.endTagWithoutMatchingOpenElement)}function Y2(e,t){e.openElements.pop(),e.insertionMode=Mt.AFTER_HEAD,e._processToken(t)}function dve(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.BASEFONT:case le.BGSOUND:case le.HEAD:case le.LINK:case le.META:case le.NOFRAMES:case le.STYLE:{mg(e,t);break}case le.NOSCRIPT:{e._err(t,An.nestedNoscriptInHead);break}default:W2(e,t)}}function fve(e,t){switch(t.tagID){case le.NOSCRIPT:{e.openElements.pop(),e.insertionMode=Mt.IN_HEAD;break}case le.BR:{W2(e,t);break}default:e._err(t,An.endTagWithoutMatchingOpenElement)}}function W2(e,t){const n=t.type===Ni.EOF?An.openElementsLeftAfterEof:An.disallowedContentInNoscriptInHead;e._err(t,n),e.openElements.pop(),e.insertionMode=Mt.IN_HEAD,e._processToken(t)}function hve(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.BODY:{e._insertElement(t,er.HTML),e.framesetOk=!1,e.insertionMode=Mt.IN_BODY;break}case le.FRAMESET:{e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_FRAMESET;break}case le.BASE:case le.BASEFONT:case le.BGSOUND:case le.LINK:case le.META:case le.NOFRAMES:case le.SCRIPT:case le.STYLE:case le.TEMPLATE:case le.TITLE:{e._err(t,An.abandonedHeadElementChild),e.openElements.push(e.headElement,le.HEAD),mg(e,t),e.openElements.remove(e.headElement);break}case le.HEAD:{e._err(t,An.misplacedStartTagForHeadElement);break}default:Z2(e,t)}}function pve(e,t){switch(t.tagID){case le.BODY:case le.HTML:case le.BR:{Z2(e,t);break}case le.TEMPLATE:{j1(e,t);break}default:e._err(t,An.endTagWithoutMatchingOpenElement)}}function Z2(e,t){e._insertFakeElement(cn.BODY,le.BODY),e.insertionMode=Mt.IN_BODY,UI(e,t)}function UI(e,t){switch(t.type){case Ni.CHARACTER:{pW(e,t);break}case Ni.WHITESPACE_CHARACTER:{hW(e,t);break}case Ni.COMMENT:{w3(e,t);break}case Ni.START_TAG:{bd(e,t);break}case Ni.END_TAG:{GI(e,t);break}case Ni.EOF:{vW(e,t);break}}}function hW(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t)}function pW(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1}function mve(e,t){e.openElements.tmplCount===0&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs)}function gve(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e.openElements.tmplCount===0&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(n,t.attrs))}function yve(e,t){const n=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&n&&(e.treeAdapter.detachNode(n),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_FRAMESET)}function vve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML)}function bve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e.openElements.currentTagId!==void 0&&E3.has(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,er.HTML)}function _ve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML),e.skipNextNewLine=!0,e.framesetOk=!1}function xve(e,t){const n=e.openElements.tmplCount>0;(!e.formElement||n)&&(e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML),n||(e.formElement=e.openElements.current))}function Eve(e,t){e.framesetOk=!1;const n=t.tagID;for(let r=e.openElements.stackTop;r>=0;r--){const a=e.openElements.tagIDs[r];if(n===le.LI&&a===le.LI||(n===le.DD||n===le.DT)&&(a===le.DD||a===le.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==le.ADDRESS&&a!==le.DIV&&a!==le.P&&e._isSpecialElement(e.openElements.items[r],a))break}e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML)}function wve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML),e.tokenizer.state=Gf.PLAINTEXT}function Sve(e,t){e.openElements.hasInScope(le.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(le.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML),e.framesetOk=!1}function Tve(e,t){const n=e.activeFormattingElements.getElementEntryInScopeWithTagName(cn.A);n&&(HL(e,t),e.openElements.remove(n.element),e.activeFormattingElements.removeEntry(n)),e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Cve(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function Ave(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(le.NOBR)&&(HL(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,er.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t)}function kve(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1}function Ive(e,t){e.treeAdapter.getDocumentMode(e.document)!==jp.QUIRKS&&e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._insertElement(t,er.HTML),e.framesetOk=!1,e.insertionMode=Mt.IN_TABLE}function mW(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,er.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function gW(e){const t=rW(e,l1.TYPE);return t!=null&&t.toLowerCase()===Y0e}function Nve(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,er.HTML),gW(t)||(e.framesetOk=!1),t.ackSelfClosing=!0}function Rve(e,t){e._appendElement(t,er.HTML),t.ackSelfClosing=!0}function Mve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._appendElement(t,er.HTML),e.framesetOk=!1,t.ackSelfClosing=!0}function Ove(e,t){t.tagName=cn.IMG,t.tagID=le.IMG,mW(e,t)}function Dve(e,t){e._insertElement(t,er.HTML),e.skipNextNewLine=!0,e.tokenizer.state=Gf.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Mt.TEXT}function Lve(e,t){e.openElements.hasInButtonScope(le.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,Gf.RAWTEXT)}function Pve(e,t){e.framesetOk=!1,e._switchToTextParsing(t,Gf.RAWTEXT)}function vj(e,t){e._switchToTextParsing(t,Gf.RAWTEXT)}function Fve(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Mt.IN_TABLE||e.insertionMode===Mt.IN_CAPTION||e.insertionMode===Mt.IN_TABLE_BODY||e.insertionMode===Mt.IN_ROW||e.insertionMode===Mt.IN_CELL?Mt.IN_SELECT_IN_TABLE:Mt.IN_SELECT}function Bve(e,t){e.openElements.currentTagId===le.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML)}function $ve(e,t){e.openElements.hasInScope(le.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,er.HTML)}function jve(e,t){e.openElements.hasInScope(le.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(le.RTC),e._insertElement(t,er.HTML)}function zve(e,t){e._reconstructActiveFormattingElements(),uW(t),GL(t),t.selfClosing?e._appendElement(t,er.MATHML):e._insertElement(t,er.MATHML),t.ackSelfClosing=!0}function Uve(e,t){e._reconstructActiveFormattingElements(),cW(t),GL(t),t.selfClosing?e._appendElement(t,er.SVG):e._insertElement(t,er.SVG),t.ackSelfClosing=!0}function bj(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,er.HTML)}function bd(e,t){switch(t.tagID){case le.I:case le.S:case le.B:case le.U:case le.EM:case le.TT:case le.BIG:case le.CODE:case le.FONT:case le.SMALL:case le.STRIKE:case le.STRONG:{Cve(e,t);break}case le.A:{Tve(e,t);break}case le.H1:case le.H2:case le.H3:case le.H4:case le.H5:case le.H6:{bve(e,t);break}case le.P:case le.DL:case le.OL:case le.UL:case le.DIV:case le.DIR:case le.NAV:case le.MAIN:case le.MENU:case le.ASIDE:case le.CENTER:case le.FIGURE:case le.FOOTER:case le.HEADER:case le.HGROUP:case le.DIALOG:case le.DETAILS:case le.ADDRESS:case le.ARTICLE:case le.SEARCH:case le.SECTION:case le.SUMMARY:case le.FIELDSET:case le.BLOCKQUOTE:case le.FIGCAPTION:{vve(e,t);break}case le.LI:case le.DD:case le.DT:{Eve(e,t);break}case le.BR:case le.IMG:case le.WBR:case le.AREA:case le.EMBED:case le.KEYGEN:{mW(e,t);break}case le.HR:{Mve(e,t);break}case le.RB:case le.RTC:{$ve(e,t);break}case le.RT:case le.RP:{jve(e,t);break}case le.PRE:case le.LISTING:{_ve(e,t);break}case le.XMP:{Lve(e,t);break}case le.SVG:{Uve(e,t);break}case le.HTML:{mve(e,t);break}case le.BASE:case le.LINK:case le.META:case le.STYLE:case le.TITLE:case le.SCRIPT:case le.BGSOUND:case le.BASEFONT:case le.TEMPLATE:{mg(e,t);break}case le.BODY:{gve(e,t);break}case le.FORM:{xve(e,t);break}case le.NOBR:{Ave(e,t);break}case le.MATH:{zve(e,t);break}case le.TABLE:{Ive(e,t);break}case le.INPUT:{Nve(e,t);break}case le.PARAM:case le.TRACK:case le.SOURCE:{Rve(e,t);break}case le.IMAGE:{Ove(e,t);break}case le.BUTTON:{Sve(e,t);break}case le.APPLET:case le.OBJECT:case le.MARQUEE:{kve(e,t);break}case le.IFRAME:{Pve(e,t);break}case le.SELECT:{Fve(e,t);break}case le.OPTION:case le.OPTGROUP:{Bve(e,t);break}case le.NOEMBED:case le.NOFRAMES:{vj(e,t);break}case le.FRAMESET:{yve(e,t);break}case le.TEXTAREA:{Dve(e,t);break}case le.NOSCRIPT:{e.options.scriptingEnabled?vj(e,t):bj(e,t);break}case le.PLAINTEXT:{wve(e,t);break}case le.COL:case le.TH:case le.TD:case le.TR:case le.HEAD:case le.FRAME:case le.TBODY:case le.TFOOT:case le.THEAD:case le.CAPTION:case le.COLGROUP:break;default:bj(e,t)}}function Gve(e,t){if(e.openElements.hasInScope(le.BODY)&&(e.insertionMode=Mt.AFTER_BODY,e.options.sourceCodeLocationInfo)){const n=e.openElements.tryPeekProperlyNestedBodyElement();n&&e._setEndLocation(n,t)}}function Hve(e,t){e.openElements.hasInScope(le.BODY)&&(e.insertionMode=Mt.AFTER_BODY,CW(e,t))}function Vve(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n))}function qve(e){const t=e.openElements.tmplCount>0,{formElement:n}=e;t||(e.formElement=null),(n||t)&&e.openElements.hasInScope(le.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(le.FORM):n&&e.openElements.remove(n))}function Yve(e){e.openElements.hasInButtonScope(le.P)||e._insertFakeElement(cn.P,le.P),e._closePElement()}function Wve(e){e.openElements.hasInListItemScope(le.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(le.LI),e.openElements.popUntilTagNamePopped(le.LI))}function Zve(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTagsWithExclusion(n),e.openElements.popUntilTagNamePopped(n))}function Xve(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped())}function Kve(e,t){const n=t.tagID;e.openElements.hasInScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker())}function Qve(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(cn.BR,le.BR),e.openElements.pop(),e.framesetOk=!1}function yW(e,t){const n=t.tagName,r=t.tagID;for(let a=e.openElements.stackTop;a>0;a--){const l=e.openElements.items[a],u=e.openElements.tagIDs[a];if(r===u&&(r!==le.UNKNOWN||e.treeAdapter.getTagName(l)===n)){e.openElements.generateImpliedEndTagsWithExclusion(r),e.openElements.stackTop>=a&&e.openElements.shortenToLength(a);break}if(e._isSpecialElement(l,u))break}}function GI(e,t){switch(t.tagID){case le.A:case le.B:case le.I:case le.S:case le.U:case le.EM:case le.TT:case le.BIG:case le.CODE:case le.FONT:case le.NOBR:case le.SMALL:case le.STRIKE:case le.STRONG:{HL(e,t);break}case le.P:{Yve(e);break}case le.DL:case le.UL:case le.OL:case le.DIR:case le.DIV:case le.NAV:case le.PRE:case le.MAIN:case le.MENU:case le.ASIDE:case le.BUTTON:case le.CENTER:case le.FIGURE:case le.FOOTER:case le.HEADER:case le.HGROUP:case le.DIALOG:case le.ADDRESS:case le.ARTICLE:case le.DETAILS:case le.SEARCH:case le.SECTION:case le.SUMMARY:case le.LISTING:case le.FIELDSET:case le.BLOCKQUOTE:case le.FIGCAPTION:{Vve(e,t);break}case le.LI:{Wve(e);break}case le.DD:case le.DT:{Zve(e,t);break}case le.H1:case le.H2:case le.H3:case le.H4:case le.H5:case le.H6:{Xve(e);break}case le.BR:{Qve(e);break}case le.BODY:{Gve(e,t);break}case le.HTML:{Hve(e,t);break}case le.FORM:{qve(e);break}case le.APPLET:case le.OBJECT:case le.MARQUEE:{Kve(e,t);break}case le.TEMPLATE:{j1(e,t);break}default:yW(e,t)}}function vW(e,t){e.tmplInsertionModeStack.length>0?TW(e,t):VL(e,t)}function Jve(e,t){var n;t.tagID===le.SCRIPT&&((n=e.scriptHandler)===null||n===void 0||n.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode}function ebe(e,t){e._err(t,An.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t)}function zR(e,t){if(e.openElements.currentTagId!==void 0&&dW.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Mt.IN_TABLE_TEXT,t.type){case Ni.CHARACTER:{_W(e,t);break}case Ni.WHITESPACE_CHARACTER:{bW(e,t);break}}else _T(e,t)}function tbe(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_CAPTION}function nbe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_COLUMN_GROUP}function rbe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(cn.COLGROUP,le.COLGROUP),e.insertionMode=Mt.IN_COLUMN_GROUP,qL(e,t)}function abe(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_TABLE_BODY}function ibe(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(cn.TBODY,le.TBODY),e.insertionMode=Mt.IN_TABLE_BODY,HI(e,t)}function obe(e,t){e.openElements.hasInTableScope(le.TABLE)&&(e.openElements.popUntilTagNamePopped(le.TABLE),e._resetInsertionMode(),e._processStartTag(t))}function sbe(e,t){gW(t)?e._appendElement(t,er.HTML):_T(e,t),t.ackSelfClosing=!0}function lbe(e,t){!e.formElement&&e.openElements.tmplCount===0&&(e._insertElement(t,er.HTML),e.formElement=e.openElements.current,e.openElements.pop())}function OE(e,t){switch(t.tagID){case le.TD:case le.TH:case le.TR:{ibe(e,t);break}case le.STYLE:case le.SCRIPT:case le.TEMPLATE:{mg(e,t);break}case le.COL:{rbe(e,t);break}case le.FORM:{lbe(e,t);break}case le.TABLE:{obe(e,t);break}case le.TBODY:case le.TFOOT:case le.THEAD:{abe(e,t);break}case le.INPUT:{sbe(e,t);break}case le.CAPTION:{tbe(e,t);break}case le.COLGROUP:{nbe(e,t);break}default:_T(e,t)}}function kS(e,t){switch(t.tagID){case le.TABLE:{e.openElements.hasInTableScope(le.TABLE)&&(e.openElements.popUntilTagNamePopped(le.TABLE),e._resetInsertionMode());break}case le.TEMPLATE:{j1(e,t);break}case le.BODY:case le.CAPTION:case le.COL:case le.COLGROUP:case le.HTML:case le.TBODY:case le.TD:case le.TFOOT:case le.TH:case le.THEAD:case le.TR:break;default:_T(e,t)}}function _T(e,t){const n=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,UI(e,t),e.fosterParentingEnabled=n}function bW(e,t){e.pendingCharacterTokens.push(t)}function _W(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0}function c2(e,t){let n=0;if(e.hasNonWhitespacePendingCharacterToken)for(;n<e.pendingCharacterTokens.length;n++)_T(e,e.pendingCharacterTokens[n]);else for(;n<e.pendingCharacterTokens.length;n++)e._insertCharacters(e.pendingCharacterTokens[n]);e.insertionMode=e.originalInsertionMode,e._processToken(t)}const xW=new Set([le.CAPTION,le.COL,le.COLGROUP,le.TBODY,le.TD,le.TFOOT,le.TH,le.THEAD,le.TR]);function ube(e,t){const n=t.tagID;xW.has(n)?e.openElements.hasInTableScope(le.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(le.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Mt.IN_TABLE,OE(e,t)):bd(e,t)}function cbe(e,t){const n=t.tagID;switch(n){case le.CAPTION:case le.TABLE:{e.openElements.hasInTableScope(le.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(le.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Mt.IN_TABLE,n===le.TABLE&&kS(e,t));break}case le.BODY:case le.COL:case le.COLGROUP:case le.HTML:case le.TBODY:case le.TD:case le.TFOOT:case le.TH:case le.THEAD:case le.TR:break;default:GI(e,t)}}function qL(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.COL:{e._appendElement(t,er.HTML),t.ackSelfClosing=!0;break}case le.TEMPLATE:{mg(e,t);break}default:Ek(e,t)}}function dbe(e,t){switch(t.tagID){case le.COLGROUP:{e.openElements.currentTagId===le.COLGROUP&&(e.openElements.pop(),e.insertionMode=Mt.IN_TABLE);break}case le.TEMPLATE:{j1(e,t);break}case le.COL:break;default:Ek(e,t)}}function Ek(e,t){e.openElements.currentTagId===le.COLGROUP&&(e.openElements.pop(),e.insertionMode=Mt.IN_TABLE,e._processToken(t))}function HI(e,t){switch(t.tagID){case le.TR:{e.openElements.clearBackToTableBodyContext(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_ROW;break}case le.TH:case le.TD:{e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(cn.TR,le.TR),e.insertionMode=Mt.IN_ROW,VI(e,t);break}case le.CAPTION:case le.COL:case le.COLGROUP:case le.TBODY:case le.TFOOT:case le.THEAD:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE,OE(e,t));break}default:OE(e,t)}}function S3(e,t){const n=t.tagID;switch(t.tagID){case le.TBODY:case le.TFOOT:case le.THEAD:{e.openElements.hasInTableScope(n)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE);break}case le.TABLE:{e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE,kS(e,t));break}case le.BODY:case le.CAPTION:case le.COL:case le.COLGROUP:case le.HTML:case le.TD:case le.TH:case le.TR:break;default:kS(e,t)}}function VI(e,t){switch(t.tagID){case le.TH:case le.TD:{e.openElements.clearBackToTableRowContext(),e._insertElement(t,er.HTML),e.insertionMode=Mt.IN_CELL,e.activeFormattingElements.insertMarker();break}case le.CAPTION:case le.COL:case le.COLGROUP:case le.TBODY:case le.TFOOT:case le.THEAD:case le.TR:{e.openElements.hasInTableScope(le.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE_BODY,HI(e,t));break}default:OE(e,t)}}function EW(e,t){switch(t.tagID){case le.TR:{e.openElements.hasInTableScope(le.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE_BODY);break}case le.TABLE:{e.openElements.hasInTableScope(le.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE_BODY,S3(e,t));break}case le.TBODY:case le.TFOOT:case le.THEAD:{(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(le.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Mt.IN_TABLE_BODY,S3(e,t));break}case le.BODY:case le.CAPTION:case le.COL:case le.COLGROUP:case le.HTML:case le.TD:case le.TH:break;default:kS(e,t)}}function fbe(e,t){const n=t.tagID;xW.has(n)?(e.openElements.hasInTableScope(le.TD)||e.openElements.hasInTableScope(le.TH))&&(e._closeTableCell(),VI(e,t)):bd(e,t)}function hbe(e,t){const n=t.tagID;switch(n){case le.TD:case le.TH:{e.openElements.hasInTableScope(n)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(n),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Mt.IN_ROW);break}case le.TABLE:case le.TBODY:case le.TFOOT:case le.THEAD:case le.TR:{e.openElements.hasInTableScope(n)&&(e._closeTableCell(),EW(e,t));break}case le.BODY:case le.CAPTION:case le.COL:case le.COLGROUP:case le.HTML:break;default:GI(e,t)}}function wW(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.OPTION:{e.openElements.currentTagId===le.OPTION&&e.openElements.pop(),e._insertElement(t,er.HTML);break}case le.OPTGROUP:{e.openElements.currentTagId===le.OPTION&&e.openElements.pop(),e.openElements.currentTagId===le.OPTGROUP&&e.openElements.pop(),e._insertElement(t,er.HTML);break}case le.HR:{e.openElements.currentTagId===le.OPTION&&e.openElements.pop(),e.openElements.currentTagId===le.OPTGROUP&&e.openElements.pop(),e._appendElement(t,er.HTML),t.ackSelfClosing=!0;break}case le.INPUT:case le.KEYGEN:case le.TEXTAREA:case le.SELECT:{e.openElements.hasInSelectScope(le.SELECT)&&(e.openElements.popUntilTagNamePopped(le.SELECT),e._resetInsertionMode(),t.tagID!==le.SELECT&&e._processStartTag(t));break}case le.SCRIPT:case le.TEMPLATE:{mg(e,t);break}}}function SW(e,t){switch(t.tagID){case le.OPTGROUP:{e.openElements.stackTop>0&&e.openElements.currentTagId===le.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===le.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===le.OPTGROUP&&e.openElements.pop();break}case le.OPTION:{e.openElements.currentTagId===le.OPTION&&e.openElements.pop();break}case le.SELECT:{e.openElements.hasInSelectScope(le.SELECT)&&(e.openElements.popUntilTagNamePopped(le.SELECT),e._resetInsertionMode());break}case le.TEMPLATE:{j1(e,t);break}}}function pbe(e,t){const n=t.tagID;n===le.CAPTION||n===le.TABLE||n===le.TBODY||n===le.TFOOT||n===le.THEAD||n===le.TR||n===le.TD||n===le.TH?(e.openElements.popUntilTagNamePopped(le.SELECT),e._resetInsertionMode(),e._processStartTag(t)):wW(e,t)}function mbe(e,t){const n=t.tagID;n===le.CAPTION||n===le.TABLE||n===le.TBODY||n===le.TFOOT||n===le.THEAD||n===le.TR||n===le.TD||n===le.TH?e.openElements.hasInTableScope(n)&&(e.openElements.popUntilTagNamePopped(le.SELECT),e._resetInsertionMode(),e.onEndTag(t)):SW(e,t)}function gbe(e,t){switch(t.tagID){case le.BASE:case le.BASEFONT:case le.BGSOUND:case le.LINK:case le.META:case le.NOFRAMES:case le.SCRIPT:case le.STYLE:case le.TEMPLATE:case le.TITLE:{mg(e,t);break}case le.CAPTION:case le.COLGROUP:case le.TBODY:case le.TFOOT:case le.THEAD:{e.tmplInsertionModeStack[0]=Mt.IN_TABLE,e.insertionMode=Mt.IN_TABLE,OE(e,t);break}case le.COL:{e.tmplInsertionModeStack[0]=Mt.IN_COLUMN_GROUP,e.insertionMode=Mt.IN_COLUMN_GROUP,qL(e,t);break}case le.TR:{e.tmplInsertionModeStack[0]=Mt.IN_TABLE_BODY,e.insertionMode=Mt.IN_TABLE_BODY,HI(e,t);break}case le.TD:case le.TH:{e.tmplInsertionModeStack[0]=Mt.IN_ROW,e.insertionMode=Mt.IN_ROW,VI(e,t);break}default:e.tmplInsertionModeStack[0]=Mt.IN_BODY,e.insertionMode=Mt.IN_BODY,bd(e,t)}}function ybe(e,t){t.tagID===le.TEMPLATE&&j1(e,t)}function TW(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(le.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):VL(e,t)}function vbe(e,t){t.tagID===le.HTML?bd(e,t):wk(e,t)}function CW(e,t){var n;if(t.tagID===le.HTML){if(e.fragmentContext||(e.insertionMode=Mt.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===le.HTML){e._setEndLocation(e.openElements.items[0],t);const r=e.openElements.items[1];r&&!(!((n=e.treeAdapter.getNodeSourceCodeLocation(r))===null||n===void 0)&&n.endTag)&&e._setEndLocation(r,t)}}else wk(e,t)}function wk(e,t){e.insertionMode=Mt.IN_BODY,UI(e,t)}function bbe(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.FRAMESET:{e._insertElement(t,er.HTML);break}case le.FRAME:{e._appendElement(t,er.HTML),t.ackSelfClosing=!0;break}case le.NOFRAMES:{mg(e,t);break}}}function _be(e,t){t.tagID===le.FRAMESET&&!e.openElements.isRootHtmlElementCurrent()&&(e.openElements.pop(),!e.fragmentContext&&e.openElements.currentTagId!==le.FRAMESET&&(e.insertionMode=Mt.AFTER_FRAMESET))}function xbe(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.NOFRAMES:{mg(e,t);break}}}function Ebe(e,t){t.tagID===le.HTML&&(e.insertionMode=Mt.AFTER_AFTER_FRAMESET)}function wbe(e,t){t.tagID===le.HTML?bd(e,t):RA(e,t)}function RA(e,t){e.insertionMode=Mt.IN_BODY,UI(e,t)}function Sbe(e,t){switch(t.tagID){case le.HTML:{bd(e,t);break}case le.NOFRAMES:{mg(e,t);break}}}function Tbe(e,t){t.chars=As,e._insertCharacters(t)}function Cbe(e,t){e._insertCharacters(t),e.framesetOk=!1}function AW(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==er.HTML&&e.openElements.currentTagId!==void 0&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop()}function Abe(e,t){if(U0e(t))AW(e),e._startTagOutsideForeignContent(t);else{const n=e._getAdjustedCurrentElement(),r=e.treeAdapter.getNamespaceURI(n);r===er.MATHML?uW(t):r===er.SVG&&(G0e(t),cW(t)),GL(t),t.selfClosing?e._appendElement(t,r):e._insertElement(t,r),t.ackSelfClosing=!0}}function kbe(e,t){if(t.tagID===le.P||t.tagID===le.BR){AW(e),e._endTagOutsideForeignContent(t);return}for(let n=e.openElements.stackTop;n>0;n--){const r=e.openElements.items[n];if(e.treeAdapter.getNamespaceURI(r)===er.HTML){e._endTagOutsideForeignContent(t);break}const a=e.treeAdapter.getTagName(r);if(a.toLowerCase()===t.tagName){t.tagName=a,e.openElements.shortenToLength(n);break}}}cn.AREA,cn.BASE,cn.BASEFONT,cn.BGSOUND,cn.BR,cn.COL,cn.EMBED,cn.FRAME,cn.HR,cn.IMG,cn.INPUT,cn.KEYGEN,cn.LINK,cn.META,cn.PARAM,cn.SOURCE,cn.TRACK,cn.WBR;function Ibe(e,t){return fW.parse(e,t)}function Nbe(e,t,n){typeof e=="string"&&(n=t,t=e,e=null);const r=fW.getFragmentParser(e,n);return r.tokenizer.write(t,!0),r.getFragment()}function Rbe(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?_j(e.position):"start"in e||"end"in e?_j(e):"line"in e||"column"in e?T3(e):""}function T3(e){return xj(e&&e.line)+":"+xj(e&&e.column)}function _j(e){return T3(e&&e.start)+"-"+T3(e&&e.end)}function xj(e){return e&&typeof e=="number"?e:1}class of extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",l={},u=!1;if(n&&("line"in n&&"column"in n?l={place:n}:"start"in n&&"end"in n?l={place:n}:"type"in n?l={ancestors:[n],place:n.position}:l={...n}),typeof t=="string"?a=t:!l.cause&&t&&(u=!0,a=t.message,l.cause=t),!l.ruleId&&!l.source&&typeof r=="string"){const m=r.indexOf(":");m===-1?l.ruleId=r:(l.source=r.slice(0,m),l.ruleId=r.slice(m+1))}if(!l.place&&l.ancestors&&l.ancestors){const m=l.ancestors[l.ancestors.length-1];m&&(l.place=m.position)}const i=l.place&&"start"in l.place?l.place.start:l.place;this.ancestors=l.ancestors||void 0,this.cause=l.cause||void 0,this.column=i?i.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=i?i.line:void 0,this.name=Rbe(l.place)||"1:1",this.place=l.place||void 0,this.reason=this.message,this.ruleId=l.ruleId||void 0,this.source=l.source||void 0,this.stack=u&&l.cause&&typeof l.cause.stack=="string"?l.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}of.prototype.file="";of.prototype.name="";of.prototype.reason="";of.prototype.message="";of.prototype.stack="";of.prototype.column=void 0;of.prototype.line=void 0;of.prototype.ancestors=void 0;of.prototype.cause=void 0;of.prototype.fatal=void 0;of.prototype.place=void 0;of.prototype.ruleId=void 0;of.prototype.source=void 0;const uy={basename:Mbe,dirname:Obe,extname:Dbe,join:Lbe,sep:"/"};function Mbe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');xT(e);let n=0,r=-1,a=e.length,l;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else r<0&&(l=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let u=-1,i=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(l){n=a+1;break}}else u<0&&(l=!0,u=a+1),i>-1&&(e.codePointAt(a)===t.codePointAt(i--)?i<0&&(r=a):(i=-1,r=u));return n===r?r=u:r<0&&(r=e.length),e.slice(n,r)}function Obe(e){if(xT(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Dbe(e){xT(e);let t=e.length,n=-1,r=0,a=-1,l=0,u;for(;t--;){const i=e.codePointAt(t);if(i===47){if(u){r=t+1;break}continue}n<0&&(u=!0,n=t+1),i===46?a<0?a=t:l!==1&&(l=1):a>-1&&(l=-1)}return a<0||n<0||l===0||l===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function Lbe(...e){let t=-1,n;for(;++t<e.length;)xT(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Pbe(n)}function Pbe(e){xT(e);const t=e.codePointAt(0)===47;let n=Fbe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Fbe(e,t){let n="",r=0,a=-1,l=0,u=-1,i,m;for(;++u<=e.length;){if(u<e.length)i=e.codePointAt(u);else{if(i===47)break;i=47}if(i===47){if(!(a===u-1||l===1))if(a!==u-1&&l===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(m=n.lastIndexOf("/"),m!==n.length-1){m<0?(n="",r=0):(n=n.slice(0,m),r=n.length-1-n.lastIndexOf("/")),a=u,l=0;continue}}else if(n.length>0){n="",r=0,a=u,l=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,u):n=e.slice(a+1,u),r=u-a-1;a=u,l=0}else i===46&&l>-1?l++:l=-1}return n}function xT(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Bbe={cwd:$be};function $be(){return"/"}function C3(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function jbe(e){if(typeof e=="string")e=new URL(e);else if(!C3(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return zbe(e)}function zbe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const UR=["history","path","basename","stem","extname","dirname"];class A3{constructor(t){let n;t?C3(t)?n={path:t}:typeof t=="string"||Ube(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Bbe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<UR.length;){const l=UR[r];l in n&&n[l]!==void 0&&n[l]!==null&&(this[l]=l==="history"?[...n[l]]:n[l])}let a;for(a in n)UR.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?uy.basename(this.path):void 0}set basename(t){HR(t,"basename"),GR(t,"basename"),this.path=uy.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?uy.dirname(this.path):void 0}set dirname(t){Ej(this.basename,"dirname"),this.path=uy.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?uy.extname(this.path):void 0}set extname(t){if(GR(t,"extname"),Ej(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=uy.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){C3(t)&&(t=jbe(t)),HR(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?uy.basename(this.path,this.extname):void 0}set stem(t){HR(t,"stem"),GR(t,"stem"),this.path=uy.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new of(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function GR(e,t){if(e&&e.includes(uy.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+uy.sep+"`")}function HR(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function Ej(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ube(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Gbe={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},Hbe="https://html.spec.whatwg.org/multipage/parsing.html#parse-error-",Vbe=/-[a-z]/g,qbe=/%c(?:([-+])(\d+))?/g,Ybe=/%x/g,Wbe={2:!0,1:!1,0:null},Zbe={};function Xbe(e,t){const n=t||Zbe,r=n.onerror,a=e instanceof A3?e:new A3(e),l=n.fragment?Nbe:Ibe,u=String(a),i=l(u,{sourceCodeLocationInfo:!0,onParseError:n.onerror?m:null,scriptingEnabled:!1});return Qye(i,{file:a,space:n.space,verbose:n.verbose});function m(b){const _=b.code,w=Kbe(_),M=n[w],P=M??!0,j=typeof P=="number"?P:P?1:0;if(j){const z=Gbe[w],q=new of(G(z.reason),{place:{start:{line:b.startLine,column:b.startCol,offset:b.startOffset},end:{line:b.endLine,column:b.endCol,offset:b.endOffset}},ruleId:_,source:"hast-util-from-html"});a.path&&(q.file=a.path,q.name=a.path+":"+q.name),q.fatal=Wbe[j],q.note=G(z.description),q.url=z.url===!1?void 0:Hbe+_,r(q)}function G(z){return z.replace(qbe,q).replace(Ybe,Y);function q(J,ne,ie){const ue=(ie?Number.parseInt(ie,10):0)*(ne==="-"?-1:1),oe=u.charAt(b.startOffset+ue);return Jbe(oe)}function Y(){return e_e(u.charCodeAt(b.startOffset))}}}}function Kbe(e){return e.replace(Vbe,Qbe)}function Qbe(e){return e.charAt(1).toUpperCase()}function Jbe(e){return e==="`"?"` ` `":e}function e_e(e){return"0x"+e.toString(16).toUpperCase()}function t_e(e){const t=this,{emitParseErrors:n,...r}={...t.data("settings"),...e};t.parser=a;function a(l,u){return Xbe(l,{...r,onerror:n?function(i){u.path&&(i.name=u.path+":"+i.name,i.file=u.path),u.messages.push(i)}:void 0})}}const n_e=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","keygen","link","meta","param","source","track","wbr"],wj={}.hasOwnProperty;function r_e(e,t){const n=t||{};function r(a,...l){let u=r.invalid;const i=r.handlers;if(a&&wj.call(a,e)){const m=String(a[e]);u=wj.call(i,m)?i[m]:r.unknown}if(u)return u.call(this,a,...l)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const a_e=/["&'<>`]/g,i_e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o_e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,s_e=/[|\\{}()[\]^$+*?.]/g,Sj=new WeakMap;function l_e(e,t){if(e=e.replace(t.subset?u_e(t.subset):a_e,r),t.subset||t.escapeOnly)return e;return e.replace(i_e,n).replace(o_e,r);function n(a,l,u){return t.format((a.charCodeAt(0)-55296)*1024+a.charCodeAt(1)-56320+65536,u.charCodeAt(l+2),t)}function r(a,l,u){return t.format(a.charCodeAt(0),u.charCodeAt(l+1),t)}}function u_e(e){let t=Sj.get(e);return t||(t=c_e(e),Sj.set(e,t)),t}function c_e(e){const t=[];let n=-1;for(;++n<e.length;)t.push(e[n].replace(s_e,"\\$&"));return new RegExp("(?:"+t.join("|")+")","g")}const d_e=/[\dA-Fa-f]/;function f_e(e,t,n){const r="&#x"+e.toString(16).toUpperCase();return n&&t&&!d_e.test(String.fromCharCode(t))?r:r+";"}const h_e=/\d/;function p_e(e,t,n){const r="&#"+String(e);return n&&t&&!h_e.test(String.fromCharCode(t))?r:r+";"}const kW=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],VR={nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",times:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",divide:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",fnof:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",bull:"",hellip:"",prime:"",Prime:"",oline:"",frasl:"",weierp:"",image:"",real:"",trade:"",alefsym:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lArr:"",uArr:"",rArr:"",dArr:"",hArr:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",lceil:"",rceil:"",lfloor:"",rfloor:"",lang:"",rang:"",loz:"",spades:"",clubs:"",hearts:"",diams:"",quot:'"',amp:"&",lt:"<",gt:">",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",permil:"",lsaquo:"",rsaquo:"",euro:""},m_e=["cent","copy","divide","gt","lt","not","para","times"],IW={}.hasOwnProperty,k3={};let PC;for(PC in VR)IW.call(VR,PC)&&(k3[VR[PC]]=PC);const g_e=/[^\dA-Za-z]/;function y_e(e,t,n,r){const a=String.fromCharCode(e);if(IW.call(k3,a)){const l=k3[a],u="&"+l;return n&&kW.includes(l)&&!m_e.includes(l)&&(!r||t&&t!==61&&g_e.test(String.fromCharCode(t)))?u:u+";"}return""}function v_e(e,t,n){let r=f_e(e,t,n.omitOptionalSemicolons),a;if((n.useNamedReferences||n.useShortestReferences)&&(a=y_e(e,t,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!a)&&n.useShortestReferences){const l=p_e(e,t,n.omitOptionalSemicolons);l.length<r.length&&(r=l)}return a&&(!n.useShortestReferences||a.length<r.length)?a:r}function bE(e,t){return l_e(e,Object.assign({format:v_e},t))}const b_e=/^>|^->|<!--|-->|--!>|<!-$/g,__e=[">"],x_e=["<",">"];function E_e(e,t,n,r){return r.settings.bogusComments?"<?"+bE(e.value,Object.assign({},r.settings.characterReferences,{subset:__e}))+">":"<!--"+e.value.replace(b_e,a)+"-->";function a(l){return bE(l,Object.assign({},r.settings.characterReferences,{subset:x_e}))}}function w_e(e,t,n,r){return"<!"+(r.settings.upperDoctype?"DOCTYPE":"doctype")+(r.settings.tightDoctype?"":" ")+"html>"}function Tj(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}const S_e=/[ \t\n\f\r]/g;function YL(e){return typeof e=="object"?e.type==="text"?Cj(e.value):!1:Cj(e)}function Cj(e){return e.replace(S_e,"")===""}const bu=RW(1),NW=RW(-1),T_e=[];function RW(e){return t;function t(n,r,a){const l=n?n.children:T_e;let u=(r||0)+e,i=l[u];if(!a)for(;i&&YL(i);)u+=e,i=l[u];return i}}const C_e={}.hasOwnProperty;function MW(e){return t;function t(n,r,a){return C_e.call(e,n.tagName)&&e[n.tagName](n,r,a)}}const WL=MW({body:k_e,caption:qR,colgroup:qR,dd:M_e,dt:R_e,head:qR,html:A_e,li:N_e,optgroup:O_e,option:D_e,p:I_e,rp:Aj,rt:Aj,tbody:P_e,td:kj,tfoot:F_e,th:kj,thead:L_e,tr:B_e});function qR(e,t,n){const r=bu(n,t,!0);return!r||r.type!=="comment"&&!(r.type==="text"&&YL(r.value.charAt(0)))}function A_e(e,t,n){const r=bu(n,t);return!r||r.type!=="comment"}function k_e(e,t,n){const r=bu(n,t);return!r||r.type!=="comment"}function I_e(e,t,n){const r=bu(n,t);return r?r.type==="element"&&(r.tagName==="address"||r.tagName==="article"||r.tagName==="aside"||r.tagName==="blockquote"||r.tagName==="details"||r.tagName==="div"||r.tagName==="dl"||r.tagName==="fieldset"||r.tagName==="figcaption"||r.tagName==="figure"||r.tagName==="footer"||r.tagName==="form"||r.tagName==="h1"||r.tagName==="h2"||r.tagName==="h3"||r.tagName==="h4"||r.tagName==="h5"||r.tagName==="h6"||r.tagName==="header"||r.tagName==="hgroup"||r.tagName==="hr"||r.tagName==="main"||r.tagName==="menu"||r.tagName==="nav"||r.tagName==="ol"||r.tagName==="p"||r.tagName==="pre"||r.tagName==="section"||r.tagName==="table"||r.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function N_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&r.tagName==="li"}function R_e(e,t,n){const r=bu(n,t);return!!(r&&r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd"))}function M_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&(r.tagName==="dt"||r.tagName==="dd")}function Aj(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&(r.tagName==="rp"||r.tagName==="rt")}function O_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&r.tagName==="optgroup"}function D_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&(r.tagName==="option"||r.tagName==="optgroup")}function L_e(e,t,n){const r=bu(n,t);return!!(r&&r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot"))}function P_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&(r.tagName==="tbody"||r.tagName==="tfoot")}function F_e(e,t,n){return!bu(n,t)}function B_e(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&r.tagName==="tr"}function kj(e,t,n){const r=bu(n,t);return!r||r.type==="element"&&(r.tagName==="td"||r.tagName==="th")}const $_e=MW({body:U_e,colgroup:G_e,head:z_e,html:j_e,tbody:H_e});function j_e(e){const t=bu(e,-1);return!t||t.type!=="comment"}function z_e(e){const t=new Set;for(const r of e.children)if(r.type==="element"&&(r.tagName==="base"||r.tagName==="title")){if(t.has(r.tagName))return!1;t.add(r.tagName)}const n=e.children[0];return!n||n.type==="element"}function U_e(e){const t=bu(e,-1,!0);return!t||t.type!=="comment"&&!(t.type==="text"&&YL(t.value.charAt(0)))&&!(t.type==="element"&&(t.tagName==="meta"||t.tagName==="link"||t.tagName==="script"||t.tagName==="style"||t.tagName==="template"))}function G_e(e,t,n){const r=NW(n,t),a=bu(e,-1,!0);return n&&r&&r.type==="element"&&r.tagName==="colgroup"&&WL(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="col")}function H_e(e,t,n){const r=NW(n,t),a=bu(e,-1);return n&&r&&r.type==="element"&&(r.tagName==="thead"||r.tagName==="tbody")&&WL(r,n.children.indexOf(r),n)?!1:!!(a&&a.type==="element"&&a.tagName==="tr")}const FC={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function V_e(e,t,n,r){const a=r.schema,l=a.space==="svg"?!1:r.settings.omitOptionalTags;let u=a.space==="svg"?r.settings.closeEmptyElements:r.settings.voids.includes(e.tagName.toLowerCase());const i=[];let m;a.space==="html"&&e.tagName==="svg"&&(r.schema=bT);const b=q_e(r,e.properties),_=r.all(a.space==="html"&&e.tagName==="template"?e.content:e);return r.schema=a,_&&(u=!1),(b||!l||!$_e(e,t,n))&&(i.push("<",e.tagName,b?" "+b:""),u&&(a.space==="svg"||r.settings.closeSelfClosing)&&(m=b.charAt(b.length-1),(!r.settings.tightSelfClosing||m==="/"||m&&m!=='"'&&m!=="'")&&i.push(" "),i.push("/")),i.push(">")),i.push(_),!u&&(!l||!WL(e,t,n))&&i.push("</"+e.tagName+">"),i.join("")}function q_e(e,t){const n=[];let r=-1,a;if(t){for(a in t)if(t[a]!==null&&t[a]!==void 0){const l=Y_e(e,a,t[a]);l&&n.push(l)}}for(;++r<n.length;){const l=e.settings.tightAttributes?n[r].charAt(n[r].length-1):void 0;r!==n.length-1&&l!=='"'&&l!=="'"&&(n[r]+=" ")}return n.join("")}function Y_e(e,t,n){const r=zL(e.schema,t),a=e.settings.allowParseErrors&&e.schema.space==="html"?0:1,l=e.settings.allowDangerousCharacters?0:1;let u=e.quote,i;if(r.overloadedBoolean&&(n===r.attribute||n==="")?n=!0:(r.boolean||r.overloadedBoolean)&&(typeof n!="string"||n===r.attribute||n==="")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const m=bE(r.attribute,Object.assign({},e.settings.characterReferences,{subset:FC.name[a][l]}));return n===!0||(n=Array.isArray(n)?(r.commaSeparated?$ye:zye)(n,{padLeft:!e.settings.tightCommaSeparatedLists}):String(n),e.settings.collapseEmptyAttributes&&!n)?m:(e.settings.preferUnquoted&&(i=bE(n,Object.assign({},e.settings.characterReferences,{attribute:!0,subset:FC.unquoted[a][l]}))),i!==n&&(e.settings.quoteSmart&&Tj(n,u)>Tj(n,e.alternative)&&(u=e.alternative),i=u+bE(n,Object.assign({},e.settings.characterReferences,{subset:(u==="'"?FC.single:FC.double)[a][l],attribute:!0}))+u),m+(i&&"="+i))}const W_e=["<","&"];function OW(e,t,n,r){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?e.value:bE(e.value,Object.assign({},r.settings.characterReferences,{subset:W_e}))}function Z_e(e,t,n,r){return r.settings.allowDangerousHtml?e.value:OW(e,t,n,r)}function X_e(e,t,n,r){return r.all(e)}const K_e=r_e("type",{invalid:Q_e,unknown:J_e,handlers:{comment:E_e,doctype:w_e,element:V_e,raw:Z_e,root:X_e,text:OW}});function Q_e(e){throw new Error("Expected node, not `"+e+"`")}function J_e(e){const t=e;throw new Error("Cannot compile unknown node `"+t.type+"`")}const e1e={},t1e={},n1e=[];function r1e(e,t){const n=t||e1e,r=n.quote||'"',a=r==='"'?"'":'"';if(r!=='"'&&r!=="'")throw new Error("Invalid quote `"+r+"`, expected `'` or `\"`");return{one:a1e,all:i1e,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||n_e,characterReferences:n.characterReferences||t1e,closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?bT:jI,quote:r,alternative:a}.one(Array.isArray(e)?{type:"root",children:e}:e,void 0,void 0)}function a1e(e,t,n){return K_e(e,t,n,this)}function i1e(e){const t=[],n=e&&e.children||n1e;let r=-1;for(;++r<n.length;)t[r]=this.one(n[r],r,e);return t.join("")}function o1e(e){const t=this,n={...t.data("settings"),...e};t.compiler=r;function r(a){return r1e(a,n)}}function Ij(e){if(e)throw e}var YR,Nj;function s1e(){if(Nj)return YR;Nj=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,a=function(b){return typeof Array.isArray=="function"?Array.isArray(b):t.call(b)==="[object Array]"},l=function(b){if(!b||t.call(b)!=="[object Object]")return!1;var _=e.call(b,"constructor"),w=b.constructor&&b.constructor.prototype&&e.call(b.constructor.prototype,"isPrototypeOf");if(b.constructor&&!_&&!w)return!1;var M;for(M in b);return typeof M>"u"||e.call(b,M)},u=function(b,_){n&&_.name==="__proto__"?n(b,_.name,{enumerable:!0,configurable:!0,value:_.newValue,writable:!0}):b[_.name]=_.newValue},i=function(b,_){if(_==="__proto__")if(e.call(b,_)){if(r)return r(b,_).value}else return;return b[_]};return YR=function m(){var b,_,w,M,P,j,G=arguments[0],z=1,q=arguments.length,Y=!1;for(typeof G=="boolean"&&(Y=G,G=arguments[1]||{},z=2),(G==null||typeof G!="object"&&typeof G!="function")&&(G={});z<q;++z)if(b=arguments[z],b!=null)for(_ in b)w=i(G,_),M=i(b,_),G!==M&&(Y&&M&&(l(M)||(P=a(M)))?(P?(P=!1,j=w&&a(w)?w:[]):j=w&&l(w)?w:{},u(G,{name:_,newValue:m(Y,j,M)})):typeof M<"u"&&u(G,{name:_,newValue:M}));return G},YR}var l1e=s1e();const WR=qh(l1e);function I3(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function u1e(){const e=[],t={run:n,use:r};return t;function n(...a){let l=-1;const u=a.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);i(null,...a);function i(m,...b){const _=e[++l];let w=-1;if(m){u(m);return}for(;++w<a.length;)(b[w]===null||b[w]===void 0)&&(b[w]=a[w]);a=b,_?c1e(_,i)(...b):u(null,...b)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function c1e(e,t){let n;return r;function r(...u){const i=e.length>u.length;let m;i&&u.push(a);try{m=e.apply(this,u)}catch(b){const _=b;if(i&&n)throw _;return a(_)}i||(m&&m.then&&typeof m.then=="function"?m.then(l,a):m instanceof Error?a(m):l(m))}function a(u,...i){n||(n=!0,t(u,...i))}function l(u){a(null,u)}}const d1e=(function(e){const r=this.constructor.prototype,a=r[e],l=function(){return a.apply(l,arguments)};return Object.setPrototypeOf(l,r),l}),f1e={}.hasOwnProperty;class ZL extends d1e{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=u1e()}copy(){const t=new ZL;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(WR(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(KR("data",this.frozen),this.namespace[t]=n,this):f1e.call(this.namespace,t)&&this.namespace[t]||void 0:t?(KR("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=BC(t),r=this.parser||this.Parser;return ZR("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ZR("process",this.parser||this.Parser),XR("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(l,u){const i=BC(t),m=r.parse(i);r.run(m,i,function(_,w,M){if(_||!w||!M)return b(_);const P=w,j=r.stringify(P,M);m1e(j)?M.value=j:M.result=j,b(_,M)});function b(_,w){_||!w?u(_):l?l(w):n(void 0,w)}}}processSync(t){let n=!1,r;return this.freeze(),ZR("processSync",this.parser||this.Parser),XR("processSync",this.compiler||this.Compiler),this.process(t,a),Mj("processSync","process",n),r;function a(l,u){n=!0,Ij(l),r=u}}run(t,n,r){Rj(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?l(void 0,r):new Promise(l);function l(u,i){const m=BC(n);a.run(t,m,b);function b(_,w,M){const P=w||t;_?i(_):u?u(P):r(void 0,P,M)}}}runSync(t,n){let r=!1,a;return this.run(t,n,l),Mj("runSync","run",r),a;function l(u,i){Ij(u),a=i,r=!0}}stringify(t,n){this.freeze();const r=BC(n),a=this.compiler||this.Compiler;return XR("stringify",a),Rj(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(KR("use",this.frozen),t!=null)if(typeof t=="function")m(t,n);else if(typeof t=="object")Array.isArray(t)?i(t):u(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function l(b){if(typeof b=="function")m(b,[]);else if(typeof b=="object")if(Array.isArray(b)){const[_,...w]=b;m(_,w)}else u(b);else throw new TypeError("Expected usable value, not `"+b+"`")}function u(b){if(!("plugins"in b)&&!("settings"in b))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");i(b.plugins),b.settings&&(a.settings=WR(!0,a.settings,b.settings))}function i(b){let _=-1;if(b!=null)if(Array.isArray(b))for(;++_<b.length;){const w=b[_];l(w)}else throw new TypeError("Expected a list of plugins, not `"+b+"`")}function m(b,_){let w=-1,M=-1;for(;++w<r.length;)if(r[w][0]===b){M=w;break}if(M===-1)r.push([b,..._]);else if(_.length>0){let[P,...j]=_;const G=r[M][1];I3(G)&&I3(P)&&(P=WR(!0,G,P)),r[M]=[b,P,...j]}}}}const h1e=new ZL().freeze();function ZR(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function XR(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function KR(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Rj(e){if(!I3(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Mj(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function BC(e){return p1e(e)?e:new A3(e)}function p1e(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function m1e(e){return typeof e=="string"||g1e(e)}function g1e(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const y1e=h1e().use(t_e).use(o1e).freeze();var v1e=function(t,n){return n===void 0&&(n=[]),y1e().data("settings",{fragment:!0}).use([...n]).processSync(""+t).toString()};function b1e(e){return e.replace(/```(tsx?|jsx?|html|xml)(.*)\s+([\s\S]*?)(\s.+)?```/g,t=>t.replace(/[<&"]/g,n=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[n])).replace(/[<&"]/g,t=>({"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;"})[t])}function QR(e){e.stopPropagation(),e.preventDefault()}class _1e{constructor(t){this.elm=void 0,this.start=void 0,this.end=void 0,this.value=void 0;var{selectionStart:n,selectionEnd:r}=t;this.elm=t,this.start=n,this.end=r,this.value=this.elm.value}position(t,n){var{selectionStart:r,selectionEnd:a}=this.elm;return this.start=typeof t=="number"&&!isNaN(t)?t:r,this.end=typeof n=="number"&&!isNaN(n)?n:a,this.elm.selectionStart=this.start,this.elm.selectionEnd=this.end,this}insertText(t){return this.elm.focus(),this.elm.setRangeText(t),this.value=this.elm.value,this.position(),this}getSelectedValue(t,n){var{selectionStart:r,selectionEnd:a}=this.elm;return this.value.slice(typeof t=="number"&&!isNaN(t)?t:r,typeof n=="number"&&!isNaN(n)?t:a)}getLineStartNumber(){for(var t=this.start;t>0;)if(t--,this.value.charAt(t)===`
`){t++;break}return t}getIndentText(){var t=this.getLineStartNumber(),n=this.getSelectedValue(t),r="";return n.replace(/(^(\s)+)/,(a,l)=>r=l),r}lineStarInstert(t){if(t){var n=this.start,r=this.getLineStartNumber(),a=this.getSelectedValue(r);this.position(r,this.end).insertText(a.split(`
`).map(l=>t+l).join(`
`)).position(n+t.length,this.end)}return this}lineStarRemove(t){if(t){var n=this.start,r=this.getLineStartNumber(),a=this.getSelectedValue(r),l=new RegExp("^"+t,"g"),u=n-t.length;l.test(a)||(u=n),this.position(r,this.end).insertText(a.split(`
`).map(i=>i.replace(l,"")).join(`
`)).position(u,this.end)}}notifyChange(){var t=new Event("input",{bubbles:!0,cancelable:!1});this.elm.dispatchEvent(t)}}function x1e(e,t){t===void 0&&(t=2);var n=new _1e(e.target),r=(e.code||e.nativeEvent.code).toLocaleLowerCase(),a=" ".repeat(t);if(r==="tab")QR(e),n.start===n.end?e.shiftKey?n.lineStarRemove(a):n.insertText(a).position(n.start+t,n.end+t):n.getSelectedValue().indexOf(`
`)>-1&&e.shiftKey?n.lineStarRemove(a):n.getSelectedValue().indexOf(`
`)>-1?n.lineStarInstert(a):n.insertText(a).position(n.start+t,n.end),n.notifyChange();else if(r==="enter"){QR(e);var l=`
`+n.getIndentText();n.insertText(l).position(n.start+l.length,n.start+l.length),n.notifyChange()}else if(r&&/^(quote|backquote|bracketleft|digit9|comma)$/.test(r)&&n.getSelectedValue()){QR(e);var u=n.getSelectedValue(),i="";switch(r){case"quote":i="'"+u+"'",e.shiftKey&&(i='"'+u+'"');break;case"backquote":i="`"+u+"`";break;case"bracketleft":i="["+u+"]",e.shiftKey&&(i="{"+u+"}");break;case"digit9":i="("+u+")";break;case"comma":i="<"+u+">";break}n.insertText(i),n.notifyChange()}}var E1e={position:"relative",textAlign:"left",boxSizing:"border-box",padding:0,overflow:"hidden"},w1e={position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",opacity:.8,overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},Oj={margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"pre-wrap",wordBreak:"keep-all",overflowWrap:"break-word",outline:0},S1e=["prefixCls","value","padding","minHeight","placeholder","language","data-color-mode","className","style","rehypePlugins","onChange","indentWidth"];const T1e=Ve.forwardRef((e,t)=>{var{prefixCls:n="w-tc-editor",padding:r=10,minHeight:a=16,placeholder:l,language:u,"data-color-mode":i,className:m,style:b,rehypePlugins:_,onChange:w,indentWidth:M=2}=e,P=zq(e,S1e),[j,G]=$.useState(e.value||"");$.useEffect(()=>G(e.value||""),[e.value]);var z=$.useRef(null);$.useImperativeHandle(t,()=>z.current,[z]);var q={paddingTop:r,paddingRight:r,paddingBottom:r,paddingLeft:r},Y=$.useMemo(()=>v1e("<pre aria-hidden=true><code "+(u&&j?'class="language-'+u+'"':"")+" >"+b1e(String(j||""))+"</code><br /></pre>",_),[j,u,_]),J=$.useMemo(()=>S.jsx("div",{style:_b({},Oj,q,{minHeight:a}),className:n+"-preview "+(u?"language-"+u:""),dangerouslySetInnerHTML:{__html:Y}}),[n,u,Y]),ne=oe=>{G(oe.target.value),w&&w(oe)},ie=oe=>{P.readOnly||(!P.onKeyDown||P.onKeyDown(oe)!==!1)&&x1e(oe,M)},ue=_b({autoComplete:"off",autoCorrect:"off",spellCheck:"false",autoCapitalize:"off"},P,{placeholder:l,onKeyDown:ie,style:_b({},Oj,w1e,q,{minHeight:a},l&&!j?{WebkitTextFillColor:"inherit"}:{}),onChange:ne,className:n+"-text",value:j});return S.jsxs("div",{style:_b({},E1e,b),className:n+" "+(m||""),"data-color-mode":i,children:[S.jsx("textarea",_b({},ue,{ref:z})),J]})}),XL=(function(e){if(e==null)return I1e;if(typeof e=="function")return qI(e);if(typeof e=="object")return Array.isArray(e)?C1e(e):A1e(e);if(typeof e=="string")return k1e(e);throw new Error("Expected function, string, or object as test")});function C1e(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=XL(e[n]);return qI(r);function r(...a){let l=-1;for(;++l<t.length;)if(t[l].apply(this,a))return!0;return!1}}function A1e(e){const t=e;return qI(n);function n(r){const a=r;let l;for(l in e)if(a[l]!==t[l])return!1;return!0}}function k1e(e){return qI(t);function t(n){return n&&n.type===e}}function qI(e){return t;function t(n,r,a){return!!(N1e(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function I1e(){return!0}function N1e(e){return e!==null&&typeof e=="object"&&"type"in e}const DW=[],R1e=!0,Dj=!1,M1e="skip";function O1e(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const l=XL(a),u=r?-1:1;i(e,void 0,[])();function i(m,b,_){const w=m&&typeof m=="object"?m:{};if(typeof w.type=="string"){const P=typeof w.tagName=="string"?w.tagName:typeof w.name=="string"?w.name:void 0;Object.defineProperty(M,"name",{value:"node ("+(m.type+(P?"<"+P+">":""))+")"})}return M;function M(){let P=DW,j,G,z;if((!t||l(m,b,_[_.length-1]||void 0))&&(P=D1e(n(m,_)),P[0]===Dj))return P;if("children"in m&&m.children){const q=m;if(q.children&&P[0]!==M1e)for(G=(r?q.children.length:-1)+u,z=_.concat(q);G>-1&&G<q.children.length;){const Y=q.children[G];if(j=i(Y,G,z)(),j[0]===Dj)return j;G=typeof j[1]=="number"?j[1]:G+u}}return P}}}function D1e(e){return Array.isArray(e)?e:typeof e=="number"?[R1e,e]:e==null?DW:[e]}function L1e(e,t,n,r){let a,l,u;l=t,u=n,a=r,O1e(e,l,i,a);function i(m,b){const _=b[b.length-1],w=_?_.children.indexOf(m):void 0;return u(m,w,_)}}function $C(e){return"children"in e?LW(e):"value"in e?e.value:""}function P1e(e){return e.type==="text"?e.value:"children"in e?LW(e):""}function LW(e){let t=-1;const n=[];for(;++t<e.children.length;)n[t]=P1e(e.children[t]);return n.join("")}const F1e={}.hasOwnProperty;function B1e(e,t,n){const r=XL(t),a=t&&typeof t=="object"&&"cascade"in t?t.cascade:void 0,l=a??!0;return u(e);function u(i,m,b){const _=[];if(!r(i,m,b))return;if($1e(i)){let P=-1;for(;++P<i.children.length;){const j=u(i.children[P],P,i);j&&_.push(j)}if(l&&i.children.length>0&&_.length===0)return}const w={};let M;for(M in i)F1e.call(i,M)&&(w[M]=M==="children"?_:i[M]);return w}}function $1e(e){return"children"in e&&e.children!==void 0}var jC={exports:{}},Lj;function j1e(){return Lj||(Lj=1,(function(e,t){function n(r){let a=[],l;for(let u of r.split(",").map(i=>i.trim()))if(/^-?\d+$/.test(u))a.push(parseInt(u,10));else if(l=u.match(/^(-?\d+)(-|\.\.\.?|\u2025|\u2026|\u22EF)(-?\d+)$/)){let[i,m,b,_]=l;if(m&&_){m=parseInt(m),_=parseInt(_);const w=m<_?1:-1;(b==="-"||b===".."||b==="")&&(_+=w);for(let M=m;M!==_;M+=w)a.push(M)}}return a}t.default=n,e.exports=n})(jC,jC.exports)),jC.exports}var z1e=j1e();const U1e=qh(z1e);si.displayName="clike";si.aliases=[];function si(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}gg.displayName="c";gg.aliases=[];function gg(e){e.register(si),e.languages.c=e.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),e.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),e.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},e.languages.c.string],char:e.languages.c.char,comment:e.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:e.languages.c}}}}),e.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete e.languages.c.boolean}z1.displayName="cpp";z1.aliases=[];function z1(e){e.register(gg),(function(t){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});t.languages.cpp=t.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),t.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),t.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:t.languages.cpp}}}}),t.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),t.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:t.languages.extend("cpp",{})}}),t.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},t.languages.cpp["base-clause"])})(e)}YI.displayName="arduino";YI.aliases=["ino"];function YI(e){e.register(z1),e.languages.arduino=e.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),e.languages.ino=e.languages.arduino}ET.displayName="bash";ET.aliases=["sh","shell"];function ET(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var l=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],u=a.variable[1].inside,i=0;i<l.length;i++)u[l[i]]=t.languages.bash[l[i]];t.languages.sh=t.languages.bash,t.languages.shell=t.languages.bash})(e)}U1.displayName="csharp";U1.aliases=["cs","dotnet"];function U1(e){e.register(si),(function(t){function n(He,Re){return He.replace(/<<(\d+)>>/g,function(je,Ze){return"(?:"+Re[+Ze]+")"})}function r(He,Re,je){return RegExp(n(He,Re),"")}function a(He,Re){for(var je=0;je<Re;je++)He=He.replace(/<<self>>/g,function(){return"(?:"+He+")"});return He.replace(/<<self>>/g,"[^\\s\\S]")}var l={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function u(He){return"\\b(?:"+He.trim().replace(/ /g,"|")+")\\b"}var i=u(l.typeDeclaration),m=RegExp(u(l.type+" "+l.typeDeclaration+" "+l.contextual+" "+l.other)),b=u(l.typeDeclaration+" "+l.contextual+" "+l.other),_=u(l.type+" "+l.typeDeclaration+" "+l.other),w=a(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),M=a(/\((?:[^()]|<<self>>)*\)/.source,2),P=/@?\b[A-Za-z_]\w*\b/.source,j=n(/<<0>>(?:\s*<<1>>)?/.source,[P,w]),G=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[b,j]),z=/\[\s*(?:,\s*)*\]/.source,q=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[G,z]),Y=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[w,M,z]),J=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Y]),ne=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[J,G,z]),ie={keyword:m,punctuation:/[<>()?,.:[\]]/},ue=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,oe=/"(?:\\.|[^\\"\r\n])*"/.source,K=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[K]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[oe]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[G]),lookbehind:!0,inside:ie},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[P,ne]),lookbehind:!0,inside:ie},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[P]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[i,j]),lookbehind:!0,inside:ie},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[G]),lookbehind:!0,inside:ie},{pattern:r(/(\bwhere\s+)<<0>>/.source,[P]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[q]),lookbehind:!0,inside:ie},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ne,_,P]),inside:ie}],keyword:m,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[P]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[P]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[M]),lookbehind:!0,alias:"class-name",inside:ie},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ne,G]),inside:ie,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ne]),lookbehind:!0,inside:ie,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[P,w]),inside:{function:r(/^<<0>>/.source,[P]),generic:{pattern:RegExp(w),alias:"class-name",inside:ie}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[i,j,P,ne,m.source,M,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[j,M]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:m,"class-name":{pattern:RegExp(ne),greedy:!0,inside:ie},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var se=oe+"|"+ue,pe=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[se]),ve=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[pe]),2),Te=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Me=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[G,ve]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Te,Me]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[Te]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[ve]),inside:t.languages.csharp},"class-name":{pattern:RegExp(G),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var xe=/:[^}\r\n]+/.source,Se=a(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[pe]),2),he=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Se,xe]),we=a(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[se]),2),_e=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[we,xe]);function Be(He,Re){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[He]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Re,xe]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[he]),lookbehind:!0,greedy:!0,inside:Be(he,Se)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[_e]),lookbehind:!0,greedy:!0,inside:Be(_e,we)}],char:{pattern:RegExp(ue),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp})(e)}nc.displayName="markup";nc.aliases=["atom","html","mathml","rss","ssml","svg","xml"];function nc(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var a={};a["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};l["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var u={};u[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:l},e.languages.insertBefore("markup","cdata",u)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}Yb.displayName="css";Yb.aliases=[];function Yb(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+n.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}WI.displayName="diff";WI.aliases=[];function WI(e){(function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var n={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(n).forEach(function(r){var a=n[r],l=[];/^\w+$/.test(r)||l.push(/\w+/.exec(r)[0]),r==="diff"&&l.push("bold"),t.languages.diff[r]={pattern:RegExp("^(?:["+a+`].*(?:\r
?|
|(?![\\s\\S])))+`,"m"),alias:l,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(r)[0]}}}}),Object.defineProperty(t.languages.diff,"PREFIXES",{value:n})})(e)}ZI.displayName="go";ZI.aliases=[];function ZI(e){e.register(si),e.languages.go=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),e.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete e.languages.go["class-name"]}XI.displayName="ini";XI.aliases=[];function XI(e){e.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}G1.displayName="java";G1.aliases=[];function G1(e){e.register(si),(function(t){var n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};t.languages.java=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[a,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:a.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:a.inside}],keyword:n,function:[t.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),t.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),t.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:a.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:a.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(e)}KI.displayName="regex";KI.aliases=[];function KI(e){(function(t){var n={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,a={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},l={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},u="(?:[^\\\\-]|"+r.source+")",i=RegExp(u+"-"+u),m={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:i,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":n,"char-set":l,escape:r}},"special-escape":n,"char-set":a,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":m}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":m}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(e)}Fc.displayName="javascript";Fc.aliases=["js"];function Fc(e){e.register(si),e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}pw.displayName="json";pw.aliases=["webmanifest"];function pw(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}QI.displayName="kotlin";QI.aliases=["kt","kts"];function QI(e){e.register(si),(function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var n={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:n},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:n},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin})(e)}JI.displayName="less";JI.aliases=[];function JI(e){e.register(Yb),e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}wT.displayName="lua";wT.aliases=[];function wT(e){e.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}eN.displayName="makefile";eN.aliases=[];function eN(e){e.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}ST.displayName="yaml";ST.aliases=["yml"];function ST(e){(function(t){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,a="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",l=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),u=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function i(m,b){b=(b||"").replace(/m/g,"")+"m";var _=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<value>>/g,function(){return m});return RegExp(_,b)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return a})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return a}).replace(/<<key>>/g,function(){return"(?:"+l+"|"+u+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:i(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:i(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:i(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:i(u),lookbehind:!0,greedy:!0},number:{pattern:i(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml})(e)}tN.displayName="markdown";tN.aliases=["md"];function tN(e){e.register(nc),(function(t){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(i){return i=i.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+i+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,l=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),u=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+l+u+"(?:"+l+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+l+u+")(?:"+l+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+l+")"+u+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+l+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(i){["url","bold","italic","strike","code-snippet"].forEach(function(m){i!==m&&(t.languages.markdown[i].inside.content.inside[m]=t.languages.markdown[m])})}),t.hooks.add("after-tokenize",function(i){if(i.language!=="markdown"&&i.language!=="md")return;function m(b){if(!(!b||typeof b=="string"))for(var _=0,w=b.length;_<w;_++){var M=b[_];if(M.type!=="code"){m(M.content);continue}var P=M.content[1],j=M.content[3];if(P&&j&&P.type==="code-language"&&j.type==="code-block"&&typeof P.content=="string"){var G=P.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");G=(/[a-z][\w-]*/i.exec(G)||[""])[0].toLowerCase();var z="language-"+G;j.alias?typeof j.alias=="string"?j.alias=[j.alias,z]:j.alias.push(z):j.alias=[z]}}}m(i.tokens)}),t.hooks.add("wrap",function(i){if(i.type==="code-block"){for(var m="",b=0,_=i.classes.length;b<_;b++){var w=i.classes[b],M=/language-(.+)/.exec(w);if(M){m=M[1];break}}var P=t.languages[m];if(P)i.content=t.highlight(i.content.value,P,m);else if(m&&m!=="none"&&t.plugins.autoloader){var j="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);i.attributes.id=j,t.plugins.autoloader.loadLanguages(m,function(){var G=document.getElementById(j);G&&(G.innerHTML=t.highlight(G.textContent,t.languages[m],m))})}}}),RegExp(t.languages.markup.tag.pattern.source,"gi"),t.languages.md=t.languages.markdown})(e)}nN.displayName="objectivec";nN.aliases=["objc"];function nN(e){e.register(gg),e.languages.objectivec=e.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete e.languages.objectivec["class-name"],e.languages.objc=e.languages.objectivec}rN.displayName="perl";rN.aliases=[];function rN(e){(function(t){var n=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source;t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,n].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,n+/\s*/.source+n].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}})(e)}Bc.displayName="markup-templating";Bc.aliases=[];function Bc(e){e.register(nc),(function(t){function n(r,a){return"___"+r.toUpperCase()+a+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(r,a,l,u){if(r.language===a){var i=r.tokenStack=[];r.code=r.code.replace(l,function(m){if(typeof u=="function"&&!u(m))return m;for(var b=i.length,_;r.code.indexOf(_=n(a,b))!==-1;)++b;return i[b]=m,_}),r.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(r,a){if(r.language!==a||!r.tokenStack)return;r.grammar=t.languages[a];var l=0,u=Object.keys(r.tokenStack);function i(m){for(var b=0;b<m.length&&!(l>=u.length);b++){var _=m[b];if(typeof _=="string"||_.content&&typeof _.content=="string"){var w=u[l],M=r.tokenStack[w],P=typeof _=="string"?_:_.content,j=n(a,w),G=P.indexOf(j);if(G>-1){++l;var z=P.substring(0,G),q=new t.Token(a,t.tokenize(M,r.grammar),"language-"+a,M),Y=P.substring(G+j.length),J=[];z&&J.push.apply(J,i([z])),J.push(q),Y&&J.push.apply(J,i([Y])),typeof _=="string"?m.splice.apply(m,[b,1].concat(J)):_.content=J}}else _.content&&i(_.content)}return m}i(r.tokens)}}})})(e)}H1.displayName="php";H1.aliases=[];function H1(e){e.register(Bc),(function(t){var n=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,r=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],a=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,l=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,u=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:n,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:a,operator:l,punctuation:u};var i={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},m=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:i}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:i}}];t.languages.insertBefore("php","variable",{string:m,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:n,string:m,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:r,number:a,operator:l,punctuation:u}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",function(b){if(/<\?/.test(b.code)){var _=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;t.languages["markup-templating"].buildPlaceholders(b,"php",_)}}),t.hooks.add("after-tokenize",function(b){t.languages["markup-templating"].tokenizePlaceholders(b,"php")})})(e)}TT.displayName="python";TT.aliases=["py"];function TT(e){e.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.python["string-interpolation"].inside.interpolation.inside.rest=e.languages.python,e.languages.py=e.languages.python}aN.displayName="r";aN.aliases=[];function aN(e){e.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}V1.displayName="ruby";V1.aliases=["rb"];function V1(e){e.register(si),(function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var n={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var r="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",a=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+r+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:n,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+a),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+a+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+r),greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:n,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+r),greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:n,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby})(e)}iN.displayName="rust";iN.aliases=[];function iN(e){(function(t){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string})(e)}oN.displayName="sass";oN.aliases=[];function oN(e){e.register(Yb),(function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var n=/\$[-\w]+|#\{\$[-\w]+\}/,r=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:n,operator:r}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:n,operator:r,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(e)}sN.displayName="scss";sN.aliases=[];function sN(e){e.register(Yb),e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}mw.displayName="sql";mw.aliases=[];function mw(e){e.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}lN.displayName="swift";lN.aliases=[];function lN(e){e.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+(/(?:elseif|if)\b/.source+"(?:[ 	]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+")+"|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},e.languages.swift["string-literal"].forEach(function(t){t.inside.interpolation.inside=e.languages.swift})}gw.displayName="typescript";gw.aliases=["ts"];function gw(e){e.register(Fc),(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}CT.displayName="basic";CT.aliases=[];function CT(e){e.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}AT.displayName="vbnet";AT.aliases=[];function AT(e){e.register(CT),e.languages.vbnet=e.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}class kT{constructor(t,n,r){this.property=t,this.normal=n,r&&(this.space=r)}}kT.prototype.property={};kT.prototype.normal={};kT.prototype.space=null;function PW(e,t){const n={},r={};let a=-1;for(;++a<e.length;)Object.assign(n,e[a].property),Object.assign(r,e[a].normal);return new kT(n,r,t)}function IS(e){return e.toLowerCase()}class Qp{constructor(t,n){this.property=t,this.attribute=n}}Qp.prototype.space=null;Qp.prototype.boolean=!1;Qp.prototype.booleanish=!1;Qp.prototype.overloadedBoolean=!1;Qp.prototype.number=!1;Qp.prototype.commaSeparated=!1;Qp.prototype.spaceSeparated=!1;Qp.prototype.commaOrSpaceSeparated=!1;Qp.prototype.mustUseProperty=!1;Qp.prototype.defined=!1;let G1e=0;const $a=q1(),Vl=q1(),FW=q1(),cr=q1(),Jo=q1(),_E=q1(),kh=q1();function q1(){return 2**++G1e}const N3=Object.freeze(Object.defineProperty({__proto__:null,boolean:$a,booleanish:Vl,commaOrSpaceSeparated:kh,commaSeparated:_E,number:cr,overloadedBoolean:FW,spaceSeparated:Jo},Symbol.toStringTag,{value:"Module"})),JR=Object.keys(N3);class KL extends Qp{constructor(t,n,r,a){let l=-1;if(super(t,n),Pj(this,"space",a),typeof r=="number")for(;++l<JR.length;){const u=JR[l];Pj(this,JR[l],(r&N3[u])===N3[u])}}}KL.prototype.defined=!0;function Pj(e,t,n){n&&(e[t]=n)}const H1e={}.hasOwnProperty;function yw(e){const t={},n={};let r;for(r in e.properties)if(H1e.call(e.properties,r)){const a=e.properties[r],l=new KL(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(l.mustUseProperty=!0),t[r]=l,n[IS(r)]=r,n[IS(l.attribute)]=r}return new kT(t,n,e.space)}const BW=yw({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),$W=yw({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function jW(e,t){return t in e?e[t]:t}function zW(e,t){return jW(e,t.toLowerCase())}const UW=yw({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:zW,properties:{xmlns:null,xmlnsXLink:null}}),GW=yw({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Vl,ariaAutoComplete:null,ariaBusy:Vl,ariaChecked:Vl,ariaColCount:cr,ariaColIndex:cr,ariaColSpan:cr,ariaControls:Jo,ariaCurrent:null,ariaDescribedBy:Jo,ariaDetails:null,ariaDisabled:Vl,ariaDropEffect:Jo,ariaErrorMessage:null,ariaExpanded:Vl,ariaFlowTo:Jo,ariaGrabbed:Vl,ariaHasPopup:null,ariaHidden:Vl,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Jo,ariaLevel:cr,ariaLive:null,ariaModal:Vl,ariaMultiLine:Vl,ariaMultiSelectable:Vl,ariaOrientation:null,ariaOwns:Jo,ariaPlaceholder:null,ariaPosInSet:cr,ariaPressed:Vl,ariaReadOnly:Vl,ariaRelevant:null,ariaRequired:Vl,ariaRoleDescription:Jo,ariaRowCount:cr,ariaRowIndex:cr,ariaRowSpan:cr,ariaSelected:Vl,ariaSetSize:cr,ariaSort:null,ariaValueMax:cr,ariaValueMin:cr,ariaValueNow:cr,ariaValueText:null,role:null}}),V1e=yw({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:zW,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_E,acceptCharset:Jo,accessKey:Jo,action:null,allow:null,allowFullScreen:$a,allowPaymentRequest:$a,allowUserMedia:$a,alt:null,as:null,async:$a,autoCapitalize:null,autoComplete:Jo,autoFocus:$a,autoPlay:$a,blocking:Jo,capture:null,charSet:null,checked:$a,cite:null,className:Jo,cols:cr,colSpan:null,content:null,contentEditable:Vl,controls:$a,controlsList:Jo,coords:cr|_E,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$a,defer:$a,dir:null,dirName:null,disabled:$a,download:FW,draggable:Vl,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$a,formTarget:null,headers:Jo,height:cr,hidden:$a,high:cr,href:null,hrefLang:null,htmlFor:Jo,httpEquiv:Jo,id:null,imageSizes:null,imageSrcSet:null,inert:$a,inputMode:null,integrity:null,is:null,isMap:$a,itemId:null,itemProp:Jo,itemRef:Jo,itemScope:$a,itemType:Jo,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$a,low:cr,manifest:null,max:null,maxLength:cr,media:null,method:null,min:null,minLength:cr,multiple:$a,muted:$a,name:null,nonce:null,noModule:$a,noValidate:$a,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$a,optimum:cr,pattern:null,ping:Jo,placeholder:null,playsInline:$a,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:$a,referrerPolicy:null,rel:Jo,required:$a,reversed:$a,rows:cr,rowSpan:cr,sandbox:Jo,scope:null,scoped:$a,seamless:$a,selected:$a,shadowRootClonable:$a,shadowRootDelegatesFocus:$a,shadowRootMode:null,shape:null,size:cr,sizes:null,slot:null,span:cr,spellCheck:Vl,src:null,srcDoc:null,srcLang:null,srcSet:null,start:cr,step:null,style:null,tabIndex:cr,target:null,title:null,translate:null,type:null,typeMustMatch:$a,useMap:null,value:Vl,width:cr,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Jo,axis:null,background:null,bgColor:null,border:cr,borderColor:null,bottomMargin:cr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$a,declare:$a,event:null,face:null,frame:null,frameBorder:null,hSpace:cr,leftMargin:cr,link:null,longDesc:null,lowSrc:null,marginHeight:cr,marginWidth:cr,noResize:$a,noHref:$a,noShade:$a,noWrap:$a,object:null,profile:null,prompt:null,rev:null,rightMargin:cr,rules:null,scheme:null,scrolling:Vl,standby:null,summary:null,text:null,topMargin:cr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:cr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$a,disableRemotePlayback:$a,prefix:null,property:null,results:cr,security:null,unselectable:null}}),q1e=yw({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:jW,properties:{about:kh,accentHeight:cr,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:cr,amplitude:cr,arabicForm:null,ascent:cr,attributeName:null,attributeType:null,azimuth:cr,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:cr,by:null,calcMode:null,capHeight:cr,className:Jo,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:cr,diffuseConstant:cr,direction:null,display:null,dur:null,divisor:cr,dominantBaseline:null,download:$a,dx:null,dy:null,edgeMode:null,editable:null,elevation:cr,enableBackground:null,end:null,event:null,exponent:cr,externalResourcesRequired:null,fill:null,fillOpacity:cr,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_E,g2:_E,glyphName:_E,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:cr,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:cr,horizOriginX:cr,horizOriginY:cr,id:null,ideographic:cr,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:cr,k:cr,k1:cr,k2:cr,k3:cr,k4:cr,kernelMatrix:kh,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:cr,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:cr,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:cr,overlineThickness:cr,paintOrder:null,panose1:null,path:null,pathLength:cr,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Jo,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:cr,pointsAtY:cr,pointsAtZ:cr,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:kh,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:kh,rev:kh,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:kh,requiredFeatures:kh,requiredFonts:kh,requiredFormats:kh,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:cr,specularExponent:cr,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:cr,strikethroughThickness:cr,string:null,stroke:null,strokeDashArray:kh,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:cr,strokeOpacity:cr,strokeWidth:null,style:null,surfaceScale:cr,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:kh,tabIndex:cr,tableValues:null,target:null,targetX:cr,targetY:cr,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:kh,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:cr,underlineThickness:cr,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:cr,values:null,vAlphabetic:cr,vMathematical:cr,vectorEffect:null,vHanging:cr,vIdeographic:cr,version:null,vertAdvY:cr,vertOriginX:cr,vertOriginY:cr,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:cr,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),Y1e=/^data[-\w.:]+$/i,Fj=/-[a-z]/g,W1e=/[A-Z]/g;function Z1e(e,t){const n=IS(t);let r=t,a=Qp;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Y1e.test(t)){if(t.charAt(4)==="-"){const l=t.slice(5).replace(Fj,K1e);r="data"+l.charAt(0).toUpperCase()+l.slice(1)}else{const l=t.slice(4);if(!Fj.test(l)){let u=l.replace(W1e,X1e);u.charAt(0)!=="-"&&(u="-"+u),t="data"+u}}a=KL}return new a(r,t)}function X1e(e){return"-"+e.toLowerCase()}function K1e(e){return e.charAt(1).toUpperCase()}const Q1e=PW([$W,BW,UW,GW,V1e],"html");PW([$W,BW,UW,GW,q1e],"svg");const Bj=/[#.]/g;function J1e(e,t){const n=e||"",r={};let a=0,l,u;for(;a<n.length;){Bj.lastIndex=a;const i=Bj.exec(n),m=n.slice(a,i?i.index:n.length);m&&(l?l==="#"?r.id=m:Array.isArray(r.className)?r.className.push(m):r.className=[m]:u=m,a+=m.length),i&&(l=i[0],a++)}return{type:"element",tagName:u||t||"div",properties:r,children:[]}}const exe=new Set(["menu","submit","reset","button"]),HW={}.hasOwnProperty;function txe(e,t,n){return(function(a,l,...u){let i=-1,m;if(a==null)m={type:"root",children:[]},u.unshift(l);else if(m=J1e(a,t),m.tagName=m.tagName.toLowerCase(),nxe(l,m.tagName)){let b;for(b in l)HW.call(l,b)&&rxe(e,m.properties,b,l[b])}else u.unshift(l);for(;++i<u.length;)R3(m.children,u[i]);return m.type==="element"&&m.tagName==="template"&&(m.content={type:"root",children:m.children},m.children=[]),m})}function nxe(e,t){return e==null||typeof e!="object"||Array.isArray(e)?!1:t==="input"||!e.type||typeof e.type!="string"?!0:"children"in e&&Array.isArray(e.children)?!1:t==="button"?exe.has(e.type.toLowerCase()):!("value"in e)}function rxe(e,t,n,r){const a=Z1e(e,n);let l=-1,u;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;u=r}else typeof r=="boolean"?u=r:typeof r=="string"?a.spaceSeparated?u=_k(r):a.commaSeparated?u=bk(r):a.commaOrSpaceSeparated?u=_k(bk(r).join(" ")):u=$j(a,a.property,r):Array.isArray(r)?u=r.concat():u=a.property==="style"?axe(r):String(r);if(Array.isArray(u)){const i=[];for(;++l<u.length;)i[l]=$j(a,a.property,u[l]);u=i}a.property==="className"&&Array.isArray(t.className)&&(u=t.className.concat(u)),t[a.property]=u}}function R3(e,t){let n=-1;if(t!=null)if(typeof t=="string"||typeof t=="number")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(;++n<t.length;)R3(e,t[n]);else if(typeof t=="object"&&"type"in t)t.type==="root"?R3(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function $j(e,t,n){if(typeof n=="string"){if(e.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((e.boolean||e.overloadedBoolean)&&(n===""||IS(n)===IS(t)))return!0}return n}function axe(e){const t=[];let n;for(n in e)HW.call(e,n)&&t.push([n,e[n]].join(": "));return t.join("; ")}const ixe=txe(Q1e,"div"),jj={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function VW(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}function oxe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function sxe(e){const t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}function zj(e){return sxe(e)||VW(e)}const Uj=document.createElement("i");function Gj(e){const t="&"+e+";";Uj.innerHTML=t;const n=Uj.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}const lxe=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function uxe(e,t){const n={},r=typeof n.additional=="string"?n.additional.charCodeAt(0):n.additional,a=[];let l=0,u=-1,i="",m,b;n.position&&("start"in n.position||"indent"in n.position?(b=n.position.indent,m=n.position.start):m=n.position);let _=(m?m.line:0)||1,w=(m?m.column:0)||1,M=j(),P;for(l--;++l<=e.length;)if(P===10&&(w=(b?b[u]:0)||1),P=e.charCodeAt(l),P===38){const q=e.charCodeAt(l+1);if(q===9||q===10||q===12||q===32||q===38||q===60||Number.isNaN(q)||r&&q===r){i+=String.fromCharCode(P),w++;continue}const Y=l+1;let J=Y,ne=Y,ie;if(q===35){ne=++J;const Me=e.charCodeAt(ne);Me===88||Me===120?(ie="hexadecimal",ne=++J):ie="decimal"}else ie="named";let ue="",oe="",K="";const se=ie==="named"?zj:ie==="decimal"?VW:oxe;for(ne--;++ne<=e.length;){const Me=e.charCodeAt(ne);if(!se(Me))break;K+=String.fromCharCode(Me),ie==="named"&&kW.includes(K)&&(ue=K,oe=Gj(K))}let pe=e.charCodeAt(ne)===59;if(pe){ne++;const Me=ie==="named"?Gj(K):!1;Me&&(ue=K,oe=Me)}let ve=1+ne-Y,Te="";if(!(!pe&&n.nonTerminated===!1))if(!K)ie!=="named"&&G(4,ve);else if(ie==="named"){if(pe&&!oe)G(5,1);else if(ue!==K&&(ne=J+ue.length,ve=1+ne-J,pe=!1),!pe){const Me=ue?1:3;if(n.attribute){const xe=e.charCodeAt(ne);xe===61?(G(Me,ve),oe=""):zj(xe)?oe="":G(Me,ve)}else G(Me,ve)}Te=oe}else{pe||G(2,ve);let Me=Number.parseInt(K,ie==="hexadecimal"?16:10);if(cxe(Me))G(7,ve),Te="";else if(Me in jj)G(6,ve),Te=jj[Me];else{let xe="";dxe(Me)&&G(6,ve),Me>65535&&(Me-=65536,xe+=String.fromCharCode(Me>>>10|55296),Me=56320|Me&1023),Te=xe+String.fromCharCode(Me)}}if(Te){z(),M=j(),l=ne-1,w+=ne-Y+1,a.push(Te);const Me=j();Me.offset++,n.reference&&n.reference.call(n.referenceContext||void 0,Te,{start:M,end:Me},e.slice(Y-1,ne)),M=Me}else K=e.slice(Y-1,ne),i+=K,w+=K.length,l=ne-1}else P===10&&(_++,u++,w=0),Number.isNaN(P)?z():(i+=String.fromCharCode(P),w++);return a.join("");function j(){return{line:_,column:w,offset:l+((m?m.offset:0)||0)}}function G(q,Y){let J;n.warning&&(J=j(),J.column+=Y,J.offset+=Y,n.warning.call(n.warningContext||void 0,lxe[q],J,q))}function z(){i&&(a.push(i),n.text&&n.text.call(n.textContext||void 0,i,{start:M,end:j()}),i="")}}function cxe(e){return e>=55296&&e<=57343||e>1114111}function dxe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var fxe=0,zC={},Vu={util:{type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return e.__id||Object.defineProperty(e,"__id",{value:++fxe}),e.__id},clone:function e(t,n){n=n||{};var r,a;switch(Vu.util.type(t)){case"Object":if(a=Vu.util.objId(t),n[a])return n[a];r={},n[a]=r;for(var l in t)t.hasOwnProperty(l)&&(r[l]=e(t[l],n));return r;case"Array":return a=Vu.util.objId(t),n[a]?n[a]:(r=[],n[a]=r,t.forEach(function(u,i){r[i]=e(u,n)}),r);default:return t}}},languages:{plain:zC,plaintext:zC,text:zC,txt:zC,extend:function(e,t){var n=Vu.util.clone(Vu.languages[e]);for(var r in t)n[r]=t[r];return n},insertBefore:function(e,t,n,r){r=r||Vu.languages;var a=r[e],l={};for(var u in a)if(a.hasOwnProperty(u)){if(u==t)for(var i in n)n.hasOwnProperty(i)&&(l[i]=n[i]);n.hasOwnProperty(u)||(l[u]=a[u])}var m=r[e];return r[e]=l,Vu.languages.DFS(Vu.languages,function(b,_){_===m&&b!=e&&(this[b]=l)}),l},DFS:function e(t,n,r,a){a=a||{};var l=Vu.util.objId;for(var u in t)if(t.hasOwnProperty(u)){n.call(t,u,t[u],r||u);var i=t[u],m=Vu.util.type(i);m==="Object"&&!a[l(i)]?(a[l(i)]=!0,e(i,n,null,a)):m==="Array"&&!a[l(i)]&&(a[l(i)]=!0,e(i,n,u,a))}}},plugins:{},highlight:function(e,t,n){var r={code:e,grammar:t,language:n};if(Vu.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=Vu.tokenize(r.code,r.grammar),Vu.hooks.run("after-tokenize",r),X2.stringify(Vu.util.encode(r.tokens),r.language)},tokenize:function(e,t){var n=t.rest;if(n){for(var r in n)t[r]=n[r];delete t.rest}var a=new hxe;return MA(a,a.head,e),qW(e,a,t,a.head,0),mxe(a)},hooks:{all:{},add:function(e,t){var n=Vu.hooks.all;n[e]=n[e]||[],n[e].push(t)},run:function(e,t){var n=Vu.hooks.all[e];if(!(!n||!n.length))for(var r=0,a;a=n[r++];)a(t)}},Token:X2};function X2(e,t,n,r){this.type=e,this.content=t,this.alias=n,this.length=(r||"").length|0}function Hj(e,t,n,r){e.lastIndex=t;var a=e.exec(n);if(a&&r&&a[1]){var l=a[1].length;a.index+=l,a[0]=a[0].slice(l)}return a}function qW(e,t,n,r,a,l){for(var u in n)if(!(!n.hasOwnProperty(u)||!n[u])){var i=n[u];i=Array.isArray(i)?i:[i];for(var m=0;m<i.length;++m){if(l&&l.cause==u+","+m)return;var b=i[m],_=b.inside,w=!!b.lookbehind,M=!!b.greedy,P=b.alias;if(M&&!b.pattern.global){var j=b.pattern.toString().match(/[imsuy]*$/)[0];b.pattern=RegExp(b.pattern.source,j+"g")}for(var G=b.pattern||b,z=r.next,q=a;z!==t.tail&&!(l&&q>=l.reach);q+=z.value.length,z=z.next){var Y=z.value;if(t.length>e.length)return;if(!(Y instanceof X2)){var J=1,ne;if(M){if(ne=Hj(G,q,e,w),!ne||ne.index>=e.length)break;var K=ne.index,ie=ne.index+ne[0].length,ue=q;for(ue+=z.value.length;K>=ue;)z=z.next,ue+=z.value.length;if(ue-=z.value.length,q=ue,z.value instanceof X2)continue;for(var oe=z;oe!==t.tail&&(ue<ie||typeof oe.value=="string");oe=oe.next)J++,ue+=oe.value.length;J--,Y=e.slice(q,ue),ne.index-=q}else if(ne=Hj(G,0,Y,w),!ne)continue;var K=ne.index,se=ne[0],pe=Y.slice(0,K),ve=Y.slice(K+se.length),Te=q+Y.length;l&&Te>l.reach&&(l.reach=Te);var Me=z.prev;pe&&(Me=MA(t,Me,pe),q+=pe.length),pxe(t,Me,J);var xe=new X2(u,_?Vu.tokenize(se,_):se,P,se);if(z=MA(t,Me,xe),ve&&MA(t,z,ve),J>1){var Se={cause:u+","+m,reach:Te};qW(e,t,n,z.prev,q,Se),l&&Se.reach>l.reach&&(l.reach=Se.reach)}}}}}}function hxe(){var e={value:null,prev:null,next:null},t={value:null,prev:e,next:null};e.next=t,this.head=e,this.tail=t,this.length=0}function MA(e,t,n){var r=t.next,a={value:n,prev:t,next:r};return t.next=a,r.prev=a,e.length++,a}function pxe(e,t,n){for(var r=t.next,a=0;a<n&&r!==e.tail;a++)r=r.next;t.next=r,r.prev=t,e.length-=a}function mxe(e){for(var t=[],n=e.head.next;n!==e.tail;)t.push(n.value),n=n.next;return t}const YW=Vu,vw={}.hasOwnProperty;function WW(){}WW.prototype=YW;const nt=new WW;nt.highlight=gxe;nt.register=yxe;nt.alias=vxe;nt.registered=bxe;nt.listLanguages=_xe;nt.util.encode=xxe;nt.Token.stringify=M3;function gxe(e,t){if(typeof e!="string")throw new TypeError("Expected `string` for `value`, got `"+e+"`");let n,r;if(t&&typeof t=="object")n=t;else{if(r=t,typeof r!="string")throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(vw.call(nt.languages,r))n=nt.languages[r];else throw new Error("Unknown language: `"+r+"` is not registered")}return{type:"root",children:YW.highlight.call(nt,e,n,r)}}function yxe(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `syntax`, got `"+e+"`");vw.call(nt.languages,e.displayName)||e(nt)}function vxe(e,t){const n=nt.languages;let r={};typeof e=="string"?t&&(r[e]=t):r=e;let a;for(a in r)if(vw.call(r,a)){const l=r[a],u=typeof l=="string"?[l]:l;let i=-1;for(;++i<u.length;)n[u[i]]=n[a]}}function bxe(e){if(typeof e!="string")throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+e+"`");return vw.call(nt.languages,e)}function _xe(){const e=nt.languages,t=[];let n;for(n in e)vw.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function M3(e,t){if(typeof e=="string")return{type:"text",value:e};if(Array.isArray(e)){const r=[];let a=-1;for(;++a<e.length;)e[a]!==null&&e[a]!==void 0&&e[a]!==""&&r.push(M3(e[a],t));return r}const n={attributes:{},classes:["token",e.type],content:M3(e.content,t),language:t,tag:"span",type:e.type};return e.alias&&n.classes.push(...typeof e.alias=="string"?[e.alias]:e.alias),nt.hooks.run("wrap",n),ixe(n.tag+"."+n.classes.join("."),Exe(n.attributes),n.content)}function xxe(e){return e}function Exe(e){let t;for(t in e)vw.call(e,t)&&(e[t]=uxe(e[t]));return e}nt.register(si);nt.register(gg);nt.register(z1);nt.register(YI);nt.register(ET);nt.register(U1);nt.register(nc);nt.register(Yb);nt.register(WI);nt.register(ZI);nt.register(XI);nt.register(G1);nt.register(KI);nt.register(Fc);nt.register(pw);nt.register(QI);nt.register(JI);nt.register(wT);nt.register(eN);nt.register(ST);nt.register(tN);nt.register(nN);nt.register(rN);nt.register(Bc);nt.register(H1);nt.register(TT);nt.register(aN);nt.register(V1);nt.register(iN);nt.register(oN);nt.register(sN);nt.register(mw);nt.register(lN);nt.register(gw);nt.register(CT);nt.register(AT);QL.displayName="abap";QL.aliases=[];function QL(e){e.languages.abap={comment:/^\*.*/m,string:/(`|')(?:\\.|(?!\1)[^\\\r\n])*\1/,"string-template":{pattern:/([|}])(?:\\.|[^\\|{\r\n])*(?=[|{])/,lookbehind:!0,alias:"string"},"eol-comment":{pattern:/(^|\s)".*/m,lookbehind:!0,alias:"comment"},keyword:{pattern:/(\s|\.|^)(?:\*-INPUT|\?TO|ABAP-SOURCE|ABBREVIATED|ABS|ABSTRACT|ACCEPT|ACCEPTING|ACCESSPOLICY|ACCORDING|ACOS|ACTIVATION|ACTUAL|ADD|ADD-CORRESPONDING|ADJACENT|AFTER|ALIAS|ALIASES|ALIGN|ALL|ALLOCATE|ALPHA|ANALYSIS|ANALYZER|AND|ANY|APPEND|APPENDAGE|APPENDING|APPLICATION|ARCHIVE|AREA|ARITHMETIC|AS|ASCENDING|ASIN|ASPECT|ASSERT|ASSIGN|ASSIGNED|ASSIGNING|ASSOCIATION|ASYNCHRONOUS|AT|ATAN|ATTRIBUTES|AUTHORITY|AUTHORITY-CHECK|AVG|BACK|BACKGROUND|BACKUP|BACKWARD|BADI|BASE|BEFORE|BEGIN|BETWEEN|BIG|BINARY|BINDING|BIT|BIT-AND|BIT-NOT|BIT-OR|BIT-XOR|BLACK|BLANK|BLANKS|BLOB|BLOCK|BLOCKS|BLUE|BOUND|BOUNDARIES|BOUNDS|BOXED|BREAK-POINT|BT|BUFFER|BY|BYPASSING|BYTE|BYTE-CA|BYTE-CN|BYTE-CO|BYTE-CS|BYTE-NA|BYTE-NS|BYTE-ORDER|C|CA|CALL|CALLING|CASE|CAST|CASTING|CATCH|CEIL|CENTER|CENTERED|CHAIN|CHAIN-INPUT|CHAIN-REQUEST|CHANGE|CHANGING|CHANNELS|CHAR-TO-HEX|CHARACTER|CHARLEN|CHECK|CHECKBOX|CIRCULAR|CI_|CLASS|CLASS-CODING|CLASS-DATA|CLASS-EVENTS|CLASS-METHODS|CLASS-POOL|CLEANUP|CLEAR|CLIENT|CLOB|CLOCK|CLOSE|CN|CNT|CO|COALESCE|CODE|CODING|COLLECT|COLOR|COLUMN|COLUMNS|COL_BACKGROUND|COL_GROUP|COL_HEADING|COL_KEY|COL_NEGATIVE|COL_NORMAL|COL_POSITIVE|COL_TOTAL|COMMENT|COMMENTS|COMMIT|COMMON|COMMUNICATION|COMPARING|COMPONENT|COMPONENTS|COMPRESSION|COMPUTE|CONCAT|CONCATENATE|COND|CONDENSE|CONDITION|CONNECT|CONNECTION|CONSTANTS|CONTEXT|CONTEXTS|CONTINUE|CONTROL|CONTROLS|CONV|CONVERSION|CONVERT|COPIES|COPY|CORRESPONDING|COS|COSH|COUNT|COUNTRY|COVER|CP|CPI|CREATE|CREATING|CRITICAL|CS|CURRENCY|CURRENCY_CONVERSION|CURRENT|CURSOR|CURSOR-SELECTION|CUSTOMER|CUSTOMER-FUNCTION|DANGEROUS|DATA|DATABASE|DATAINFO|DATASET|DATE|DAYLIGHT|DBMAXLEN|DD\/MM\/YY|DD\/MM\/YYYY|DDMMYY|DEALLOCATE|DECIMALS|DECIMAL_SHIFT|DECLARATIONS|DEEP|DEFAULT|DEFERRED|DEFINE|DEFINING|DEFINITION|DELETE|DELETING|DEMAND|DEPARTMENT|DESCENDING|DESCRIBE|DESTINATION|DETAIL|DIALOG|DIRECTORY|DISCONNECT|DISPLAY|DISPLAY-MODE|DISTANCE|DISTINCT|DIV|DIVIDE|DIVIDE-CORRESPONDING|DIVISION|DO|DUMMY|DUPLICATE|DUPLICATES|DURATION|DURING|DYNAMIC|DYNPRO|E|EACH|EDIT|EDITOR-CALL|ELSE|ELSEIF|EMPTY|ENABLED|ENABLING|ENCODING|END|END-ENHANCEMENT-SECTION|END-LINES|END-OF-DEFINITION|END-OF-FILE|END-OF-PAGE|END-OF-SELECTION|ENDAT|ENDCASE|ENDCATCH|ENDCHAIN|ENDCLASS|ENDDO|ENDENHANCEMENT|ENDEXEC|ENDFOR|ENDFORM|ENDFUNCTION|ENDIAN|ENDIF|ENDING|ENDINTERFACE|ENDLOOP|ENDMETHOD|ENDMODULE|ENDON|ENDPROVIDE|ENDSELECT|ENDTRY|ENDWHILE|ENGINEERING|ENHANCEMENT|ENHANCEMENT-POINT|ENHANCEMENT-SECTION|ENHANCEMENTS|ENTRIES|ENTRY|ENVIRONMENT|EQ|EQUAL|EQUIV|ERRORMESSAGE|ERRORS|ESCAPE|ESCAPING|EVENT|EVENTS|EXACT|EXCEPT|EXCEPTION|EXCEPTION-TABLE|EXCEPTIONS|EXCLUDE|EXCLUDING|EXEC|EXECUTE|EXISTS|EXIT|EXIT-COMMAND|EXP|EXPAND|EXPANDING|EXPIRATION|EXPLICIT|EXPONENT|EXPORT|EXPORTING|EXTEND|EXTENDED|EXTENSION|EXTRACT|FAIL|FETCH|FIELD|FIELD-GROUPS|FIELD-SYMBOL|FIELD-SYMBOLS|FIELDS|FILE|FILTER|FILTER-TABLE|FILTERS|FINAL|FIND|FIRST|FIRST-LINE|FIXED-POINT|FKEQ|FKGE|FLOOR|FLUSH|FONT|FOR|FORM|FORMAT|FORWARD|FOUND|FRAC|FRAME|FRAMES|FREE|FRIENDS|FROM|FUNCTION|FUNCTION-POOL|FUNCTIONALITY|FURTHER|GAPS|GE|GENERATE|GET|GIVING|GKEQ|GKGE|GLOBAL|GRANT|GREATER|GREEN|GROUP|GROUPS|GT|HANDLE|HANDLER|HARMLESS|HASHED|HAVING|HDB|HEAD-LINES|HEADER|HEADERS|HEADING|HELP-ID|HELP-REQUEST|HIDE|HIGH|HINT|HOLD|HOTSPOT|I|ICON|ID|IDENTIFICATION|IDENTIFIER|IDS|IF|IGNORE|IGNORING|IMMEDIATELY|IMPLEMENTATION|IMPLEMENTATIONS|IMPLEMENTED|IMPLICIT|IMPORT|IMPORTING|IN|INACTIVE|INCL|INCLUDE|INCLUDES|INCLUDING|INCREMENT|INDEX|INDEX-LINE|INFOTYPES|INHERITING|INIT|INITIAL|INITIALIZATION|INNER|INOUT|INPUT|INSERT|INSTANCES|INTENSIFIED|INTERFACE|INTERFACE-POOL|INTERFACES|INTERNAL|INTERVALS|INTO|INVERSE|INVERTED-DATE|IS|ISO|ITERATOR|ITNO|JOB|JOIN|KEEP|KEEPING|KERNEL|KEY|KEYS|KEYWORDS|KIND|LANGUAGE|LAST|LATE|LAYOUT|LE|LEADING|LEAVE|LEFT|LEFT-JUSTIFIED|LEFTPLUS|LEFTSPACE|LEGACY|LENGTH|LESS|LET|LEVEL|LEVELS|LIKE|LINE|LINE-COUNT|LINE-SELECTION|LINE-SIZE|LINEFEED|LINES|LIST|LIST-PROCESSING|LISTBOX|LITTLE|LLANG|LOAD|LOAD-OF-PROGRAM|LOB|LOCAL|LOCALE|LOCATOR|LOG|LOG-POINT|LOG10|LOGFILE|LOGICAL|LONG|LOOP|LOW|LOWER|LPAD|LPI|LT|M|MAIL|MAIN|MAJOR-ID|MAPPING|MARGIN|MARK|MASK|MATCH|MATCHCODE|MAX|MAXIMUM|MEDIUM|MEMBERS|MEMORY|MESH|MESSAGE|MESSAGE-ID|MESSAGES|MESSAGING|METHOD|METHODS|MIN|MINIMUM|MINOR-ID|MM\/DD\/YY|MM\/DD\/YYYY|MMDDYY|MOD|MODE|MODIF|MODIFIER|MODIFY|MODULE|MOVE|MOVE-CORRESPONDING|MULTIPLY|MULTIPLY-CORRESPONDING|NA|NAME|NAMETAB|NATIVE|NB|NE|NESTED|NESTING|NEW|NEW-LINE|NEW-PAGE|NEW-SECTION|NEXT|NO|NO-DISPLAY|NO-EXTENSION|NO-GAP|NO-GAPS|NO-GROUPING|NO-HEADING|NO-SCROLLING|NO-SIGN|NO-TITLE|NO-TOPOFPAGE|NO-ZERO|NODE|NODES|NON-UNICODE|NON-UNIQUE|NOT|NP|NS|NULL|NUMBER|NUMOFCHAR|O|OBJECT|OBJECTS|OBLIGATORY|OCCURRENCE|OCCURRENCES|OCCURS|OF|OFF|OFFSET|OLE|ON|ONLY|OPEN|OPTION|OPTIONAL|OPTIONS|OR|ORDER|OTHER|OTHERS|OUT|OUTER|OUTPUT|OUTPUT-LENGTH|OVERFLOW|OVERLAY|PACK|PACKAGE|PAD|PADDING|PAGE|PAGES|PARAMETER|PARAMETER-TABLE|PARAMETERS|PART|PARTIALLY|PATTERN|PERCENTAGE|PERFORM|PERFORMING|PERSON|PF|PF-STATUS|PINK|PLACES|POOL|POSITION|POS_HIGH|POS_LOW|PRAGMAS|PRECOMPILED|PREFERRED|PRESERVING|PRIMARY|PRINT|PRINT-CONTROL|PRIORITY|PRIVATE|PROCEDURE|PROCESS|PROGRAM|PROPERTY|PROTECTED|PROVIDE|PUBLIC|PUSHBUTTON|PUT|QUEUE-ONLY|QUICKINFO|RADIOBUTTON|RAISE|RAISING|RANGE|RANGES|RAW|READ|READ-ONLY|READER|RECEIVE|RECEIVED|RECEIVER|RECEIVING|RED|REDEFINITION|REDUCE|REDUCED|REF|REFERENCE|REFRESH|REGEX|REJECT|REMOTE|RENAMING|REPLACE|REPLACEMENT|REPLACING|REPORT|REQUEST|REQUESTED|RESERVE|RESET|RESOLUTION|RESPECTING|RESPONSIBLE|RESULT|RESULTS|RESUMABLE|RESUME|RETRY|RETURN|RETURNCODE|RETURNING|RIGHT|RIGHT-JUSTIFIED|RIGHTPLUS|RIGHTSPACE|RISK|RMC_COMMUNICATION_FAILURE|RMC_INVALID_STATUS|RMC_SYSTEM_FAILURE|ROLE|ROLLBACK|ROUND|ROWS|RTTI|RUN|SAP|SAP-SPOOL|SAVING|SCALE_PRESERVING|SCALE_PRESERVING_SCIENTIFIC|SCAN|SCIENTIFIC|SCIENTIFIC_WITH_LEADING_ZERO|SCREEN|SCROLL|SCROLL-BOUNDARY|SCROLLING|SEARCH|SECONDARY|SECONDS|SECTION|SELECT|SELECT-OPTIONS|SELECTION|SELECTION-SCREEN|SELECTION-SET|SELECTION-SETS|SELECTION-TABLE|SELECTIONS|SELECTOR|SEND|SEPARATE|SEPARATED|SET|SHARED|SHIFT|SHORT|SHORTDUMP-ID|SIGN|SIGN_AS_POSTFIX|SIMPLE|SIN|SINGLE|SINH|SIZE|SKIP|SKIPPING|SMART|SOME|SORT|SORTABLE|SORTED|SOURCE|SPACE|SPECIFIED|SPLIT|SPOOL|SPOTS|SQL|SQLSCRIPT|SQRT|STABLE|STAMP|STANDARD|START-OF-SELECTION|STARTING|STATE|STATEMENT|STATEMENTS|STATIC|STATICS|STATUSINFO|STEP-LOOP|STOP|STRLEN|STRUCTURE|STRUCTURES|STYLE|SUBKEY|SUBMATCHES|SUBMIT|SUBROUTINE|SUBSCREEN|SUBSTRING|SUBTRACT|SUBTRACT-CORRESPONDING|SUFFIX|SUM|SUMMARY|SUMMING|SUPPLIED|SUPPLY|SUPPRESS|SWITCH|SWITCHSTATES|SYMBOL|SYNCPOINTS|SYNTAX|SYNTAX-CHECK|SYNTAX-TRACE|SYSTEM-CALL|SYSTEM-EXCEPTIONS|SYSTEM-EXIT|TAB|TABBED|TABLE|TABLES|TABLEVIEW|TABSTRIP|TAN|TANH|TARGET|TASK|TASKS|TEST|TESTING|TEXT|TEXTPOOL|THEN|THROW|TIME|TIMES|TIMESTAMP|TIMEZONE|TITLE|TITLE-LINES|TITLEBAR|TO|TOKENIZATION|TOKENS|TOP-LINES|TOP-OF-PAGE|TRACE-FILE|TRACE-TABLE|TRAILING|TRANSACTION|TRANSFER|TRANSFORMATION|TRANSLATE|TRANSPORTING|TRMAC|TRUNC|TRUNCATE|TRUNCATION|TRY|TYPE|TYPE-POOL|TYPE-POOLS|TYPES|ULINE|UNASSIGN|UNDER|UNICODE|UNION|UNIQUE|UNIT|UNIT_CONVERSION|UNIX|UNPACK|UNTIL|UNWIND|UP|UPDATE|UPPER|USER|USER-COMMAND|USING|UTF-8|VALID|VALUE|VALUE-REQUEST|VALUES|VARY|VARYING|VERIFICATION-MESSAGE|VERSION|VIA|VIEW|VISIBLE|WAIT|WARNING|WHEN|WHENEVER|WHERE|WHILE|WIDTH|WINDOW|WINDOWS|WITH|WITH-HEADING|WITH-TITLE|WITHOUT|WORD|WORK|WRITE|WRITER|X|XML|XOR|XSD|XSTRLEN|YELLOW|YES|YYMMDD|Z|ZERO|ZONE)(?![\w-])/i,lookbehind:!0},number:/\b\d+\b/,operator:{pattern:/(\s)(?:\*\*?|<[=>]?|>=?|\?=|[-+\/=])(?=\s)/,lookbehind:!0},"string-operator":{pattern:/(\s)&&?(?=\s)/,lookbehind:!0,alias:"keyword"},"token-operator":[{pattern:/(\w)(?:->?|=>|[~|{}])(?=\w)/,lookbehind:!0,alias:"punctuation"},{pattern:/[|{}]/,alias:"punctuation"}],punctuation:/[,.:()]/}}JL.displayName="abnf";JL.aliases=[];function JL(e){(function(t){var n="(?:ALPHA|BIT|CHAR|CR|CRLF|CTL|DIGIT|DQUOTE|HEXDIG|HTAB|LF|LWSP|OCTET|SP|VCHAR|WSP)";t.languages.abnf={comment:/;.*/,string:{pattern:/(?:%[is])?"[^"\n\r]*"/,greedy:!0,inside:{punctuation:/^%[is]/}},range:{pattern:/%(?:b[01]+-[01]+|d\d+-\d+|x[A-F\d]+-[A-F\d]+)/i,alias:"number"},terminal:{pattern:/%(?:b[01]+(?:\.[01]+)*|d\d+(?:\.\d+)*|x[A-F\d]+(?:\.[A-F\d]+)*)/i,alias:"number"},repetition:{pattern:/(^|[^\w-])(?:\d*\*\d*|\d+)/,lookbehind:!0,alias:"operator"},definition:{pattern:/(^[ \t]*)(?:[a-z][\w-]*|<[^<>\r\n]*>)(?=\s*=)/m,lookbehind:!0,alias:"keyword",inside:{punctuation:/<|>/}},"core-rule":{pattern:RegExp("(?:(^|[^<\\w-])"+n+"|<"+n+">)(?![\\w-])","i"),lookbehind:!0,alias:["rule","constant"],inside:{punctuation:/<|>/}},rule:{pattern:/(^|[^<\w-])[a-z][\w-]*|<[^<>\r\n]*>/i,lookbehind:!0,inside:{punctuation:/<|>/}},operator:/=\/?|\//,punctuation:/[()\[\]]/}})(e)}eP.displayName="actionscript";eP.aliases=[];function eP(e){e.register(Fc),e.languages.actionscript=e.languages.extend("javascript",{keyword:/\b(?:as|break|case|catch|class|const|default|delete|do|dynamic|each|else|extends|final|finally|for|function|get|if|implements|import|in|include|instanceof|interface|internal|is|namespace|native|new|null|override|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|use|var|void|while|with)\b/,operator:/\+\+|--|(?:[+\-*\/%^]|&&?|\|\|?|<<?|>>?>?|[!=]=?)=?|[~?@]/}),e.languages.actionscript["class-name"].alias="function",delete e.languages.actionscript.parameter,delete e.languages.actionscript["literal-property"],e.languages.markup&&e.languages.insertBefore("actionscript","string",{xml:{pattern:/(^|[^.])<\/?\w+(?:\s+[^\s>\/=]+=("|')(?:\\[\s\S]|(?!\2)[^\\])*\2)*\s*\/?>/,lookbehind:!0,inside:e.languages.markup}})}tP.displayName="ada";tP.aliases=[];function tP(e){e.languages.ada={comment:/--.*/,string:/"(?:""|[^"\r\f\n])*"/,number:[{pattern:/\b\d(?:_?\d)*#[\dA-F](?:_?[\dA-F])*(?:\.[\dA-F](?:_?[\dA-F])*)?#(?:E[+-]?\d(?:_?\d)*)?/i},{pattern:/\b\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:E[+-]?\d(?:_?\d)*)?\b/i}],attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:abort|abs|abstract|accept|access|aliased|all|and|array|at|begin|body|case|constant|declare|delay|delta|digits|do|else|elsif|end|entry|exception|exit|for|function|generic|goto|if|in|interface|is|limited|loop|mod|new|not|null|of|or|others|out|overriding|package|pragma|private|procedure|protected|raise|range|record|rem|renames|requeue|return|reverse|select|separate|some|subtype|synchronized|tagged|task|terminate|then|type|until|use|when|while|with|xor)\b/i,boolean:/\b(?:false|true)\b/i,operator:/<[=>]?|>=?|=>?|:=|\/=?|\*\*?|[&+-]/,punctuation:/\.\.?|[,;():]/,char:/'.'/,variable:/\b[a-z](?:\w)*\b/i}}nP.displayName="agda";nP.aliases=[];function nP(e){(function(t){t.languages.agda={comment:/\{-[\s\S]*?(?:-\}|$)|--.*/,string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},punctuation:/[(){}.;@]/,"class-name":{pattern:/((?:data|record) +)\S+/,lookbehind:!0},function:{pattern:/(^[ \t]*)(?!\s)[^:\r\n]+(?=:)/m,lookbehind:!0},operator:{pattern:/(^\s*|\s)(?:[=|:\\?_]|->)(?=\s)/,lookbehind:!0},keyword:/\b(?:Set|abstract|constructor|data|eta-equality|field|forall|hiding|import|in|inductive|infix|infixl|infixr|instance|let|macro|module|mutual|no-eta-equality|open|overlap|pattern|postulate|primitive|private|public|quote|quoteContext|quoteGoal|quoteTerm|record|renaming|rewrite|syntax|tactic|unquote|unquoteDecl|unquoteDef|using|variable|where|with)\b/}})(e)}rP.displayName="al";rP.aliases=[];function rP(e){e.languages.al={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},function:{pattern:/(\b(?:event|procedure|trigger)\s+|(?:^|[^.])\.\s*)[a-z_]\w*(?=\s*\()/i,lookbehind:!0},keyword:[/\b(?:array|asserterror|begin|break|case|do|downto|else|end|event|exit|for|foreach|function|if|implements|in|indataset|interface|internal|local|of|procedure|program|protected|repeat|runonclient|securityfiltering|suppressdispose|temporary|then|to|trigger|until|var|while|with|withevents)\b/i,/\b(?:action|actions|addafter|addbefore|addfirst|addlast|area|assembly|chartpart|codeunit|column|controladdin|cuegroup|customizes|dataitem|dataset|dotnet|elements|enum|enumextension|extends|field|fieldattribute|fieldelement|fieldgroup|fieldgroups|fields|filter|fixed|grid|group|key|keys|label|labels|layout|modify|moveafter|movebefore|movefirst|movelast|page|pagecustomization|pageextension|part|profile|query|repeater|report|requestpage|schema|separator|systempart|table|tableelement|tableextension|textattribute|textelement|type|usercontrol|value|xmlport)\b/i],number:/\b(?:0x[\da-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)(?:F|LL?|U(?:LL?)?)?\b/i,boolean:/\b(?:false|true)\b/i,variable:/\b(?:Curr(?:FieldNo|Page|Report)|x?Rec|RequestOptionsPage)\b/,"class-name":/\b(?:automation|biginteger|bigtext|blob|boolean|byte|char|clienttype|code|completiontriggererrorlevel|connectiontype|database|dataclassification|datascope|date|dateformula|datetime|decimal|defaultlayout|dialog|dictionary|dotnetassembly|dotnettypedeclaration|duration|errorinfo|errortype|executioncontext|executionmode|fieldclass|fieldref|fieldtype|file|filterpagebuilder|guid|httpclient|httpcontent|httpheaders|httprequestmessage|httpresponsemessage|instream|integer|joker|jsonarray|jsonobject|jsontoken|jsonvalue|keyref|list|moduledependencyinfo|moduleinfo|none|notification|notificationscope|objecttype|option|outstream|pageresult|record|recordid|recordref|reportformat|securityfilter|sessionsettings|tableconnectiontype|tablefilter|testaction|testfield|testfilterfield|testpage|testpermissions|testrequestpage|text|textbuilder|textconst|textencoding|time|transactionmodel|transactiontype|variant|verbosity|version|view|views|webserviceactioncontext|webserviceactionresultcode|xmlattribute|xmlattributecollection|xmlcdata|xmlcomment|xmldeclaration|xmldocument|xmldocumenttype|xmlelement|xmlnamespacemanager|xmlnametable|xmlnode|xmlnodelist|xmlprocessinginstruction|xmlreadoptions|xmltext|xmlwriteoptions)\b/i,operator:/\.\.|:[=:]|[-+*/]=?|<>|[<>]=?|=|\b(?:and|div|mod|not|or|xor)\b/i,punctuation:/[()\[\]{}:.;,]/}}aP.displayName="antlr4";aP.aliases=["g4"];function aP(e){e.languages.antlr4={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,string:{pattern:/'(?:\\.|[^\\'\r\n])*'/,greedy:!0},"character-class":{pattern:/\[(?:\\.|[^\\\]\r\n])*\]/,greedy:!0,alias:"regex",inside:{range:{pattern:/([^[]|(?:^|[^\\])(?:\\\\)*\\\[)-(?!\])/,lookbehind:!0,alias:"punctuation"},escape:/\\(?:u(?:[a-fA-F\d]{4}|\{[a-fA-F\d]+\})|[pP]\{[=\w-]+\}|[^\r\nupP])/,punctuation:/[\[\]]/}},action:{pattern:/\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\}/,greedy:!0,inside:{content:{pattern:/(\{)[\s\S]+(?=\})/,lookbehind:!0},punctuation:/[{}]/}},command:{pattern:/(->\s*(?!\s))(?:\s*(?:,\s*)?\b[a-z]\w*(?:\s*\([^()\r\n]*\))?)+(?=\s*;)/i,lookbehind:!0,inside:{function:/\b\w+(?=\s*(?:[,(]|$))/,punctuation:/[,()]/}},annotation:{pattern:/@\w+(?:::\w+)*/,alias:"keyword"},label:{pattern:/#[ \t]*\w+/,alias:"punctuation"},keyword:/\b(?:catch|channels|finally|fragment|grammar|import|lexer|locals|mode|options|parser|returns|throws|tokens)\b/,definition:[{pattern:/\b[a-z]\w*(?=\s*:)/,alias:["rule","class-name"]},{pattern:/\b[A-Z]\w*(?=\s*:)/,alias:["token","constant"]}],constant:/\b[A-Z][A-Z_]*\b/,operator:/\.\.|->|[|~]|[*+?]\??/,punctuation:/[;:()=]/},e.languages.g4=e.languages.antlr4}iP.displayName="apacheconf";iP.aliases=[];function iP(e){e.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}}oP.displayName="apex";oP.aliases=[];function oP(e){e.register(si),e.register(mw),(function(t){var n=/\b(?:(?:after|before)(?=\s+[a-z])|abstract|activate|and|any|array|as|asc|autonomous|begin|bigdecimal|blob|boolean|break|bulk|by|byte|case|cast|catch|char|class|collect|commit|const|continue|currency|date|datetime|decimal|default|delete|desc|do|double|else|end|enum|exception|exit|export|extends|final|finally|float|for|from|get(?=\s*[{};])|global|goto|group|having|hint|if|implements|import|in|inner|insert|instanceof|int|integer|interface|into|join|like|limit|list|long|loop|map|merge|new|not|null|nulls|number|object|of|on|or|outer|override|package|parallel|pragma|private|protected|public|retrieve|return|rollback|select|set|short|sObject|sort|static|string|super|switch|synchronized|system|testmethod|then|this|throw|time|transaction|transient|trigger|try|undelete|update|upsert|using|virtual|void|webservice|when|where|while|(?:inherited|with|without)\s+sharing)\b/i,r=/\b(?:(?=[a-z_]\w*\s*[<\[])|(?!<keyword>))[A-Z_]\w*(?:\s*\.\s*[A-Z_]\w*)*\b(?:\s*(?:\[\s*\]|<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>))*/.source.replace(/<keyword>/g,function(){return n.source});function a(u){return RegExp(u.replace(/<CLASS-NAME>/g,function(){return r}),"i")}var l={keyword:n,punctuation:/[()\[\]{};,:.<>]/};t.languages.apex={comment:t.languages.clike.comment,string:t.languages.clike.string,sql:{pattern:/((?:[=,({:]|\breturn)\s*)\[[^\[\]]*\]/i,lookbehind:!0,greedy:!0,alias:"language-sql",inside:t.languages.sql},annotation:{pattern:/@\w+\b/,alias:"punctuation"},"class-name":[{pattern:a(/(\b(?:class|enum|extends|implements|instanceof|interface|new|trigger\s+\w+\s+on)\s+)<CLASS-NAME>/.source),lookbehind:!0,inside:l},{pattern:a(/(\(\s*)<CLASS-NAME>(?=\s*\)\s*[\w(])/.source),lookbehind:!0,inside:l},{pattern:a(/<CLASS-NAME>(?=\s*\w+\s*[;=,(){:])/.source),inside:l}],trigger:{pattern:/(\btrigger\s+)\w+\b/i,lookbehind:!0,alias:"class-name"},keyword:n,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/(?:\B\.\d+|\b\d+(?:\.\d+|L)?)\b/i,operator:/[!=](?:==?)?|\?\.?|&&|\|\||--|\+\+|[-+*/^&|]=?|:|<<?=?|>{1,3}=?/,punctuation:/[()\[\]{};,.]/}})(e)}sP.displayName="apl";sP.aliases=[];function sP(e){e.languages.apl={comment:/(?:|#[! ]).*$/m,string:{pattern:/'(?:[^'\r\n]|'')*'/,greedy:!0},number:/?(?:\d*\.?\b\d+(?:e[+]?\d+)?||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+)?||))?/i,statement:/:[A-Z][a-z][A-Za-z]*\b/,"system-function":{pattern:/[A-Z]+/i,alias:"function"},constant:/[#]/,function:/[-+|?*!<=>~,]/,"monadic-operator":{pattern:/[\\\/&]/,alias:"operator"},"dyadic-operator":{pattern:/[.@]/,alias:"operator"},assignment:{pattern://,alias:"keyword"},punctuation:/[\[;\]()]/,dfn:{pattern:/[{}:]/,alias:"builtin"}}}lP.displayName="applescript";lP.aliases=[];function lP(e){e.languages.applescript={comment:[/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,/--.+/,/#.+/],string:/"(?:\\.|[^"\\\r\n])*"/,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?\b/i,operator:[/[&=*+\-\/^]|[<>]=?/,/\b(?:(?:begin|end|start)s? with|(?:contains?|(?:does not|doesn't) contain)|(?:is|isn't|is not) (?:contained by|in)|(?:(?:is|isn't|is not) )?(?:greater|less) than(?: or equal)?(?: to)?|(?:comes|(?:does not|doesn't) come) (?:after|before)|(?:is|isn't|is not) equal(?: to)?|(?:(?:does not|doesn't) equal|equal to|equals|is not|isn't)|(?:a )?(?:ref(?: to)?|reference to)|(?:and|as|div|mod|not|or))\b/],keyword:/\b(?:about|above|after|against|apart from|around|aside from|at|back|before|beginning|behind|below|beneath|beside|between|but|by|considering|continue|copy|does|eighth|else|end|equal|error|every|exit|false|fifth|first|for|fourth|from|front|get|given|global|if|ignoring|in|instead of|into|is|it|its|last|local|me|middle|my|ninth|of|on|onto|out of|over|prop|property|put|repeat|return|returning|second|set|seventh|since|sixth|some|tell|tenth|that|the|then|third|through|thru|timeout|times|to|transaction|true|try|until|where|while|whose|with|without)\b/,"class-name":/\b(?:POSIX file|RGB color|alias|application|boolean|centimeters|centimetres|class|constant|cubic centimeters|cubic centimetres|cubic feet|cubic inches|cubic meters|cubic metres|cubic yards|date|degrees Celsius|degrees Fahrenheit|degrees Kelvin|feet|file|gallons|grams|inches|integer|kilograms|kilometers|kilometres|list|liters|litres|meters|metres|miles|number|ounces|pounds|quarts|real|record|reference|script|square feet|square kilometers|square kilometres|square meters|square metres|square miles|square yards|text|yards)\b/,punctuation:/[{}():,]/}}uP.displayName="aql";uP.aliases=[];function uP(e){e.languages.aql={comment:/\/\/.*|\/\*[\s\S]*?\*\//,property:{pattern:/([{,]\s*)(?:(?!\d)\w+|(["'`])(?:(?!\2)[^\\\r\n]|\\.)*\2)(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},identifier:{pattern:/([`])(?:(?!\1)[^\\\r\n]|\\.)*\1/,greedy:!0},variable:/@@?\w+/,keyword:[{pattern:/(\bWITH\s+)COUNT(?=\s+INTO\b)/i,lookbehind:!0},/\b(?:AGGREGATE|ALL|AND|ANY|ASC|COLLECT|DESC|DISTINCT|FILTER|FOR|GRAPH|IN|INBOUND|INSERT|INTO|K_PATHS|K_SHORTEST_PATHS|LET|LIKE|LIMIT|NONE|NOT|NULL|OR|OUTBOUND|REMOVE|REPLACE|RETURN|SHORTEST_PATH|SORT|UPDATE|UPSERT|WINDOW|WITH)\b/i,{pattern:/(^|[^\w.[])(?:KEEP|PRUNE|SEARCH|TO)\b/i,lookbehind:!0},{pattern:/(^|[^\w.[])(?:CURRENT|NEW|OLD)\b/,lookbehind:!0},{pattern:/\bOPTIONS(?=\s*\{)/i}],function:/\b(?!\d)\w+(?=\s*\()/,boolean:/\b(?:false|true)\b/i,range:{pattern:/\.\./,alias:"operator"},number:[/\b0b[01]+/i,/\b0x[0-9a-f]+/i,/(?:\B\.\d+|\b(?:0|[1-9]\d*)(?:\.\d+)?)(?:e[+-]?\d+)?/i],operator:/\*{2,}|[=!]~|[!=<>]=?|&&|\|\||[-+*/%]/,punctuation:/::|[?.:,;()[\]{}]/}}cP.displayName="arff";cP.aliases=[];function cP(e){e.languages.arff={comment:/%.*/,string:{pattern:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/@(?:attribute|data|end|relation)\b/i,number:/\b\d+(?:\.\d+)?\b/,punctuation:/[{},]/}}dP.displayName="armasm";dP.aliases=["arm-asm"];function dP(e){e.languages.armasm={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"/,greedy:!0,inside:{variable:{pattern:/((?:^|[^$])(?:\${2})*)\$\w+/,lookbehind:!0}}},char:{pattern:/'(?:[^'\r\n]{0,4}|'')'/,greedy:!0},"version-symbol":{pattern:/\|[\w@]+\|/,greedy:!0,alias:"property"},boolean:/\b(?:FALSE|TRUE)\b/,directive:{pattern:/\b(?:ALIAS|ALIGN|AREA|ARM|ASSERT|ATTR|CN|CODE|CODE16|CODE32|COMMON|CP|DATA|DCB|DCD|DCDO|DCDU|DCFD|DCFDU|DCI|DCQ|DCQU|DCW|DCWU|DN|ELIF|ELSE|END|ENDFUNC|ENDIF|ENDP|ENTRY|EQU|EXPORT|EXPORTAS|EXTERN|FIELD|FILL|FN|FUNCTION|GBLA|GBLL|GBLS|GET|GLOBAL|IF|IMPORT|INCBIN|INCLUDE|INFO|KEEP|LCLA|LCLL|LCLS|LTORG|MACRO|MAP|MEND|MEXIT|NOFP|OPT|PRESERVE8|PROC|QN|READONLY|RELOC|REQUIRE|REQUIRE8|RLIST|ROUT|SETA|SETL|SETS|SN|SPACE|SUBT|THUMB|THUMBX|TTL|WEND|WHILE)\b/,alias:"property"},instruction:{pattern:/((?:^|(?:^|[^\\])(?:\r\n?|\n))[ \t]*(?:(?:[A-Z][A-Z0-9_]*[a-z]\w*|[a-z]\w*|\d+)[ \t]+)?)\b[A-Z.]+\b/,lookbehind:!0,alias:"keyword"},variable:/\$\w+/,number:/(?:\b[2-9]_\d+|(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e-?\d+)?|\b0(?:[fd]_|x)[0-9a-f]+|&[0-9a-f]+)\b/i,register:{pattern:/\b(?:r\d|lr)\b/,alias:"symbol"},operator:/<>|<<|>>|&&|\|\||[=!<>/]=?|[+\-*%#?&|^]|:[A-Z]+:/,punctuation:/[()[\],]/},e.languages["arm-asm"]=e.languages.armasm}fP.displayName="arturo";fP.aliases=["art"];function fP(e){(function(t){var n=function(r,a){return{pattern:RegExp(/\{!/.source+"(?:"+(a||r)+")"+/$[\s\S]*\}/.source,"m"),greedy:!0,inside:{embedded:{pattern:/(^\{!\w+\b)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-"+r,inside:t.languages[r]},string:/[\s\S]+/}}};t.languages.arturo={comment:{pattern:/;.*/,greedy:!0},character:{pattern:/`.`/,alias:"char",greedy:!0},number:{pattern:/\b\d+(?:\.\d+(?:\.\d+(?:-[\w+-]+)?)?)?\b/},string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},regex:{pattern:/\{\/.*?\/\}/,greedy:!0},"html-string":n("html"),"css-string":n("css"),"js-string":n("js"),"md-string":n("md"),"sql-string":n("sql"),"sh-string":n("shell","sh"),multistring:{pattern:/.*|\{:[\s\S]*?:\}|\{[\s\S]*?\}|^-{6}$[\s\S]*/m,alias:"string",greedy:!0},label:{pattern:/\w+\b\??:/,alias:"property"},literal:{pattern:/'(?:\w+\b\??:?)/,alias:"constant"},type:{pattern:/:(?:\w+\b\??:?)/,alias:"class-name"},color:/#\w+/,predicate:{pattern:/\b(?:all|and|any|ascii|attr|attribute|attributeLabel|binary|block|char|contains|database|date|dictionary|empty|equal|even|every|exists|false|floating|function|greater|greaterOrEqual|if|in|inline|integer|is|key|label|leap|less|lessOrEqual|literal|logical|lower|nand|negative|nor|not|notEqual|null|numeric|odd|or|path|pathLabel|positive|prefix|prime|regex|same|set|some|sorted|standalone|string|subset|suffix|superset|symbol|symbolLiteral|true|try|type|unless|upper|when|whitespace|word|xnor|xor|zero)\?/,alias:"keyword"},"builtin-function":{pattern:/\b(?:abs|acos|acosh|acsec|acsech|actan|actanh|add|after|alert|alias|and|angle|append|arg|args|arity|array|as|asec|asech|asin|asinh|atan|atan2|atanh|attr|attrs|average|before|benchmark|blend|break|call|capitalize|case|ceil|chop|clear|clip|close|color|combine|conj|continue|copy|cos|cosh|crc|csec|csech|ctan|ctanh|cursor|darken|dec|decode|define|delete|desaturate|deviation|dialog|dictionary|difference|digest|digits|div|do|download|drop|dup|e|else|empty|encode|ensure|env|escape|execute|exit|exp|extend|extract|factors|fdiv|filter|first|flatten|floor|fold|from|function|gamma|gcd|get|goto|hash|hypot|if|inc|indent|index|infinity|info|input|insert|inspect|intersection|invert|jaro|join|keys|kurtosis|last|let|levenshtein|lighten|list|ln|log|loop|lower|mail|map|match|max|median|min|mod|module|mul|nand|neg|new|nor|normalize|not|now|null|open|or|outdent|pad|palette|panic|path|pause|permissions|permutate|pi|pop|popup|pow|powerset|powmod|prefix|print|prints|process|product|query|random|range|read|relative|remove|rename|render|repeat|replace|request|return|reverse|round|sample|saturate|script|sec|sech|select|serve|set|shl|shr|shuffle|sin|sinh|size|skewness|slice|sort|spin|split|sqrt|squeeze|stack|strip|sub|suffix|sum|switch|symbols|symlink|sys|take|tan|tanh|terminal|terminate|to|truncate|try|type|unclip|union|unique|unless|until|unzip|upper|values|var|variance|volume|webview|while|with|wordwrap|write|xnor|xor|zip)\b/,alias:"keyword"},sugar:{pattern:/->|=>|\||::/,alias:"operator"},punctuation:/[()[\],]/,symbol:{pattern:/<:|-:||@|#|\+|\||\*|\$|---|-|%|\/|\.\.|\^|~|=|<|>|\\/},boolean:{pattern:/\b(?:false|maybe|true)\b/}},t.languages.art=t.languages.arturo})(e)}hP.displayName="asciidoc";hP.aliases=["adoc"];function hP(e){(function(t){var n={pattern:/(^[ \t]*)\[(?!\[)(?:(["'$`])(?:(?!\2)[^\\]|\\.)*\2|\[(?:[^\[\]\\]|\\.)*\]|[^\[\]\\"'$`]|\\.)*\]/m,lookbehind:!0,inside:{quoted:{pattern:/([$`])(?:(?!\1)[^\\]|\\.)*\1/,inside:{punctuation:/^[$`]|[$`]$/}},interpreted:{pattern:/'(?:[^'\\]|\\.)*'/,inside:{punctuation:/^'|'$/}},string:/"(?:[^"\\]|\\.)*"/,variable:/\w+(?==)/,punctuation:/^\[|\]$|,/,operator:/=/,"attr-value":/(?!^\s+$).+/}},r=t.languages.asciidoc={"comment-block":{pattern:/^(\/{4,})$[\s\S]*?^\1/m,alias:"comment"},table:{pattern:/^\|={3,}(?:(?:\r?\n|\r(?!\n)).*)*?(?:\r?\n|\r)\|={3,}$/m,inside:{specifiers:{pattern:/(?:(?:(?:\d+(?:\.\d+)?|\.\d+)[+*](?:[<^>](?:\.[<^>])?|\.[<^>])?|[<^>](?:\.[<^>])?|\.[<^>])[a-z]*|[a-z]+)(?=\|)/,alias:"attr-value"},punctuation:{pattern:/(^|[^\\])[|!]=*/,lookbehind:!0}}},"passthrough-block":{pattern:/^(\+{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^\++|\++$/}},"literal-block":{pattern:/^(-{4,}|\.{4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\.+)|(?:-+|\.+)$/}},"other-block":{pattern:/^(--|\*{4,}|_{4,}|={4,})$[\s\S]*?^\1$/m,inside:{punctuation:/^(?:-+|\*+|_+|=+)|(?:-+|\*+|_+|=+)$/}},"list-punctuation":{pattern:/(^[ \t]*)(?:-|\*{1,5}|\.{1,5}|(?:[a-z]|\d+)\.|[xvi]+\))(?= )/im,lookbehind:!0,alias:"punctuation"},"list-label":{pattern:/(^[ \t]*)[a-z\d].+(?::{2,4}|;;)(?=\s)/im,lookbehind:!0,alias:"symbol"},"indented-block":{pattern:/((\r?\n|\r)\2)([ \t]+)\S.*(?:(?:\r?\n|\r)\3.+)*(?=\2{2}|$)/,lookbehind:!0},comment:/^\/\/.*/m,title:{pattern:/^.+(?:\r?\n|\r)(?:={3,}|-{3,}|~{3,}|\^{3,}|\+{3,})$|^={1,5} .+|^\.(?![\s.]).*/m,alias:"important",inside:{punctuation:/^(?:\.|=+)|(?:=+|-+|~+|\^+|\++)$/}},"attribute-entry":{pattern:/^:[^:\r\n]+:(?: .*?(?: \+(?:\r?\n|\r).*?)*)?$/m,alias:"tag"},attributes:n,hr:{pattern:/^'{3,}$/m,alias:"punctuation"},"page-break":{pattern:/^<{3,}$/m,alias:"punctuation"},admonition:{pattern:/^(?:CAUTION|IMPORTANT|NOTE|TIP|WARNING):/m,alias:"keyword"},callout:[{pattern:/(^[ \t]*)<?\d*>/m,lookbehind:!0,alias:"symbol"},{pattern:/<\d+>/,alias:"symbol"}],macro:{pattern:/\b[a-z\d][a-z\d-]*::?(?:[^\s\[\]]*\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:{function:/^[a-z\d-]+(?=:)/,punctuation:/^::?/,attributes:{pattern:/(?:\[(?:[^\]\\"']|(["'])(?:(?!\1)[^\\]|\\.)*\1|\\.)*\])/,inside:n.inside}}},inline:{pattern:/(^|[^\\])(?:(?:\B\[(?:[^\]\\"']|(["'])(?:(?!\2)[^\\]|\\.)*\2|\\.)*\])?(?:\b_(?!\s)(?: _|[^_\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: _|[^_\\\r\n]|\\.)+)*_\b|\B``(?!\s).+?(?:(?:\r?\n|\r).+?)*''\B|\B`(?!\s)(?:[^`'\s]|\s+\S)+['`]\B|\B(['*+#])(?!\s)(?: \3|(?!\3)[^\\\r\n]|\\.)+(?:(?:\r?\n|\r)(?: \3|(?!\3)[^\\\r\n]|\\.)+)*\3\B)|(?:\[(?:[^\]\\"']|(["'])(?:(?!\4)[^\\]|\\.)*\4|\\.)*\])?(?:(__|\*\*|\+\+\+?|##|\$\$|[~^]).+?(?:(?:\r?\n|\r).+?)*\5|\{[^}\r\n]+\}|\[\[\[?.+?(?:(?:\r?\n|\r).+?)*\]?\]\]|<<.+?(?:(?:\r?\n|\r).+?)*>>|\(\(\(?.+?(?:(?:\r?\n|\r).+?)*\)?\)\)))/m,lookbehind:!0,inside:{attributes:n,url:{pattern:/^(?:\[\[\[?.+?\]?\]\]|<<.+?>>)$/,inside:{punctuation:/^(?:\[\[\[?|<<)|(?:\]\]\]?|>>)$/}},"attribute-ref":{pattern:/^\{.+\}$/,inside:{variable:{pattern:/(^\{)[a-z\d,+_-]+/,lookbehind:!0},operator:/^[=?!#%@$]|!(?=[:}])/,punctuation:/^\{|\}$|::?/}},italic:{pattern:/^(['_])[\s\S]+\1$/,inside:{punctuation:/^(?:''?|__?)|(?:''?|__?)$/}},bold:{pattern:/^\*[\s\S]+\*$/,inside:{punctuation:/^\*\*?|\*\*?$/}},punctuation:/^(?:``?|\+{1,3}|##?|\$\$|[~^]|\(\(\(?)|(?:''?|\+{1,3}|##?|\$\$|[~^`]|\)?\)\))$/}},replacement:{pattern:/\((?:C|R|TM)\)/,alias:"builtin"},entity:/&#?[\da-z]{1,8};/i,"line-continuation":{pattern:/(^| )\+$/m,lookbehind:!0,alias:"punctuation"}};function a(l){l=l.split(" ");for(var u={},i=0,m=l.length;i<m;i++)u[l[i]]=r[l[i]];return u}n.inside.interpreted.inside.rest=a("macro inline replacement entity"),r["passthrough-block"].inside.rest=a("macro"),r["literal-block"].inside.rest=a("callout"),r.table.inside.rest=a("comment-block passthrough-block literal-block other-block list-punctuation indented-block comment title attribute-entry attributes hr page-break admonition list-label callout macro inline replacement entity line-continuation"),r["other-block"].inside.rest=a("table list-punctuation indented-block comment attribute-entry attributes hr page-break admonition list-label macro inline replacement entity line-continuation"),r.title.inside.rest=a("macro inline replacement entity"),t.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.value.replace(/&amp;/,"&"))}),t.languages.adoc=t.languages.asciidoc})(e)}pP.displayName="aspnet";pP.aliases=[];function pP(e){e.register(U1),e.register(nc),e.languages.aspnet=e.languages.extend("markup",{"page-directive":{pattern:/<%\s*@.*%>/,alias:"tag",inside:{"page-directive":{pattern:/<%\s*@\s*(?:Assembly|Control|Implements|Import|Master(?:Type)?|OutputCache|Page|PreviousPageType|Reference|Register)?|%>/i,alias:"tag"},rest:e.languages.markup.tag.inside}},directive:{pattern:/<%.*%>/,alias:"tag",inside:{directive:{pattern:/<%\s*?[$=%#:]{0,2}|%>/,alias:"tag"},rest:e.languages.csharp}}}),e.languages.aspnet.tag.pattern=/<(?!%)\/?[^\s>\/]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,e.languages.insertBefore("inside","punctuation",{directive:e.languages.aspnet.directive},e.languages.aspnet.tag.inside["attr-value"]),e.languages.insertBefore("aspnet","comment",{"asp-comment":{pattern:/<%--[\s\S]*?--%>/,alias:["asp","comment"]}}),e.languages.insertBefore("aspnet",e.languages.javascript?"script":"tag",{"asp-script":{pattern:/(<script(?=.*runat=['"]?server\b)[^>]*>)[\s\S]*?(?=<\/script>)/i,lookbehind:!0,alias:["asp","script"],inside:e.languages.csharp||{}}})}mP.displayName="asm6502";mP.aliases=[];function mP(e){e.languages.asm6502={comment:/;.*/,directive:{pattern:/\.\w+(?= )/,alias:"property"},string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,"op-code":{pattern:/\b(?:ADC|AND|ASL|BCC|BCS|BEQ|BIT|BMI|BNE|BPL|BRK|BVC|BVS|CLC|CLD|CLI|CLV|CMP|CPX|CPY|DEC|DEX|DEY|EOR|INC|INX|INY|JMP|JSR|LDA|LDX|LDY|LSR|NOP|ORA|PHA|PHP|PLA|PLP|ROL|ROR|RTI|RTS|SBC|SEC|SED|SEI|STA|STX|STY|TAX|TAY|TSX|TXA|TXS|TYA|adc|and|asl|bcc|bcs|beq|bit|bmi|bne|bpl|brk|bvc|bvs|clc|cld|cli|clv|cmp|cpx|cpy|dec|dex|dey|eor|inc|inx|iny|jmp|jsr|lda|ldx|ldy|lsr|nop|ora|pha|php|pla|plp|rol|ror|rti|rts|sbc|sec|sed|sei|sta|stx|sty|tax|tay|tsx|txa|txs|tya)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{1,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[xya]\b/i,alias:"variable"},punctuation:/[(),:]/}}gP.displayName="asmatmel";gP.aliases=[];function gP(e){e.languages.asmatmel={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},constant:/\b(?:PORT[A-Z]|DDR[A-Z]|(?:DD|P)[A-Z](?:\d|[0-2]\d|3[01]))\b/,directive:{pattern:/\.\w+(?= )/,alias:"property"},"r-register":{pattern:/\br(?:\d|[12]\d|3[01])\b/,alias:"variable"},"op-code":{pattern:/\b(?:ADC|ADD|ADIW|AND|ANDI|ASR|BCLR|BLD|BRBC|BRBS|BRCC|BRCS|BREAK|BREQ|BRGE|BRHC|BRHS|BRID|BRIE|BRLO|BRLT|BRMI|BRNE|BRPL|BRSH|BRTC|BRTS|BRVC|BRVS|BSET|BST|CALL|CBI|CBR|CLC|CLH|CLI|CLN|CLR|CLS|CLT|CLV|CLZ|COM|CP|CPC|CPI|CPSE|DEC|DES|EICALL|EIJMP|ELPM|EOR|FMUL|FMULS|FMULSU|ICALL|IJMP|IN|INC|JMP|LAC|LAS|LAT|LD|LD[A-Za-z0-9]|LPM|LSL|LSR|MOV|MOVW|MUL|MULS|MULSU|NEG|NOP|OR|ORI|OUT|POP|PUSH|RCALL|RET|RETI|RJMP|ROL|ROR|SBC|SBCI|SBI|SBIC|SBIS|SBIW|SBR|SBRC|SBRS|SEC|SEH|SEI|SEN|SER|SES|SET|SEV|SEZ|SLEEP|SPM|ST|ST[A-Z0-9]|SUB|SUBI|SWAP|TST|WDR|XCH|adc|add|adiw|and|andi|asr|bclr|bld|brbc|brbs|brcc|brcs|break|breq|brge|brhc|brhs|brid|brie|brlo|brlt|brmi|brne|brpl|brsh|brtc|brts|brvc|brvs|bset|bst|call|cbi|cbr|clc|clh|cli|cln|clr|cls|clt|clv|clz|com|cp|cpc|cpi|cpse|dec|des|eicall|eijmp|elpm|eor|fmul|fmuls|fmulsu|icall|ijmp|in|inc|jmp|lac|las|lat|ld|ld[a-z0-9]|lpm|lsl|lsr|mov|movw|mul|muls|mulsu|neg|nop|or|ori|out|pop|push|rcall|ret|reti|rjmp|rol|ror|sbc|sbci|sbi|sbic|sbis|sbiw|sbr|sbrc|sbrs|sec|seh|sei|sen|ser|ses|set|sev|sez|sleep|spm|st|st[a-zA-Z0-9]|sub|subi|swap|tst|wdr|xch)\b/,alias:"keyword"},"hex-number":{pattern:/#?\$[\da-f]{2,4}\b/i,alias:"number"},"binary-number":{pattern:/#?%[01]+\b/,alias:"number"},"decimal-number":{pattern:/#?\b\d+\b/,alias:"number"},register:{pattern:/\b[acznvshtixy]\b/i,alias:"variable"},operator:/>>=?|<<=?|&[&=]?|\|[\|=]?|[-+*/%^!=<>?]=?/,punctuation:/[(),:]/}}yP.displayName="autohotkey";yP.aliases=[];function yP(e){e.languages.autohotkey={comment:[{pattern:/(^|\s);.*/,lookbehind:!0},{pattern:/(^[\t ]*)\/\*(?:[\r\n](?![ \t]*\*\/)|[^\r\n])*(?:[\r\n][ \t]*\*\/)?/m,lookbehind:!0,greedy:!0}],tag:{pattern:/^([ \t]*)[^\s,`":]+(?=:[ \t]*$)/m,lookbehind:!0},string:/"(?:[^"\n\r]|"")*"/,variable:/%\w+%/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/\?|\/\/?=?|:=|\|[=|]?|&[=&]?|\+[=+]?|-[=-]?|\*[=*]?|<(?:<=?|>|=)?|>>?=?|[.^!=~]=?|\b(?:AND|NOT|OR)\b/,boolean:/\b(?:false|true)\b/,command:{pattern:/\b(?:AutoTrim|BlockInput|Break|Click|ClipWait|Continue|Control|ControlClick|ControlFocus|ControlGet|ControlGetFocus|ControlGetPos|ControlGetText|ControlMove|ControlSend|ControlSendRaw|ControlSetText|CoordMode|Critical|DetectHiddenText|DetectHiddenWindows|Drive|DriveGet|DriveSpaceFree|EnvAdd|EnvDiv|EnvGet|EnvMult|EnvSet|EnvSub|EnvUpdate|Exit|ExitApp|FileAppend|FileCopy|FileCopyDir|FileCreateDir|FileCreateShortcut|FileDelete|FileEncoding|FileGetAttrib|FileGetShortcut|FileGetSize|FileGetTime|FileGetVersion|FileInstall|FileMove|FileMoveDir|FileRead|FileReadLine|FileRecycle|FileRecycleEmpty|FileRemoveDir|FileSelectFile|FileSelectFolder|FileSetAttrib|FileSetTime|FormatTime|GetKeyState|Gosub|Goto|GroupActivate|GroupAdd|GroupClose|GroupDeactivate|Gui|GuiControl|GuiControlGet|Hotkey|ImageSearch|IniDelete|IniRead|IniWrite|Input|InputBox|KeyWait|ListHotkeys|ListLines|ListVars|Loop|Menu|MouseClick|MouseClickDrag|MouseGetPos|MouseMove|MsgBox|OnExit|OutputDebug|Pause|PixelGetColor|PixelSearch|PostMessage|Process|Progress|Random|RegDelete|RegRead|RegWrite|Reload|Repeat|Return|Run|RunAs|RunWait|Send|SendEvent|SendInput|SendMessage|SendMode|SendPlay|SendRaw|SetBatchLines|SetCapslockState|SetControlDelay|SetDefaultMouseSpeed|SetEnv|SetFormat|SetKeyDelay|SetMouseDelay|SetNumlockState|SetRegView|SetScrollLockState|SetStoreCapslockMode|SetTimer|SetTitleMatchMode|SetWinDelay|SetWorkingDir|Shutdown|Sleep|Sort|SoundBeep|SoundGet|SoundGetWaveVolume|SoundPlay|SoundSet|SoundSetWaveVolume|SplashImage|SplashTextOff|SplashTextOn|SplitPath|StatusBarGetText|StatusBarWait|StringCaseSense|StringGetPos|StringLeft|StringLen|StringLower|StringMid|StringReplace|StringRight|StringSplit|StringTrimLeft|StringTrimRight|StringUpper|Suspend|SysGet|Thread|ToolTip|Transform|TrayTip|URLDownloadToFile|WinActivate|WinActivateBottom|WinClose|WinGet|WinGetActiveStats|WinGetActiveTitle|WinGetClass|WinGetPos|WinGetText|WinGetTitle|WinHide|WinKill|WinMaximize|WinMenuSelectItem|WinMinimize|WinMinimizeAll|WinMinimizeAllUndo|WinMove|WinRestore|WinSet|WinSetTitle|WinShow|WinWait|WinWaitActive|WinWaitClose|WinWaitNotActive)\b/i,alias:"selector"},constant:/\b(?:a_ahkpath|a_ahkversion|a_appdata|a_appdatacommon|a_autotrim|a_batchlines|a_caretx|a_carety|a_computername|a_controldelay|a_cursor|a_dd|a_ddd|a_dddd|a_defaultmousespeed|a_desktop|a_desktopcommon|a_detecthiddentext|a_detecthiddenwindows|a_endchar|a_eventinfo|a_exitreason|a_fileencoding|a_formatfloat|a_formatinteger|a_gui|a_guicontrol|a_guicontrolevent|a_guievent|a_guiheight|a_guiwidth|a_guix|a_guiy|a_hour|a_iconfile|a_iconhidden|a_iconnumber|a_icontip|a_index|a_ipaddress1|a_ipaddress2|a_ipaddress3|a_ipaddress4|a_is64bitos|a_isadmin|a_iscompiled|a_iscritical|a_ispaused|a_issuspended|a_isunicode|a_keydelay|a_language|a_lasterror|a_linefile|a_linenumber|a_loopfield|a_loopfileattrib|a_loopfiledir|a_loopfileext|a_loopfilefullpath|a_loopfilelongpath|a_loopfilename|a_loopfileshortname|a_loopfileshortpath|a_loopfilesize|a_loopfilesizekb|a_loopfilesizemb|a_loopfiletimeaccessed|a_loopfiletimecreated|a_loopfiletimemodified|a_loopreadline|a_loopregkey|a_loopregname|a_loopregsubkey|a_loopregtimemodified|a_loopregtype|a_mday|a_min|a_mm|a_mmm|a_mmmm|a_mon|a_mousedelay|a_msec|a_mydocuments|a_now|a_nowutc|a_numbatchlines|a_ostype|a_osversion|a_priorhotkey|a_priorkey|a_programfiles|a_programs|a_programscommon|a_ptrsize|a_regview|a_screendpi|a_screenheight|a_screenwidth|a_scriptdir|a_scriptfullpath|a_scripthwnd|a_scriptname|a_sec|a_space|a_startmenu|a_startmenucommon|a_startup|a_startupcommon|a_stringcasesense|a_tab|a_temp|a_thisfunc|a_thishotkey|a_thislabel|a_thismenu|a_thismenuitem|a_thismenuitempos|a_tickcount|a_timeidle|a_timeidlephysical|a_timesincepriorhotkey|a_timesincethishotkey|a_titlematchmode|a_titlematchmodespeed|a_username|a_wday|a_windelay|a_windir|a_workingdir|a_yday|a_year|a_yweek|a_yyyy|clipboard|clipboardall|comspec|errorlevel|programfiles)\b/i,builtin:/\b(?:abs|acos|asc|asin|atan|ceil|chr|class|comobjactive|comobjarray|comobjconnect|comobjcreate|comobjerror|comobjflags|comobjget|comobjquery|comobjtype|comobjvalue|cos|dllcall|exp|fileexist|Fileopen|floor|format|il_add|il_create|il_destroy|instr|isfunc|islabel|IsObject|ln|log|ltrim|lv_add|lv_delete|lv_deletecol|lv_getcount|lv_getnext|lv_gettext|lv_insert|lv_insertcol|lv_modify|lv_modifycol|lv_setimagelist|mod|numget|numput|onmessage|regexmatch|regexreplace|registercallback|round|rtrim|sb_seticon|sb_setparts|sb_settext|sin|sqrt|strlen|strreplace|strsplit|substr|tan|tv_add|tv_delete|tv_get|tv_getchild|tv_getcount|tv_getnext|tv_getparent|tv_getprev|tv_getselection|tv_gettext|tv_modify|varsetcapacity|winactive|winexist|__Call|__Get|__New|__Set)\b/i,symbol:/\b(?:alt|altdown|altup|appskey|backspace|browser_back|browser_favorites|browser_forward|browser_home|browser_refresh|browser_search|browser_stop|bs|capslock|ctrl|ctrlbreak|ctrldown|ctrlup|del|delete|down|end|enter|esc|escape|f1|f10|f11|f12|f13|f14|f15|f16|f17|f18|f19|f2|f20|f21|f22|f23|f24|f3|f4|f5|f6|f7|f8|f9|home|ins|insert|joy1|joy10|joy11|joy12|joy13|joy14|joy15|joy16|joy17|joy18|joy19|joy2|joy20|joy21|joy22|joy23|joy24|joy25|joy26|joy27|joy28|joy29|joy3|joy30|joy31|joy32|joy4|joy5|joy6|joy7|joy8|joy9|joyaxes|joybuttons|joyinfo|joyname|joypov|joyr|joyu|joyv|joyx|joyy|joyz|lalt|launch_app1|launch_app2|launch_mail|launch_media|lbutton|lcontrol|lctrl|left|lshift|lwin|lwindown|lwinup|mbutton|media_next|media_play_pause|media_prev|media_stop|numlock|numpad0|numpad1|numpad2|numpad3|numpad4|numpad5|numpad6|numpad7|numpad8|numpad9|numpadadd|numpadclear|numpaddel|numpaddiv|numpaddot|numpaddown|numpadend|numpadenter|numpadhome|numpadins|numpadleft|numpadmult|numpadpgdn|numpadpgup|numpadright|numpadsub|numpadup|pgdn|pgup|printscreen|ralt|rbutton|rcontrol|rctrl|right|rshift|rwin|rwindown|rwinup|scrolllock|shift|shiftdown|shiftup|space|tab|up|volume_down|volume_mute|volume_up|wheeldown|wheelleft|wheelright|wheelup|xbutton1|xbutton2)\b/i,directive:{pattern:/#[a-z]+\b/i,alias:"important"},keyword:/\b(?:Abort|AboveNormal|Add|ahk_class|ahk_exe|ahk_group|ahk_id|ahk_pid|All|Alnum|Alpha|AltSubmit|AltTab|AltTabAndMenu|AltTabMenu|AltTabMenuDismiss|AlwaysOnTop|AutoSize|Background|BackgroundTrans|BelowNormal|between|BitAnd|BitNot|BitOr|BitShiftLeft|BitShiftRight|BitXOr|Bold|Border|Button|ByRef|Catch|Checkbox|Checked|CheckedGray|Choose|ChooseString|Close|Color|ComboBox|Contains|ControlList|Count|Date|DateTime|Days|DDL|Default|DeleteAll|Delimiter|Deref|Destroy|Digit|Disable|Disabled|DropDownList|Edit|Eject|Else|Enable|Enabled|Error|Exist|Expand|ExStyle|FileSystem|Finally|First|Flash|Float|FloatFast|Focus|Font|for|global|Grid|Group|GroupBox|GuiClose|GuiContextMenu|GuiDropFiles|GuiEscape|GuiSize|Hdr|Hidden|Hide|High|HKCC|HKCR|HKCU|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_LOCAL_MACHINE|HKEY_USERS|HKLM|HKU|Hours|HScroll|Icon|IconSmall|ID|IDLast|If|IfEqual|IfExist|IfGreater|IfGreaterOrEqual|IfInString|IfLess|IfLessOrEqual|IfMsgBox|IfNotEqual|IfNotExist|IfNotInString|IfWinActive|IfWinExist|IfWinNotActive|IfWinNotExist|Ignore|ImageList|in|Integer|IntegerFast|Interrupt|is|italic|Join|Label|LastFound|LastFoundExist|Limit|Lines|List|ListBox|ListView|local|Lock|Logoff|Low|Lower|Lowercase|MainWindow|Margin|Maximize|MaximizeBox|MaxSize|Minimize|MinimizeBox|MinMax|MinSize|Minutes|MonthCal|Mouse|Move|Multi|NA|No|NoActivate|NoDefault|NoHide|NoIcon|NoMainWindow|norm|Normal|NoSort|NoSortHdr|NoStandard|Not|NoTab|NoTimers|Number|Off|Ok|On|OwnDialogs|Owner|Parse|Password|Picture|Pixel|Pos|Pow|Priority|ProcessName|Radio|Range|Read|ReadOnly|Realtime|Redraw|Region|REG_BINARY|REG_DWORD|REG_EXPAND_SZ|REG_MULTI_SZ|REG_SZ|Relative|Rename|Report|Resize|Restore|Retry|RGB|Screen|Seconds|Section|Serial|SetLabel|ShiftAltTab|Show|Single|Slider|SortDesc|Standard|static|Status|StatusBar|StatusCD|strike|Style|Submit|SysMenu|Tab2|TabStop|Text|Theme|Throw|Tile|ToggleCheck|ToggleEnable|ToolWindow|Top|Topmost|TransColor|Transparent|Tray|TreeView|Try|TryAgain|Type|UnCheck|underline|Unicode|Unlock|Until|UpDown|Upper|Uppercase|UseErrorLevel|Vis|VisFirst|Visible|VScroll|Wait|WaitClose|WantCtrlA|WantF2|WantReturn|While|Wrap|Xdigit|xm|xp|xs|Yes|ym|yp|ys)\b/i,function:/[^(); \t,\n+*\-=?>:\\\/<&%\[\]]+(?=\()/,punctuation:/[{}[\]():,]/}}vP.displayName="autoit";vP.aliases=[];function vP(e){e.languages.autoit={comment:[/;.*/,{pattern:/(^[\t ]*)#(?:comments-start|cs)[\s\S]*?^[ \t]*#(?:ce|comments-end)/m,lookbehind:!0}],url:{pattern:/(^[\t ]*#include\s+)(?:<[^\r\n>]+>|"[^\r\n"]+")/m,lookbehind:!0},string:{pattern:/(["'])(?:\1\1|(?!\1)[^\r\n])*\1/,greedy:!0,inside:{variable:/([%$@])\w+\1/}},directive:{pattern:/(^[\t ]*)#[\w-]+/m,lookbehind:!0,alias:"keyword"},function:/\b\w+(?=\()/,variable:/[$@]\w+/,keyword:/\b(?:Case|Const|Continue(?:Case|Loop)|Default|Dim|Do|Else(?:If)?|End(?:Func|If|Select|Switch|With)|Enum|Exit(?:Loop)?|For|Func|Global|If|In|Local|Next|Null|ReDim|Select|Static|Step|Switch|Then|To|Until|Volatile|WEnd|While|With)\b/i,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,boolean:/\b(?:False|True)\b/i,operator:/<[=>]?|[-+*\/=&>]=?|[?^]|\b(?:And|Not|Or)\b/i,punctuation:/[\[\]().,:]/}}bP.displayName="avisynth";bP.aliases=["avs"];function bP(e){(function(t){function n(b,_){return b.replace(/<<(\d+)>>/g,function(w,M){return _[+M]})}function r(b,_,w){return RegExp(n(b,_),w)}var a=/bool|clip|float|int|string|val/.source,l=[/is(?:bool|clip|float|int|string)|defined|(?:(?:internal)?function|var)?exists?/.source,/apply|assert|default|eval|import|nop|select|undefined/.source,/opt_(?:allowfloataudio|avipadscanlines|dwchannelmask|enable_(?:b64a|planartopackedrgb|v210|y3_10_10|y3_10_16)|usewaveextensible|vdubplanarhack)|set(?:cachemode|maxcpu|memorymax|planarlegacyalignment|workingdir)/.source,/hex(?:value)?|value/.source,/abs|ceil|continued(?:denominator|numerator)?|exp|floor|fmod|frac|log(?:10)?|max|min|muldiv|pi|pow|rand|round|sign|spline|sqrt/.source,/a?sinh?|a?cosh?|a?tan[2h]?/.source,/(?:bit(?:and|not|x?or|[lr]?shift[aslu]?|sh[lr]|sa[lr]|[lr]rotatel?|ro[rl]|te?st|set(?:count)?|cl(?:ea)?r|ch(?:an)?ge?))/.source,/average(?:[bgr]|chroma[uv]|luma)|(?:[rgb]|chroma[uv]|luma|rgb|[yuv](?=difference(?:fromprevious|tonext)))difference(?:fromprevious|tonext)?|[yuvrgb]plane(?:median|min|max|minmaxdifference)/.source,/getprocessinfo|logmsg|script(?:dir(?:utf8)?|file(?:utf8)?|name(?:utf8)?)|setlogparams/.source,/chr|(?:fill|find|left|mid|replace|rev|right)str|format|[lu]case|ord|str(?:cmpi?|fromutf8|len|toutf8)|time|trim(?:all|left|right)/.source,/isversionorgreater|version(?:number|string)/.source,/buildpixeltype|colorspacenametopixeltype/.source,/addautoloaddir|on(?:cpu|cuda)|prefetch|setfiltermtmode/.source].join("|"),u=[/has(?:audio|video)/.source,/height|width/.source,/frame(?:count|rate)|framerate(?:denominator|numerator)/.source,/getparity|is(?:field|frame)based/.source,/bitspercomponent|componentsize|hasalpha|is(?:planar(?:rgba?)?|interleaved|rgb(?:24|32|48|64)?|y(?:8|u(?:va?|y2))?|yv(?:12|16|24|411)|420|422|444|packedrgb)|numcomponents|pixeltype/.source,/audio(?:bits|channels|duration|length(?:[fs]|hi|lo)?|rate)|isaudio(?:float|int)/.source].join("|"),i=[/avi(?:file)?source|directshowsource|image(?:reader|source|sourceanim)|opendmlsource|segmented(?:avisource|directshowsource)|wavsource/.source,/coloryuv|convertbacktoyuy2|convertto(?:RGB(?:24|32|48|64)|(?:planar)?RGBA?|Y8?|YV(?:12|16|24|411)|YUVA?(?:411|420|422|444)|YUY2)|fixluminance|gr[ae]yscale|invert|levels|limiter|mergea?rgb|merge(?:chroma|luma)|rgbadjust|show(?:alpha|blue|green|red)|swapuv|tweak|[uv]toy8?|ytouv/.source,/(?:colorkey|reset)mask|layer|mask(?:hs)?|merge|overlay|subtract/.source,/addborders|(?:bicubic|bilinear|blackman|gauss|lanczos4|lanczos|point|sinc|spline(?:16|36|64))resize|crop(?:bottom)?|flip(?:horizontal|vertical)|(?:horizontal|vertical)?reduceby2|letterbox|skewrows|turn(?:180|left|right)/.source,/blur|fixbrokenchromaupsampling|generalconvolution|(?:spatial|temporal)soften|sharpen/.source,/trim|(?:un)?alignedsplice|(?:assume|assumescaled|change|convert)FPS|(?:delete|duplicate)frame|dissolve|fade(?:in|io|out)[02]?|freezeframe|interleave|loop|reverse|select(?:even|odd|(?:range)?every)/.source,/assume[bt]ff|assume(?:field|frame)based|bob|complementparity|doubleweave|peculiarblend|pulldown|separate(?:columns|fields|rows)|swapfields|weave(?:columns|rows)?/.source,/amplify(?:db)?|assumesamplerate|audiodub(?:ex)?|audiotrim|convertaudioto(?:(?:8|16|24|32)bit|float)|converttomono|delayaudio|ensurevbrmp3sync|get(?:left|right)?channel|kill(?:audio|video)|mergechannels|mixaudio|monotostereo|normalize|resampleaudio|ssrc|supereq|timestretch/.source,/animate|applyrange|conditional(?:filter|reader|select)|frameevaluate|scriptclip|tcp(?:server|source)|writefile(?:end|if|start)?/.source,/imagewriter/.source,/blackness|blankclip|colorbars(?:hd)?|compare|dumpfiltergraph|echo|histogram|info|messageclip|preroll|setgraphanalysis|show(?:framenumber|smpte|time)|showfiveversions|stack(?:horizontal|vertical)|subtitle|tone|version/.source].join("|"),m=[l,u,i].join("|");t.languages.avisynth={comment:[{pattern:/(^|[^\\])\[\*(?:[^\[*]|\[(?!\*)|\*(?!\])|\[\*(?:[^\[*]|\[(?!\*)|\*(?!\]))*\*\])*\*\]/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],argument:{pattern:r(/\b(?:<<0>>)\s+("?)\w+\1/.source,[a],"i"),inside:{keyword:/^\w+/}},"argument-label":{pattern:/([,(][\s\\]*)\w+\s*=(?!=)/,lookbehind:!0,inside:{"argument-name":{pattern:/^\w+/,alias:"punctuation"},punctuation:/=$/}},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0,inside:{constant:{pattern:/\b(?:DEFAULT_MT_MODE|(?:MAINSCRIPT|PROGRAM|SCRIPT)DIR|(?:MACHINE|USER)_(?:CLASSIC|PLUS)_PLUGINS)\b/}}}],variable:/\b(?:last)\b/i,boolean:/\b(?:false|no|true|yes)\b/i,keyword:/\b(?:catch|else|for|function|global|if|return|try|while|__END__)\b/i,constant:/\bMT_(?:MULTI_INSTANCE|NICE_FILTER|SERIALIZED|SPECIAL_MT)\b/,"builtin-function":{pattern:r(/\b(?:<<0>>)\b/.source,[m],"i"),alias:"function"},"type-cast":{pattern:r(/\b(?:<<0>>)(?=\s*\()/.source,[a],"i"),alias:"keyword"},function:{pattern:/\b[a-z_]\w*(?=\s*\()|(\.)[a-z_]\w*\b/i,lookbehind:!0},"line-continuation":{pattern:/(^[ \t]*)\\|\\(?=[ \t]*$)/m,lookbehind:!0,alias:"punctuation"},number:/\B\$(?:[\da-f]{6}|[\da-f]{8})\b|(?:(?:\b|\B-)\d+(?:\.\d*)?\b|\B\.\d+\b)/i,operator:/\+\+?|[!=<>]=?|&&|\|\||[?:*/%-]/,punctuation:/[{}\[\]();,.]/},t.languages.avs=t.languages.avisynth})(e)}_P.displayName="avro-idl";_P.aliases=["avdl"];function _P(e){e.languages["avro-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0},annotation:{pattern:/@(?:[$\w.-]|`[^\r\n`]+`)+/,greedy:!0,alias:"function"},"function-identifier":{pattern:/`[^\r\n`]+`(?=\s*\()/,greedy:!0,alias:"function"},identifier:{pattern:/`[^\r\n`]+`/,greedy:!0},"class-name":{pattern:/(\b(?:enum|error|protocol|record|throws)\b\s+)[$\w]+/,lookbehind:!0,greedy:!0},keyword:/\b(?:array|boolean|bytes|date|decimal|double|enum|error|false|fixed|float|idl|import|int|local_timestamp_ms|long|map|null|oneway|protocol|record|schema|string|throws|time_ms|timestamp_ms|true|union|uuid|void)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:[{pattern:/(^|[^\w.])-?(?:(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|0x(?:[a-f0-9]+(?:\.[a-f0-9]*)?|\.[a-f0-9]+)(?:p[+-]?\d+)?)[dfl]?(?![\w.])/i,lookbehind:!0},/-?\b(?:Infinity|NaN)\b/],operator:/=/,punctuation:/[()\[\]{}<>.:,;-]/},e.languages.avdl=e.languages["avro-idl"]}xP.displayName="awk";xP.aliases=["gawk"];function xP(e){e.languages.awk={hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^\\"\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},regex:{pattern:/((?:^|[^\w\s)])\s*)\/(?:[^\/\\\r\n]|\\.)*\//,lookbehind:!0,greedy:!0},variable:/\$\w+/,keyword:/\b(?:BEGIN|BEGINFILE|END|ENDFILE|break|case|continue|default|delete|do|else|exit|for|function|getline|if|in|next|nextfile|printf?|return|switch|while)\b|@(?:include|load)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[a-fA-F0-9]+)\b/,operator:/--|\+\+|!?~|>&|>>|<<|(?:\*\*|[<>!=+\-*/%^])=?|&&|\|[|&]|[?:]/,punctuation:/[()[\]{},;]/},e.languages.gawk=e.languages.awk}EP.displayName="batch";EP.aliases=[];function EP(e){(function(t){var n=/%%?[~:\w]+%?|!\S+!/,r={pattern:/\/[a-z?]+(?=[ :]|$):?|-[a-z]\b|--[a-z-]+\b/im,alias:"attr-name",inside:{punctuation:/:/}},a=/"(?:[\\"]"|[^"])*"(?!")/,l=/(?:\b|-)\d+\b/;t.languages.batch={comment:[/^::.*/m,{pattern:/((?:^|[&(])[ \t]*)rem\b(?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0}],label:{pattern:/^:.*/m,alias:"property"},command:[{pattern:/((?:^|[&(])[ \t]*)for(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* \S+ in \([^)]+\) do/im,lookbehind:!0,inside:{keyword:/\b(?:do|in)\b|^for\b/i,string:a,parameter:r,variable:n,number:l,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*)if(?: \/[a-z?](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:not )?(?:cmdextversion \d+|defined \w+|errorlevel \d+|exist \S+|(?:"[^"]*"|(?!")(?:(?!==)\S)+)?(?:==| (?:equ|geq|gtr|leq|lss|neq) )(?:"[^"]*"|[^\s"]\S*))/im,lookbehind:!0,inside:{keyword:/\b(?:cmdextversion|defined|errorlevel|exist|not)\b|^if\b/i,string:a,parameter:r,variable:n,number:l,operator:/\^|==|\b(?:equ|geq|gtr|leq|lss|neq)\b/i}},{pattern:/((?:^|[&()])[ \t]*)else\b/im,lookbehind:!0,inside:{keyword:/^else\b/i}},{pattern:/((?:^|[&(])[ \t]*)set(?: \/[a-z](?:[ :](?:"[^"]*"|[^\s"/]\S*))?)* (?:[^^&)\r\n]|\^(?:\r\n|[\s\S]))*/im,lookbehind:!0,inside:{keyword:/^set\b/i,string:a,parameter:r,variable:[n,/\w+(?=(?:[*\/%+\-&^|]|<<|>>)?=)/],number:l,operator:/[*\/%+\-&^|]=?|<<=?|>>=?|[!~_=]/,punctuation:/[()',]/}},{pattern:/((?:^|[&(])[ \t]*@?)\w+\b(?:"(?:[\\"]"|[^"])*"(?!")|[^"^&)\r\n]|\^(?:\r\n|[\s\S]))*/m,lookbehind:!0,inside:{keyword:/^\w+\b/,string:a,parameter:r,label:{pattern:/(^\s*):\S+/m,lookbehind:!0,alias:"property"},variable:n,number:l,operator:/\^/}}],operator:/[&@]/,punctuation:/[()']/}})(e)}wP.displayName="bbcode";wP.aliases=["shortcode"];function wP(e){e.languages.bbcode={tag:{pattern:/\[\/?[^\s=\]]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))?(?:\s+[^\s=\]]+\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+))*\s*\]/,inside:{tag:{pattern:/^\[\/?[^\s=\]]+/,inside:{punctuation:/^\[\/?/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'"\]=]+)/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\]/,"attr-name":/[^\s=\]]+/}}},e.languages.shortcode=e.languages.bbcode}SP.displayName="bbj";SP.aliases=[];function SP(e){(function(t){t.languages.bbj={comment:{pattern:/(^|[^\\:])rem\s+.*/i,lookbehind:!0,greedy:!0},string:{pattern:/(['"])(?:(?!\1|\\).|\\.)*\1/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:abstract|all|argc|begin|bye|callback|case|chn|class|classend|ctl|day|declare|delete|dim|dom|dread|dsz|else|end|endif|err|exitto|extends|fi|field|for|from|gosub|goto|if|implements|interface|interfaceend|iol|iolist|let|list|load|method|methodend|methodret|on|opts|pfx|print|private|process_events|protected|psz|public|read|read_resource|release|remove_callback|repeat|restore|return|rev|seterr|setesc|sqlchn|sqlunt|ssn|start|static|swend|switch|sys|then|tim|unt|until|use|void|wend|where|while)\b/i,function:/\b\w+(?=\()/,boolean:/\b(?:BBjAPI\.TRUE|BBjAPI\.FALSE)\b/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:and|not|or|xor)\b/i,punctuation:/[.,;:()]/}})(e)}TP.displayName="bicep";TP.aliases=[];function TP(e){e.languages.bicep={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],property:[{pattern:/([\r\n][ \t]*)[a-z_]\w*(?=[ \t]*:)/i,lookbehind:!0},{pattern:/([\r\n][ \t]*)'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'(?=[ \t]*:)/,lookbehind:!0,greedy:!0}],string:[{pattern:/'''[^'][\s\S]*?'''/,greedy:!0},{pattern:/(^|[^\\'])'(?:\\.|\$(?!\{)|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0}],"interpolated-string":{pattern:/(^|[^\\'])'(?:\\.|\$(?:(?!\{)|\{[^{}\r\n]*\})|[^'\\\r\n$])*'/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}\r\n]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0},punctuation:/^\$\{|\}$/}},string:/[\s\S]+/}},datatype:{pattern:/(\b(?:output|param)\b[ \t]+\w+[ \t]+)\w+\b/,lookbehind:!0,alias:"class-name"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:existing|for|if|in|module|null|output|param|resource|targetScope|var)\b/,decorator:/@\w+\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/,punctuation:/[{}[\];(),.:]/},e.languages.bicep["interpolated-string"].inside.interpolation.inside.expression.inside=e.languages.bicep}CP.displayName="birb";CP.aliases=[];function CP(e){e.register(si),e.languages.birb=e.languages.extend("clike",{string:{pattern:/r?("|')(?:\\.|(?!\1)[^\\])*\1/,greedy:!0},"class-name":[/\b[A-Z](?:[\d_]*[a-zA-Z]\w*)?\b/,/\b(?:[A-Z]\w*|(?!(?:var|void)\b)[a-z]\w*)(?=\s+\w+\s*[;,=()])/],keyword:/\b(?:assert|break|case|class|const|default|else|enum|final|follows|for|grab|if|nest|new|next|noSeeb|return|static|switch|throw|var|void|while)\b/,operator:/\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?|:/,variable:/\b[a-z_]\w*\b/}),e.languages.insertBefore("birb","function",{metadata:{pattern:/<\w+>/,greedy:!0,alias:"symbol"}})}AP.displayName="bison";AP.aliases=[];function AP(e){e.register(gg),e.languages.bison=e.languages.extend("c",{}),e.languages.insertBefore("bison","comment",{bison:{pattern:/^(?:[^%]|%(?!%))*%%[\s\S]*?%%/,inside:{c:{pattern:/%\{[\s\S]*?%\}|\{(?:\{[^}]*\}|[^{}])*\}/,inside:{delimiter:{pattern:/^%?\{|%?\}$/,alias:"punctuation"},"bison-variable":{pattern:/[$@](?:<[^\s>]+>)?[\w$]+/,alias:"variable",inside:{punctuation:/<|>/}},rest:e.languages.c}},comment:e.languages.c.comment,string:e.languages.c.string,property:/\S+(?=:)/,keyword:/%\w+/,number:{pattern:/(^|[^@])\b(?:0x[\da-f]+|\d+)/i,lookbehind:!0},punctuation:/%[%?]|[|:;\[\]<>]/}}})}kP.displayName="bnf";kP.aliases=["rbnf"];function kP(e){e.languages.bnf={string:{pattern:/"[^\r\n"]*"|'[^\r\n']*'/},definition:{pattern:/<[^<>\r\n\t]+>(?=\s*::=)/,alias:["rule","keyword"],inside:{punctuation:/^<|>$/}},rule:{pattern:/<[^<>\r\n\t]+>/,inside:{punctuation:/^<|>$/}},operator:/::=|[|()[\]{}*+?]|\.{3}/},e.languages.rbnf=e.languages.bnf}IP.displayName="bqn";IP.aliases=[];function IP(e){e.languages.bqn={shebang:{pattern:/^#![ \t]*\/.*/,alias:"important",greedy:!0},comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/"(?:[^"]|"")*"/,greedy:!0,alias:"string"},"character-literal":{pattern:/'(?:[\s\S]|[\uD800-\uDBFF][\uDC00-\uDFFF])'/,greedy:!0,alias:"char"},function:/[\w.]+[\w.]*/,"dot-notation-on-brackets":{pattern:/\{(?=.*\}\.)|\}\./,alias:"namespace"},"special-name":{pattern:/(?:|||||||||||__|_)/,alias:"keyword"},"dot-notation-on-name":{pattern:/[A-Za-z_][\w]*\./,alias:"namespace"},"word-number-scientific":{pattern:/\d+(?:\.\d+)?[eE]?\d+/,alias:"number"},"word-name":{pattern:/[A-Za-z_][\w]*/,alias:"symbol"},"word-number":{pattern:/[]?(?:\d*\.?\b\d+(?:e[+]?\d+|E[+]?\d+)?|||)(?:j?(?:(?:\d+(?:\.\d+)?|\.\d+)(?:e[+]?\d+|E[+]?\d+)?|||))?/,alias:"number"},"null-literal":{pattern:/@/,alias:"char"},"primitive-functions":{pattern:/[-+|<>=/!]/,alias:"operator"},"primitive-1-operators":{pattern:/[`]/,alias:"operator"},"primitive-2-operators":{pattern:/[]/,alias:"operator"},punctuation:/[(){}[\],.;:?]/}}NP.displayName="brainfuck";NP.aliases=[];function NP(e){e.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/}}RP.displayName="brightscript";RP.aliases=[];function RP(e){e.languages.brightscript={comment:/(?:\brem|').*/i,"directive-statement":{pattern:/(^[\t ]*)#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if).*/im,lookbehind:!0,alias:"property",inside:{"error-message":{pattern:/(^#error).+/,lookbehind:!0},directive:{pattern:/^#(?:const|else(?:[\t ]+if)?|end[\t ]+if|error|if)/,alias:"keyword"},expression:{pattern:/[\s\S]+/,inside:null}}},property:{pattern:/([\r\n{,][\t ]*)(?:(?!\d)\w+|"(?:[^"\r\n]|"")*"(?!"))(?=[ \t]*:)/,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},"class-name":{pattern:/(\bAs[\t ]+)\w+/i,lookbehind:!0},keyword:/\b(?:As|Dim|Each|Else|Elseif|End|Exit|For|Function|Goto|If|In|Print|Return|Step|Stop|Sub|Then|To|While)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?!\d)\w+(?=[\t ]*\()/,number:/(?:\b\d+(?:\.\d+)?(?:[ed][+-]\d+)?|&h[a-f\d]+)\b[%&!#]?/i,operator:/--|\+\+|>>=?|<<=?|<>|[-+*/\\<>]=?|[:^=?]|\b(?:and|mod|not|or)\b/i,punctuation:/[.,;()[\]{}]/,constant:/\b(?:LINE_NUM)\b/i},e.languages.brightscript["directive-statement"].inside.expression.inside=e.languages.brightscript}MP.displayName="bro";MP.aliases=[];function MP(e){e.languages.bro={comment:{pattern:/(^|[^\\$])#.*/,lookbehind:!0,inside:{italic:/\b(?:FIXME|TODO|XXX)\b/}},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},boolean:/\b[TF]\b/,function:{pattern:/(\b(?:event|function|hook)[ \t]+)\w+(?:::\w+)?/,lookbehind:!0},builtin:/(?:@(?:load(?:-(?:plugin|sigs))?|unload|prefixes|ifn?def|else|(?:end)?if|DIR|FILENAME))|(?:&?(?:add_func|create_expire|default|delete_func|encrypt|error_handler|expire_func|group|log|mergeable|optional|persistent|priority|raw_output|read_expire|redef|rotate_interval|rotate_size|synchronized|type_column|write_expire))/,constant:{pattern:/(\bconst[ \t]+)\w+/i,lookbehind:!0},keyword:/\b(?:add|addr|alarm|any|bool|break|const|continue|count|delete|double|else|enum|event|export|file|for|function|global|hook|if|in|int|interval|local|module|next|of|opaque|pattern|port|print|record|return|schedule|set|string|subnet|table|time|timeout|using|vector|when)\b/,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&|\|\|?|\?|\*|\/|~|\^|%/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,punctuation:/[{}[\];(),.:]/}}OP.displayName="bsl";OP.aliases=["oscript"];function OP(e){e.languages.bsl={comment:/\/\/.*/,string:[{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},{pattern:/'(?:[^'\r\n\\]|\\.)*'/}],keyword:[{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:|||||||||||||||||||||||||||||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:break|do|each|else|elseif|enddo|endfunction|endif|endprocedure|endtry|except|execute|export|false|for|function|if|in|new|null|procedure|raise|return|then|to|true|try|undefined|val|var|while)\b/i}],number:{pattern:/(^(?=\d)|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:\d+(?:\.\d*)?|\.\d+)(?:E[+-]?\d+)?/i,lookbehind:!0},operator:[/[<>+\-*/]=?|[%=]/,{pattern:/(^|[^\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])(?:||)(?![\w\u0400-\u0484\u0487-\u052f\u1d2b\u1d78\u2de0-\u2dff\ua640-\ua69f\ufe2e\ufe2f])/i,lookbehind:!0},{pattern:/\b(?:and|not|or)\b/i}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/,directive:[{pattern:/^([ \t]*)&.*/m,lookbehind:!0,greedy:!0,alias:"important"},{pattern:/^([ \t]*)#.*/gm,lookbehind:!0,greedy:!0,alias:"important"}]},e.languages.oscript=e.languages.bsl}DP.displayName="cfscript";DP.aliases=["cfc"];function DP(e){e.register(si),e.languages.cfscript=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,inside:{annotation:{pattern:/(?:^|[^.])@[\w\.]+/,alias:"punctuation"}}},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],keyword:/\b(?:abstract|break|catch|component|continue|default|do|else|extends|final|finally|for|function|if|in|include|package|private|property|public|remote|required|rethrow|return|static|switch|throw|try|var|while|xml)\b(?!\s*=)/,operator:[/\+\+|--|&&|\|\||::|=>|[!=]==|[-+*/%&|^!=<>]=?|\?(?:\.|:)?|:/,/\b(?:and|contains|eq|equal|eqv|gt|gte|imp|is|lt|lte|mod|not|or|xor)\b/],scope:{pattern:/\b(?:application|arguments|cgi|client|cookie|local|session|super|this|variables)\b/,alias:"global"},type:{pattern:/\b(?:any|array|binary|boolean|date|guid|numeric|query|string|struct|uuid|void|xml)\b/,alias:"builtin"}}),e.languages.insertBefore("cfscript","keyword",{"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"}}),delete e.languages.cfscript["class-name"],e.languages.cfc=e.languages.cfscript}LP.displayName="chaiscript";LP.aliases=[];function LP(e){e.register(si),e.register(z1),e.languages.chaiscript=e.languages.extend("clike",{string:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'/,lookbehind:!0,greedy:!0},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},{pattern:/(\b(?:attr|def)\s+)\w+(?=\s*::)/,lookbehind:!0}],keyword:/\b(?:attr|auto|break|case|catch|class|continue|def|default|else|finally|for|fun|global|if|return|switch|this|try|var|while)\b/,number:[e.languages.cpp.number,/\b(?:Infinity|NaN)\b/],operator:/>>=?|<<=?|\|\||&&|:[:=]?|--|\+\+|[=!<>+\-*/%|&^]=?|[?~]|`[^`\r\n]{1,4}`/}),e.languages.insertBefore("chaiscript","operator",{"parameter-type":{pattern:/([,(]\s*)\w+(?=\s+\w)/,lookbehind:!0,alias:"class-name"}}),e.languages.insertBefore("chaiscript","string",{"string-interpolation":{pattern:/(^|[^\\])"(?:[^"$\\]|\\[\s\S]|\$(?!\{)|\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\}/,lookbehind:!0,inside:{"interpolation-expression":{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:e.languages.chaiscript},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"}}},string:/[\s\S]+/}}})}PP.displayName="cil";PP.aliases=[];function PP(e){e.languages.cil={comment:/\/\/.*/,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},directive:{pattern:/(^|\W)\.[a-z]+(?=\s)/,lookbehind:!0,alias:"class-name"},variable:/\[[\w\.]+\]/,keyword:/\b(?:abstract|ansi|assembly|auto|autochar|beforefieldinit|bool|bstr|byvalstr|catch|char|cil|class|currency|date|decimal|default|enum|error|explicit|extends|extern|famandassem|family|famorassem|final(?:ly)?|float32|float64|hidebysig|u?int(?:8|16|32|64)?|iant|idispatch|implements|import|initonly|instance|interface|iunknown|literal|lpstr|lpstruct|lptstr|lpwstr|managed|method|native(?:Type)?|nested|newslot|object(?:ref)?|pinvokeimpl|private|privatescope|public|reqsecobj|rtspecialname|runtime|sealed|sequential|serializable|specialname|static|string|struct|syschar|tbstr|unicode|unmanagedexp|unsigned|value(?:type)?|variant|virtual|void)\b/,function:/\b(?:(?:constrained|no|readonly|tail|unaligned|volatile)\.)?(?:conv\.(?:[iu][1248]?|ovf\.[iu][1248]?(?:\.un)?|r\.un|r4|r8)|ldc\.(?:i4(?:\.\d+|\.[mM]1|\.s)?|i8|r4|r8)|ldelem(?:\.[iu][1248]?|\.r[48]|\.ref|a)?|ldind\.(?:[iu][1248]?|r[48]|ref)|stelem\.?(?:i[1248]?|r[48]|ref)?|stind\.(?:i[1248]?|r[48]|ref)?|end(?:fault|filter|finally)|ldarg(?:\.[0-3s]|a(?:\.s)?)?|ldloc(?:\.\d+|\.s)?|sub(?:\.ovf(?:\.un)?)?|mul(?:\.ovf(?:\.un)?)?|add(?:\.ovf(?:\.un)?)?|stloc(?:\.[0-3s])?|refany(?:type|val)|blt(?:\.un)?(?:\.s)?|ble(?:\.un)?(?:\.s)?|bgt(?:\.un)?(?:\.s)?|bge(?:\.un)?(?:\.s)?|unbox(?:\.any)?|init(?:blk|obj)|call(?:i|virt)?|brfalse(?:\.s)?|bne\.un(?:\.s)?|ldloca(?:\.s)?|brzero(?:\.s)?|brtrue(?:\.s)?|brnull(?:\.s)?|brinst(?:\.s)?|starg(?:\.s)?|leave(?:\.s)?|shr(?:\.un)?|rem(?:\.un)?|div(?:\.un)?|clt(?:\.un)?|alignment|castclass|ldvirtftn|beq(?:\.s)?|ckfinite|ldsflda|ldtoken|localloc|mkrefany|rethrow|cgt\.un|arglist|switch|stsfld|sizeof|newobj|newarr|ldsfld|ldnull|ldflda|isinst|throw|stobj|stfld|ldstr|ldobj|ldlen|ldftn|ldfld|cpobj|cpblk|break|br\.s|xor|shl|ret|pop|not|nop|neg|jmp|dup|cgt|ceq|box|and|or|br)\b/,boolean:/\b(?:false|true)\b/,number:/\b-?(?:0x[0-9a-f]+|\d+)(?:\.[0-9a-f]+)?\b/i,punctuation:/[{}[\];(),:=]|IL_[0-9A-Za-z]+/}}FP.displayName="cilkc";FP.aliases=["cilk-c"];function FP(e){e.register(gg),e.languages.cilkc=e.languages.insertBefore("c","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-c"]=e.languages.cilkc}BP.displayName="cilkcpp";BP.aliases=["cilk","cilk-cpp"];function BP(e){e.register(z1),e.languages.cilkcpp=e.languages.insertBefore("cpp","function",{"parallel-keyword":{pattern:/\bcilk_(?:for|reducer|s(?:cope|pawn|ync))\b/,alias:"keyword"}}),e.languages["cilk-cpp"]=e.languages.cilkcpp,e.languages.cilk=e.languages.cilkcpp}$P.displayName="clojure";$P.aliases=[];function $P(e){e.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}jP.displayName="cmake";jP.aliases=[];function jP(e){e.languages.cmake={comment:/#.*/,string:{pattern:/"(?:[^\\"]|\\.)*"/,greedy:!0,inside:{interpolation:{pattern:/\$\{(?:[^{}$]|\$\{[^{}$]*\})*\}/,inside:{punctuation:/\$\{|\}/,variable:/\w+/}}}},variable:/\b(?:CMAKE_\w+|\w+_(?:(?:BINARY|SOURCE)_DIR|DESCRIPTION|HOMEPAGE_URL|ROOT|VERSION(?:_MAJOR|_MINOR|_PATCH|_TWEAK)?)|(?:ANDROID|APPLE|BORLAND|BUILD_SHARED_LIBS|CACHE|CPACK_(?:ABSOLUTE_DESTINATION_FILES|COMPONENT_INCLUDE_TOPLEVEL_DIRECTORY|ERROR_ON_ABSOLUTE_INSTALL_DESTINATION|INCLUDE_TOPLEVEL_DIRECTORY|INSTALL_DEFAULT_DIRECTORY_PERMISSIONS|INSTALL_SCRIPT|PACKAGING_INSTALL_PREFIX|SET_DESTDIR|WARN_ON_ABSOLUTE_INSTALL_DESTINATION)|CTEST_(?:BINARY_DIRECTORY|BUILD_COMMAND|BUILD_NAME|BZR_COMMAND|BZR_UPDATE_OPTIONS|CHANGE_ID|CHECKOUT_COMMAND|CONFIGURATION_TYPE|CONFIGURE_COMMAND|COVERAGE_COMMAND|COVERAGE_EXTRA_FLAGS|CURL_OPTIONS|CUSTOM_(?:COVERAGE_EXCLUDE|ERROR_EXCEPTION|ERROR_MATCH|ERROR_POST_CONTEXT|ERROR_PRE_CONTEXT|MAXIMUM_FAILED_TEST_OUTPUT_SIZE|MAXIMUM_NUMBER_OF_(?:ERRORS|WARNINGS)|MAXIMUM_PASSED_TEST_OUTPUT_SIZE|MEMCHECK_IGNORE|POST_MEMCHECK|POST_TEST|PRE_MEMCHECK|PRE_TEST|TESTS_IGNORE|WARNING_EXCEPTION|WARNING_MATCH)|CVS_CHECKOUT|CVS_COMMAND|CVS_UPDATE_OPTIONS|DROP_LOCATION|DROP_METHOD|DROP_SITE|DROP_SITE_CDASH|DROP_SITE_PASSWORD|DROP_SITE_USER|EXTRA_COVERAGE_GLOB|GIT_COMMAND|GIT_INIT_SUBMODULES|GIT_UPDATE_CUSTOM|GIT_UPDATE_OPTIONS|HG_COMMAND|HG_UPDATE_OPTIONS|LABELS_FOR_SUBPROJECTS|MEMORYCHECK_(?:COMMAND|COMMAND_OPTIONS|SANITIZER_OPTIONS|SUPPRESSIONS_FILE|TYPE)|NIGHTLY_START_TIME|P4_CLIENT|P4_COMMAND|P4_OPTIONS|P4_UPDATE_OPTIONS|RUN_CURRENT_SCRIPT|SCP_COMMAND|SITE|SOURCE_DIRECTORY|SUBMIT_URL|SVN_COMMAND|SVN_OPTIONS|SVN_UPDATE_OPTIONS|TEST_LOAD|TEST_TIMEOUT|TRIGGER_SITE|UPDATE_COMMAND|UPDATE_OPTIONS|UPDATE_VERSION_ONLY|USE_LAUNCHERS)|CYGWIN|ENV|EXECUTABLE_OUTPUT_PATH|GHS-MULTI|IOS|LIBRARY_OUTPUT_PATH|MINGW|MSVC(?:10|11|12|14|60|70|71|80|90|_IDE|_TOOLSET_VERSION|_VERSION)?|MSYS|PROJECT_NAME|UNIX|WIN32|WINCE|WINDOWS_PHONE|WINDOWS_STORE|XCODE))\b/,property:/\b(?:cxx_\w+|(?:ARCHIVE_OUTPUT_(?:DIRECTORY|NAME)|COMPILE_DEFINITIONS|COMPILE_PDB_NAME|COMPILE_PDB_OUTPUT_DIRECTORY|EXCLUDE_FROM_DEFAULT_BUILD|IMPORTED_(?:IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_LANGUAGES|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|NO_SONAME|OBJECTS|SONAME)|INTERPROCEDURAL_OPTIMIZATION|LIBRARY_OUTPUT_DIRECTORY|LIBRARY_OUTPUT_NAME|LINK_FLAGS|LINK_INTERFACE_LIBRARIES|LINK_INTERFACE_MULTIPLICITY|LOCATION|MAP_IMPORTED_CONFIG|OSX_ARCHITECTURES|OUTPUT_NAME|PDB_NAME|PDB_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_DIRECTORY|RUNTIME_OUTPUT_NAME|STATIC_LIBRARY_FLAGS|VS_CSHARP|VS_DOTNET_REFERENCEPROP|VS_DOTNET_REFERENCE|VS_GLOBAL_SECTION_POST|VS_GLOBAL_SECTION_PRE|VS_GLOBAL|XCODE_ATTRIBUTE)_\w+|\w+_(?:CLANG_TIDY|COMPILER_LAUNCHER|CPPCHECK|CPPLINT|INCLUDE_WHAT_YOU_USE|OUTPUT_NAME|POSTFIX|VISIBILITY_PRESET)|ABSTRACT|ADDITIONAL_MAKE_CLEAN_FILES|ADVANCED|ALIASED_TARGET|ALLOW_DUPLICATE_CUSTOM_TARGETS|ANDROID_(?:ANT_ADDITIONAL_OPTIONS|API|API_MIN|ARCH|ASSETS_DIRECTORIES|GUI|JAR_DEPENDENCIES|NATIVE_LIB_DEPENDENCIES|NATIVE_LIB_DIRECTORIES|PROCESS_MAX|PROGUARD|PROGUARD_CONFIG_PATH|SECURE_PROPS_PATH|SKIP_ANT_STEP|STL_TYPE)|ARCHIVE_OUTPUT_DIRECTORY|ATTACHED_FILES|ATTACHED_FILES_ON_FAIL|AUTOGEN_(?:BUILD_DIR|ORIGIN_DEPENDS|PARALLEL|SOURCE_GROUP|TARGETS_FOLDER|TARGET_DEPENDS)|AUTOMOC|AUTOMOC_(?:COMPILER_PREDEFINES|DEPEND_FILTERS|EXECUTABLE|MACRO_NAMES|MOC_OPTIONS|SOURCE_GROUP|TARGETS_FOLDER)|AUTORCC|AUTORCC_EXECUTABLE|AUTORCC_OPTIONS|AUTORCC_SOURCE_GROUP|AUTOUIC|AUTOUIC_EXECUTABLE|AUTOUIC_OPTIONS|AUTOUIC_SEARCH_PATHS|BINARY_DIR|BUILDSYSTEM_TARGETS|BUILD_RPATH|BUILD_RPATH_USE_ORIGIN|BUILD_WITH_INSTALL_NAME_DIR|BUILD_WITH_INSTALL_RPATH|BUNDLE|BUNDLE_EXTENSION|CACHE_VARIABLES|CLEAN_NO_CUSTOM|COMMON_LANGUAGE_RUNTIME|COMPATIBLE_INTERFACE_(?:BOOL|NUMBER_MAX|NUMBER_MIN|STRING)|COMPILE_(?:DEFINITIONS|FEATURES|FLAGS|OPTIONS|PDB_NAME|PDB_OUTPUT_DIRECTORY)|COST|CPACK_DESKTOP_SHORTCUTS|CPACK_NEVER_OVERWRITE|CPACK_PERMANENT|CPACK_STARTUP_SHORTCUTS|CPACK_START_MENU_SHORTCUTS|CPACK_WIX_ACL|CROSSCOMPILING_EMULATOR|CUDA_EXTENSIONS|CUDA_PTX_COMPILATION|CUDA_RESOLVE_DEVICE_SYMBOLS|CUDA_SEPARABLE_COMPILATION|CUDA_STANDARD|CUDA_STANDARD_REQUIRED|CXX_EXTENSIONS|CXX_STANDARD|CXX_STANDARD_REQUIRED|C_EXTENSIONS|C_STANDARD|C_STANDARD_REQUIRED|DEBUG_CONFIGURATIONS|DEFINE_SYMBOL|DEFINITIONS|DEPENDS|DEPLOYMENT_ADDITIONAL_FILES|DEPLOYMENT_REMOTE_DIRECTORY|DISABLED|DISABLED_FEATURES|ECLIPSE_EXTRA_CPROJECT_CONTENTS|ECLIPSE_EXTRA_NATURES|ENABLED_FEATURES|ENABLED_LANGUAGES|ENABLE_EXPORTS|ENVIRONMENT|EXCLUDE_FROM_ALL|EXCLUDE_FROM_DEFAULT_BUILD|EXPORT_NAME|EXPORT_PROPERTIES|EXTERNAL_OBJECT|EchoString|FAIL_REGULAR_EXPRESSION|FIND_LIBRARY_USE_LIB32_PATHS|FIND_LIBRARY_USE_LIB64_PATHS|FIND_LIBRARY_USE_LIBX32_PATHS|FIND_LIBRARY_USE_OPENBSD_VERSIONING|FIXTURES_CLEANUP|FIXTURES_REQUIRED|FIXTURES_SETUP|FOLDER|FRAMEWORK|Fortran_FORMAT|Fortran_MODULE_DIRECTORY|GENERATED|GENERATOR_FILE_NAME|GENERATOR_IS_MULTI_CONFIG|GHS_INTEGRITY_APP|GHS_NO_SOURCE_GROUP_FILE|GLOBAL_DEPENDS_DEBUG_MODE|GLOBAL_DEPENDS_NO_CYCLES|GNUtoMS|HAS_CXX|HEADER_FILE_ONLY|HELPSTRING|IMPLICIT_DEPENDS_INCLUDE_TRANSFORM|IMPORTED|IMPORTED_(?:COMMON_LANGUAGE_RUNTIME|CONFIGURATIONS|GLOBAL|IMPLIB|LIBNAME|LINK_DEPENDENT_LIBRARIES|LINK_INTERFACE_(?:LANGUAGES|LIBRARIES|MULTIPLICITY)|LOCATION|NO_SONAME|OBJECTS|SONAME)|IMPORT_PREFIX|IMPORT_SUFFIX|INCLUDE_DIRECTORIES|INCLUDE_REGULAR_EXPRESSION|INSTALL_NAME_DIR|INSTALL_RPATH|INSTALL_RPATH_USE_LINK_PATH|INTERFACE_(?:AUTOUIC_OPTIONS|COMPILE_DEFINITIONS|COMPILE_FEATURES|COMPILE_OPTIONS|INCLUDE_DIRECTORIES|LINK_DEPENDS|LINK_DIRECTORIES|LINK_LIBRARIES|LINK_OPTIONS|POSITION_INDEPENDENT_CODE|SOURCES|SYSTEM_INCLUDE_DIRECTORIES)|INTERPROCEDURAL_OPTIMIZATION|IN_TRY_COMPILE|IOS_INSTALL_COMBINED|JOB_POOLS|JOB_POOL_COMPILE|JOB_POOL_LINK|KEEP_EXTENSION|LABELS|LANGUAGE|LIBRARY_OUTPUT_DIRECTORY|LINKER_LANGUAGE|LINK_(?:DEPENDS|DEPENDS_NO_SHARED|DIRECTORIES|FLAGS|INTERFACE_LIBRARIES|INTERFACE_MULTIPLICITY|LIBRARIES|OPTIONS|SEARCH_END_STATIC|SEARCH_START_STATIC|WHAT_YOU_USE)|LISTFILE_STACK|LOCATION|MACOSX_BUNDLE|MACOSX_BUNDLE_INFO_PLIST|MACOSX_FRAMEWORK_INFO_PLIST|MACOSX_PACKAGE_LOCATION|MACOSX_RPATH|MACROS|MANUALLY_ADDED_DEPENDENCIES|MEASUREMENT|MODIFIED|NAME|NO_SONAME|NO_SYSTEM_FROM_IMPORTED|OBJECT_DEPENDS|OBJECT_OUTPUTS|OSX_ARCHITECTURES|OUTPUT_NAME|PACKAGES_FOUND|PACKAGES_NOT_FOUND|PARENT_DIRECTORY|PASS_REGULAR_EXPRESSION|PDB_NAME|PDB_OUTPUT_DIRECTORY|POSITION_INDEPENDENT_CODE|POST_INSTALL_SCRIPT|PREDEFINED_TARGETS_FOLDER|PREFIX|PRE_INSTALL_SCRIPT|PRIVATE_HEADER|PROCESSORS|PROCESSOR_AFFINITY|PROJECT_LABEL|PUBLIC_HEADER|REPORT_UNDEFINED_PROPERTIES|REQUIRED_FILES|RESOURCE|RESOURCE_LOCK|RULE_LAUNCH_COMPILE|RULE_LAUNCH_CUSTOM|RULE_LAUNCH_LINK|RULE_MESSAGES|RUNTIME_OUTPUT_DIRECTORY|RUN_SERIAL|SKIP_AUTOGEN|SKIP_AUTOMOC|SKIP_AUTORCC|SKIP_AUTOUIC|SKIP_BUILD_RPATH|SKIP_RETURN_CODE|SOURCES|SOURCE_DIR|SOVERSION|STATIC_LIBRARY_FLAGS|STATIC_LIBRARY_OPTIONS|STRINGS|SUBDIRECTORIES|SUFFIX|SYMBOLIC|TARGET_ARCHIVES_MAY_BE_SHARED_LIBS|TARGET_MESSAGES|TARGET_SUPPORTS_SHARED_LIBS|TESTS|TEST_INCLUDE_FILE|TEST_INCLUDE_FILES|TIMEOUT|TIMEOUT_AFTER_MATCH|TYPE|USE_FOLDERS|VALUE|VARIABLES|VERSION|VISIBILITY_INLINES_HIDDEN|VS_(?:CONFIGURATION_TYPE|COPY_TO_OUT_DIR|DEBUGGER_(?:COMMAND|COMMAND_ARGUMENTS|ENVIRONMENT|WORKING_DIRECTORY)|DEPLOYMENT_CONTENT|DEPLOYMENT_LOCATION|DOTNET_REFERENCES|DOTNET_REFERENCES_COPY_LOCAL|INCLUDE_IN_VSIX|IOT_STARTUP_TASK|KEYWORD|RESOURCE_GENERATOR|SCC_AUXPATH|SCC_LOCALPATH|SCC_PROJECTNAME|SCC_PROVIDER|SDK_REFERENCES|SHADER_(?:DISABLE_OPTIMIZATIONS|ENABLE_DEBUG|ENTRYPOINT|FLAGS|MODEL|OBJECT_FILE_NAME|OUTPUT_HEADER_FILE|TYPE|VARIABLE_NAME)|STARTUP_PROJECT|TOOL_OVERRIDE|USER_PROPS|WINRT_COMPONENT|WINRT_EXTENSIONS|WINRT_REFERENCES|XAML_TYPE)|WILL_FAIL|WIN32_EXECUTABLE|WINDOWS_EXPORT_ALL_SYMBOLS|WORKING_DIRECTORY|WRAP_EXCLUDE|XCODE_(?:EMIT_EFFECTIVE_PLATFORM_NAME|EXPLICIT_FILE_TYPE|FILE_ATTRIBUTES|LAST_KNOWN_FILE_TYPE|PRODUCT_TYPE|SCHEME_(?:ADDRESS_SANITIZER|ADDRESS_SANITIZER_USE_AFTER_RETURN|ARGUMENTS|DISABLE_MAIN_THREAD_CHECKER|DYNAMIC_LIBRARY_LOADS|DYNAMIC_LINKER_API_USAGE|ENVIRONMENT|EXECUTABLE|GUARD_MALLOC|MAIN_THREAD_CHECKER_STOP|MALLOC_GUARD_EDGES|MALLOC_SCRIBBLE|MALLOC_STACK|THREAD_SANITIZER(?:_STOP)?|UNDEFINED_BEHAVIOUR_SANITIZER(?:_STOP)?|ZOMBIE_OBJECTS))|XCTEST)\b/,keyword:/\b(?:add_compile_definitions|add_compile_options|add_custom_command|add_custom_target|add_definitions|add_dependencies|add_executable|add_library|add_link_options|add_subdirectory|add_test|aux_source_directory|break|build_command|build_name|cmake_host_system_information|cmake_minimum_required|cmake_parse_arguments|cmake_policy|configure_file|continue|create_test_sourcelist|ctest_build|ctest_configure|ctest_coverage|ctest_empty_binary_directory|ctest_memcheck|ctest_read_custom_files|ctest_run_script|ctest_sleep|ctest_start|ctest_submit|ctest_test|ctest_update|ctest_upload|define_property|else|elseif|enable_language|enable_testing|endforeach|endfunction|endif|endmacro|endwhile|exec_program|execute_process|export|export_library_dependencies|file|find_file|find_library|find_package|find_path|find_program|fltk_wrap_ui|foreach|function|get_cmake_property|get_directory_property|get_filename_component|get_property|get_source_file_property|get_target_property|get_test_property|if|include|include_directories|include_external_msproject|include_guard|include_regular_expression|install|install_files|install_programs|install_targets|link_directories|link_libraries|list|load_cache|load_command|macro|make_directory|mark_as_advanced|math|message|option|output_required_files|project|qt_wrap_cpp|qt_wrap_ui|remove|remove_definitions|return|separate_arguments|set|set_directory_properties|set_property|set_source_files_properties|set_target_properties|set_tests_properties|site_name|source_group|string|subdir_depends|subdirs|target_compile_definitions|target_compile_features|target_compile_options|target_include_directories|target_link_directories|target_link_libraries|target_link_options|target_sources|try_compile|try_run|unset|use_mangled_mesa|utility_source|variable_requires|variable_watch|while|write_file)(?=\s*\()\b/,boolean:/\b(?:FALSE|OFF|ON|TRUE)\b/,namespace:/\b(?:INTERFACE|PRIVATE|PROPERTIES|PUBLIC|SHARED|STATIC|TARGET_OBJECTS)\b/,operator:/\b(?:AND|DEFINED|EQUAL|GREATER|LESS|MATCHES|NOT|OR|STREQUAL|STRGREATER|STRLESS|VERSION_EQUAL|VERSION_GREATER|VERSION_LESS)\b/,inserted:{pattern:/\b\w+::\w+\b/,alias:"class-name"},number:/\b\d+(?:\.\d+)*\b/,function:/\b[a-z_]\w*(?=\s*\()\b/i,punctuation:/[()>}]|\$[<{]/}}zP.displayName="cobol";zP.aliases=[];function zP(e){e.languages.cobol={comment:{pattern:/\*>.*|(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},string:{pattern:/[xzgn]?(?:"(?:[^\r\n"]|"")*"(?!")|'(?:[^\r\n']|'')*'(?!'))/i,greedy:!0},level:{pattern:/(^[ \t]*)\d+\b/m,lookbehind:!0,greedy:!0,alias:"number"},"class-name":{pattern:/(\bpic(?:ture)?\s+)(?:(?:[-\w$/,:*+<>]|\.(?!\s|$))(?:\(\d+\))?)+/i,lookbehind:!0,inside:{number:{pattern:/(\()\d+/,lookbehind:!0},punctuation:/[()]/}},keyword:{pattern:/(^|[^\w-])(?:ABORT|ACCEPT|ACCESS|ADD|ADDRESS|ADVANCING|AFTER|ALIGNED|ALL|ALPHABET|ALPHABETIC|ALPHABETIC-LOWER|ALPHABETIC-UPPER|ALPHANUMERIC|ALPHANUMERIC-EDITED|ALSO|ALTER|ALTERNATE|ANY|ARE|AREA|AREAS|AS|ASCENDING|ASCII|ASSIGN|ASSOCIATED-DATA|ASSOCIATED-DATA-LENGTH|AT|ATTRIBUTE|AUTHOR|AUTO|AUTO-SKIP|BACKGROUND-COLOR|BACKGROUND-COLOUR|BASIS|BEEP|BEFORE|BEGINNING|BELL|BINARY|BIT|BLANK|BLINK|BLOCK|BOTTOM|BOUNDS|BY|BYFUNCTION|BYTITLE|CALL|CANCEL|CAPABLE|CCSVERSION|CD|CF|CH|CHAINING|CHANGED|CHANNEL|CHARACTER|CHARACTERS|CLASS|CLASS-ID|CLOCK-UNITS|CLOSE|CLOSE-DISPOSITION|COBOL|CODE|CODE-SET|COL|COLLATING|COLUMN|COM-REG|COMMA|COMMITMENT|COMMON|COMMUNICATION|COMP|COMP-1|COMP-2|COMP-3|COMP-4|COMP-5|COMPUTATIONAL|COMPUTATIONAL-1|COMPUTATIONAL-2|COMPUTATIONAL-3|COMPUTATIONAL-4|COMPUTATIONAL-5|COMPUTE|CONFIGURATION|CONTAINS|CONTENT|CONTINUE|CONTROL|CONTROL-POINT|CONTROLS|CONVENTION|CONVERTING|COPY|CORR|CORRESPONDING|COUNT|CRUNCH|CURRENCY|CURSOR|DATA|DATA-BASE|DATE|DATE-COMPILED|DATE-WRITTEN|DAY|DAY-OF-WEEK|DBCS|DE|DEBUG-CONTENTS|DEBUG-ITEM|DEBUG-LINE|DEBUG-NAME|DEBUG-SUB-1|DEBUG-SUB-2|DEBUG-SUB-3|DEBUGGING|DECIMAL-POINT|DECLARATIVES|DEFAULT|DEFAULT-DISPLAY|DEFINITION|DELETE|DELIMITED|DELIMITER|DEPENDING|DESCENDING|DESTINATION|DETAIL|DFHRESP|DFHVALUE|DISABLE|DISK|DISPLAY|DISPLAY-1|DIVIDE|DIVISION|DONTCARE|DOUBLE|DOWN|DUPLICATES|DYNAMIC|EBCDIC|EGCS|EGI|ELSE|EMI|EMPTY-CHECK|ENABLE|END|END-ACCEPT|END-ADD|END-CALL|END-COMPUTE|END-DELETE|END-DIVIDE|END-EVALUATE|END-IF|END-MULTIPLY|END-OF-PAGE|END-PERFORM|END-READ|END-RECEIVE|END-RETURN|END-REWRITE|END-SEARCH|END-START|END-STRING|END-SUBTRACT|END-UNSTRING|END-WRITE|ENDING|ENTER|ENTRY|ENTRY-PROCEDURE|ENVIRONMENT|EOL|EOP|EOS|ERASE|ERROR|ESCAPE|ESI|EVALUATE|EVENT|EVERY|EXCEPTION|EXCLUSIVE|EXHIBIT|EXIT|EXPORT|EXTEND|EXTENDED|EXTERNAL|FD|FILE|FILE-CONTROL|FILLER|FINAL|FIRST|FOOTING|FOR|FOREGROUND-COLOR|FOREGROUND-COLOUR|FROM|FULL|FUNCTION|FUNCTION-POINTER|FUNCTIONNAME|GENERATE|GIVING|GLOBAL|GO|GOBACK|GRID|GROUP|HEADING|HIGH-VALUE|HIGH-VALUES|HIGHLIGHT|I-O|I-O-CONTROL|ID|IDENTIFICATION|IF|IMPLICIT|IMPORT|IN|INDEX|INDEXED|INDICATE|INITIAL|INITIALIZE|INITIATE|INPUT|INPUT-OUTPUT|INSPECT|INSTALLATION|INTEGER|INTO|INVALID|INVOKE|IS|JUST|JUSTIFIED|KANJI|KEPT|KEY|KEYBOARD|LABEL|LANGUAGE|LAST|LB|LD|LEADING|LEFT|LEFTLINE|LENGTH|LENGTH-CHECK|LIBACCESS|LIBPARAMETER|LIBRARY|LIMIT|LIMITS|LINAGE|LINAGE-COUNTER|LINE|LINE-COUNTER|LINES|LINKAGE|LIST|LOCAL|LOCAL-STORAGE|LOCK|LONG-DATE|LONG-TIME|LOW-VALUE|LOW-VALUES|LOWER|LOWLIGHT|MEMORY|MERGE|MESSAGE|MMDDYYYY|MODE|MODULES|MORE-LABELS|MOVE|MULTIPLE|MULTIPLY|NAMED|NATIONAL|NATIONAL-EDITED|NATIVE|NEGATIVE|NETWORK|NEXT|NO|NO-ECHO|NULL|NULLS|NUMBER|NUMERIC|NUMERIC-DATE|NUMERIC-EDITED|NUMERIC-TIME|OBJECT-COMPUTER|OCCURS|ODT|OF|OFF|OMITTED|ON|OPEN|OPTIONAL|ORDER|ORDERLY|ORGANIZATION|OTHER|OUTPUT|OVERFLOW|OVERLINE|OWN|PACKED-DECIMAL|PADDING|PAGE|PAGE-COUNTER|PASSWORD|PERFORM|PF|PH|PIC|PICTURE|PLUS|POINTER|PORT|POSITION|POSITIVE|PRINTER|PRINTING|PRIVATE|PROCEDURE|PROCEDURE-POINTER|PROCEDURES|PROCEED|PROCESS|PROGRAM|PROGRAM-ID|PROGRAM-LIBRARY|PROMPT|PURGE|QUEUE|QUOTE|QUOTES|RANDOM|RD|READ|READER|REAL|RECEIVE|RECEIVED|RECORD|RECORDING|RECORDS|RECURSIVE|REDEFINES|REEL|REF|REFERENCE|REFERENCES|RELATIVE|RELEASE|REMAINDER|REMARKS|REMOTE|REMOVAL|REMOVE|RENAMES|REPLACE|REPLACING|REPORT|REPORTING|REPORTS|REQUIRED|RERUN|RESERVE|RESET|RETURN|RETURN-CODE|RETURNING|REVERSE-VIDEO|REVERSED|REWIND|REWRITE|RF|RH|RIGHT|ROUNDED|RUN|SAME|SAVE|SCREEN|SD|SEARCH|SECTION|SECURE|SECURITY|SEGMENT|SEGMENT-LIMIT|SELECT|SEND|SENTENCE|SEPARATE|SEQUENCE|SEQUENTIAL|SET|SHARED|SHAREDBYALL|SHAREDBYRUNUNIT|SHARING|SHIFT-IN|SHIFT-OUT|SHORT-DATE|SIGN|SIZE|SORT|SORT-CONTROL|SORT-CORE-SIZE|SORT-FILE-SIZE|SORT-MERGE|SORT-MESSAGE|SORT-MODE-SIZE|SORT-RETURN|SOURCE|SOURCE-COMPUTER|SPACE|SPACES|SPECIAL-NAMES|STANDARD|STANDARD-1|STANDARD-2|START|STATUS|STOP|STRING|SUB-QUEUE-1|SUB-QUEUE-2|SUB-QUEUE-3|SUBTRACT|SUM|SUPPRESS|SYMBOL|SYMBOLIC|SYNC|SYNCHRONIZED|TABLE|TALLY|TALLYING|TAPE|TASK|TERMINAL|TERMINATE|TEST|TEXT|THEN|THREAD|THREAD-LOCAL|THROUGH|THRU|TIME|TIMER|TIMES|TITLE|TO|TODAYS-DATE|TODAYS-NAME|TOP|TRAILING|TRUNCATED|TYPE|TYPEDEF|UNDERLINE|UNIT|UNSTRING|UNTIL|UP|UPON|USAGE|USE|USING|VALUE|VALUES|VARYING|VIRTUAL|WAIT|WHEN|WHEN-COMPILED|WITH|WORDS|WORKING-STORAGE|WRITE|YEAR|YYYYDDD|YYYYMMDD|ZERO-FILL|ZEROES|ZEROS)(?![\w-])/i,lookbehind:!0},boolean:{pattern:/(^|[^\w-])(?:false|true)(?![\w-])/i,lookbehind:!0},number:{pattern:/(^|[^\w-])(?:[+-]?(?:(?:\d+(?:[.,]\d+)?|[.,]\d+)(?:e[+-]?\d+)?|zero))(?![\w-])/i,lookbehind:!0},operator:[/<>|[<>]=?|[=+*/&]/,{pattern:/(^|[^\w-])(?:-|and|equal|greater|less|not|or|than)(?![\w-])/i,lookbehind:!0}],punctuation:/[.:,()]/}}UP.displayName="coffeescript";UP.aliases=["coffee"];function UP(e){e.register(Fc),(function(t){var n=/#(?!\{).+/,r={pattern:/#\{[^}]+\}/,alias:"variable"};t.languages.coffeescript=t.languages.extend("javascript",{comment:n,string:[{pattern:/'(?:\\[\s\S]|[^\\'])*'/,greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0,inside:{interpolation:r}}],keyword:/\b(?:and|break|by|catch|class|continue|debugger|delete|do|each|else|extend|extends|false|finally|for|if|in|instanceof|is|isnt|let|loop|namespace|new|no|not|null|of|off|on|or|own|return|super|switch|then|this|throw|true|try|typeof|undefined|unless|until|when|while|window|with|yes|yield)\b/,"class-member":{pattern:/@(?!\d)\w+/,alias:"variable"}}),t.languages.insertBefore("coffeescript","comment",{"multiline-comment":{pattern:/###[\s\S]+?###/,alias:"comment"},"block-regex":{pattern:/\/{3}[\s\S]*?\/{3}/,alias:"regex",inside:{comment:n,interpolation:r}}}),t.languages.insertBefore("coffeescript","string",{"inline-javascript":{pattern:/`(?:\\[\s\S]|[^\\`])*`/,inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},script:{pattern:/[\s\S]+/,alias:"language-javascript",inside:t.languages.javascript}}},"multiline-string":[{pattern:/'''[\s\S]*?'''/,greedy:!0,alias:"string"},{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string",inside:{interpolation:r}}]}),t.languages.insertBefore("coffeescript","keyword",{property:/(?!\d)\w+(?=\s*:(?!:))/}),delete t.languages.coffeescript["template-string"],t.languages.coffee=t.languages.coffeescript})(e)}GP.displayName="concurnas";GP.aliases=["conc"];function GP(e){e.languages.concurnas={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*)/,lookbehind:!0,greedy:!0},langext:{pattern:/\b\w+\s*\|\|[\s\S]+?\|\|/,greedy:!0,inside:{"class-name":/^\w+/,string:{pattern:/(^\s*\|\|)[\s\S]+(?=\|\|$)/,lookbehind:!0},punctuation:/\|\|/}},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/,lookbehind:!0},keyword:/\b(?:abstract|actor|also|annotation|assert|async|await|bool|boolean|break|byte|case|catch|changed|char|class|closed|constant|continue|def|default|del|double|elif|else|enum|every|extends|false|finally|float|for|from|global|gpudef|gpukernel|if|import|in|init|inject|int|lambda|local|long|loop|match|new|nodefault|null|of|onchange|open|out|override|package|parfor|parforsync|post|pre|private|protected|provide|provider|public|return|shared|short|single|size_t|sizeof|super|sync|this|throw|trait|trans|transient|true|try|typedef|unchecked|using|val|var|void|while|with)\b/,boolean:/\b(?:false|true)\b/,number:/\b0b[01][01_]*L?\b|\b0x(?:[\da-f_]*\.)?[\da-f_p+-]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfls]?/i,punctuation:/[{}[\];(),.:]/,operator:/<==|>==|=>|->|<-|<>|&==|&<>|\?:?|\.\?|\+\+|--|[-+*/=<>]=?|[!^~]|\b(?:and|as|band|bor|bxor|comp|is|isnot|mod|or)\b=?/,annotation:{pattern:/@(?:\w+:)?(?:\w+|\[[^\]]+\])?/,alias:"builtin"}},e.languages.insertBefore("concurnas","langext",{"regex-literal":{pattern:/\br("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},regex:/[\s\S]+/}},"string-literal":{pattern:/(?:\B|\bs)("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:e.languages.concurnas},string:/[\s\S]+/}}}),e.languages.conc=e.languages.concurnas}HP.displayName="csp";HP.aliases=[];function HP(e){(function(t){function n(r){return RegExp(/([ \t])/.source+"(?:"+r+")"+/(?=[\s;]|$)/.source,"i")}t.languages.csp={directive:{pattern:/(^|[\s;])(?:base-uri|block-all-mixed-content|(?:child|connect|default|font|frame|img|manifest|media|object|prefetch|script|style|worker)-src|disown-opener|form-action|frame-(?:ancestors|options)|input-protection(?:-(?:clip|selectors))?|navigate-to|plugin-types|policy-uri|referrer|reflected-xss|report-(?:to|uri)|require-sri-for|sandbox|(?:script|style)-src-(?:attr|elem)|upgrade-insecure-requests)(?=[\s;]|$)/i,lookbehind:!0,alias:"property"},scheme:{pattern:n(/[a-z][a-z0-9.+-]*:/.source),lookbehind:!0},none:{pattern:n(/'none'/.source),lookbehind:!0,alias:"keyword"},nonce:{pattern:n(/'nonce-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},hash:{pattern:n(/'sha(?:256|384|512)-[-+/\w=]+'/.source),lookbehind:!0,alias:"number"},host:{pattern:n(/[a-z][a-z0-9.+-]*:\/\/[^\s;,']*/.source+"|"+/\*[^\s;,']*/.source+"|"+/[a-z0-9-]+(?:\.[a-z0-9-]+)+(?::[\d*]+)?(?:\/[^\s;,']*)?/.source),lookbehind:!0,alias:"url",inside:{important:/\*/}},keyword:[{pattern:n(/'unsafe-[a-z-]+'/.source),lookbehind:!0,alias:"unsafe"},{pattern:n(/'[a-z-]+'/.source),lookbehind:!0,alias:"safe"}],punctuation:/;/}})(e)}VP.displayName="cooklang";VP.aliases=[];function VP(e){(function(t){var n=/(?:(?!\s)[\d$+<=a-zA-Z\x80-\uFFFF])+/.source,r=/[^{}@#]+/.source,a=/\{[^}#@]*\}/.source,l=r+a,u=/(?:h|hours|hrs|m|min|minutes)/.source,i={pattern:/\{[^{}]*\}/,inside:{amount:{pattern:/([\{|])[^{}|*%]+/,lookbehind:!0,alias:"number"},unit:{pattern:/(%)[^}]+/,lookbehind:!0,alias:"symbol"},"servings-scaler":{pattern:/\*/,alias:"operator"},"servings-alternative-separator":{pattern:/\|/,alias:"operator"},"unit-separator":{pattern:/(?:%|(\*)%)/,lookbehind:!0,alias:"operator"},punctuation:/[{}]/}};t.languages.cooklang={comment:{pattern:/\[-[\s\S]*?-\]|--.*/,greedy:!0},meta:{pattern:/>>.*:.*/,inside:{property:{pattern:/(>>\s*)[^\s:](?:[^:]*[^\s:])?/,lookbehind:!0}}},"cookware-group":{pattern:new RegExp("#(?:"+l+"|"+n+")"),inside:{cookware:{pattern:new RegExp("(^#)(?:"+r+")"),lookbehind:!0,alias:"variable"},"cookware-keyword":{pattern:/^#/,alias:"keyword"},"quantity-group":{pattern:new RegExp(/\{[^{}@#]*\}/),inside:{quantity:{pattern:new RegExp(/(^\{)/.source+r),lookbehind:!0,alias:"number"},punctuation:/[{}]/}}}},"ingredient-group":{pattern:new RegExp("@(?:"+l+"|"+n+")"),inside:{ingredient:{pattern:new RegExp("(^@)(?:"+r+")"),lookbehind:!0,alias:"variable"},"ingredient-keyword":{pattern:/^@/,alias:"keyword"},"amount-group":i}},"timer-group":{pattern:/~(?!\s)[^@#~{}]*\{[^{}]*\}/,inside:{timer:{pattern:/(^~)[^{]+/,lookbehind:!0,alias:"variable"},"duration-group":{pattern:/\{[^{}]*\}/,inside:{punctuation:/[{}]/,unit:{pattern:new RegExp(/(%\s*)/.source+u+/\b/.source),lookbehind:!0,alias:"symbol"},operator:/%/,duration:{pattern:/\d+/,alias:"number"}}},"timer-keyword":{pattern:/^~/,alias:"keyword"}}}}})(e)}qP.displayName="coq";qP.aliases=[];function qP(e){(function(t){for(var n=/\(\*(?:[^(*]|\((?!\*)|\*(?!\))|<self>)*\*\)/.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,"[]"),t.languages.coq={comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},attribute:[{pattern:RegExp(/#\[(?:[^\[\]("]|"(?:[^"]|"")*"(?!")|\((?!\*)|<comment>)*\]/.source.replace(/<comment>/g,function(){return n})),greedy:!0,alias:"attr-name",inside:{comment:RegExp(n),string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},operator:/=/,punctuation:/^#\[|\]$|[,()]/}},{pattern:/\b(?:Cumulative|Global|Local|Monomorphic|NonCumulative|Polymorphic|Private|Program)\b/,alias:"attr-name"}],keyword:/\b(?:Abort|About|Add|Admit|Admitted|All|Arguments|As|Assumptions|Axiom|Axioms|Back|BackTo|Backtrace|BinOp|BinOpSpec|BinRel|Bind|Blacklist|Canonical|Case|Cd|Check|Class|Classes|Close|CoFixpoint|CoInductive|Coercion|Coercions|Collection|Combined|Compute|Conjecture|Conjectures|Constant|Constants|Constraint|Constructors|Context|Corollary|Create|CstOp|Custom|Cut|Debug|Declare|Defined|Definition|Delimit|Dependencies|Dependent|Derive|Diffs|Drop|Elimination|End|Entry|Equality|Eval|Example|Existential|Existentials|Existing|Export|Extern|Extraction|Fact|Fail|Field|File|Firstorder|Fixpoint|Flags|Focus|From|Funclass|Function|Functional|GC|Generalizable|Goal|Grab|Grammar|Graph|Guarded|Haskell|Heap|Hide|Hint|HintDb|Hints|Hypotheses|Hypothesis|IF|Identity|Immediate|Implicit|Implicits|Import|Include|Induction|Inductive|Infix|Info|Initial|InjTyp|Inline|Inspect|Instance|Instances|Intro|Intros|Inversion|Inversion_clear|JSON|Language|Left|Lemma|Let|Lia|Libraries|Library|Load|LoadPath|Locate|Ltac|Ltac2|ML|Match|Method|Minimality|Module|Modules|Morphism|Next|NoInline|Notation|Number|OCaml|Obligation|Obligations|Opaque|Open|Optimize|Parameter|Parameters|Parametric|Path|Paths|Prenex|Preterm|Primitive|Print|Profile|Projections|Proof|Prop|PropBinOp|PropOp|PropUOp|Property|Proposition|Pwd|Qed|Quit|Rec|Record|Recursive|Redirect|Reduction|Register|Relation|Remark|Remove|Require|Reserved|Reset|Resolve|Restart|Rewrite|Right|Ring|Rings|SProp|Saturate|Save|Scheme|Scope|Scopes|Search|SearchHead|SearchPattern|SearchRewrite|Section|Separate|Set|Setoid|Show|Signatures|Solve|Solver|Sort|Sortclass|Sorted|Spec|Step|Strategies|Strategy|String|Structure|SubClass|Subgraph|SuchThat|Tactic|Term|TestCompile|Theorem|Time|Timeout|To|Transparent|Type|Typeclasses|Types|Typing|UnOp|UnOpSpec|Undelimit|Undo|Unfocus|Unfocused|Unfold|Universe|Universes|Unshelve|Variable|Variables|Variant|Verbose|View|Visibility|Zify|_|apply|as|at|by|cofix|else|end|exists|exists2|fix|for|forall|fun|if|in|let|match|measure|move|removed|return|struct|then|using|wf|where|with)\b/,number:/\b(?:0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]+)?(?:p[+-]?\d[\d_]*)?|\d[\d_]*(?:\.[\d_]+)?(?:e[+-]?\d[\d_]*)?)\b/i,punct:{pattern:/@\{|\{\||\[=|:>/,alias:"punctuation"},operator:/\/\\|\\\/|\.{2,3}|:{1,2}=|\*\*|[-=]>|<(?:->?|[+:=>]|<:)|>(?:=|->)|\|[-|]?|[-!%&*+/<=>?@^~']/,punctuation:/\.\(|`\(|@\{|`\{|\{\||\[=|:>|[:.,;(){}\[\]]/}})(e)}YP.displayName="crystal";YP.aliases=[];function YP(e){e.register(V1),(function(t){t.languages.crystal=t.languages.extend("ruby",{keyword:[/\b(?:__DIR__|__END_LINE__|__FILE__|__LINE__|abstract|alias|annotation|as|asm|begin|break|case|class|def|do|else|elsif|end|ensure|enum|extend|for|fun|if|ifdef|include|instance_sizeof|lib|macro|module|next|of|out|pointerof|private|protected|ptr|require|rescue|return|select|self|sizeof|struct|super|then|type|typeof|undef|uninitialized|union|unless|until|when|while|with|yield)\b/,{pattern:/(\.\s*)(?:is_a|responds_to)\?/,lookbehind:!0}],number:/\b(?:0b[01_]*[01]|0o[0-7_]*[0-7]|0x[\da-fA-F_]*[\da-fA-F]|(?:\d(?:[\d_]*\d)?)(?:\.[\d_]*\d)?(?:[eE][+-]?[\d_]*\d)?)(?:_(?:[uif](?:8|16|32|64))?)?\b/,operator:[/->/,t.languages.ruby.operator],punctuation:/[(){}[\].,;\\]/}),t.languages.insertBefore("crystal","string-literal",{attribute:{pattern:/@\[.*?\]/,inside:{delimiter:{pattern:/^@\[|\]$/,alias:"punctuation"},attribute:{pattern:/^(\s*)\w+/,lookbehind:!0,alias:"class-name"},args:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.crystal}}},expansion:{pattern:/\{(?:\{.*?\}|%.*?%)\}/,inside:{content:{pattern:/^(\{.)[\s\S]+(?=.\}$)/,lookbehind:!0,inside:t.languages.crystal},delimiter:{pattern:/^\{[\{%]|[\}%]\}$/,alias:"operator"}}},char:{pattern:/'(?:[^\\\r\n]{1,2}|\\(?:.|u(?:[A-Fa-f0-9]{1,4}|\{[A-Fa-f0-9]{1,6}\})))'/,greedy:!0}})})(e)}WP.displayName="css-extras";WP.aliases=[];function WP(e){e.register(Yb),(function(t){var n=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r;t.languages.css.selector={pattern:t.languages.css.selector.pattern,lookbehind:!0,inside:r={"pseudo-element":/:(?:after|before|first-letter|first-line|selection)|::[-\w]+/,"pseudo-class":/:[-\w]+/,class:/\.[-\w]+/,id:/#[-\w]+/,attribute:{pattern:RegExp(`\\[(?:[^[\\]"']|`+n.source+")*\\]"),greedy:!0,inside:{punctuation:/^\[|\]$/,"case-sensitivity":{pattern:/(\s)[si]$/i,lookbehind:!0,alias:"keyword"},namespace:{pattern:/^(\s*)(?:(?!\s)[-*\w\xA0-\uFFFF])*\|(?!=)/,lookbehind:!0,inside:{punctuation:/\|$/}},"attr-name":{pattern:/^(\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+/,lookbehind:!0},"attr-value":[n,{pattern:/(=\s*)(?:(?!\s)[-\w\xA0-\uFFFF])+(?=\s*$)/,lookbehind:!0}],operator:/[|~*^$]?=/}},"n-th":[{pattern:/(\(\s*)[+-]?\d*[\dn](?:\s*[+-]\s*\d+)?(?=\s*\))/,lookbehind:!0,inside:{number:/[\dn]+/,operator:/[+-]/}},{pattern:/(\(\s*)(?:even|odd)(?=\s*\))/i,lookbehind:!0}],combinator:/>|\+|~|\|\|/,punctuation:/[(),]/}},t.languages.css.atrule.inside["selector-function-argument"].inside=r,t.languages.insertBefore("css","property",{variable:{pattern:/(^|[^-\w\xA0-\uFFFF])--(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*/i,lookbehind:!0}});var a={pattern:/(\b\d+)(?:%|[a-z]+(?![\w-]))/,lookbehind:!0},l={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0};t.languages.insertBefore("css","function",{operator:{pattern:/(\s)[+\-*\/](?=\s)/,lookbehind:!0},hexcode:{pattern:/\B#[\da-f]{3,8}\b/i,alias:"color"},color:[{pattern:/(^|[^\w-])(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|RebeccaPurple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)(?![\w-])/i,lookbehind:!0},{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:a,number:l,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:a,number:l})})(e)}ZP.displayName="csv";ZP.aliases=[];function ZP(e){e.languages.csv={value:/[^\r\n,"]+|"(?:[^"]|"")*"(?!")/,punctuation:/,/}}XP.displayName="cue";XP.aliases=[];function XP(e){(function(t){var n=/\\(?:(?!\2)|\2(?:[^()\r\n]|\([^()]*\)))/.source,r=/"""(?:[^\\"]|"(?!""\2)|<esc>)*"""/.source+"|"+/'''(?:[^\\']|'(?!''\2)|<esc>)*'''/.source+"|"+/"(?:[^\\\r\n"]|"(?!\2)|<esc>)*"/.source+"|"+/'(?:[^\\\r\n']|'(?!\2)|<esc>)*'/.source,a="(?:"+r.replace(/<esc>/g,n)+")";t.languages.cue={comment:{pattern:/\/\/.*/,greedy:!0},"string-literal":{pattern:RegExp(/(^|[^#"'\\])(#*)/.source+a+/(?!["'])\2/.source),lookbehind:!0,greedy:!0,inside:{escape:{pattern:/(?=[\s\S]*["'](#*)$)\\\1(?:U[a-fA-F0-9]{1,8}|u[a-fA-F0-9]{1,4}|x[a-fA-F0-9]{1,2}|\d{2,3}|[^(])/,greedy:!0,alias:"string"},interpolation:{pattern:/(?=[\s\S]*["'](#*)$)\\\1\([^()]*\)/,greedy:!0,inside:{punctuation:/^\\#*\(|\)$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:{pattern:/(^|[^\w$])(?:for|if|import|in|let|null|package)(?![\w$])/,lookbehind:!0},boolean:{pattern:/(^|[^\w$])(?:false|true)(?![\w$])/,lookbehind:!0},builtin:{pattern:/(^|[^\w$])(?:bool|bytes|float|float(?:32|64)|u?int(?:8|16|32|64|128)?|number|rune|string)(?![\w$])/,lookbehind:!0},attribute:{pattern:/@[\w$]+(?=\s*\()/,alias:"function"},function:{pattern:/(^|[^\w$])[a-z_$][\w$]*(?=\s*\()/i,lookbehind:!0},number:{pattern:/(^|[^\w$.])(?:0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|0[xX][0-9A-Fa-f]+(?:_[0-9A-Fa-f]+)*|(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[eE][+-]?\d+(?:_\d+)*)?(?:[KMGTP]i?)?)(?![\w$])/,lookbehind:!0},operator:/\.{3}|_\|_|&&?|\|\|?|[=!]~|[<>=!]=?|[+\-*/?]/,punctuation:/[()[\]{},.:]/},t.languages.cue["string-literal"].inside.interpolation.inside.expression.inside=t.languages.cue})(e)}KP.displayName="cypher";KP.aliases=[];function KP(e){e.languages.cypher={comment:/\/\/.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/,greedy:!0},"class-name":{pattern:/(:\s*)(?:\w+|`(?:[^`\\\r\n])*`)(?=\s*[{):])/,lookbehind:!0,greedy:!0},relationship:{pattern:/(-\[\s*(?:\w+\s*|`(?:[^`\\\r\n])*`\s*)?:\s*|\|\s*:\s*)(?:\w+|`(?:[^`\\\r\n])*`)/,lookbehind:!0,greedy:!0,alias:"property"},identifier:{pattern:/`(?:[^`\\\r\n])*`/,greedy:!0},variable:/\$\w+/,keyword:/\b(?:ADD|ALL|AND|AS|ASC|ASCENDING|ASSERT|BY|CALL|CASE|COMMIT|CONSTRAINT|CONTAINS|CREATE|CSV|DELETE|DESC|DESCENDING|DETACH|DISTINCT|DO|DROP|ELSE|END|ENDS|EXISTS|FOR|FOREACH|IN|INDEX|IS|JOIN|KEY|LIMIT|LOAD|MANDATORY|MATCH|MERGE|NODE|NOT|OF|ON|OPTIONAL|OR|ORDER(?=\s+BY)|PERIODIC|REMOVE|REQUIRE|RETURN|SCALAR|SCAN|SET|SKIP|START|STARTS|THEN|UNION|UNIQUE|UNWIND|USING|WHEN|WHERE|WITH|XOR|YIELD)\b/i,function:/\b\w+\b(?=\s*\()/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?)\b/,operator:/:|<--?|--?>?|<>|=~?|[<>]=?|[+*/%^|]|\.\.\.?/,punctuation:/[()[\]{},;.]/}}QP.displayName="d";QP.aliases=[];function QP(e){e.register(si),e.languages.d=e.languages.extend("clike",{comment:[{pattern:/^\s*#!.+/,greedy:!0},{pattern:RegExp(/(^|[^\\])/.source+"(?:"+[/\/\+(?:\/\+(?:[^+]|\+(?!\/))*\+\/|(?!\/\+)[\s\S])*?\+\//.source,/\/\/.*/.source,/\/\*[\s\S]*?\*\//.source].join("|")+")"),lookbehind:!0,greedy:!0}],string:[{pattern:RegExp([/\b[rx]"(?:\\[\s\S]|[^\\"])*"[cwd]?/.source,/\bq"(?:\[[\s\S]*?\]|\([\s\S]*?\)|<[\s\S]*?>|\{[\s\S]*?\})"/.source,/\bq"((?!\d)\w+)$[\s\S]*?^\1"/.source,/\bq"(.)[\s\S]*?\2"/.source,/(["`])(?:\\[\s\S]|(?!\3)[^\\])*\3[cwd]?/.source].join("|"),"m"),greedy:!0},{pattern:/\bq\{(?:\{[^{}]*\}|[^{}])*\}/,greedy:!0,alias:"token-string"}],keyword:/\$|\b(?:__(?:(?:DATE|EOF|FILE|FUNCTION|LINE|MODULE|PRETTY_FUNCTION|TIMESTAMP|TIME|VENDOR|VERSION)__|gshared|parameters|traits|vector)|abstract|alias|align|asm|assert|auto|body|bool|break|byte|case|cast|catch|cdouble|cent|cfloat|char|class|const|continue|creal|dchar|debug|default|delegate|delete|deprecated|do|double|dstring|else|enum|export|extern|false|final|finally|float|for|foreach|foreach_reverse|function|goto|idouble|if|ifloat|immutable|import|inout|int|interface|invariant|ireal|lazy|long|macro|mixin|module|new|nothrow|null|out|override|package|pragma|private|protected|ptrdiff_t|public|pure|real|ref|return|scope|shared|short|size_t|static|string|struct|super|switch|synchronized|template|this|throw|true|try|typedef|typeid|typeof|ubyte|ucent|uint|ulong|union|unittest|ushort|version|void|volatile|wchar|while|with|wstring)\b/,number:[/\b0x\.?[a-f\d_]+(?:(?!\.\.)\.[a-f\d_]*)?(?:p[+-]?[a-f\d_]+)?[ulfi]{0,4}/i,{pattern:/((?:\.\.)?)(?:\b0b\.?|\b|\.)\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:e[+-]?\d[\d_]*)?[ulfi]{0,4}/i,lookbehind:!0}],operator:/\|[|=]?|&[&=]?|\+[+=]?|-[-=]?|\.?\.\.|=[>=]?|!(?:i[ns]\b|<>?=?|>=?|=)?|\bi[ns]\b|(?:<[<>]?|>>?>?|\^\^|[*\/%^~])=?/}),e.languages.insertBefore("d","string",{char:/'(?:\\(?:\W|\w+)|[^\\])'/}),e.languages.insertBefore("d","keyword",{property:/\B@\w*/}),e.languages.insertBefore("d","function",{register:{pattern:/\b(?:[ABCD][LHX]|E?(?:BP|DI|SI|SP)|[BS]PL|[ECSDGF]S|CR[0234]|[DS]IL|DR[012367]|E[ABCD]X|X?MM[0-7]|R(?:1[0-5]|[89])[BWD]?|R[ABCD]X|R[BS]P|R[DS]I|TR[3-7]|XMM(?:1[0-5]|[89])|YMM(?:1[0-5]|\d))\b|\bST(?:\([0-7]\)|\b)/,alias:"variable"}})}JP.displayName="dart";JP.aliases=[];function JP(e){e.register(si),(function(t){var n=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],r=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,a={pattern:RegExp(r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};t.languages.dart=t.languages.extend("clike",{"class-name":[a,{pattern:RegExp(r+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:a.inside}],keyword:n,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),t.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.dart}}},string:/[\s\S]+/}},string:void 0}),t.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),t.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":a,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(e)}e4.displayName="dataweave";e4.aliases=[];function e4(e){(function(t){t.languages.dataweave={url:/\b[A-Za-z]+:\/\/[\w/:.?=&-]+|\burn:[\w:.?=&-]+/,property:{pattern:/(?:\b\w+#)?(?:"(?:\\.|[^\\"\r\n])*"|\b\w+)(?=\s*[:@])/,greedy:!0},string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},"mime-type":/\b(?:application|audio|image|multipart|text|video)\/[\w+-]+/,date:{pattern:/\|[\w:+-]+\|/,greedy:!0},comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],regex:{pattern:/\/(?:[^\\\/\r\n]|\\[^\r\n])+\//,greedy:!0},keyword:/\b(?:and|as|at|case|do|else|fun|if|input|is|match|not|ns|null|or|output|type|unless|update|using|var)\b/,function:/\b[A-Z_]\w*(?=\s*\()/i,number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\];(),.:@]/,operator:/<<|>>|->|[<>~=]=?|!=|--?-?|\+\+?|!|\?/,boolean:/\b(?:false|true)\b/}})(e)}t4.displayName="dax";t4.aliases=[];function t4(e){e.languages.dax={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/).*)/,lookbehind:!0},"data-field":{pattern:/'(?:[^']|'')*'(?!')(?:\[[ \w\xA0-\uFFFF]+\])?|\w+\[[ \w\xA0-\uFFFF]+\]/,alias:"symbol"},measure:{pattern:/\[[ \w\xA0-\uFFFF]+\]/,alias:"constant"},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},function:/\b(?:ABS|ACOS|ACOSH|ACOT|ACOTH|ADDCOLUMNS|ADDMISSINGITEMS|ALL|ALLCROSSFILTERED|ALLEXCEPT|ALLNOBLANKROW|ALLSELECTED|AND|APPROXIMATEDISTINCTCOUNT|ASIN|ASINH|ATAN|ATANH|AVERAGE|AVERAGEA|AVERAGEX|BETA\.DIST|BETA\.INV|BLANK|CALCULATE|CALCULATETABLE|CALENDAR|CALENDARAUTO|CEILING|CHISQ\.DIST|CHISQ\.DIST\.RT|CHISQ\.INV|CHISQ\.INV\.RT|CLOSINGBALANCEMONTH|CLOSINGBALANCEQUARTER|CLOSINGBALANCEYEAR|COALESCE|COMBIN|COMBINA|COMBINEVALUES|CONCATENATE|CONCATENATEX|CONFIDENCE\.NORM|CONFIDENCE\.T|CONTAINS|CONTAINSROW|CONTAINSSTRING|CONTAINSSTRINGEXACT|CONVERT|COS|COSH|COT|COTH|COUNT|COUNTA|COUNTAX|COUNTBLANK|COUNTROWS|COUNTX|CROSSFILTER|CROSSJOIN|CURRENCY|CURRENTGROUP|CUSTOMDATA|DATATABLE|DATE|DATEADD|DATEDIFF|DATESBETWEEN|DATESINPERIOD|DATESMTD|DATESQTD|DATESYTD|DATEVALUE|DAY|DEGREES|DETAILROWS|DISTINCT|DISTINCTCOUNT|DISTINCTCOUNTNOBLANK|DIVIDE|EARLIER|EARLIEST|EDATE|ENDOFMONTH|ENDOFQUARTER|ENDOFYEAR|EOMONTH|ERROR|EVEN|EXACT|EXCEPT|EXP|EXPON\.DIST|FACT|FALSE|FILTER|FILTERS|FIND|FIRSTDATE|FIRSTNONBLANK|FIRSTNONBLANKVALUE|FIXED|FLOOR|FORMAT|GCD|GENERATE|GENERATEALL|GENERATESERIES|GEOMEAN|GEOMEANX|GROUPBY|HASONEFILTER|HASONEVALUE|HOUR|IF|IF\.EAGER|IFERROR|IGNORE|INT|INTERSECT|ISBLANK|ISCROSSFILTERED|ISEMPTY|ISERROR|ISEVEN|ISFILTERED|ISINSCOPE|ISLOGICAL|ISNONTEXT|ISNUMBER|ISO\.CEILING|ISODD|ISONORAFTER|ISSELECTEDMEASURE|ISSUBTOTAL|ISTEXT|KEEPFILTERS|KEYWORDMATCH|LASTDATE|LASTNONBLANK|LASTNONBLANKVALUE|LCM|LEFT|LEN|LN|LOG|LOG10|LOOKUPVALUE|LOWER|MAX|MAXA|MAXX|MEDIAN|MEDIANX|MID|MIN|MINA|MINUTE|MINX|MOD|MONTH|MROUND|NATURALINNERJOIN|NATURALLEFTOUTERJOIN|NEXTDAY|NEXTMONTH|NEXTQUARTER|NEXTYEAR|NONVISUAL|NORM\.DIST|NORM\.INV|NORM\.S\.DIST|NORM\.S\.INV|NOT|NOW|ODD|OPENINGBALANCEMONTH|OPENINGBALANCEQUARTER|OPENINGBALANCEYEAR|OR|PARALLELPERIOD|PATH|PATHCONTAINS|PATHITEM|PATHITEMREVERSE|PATHLENGTH|PERCENTILE\.EXC|PERCENTILE\.INC|PERCENTILEX\.EXC|PERCENTILEX\.INC|PERMUT|PI|POISSON\.DIST|POWER|PREVIOUSDAY|PREVIOUSMONTH|PREVIOUSQUARTER|PREVIOUSYEAR|PRODUCT|PRODUCTX|QUARTER|QUOTIENT|RADIANS|RAND|RANDBETWEEN|RANK\.EQ|RANKX|RELATED|RELATEDTABLE|REMOVEFILTERS|REPLACE|REPT|RIGHT|ROLLUP|ROLLUPADDISSUBTOTAL|ROLLUPGROUP|ROLLUPISSUBTOTAL|ROUND|ROUNDDOWN|ROUNDUP|ROW|SAMEPERIODLASTYEAR|SAMPLE|SEARCH|SECOND|SELECTCOLUMNS|SELECTEDMEASURE|SELECTEDMEASUREFORMATSTRING|SELECTEDMEASURENAME|SELECTEDVALUE|SIGN|SIN|SINH|SQRT|SQRTPI|STARTOFMONTH|STARTOFQUARTER|STARTOFYEAR|STDEV\.P|STDEV\.S|STDEVX\.P|STDEVX\.S|SUBSTITUTE|SUBSTITUTEWITHINDEX|SUM|SUMMARIZE|SUMMARIZECOLUMNS|SUMX|SWITCH|T\.DIST|T\.DIST\.2T|T\.DIST\.RT|T\.INV|T\.INV\.2T|TAN|TANH|TIME|TIMEVALUE|TODAY|TOPN|TOPNPERLEVEL|TOPNSKIP|TOTALMTD|TOTALQTD|TOTALYTD|TREATAS|TRIM|TRUE|TRUNC|UNICHAR|UNICODE|UNION|UPPER|USERELATIONSHIP|USERNAME|USEROBJECTID|USERPRINCIPALNAME|UTCNOW|UTCTODAY|VALUE|VALUES|VAR\.P|VAR\.S|VARX\.P|VARX\.S|WEEKDAY|WEEKNUM|XIRR|XNPV|YEAR|YEARFRAC)(?=\s*\()/i,keyword:/\b(?:DEFINE|EVALUATE|MEASURE|ORDER\s+BY|RETURN|VAR|START\s+AT|ASC|DESC)\b/i,boolean:{pattern:/\b(?:FALSE|NULL|TRUE)\b/i,alias:"constant"},number:/\b\d+(?:\.\d*)?|\B\.\d+\b/,operator:/:=|[-+*\/=^]|&&?|\|\||<(?:=>?|<|>)?|>[>=]?|\b(?:IN|NOT)\b/i,punctuation:/[;\[\](){}`,.]/}}n4.displayName="dhall";n4.aliases=[];function n4(e){e.languages.dhall={comment:/--.*|\{-(?:[^-{]|-(?!\})|\{(?!-)|\{-(?:[^-{]|-(?!\})|\{(?!-))*-\})*-\}/,string:{pattern:/"(?:[^"\\]|\\.)*"|''(?:[^']|'(?!')|'''|''\$\{)*''(?!'|\$)/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}/,inside:{expression:{pattern:/(^\$\{)[\s\S]+(?=\}$)/,lookbehind:!0,alias:"language-dhall",inside:null},punctuation:/\$\{|\}/}}}},label:{pattern:/`[^`]*`/,greedy:!0},url:{pattern:/\bhttps?:\/\/[\w.:%!$&'*+;=@~-]+(?:\/[\w.:%!$&'*+;=@~-]*)*(?:\?[/?\w.:%!$&'*+;=@~-]*)?/,greedy:!0},env:{pattern:/\benv:(?:(?!\d)\w+|"(?:[^"\\=]|\\.)*")/,greedy:!0,inside:{function:/^env/,operator:/^:/,variable:/[\s\S]+/}},hash:{pattern:/\bsha256:[\da-fA-F]{64}\b/,inside:{function:/sha256/,operator:/:/,number:/[\da-fA-F]{64}/}},keyword:/\b(?:as|assert|else|forall|if|in|let|merge|missing|then|toMap|using|with)\b|\u2200/,builtin:/\b(?:None|Some)\b/,boolean:/\b(?:False|True)\b/,number:/\bNaN\b|-?\bInfinity\b|[+-]?\b(?:0x[\da-fA-F]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/,operator:/\/\\|\/\/\\\\|&&|\|\||===|[!=]=|\/\/|->|\+\+|::|[+*#@=:?<>|\\\u2227\u2a53\u2261\u2afd\u03bb\u2192]/,punctuation:/\.\.|[{}\[\](),./]/,"class-name":/\b[A-Z]\w*\b/},e.languages.dhall.string.inside.interpolation.inside.expression.inside=e.languages.dhall}r4.displayName="django";r4.aliases=["jinja2"];function r4(e){e.register(Bc),(function(t){t.languages.django={comment:/^\{#[\s\S]*?#\}$/,tag:{pattern:/(^\{%[+-]?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%][+-]?|[+-]?[}%]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},filter:{pattern:/(\|)\w+/,lookbehind:!0,alias:"function"},test:{pattern:/(\bis\s+(?:not\s+)?)(?!not\b)\w+/,lookbehind:!0,alias:"function"},function:/\b[a-z_]\w+(?=\s*\()/i,keyword:/\b(?:and|as|by|else|for|if|import|in|is|loop|not|or|recursive|with|without)\b/,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,number:/\b\d+(?:\.\d+)?\b/,boolean:/[Ff]alse|[Nn]one|[Tt]rue/,variable:/\b\w+\b/,punctuation:/[{}[\](),.:;]/};var n=/\{\{[\s\S]*?\}\}|\{%[\s\S]*?%\}|\{#[\s\S]*?#\}/g,r=t.languages["markup-templating"];t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"django",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"django")}),t.languages.jinja2=t.languages.django,t.hooks.add("before-tokenize",function(a){r.buildPlaceholders(a,"jinja2",n)}),t.hooks.add("after-tokenize",function(a){r.tokenizePlaceholders(a,"jinja2")})})(e)}a4.displayName="dns-zone-file";a4.aliases=["dns-zone"];function a4(e){e.languages["dns-zone-file"]={comment:/;.*/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},variable:[{pattern:/(^\$ORIGIN[ \t]+)\S+/m,lookbehind:!0},{pattern:/(^|\s)@(?=\s|$)/,lookbehind:!0}],keyword:/^\$(?:INCLUDE|ORIGIN|TTL)(?=\s|$)/m,class:{pattern:/(^|\s)(?:CH|CS|HS|IN)(?=\s|$)/,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|\s)(?:A|A6|AAAA|AFSDB|APL|ATMA|CAA|CDNSKEY|CDS|CERT|CNAME|DHCID|DLV|DNAME|DNSKEY|DS|EID|GID|GPOS|HINFO|HIP|IPSECKEY|ISDN|KEY|KX|LOC|MAILA|MAILB|MB|MD|MF|MG|MINFO|MR|MX|NAPTR|NB|NBSTAT|NIMLOC|NINFO|NS|NSAP|NSAP-PTR|NSEC|NSEC3|NSEC3PARAM|NULL|NXT|OPENPGPKEY|PTR|PX|RKEY|RP|RRSIG|RT|SIG|SINK|SMIMEA|SOA|SPF|SRV|SSHFP|TA|TKEY|TLSA|TSIG|TXT|UID|UINFO|UNSPEC|URI|WKS|X25)(?=\s|$)/,lookbehind:!0,alias:"keyword"},punctuation:/[()]/},e.languages["dns-zone"]=e.languages["dns-zone-file"]}i4.displayName="docker";i4.aliases=["dockerfile"];function i4(e){(function(t){var n=/\\[\r\n](?:\s|\\[\r\n]|#.*(?!.))*(?![\s#]|\\[\r\n])/.source,r=/(?:[ \t]+(?![ \t])(?:<SP_BS>)?|<SP_BS>)/.source.replace(/<SP_BS>/g,function(){return n}),a=/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"|'(?:[^'\\\r\n]|\\(?:\r\n|[\s\S]))*'/.source,l=/--[\w-]+=(?:<STR>|(?!["'])(?:[^\s\\]|\\.)+)/.source.replace(/<STR>/g,function(){return a}),u={pattern:RegExp(a),greedy:!0},i={pattern:/(^[ \t]*)#.*/m,lookbehind:!0,greedy:!0};function m(b,_){return b=b.replace(/<OPT>/g,function(){return l}).replace(/<SP>/g,function(){return r}),RegExp(b,_)}t.languages.docker={instruction:{pattern:/(^[ \t]*)(?:ADD|ARG|CMD|COPY|ENTRYPOINT|ENV|EXPOSE|FROM|HEALTHCHECK|LABEL|MAINTAINER|ONBUILD|RUN|SHELL|STOPSIGNAL|USER|VOLUME|WORKDIR)(?=\s)(?:\\.|[^\r\n\\])*(?:\\$(?:\s|#.*$)*(?![\s#])(?:\\.|[^\r\n\\])*)*/im,lookbehind:!0,greedy:!0,inside:{options:{pattern:m(/(^(?:ONBUILD<SP>)?\w+<SP>)<OPT>(?:<SP><OPT>)*/.source,"i"),lookbehind:!0,greedy:!0,inside:{property:{pattern:/(^|\s)--[\w-]+/,lookbehind:!0},string:[u,{pattern:/(=)(?!["'])(?:[^\s\\]|\\.)+/,lookbehind:!0}],operator:/\\$/m,punctuation:/=/}},keyword:[{pattern:m(/(^(?:ONBUILD<SP>)?HEALTHCHECK<SP>(?:<OPT><SP>)*)(?:CMD|NONE)\b/.source,"i"),lookbehind:!0,greedy:!0},{pattern:m(/(^(?:ONBUILD<SP>)?FROM<SP>(?:<OPT><SP>)*(?!--)[^ \t\\]+<SP>)AS/.source,"i"),lookbehind:!0,greedy:!0},{pattern:m(/(^ONBUILD<SP>)\w+/.source,"i"),lookbehind:!0,greedy:!0},{pattern:/^\w+/,greedy:!0}],comment:i,string:u,variable:/\$(?:\w+|\{[^{}"'\\]*\})/,operator:/\\$/m}},comment:i},t.languages.dockerfile=t.languages.docker})(e)}o4.displayName="dot";o4.aliases=["gv"];function o4(e){(function(t){var n="(?:"+[/[a-zA-Z_\x80-\uFFFF][\w\x80-\uFFFF]*/.source,/-?(?:\.\d+|\d+(?:\.\d*)?)/.source,/"[^"\\]*(?:\\[\s\S][^"\\]*)*"/.source,/<(?:[^<>]|(?!<!--)<(?:[^<>"']|"[^"]*"|'[^']*')+>|<!--(?:[^-]|-(?!->))*-->)*>/.source].join("|")+")",r={markup:{pattern:/(^<)[\s\S]+(?=>$)/,lookbehind:!0,alias:["language-markup","language-html","language-xml"],inside:t.languages.markup}};function a(l,u){return RegExp(l.replace(/<ID>/g,function(){return n}),u)}t.languages.dot={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\/|^#.*/m,greedy:!0},"graph-name":{pattern:a(/(\b(?:digraph|graph|subgraph)[ \t\r\n]+)<ID>/.source,"i"),lookbehind:!0,greedy:!0,alias:"class-name",inside:r},"attr-value":{pattern:a(/(=[ \t\r\n]*)<ID>/.source),lookbehind:!0,greedy:!0,inside:r},"attr-name":{pattern:a(/([\[;, \t\r\n])<ID>(?=[ \t\r\n]*=)/.source),lookbehind:!0,greedy:!0,inside:r},keyword:/\b(?:digraph|edge|graph|node|strict|subgraph)\b/i,"compass-point":{pattern:/(:[ \t\r\n]*)(?:[ewc_]|[ns][ew]?)(?![\w\x80-\uFFFF])/,lookbehind:!0,alias:"builtin"},node:{pattern:a(/(^|[^-.\w\x80-\uFFFF\\])<ID>/.source),lookbehind:!0,greedy:!0,inside:r},operator:/[=:]|-[->]/,punctuation:/[\[\]{};,]/},t.languages.gv=t.languages.dot})(e)}s4.displayName="ebnf";s4.aliases=[];function s4(e){e.languages.ebnf={comment:/\(\*[\s\S]*?\*\)/,string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},special:{pattern:/\?[^?\r\n]*\?/,greedy:!0,alias:"class-name"},definition:{pattern:/^([\t ]*)[a-z]\w*(?:[ \t]+[a-z]\w*)*(?=\s*=)/im,lookbehind:!0,alias:["rule","keyword"]},rule:/\b[a-z]\w*(?:[ \t]+[a-z]\w*)*\b/i,punctuation:/\([:/]|[:/]\)|[.,;()[\]{}]/,operator:/[-=|*/!]/}}l4.displayName="editorconfig";l4.aliases=[];function l4(e){e.languages.editorconfig={comment:/[;#].*/,section:{pattern:/(^[ \t]*)\[.+\]/m,lookbehind:!0,alias:"selector",inside:{regex:/\\\\[\[\]{},!?.*]/,operator:/[!?]|\.\.|\*{1,2}/,punctuation:/[\[\]{},]/}},key:{pattern:/(^[ \t]*)[^\s=]+(?=[ \t]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/}}}}u4.displayName="eiffel";u4.aliases=[];function u4(e){e.languages.eiffel={comment:/--.*/,string:[{pattern:/"([^[]*)\[[\s\S]*?\]\1"/,greedy:!0},{pattern:/"([^{]*)\{[\s\S]*?\}\1"/,greedy:!0},{pattern:/"(?:%(?:(?!\n)\s)*\n\s*%|%\S|[^%"\r\n])*"/,greedy:!0}],char:/'(?:%.|[^%'\r\n])+'/,keyword:/\b(?:across|agent|alias|all|and|as|assign|attached|attribute|check|class|convert|create|Current|debug|deferred|detachable|do|else|elseif|end|ensure|expanded|export|external|feature|from|frozen|if|implies|inherit|inspect|invariant|like|local|loop|not|note|obsolete|old|once|or|Precursor|redefine|rename|require|rescue|Result|retry|select|separate|some|then|undefine|until|variant|Void|when|xor)\b/i,boolean:/\b(?:False|True)\b/i,"class-name":/\b[A-Z][\dA-Z_]*\b/,number:[/\b0[xcb][\da-f](?:_*[\da-f])*\b/i,/(?:\b\d(?:_*\d)*)?\.(?:(?:\d(?:_*\d)*)?e[+-]?)?\d(?:_*\d)*\b|\b\d(?:_*\d)*\b\.?/i],punctuation:/:=|<<|>>|\(\||\|\)|->|\.(?=\w)|[{}[\];(),:?]/,operator:/\\\\|\|\.\.\||\.\.|\/[~\/=]?|[><]=?|[-+*^=~]/}}c4.displayName="ejs";c4.aliases=["eta"];function c4(e){e.register(Fc),e.register(Bc),(function(t){t.languages.ejs={delimiter:{pattern:/^<%[-_=]?|[-_]?%>$/,alias:"punctuation"},comment:/^#[\s\S]*/,"language-javascript":{pattern:/[\s\S]+/,inside:t.languages.javascript}},t.hooks.add("before-tokenize",function(n){var r=/<%(?!%)[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"ejs",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"ejs")}),t.languages.eta=t.languages.ejs})(e)}d4.displayName="elixir";d4.aliases=[];function d4(e){e.languages.elixir={doc:{pattern:/@(?:doc|moduledoc)\s+(?:("""|''')[\s\S]*?\1|("|')(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2)/,inside:{attribute:/^@\w+/,string:/['"][\s\S]+/}},comment:{pattern:/#.*/,greedy:!0},regex:{pattern:/~[rR](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|[^\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[uismxfr]*/,greedy:!0},string:[{pattern:/~[cCsSwW](?:("""|''')(?:\\[\s\S]|(?!\1)[^\\])+\1|([\/|"'])(?:\\.|(?!\2)[^\\\r\n])+\2|\((?:\\.|[^\\)\r\n])+\)|\[(?:\\.|[^\\\]\r\n])+\]|\{(?:\\.|#\{[^}]+\}|#(?!\{)|[^#\\}\r\n])+\}|<(?:\\.|[^\\>\r\n])+>)[csa]?/,greedy:!0,inside:{}},{pattern:/("""|''')[\s\S]*?\1/,greedy:!0,inside:{}},{pattern:/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0,inside:{}}],atom:{pattern:/(^|[^:]):\w+/,lookbehind:!0,alias:"symbol"},module:{pattern:/\b[A-Z]\w*\b/,alias:"class-name"},"attr-name":/\b\w+\??:(?!:)/,argument:{pattern:/(^|[^&])&\d+/,lookbehind:!0,alias:"variable"},attribute:{pattern:/@\w+/,alias:"variable"},function:/\b[_a-zA-Z]\w*[?!]?(?:(?=\s*(?:\.\s*)?\()|(?=\/\d))/,number:/\b(?:0[box][a-f\d_]+|\d[\d_]*)(?:\.[\d_]+)?(?:e[+-]?[\d_]+)?\b/i,keyword:/\b(?:after|alias|and|case|catch|cond|def(?:callback|delegate|exception|impl|macro|module|n|np|p|protocol|struct)?|do|else|end|fn|for|if|import|not|or|quote|raise|require|rescue|try|unless|unquote|use|when)\b/,boolean:/\b(?:false|nil|true)\b/,operator:[/\bin\b|&&?|\|[|>]?|\\\\|::|\.\.\.?|\+\+?|-[->]?|<[-=>]|>=|!==?|\B!|=(?:==?|[>~])?|[*\/^]/,{pattern:/([^<])<(?!<)/,lookbehind:!0},{pattern:/([^>])>(?!>)/,lookbehind:!0}],punctuation:/<<|>>|[.,%\[\]{}()]/},e.languages.elixir.string.forEach(function(t){t.inside={interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},rest:e.languages.elixir}}}})}f4.displayName="elm";f4.aliases=[];function f4(e){e.languages.elm={comment:/--.*|\{-[\s\S]*?-\}/,char:{pattern:/'(?:[^\\'\r\n]|\\(?:[abfnrtv\\']|\d+|x[0-9a-fA-F]+|u\{[0-9a-fA-F]+\}))'/,greedy:!0},string:[{pattern:/"""[\s\S]*?"""/,greedy:!0},{pattern:/"(?:[^\\"\r\n]|\\.)*"/,greedy:!0}],"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z]\w*(?:\.[A-Z]\w*)*(?:\s+as\s+(?:[A-Z]\w*)(?:\.[A-Z]\w*)*)?(?:\s+exposing\s+)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|exposing|import)\b/}},keyword:/\b(?:alias|as|case|else|exposing|if|in|infixl|infixr|let|module|of|then|type)\b/,builtin:/\b(?:abs|acos|always|asin|atan|atan2|ceiling|clamp|compare|cos|curry|degrees|e|flip|floor|fromPolar|identity|isInfinite|isNaN|logBase|max|min|negate|never|not|pi|radians|rem|round|sin|sqrt|tan|toFloat|toPolar|toString|truncate|turns|uncurry|xor)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0x[0-9a-f]+)\b/i,operator:/\s\.\s|[+\-/*=.$<>:&|^?%#@~!]{2,}|[+\-/*=$<>:&|^?%#@~!]/,hvariable:/\b(?:[A-Z]\w*\.)*[a-z]\w*\b/,constant:/\b(?:[A-Z]\w*\.)*[A-Z]\w*\b/,punctuation:/[{}[\]|(),.:]/}}h4.displayName="etlua";h4.aliases=[];function h4(e){e.register(wT),e.register(Bc),(function(t){t.languages.etlua={delimiter:{pattern:/^<%[-=]?|-?%>$/,alias:"punctuation"},"language-lua":{pattern:/[\s\S]+/,inside:t.languages.lua}},t.hooks.add("before-tokenize",function(n){var r=/<%[\s\S]+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"etlua",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"etlua")})})(e)}p4.displayName="erb";p4.aliases=[];function p4(e){e.register(Bc),e.register(V1),(function(t){t.languages.erb={delimiter:{pattern:/^(\s*)<%=?|%>(?=\s*$)/,lookbehind:!0,alias:"punctuation"},ruby:{pattern:/\s*\S[\s\S]*/,alias:"language-ruby",inside:t.languages.ruby}},t.hooks.add("before-tokenize",function(n){var r=/<%=?(?:[^\r\n]|[\r\n](?!=begin)|[\r\n]=begin\s(?:[^\r\n]|[\r\n](?!=end))*[\r\n]=end)+?%>/g;t.languages["markup-templating"].buildPlaceholders(n,"erb",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"erb")})})(e)}m4.displayName="erlang";m4.aliases=[];function m4(e){e.languages.erlang={comment:/%.+/,string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},"quoted-function":{pattern:/'(?:\\.|[^\\'\r\n])+'(?=\()/,alias:"function"},"quoted-atom":{pattern:/'(?:\\.|[^\\'\r\n])+'/,alias:"atom"},boolean:/\b(?:false|true)\b/,keyword:/\b(?:after|begin|case|catch|end|fun|if|of|receive|try|when)\b/,number:[/\$\\?./,/\b\d+#[a-z0-9]+/i,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i],function:/\b[a-z][\w@]*(?=\()/,variable:{pattern:/(^|[^@])(?:\b|\?)[A-Z_][\w@]*/,lookbehind:!0},operator:[/[=\/<>:]=|=[:\/]=|\+\+?|--?|[=*\/!]|\b(?:and|andalso|band|bnot|bor|bsl|bsr|bxor|div|not|or|orelse|rem|xor)\b/,{pattern:/(^|[^<])<(?!<)/,lookbehind:!0},{pattern:/(^|[^>])>(?!>)/,lookbehind:!0}],atom:/\b[a-z][\w@]*/,punctuation:/[()[\]{}:;,.#|]|<<|>>/}}g4.displayName="excel-formula";g4.aliases=["xls","xlsx"];function g4(e){e.languages["excel-formula"]={comment:{pattern:/(\bN\(\s*)"(?:[^"]|"")*"(?=\s*\))/i,lookbehind:!0,greedy:!0},string:{pattern:/"(?:[^"]|"")*"(?!")/,greedy:!0},reference:{pattern:/(?:'[^']*'|(?:[^\s()[\]{}<>*?"';,$&]*\[[^^\s()[\]{}<>*?"']+\])?\w+)!/,greedy:!0,alias:"string",inside:{operator:/!$/,punctuation:/'/,sheet:{pattern:/[^[\]]+$/,alias:"function"},file:{pattern:/\[[^[\]]+\]$/,inside:{punctuation:/[[\]]/}},path:/[\s\S]+/}},"function-name":{pattern:/\b[A-Z]\w*(?=\()/i,alias:"builtin"},range:{pattern:/\$?\b(?:[A-Z]+\$?\d+:\$?[A-Z]+\$?\d+|[A-Z]+:\$?[A-Z]+|\d+:\$?\d+)\b/i,alias:"selector",inside:{operator:/:/,cell:/\$?[A-Z]+\$?\d+/i,column:/\$?[A-Z]+/i,row:/\$?\d+/}},cell:{pattern:/\b[A-Z]+\d+\b|\$[A-Za-z]+\$?\d+\b|\b[A-Za-z]+\$\d+\b/,alias:"selector"},number:/(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?\b/i,boolean:/\b(?:FALSE|TRUE)\b/i,operator:/[-+*/^%=&,]|<[=>]?|>=?/,punctuation:/[[\]();{}|]/},e.languages.xlsx=e.languages.xls=e.languages["excel-formula"]}y4.displayName="fsharp";y4.aliases=[];function y4(e){e.register(si),e.languages.fsharp=e.languages.extend("clike",{comment:[{pattern:/(^|[^\\])\(\*(?!\))[\s\S]*?\*\)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(?:"""[\s\S]*?"""|@"(?:""|[^"])*"|"(?:\\[\s\S]|[^\\"])*")B?/,greedy:!0},"class-name":{pattern:/(\b(?:exception|inherit|interface|new|of|type)\s+|\w\s*:\s*|\s:\??>\s*)[.\w]+\b(?:\s*(?:->|\*)\s*[.\w]+\b)*(?!\s*[:.])/,lookbehind:!0,inside:{operator:/->|\*/,punctuation:/\./}},keyword:/\b(?:let|return|use|yield)(?:!\B|\b)|\b(?:abstract|and|as|asr|assert|atomic|base|begin|break|checked|class|component|const|constraint|constructor|continue|default|delegate|do|done|downcast|downto|eager|elif|else|end|event|exception|extern|external|false|finally|fixed|for|fun|function|functor|global|if|in|include|inherit|inline|interface|internal|land|lazy|lor|lsl|lsr|lxor|match|member|method|mixin|mod|module|mutable|namespace|new|not|null|object|of|open|or|override|parallel|private|process|protected|public|pure|rec|sealed|select|sig|static|struct|tailcall|then|to|trait|true|try|type|upcast|val|virtual|void|volatile|when|while|with)\b/,number:[/\b0x[\da-fA-F]+(?:LF|lf|un)?\b/,/\b0b[01]+(?:uy|y)?\b/,/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[fm]|e[+-]?\d+)?\b/i,/\b\d+(?:[IlLsy]|UL|u[lsy]?)?\b/],operator:/([<>~&^])\1\1|([*.:<>&])\2|<-|->|[!=:]=|<?\|{1,3}>?|\??(?:<=|>=|<>|[-+*/%=<>])\??|[!?^&]|~[+~-]|:>|:\?>?/}),e.languages.insertBefore("fsharp","keyword",{preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(^#)\b(?:else|endif|if|light|line|nowarn)\b/,lookbehind:!0,alias:"keyword"}}}}),e.languages.insertBefore("fsharp","punctuation",{"computation-expression":{pattern:/\b[_a-z]\w*(?=\s*\{)/i,alias:"keyword"}}),e.languages.insertBefore("fsharp","string",{annotation:{pattern:/\[<.+?>\]/,greedy:!0,inside:{punctuation:/^\[<|>\]$/,"class-name":{pattern:/^\w+$|(^|;\s*)[A-Z]\w*(?=\()/,lookbehind:!0},"annotation-content":{pattern:/[\s\S]+/,inside:e.languages.fsharp}}},char:{pattern:/'(?:[^\\']|\\(?:.|\d{3}|x[a-fA-F\d]{2}|u[a-fA-F\d]{4}|U[a-fA-F\d]{8}))'B?/,greedy:!0}})}v4.displayName="factor";v4.aliases=[];function v4(e){(function(t){var n={function:/\b(?:BUGS?|FIX(?:MES?)?|NOTES?|TODOS?|XX+|HACKS?|WARN(?:ING)?|\?{2,}|!{2,})\b/},r={number:/\\[^\s']|%\w/},a={comment:[{pattern:/(^|\s)(?:! .*|!$)/,lookbehind:!0,inside:n},{pattern:/(^|\s)\/\*\s[\s\S]*?\*\/(?=\s|$)/,lookbehind:!0,greedy:!0,inside:n},{pattern:/(^|\s)!\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,inside:n}],number:[{pattern:/(^|\s)[+-]?\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b[01]+|o[0-7]+|d\d+|x[\dA-F]+)(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)[+-]?\d+\/\d+\.?(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)\+?\d+\+\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)-\d+-\d+\/\d+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?(?:\d*\.\d+|\d+\.\d*|\d+)(?:e[+-]?\d+)?(?=\s|$)/i,lookbehind:!0},{pattern:/(^|\s)NAN:\s+[\da-fA-F]+(?=\s|$)/,lookbehind:!0},{pattern:/(^|\s)[+-]?0(?:b1\.[01]*|o1\.[0-7]*|d1\.\d*|x1\.[\dA-F]*)p\d+(?=\s|$)/i,lookbehind:!0}],regexp:{pattern:/(^|\s)R\/\s(?:\\\S|[^\\/])*\/(?:[idmsr]*|[idmsr]+-[idmsr]+)(?=\s|$)/,lookbehind:!0,alias:"number",inside:{variable:/\\\S/,keyword:/[+?*\[\]^$(){}.|]/,operator:{pattern:/(\/)[idmsr]+(?:-[idmsr]+)?/,lookbehind:!0}}},boolean:{pattern:/(^|\s)[tf](?=\s|$)/,lookbehind:!0},"custom-string":{pattern:/(^|\s)[A-Z0-9\-]+"\s(?:\\\S|[^"\\])*"/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:/\\\S|%\w|\//}},"multiline-string":[{pattern:/(^|\s)STRING:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*;(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:{number:r.number,"semicolon-or-setlocal":{pattern:/([\r\n][ \t]*);(?=\s|$)/,lookbehind:!0,alias:"function"}}},{pattern:/(^|\s)HEREDOC:\s+\S+(?:\n|\r\n).*(?:\n|\r\n)\s*\S+(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r},{pattern:/(^|\s)\[(={0,6})\[\s[\s\S]*?\]\2\](?=\s|$)/,lookbehind:!0,greedy:!0,alias:"string",inside:r}],"special-using":{pattern:/(^|\s)USING:(?:\s\S+)*(?=\s+;(?:\s|$))/,lookbehind:!0,alias:"function",inside:{string:{pattern:/(\s)[^:\s]+/,lookbehind:!0}}},"stack-effect-delimiter":[{pattern:/(^|\s)(?:call|eval|execute)?\((?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)--(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\)(?=\s|$)/,lookbehind:!0,alias:"operator"}],combinators:{pattern:null,lookbehind:!0,alias:"keyword"},"kernel-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"sequences-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"math-builtin":{pattern:null,lookbehind:!0,alias:"variable"},"constructor-word":{pattern:/(^|\s)<(?!=+>|-+>)\S+>(?=\s|$)/,lookbehind:!0,alias:"keyword"},"other-builtin-syntax":{pattern:null,lookbehind:!0,alias:"operator"},"conventionally-named-word":{pattern:/(^|\s)(?!")(?:(?:change|new|set|with)-\S+|\$\S+|>[^>\s]+|[^:>\s]+>|[^>\s]+>[^>\s]+|\+[^+\s]+\+|[^?\s]+\?|\?[^?\s]+|[^>\s]+>>|>>[^>\s]+|[^<\s]+<<|\([^()\s]+\)|[^!\s]+!|[^*\s]\S*\*|[^.\s]\S*\.)(?=\s|$)/,lookbehind:!0,alias:"keyword"},"colon-syntax":{pattern:/(^|\s)(?:[A-Z0-9\-]+#?)?:{1,2}\s+(?:;\S+|(?!;)\S+)(?=\s|$)/,lookbehind:!0,greedy:!0,alias:"function"},"semicolon-or-setlocal":{pattern:/(\s)(?:;|:>)(?=\s|$)/,lookbehind:!0,alias:"function"},"curly-brace-literal-delimiter":[{pattern:/(^|\s)[a-z]*\{(?=\s)/i,lookbehind:!0,alias:"operator"},{pattern:/(\s)\}(?=\s|$)/,lookbehind:!0,alias:"operator"}],"quotation-delimiter":[{pattern:/(^|\s)\[(?=\s)/,lookbehind:!0,alias:"operator"},{pattern:/(\s)\](?=\s|$)/,lookbehind:!0,alias:"operator"}],"normal-word":{pattern:/(^|\s)[^"\s]\S*(?=\s|$)/,lookbehind:!0},string:{pattern:/"(?:\\\S|[^"\\])*"/,greedy:!0,inside:r}},l=function(b){return(b+"").replace(/([.?*+\^$\[\]\\(){}|\-])/g,"\\$1")},u=function(b){return new RegExp("(^|\\s)(?:"+b.map(l).join("|")+")(?=\\s|$)")},i={"kernel-builtin":["or","2nipd","4drop","tuck","wrapper","nip","wrapper?","callstack>array","die","dupd","callstack","callstack?","3dup","hashcode","pick","4nip","build",">boolean","nipd","clone","5nip","eq?","?","=","swapd","2over","clear","2dup","get-retainstack","not","tuple?","dup","3nipd","call","-rotd","object","drop","assert=","assert?","-rot","execute","boa","get-callstack","curried?","3drop","pickd","overd","over","roll","3nip","swap","and","2nip","rotd","throw","(clone)","hashcode*","spin","reach","4dup","equal?","get-datastack","assert","2drop","<wrapper>","boolean?","identity-hashcode","identity-tuple?","null","composed?","new","5drop","rot","-roll","xor","identity-tuple","boolean"],"other-builtin-syntax":["=======","recursive","flushable",">>","<<<<<<","M\\","B","PRIVATE>","\\","======","final","inline","delimiter","deprecated","<PRIVATE",">>>>>>","<<<<<<<","parse-complex","malformed-complex","read-only",">>>>>>>","call-next-method","<<","foldable","$","$[","${"],"sequences-builtin":["member-eq?","mismatch","append","assert-sequence=","longer","repetition","clone-like","3sequence","assert-sequence?","last-index-from","reversed","index-from","cut*","pad-tail","join-as","remove-eq!","concat-as","but-last","snip","nths","nth","sequence","longest","slice?","<slice>","remove-nth","tail-slice","empty?","tail*","member?","virtual-sequence?","set-length","drop-prefix","iota","unclip","bounds-error?","unclip-last-slice","non-negative-integer-expected","non-negative-integer-expected?","midpoint@","longer?","?set-nth","?first","rest-slice","prepend-as","prepend","fourth","sift","subseq-start","new-sequence","?last","like","first4","1sequence","reverse","slice","virtual@","repetition?","set-last","index","4sequence","max-length","set-second","immutable-sequence","first2","first3","supremum","unclip-slice","suffix!","insert-nth","tail","3append","short","suffix","concat","flip","immutable?","reverse!","2sequence","sum","delete-all","indices","snip-slice","<iota>","check-slice","sequence?","head","append-as","halves","sequence=","collapse-slice","?second","slice-error?","product","bounds-check?","bounds-check","immutable","virtual-exemplar","harvest","remove","pad-head","last","set-fourth","cartesian-product","remove-eq","shorten","shorter","reversed?","shorter?","shortest","head-slice","pop*","tail-slice*","but-last-slice","iota?","append!","cut-slice","new-resizable","head-slice*","sequence-hashcode","pop","set-nth","?nth","second","join","immutable-sequence?","<reversed>","3append-as","virtual-sequence","subseq?","remove-nth!","length","last-index","lengthen","assert-sequence","copy","move","third","first","tail?","set-first","prefix","bounds-error","<repetition>","exchange","surround","cut","min-length","set-third","push-all","head?","subseq-start-from","delete-slice","rest","sum-lengths","head*","infimum","remove!","glue","slice-error","subseq","push","replace-slice","subseq-as","unclip-last"],"math-builtin":["number=","next-power-of-2","?1+","fp-special?","imaginary-part","float>bits","number?","fp-infinity?","bignum?","fp-snan?","denominator","gcd","*","+","fp-bitwise=","-","u>=","/",">=","bitand","power-of-2?","log2-expects-positive","neg?","<","log2",">","integer?","number","bits>double","2/","zero?","bits>float","float?","shift","ratio?","rect>","even?","ratio","fp-sign","bitnot",">fixnum","complex?","/i","integer>fixnum","/f","sgn",">bignum","next-float","u<","u>","mod","recip","rational",">float","2^","integer","fixnum?","neg","fixnum","sq","bignum",">rect","bit?","fp-qnan?","simple-gcd","complex","<fp-nan>","real",">fraction","double>bits","bitor","rem","fp-nan-payload","real-part","log2-expects-positive?","prev-float","align","unordered?","float","fp-nan?","abs","bitxor","integer>fixnum-strict","u<=","odd?","<=","/mod",">integer","real?","rational?","numerator"]};Object.keys(i).forEach(function(b){a[b].pattern=u(i[b])});var m=["2bi","while","2tri","bi*","4dip","both?","same?","tri@","curry","prepose","3bi","?if","tri*","2keep","3keep","curried","2keepd","when","2bi*","2tri*","4keep","bi@","keepdd","do","unless*","tri-curry","if*","loop","bi-curry*","when*","2bi@","2tri@","with","2with","either?","bi","until","3dip","3curry","tri-curry*","tri-curry@","bi-curry","keepd","compose","2dip","if","3tri","unless","tuple","keep","2curry","tri","most","while*","dip","composed","bi-curry@","find-last-from","trim-head-slice","map-as","each-from","none?","trim-tail","partition","if-empty","accumulate*","reject!","find-from","accumulate-as","collector-for-as","reject","map","map-sum","accumulate!","2each-from","follow","supremum-by","map!","unless-empty","collector","padding","reduce-index","replicate-as","infimum-by","trim-tail-slice","count","find-index","filter","accumulate*!","reject-as","map-integers","map-find","reduce","selector","interleave","2map","filter-as","binary-reduce","map-index-as","find","produce","filter!","replicate","cartesian-map","cartesian-each","find-index-from","map-find-last","3map-as","3map","find-last","selector-as","2map-as","2map-reduce","accumulate","each","each-index","accumulate*-as","when-empty","all?","collector-as","push-either","new-like","collector-for","2selector","push-if","2all?","map-reduce","3each","any?","trim-slice","2reduce","change-nth","produce-as","2each","trim","trim-head","cartesian-find","map-index","if-zero","each-integer","unless-zero","(find-integer)","when-zero","find-last-integer","(all-integers?)","times","(each-integer)","find-integer","all-integers?","unless-negative","if-positive","when-positive","when-negative","unless-positive","if-negative","case","2cleave","cond>quot","case>quot","3cleave","wrong-values","to-fixed-point","alist>quot","cond","cleave","call-effect","recursive-hashcode","spread","deep-spread>quot","2||","0||","n||","0&&","2&&","3||","1||","1&&","n&&","3&&","smart-unless*","keep-inputs","reduce-outputs","smart-when*","cleave>array","smart-with","smart-apply","smart-if","inputs/outputs","output>sequence-n","map-outputs","map-reduce-outputs","dropping","output>array","smart-map-reduce","smart-2map-reduce","output>array-n","nullary","input<sequence","append-outputs","drop-inputs","inputs","smart-2reduce","drop-outputs","smart-reduce","preserving","smart-when","outputs","append-outputs-as","smart-unless","smart-if*","sum-outputs","input<sequence-unsafe","output>sequence"];a.combinators.pattern=u(m),t.languages.factor=a})(e)}b4.displayName="false";b4.aliases=[];function b4(e){(function(t){t.languages.false={comment:{pattern:/\{[^}]*\}/},string:{pattern:/"[^"]*"/,greedy:!0},"character-code":{pattern:/'(?:[^\r]|\r\n?)/,alias:"number"},"assembler-code":{pattern:/\d+`/,alias:"important"},number:/\d+/,operator:/[-!#$%&'*+,./:;=>?@\\^_`|~]/,punctuation:/\[|\]/,variable:/[a-z]/,"non-standard":{pattern:/[()<BDO]/,alias:"bold"}}})(e)}_4.displayName="firestore-security-rules";_4.aliases=[];function _4(e){e.register(si),e.languages["firestore-security-rules"]=e.languages.extend("clike",{comment:/\/\/.*/,keyword:/\b(?:allow|function|if|match|null|return|rules_version|service)\b/,operator:/&&|\|\||[<>!=]=?|[-+*/%]|\b(?:in|is)\b/}),delete e.languages["firestore-security-rules"]["class-name"],e.languages.insertBefore("firestore-security-rules","keyword",{path:{pattern:/(^|[\s(),])(?:\/(?:[\w\xA0-\uFFFF]+|\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)))+/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/\{[\w\xA0-\uFFFF]+(?:=\*\*)?\}|\$\([\w\xA0-\uFFFF.]+\)/,inside:{operator:/=/,keyword:/\*\*/,punctuation:/[.$(){}]/}},punctuation:/\//}},method:{pattern:/(\ballow\s+)[a-z]+(?:\s*,\s*[a-z]+)*(?=\s*[:;])/,lookbehind:!0,alias:"builtin",inside:{punctuation:/,/}}})}x4.displayName="flow";x4.aliases=[];function x4(e){e.register(Fc),(function(t){t.languages.flow=t.languages.extend("javascript",{}),t.languages.insertBefore("flow","keyword",{type:[{pattern:/\b(?:[Bb]oolean|Function|[Nn]umber|[Ss]tring|[Ss]ymbol|any|mixed|null|void)\b/,alias:"class-name"}]}),t.languages.flow["function-variable"].pattern=/(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=\s*(?:function\b|(?:\([^()]*\)(?:\s*:\s*\w+)?|(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/i,delete t.languages.flow.parameter,t.languages.insertBefore("flow","operator",{"flow-punctuation":{pattern:/\{\||\|\}/,alias:"punctuation"}}),Array.isArray(t.languages.flow.keyword)||(t.languages.flow.keyword=[t.languages.flow.keyword]),t.languages.flow.keyword.unshift({pattern:/(^|[^$]\b)(?:Class|declare|opaque|type)\b(?!\$)/,lookbehind:!0},{pattern:/(^|[^$]\B)\$(?:Diff|Enum|Exact|Keys|ObjMap|PropertyType|Record|Shape|Subtype|Supertype|await)\b(?!\$)/,lookbehind:!0})})(e)}E4.displayName="fortran";E4.aliases=[];function E4(e){e.languages.fortran={"quoted-number":{pattern:/[BOZ](['"])[A-F0-9]+\1/i,alias:"number"},string:{pattern:/(?:\b\w+_)?(['"])(?:\1\1|&(?:\r\n?|\n)(?:[ \t]*!.*(?:\r\n?|\n)|(?![ \t]*!))|(?!\1).)*(?:\1|&)/,inside:{comment:{pattern:/(&(?:\r\n?|\n)\s*)!.*/,lookbehind:!0}}},comment:{pattern:/!.*/,greedy:!0},boolean:/\.(?:FALSE|TRUE)\.(?:_\w+)?/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[ED][+-]?\d+)?(?:_\w+)?/i,keyword:[/\b(?:CHARACTER|COMPLEX|DOUBLE ?PRECISION|INTEGER|LOGICAL|REAL)\b/i,/\b(?:END ?)?(?:BLOCK ?DATA|DO|FILE|FORALL|FUNCTION|IF|INTERFACE|MODULE(?! PROCEDURE)|PROGRAM|SELECT|SUBROUTINE|TYPE|WHERE)\b/i,/\b(?:ALLOCATABLE|ALLOCATE|BACKSPACE|CALL|CASE|CLOSE|COMMON|CONTAINS|CONTINUE|CYCLE|DATA|DEALLOCATE|DIMENSION|DO|END|EQUIVALENCE|EXIT|EXTERNAL|FORMAT|GO ?TO|IMPLICIT(?: NONE)?|INQUIRE|INTENT|INTRINSIC|MODULE PROCEDURE|NAMELIST|NULLIFY|OPEN|OPTIONAL|PARAMETER|POINTER|PRINT|PRIVATE|PUBLIC|READ|RETURN|REWIND|SAVE|SELECT|STOP|TARGET|WHILE|WRITE)\b/i,/\b(?:ASSIGNMENT|DEFAULT|ELEMENTAL|ELSE|ELSEIF|ELSEWHERE|ENTRY|IN|INCLUDE|INOUT|KIND|NULL|ONLY|OPERATOR|OUT|PURE|RECURSIVE|RESULT|SEQUENCE|STAT|THEN|USE)\b/i],operator:[/\*\*|\/\/|=>|[=\/]=|[<>]=?|::|[+\-*=%]|\.[A-Z]+\./i,{pattern:/(^|(?!\().)\/(?!\))/,lookbehind:!0}],punctuation:/\(\/|\/\)|[(),;:&]/}}w4.displayName="ftl";w4.aliases=[];function w4(e){e.register(Bc),(function(t){for(var n=/[^<()"']|\((?:<expr>)*\)|<(?!#--)|<#--(?:[^-]|-(?!->))*-->|"(?:[^\\"]|\\.)*"|'(?:[^\\']|\\.)*'/.source,r=0;r<2;r++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var a={comment:/<#--[\s\S]*?-->/,string:[{pattern:/\br("|')(?:(?!\1)[^\\]|\\.)*\1/,greedy:!0},{pattern:RegExp(/("|')(?:(?!\1|\$\{)[^\\]|\\.|\$\{(?:(?!\})(?:<expr>))*\})*\1/.source.replace(/<expr>/g,function(){return n})),greedy:!0,inside:{interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\\\)*)\$\{(?:(?!\})(?:<expr>))*\}/.source.replace(/<expr>/g,function(){return n})),lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:null}}}}],keyword:/\b(?:as)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/((?:^|[^?])\?\s*)\w+/,lookbehind:!0,alias:"function"},function:/\b\w+(?=\s*\()/,number:/\b\d+(?:\.\d+)?\b/,operator:/\.\.[<*!]?|->|--|\+\+|&&|\|\||\?{1,2}|[-+*/%!=<>]=?|\b(?:gt|gte|lt|lte)\b/,punctuation:/[,;.:()[\]{}]/};a.string[1].inside.interpolation.inside.rest=a,t.languages.ftl={"ftl-comment":{pattern:/^<#--[\s\S]*/,alias:"comment"},"ftl-directive":{pattern:/^<[\s\S]+>$/,inside:{directive:{pattern:/(^<\/?)[#@][a-z]\w*/i,lookbehind:!0,alias:"keyword"},punctuation:/^<\/?|\/?>$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}},"ftl-interpolation":{pattern:/^\$\{[\s\S]*\}$/,inside:{punctuation:/^\$\{|\}$/,content:{pattern:/\s*\S[\s\S]*/,alias:"ftl",inside:a}}}},t.hooks.add("before-tokenize",function(l){var u=RegExp(/<#--[\s\S]*?-->|<\/?[#@][a-zA-Z](?:<expr>)*?>|\$\{(?:<expr>)*?\}/.source.replace(/<expr>/g,function(){return n}),"gi");t.languages["markup-templating"].buildPlaceholders(l,"ftl",u)}),t.hooks.add("after-tokenize",function(l){t.languages["markup-templating"].tokenizePlaceholders(l,"ftl")})})(e)}S4.displayName="gml";S4.aliases=["gamemakerlanguage"];function S4(e){e.register(si),e.languages.gamemakerlanguage=e.languages.gml=e.languages.extend("clike",{keyword:/\b(?:break|case|continue|default|do|else|enum|exit|for|globalvar|if|repeat|return|switch|until|var|while)\b/,number:/(?:\b0x[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ulf]{0,4}/i,operator:/--|\+\+|[-+%/=]=?|!=|\*\*?=?|<[<=>]?|>[=>]?|&&?|\^\^?|\|\|?|~|\b(?:and|at|not|or|with|xor)\b/,constant:/\b(?:GM_build_date|GM_version|action_(?:continue|restart|reverse|stop)|all|gamespeed_(?:fps|microseconds)|global|local|noone|other|pi|pointer_(?:invalid|null)|self|timezone_(?:local|utc)|undefined|ev_(?:create|destroy|step|alarm|keyboard|mouse|collision|other|draw|draw_(?:begin|end|post|pre)|keypress|keyrelease|trigger|(?:left|middle|no|right)_button|(?:left|middle|right)_press|(?:left|middle|right)_release|mouse_(?:enter|leave|wheel_down|wheel_up)|global_(?:left|middle|right)_button|global_(?:left|middle|right)_press|global_(?:left|middle|right)_release|joystick(?:1|2)_(?:button1|button2|button3|button4|button5|button6|button7|button8|down|left|right|up)|outside|boundary|game_start|game_end|room_start|room_end|no_more_lives|animation_end|end_of_path|no_more_health|user\d|gui|gui_begin|gui_end|step_(?:begin|end|normal))|vk_(?:alt|anykey|backspace|control|delete|down|end|enter|escape|home|insert|left|nokey|pagedown|pageup|pause|printscreen|return|right|shift|space|tab|up|f\d|numpad\d|add|decimal|divide|lalt|lcontrol|lshift|multiply|ralt|rcontrol|rshift|subtract)|achievement_(?:filter_(?:all_players|favorites_only|friends_only)|friends_info|info|leaderboard_info|our_info|pic_loaded|show_(?:achievement|bank|friend_picker|leaderboard|profile|purchase_prompt|ui)|type_challenge|type_score_challenge)|asset_(?:font|object|path|room|script|shader|sound|sprite|tiles|timeline|unknown)|audio_(?:3d|falloff_(?:exponent_distance|exponent_distance_clamped|inverse_distance|inverse_distance_clamped|linear_distance|linear_distance_clamped|none)|mono|new_system|old_system|stereo)|bm_(?:add|complex|dest_alpha|dest_color|dest_colour|inv_dest_alpha|inv_dest_color|inv_dest_colour|inv_src_alpha|inv_src_color|inv_src_colour|max|normal|one|src_alpha|src_alpha_sat|src_color|src_colour|subtract|zero)|browser_(?:chrome|firefox|ie|ie_mobile|not_a_browser|opera|safari|safari_mobile|tizen|unknown|windows_store)|buffer_(?:bool|f16|f32|f64|fast|fixed|generalerror|grow|invalidtype|network|outofbounds|outofspace|s16|s32|s8|seek_end|seek_relative|seek_start|string|text|u16|u32|u64|u8|vbuffer|wrap)|c_(?:aqua|black|blue|dkgray|fuchsia|gray|green|lime|ltgray|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow)|cmpfunc_(?:always|equal|greater|greaterequal|less|lessequal|never|notequal)|cr_(?:appstart|arrow|beam|cross|default|drag|handpoint|hourglass|none|size_all|size_nesw|size_ns|size_nwse|size_we|uparrow)|cull_(?:clockwise|counterclockwise|noculling)|device_(?:emulator|tablet)|device_ios_(?:ipad|ipad_retina|iphone|iphone5|iphone6|iphone6plus|iphone_retina|unknown)|display_(?:landscape|landscape_flipped|portrait|portrait_flipped)|dll_(?:cdecl|cdel|stdcall)|ds_type_(?:grid|list|map|priority|queue|stack)|ef_(?:cloud|ellipse|explosion|firework|flare|rain|ring|smoke|smokeup|snow|spark|star)|fa_(?:archive|bottom|center|directory|hidden|left|middle|readonly|right|sysfile|top|volumeid)|fb_login_(?:default|fallback_to_webview|forcing_safari|forcing_webview|no_fallback_to_webview|use_system_account)|iap_(?:available|canceled|ev_consume|ev_product|ev_purchase|ev_restore|ev_storeload|failed|purchased|refunded|status_available|status_loading|status_processing|status_restoring|status_unavailable|status_uninitialised|storeload_failed|storeload_ok|unavailable)|leaderboard_type_(?:number|time_mins_secs)|lighttype_(?:dir|point)|matrix_(?:projection|view|world)|mb_(?:any|left|middle|none|right)|network_(?:config_(?:connect_timeout|disable_reliable_udp|enable_reliable_udp|use_non_blocking_socket)|socket_(?:bluetooth|tcp|udp)|type_(?:connect|data|disconnect|non_blocking_connect))|of_challenge_(?:lose|tie|win)|os_(?:android|ios|linux|macosx|ps3|ps4|psvita|unknown|uwp|win32|win8native|windows|winphone|xboxone)|phy_debug_render_(?:aabb|collision_pairs|coms|core_shapes|joints|obb|shapes)|phy_joint_(?:anchor_1_x|anchor_1_y|anchor_2_x|anchor_2_y|angle|angle_limits|damping_ratio|frequency|length_1|length_2|lower_angle_limit|max_force|max_length|max_motor_force|max_motor_torque|max_torque|motor_force|motor_speed|motor_torque|reaction_force_x|reaction_force_y|reaction_torque|speed|translation|upper_angle_limit)|phy_particle_data_flag_(?:category|color|colour|position|typeflags|velocity)|phy_particle_flag_(?:colormixing|colourmixing|elastic|powder|spring|tensile|viscous|wall|water|zombie)|phy_particle_group_flag_(?:rigid|solid)|pr_(?:linelist|linestrip|pointlist|trianglefan|trianglelist|trianglestrip)|ps_(?:distr|shape)_(?:diamond|ellipse|gaussian|invgaussian|line|linear|rectangle)|pt_shape_(?:circle|cloud|disk|explosion|flare|line|pixel|ring|smoke|snow|spark|sphere|square|star)|ty_(?:real|string)|gp_(?:face\d|axislh|axislv|axisrh|axisrv|padd|padl|padr|padu|select|shoulderl|shoulderlb|shoulderr|shoulderrb|start|stickl|stickr)|lb_disp_(?:none|numeric|time_ms|time_sec)|lb_sort_(?:ascending|descending|none)|ov_(?:achievements|community|friends|gamegroup|players|settings)|ugc_(?:filetype_(?:community|microtrans)|list_(?:Favorited|Followed|Published|Subscribed|UsedOrPlayed|VotedDown|VotedOn|VotedUp|WillVoteLater)|match_(?:AllGuides|Artwork|Collections|ControllerBindings|IntegratedGuides|Items|Items_Mtx|Items_ReadyToUse|Screenshots|UsableInGame|Videos|WebGuides)|query_(?:AcceptedForGameRankedByAcceptanceDate|CreatedByFriendsRankedByPublicationDate|FavoritedByFriendsRankedByPublicationDate|NotYetRated)|query_RankedBy(?:NumTimesReported|PublicationDate|TextSearch|TotalVotesAsc|Trend|Vote|VotesUp)|result_success|sortorder_CreationOrder(?:Asc|Desc)|sortorder_(?:ForModeration|LastUpdatedDesc|SubscriptionDateDesc|TitleAsc|VoteScoreDesc)|visibility_(?:friends_only|private|public))|vertex_usage_(?:binormal|blendindices|blendweight|color|colour|depth|fog|normal|position|psize|sample|tangent|texcoord|textcoord)|vertex_type_(?:float\d|color|colour|ubyte4)|input_type|layerelementtype_(?:background|instance|oldtilemap|particlesystem|sprite|tile|tilemap|undefined)|se_(?:chorus|compressor|echo|equalizer|flanger|gargle|none|reverb)|text_type|tile_(?:flip|index_mask|mirror|rotate)|(?:obj|rm|scr|spr)\w+)\b/,variable:/\b(?:alarm|application_surface|async_load|background_(?:alpha|blend|color|colour|foreground|height|hspeed|htiled|index|showcolor|showcolour|visible|vspeed|vtiled|width|x|xscale|y|yscale)|bbox_(?:bottom|left|right|top)|browser_(?:height|width)|caption_(?:health|lives|score)|current_(?:day|hour|minute|month|second|time|weekday|year)|cursor_sprite|debug_mode|delta_time|direction|display_aa|error_(?:last|occurred)|event_(?:action|number|object|type)|fps|fps_real|friction|game_(?:display|project|save)_(?:id|name)|gamemaker_(?:pro|registered|version)|gravity|gravity_direction|(?:h|v)speed|health|iap_data|id|image_(?:alpha|angle|blend|depth|index|number|speed|xscale|yscale)|instance_(?:count|id)|keyboard_(?:key|lastchar|lastkey|string)|layer|lives|mask_index|mouse_(?:button|lastbutton|x|y)|object_index|os_(?:browser|device|type|version)|path_(?:endaction|index|orientation|position|positionprevious|scale|speed)|persistent|phy_(?:rotation|(?:col_normal|collision|com|linear_velocity|position|speed)_(?:x|y)|angular_(?:damping|velocity)|position_(?:x|y)previous|speed|linear_damping|bullet|fixed_rotation|active|mass|inertia|dynamic|kinematic|sleeping|collision_points)|pointer_(?:invalid|null)|room|room_(?:caption|first|height|last|persistent|speed|width)|score|secure_mode|show_(?:health|lives|score)|solid|speed|sprite_(?:height|index|width|xoffset|yoffset)|temp_directory|timeline_(?:index|loop|position|running|speed)|transition_(?:color|kind|steps)|undefined|view_(?:angle|current|enabled|(?:h|v)(?:border|speed)|(?:h|w|x|y)port|(?:h|w|x|y)view|object|surface_id|visible)|visible|webgl_enabled|working_directory|(?:x|y)(?:previous|start)|x|y|argument(?:_relitive|_count|\d)|argument|global|local|other|self)\b/})}T4.displayName="gap";T4.aliases=[];function T4(e){e.languages.gap={shell:{pattern:/^gap>[\s\S]*?(?=^gap>|$(?![\s\S]))/m,greedy:!0,inside:{gap:{pattern:/^(gap>).+(?:(?:\r(?:\n|(?!\n))|\n)>.*)*/,lookbehind:!0,inside:null},punctuation:/^gap>/}},comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(^|[^\\'"])(?:'(?:[^\r\n\\']|\\.){1,10}'|"(?:[^\r\n\\"]|\\.)*"(?!")|"""[\s\S]*?""")/,lookbehind:!0,greedy:!0,inside:{continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"}}},keyword:/\b(?:Assert|Info|IsBound|QUIT|TryNextMethod|Unbind|and|atomic|break|continue|do|elif|else|end|fi|for|function|if|in|local|mod|not|od|or|quit|readonly|readwrite|rec|repeat|return|then|until|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},continuation:{pattern:/([\r\n])>/,lookbehind:!0,alias:"punctuation"},operator:/->|[-+*/^~=!]|<>|[<>]=?|:=|\.\./,punctuation:/[()[\]{},;.:]/},e.languages.gap.shell.inside.gap.inside=e.languages.gap}C4.displayName="gcode";C4.aliases=[];function C4(e){e.languages.gcode={comment:/;.*|\B\(.*?\)\B/,string:{pattern:/"(?:""|[^"])*"/,greedy:!0},keyword:/\b[GM]\d+(?:\.\d+)?\b/,property:/\b[A-Z]/,checksum:{pattern:/(\*)\d+/,lookbehind:!0,alias:"number"},punctuation:/[:*]/}}A4.displayName="gdscript";A4.aliases=[];function A4(e){e.languages.gdscript={comment:/#.*/,string:{pattern:/@?(?:("|')(?:(?!\1)[^\n\\]|\\[\s\S])*\1(?!"|')|"""(?:[^\\]|\\[\s\S])*?""")/,greedy:!0},"class-name":{pattern:/(^(?:class|class_name|extends)[ \t]+|^export\([ \t]*|\bas[ \t]+|(?:\b(?:const|var)[ \t]|[,(])[ \t]*\w+[ \t]*:[ \t]*|->[ \t]*)[a-zA-Z_]\w*/m,lookbehind:!0},keyword:/\b(?:and|as|assert|break|breakpoint|class|class_name|const|continue|elif|else|enum|export|extends|for|func|if|in|is|master|mastersync|match|not|null|onready|or|pass|preload|puppet|puppetsync|remote|remotesync|return|self|setget|signal|static|tool|var|while|yield)\b/,function:/\b[a-z_]\w*(?=[ \t]*\()/i,variable:/\$\w+/,number:[/\b0b[01_]+\b|\b0x[\da-fA-F_]+\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.[\d_]+)(?:e[+-]?[\d_]+)?\b/,/\b(?:INF|NAN|PI|TAU)\b/],constant:/\b[A-Z][A-Z_\d]*\b/,boolean:/\b(?:false|true)\b/,operator:/->|:=|&&|\|\||<<|>>|[-+*/%&|!<>=]=?|[~^]/,punctuation:/[.:,;()[\]{}]/}}k4.displayName="gedcom";k4.aliases=[];function k4(e){e.languages.gedcom={"line-value":{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?\w+ ).+/m,lookbehind:!0,inside:{pointer:{pattern:/^@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@$/,alias:"variable"}}},record:{pattern:/(^[\t ]*\d+ +(?:@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@ +)?)\w+/m,lookbehind:!0,alias:"tag"},level:{pattern:/(^[\t ]*)\d+/m,lookbehind:!0,alias:"number"},pointer:{pattern:/@\w[\w!"$%&'()*+,\-./:;<=>?[\\\]^`{|}~\x80-\xfe #]*@/,alias:"variable"}}}I4.displayName="gettext";I4.aliases=["po"];function I4(e){e.languages.gettext={comment:[{pattern:/# .*/,greedy:!0,alias:"translator-comment"},{pattern:/#\..*/,greedy:!0,alias:"extracted-comment"},{pattern:/#:.*/,greedy:!0,alias:"reference-comment"},{pattern:/#,.*/,greedy:!0,alias:"flag-comment"},{pattern:/#\|.*/,greedy:!0,alias:"previously-untranslated-comment"},{pattern:/#.*/,greedy:!0}],string:{pattern:/(^|[^\\])"(?:[^"\\]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/^msg(?:ctxt|id|id_plural|str)\b/m,number:/\b\d+\b/,punctuation:/[\[\]]/},e.languages.po=e.languages.gettext}N4.displayName="gherkin";N4.aliases=[];function N4(e){(function(t){var n=/(?:\r?\n|\r)[ \t]*\|.+\|(?:(?!\|).)*/.source;t.languages.gherkin={pystring:{pattern:/("""|''')[\s\S]+?\1/,alias:"string"},comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},tag:{pattern:/(^[ \t]*)@\S*/m,lookbehind:!0},feature:{pattern:/((?:^|\r?\n|\r)[ \t]*)(?:Ability|Ahoy matey!|Arwedd|Aspekt|Besigheid Behoefte|Business Need|Caracteristica|Caracterstica|Egenskab|Egenskap|Eiginleiki|Feature|Fa|Fitur|Fonctionnalit|Fonksyonalite|Funcionalidade|Funcionalitat|Functionalitate|Funcionalitate|Funcionalitate|Functionaliteit|Fungsi|Funkcia|Funkcija|Funkcionalitte|Funkcionalnost|Funkcja|Funksie|Funktionalitt|Funktionalitit|Funzionalit|Hwaet|Hwt|Jellemz|Karakteristik|Lastnost|Mak|Mogucnost|laH|Mogunost|Moznosti|Monosti|OH HAI|Omadus|Ominaisuus|Osobina|zellik|Potrzeba biznesowa|perbogh|poQbogh malja'|Poadavek|Poiadavka|Pretty much|Qap|Qu'meH 'ut|Savyb|Tnh nng|Trajto|Vermo|Vlastnos|Waciwo|Znailnost||||||||||||||||  || || ||||||||||):(?:[^:\r\n]+(?:\r?\n|\r|$))*/,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]+/,lookbehind:!0},keyword:/[^:\r\n]+:/}},scenario:{pattern:/(^[ \t]*)(?:Abstract Scenario|Abstrakt Scenario|Achtergrond|Aer|r|Agtergrond|All y'all|Antecedentes|Antecedents|Atburars|Atburarsir|Awww, look mate|B4|Background|Baggrund|Bakgrund|Bakgrunn|Bakgrunnur|Beispiele|Beispiller|Bi cnh|Cefndir|Cenario|Cenrio|Cenario de Fundo|Cenrio de Fundo|Cenarios|Cenrios|Contesto|Context|Contexte|Contexto|Conto|Contoh|Contone|Dmi|Dasar|Dead men tell no tales|Delineacao do Cenario|Delineao do Cenrio|Dis is what went down|D liu|Dyagram Senaryo|Dyagram senaryo|Egzanp|Ejemplos|Eksempler|Ekzemploj|Enghreifftiau|Esbozo do escenario|Escenari|Escenario|Esempi|Esquema de l'escenari|Esquema del escenario|Esquema do Cenario|Esquema do Cenrio|EXAMPLZ|Examples|Exempel|Exemple|Exemples|Exemplos|First off|Fono|Forgatknyv|Forgatknyv vzlat|Fundo|Gemi|Grundlage|Hannergrond|ghantoH|Httr|Heave to|Istorik|Juhtumid|Keadaan|Khung kch bn|Khung tnh hung|Kch bn|Koncept|Konsep skenario|Kontks|Kontekst|Kontekstas|Konteksts|Kontext|Konturo de la scenaro|Latar Belakang|lut chovnatlh|lut|lutmey|Lsing Atburarsar|Lsing Dma|MISHUN SRSLY|MISHUN|Menggariskan Senario|mo'|Nrt Scenra|Nrt Scne|Nrt Scenru|Oris scenarija|rnekler|Osnova|Osnova Scenra|Osnova scne|Osnutek|Ozadje|Paraugs|Pavyzdiai|Pldk|Piemri|Plan du scnario|Plan du Scnario|Plan Senaryo|Plan senaryo|Plang vum Szenario|Pozad|Pozadie|Pozadina|Prklady|Pklady|Primer|Primeri|Primjeri|Przykady|Raamstsenaarium|Reckon it's like|Rerefons|Scenr|Scn|Scenarie|Scenarij|Scenarijai|Scenarijaus ablonas|Scenariji|Scenrijs|Scenrijs pc parauga|Scenarijus|Scenario|Scnario|Scenario Amlinellol|Scenario Outline|Scenario Template|Scenariomal|Scenariomall|Scenarios|Scenariu|Scenariusz|Scenaro|Schema dello scenario|Se e|Se the|Se e|Senario|Senaryo Deskripsyon|Senaryo deskripsyon|Senaryo|Senaryo tasla|Shiver me timbers|Situcija|Situai|Situasie Uiteensetting|Situasie|Skenario konsep|Skenario|Skica|Structura scenariu|Structur scenariu|Struktura scenarija|Stsenaarium|Swa hwaer swa|Swa|Swa hwr swa|Szablon scenariusza|Szenario|Szenariogrundriss|Tapaukset|Tapaus|Tapausaihio|Taust|Tausta|Template Keadaan|Template Senario|Template Situai|The thing of it is|Tnh hung|Variantai|Voorbeelde|Voorbeelden|Wharrimean is|Yo-ho-ho|You'll wanna|Zaoenia|| ||||||||||||||||||  || | | || | |||||||| ||| || |||| ||   || ||| |||| |  |||||||||||||||||| ||||||||||||||||||):[^:\r\n]*/m,lookbehind:!0,inside:{important:{pattern:/(:)[^\r\n]*/,lookbehind:!0},keyword:/[^:\r\n]+:/}},"table-body":{pattern:RegExp("("+n+")(?:"+n+")+"),lookbehind:!0,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"},td:{pattern:/\s*[^\s|][^|]*/,alias:"string"},punctuation:/\|/}},"table-head":{pattern:RegExp(n),inside:{th:{pattern:/\s*[^\s|][^|]*/,alias:"variable"},punctuation:/\|/}},atrule:{pattern:/(^[ \t]+)(?:'a|'ach|'ej|7|a|A tak|A taktie|A tie|A zrove|Aber|Ac|Adott|Akkor|Ak|Aleshores|Ale|Ali|Allora|Alors|Als|Ama|Amennyiben|Amikor|Ampak|an|AN|Ananging|And y'all|And|Angenommen|Anrhegedig a|An|Apabila|Ats|Atesa|Atunci|Avast!|Aye|A|awer|Bagi|Banjur|Bet|Bit|Blimey!|Buh|But at the end of the day I reckon|But y'all|But|BUT|Cal|Cnd|Cand|Cando|Ce|Cuando|e|a e|a|Dadas|Dada|Dados|Dado|DaH ghu' bejlu'|dann|Dann|Dano|Dan|Dar|Dat fiind|Data|Date fiind|Date|Dati fiind|Dati|Dai fiind|Dai fiind|DEN|Dato|De|Den youse gotta|Dengan|Diberi|Diyelim ki|Donada|Donat|Donitao|Do|Dun|Duota|urh|Eeldades|Ef|Eer ki|Entao|Ento|Entn|E|En|Entonces|Epi|s|Etant donne|Etant donn|Et|tant donnes|tant donne|tant donn|Etant donnes|Etant donns|tant donns|Fakat|Gangway!|Gdy|Gegeben seien|Gegeben sei|Gegeven|Gegewe|ghu' noblu'|Gitt|Given y'all|Given|Givet|Givun|Ha|Cho|I CAN HAZ|In|Ir|It's just unbelievable|I|Ja|Jeli|Jeeli|Kad|Kada|Kadar|Kai|Kaj|Kdy|Ke|Kemudian|Ketika|Khi|Kiedy|Ko|Kuid|Kui|Kun|Lan|latlh|Le sa a|Let go and haul|Le|L sa a|L|Logo|Lorsqu'<|Lorsque|m|Maar|Mais|Majc|Ma|Majd|Maka|Manawa|Mas|Men|Menawa|Mutta|Nalika|Nalikaning|Nanging|Nr|Nr|Nato|Nhng|Niin|Njuk|O zaman|Och|Og|Oletetaan|Ond|Onda|Oraz|Pak|Pero|Per|Podano|Pokia|Pokud|Potem|Potom|Privzeto|Pryd|Quan|Quand|Quando|qaSDI'|S|Sed|Se|Siis|Sipoze ke|Sipoze Ke|Sipoze|Si|i|i|Soit|Stel|Tada|Tad|Takrat|Tak|Tapi|Ter|Tetapi|Tha the|Tha|Then y'all|Then|Th|Thurh|Toda|Too right|Un|Und|ugeholl|V|vaj|Vendar|Ve|wann|Wanneer|WEN|Wenn|When y'all|When|Wtedy|Wun|Y'know|Yeah nah|Yna|Youse know like when|Youse know when youse got|Y|Za predpokladu|Za pedpokladu|Zadan|Zadani|Zadano|Zadate|Zadato|Zakadajc|Zaradi|Zatati|a e|a||egar|urh|||||| |||||||||||||||||||||  ||||||||||||, |||||||||||||||||||||| |||||||| |||||||||||||||||||| ||||| ||||||||||||||<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<|<)(?=[ \t])/m,lookbehind:!0},string:{pattern:/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,inside:{outline:{pattern:/<[^>]+>/,alias:"variable"}}},outline:{pattern:/<[^>]+>/,alias:"variable"}}})(e)}R4.displayName="git";R4.aliases=[];function R4(e){e.languages.git={comment:/^#.*/m,deleted:/^[-].*/m,inserted:/^\+.*/m,string:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,command:{pattern:/^.*\$ git .*$/m,inside:{parameter:/\s--?\w+/}},coord:/^@@.*@@$/m,"commit-sha1":/^commit \w{40}$/m}}M4.displayName="glsl";M4.aliases=[];function M4(e){e.register(gg),e.languages.glsl=e.languages.extend("c",{keyword:/\b(?:active|asm|atomic_uint|attribute|[ibdu]?vec[234]|bool|break|buffer|case|cast|centroid|class|coherent|common|const|continue|d?mat[234](?:x[234])?|default|discard|do|double|else|enum|extern|external|false|filter|fixed|flat|float|for|fvec[234]|goto|half|highp|hvec[234]|[iu]?sampler2DMS(?:Array)?|[iu]?sampler2DRect|[iu]?samplerBuffer|[iu]?samplerCube|[iu]?samplerCubeArray|[iu]?sampler[123]D|[iu]?sampler[12]DArray|[iu]?image2DMS(?:Array)?|[iu]?image2DRect|[iu]?imageBuffer|[iu]?imageCube|[iu]?imageCubeArray|[iu]?image[123]D|[iu]?image[12]DArray|if|in|inline|inout|input|int|interface|invariant|layout|long|lowp|mediump|namespace|noinline|noperspective|out|output|partition|patch|precise|precision|public|readonly|resource|restrict|return|sample|sampler[12]DArrayShadow|sampler[12]DShadow|sampler2DRectShadow|sampler3DRect|samplerCubeArrayShadow|samplerCubeShadow|shared|short|sizeof|smooth|static|struct|subroutine|superp|switch|template|this|true|typedef|uint|uniform|union|unsigned|using|varying|void|volatile|while|writeonly)\b/})}O4.displayName="gn";O4.aliases=["gni"];function O4(e){e.languages.gn={comment:{pattern:/#.*/,greedy:!0},"string-literal":{pattern:/(^|[^\\"])"(?:[^\r\n"\\]|\\.)*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[\s\S]*?\}|[a-zA-Z_]\w*|0x[a-fA-F0-9]{2})/,lookbehind:!0,inside:{number:/^\$0x[\s\S]{2}$/,variable:/^\$\w+$/,"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},keyword:/\b(?:else|if)\b/,boolean:/\b(?:false|true)\b/,"builtin-function":{pattern:/\b(?:assert|defined|foreach|import|pool|print|template|tool|toolchain)(?=\s*\()/i,alias:"keyword"},function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:current_cpu|current_os|current_toolchain|default_toolchain|host_cpu|host_os|root_build_dir|root_gen_dir|root_out_dir|target_cpu|target_gen_dir|target_os|target_out_dir)\b/,number:/-?\b\d+\b/,operator:/[-+!=<>]=?|&&|\|\|/,punctuation:/[(){}[\],.]/},e.languages.gn["string-literal"].inside.interpolation.inside.expression.inside=e.languages.gn,e.languages.gni=e.languages.gn}D4.displayName="linker-script";D4.aliases=["ld"];function D4(e){e.languages["linker-script"]={comment:{pattern:/(^|\s)\/\*[\s\S]*?(?:$|\*\/)/,lookbehind:!0,greedy:!0},identifier:{pattern:/"[^"\r\n]*"/,greedy:!0},"location-counter":{pattern:/\B\.\B/,alias:"important"},section:{pattern:/(^|[^\w*])\.\w+\b/,lookbehind:!0,alias:"keyword"},function:/\b[A-Z][A-Z_]*(?=\s*\()/,number:/\b(?:0[xX][a-fA-F0-9]+|\d+)[KM]?\b/,operator:/>>=?|<<=?|->|\+\+|--|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?/,punctuation:/[(){},;]/},e.languages.ld=e.languages["linker-script"]}L4.displayName="go-module";L4.aliases=["go-mod"];function L4(e){e.languages["go-mod"]=e.languages["go-module"]={comment:{pattern:/\/\/.*/,greedy:!0},version:{pattern:/(^|[\s()[\],])v\d+\.\d+\.\d+(?:[+-][-+.\w]*)?(?![^\s()[\],])/,lookbehind:!0,alias:"number"},"go-version":{pattern:/((?:^|\s)go\s+)\d+(?:\.\d+){1,2}/,lookbehind:!0,alias:"number"},keyword:{pattern:/^([ \t]*)(?:exclude|go|module|replace|require|retract)\b/m,lookbehind:!0},operator:/=>/,punctuation:/[()[\],]/}}P4.displayName="gradle";P4.aliases=[];function P4(e){e.register(si),(function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.gradle=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:apply|def|dependencies|else|if|implementation|import|plugin|plugins|project|repositories|repository|sourceSets|tasks|val)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("gradle","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("gradle","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("gradle","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.gradle})(e)}F4.displayName="graphql";F4.aliases=[];function F4(e){e.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:e.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/},e.hooks.add("after-tokenize",function(n){if(n.language!=="graphql")return;var r=n.tokens.filter(function(z){return typeof z!="string"&&z.type!=="comment"&&z.type!=="scalar"}),a=0;function l(z){return r[a+z]}function u(z,q){q=q||0;for(var Y=0;Y<z.length;Y++){var J=l(Y+q);if(!J||J.type!==z[Y])return!1}return!0}function i(z,q){for(var Y=1,J=a;J<r.length;J++){var ne=r[J],ie=ne.content;if(ne.type==="punctuation"&&typeof ie=="string"){if(z.test(ie))Y++;else if(q.test(ie)&&(Y--,Y===0))return J}}return-1}function m(z,q){var Y=z.alias;Y?Array.isArray(Y)||(z.alias=Y=[Y]):z.alias=Y=[],Y.push(q)}for(;a<r.length;){var b=r[a++];if(b.type==="keyword"&&b.content==="mutation"){var _=[];if(u(["definition-mutation","punctuation"])&&l(1).content==="("){a+=2;var w=i(/^\($/,/^\)$/);if(w===-1)continue;for(;a<w;a++){var M=l(0);M.type==="variable"&&(m(M,"variable-input"),_.push(M.content))}a=w+1}if(u(["punctuation","property-query"])&&l(0).content==="{"&&(a++,m(l(0),"property-mutation"),_.length>0)){var P=i(/^\{$/,/^\}$/);if(P===-1)continue;for(var j=a;j<P;j++){var G=r[j];G.type==="variable"&&_.indexOf(G.content)>=0&&m(G,"variable-input")}}}}})}B4.displayName="groovy";B4.aliases=[];function B4(e){e.register(si),(function(t){var n={pattern:/((?:^|[^\\$])(?:\\{2})*)\$(?:\w+|\{[^{}]*\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}};t.languages.groovy=t.languages.extend("clike",{string:{pattern:/'''(?:[^\\]|\\[\s\S])*?'''|'(?:\\.|[^\\'\r\n])*'/,greedy:!0},keyword:/\b(?:abstract|as|assert|boolean|break|byte|case|catch|char|class|const|continue|def|default|do|double|else|enum|extends|final|finally|float|for|goto|if|implements|import|in|instanceof|int|interface|long|native|new|package|private|protected|public|return|short|static|strictfp|super|switch|synchronized|this|throw|throws|trait|transient|try|void|volatile|while)\b/,number:/\b(?:0b[01_]+|0x[\da-f_]+(?:\.[\da-f_p\-]+)?|[\d_]+(?:\.[\d_]+)?(?:e[+-]?\d+)?)[glidf]?\b/i,operator:{pattern:/(^|[^.])(?:~|==?~?|\?[.:]?|\*(?:[.=]|\*=?)?|\.[@&]|\.\.<|\.\.(?!\.)|-[-=>]?|\+[+=]?|!=?|<(?:<=?|=>?)?|>(?:>>?=?|=)?|&[&=]?|\|[|=]?|\/=?|\^=?|%=?)/,lookbehind:!0},punctuation:/\.+|[{}[\];(),:$]/}),t.languages.insertBefore("groovy","string",{shebang:{pattern:/#!.+/,alias:"comment",greedy:!0},"interpolation-string":{pattern:/"""(?:[^\\]|\\[\s\S])*?"""|(["/])(?:\\.|(?!\1)[^\\\r\n])*\1|\$\/(?:[^/$]|\$(?:[/$]|(?![/$]))|\/(?!\$))*\/\$/,greedy:!0,inside:{interpolation:n,string:/[\s\S]+/}}}),t.languages.insertBefore("groovy","punctuation",{"spock-block":/\b(?:and|cleanup|expect|given|setup|then|when|where):/}),t.languages.insertBefore("groovy","function",{annotation:{pattern:/(^|[^.])@\w+/,lookbehind:!0,alias:"punctuation"}}),n.inside.expression.inside=t.languages.groovy})(e)}$4.displayName="textile";$4.aliases=[];function $4(e){e.register(nc),(function(t){var n=/\([^|()\n]+\)|\[[^\]\n]+\]|\{[^}\n]+\}/.source,r=/\)|\((?![^|()\n]+\))/.source;function a(w,M){return RegExp(w.replace(/<MOD>/g,function(){return"(?:"+n+")"}).replace(/<PAR>/g,function(){return"(?:"+r+")"}),M||"")}var l={css:{pattern:/\{[^{}]+\}/,inside:{rest:t.languages.css}},"class-id":{pattern:/(\()[^()]+(?=\))/,lookbehind:!0,alias:"attr-value"},lang:{pattern:/(\[)[^\[\]]+(?=\])/,lookbehind:!0,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/},u=t.languages.textile=t.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:!0,inside:{"block-tag":{pattern:a(/^[a-z]\w*(?:<MOD>|<PAR>|[<>=])*\./.source),inside:{modifier:{pattern:a(/(^[a-z]\w*)(?:<MOD>|<PAR>|[<>=])+(?=\.)/.source),lookbehind:!0,inside:l},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:a(/^[*#]+<MOD>*\s+\S.*/.source,"m"),inside:{modifier:{pattern:a(/(^[*#]+)<MOD>+/.source),lookbehind:!0,inside:l},punctuation:/^[*#]+/}},table:{pattern:a(/^(?:(?:<MOD>|<PAR>|[<>=^~])+\.\s*)?(?:\|(?:(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.|(?!(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+\.))[^|]*)+\|/.source,"m"),inside:{modifier:{pattern:a(/(^|\|(?:\r?\n|\r)?)(?:<MOD>|<PAR>|[<>=^~_]|[\\/]\d+)+(?=\.)/.source),lookbehind:!0,inside:l},punctuation:/\||^\./}},inline:{pattern:a(/(^|[^a-zA-Z\d])(\*\*|__|\?\?|[*_%@+\-^~])<MOD>*.+?\2(?![a-zA-Z\d])/.source),lookbehind:!0,inside:{bold:{pattern:a(/(^(\*\*?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},italic:{pattern:a(/(^(__?)<MOD>*).+?(?=\2)/.source),lookbehind:!0},cite:{pattern:a(/(^\?\?<MOD>*).+?(?=\?\?)/.source),lookbehind:!0,alias:"string"},code:{pattern:a(/(^@<MOD>*).+?(?=@)/.source),lookbehind:!0,alias:"keyword"},inserted:{pattern:a(/(^\+<MOD>*).+?(?=\+)/.source),lookbehind:!0},deleted:{pattern:a(/(^-<MOD>*).+?(?=-)/.source),lookbehind:!0},span:{pattern:a(/(^%<MOD>*).+?(?=%)/.source),lookbehind:!0},modifier:{pattern:a(/(^\*\*|__|\?\?|[*_%@+\-^~])<MOD>+/.source),lookbehind:!0,inside:l},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0},url:{pattern:/(^\])\S+$/,lookbehind:!0},punctuation:/[\[\]]/}},link:{pattern:a(/"<MOD>*[^"]+":.+?(?=[^\w/]?(?:\s|$))/.source),inside:{text:{pattern:a(/(^"<MOD>*)[^"]+(?=")/.source),lookbehind:!0},modifier:{pattern:a(/(^")<MOD>+/.source),lookbehind:!0,inside:l},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[":]/}},image:{pattern:a(/!(?:<MOD>|<PAR>|[<>=])*(?![<>=])[^!\s()]+(?:\([^)]+\))?!(?::.+?(?=[^\w/]?(?:\s|$)))?/.source),inside:{source:{pattern:a(/(^!(?:<MOD>|<PAR>|[<>=])*)(?![<>=])[^!\s()]+(?:\([^)]+\))?(?=!)/.source),lookbehind:!0,alias:"url"},modifier:{pattern:a(/(^!)(?:<MOD>|<PAR>|[<>=])+/.source),lookbehind:!0,inside:l},url:{pattern:/(:).+/,lookbehind:!0},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^()]+(?=\))/,lookbehind:!0},punctuation:/[()]/}},mark:{pattern:/\b\((?:C|R|TM)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}}),i=u.phrase.inside,m={inline:i.inline,link:i.link,image:i.image,footnote:i.footnote,acronym:i.acronym,mark:i.mark};u.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/i;var b=i.inline.inside;b.bold.inside=m,b.italic.inside=m,b.inserted.inside=m,b.deleted.inside=m,b.span.inside=m;var _=i.table.inside;_.inline=m.inline,_.link=m.link,_.image=m.image,_.footnote=m.footnote,_.acronym=m.acronym,_.mark=m.mark})(e)}j4.displayName="haml";j4.aliases=[];function j4(e){e.register(V1),(function(t){t.languages.haml={"multiline-comment":{pattern:/((?:^|\r?\n|\r)([\t ]*))(?:\/|-#).*(?:(?:\r?\n|\r)\2[\t ].+)*/,lookbehind:!0,alias:"comment"},"multiline-code":[{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*,[\t ]*(?:(?:\r?\n|\r)\2[\t ].*,[\t ]*)*(?:(?:\r?\n|\r)\2[\t ].+)/,lookbehind:!0,inside:t.languages.ruby},{pattern:/((?:^|\r?\n|\r)([\t ]*)(?:[~-]|[&!]?=)).*\|[\t ]*(?:(?:\r?\n|\r)\2[\t ].*\|[\t ]*)*/,lookbehind:!0,inside:t.languages.ruby}],filter:{pattern:/((?:^|\r?\n|\r)([\t ]*)):[\w-]+(?:(?:\r?\n|\r)(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"}}},markup:{pattern:/((?:^|\r?\n|\r)[\t ]*)<.+/,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\r?\n|\r)[\t ]*)!!!(?: .+)?/,lookbehind:!0},tag:{pattern:/((?:^|\r?\n|\r)[\t ]*)[%.#][\w\-#.]*[\w\-](?:\([^)]+\)|\{(?:\{[^}]+\}|[^{}])+\}|\[[^\]]+\])*[\/<>]*/,lookbehind:!0,inside:{attributes:[{pattern:/(^|[^#])\{(?:\{[^}]+\}|[^{}])+\}/,lookbehind:!0,inside:t.languages.ruby},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*)(?:"(?:\\.|[^\\"\r\n])*"|[^)\s]+)/,lookbehind:!0},"attr-name":/[\w:-]+(?=\s*!?=|\s*[,)])/,punctuation:/[=(),]/}},{pattern:/\[[^\]]+\]/,inside:t.languages.ruby}],punctuation:/[<>]/}},code:{pattern:/((?:^|\r?\n|\r)[\t ]*(?:[~-]|[&!]?=)).+/,lookbehind:!0,inside:t.languages.ruby},interpolation:{pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"},ruby:{pattern:/[\s\S]+/,inside:t.languages.ruby}}},punctuation:{pattern:/((?:^|\r?\n|\r)[\t ]*)[~=\-&!]+/,lookbehind:!0}};for(var n="((?:^|\\r?\\n|\\r)([\\t ]*)):{{filter_name}}(?:(?:\\r?\\n|\\r)(?:\\2[\\t ].+|\\s*?(?=\\r?\\n|\\r)))+",r=["css",{filter:"coffee",language:"coffeescript"},"erb","javascript","less","markdown","ruby","scss","textile"],a={},l=0,u=r.length;l<u;l++){var i=r[l];i=typeof i=="string"?{filter:i,language:i}:i,t.languages[i.language]&&(a["filter-"+i.filter]={pattern:RegExp(n.replace("{{filter_name}}",function(){return i.filter})),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"symbol"},text:{pattern:/[\s\S]+/,alias:[i.language,"language-"+i.language],inside:t.languages[i.language]}}})}t.languages.insertBefore("haml","filter",a)})(e)}z4.displayName="handlebars";z4.aliases=["hbs","mustache"];function z4(e){e.register(Bc),(function(t){t.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},t.hooks.add("before-tokenize",function(n){var r=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;t.languages["markup-templating"].buildPlaceholders(n,"handlebars",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"handlebars")}),t.languages.hbs=t.languages.handlebars,t.languages.mustache=t.languages.handlebars})(e)}IT.displayName="haskell";IT.aliases=["hs"];function IT(e){e.languages.haskell={comment:{pattern:/(^|[^-!#$%*+=?&@|~.:<>^\\\/])(?:--(?:(?=.)[^-!#$%*+=?&@|~.:<>^\\\/].*|$)|\{-[\s\S]*?-\})/m,lookbehind:!0},char:{pattern:/'(?:[^\\']|\\(?:[abfnrtv\\"'&]|\^[A-Z@[\]^_]|ACK|BEL|BS|CAN|CR|DC1|DC2|DC3|DC4|DEL|DLE|EM|ENQ|EOT|ESC|ETB|ETX|FF|FS|GS|HT|LF|NAK|NUL|RS|SI|SO|SOH|SP|STX|SUB|SYN|US|VT|\d+|o[0-7]+|x[0-9a-fA-F]+))'/,alias:"string"},string:{pattern:/"(?:[^\\"]|\\(?:\S|\s+\\))*"/,greedy:!0},keyword:/\b(?:case|class|data|deriving|do|else|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b/,"import-statement":{pattern:/(^[\t ]*)import\s+(?:qualified\s+)?(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*(?:\s+as\s+(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import|qualified)\b/,punctuation:/\./}},builtin:/\b(?:abs|acos|acosh|all|and|any|appendFile|approxRational|asTypeOf|asin|asinh|atan|atan2|atanh|basicIORun|break|catch|ceiling|chr|compare|concat|concatMap|const|cos|cosh|curry|cycle|decodeFloat|denominator|digitToInt|div|divMod|drop|dropWhile|either|elem|encodeFloat|enumFrom|enumFromThen|enumFromThenTo|enumFromTo|error|even|exp|exponent|fail|filter|flip|floatDigits|floatRadix|floatRange|floor|fmap|foldl|foldl1|foldr|foldr1|fromDouble|fromEnum|fromInt|fromInteger|fromIntegral|fromRational|fst|gcd|getChar|getContents|getLine|group|head|id|inRange|index|init|intToDigit|interact|ioError|isAlpha|isAlphaNum|isAscii|isControl|isDenormalized|isDigit|isHexDigit|isIEEE|isInfinite|isLower|isNaN|isNegativeZero|isOctDigit|isPrint|isSpace|isUpper|iterate|last|lcm|length|lex|lexDigits|lexLitChar|lines|log|logBase|lookup|map|mapM|mapM_|max|maxBound|maximum|maybe|min|minBound|minimum|mod|negate|not|notElem|null|numerator|odd|or|ord|otherwise|pack|pi|pred|primExitWith|print|product|properFraction|putChar|putStr|putStrLn|quot|quotRem|range|rangeSize|read|readDec|readFile|readFloat|readHex|readIO|readInt|readList|readLitChar|readLn|readOct|readParen|readSigned|reads|readsPrec|realToFrac|recip|rem|repeat|replicate|return|reverse|round|scaleFloat|scanl|scanl1|scanr|scanr1|seq|sequence|sequence_|show|showChar|showInt|showList|showLitChar|showParen|showSigned|showString|shows|showsPrec|significand|signum|sin|sinh|snd|sort|span|splitAt|sqrt|subtract|succ|sum|tail|take|takeWhile|tan|tanh|threadToIOResult|toEnum|toInt|toInteger|toLower|toRational|toUpper|truncate|uncurry|undefined|unlines|until|unwords|unzip|unzip3|userError|words|writeFile|zip|zip3|zipWith|zipWith3)\b/,number:/\b(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|0o[0-7]+|0x[0-9a-f]+)\b/i,operator:[{pattern:/`(?:[A-Z][\w']*\.)*[_a-z][\w']*`/,greedy:!0},{pattern:/(\s)\.(?=\s)/,lookbehind:!0},/[-!#$%*+=?&@|~:<>^\\\/][-!#$%*+=?&@|~.:<>^\\\/]*|\.[-!#$%*+=?&@|~.:<>^\\\/]+/],hvariable:{pattern:/\b(?:[A-Z][\w']*\.)*[_a-z][\w']*/,inside:{punctuation:/\./}},constant:{pattern:/\b(?:[A-Z][\w']*\.)*[A-Z][\w']*/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:]/},e.languages.hs=e.languages.haskell}U4.displayName="haxe";U4.aliases=[];function U4(e){e.register(si),e.languages.haxe=e.languages.extend("clike",{string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},"class-name":[{pattern:/(\b(?:abstract|class|enum|extends|implements|interface|new|typedef)\s+)[A-Z_]\w*/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\bthis\b|\b(?:abstract|as|break|case|cast|catch|class|continue|default|do|dynamic|else|enum|extends|extern|final|for|from|function|if|implements|import|in|inline|interface|macro|new|null|operator|overload|override|package|private|public|return|static|super|switch|throw|to|try|typedef|untyped|using|var|while)(?!\.)\b/,function:{pattern:/\b[a-z_]\w*(?=\s*(?:<[^<>]*>\s*)?\()/i,greedy:!0},operator:/\.{3}|\+\+|--|&&|\|\||->|=>|(?:<<?|>{1,3}|[-+*/%!=&|^])=?|[?:~]/}),e.languages.insertBefore("haxe","string",{"string-interpolation":{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{interpolation:{pattern:/(^|[^\\])\$(?:\w+|\{[^{}]+\})/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:e.languages.haxe}}},string:/[\s\S]+/}}}),e.languages.insertBefore("haxe","class-name",{regex:{pattern:/~\/(?:[^\/\\\r\n]|\\.)+\/[a-z]*/,greedy:!0,inside:{"regex-flags":/\b[a-z]+$/,"regex-source":{pattern:/^(~\/)[\s\S]+(?=\/$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^~\/|\/$/}}}),e.languages.insertBefore("haxe","keyword",{preprocessor:{pattern:/#(?:else|elseif|end|if)\b.*/,alias:"property"},metadata:{pattern:/@:?[\w.]+/,alias:"symbol"},reification:{pattern:/\$(?:\w+|(?=\{))/,alias:"important"}})}G4.displayName="hcl";G4.aliases=[];function G4(e){e.languages.hcl={comment:/(?:\/\/|#).*|\/\*[\s\S]*?(?:\*\/|$)/,heredoc:{pattern:/<<-?(\w+\b)[\s\S]*?^[ \t]*\1/m,greedy:!0,alias:"string"},keyword:[{pattern:/(?:data|resource)\s+(?:"(?:\\[\s\S]|[^\\"])*")(?=\s+"[\w-]+"\s+\{)/i,inside:{type:{pattern:/(resource|data|\s+)(?:"(?:\\[\s\S]|[^\\"])*")/i,lookbehind:!0,alias:"variable"}}},{pattern:/(?:backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+(?=\{)/i,inside:{type:{pattern:/(backend|module|output|provider|provisioner|variable)\s+(?:[\w-]+|"(?:\\[\s\S]|[^\\"])*")\s+/i,lookbehind:!0,alias:"variable"}}},/[\w-]+(?=\s+\{)/],property:[/[-\w\.]+(?=\s*=(?!=))/,/"(?:\\[\s\S]|[^\\"])+"(?=\s*[:=])/],string:{pattern:/"(?:[^\\$"]|\\[\s\S]|\$(?:(?=")|\$+(?!\$)|[^"${])|\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\})*"/,greedy:!0,inside:{interpolation:{pattern:/(^|[^$])\$\{(?:[^{}"]|"(?:[^\\"]|\\[\s\S])*")*\}/,lookbehind:!0,inside:{type:{pattern:/(\b(?:count|data|local|module|path|self|terraform|var)\b\.)[\w\*]+/i,lookbehind:!0,alias:"variable"},keyword:/\b(?:count|data|local|module|path|self|terraform|var)\b/i,function:/\w+(?=\()/,string:{pattern:/"(?:\\[\s\S]|[^\\"])*"/,greedy:!0},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[!\$#%&'()*+,.\/;<=>@\[\\\]^`{|}~?:]/}}}},number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,boolean:/\b(?:false|true)\b/i,punctuation:/[=\[\]{}]/}}H4.displayName="hlsl";H4.aliases=[];function H4(e){e.register(gg),e.languages.hlsl=e.languages.extend("c",{"class-name":[e.languages.c["class-name"],/\b(?:AppendStructuredBuffer|BlendState|Buffer|ByteAddressBuffer|CompileShader|ComputeShader|ConsumeStructuredBuffer|DepthStencilState|DepthStencilView|DomainShader|GeometryShader|Hullshader|InputPatch|LineStream|OutputPatch|PixelShader|PointStream|RWBuffer|RWByteAddressBuffer|RWStructuredBuffer|RWTexture(?:1D|1DArray|2D|2DArray|3D)|RasterizerState|RenderTargetView|SamplerComparisonState|SamplerState|StructuredBuffer|Texture(?:1D|1DArray|2D|2DArray|2DMS|2DMSArray|3D|Cube|CubeArray)|TriangleStream|VertexShader)\b/],keyword:[/\b(?:asm|asm_fragment|auto|break|case|catch|cbuffer|centroid|char|class|column_major|compile|compile_fragment|const|const_cast|continue|default|delete|discard|do|dynamic_cast|else|enum|explicit|export|extern|for|friend|fxgroup|goto|groupshared|if|in|inline|inout|interface|line|lineadj|linear|long|matrix|mutable|namespace|new|nointerpolation|noperspective|operator|out|packoffset|pass|pixelfragment|point|precise|private|protected|public|register|reinterpret_cast|return|row_major|sample|sampler|shared|short|signed|sizeof|snorm|stateblock|stateblock_state|static|static_cast|string|struct|switch|tbuffer|technique|technique10|technique11|template|texture|this|throw|triangle|triangleadj|try|typedef|typename|uniform|union|unorm|unsigned|using|vector|vertexfragment|virtual|void|volatile|while)\b/,/\b(?:bool|double|dword|float|half|int|min(?:10float|12int|16(?:float|int|uint))|uint)(?:[1-4](?:x[1-4])?)?\b/],number:/(?:(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?|\b0x[\da-fA-F]+)[fFhHlLuU]?\b/,boolean:/\b(?:false|true)\b/})}V4.displayName="hoon";V4.aliases=[];function V4(e){e.languages.hoon={comment:{pattern:/::.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'/,greedy:!0},constant:/%(?:\.[ny]|[\w-]+)/,"class-name":/@(?:[a-z0-9-]*[a-z0-9])?|\*/i,function:/(?:\+[-+] {2})?(?:[a-z](?:[a-z0-9-]*[a-z0-9])?)/,keyword:/\.[\^\+\*=\?]|![><:\.=\?!]|=[>|:,\.\-\^<+;/~\*\?]|\?[>|:\.\-\^<\+&~=@!]|\|[\$_%:\.\-\^~\*=@\?]|\+[|\$\+\*]|:[_\-\^\+~\*]|%[_:\.\-\^\+~\*=]|\^[|:\.\-\+&~\*=\?]|\$[|_%:<>\-\^&~@=\?]|;[:<\+;\/~\*=]|~[>|\$_%<\+\/&=\?!]|--|==/}}q4.displayName="hpkp";q4.aliases=[];function q4(e){e.languages.hpkp={directive:{pattern:/\b(?:includeSubDomains|max-age|pin-sha256|preload|report-to|report-uri|strict)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}Y4.displayName="hsts";Y4.aliases=[];function Y4(e){e.languages.hsts={directive:{pattern:/\b(?:includeSubDomains|max-age|preload)(?=[\s;=]|$)/i,alias:"property"},operator:/=/,punctuation:/;/}}W4.displayName="uri";W4.aliases=["url"];function W4(e){e.languages.uri={scheme:{pattern:/^[a-z][a-z0-9+.-]*:/im,greedy:!0,inside:{"scheme-delimiter":/:$/}},fragment:{pattern:/#[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"fragment-delimiter":/^#/}},query:{pattern:/\?[\w\-.~!$&'()*+,;=%:@/?]*/,inside:{"query-delimiter":{pattern:/^\?/,greedy:!0},"pair-delimiter":/[&;]/,pair:{pattern:/^[^=][\s\S]*/,inside:{key:/^[^=]+/,value:{pattern:/(^=)[\s\S]+/,lookbehind:!0}}}}},authority:{pattern:RegExp(/^\/\//.source+/(?:[\w\-.~!$&'()*+,;=%:]*@)?/.source+("(?:"+/\[(?:[0-9a-fA-F:.]{2,48}|v[0-9a-fA-F]+\.[\w\-.~!$&'()*+,;=]+)\]/.source+"|"+/[\w\-.~!$&'()*+,;=%]*/.source+")")+/(?::\d*)?/.source,"m"),inside:{"authority-delimiter":/^\/\//,"user-info-segment":{pattern:/^[\w\-.~!$&'()*+,;=%:]*@/,inside:{"user-info-delimiter":/@$/,"user-info":/^[\w\-.~!$&'()*+,;=%:]+/}},"port-segment":{pattern:/:\d*$/,inside:{"port-delimiter":/^:/,port:/^\d+/}},host:{pattern:/[\s\S]+/,inside:{"ip-literal":{pattern:/^\[[\s\S]+\]$/,inside:{"ip-literal-delimiter":/^\[|\]$/,"ipv-future":/^v[\s\S]+/,"ipv6-address":/^[\s\S]+/}},"ipv4-address":/^(?:(?:[03-9]\d?|[12]\d{0,2})\.){3}(?:[03-9]\d?|[12]\d{0,2})$/}}}},path:{pattern:/^[\w\-.~!$&'()*+,;=%:@/]+/m,inside:{"path-separator":/\//}}},e.languages.url=e.languages.uri}Z4.displayName="http";Z4.aliases=[];function Z4(e){(function(t){function n(_){return RegExp("(^(?:"+_+"):[ 	]*(?![ 	]))[^]+","i")}t.languages.http={"request-line":{pattern:/^(?:CONNECT|DELETE|GET|HEAD|OPTIONS|PATCH|POST|PRI|PUT|SEARCH|TRACE)\s(?:https?:\/\/|\/)\S*\sHTTP\/[\d.]+/m,inside:{method:{pattern:/^[A-Z]+\b/,alias:"property"},"request-target":{pattern:/^(\s)(?:https?:\/\/|\/)\S*(?=\s)/,lookbehind:!0,alias:"url",inside:t.languages.uri},"http-version":{pattern:/^(\s)HTTP\/[\d.]+/,lookbehind:!0,alias:"property"}}},"response-status":{pattern:/^HTTP\/[\d.]+ \d+ .+/m,inside:{"http-version":{pattern:/^HTTP\/[\d.]+/,alias:"property"},"status-code":{pattern:/^(\s)\d+(?=\s)/,lookbehind:!0,alias:"number"},"reason-phrase":{pattern:/^(\s).+/,lookbehind:!0,alias:"string"}}},header:{pattern:/^[\w-]+:.+(?:(?:\r\n?|\n)[ \t].+)*/m,inside:{"header-value":[{pattern:n(/Content-Security-Policy/.source),lookbehind:!0,alias:["csp","languages-csp"],inside:t.languages.csp},{pattern:n(/Public-Key-Pins(?:-Report-Only)?/.source),lookbehind:!0,alias:["hpkp","languages-hpkp"],inside:t.languages.hpkp},{pattern:n(/Strict-Transport-Security/.source),lookbehind:!0,alias:["hsts","languages-hsts"],inside:t.languages.hsts},{pattern:n(/[^:]+/.source),lookbehind:!0}],"header-name":{pattern:/^[^:]+/,alias:"keyword"},punctuation:/^:/}}};var r=t.languages,a={"application/javascript":r.javascript,"application/json":r.json||r.javascript,"application/xml":r.xml,"text/xml":r.xml,"text/html":r.html,"text/css":r.css,"text/plain":r.plain},l={"application/json":!0,"application/xml":!0};function u(_){var w=_.replace(/^[a-z]+\//,""),M="\\w+/(?:[\\w.-]+\\+)+"+w+"(?![+\\w.-])";return"(?:"+_+"|"+M+")"}var i;for(var m in a)if(a[m]){i=i||{};var b=l[m]?u(m):m;i[m.replace(/\//g,"-")]={pattern:RegExp("("+/content-type:\s*/.source+b+/(?:(?:\r\n?|\n)[\w-].*)*(?:\r(?:\n|(?!\n))|\n)/.source+")"+/[^ \t\w-][\s\S]*/.source,"i"),lookbehind:!0,inside:a[m]}}i&&t.languages.insertBefore("http","header",i)})(e)}X4.displayName="ichigojam";X4.aliases=[];function X4(e){e.languages.ichigojam={comment:/(?:\B'|REM)(?:[^\n\r]*)/i,string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/\B#[0-9A-F]+|\B`[01]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:BEEP|BPS|CASE|CLEAR|CLK|CLO|CLP|CLS|CLT|CLV|CONT|COPY|ELSE|END|FILE|FILES|FOR|GOSUB|GOTO|GSB|IF|INPUT|KBD|LED|LET|LIST|LOAD|LOCATE|LRUN|NEW|NEXT|OUT|PLAY|POKE|PRINT|PWM|REM|RENUM|RESET|RETURN|RIGHT|RTN|RUN|SAVE|SCROLL|SLEEP|SRND|STEP|STOP|SUB|TEMPO|THEN|TO|UART|VIDEO|WAIT)(?:\$|\b)/i,function:/\b(?:ABS|ANA|ASC|BIN|BTN|DEC|END|FREE|HELP|HEX|I2CR|I2CW|IN|INKEY|LEN|LINE|PEEK|RND|SCR|SOUND|STR|TICK|USR|VER|VPEEK|ZER)(?:\$|\b)/i,label:/(?:\B@\S+)/,operator:/<[=>]?|>=?|\|\||&&|[+\-*\/=|&^~!]|\b(?:AND|NOT|OR)\b/i,punctuation:/[\[,;:()\]]/}}K4.displayName="icon";K4.aliases=[];function K4(e){e.languages.icon={comment:/#.*/,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n_]|\\.|_(?!\1)(?:\r\n|[\s\S]))*\1/,greedy:!0},number:/\b(?:\d+r[a-z\d]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b|\.\d+\b/i,"builtin-keyword":{pattern:/&(?:allocated|ascii|clock|collections|cset|current|date|dateline|digits|dump|e|error(?:number|text|value)?|errout|fail|features|file|host|input|lcase|letters|level|line|main|null|output|phi|pi|pos|progname|random|regions|source|storage|subject|time|trace|ucase|version)\b/,alias:"variable"},directive:{pattern:/\$\w+/,alias:"builtin"},keyword:/\b(?:break|by|case|create|default|do|else|end|every|fail|global|if|initial|invocable|link|local|next|not|of|procedure|record|repeat|return|static|suspend|then|to|until|while)\b/,function:/\b(?!\d)\w+(?=\s*[({]|\s*!\s*\[)/,operator:/[+-]:(?!=)|(?:[\/?@^%&]|\+\+?|--?|==?=?|~==?=?|\*\*?|\|\|\|?|<(?:->?|<?=?)|>>?=?)(?::=)?|:(?:=:?)?|[!.\\|~]/,punctuation:/[\[\](){},;]/}}Q4.displayName="icu-message-format";Q4.aliases=[];function Q4(e){(function(t){function n(m,b){return b<=0?/[]/.source:m.replace(/<SELF>/g,function(){return n(m,b-1)})}var r=/'[{}:=,](?:[^']|'')*'(?!')/,a={pattern:/''/,greedy:!0,alias:"operator"},l={pattern:r,greedy:!0,inside:{escape:a}},u=n(/\{(?:[^{}']|'(?![{},'])|''|<STR>|<SELF>)*\}/.source.replace(/<STR>/g,function(){return r.source}),8),i={pattern:RegExp(u),inside:{message:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:null},"message-delimiter":{pattern:/./,alias:"punctuation"}}};t.languages["icu-message-format"]={argument:{pattern:RegExp(u),greedy:!0,inside:{content:{pattern:/^(\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:{"argument-name":{pattern:/^(\s*)[^{}:=,\s]+/,lookbehind:!0},"choice-style":{pattern:/^(\s*,\s*choice\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{punctuation:/\|/,range:{pattern:/^(\s*)[+-]?(?:\d+(?:\.\d*)?|\u221e)\s*[<#\u2264]/,lookbehind:!0,inside:{operator:/[<#\u2264]/,number:/\S+/}},rest:null}},"plural-style":{pattern:/^(\s*,\s*(?:plural|selectordinal)\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{offset:/^offset:\s*\d+/,"nested-message":i,selector:{pattern:/=\d+|[^{}:=,\s]+/,inside:{keyword:/^(?:few|many|one|other|two|zero)$/}}}},"select-style":{pattern:/^(\s*,\s*select\s*,\s*)\S(?:[\s\S]*\S)?/,lookbehind:!0,inside:{"nested-message":i,selector:{pattern:/[^{}:=,\s]+/,inside:{keyword:/^other$/}}}},keyword:/\b(?:choice|plural|select|selectordinal)\b/,"arg-type":{pattern:/\b(?:date|duration|number|ordinal|spellout|time)\b/,alias:"keyword"},"arg-skeleton":{pattern:/(,\s*)::[^{}:=,\s]+/,lookbehind:!0},"arg-style":{pattern:/(,\s*)(?:currency|full|integer|long|medium|percent|short)(?=\s*$)/,lookbehind:!0},"arg-style-text":{pattern:RegExp(/(^\s*,\s*(?=\S))/.source+n(/(?:[^{}']|'[^']*'|\{(?:<SELF>)?\})+/.source,8)+"$"),lookbehind:!0,alias:"string"},punctuation:/,/}},"argument-delimiter":{pattern:/./,alias:"operator"}}},escape:a,string:l},i.inside.message.inside=t.languages["icu-message-format"],t.languages["icu-message-format"].argument.inside.content.inside["choice-style"].inside.rest=t.languages["icu-message-format"]})(e)}J4.displayName="idris";J4.aliases=["idr"];function J4(e){e.register(IT),e.languages.idris=e.languages.extend("haskell",{comment:{pattern:/(?:(?:--|\|\|\|).*$|\{-[\s\S]*?-\})/m},keyword:/\b(?:Type|case|class|codata|constructor|corecord|data|do|dsl|else|export|if|implementation|implicit|import|impossible|in|infix|infixl|infixr|instance|interface|let|module|mutual|namespace|of|parameters|partial|postulate|private|proof|public|quoteGoal|record|rewrite|syntax|then|total|using|where|with)\b/,builtin:void 0}),e.languages.insertBefore("idris","keyword",{"import-statement":{pattern:/(^\s*import\s+)(?:[A-Z][\w']*)(?:\.[A-Z][\w']*)*/m,lookbehind:!0,inside:{punctuation:/\./}}}),e.languages.idr=e.languages.idris}e6.displayName="ignore";e6.aliases=["gitignore","hgignore","npmignore"];function e6(e){(function(t){t.languages.ignore={comment:/^#.*/m,entry:{pattern:/\S(?:.*(?:(?:\\ )|\S))?/,alias:"string",inside:{operator:/^!|\*\*?|\?/,regex:{pattern:/(^|[^\\])\[[^\[\]]*\]/,lookbehind:!0},punctuation:/\//}}},t.languages.gitignore=t.languages.ignore,t.languages.hgignore=t.languages.ignore,t.languages.npmignore=t.languages.ignore})(e)}t6.displayName="inform7";t6.aliases=[];function t6(e){e.languages.inform7={string:{pattern:/"[^"]*"/,inside:{substitution:{pattern:/\[[^\[\]]+\]/,inside:{delimiter:{pattern:/\[|\]/,alias:"punctuation"}}}}},comment:{pattern:/\[[^\[\]]+\]/,greedy:!0},title:{pattern:/^[ \t]*(?:book|chapter|part(?! of)|section|table|volume)\b.+/im,alias:"important"},number:{pattern:/(^|[^-])(?:\b\d+(?:\.\d+)?(?:\^\d+)?(?:(?!\d)\w+)?|\b(?:eight|eleven|five|four|nine|one|seven|six|ten|three|twelve|two))\b(?!-)/i,lookbehind:!0},verb:{pattern:/(^|[^-])\b(?:answering|applying to|are|asking|attacking|be(?:ing)?|burning|buying|called|carries|carry(?! out)|carrying|climbing|closing|conceal(?:ing|s)?|consulting|contain(?:ing|s)?|cutting|drinking|dropping|eating|enclos(?:es?|ing)|entering|examining|exiting|getting|giving|going|ha(?:s|ve|ving)|hold(?:ing|s)?|impl(?:ies|y)|incorporat(?:es?|ing)|inserting|is|jumping|kissing|listening|locking|looking|mean(?:ing|s)?|opening|provid(?:es?|ing)|pulling|pushing|putting|relat(?:es?|ing)|removing|searching|see(?:ing|s)?|setting|showing|singing|sleeping|smelling|squeezing|support(?:ing|s)?|swearing|switching|taking|tasting|telling|thinking|throwing|touching|turning|tying|unlock(?:ing|s)?|var(?:ies|y|ying)|waiting|waking|waving|wear(?:ing|s)?)\b(?!-)/i,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^-])\b(?:after|before|carry out|check|continue the action|definition(?= *:)|do nothing|else|end (?:if|the story|unless)|every turn|if|include|instead(?: of)?|let|move|no|now|otherwise|repeat|report|resume the story|rule for|running through|say(?:ing)?|stop the action|test|try(?:ing)?|understand|unless|use|when|while|yes)\b(?!-)/i,lookbehind:!0},property:{pattern:/(^|[^-])\b(?:adjacent(?! to)|carried|closed|concealed|contained|dark|described|edible|empty|enclosed|enterable|even|female|fixed in place|full|handled|held|improper-named|incorporated|inedible|invisible|lighted|lit|lock(?:able|ed)|male|marked for listing|mentioned|negative|neuter|non-(?:empty|full|recurring)|odd|opaque|open(?:able)?|plural-named|portable|positive|privately-named|proper-named|provided|publically-named|pushable between rooms|recurring|related|rubbing|scenery|seen|singular-named|supported|swinging|switch(?:able|ed(?: off| on)?)|touch(?:able|ed)|transparent|unconcealed|undescribed|unlit|unlocked|unmarked for listing|unmentioned|unopenable|untouchable|unvisited|variable|visible|visited|wearable|worn)\b(?!-)/i,lookbehind:!0,alias:"symbol"},position:{pattern:/(^|[^-])\b(?:above|adjacent to|back side of|below|between|down|east|everywhere|front side|here|in|inside(?: from)?|north(?:east|west)?|nowhere|on(?: top of)?|other side|outside(?: from)?|parts? of|regionally in|south(?:east|west)?|through|up|west|within)\b(?!-)/i,lookbehind:!0,alias:"keyword"},type:{pattern:/(^|[^-])\b(?:actions?|activit(?:ies|y)|actors?|animals?|backdrops?|containers?|devices?|directions?|doors?|holders?|kinds?|lists?|m[ae]n|nobody|nothing|nouns?|numbers?|objects?|people|persons?|player(?:'s holdall)?|regions?|relations?|rooms?|rule(?:book)?s?|scenes?|someone|something|supporters?|tables?|texts?|things?|time|vehicles?|wom[ae]n)\b(?!-)/i,lookbehind:!0,alias:"variable"},punctuation:/[.,:;(){}]/},e.languages.inform7.string.inside.substitution.inside.rest=e.languages.inform7,e.languages.inform7.string.inside.substitution.inside.rest.text={pattern:/\S(?:\s*\S)*/,alias:"comment"}}n6.displayName="io";n6.aliases=[];function n6(e){e.languages.io={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\/\/.*|#.*)/,lookbehind:!0,greedy:!0},"triple-quoted-string":{pattern:/"""(?:\\[\s\S]|(?!""")[^\\])*"""/,greedy:!0,alias:"string"},string:{pattern:/"(?:\\.|[^\\\r\n"])*"/,greedy:!0},keyword:/\b(?:activate|activeCoroCount|asString|block|break|call|catch|clone|collectGarbage|compileString|continue|do|doFile|doMessage|doString|else|elseif|exit|for|foreach|forward|getEnvironmentVariable|getSlot|hasSlot|if|ifFalse|ifNil|ifNilEval|ifTrue|isActive|isNil|isResumable|list|message|method|parent|pass|pause|perform|performWithArgList|print|println|proto|raise|raiseResumable|removeSlot|resend|resume|schedulerSleepSeconds|self|sender|setSchedulerSleepSeconds|setSlot|shallowCopy|slotNames|super|system|then|thisBlock|thisContext|try|type|uniqueId|updateSlot|wait|while|write|yield)\b/,builtin:/\b(?:Array|AudioDevice|AudioMixer|BigNum|Block|Box|Buffer|CFunction|CGI|Color|Curses|DBM|DNSResolver|DOConnection|DOProxy|DOServer|Date|Directory|Duration|DynLib|Error|Exception|FFT|File|Fnmatch|Font|Future|GL|GLE|GLScissor|GLU|GLUCylinder|GLUQuadric|GLUSphere|GLUT|Host|Image|Importer|LinkList|List|Lobby|Locals|MD5|MP3Decoder|MP3Encoder|Map|Message|Movie|Notification|Number|Object|OpenGL|Point|Protos|Random|Regex|SGML|SGMLElement|SGMLParser|SQLite|Sequence|Server|ShowMessage|SleepyCat|SleepyCatCursor|Socket|SocketManager|Sound|Soup|Store|String|Tree|UDPSender|UPDReceiver|URL|User|Warning|WeakLink)\b/,boolean:/\b(?:false|nil|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e-?\d+)?/i,operator:/[=!*/%+\-^&|]=|>>?=?|<<?=?|:?:?=|\+\+?|--?|\*\*?|\/\/?|%|\|\|?|&&?|\b(?:and|not|or|return)\b|@@?|\?\??|\.\./,punctuation:/[{}[\];(),.:]/}}r6.displayName="j";r6.aliases=[];function r6(e){e.languages.j={comment:{pattern:/\bNB\..*/,greedy:!0},string:{pattern:/'(?:''|[^'\r\n])*'/,greedy:!0},keyword:/\b(?:(?:CR|LF|adverb|conjunction|def|define|dyad|monad|noun|verb)\b|(?:assert|break|case|catch[dt]?|continue|do|else|elseif|end|fcase|for|for_\w+|goto_\w+|if|label_\w+|return|select|throw|try|while|whilst)\.)/,verb:{pattern:/(?!\^:|;\.|[=!][.:])(?:\{(?:\.|::?)?|p(?:\.\.?|:)|[=!\]]|[<>+*\-%$|,#][.:]?|[?^]\.?|[;\[]:?|[~}"i][.:]|[ACeEIjLor]\.|(?:[_\/\\qsux]|_?\d):)/,alias:"keyword"},number:/\b_?(?:(?!\d:)\d+(?:\.\d+)?(?:(?:ad|ar|[ejpx])_?\d+(?:\.\d+)?)*(?:b_?[\da-z]+(?:\.[\da-z]+)?)?|_\b(?!\.))/,adverb:{pattern:/[~}]|[\/\\]\.?|[bfM]\.|t[.:]/,alias:"builtin"},operator:/[=a][.:]|_\./,conjunction:{pattern:/&(?:\.:?|:)?|[.:@][.:]?|[!D][.:]|[;dHT]\.|`:?|[\^LS]:|"/,alias:"variable"},punctuation:/[()]/}}bw.displayName="javadoclike";bw.aliases=[];function bw(e){(function(t){var n=t.languages.javadoclike={parameter:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*@(?:arg|arguments|param)\s+)\w+/m,lookbehind:!0},keyword:{pattern:/(^[\t ]*(?:\/{3}|\*|\/\*\*)\s*|\{)@[a-z][a-zA-Z-]+\b/m,lookbehind:!0},punctuation:/[{}]/};function r(l,u){var i="doc-comment",m=t.languages[l];if(m){var b=m[i];if(!b){var _={};_[i]={pattern:/(^|[^\\])\/\*\*[^/][\s\S]*?(?:\*\/|$)/,lookbehind:!0,alias:"comment"},m=t.languages.insertBefore(l,"comment",_),b=m[i]}if(b instanceof RegExp&&(b=m[i]={pattern:b}),Array.isArray(b))for(var w=0,M=b.length;w<M;w++)b[w]instanceof RegExp&&(b[w]={pattern:b[w]}),u(b[w]);else u(b)}}function a(l,u){typeof l=="string"&&(l=[l]),l.forEach(function(i){r(i,function(m){m.inside||(m.inside={}),m.inside.rest=u})})}Object.defineProperty(n,"addSupport",{value:a}),n.addSupport(["java","javascript","php"],n)})(e)}a6.displayName="scala";a6.aliases=[];function a6(e){e.register(G1),e.languages.scala=e.languages.extend("java",{"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:/<-|=>|\b(?:abstract|case|catch|class|def|derives|do|else|enum|extends|extension|final|finally|for|forSome|given|if|implicit|import|infix|inline|lazy|match|new|null|object|opaque|open|override|package|private|protected|return|sealed|self|super|this|throw|trait|transparent|try|type|using|val|var|while|with|yield)\b/,number:/\b0x(?:[\da-f]*\.)?[\da-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e\d+)?[dfl]?/i,builtin:/\b(?:Any|AnyRef|AnyVal|Boolean|Byte|Char|Double|Float|Int|Long|Nothing|Short|String|Unit)\b/,symbol:/'[^\d\s\\]\w*/}),e.languages.insertBefore("scala","triple-quoted-string",{"string-interpolation":{pattern:/\b[a-z]\w*(?:"""(?:[^$]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*?"""|"(?:[^$"\r\n]|\$(?:[^{]|\{(?:[^{}]|\{[^{}]*\})*\}))*")/i,greedy:!0,inside:{id:{pattern:/^\w+/,greedy:!0,alias:"function"},escape:{pattern:/\\\$"|\$[$"]/,greedy:!0,alias:"symbol"},interpolation:{pattern:/\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,greedy:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:e.languages.scala}}},string:/[\s\S]+/}}}),delete e.languages.scala["class-name"],delete e.languages.scala.function,delete e.languages.scala.constant}i6.displayName="javadoc";i6.aliases=[];function i6(e){e.register(G1),e.register(bw),e.register(nc),(function(t){var n=/(^(?:[\t ]*(?:\*\s*)*))[^*\s].*$/m,r=/#\s*\w+(?:\s*\([^()]*\))?/.source,a=/(?:\b[a-zA-Z]\w+\s*\.\s*)*\b[A-Z]\w*(?:\s*<mem>)?|<mem>/.source.replace(/<mem>/g,function(){return r});t.languages.javadoc=t.languages.extend("javadoclike",{}),t.languages.insertBefore("javadoc","keyword",{reference:{pattern:RegExp(/(@(?:exception|link|linkplain|see|throws|value)\s+(?:\*\s*)?)/.source+"(?:"+a+")"),lookbehind:!0,inside:{function:{pattern:/(#\s*)\w+(?=\s*\()/,lookbehind:!0},field:{pattern:/(#\s*)\w+/,lookbehind:!0},namespace:{pattern:/\b(?:[a-z]\w*\s*\.\s*)+/,inside:{punctuation:/\./}},"class-name":/\b[A-Z]\w*/,keyword:t.languages.java.keyword,punctuation:/[#()[\],.]/}},"class-name":{pattern:/(@param\s+)<[A-Z]\w*>/,lookbehind:!0,inside:{punctuation:/[.<>]/}},"code-section":[{pattern:/(\{@code\s+(?!\s))(?:[^\s{}]|\s+(?![\s}])|\{(?:[^{}]|\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})*\})*\})+(?=\s*\})/,lookbehind:!0,inside:{code:{pattern:n,lookbehind:!0,inside:t.languages.java,alias:"language-java"}}},{pattern:/(<(code|pre|tt)>(?!<code>)\s*)\S(?:\S|\s+\S)*?(?=\s*<\/\2>)/,lookbehind:!0,inside:{line:{pattern:n,lookbehind:!0,inside:{tag:t.languages.markup.tag,entity:t.languages.markup.entity,code:{pattern:/.+/,inside:t.languages.java,alias:"language-java"}}}}}],tag:t.languages.markup.tag,entity:t.languages.markup.entity}),t.languages.javadoclike.addSupport("java",t.languages.javadoc)})(e)}o6.displayName="javastacktrace";o6.aliases=[];function o6(e){e.languages.javastacktrace={summary:{pattern:/^([\t ]*)(?:(?:Caused by:|Suppressed:|Exception in thread "[^"]*")[\t ]+)?[\w$.]+(?::.*)?$/m,lookbehind:!0,inside:{keyword:{pattern:/^([\t ]*)(?:(?:Caused by|Suppressed)(?=:)|Exception in thread)/m,lookbehind:!0},string:{pattern:/^(\s*)"[^"]*"/,lookbehind:!0},exceptions:{pattern:/^(:?\s*)[\w$.]+(?=:|$)/,lookbehind:!0,inside:{"class-name":/[\w$]+$/,namespace:/\b[a-z]\w*\b/,punctuation:/\./}},message:{pattern:/(:\s*)\S.*/,lookbehind:!0,alias:"string"},punctuation:/:/}},"stack-frame":{pattern:/^([\t ]*)at (?:[\w$./]|@[\w$.+-]*\/)+(?:<init>)?\([^()]*\)/m,lookbehind:!0,inside:{keyword:{pattern:/^(\s*)at(?= )/,lookbehind:!0},source:[{pattern:/(\()\w+\.\w+:\d+(?=\))/,lookbehind:!0,inside:{file:/^\w+\.\w+/,punctuation:/:/,"line-number":{pattern:/\b\d+\b/,alias:"number"}}},{pattern:/(\()[^()]*(?=\))/,lookbehind:!0,inside:{keyword:/^(?:Native Method|Unknown Source)$/}}],"class-name":/[\w$]+(?=\.(?:<init>|[\w$]+)\()/,function:/(?:<init>|[\w$]+)(?=\()/,"class-loader":{pattern:/(\s)[a-z]\w*(?:\.[a-z]\w*)*(?=\/[\w@$.]*\/)/,lookbehind:!0,alias:"namespace",inside:{punctuation:/\./}},module:{pattern:/([\s/])[a-z]\w*(?:\.[a-z]\w*)*(?:@[\w$.+-]*)?(?=\/)/,lookbehind:!0,inside:{version:{pattern:/(@)[\s\S]+/,lookbehind:!0,alias:"number"},punctuation:/[@.]/}},namespace:{pattern:/(?:\b[a-z]\w*\.)+/,inside:{punctuation:/\./}},punctuation:/[()/.]/}},more:{pattern:/^([\t ]*)\.{3} \d+ [a-z]+(?: [a-z]+)*/m,lookbehind:!0,inside:{punctuation:/\.{3}/,number:/\d+/,keyword:/\b[a-z]+(?: [a-z]+)*\b/}}}}s6.displayName="jexl";s6.aliases=[];function s6(e){e.languages.jexl={string:/(["'])(?:\\[\s\S]|(?!\1)[^\\])*\1/,transform:{pattern:/(\|\s*)[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*/,alias:"function",lookbehind:!0},function:/[a-zA-Z--_\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$][\w--\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u00FF$]*\s*(?=\()/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+\b/,operator:/[<>!]=?|-|\+|&&|==|\|\|?|\/\/?|[?:*^%]/,boolean:/\b(?:false|true)\b/,keyword:/\bin\b/,punctuation:/[{}[\](),.]/}}l6.displayName="jolie";l6.aliases=[];function l6(e){e.register(si),e.languages.jolie=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\[\s\S]|[^"\\])*"/,lookbehind:!0,greedy:!0},"class-name":{pattern:/((?:\b(?:as|courier|embed|in|inputPort|outputPort|service)\b|@)[ \t]*)\w+/,lookbehind:!0},keyword:/\b(?:as|cH|comp|concurrent|constants|courier|cset|csets|default|define|else|embed|embedded|execution|exit|extender|for|foreach|forward|from|global|if|import|in|include|init|inputPort|install|instanceof|interface|is_defined|linkIn|linkOut|main|new|nullProcess|outputPort|over|private|provide|public|scope|sequential|service|single|spawn|synchronized|this|throw|throws|type|undef|until|while|with)\b/,function:/\b[a-z_]\w*(?=[ \t]*[@(])/i,number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?l?/i,operator:/-[-=>]?|\+[+=]?|<[<=]?|[>=*!]=?|&&|\|\||[?\/%^@|]/,punctuation:/[()[\]{},;.:]/,builtin:/\b(?:Byte|any|bool|char|double|enum|float|int|length|long|ranges|regex|string|undefined|void)\b/}),e.languages.insertBefore("jolie","keyword",{aggregates:{pattern:/(\bAggregates\s*:\s*)(?:\w+(?:\s+with\s+\w+)?\s*,\s*)*\w+(?:\s+with\s+\w+)?/,lookbehind:!0,inside:{keyword:/\bwith\b/,"class-name":/\w+/,punctuation:/,/}},redirects:{pattern:/(\bRedirects\s*:\s*)(?:\w+\s*=>\s*\w+\s*,\s*)*(?:\w+\s*=>\s*\w+)/,lookbehind:!0,inside:{punctuation:/,/,"class-name":/\w+/,operator:/=>/}},property:{pattern:/\b(?:Aggregates|[Ii]nterfaces|Java|Javascript|Jolie|[Ll]ocation|OneWay|[Pp]rotocol|Redirects|RequestResponse)\b(?=[ \t]*:)/}})}u6.displayName="jq";u6.aliases=[];function u6(e){(function(t){var n=/\\\((?:[^()]|\([^()]*\))*\)/.source,r=RegExp(/(^|[^\\])"(?:[^"\r\n\\]|\\[^\r\n(]|__)*"/.source.replace(/__/g,function(){return n})),a={interpolation:{pattern:RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+n),lookbehind:!0,inside:{content:{pattern:/^(\\\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:null},punctuation:/^\\\(|\)$/}}},l=t.languages.jq={comment:/#.*/,property:{pattern:RegExp(r.source+/(?=\s*:(?!:))/.source),lookbehind:!0,greedy:!0,inside:a},string:{pattern:r,lookbehind:!0,greedy:!0,inside:a},function:{pattern:/(\bdef\s+)[a-z_]\w+/i,lookbehind:!0},variable:/\B\$\w+/,"property-literal":{pattern:/\b[a-z_]\w*(?=\s*:(?!:))/i,alias:"property"},keyword:/\b(?:as|break|catch|def|elif|else|end|foreach|if|import|include|label|module|modulemeta|null|reduce|then|try|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b\d+\.|\B\.)?\b\d+(?:[eE][+-]?\d+)?\b/,operator:[{pattern:/\|=?/,alias:"pipe"},/\.\.|[!=<>]?=|\?\/\/|\/\/=?|[-+*/%]=?|[<>?]|\b(?:and|not|or)\b/],"c-style-function":{pattern:/\b[a-z_]\w*(?=\s*\()/i,alias:"function"},punctuation:/::|[()\[\]{},:;]|\.(?=\s*[\[\w$])/,dot:{pattern:/\./,alias:"important"}};a.interpolation.inside.content.inside=l})(e)}c6.displayName="js-templates";c6.aliases=[];function c6(e){e.register(Fc),(function(t){var n=t.languages.javascript["template-string"],r=n.pattern.source,a=n.inside.interpolation,l=a.inside["interpolation-punctuation"],u=a.pattern.source;function i(j,G){if(t.languages[j])return{pattern:RegExp("((?:"+G+")\\s*)"+r),lookbehind:!0,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},"embedded-code":{pattern:/[\s\S]+/,alias:j}}}}t.languages.javascript["template-string"]=[i("css",/\b(?:styled(?:\([^)]*\))?(?:\s*\.\s*\w+(?:\([^)]*\))*)*|css(?:\s*\.\s*(?:global|resolve))?|createGlobalStyle|keyframes)/.source),i("html",/\bhtml|\.\s*(?:inner|outer)HTML\s*\+?=/.source),i("svg",/\bsvg/.source),i("markdown",/\b(?:markdown|md)/.source),i("graphql",/\b(?:gql|graphql(?:\s*\.\s*experimental)?)/.source),i("sql",/\bsql/.source),n].filter(Boolean);function m(j,G){return"___"+G.toUpperCase()+"_"+j+"___"}function b(j,G,z){var q={code:j,grammar:G,language:z};return t.hooks.run("before-tokenize",q),q.tokens=t.tokenize(q.code,q.grammar),t.hooks.run("after-tokenize",q),q.tokens}function _(j){var G={};G["interpolation-punctuation"]=l;var z=t.tokenize(j,G);if(z.length===3){var q=[1,1];q.push.apply(q,b(z[1],t.languages.javascript,"javascript")),z.splice.apply(z,q)}return new t.Token("interpolation",z,a.alias,j)}function w(j,G,z){var q=t.tokenize(j,{interpolation:{pattern:RegExp(u),lookbehind:!0}}),Y=0,J={},ne=q.map(function(K){if(typeof K=="string")return K;for(var se=K.content,pe;j.indexOf(pe=m(Y++,z))!==-1;);return J[pe]=se,pe}).join(""),ie=b(ne,G,z),ue=Object.keys(J);Y=0;function oe(K){for(var se=0;se<K.length;se++){if(Y>=ue.length)return;var pe=K[se];if(typeof pe=="string"||typeof pe.content=="string"){var ve=ue[Y],Te=typeof pe=="string"?pe:pe.content,Me=Te.indexOf(ve);if(Me!==-1){++Y;var xe=Te.substring(0,Me),Se=_(J[ve]),he=Te.substring(Me+ve.length),we=[];if(xe&&we.push(xe),we.push(Se),he){var _e=[he];oe(_e),we.push.apply(we,_e)}typeof pe=="string"?(K.splice.apply(K,[se,1].concat(we)),se+=we.length-1):pe.content=we}}else{var Be=pe.content;Array.isArray(Be)?oe(Be):oe([Be])}}}return oe(ie),new t.Token(z,ie,"language-"+z,j)}var M={javascript:!0,js:!0,typescript:!0,ts:!0,jsx:!0,tsx:!0};t.hooks.add("after-tokenize",function(j){if(!(j.language in M))return;function G(z){for(var q=0,Y=z.length;q<Y;q++){var J=z[q];if(typeof J!="string"){var ne=J.content;if(!Array.isArray(ne)){typeof ne!="string"&&G([ne]);continue}if(J.type==="template-string"){var ie=ne[1];if(ne.length===3&&typeof ie!="string"&&ie.type==="embedded-code"){var ue=P(ie),oe=ie.alias,K=Array.isArray(oe)?oe[0]:oe,se=t.languages[K];if(!se)continue;ne[1]=w(ue,se,K)}}else G(ne)}}}G(j.tokens)});function P(j){return typeof j=="string"?j:Array.isArray(j)?j.map(P).join(""):P(j.content)}})(e)}d6.displayName="jsdoc";d6.aliases=[];function d6(e){e.register(bw),e.register(Fc),e.register(gw),(function(t){var n=t.languages.javascript,r=/\{(?:[^{}]|\{(?:[^{}]|\{[^{}]*\})*\})+\}/.source,a="(@(?:arg|argument|param|property)\\s+(?:"+r+"\\s+)?)";t.languages.jsdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp(a+/(?:(?!\s)[$\w\xA0-\uFFFF.])+(?=\s|$)/.source),lookbehind:!0,inside:{punctuation:/\./}}}),t.languages.insertBefore("jsdoc","keyword",{"optional-parameter":{pattern:RegExp(a+/\[(?:(?!\s)[$\w\xA0-\uFFFF.])+(?:=[^[\]]+)?\](?=\s|$)/.source),lookbehind:!0,inside:{parameter:{pattern:/(^\[)[$\w\xA0-\uFFFF\.]+/,lookbehind:!0,inside:{punctuation:/\./}},code:{pattern:/(=)[\s\S]*(?=\]$)/,lookbehind:!0,inside:n,alias:"language-javascript"},punctuation:/[=[\]]/}},"class-name":[{pattern:RegExp(/(@(?:augments|class|extends|interface|memberof!?|template|this|typedef)\s+(?:<TYPE>\s+)?)[A-Z]\w*(?:\.[A-Z]\w*)*/.source.replace(/<TYPE>/g,function(){return r})),lookbehind:!0,inside:{punctuation:/\./}},{pattern:RegExp("(@[a-z]+\\s+)"+r),lookbehind:!0,inside:{string:n.string,number:n.number,boolean:n.boolean,keyword:t.languages.typescript.keyword,operator:/=>|\.\.\.|[&|?:*]/,punctuation:/[.,;=<>{}()[\]]/}}],example:{pattern:/(@example\s+(?!\s))(?:[^@\s]|\s+(?!\s))+?(?=\s*(?:\*\s*)?(?:@\w|\*\/))/,lookbehind:!0,inside:{code:{pattern:/^([\t ]*(?:\*\s*)?)\S.*$/m,lookbehind:!0,inside:n,alias:"language-javascript"}}}}),t.languages.javadoclike.addSupport("javascript",t.languages.jsdoc)})(e)}f6.displayName="n4js";f6.aliases=["n4jsd"];function f6(e){e.register(Fc),e.languages.n4js=e.languages.extend("javascript",{keyword:/\b(?:Array|any|boolean|break|case|catch|class|const|constructor|continue|debugger|declare|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|module|new|null|number|package|private|protected|public|return|set|static|string|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/}),e.languages.insertBefore("n4js","constant",{annotation:{pattern:/@+\w+/,alias:"operator"}}),e.languages.n4jsd=e.languages.n4js}h6.displayName="js-extras";h6.aliases=[];function h6(e){e.register(Fc),(function(t){t.languages.insertBefore("javascript","function-variable",{"method-variable":{pattern:RegExp("(\\.\\s*)"+t.languages.javascript["function-variable"].pattern.source),lookbehind:!0,alias:["function-variable","method","function","property-access"]}}),t.languages.insertBefore("javascript","function",{method:{pattern:RegExp("(\\.\\s*)"+t.languages.javascript.function.source),lookbehind:!0,alias:["function","property-access"]}}),t.languages.insertBefore("javascript","constant",{"known-class-name":[{pattern:/\b(?:(?:Float(?:32|64)|(?:Int|Uint)(?:8|16|32)|Uint8Clamped)?Array|ArrayBuffer|BigInt|Boolean|DataView|Date|Error|Function|Intl|JSON|(?:Weak)?(?:Map|Set)|Math|Number|Object|Promise|Proxy|Reflect|RegExp|String|Symbol|WebAssembly)\b/,alias:"class-name"},{pattern:/\b(?:[A-Z]\w*)Error\b/,alias:"class-name"}]});function n(m,b){return RegExp(m.replace(/<ID>/g,function(){return/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/.source}),b)}t.languages.insertBefore("javascript","keyword",{imports:{pattern:n(/(\bimport\b\s*)(?:<ID>(?:\s*,\s*(?:\*\s*as\s+<ID>|\{[^{}]*\}))?|\*\s*as\s+<ID>|\{[^{}]*\})(?=\s*\bfrom\b)/.source),lookbehind:!0,inside:t.languages.javascript},exports:{pattern:n(/(\bexport\b\s*)(?:\*(?:\s*as\s+<ID>)?(?=\s*\bfrom\b)|\{[^{}]*\})/.source),lookbehind:!0,inside:t.languages.javascript}}),t.languages.javascript.keyword.unshift({pattern:/\b(?:as|default|export|from|import)\b/,alias:"module"},{pattern:/\b(?:await|break|catch|continue|do|else|finally|for|if|return|switch|throw|try|while|yield)\b/,alias:"control-flow"},{pattern:/\bnull\b/,alias:["null","nil"]},{pattern:/\bundefined\b/,alias:"nil"}),t.languages.insertBefore("javascript","operator",{spread:{pattern:/\.{3}/,alias:"operator"},arrow:{pattern:/=>/,alias:"operator"}}),t.languages.insertBefore("javascript","punctuation",{"property-access":{pattern:n(/(\.\s*)#?<ID>/.source),lookbehind:!0},"maybe-class-name":{pattern:/(^|[^$\w\xA0-\uFFFF])[A-Z][$\w\xA0-\uFFFF]+/,lookbehind:!0},dom:{pattern:/\b(?:document|(?:local|session)Storage|location|navigator|performance|window)\b/,alias:"variable"},console:{pattern:/\bconsole(?=\s*\.)/,alias:"class-name"}});for(var r=["function","function-variable","method","method-variable","property-access"],a=0;a<r.length;a++){var l=r[a],u=t.languages.javascript[l];t.util.type(u)==="RegExp"&&(u=t.languages.javascript[l]={pattern:u});var i=u.inside||{};u.inside=i,i["maybe-class-name"]=/^[A-Z][\s\S]*/}})(e)}p6.displayName="json5";p6.aliases=[];function p6(e){e.register(pw),(function(t){var n=/("|')(?:\\(?:\r\n?|\n|.)|(?!\1)[^\\\r\n])*\1/;t.languages.json5=t.languages.extend("json",{property:[{pattern:RegExp(n.source+"(?=\\s*:)"),greedy:!0},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/,alias:"unquoted"}],string:{pattern:n,greedy:!0},number:/[+-]?\b(?:NaN|Infinity|0x[a-fA-F\d]+)\b|[+-]?(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+\b)?/})})(e)}m6.displayName="jsonp";m6.aliases=[];function m6(e){e.register(pw),e.languages.jsonp=e.languages.extend("json",{punctuation:/[{}[\]();,.]/}),e.languages.insertBefore("jsonp","punctuation",{function:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*\()/})}g6.displayName="jsstacktrace";g6.aliases=[];function g6(e){e.languages.jsstacktrace={"error-message":{pattern:/^\S.*/m,alias:"string"},"stack-frame":{pattern:/(^[ \t]+)at[ \t].*/m,lookbehind:!0,inside:{"not-my-code":{pattern:/^at[ \t]+(?!\s)(?:node\.js|<unknown>|.*(?:node_modules|\(<anonymous>\)|\(<unknown>|<anonymous>$|\(internal\/|\(node\.js)).*/m,alias:"comment"},filename:{pattern:/(\bat\s+(?!\s)|\()(?:[a-zA-Z]:)?[^():]+(?=:)/,lookbehind:!0,alias:"url"},function:{pattern:/(\bat\s+(?:new\s+)?)(?!\s)[_$a-zA-Z\xA0-\uFFFF<][.$\w\xA0-\uFFFF<>]*/,lookbehind:!0,inside:{punctuation:/\./}},punctuation:/[()]/,keyword:/\b(?:at|new)\b/,alias:{pattern:/\[(?:as\s+)?(?!\s)[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\]/,alias:"variable"},"line-number":{pattern:/:\d+(?::\d+)?\b/,alias:"number",inside:{punctuation:/:/}}}}}}y6.displayName="julia";y6.aliases=[];function y6(e){e.languages.julia={comment:{pattern:/(^|[^\\])(?:#=(?:[^#=]|=(?!#)|#(?!=)|#=(?:[^#=]|=(?!#)|#(?!=))*=#)*=#|#.*)/,lookbehind:!0},regex:{pattern:/r"(?:\\.|[^"\\\r\n])*"[imsx]{0,4}/,greedy:!0},string:{pattern:/"""[\s\S]+?"""|(?:\b\w+)?"(?:\\.|[^"\\\r\n])*"|`(?:[^\\`\r\n]|\\.)*`/,greedy:!0},char:{pattern:/(^|[^\w'])'(?:\\[^\r\n][^'\r\n]*|[^\\\r\n])'/,lookbehind:!0,greedy:!0},keyword:/\b(?:abstract|baremodule|begin|bitstype|break|catch|ccall|const|continue|do|else|elseif|end|export|finally|for|function|global|if|immutable|import|importall|in|let|local|macro|module|print|println|quote|return|struct|try|type|typealias|using|while)\b/,boolean:/\b(?:false|true)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[box])?(?:[\da-f]+(?:_[\da-f]+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[efp][+-]?\d+(?:_\d+)*)?j?/i,operator:/&&|\|\||[-+*^%&$\\]=?|\/[\/=]?|!=?=?|\|[=>]?|<(?:<=?|[=:|])?|>(?:=|>>?=?)?|==?=?|[~']/,punctuation:/::?|[{}[\]();,.?]/,constant:/\b(?:(?:Inf|NaN)(?:16|32|64)?|im|pi)\b|[]/}}v6.displayName="keepalived";v6.aliases=[];function v6(e){e.languages.keepalived={comment:{pattern:/[#!].*/,greedy:!0},string:{pattern:/(^|[^\\])(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,lookbehind:!0,greedy:!0},ip:{pattern:RegExp(/\b(?:(?:(?:[\da-f]{1,4}:){7}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}:[\da-f]{1,4}|(?:[\da-f]{1,4}:){5}:(?:[\da-f]{1,4}:)?[\da-f]{1,4}|(?:[\da-f]{1,4}:){4}:(?:[\da-f]{1,4}:){0,2}[\da-f]{1,4}|(?:[\da-f]{1,4}:){3}:(?:[\da-f]{1,4}:){0,3}[\da-f]{1,4}|(?:[\da-f]{1,4}:){2}:(?:[\da-f]{1,4}:){0,4}[\da-f]{1,4}|(?:[\da-f]{1,4}:){6}<ipv4>|(?:[\da-f]{1,4}:){0,5}:<ipv4>|::(?:[\da-f]{1,4}:){0,5}<ipv4>|[\da-f]{1,4}::(?:[\da-f]{1,4}:){0,5}[\da-f]{1,4}|::(?:[\da-f]{1,4}:){0,6}[\da-f]{1,4}|(?:[\da-f]{1,4}:){1,7}:)(?:\/\d{1,3})?|<ipv4>(?:\/\d{1,2})?)\b/.source.replace(/<ipv4>/g,function(){return/(?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]\d|\d))/.source}),"i"),alias:"number"},path:{pattern:/(\s)\/(?:[^\/\s]+\/)*[^\/\s]*|\b[a-zA-Z]:\\(?:[^\\\s]+\\)*[^\\\s]*/,lookbehind:!0,alias:"string"},variable:/\$\{?\w+\}?/,email:{pattern:/[\w-]+@[\w-]+(?:\.[\w-]{2,3}){1,2}/,alias:"string"},"conditional-configuration":{pattern:/@\^?[\w-]+/,alias:"variable"},operator:/=/,property:/\b(?:BFD_CHECK|DNS_CHECK|FILE_CHECK|HTTP_GET|MISC_CHECK|NAME|PING_CHECK|SCRIPTS|SMTP_CHECK|SSL|SSL_GET|TCP_CHECK|UDP_CHECK|accept|advert_int|alpha|auth_pass|auth_type|authentication|bfd_cpu_affinity|bfd_instance|bfd_no_swap|bfd_priority|bfd_process_name|bfd_rlimit_rttime|bfd_rt_priority|bind_if|bind_port|bindto|ca|certificate|check_unicast_src|checker|checker_cpu_affinity|checker_log_all_failures|checker_no_swap|checker_priority|checker_rlimit_rttime|checker_rt_priority|child_wait_time|connect_ip|connect_port|connect_timeout|dbus_service_name|debug|default_interface|delay|delay_before_retry|delay_loop|digest|dont_track_primary|dynamic|dynamic_interfaces|enable_(?:dbus|script_security|sni|snmp_checker|snmp_rfc|snmp_rfcv2|snmp_rfcv3|snmp_vrrp|traps)|end|fall|fast_recovery|file|flag-[123]|fork_delay|full_command|fwmark|garp_group|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|global_defs|global_tracking|gna_interval|group|ha_suspend|hashed|helo_name|higher_prio_send_advert|hoplimit|http_protocol|hysteresis|idle_tx|include|inhibit_on_failure|init_fail|init_file|instance|interface|interfaces|interval|ip_family|ipvs_process_name|keepalived.conf|kernel_rx_buf_size|key|linkbeat_interfaces|linkbeat_use_polling|log_all_failures|log_unknown_vrids|lower_prio_no_advert|lthreshold|lvs_flush|lvs_flush_onstop|lvs_method|lvs_netlink_cmd_rcv_bufs|lvs_netlink_cmd_rcv_bufs_force|lvs_netlink_monitor_rcv_bufs|lvs_netlink_monitor_rcv_bufs_force|lvs_notify_fifo|lvs_notify_fifo_script|lvs_sched|lvs_sync_daemon|max_auto_priority|max_hops|mcast_src_ip|mh-fallback|mh-port|min_auto_priority_delay|min_rx|min_tx|misc_dynamic|misc_path|misc_timeout|multiplier|name|namespace_with_ipsets|native_ipv6|neighbor_ip|net_namespace|net_namespace_ipvs|nftables|nftables_counters|nftables_ifindex|nftables_priority|no_accept|no_checker_emails|no_email_faults|nopreempt|notification_email|notification_email_from|notify|notify_backup|notify_deleted|notify_down|notify_fault|notify_fifo|notify_fifo_script|notify_master|notify_master_rx_lower_pri|notify_priority_changes|notify_stop|notify_up|old_unicast_checksum|omega|ops|param_match|passive|password|path|persistence_engine|persistence_granularity|persistence_timeout|preempt|preempt_delay|priority|process|process_monitor_rcv_bufs|process_monitor_rcv_bufs_force|process_name|process_names|promote_secondaries|protocol|proxy_arp|proxy_arp_pvlan|quorum|quorum_down|quorum_max|quorum_up|random_seed|real_server|regex|regex_max_offset|regex_min_offset|regex_no_match|regex_options|regex_stack|reload_repeat|reload_time_file|require_reply|retry|rise|router_id|rs_init_notifies|script|script_user|sh-fallback|sh-port|shutdown_script|shutdown_script_timeout|skip_check_adv_addr|smtp_alert|smtp_alert_checker|smtp_alert_vrrp|smtp_connect_timeout|smtp_helo_name|smtp_server|snmp_socket|sorry_server|sorry_server_inhibit|sorry_server_lvs_method|source_ip|start|startup_script|startup_script_timeout|state|static_ipaddress|static_routes|static_rules|status_code|step|strict_mode|sync_group_tracking_weight|terminate_delay|timeout|track_bfd|track_file|track_group|track_interface|track_process|track_script|track_src_ip|ttl|type|umask|unicast_peer|unicast_src_ip|unicast_ttl|url|use_ipvlan|use_pid_dir|use_vmac|user|uthreshold|val[123]|version|virtual_ipaddress|virtual_ipaddress_excluded|virtual_router_id|virtual_routes|virtual_rules|virtual_server|virtual_server_group|virtualhost|vmac_xmit_base|vrrp|vrrp_(?:check_unicast_src|cpu_affinity|garp_interval|garp_lower_prio_delay|garp_lower_prio_repeat|garp_master_delay|garp_master_refresh|garp_master_refresh_repeat|garp_master_repeat|gna_interval|higher_prio_send_advert|instance|ipsets|iptables|lower_prio_no_advert|mcast_group4|mcast_group6|min_garp|netlink_cmd_rcv_bufs|netlink_cmd_rcv_bufs_force|netlink_monitor_rcv_bufs|netlink_monitor_rcv_bufs_force|no_swap|notify_fifo|notify_fifo_script|notify_priority_changes|priority|process_name|rlimit_rttime|rt_priority|rx_bufs_multiplier|rx_bufs_policy|script|skip_check_adv_addr|startup_delay|strict|sync_group|track_process|version)|warmup|weight)\b/,constant:/\b(?:A|AAAA|AH|BACKUP|CNAME|DR|MASTER|MX|NAT|NS|PASS|SCTP|SOA|TCP|TUN|TXT|UDP|dh|fo|lblc|lblcr|lc|mh|nq|ovf|rr|sed|sh|wlc|wrr)\b/,number:{pattern:/(^|[^\w.-])-?\d+(?:\.\d+)?/,lookbehind:!0},boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\{\}]/}}b6.displayName="keyman";b6.aliases=[];function b6(e){e.languages.keyman={comment:{pattern:/\bc .*/i,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0},"virtual-key":{pattern:/\[\s*(?:(?:ALT|CAPS|CTRL|LALT|LCTRL|NCAPS|RALT|RCTRL|SHIFT)\s+)*(?:[TKU]_[\w?]+|[A-E]\d\d?|"[^"\r\n]*"|'[^'\r\n]*')\s*\]/i,greedy:!0,alias:"function"},"header-keyword":{pattern:/&\w+/,alias:"bold"},"header-statement":{pattern:/\b(?:bitmap|bitmaps|caps always off|caps on only|copyright|hotkey|language|layout|message|name|shift frees caps|version)\b/i,alias:"bold"},"rule-keyword":{pattern:/\b(?:any|baselayout|beep|call|context|deadkey|dk|if|index|layer|notany|nul|outs|platform|reset|return|save|set|store|use)\b/i,alias:"keyword"},"structural-keyword":{pattern:/\b(?:ansi|begin|group|match|newcontext|nomatch|postkeystroke|readonly|unicode|using keys)\b/i,alias:"keyword"},"compile-target":{pattern:/\$(?:keyman|keymanonly|keymanweb|kmfl|weaver):/i,alias:"property"},number:/\b(?:U\+[\dA-F]+|d\d+|x[\da-f]+|\d+)\b/i,operator:/[+>\\$]|\.\./,punctuation:/[()=,]/}}_6.displayName="kumir";_6.aliases=["kum"];function _6(e){(function(t){var n=/\s\x00-\x1f\x22-\x2f\x3a-\x3f\x5b-\x5e\x60\x7b-\x7e/.source;function r(a,l){return RegExp(a.replace(/<nonId>/g,n),l)}t.languages.kumir={comment:{pattern:/\|.*/},prolog:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^\n\r"]*"|'[^\n\r']*'/,greedy:!0},boolean:{pattern:r(/(^|[<nonId>])(?:|)(?=[<nonId>]|$)/.source),lookbehind:!0},"operator-word":{pattern:r(/(^|[<nonId>])(?:||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},"system-variable":{pattern:r(/(^|[<nonId>])(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"keyword"},type:[{pattern:r(/(^|[<nonId>])(?:||||)(?:\x20*)?(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"builtin"},{pattern:r(/(^|[<nonId>])(?:|||)(?=[<nonId>]|$)/.source),lookbehind:!0,alias:"important"}],keyword:{pattern:r(/(^|[<nonId>])(?:|(?:\x20*)?|||[]||||||||||||(?:(?:\x20+|_))?|(?:(?:\x20+|_))?|||||||||?||||||)(?=[<nonId>]|$)/.source),lookbehind:!0},name:{pattern:r(/(^|[<nonId>])[^\d<nonId>][^<nonId>]*(?:\x20+[^<nonId>]+)*(?=[<nonId>]|$)/.source),lookbehind:!0},number:{pattern:r(/(^|[<nonId>])(?:\B\$[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?=[<nonId>]|$)/.source,"i"),lookbehind:!0},punctuation:/:=|[(),:;\[\]]/,"operator-char":{pattern:/\*\*?|<[=>]?|>=?|[-+/=]/,alias:"operator"}},t.languages.kum=t.languages.kumir})(e)}x6.displayName="kusto";x6.aliases=[];function x6(e){e.languages.kusto={comment:{pattern:/\/\/.*/,greedy:!0},string:{pattern:/```[\s\S]*?```|[hH]?(?:"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\.)*'|@(?:"[^\r\n"]*"|'[^\r\n']*'))/,greedy:!0},verb:{pattern:/(\|\s*)[a-z][\w-]*/i,lookbehind:!0,alias:"keyword"},command:{pattern:/\.[a-z][a-z\d-]*\b/,alias:"keyword"},"class-name":/\b(?:bool|datetime|decimal|dynamic|guid|int|long|real|string|timespan)\b/,keyword:/\b(?:access|alias|and|anti|as|asc|auto|between|by|(?:contains|(?:ends|starts)with|has(?:perfix|suffix)?)(?:_cs)?|database|declare|desc|external|from|fullouter|has_all|in|ingestion|inline|inner|innerunique|into|(?:left|right)(?:anti(?:semi)?|inner|outer|semi)?|let|like|local|not|of|on|or|pattern|print|query_parameters|range|restrict|schema|set|step|table|tables|to|view|where|with|matches\s+regex|nulls\s+(?:first|last))(?![\w-])/,boolean:/\b(?:false|null|true)\b/,function:/\b[a-z_]\w*(?=\s*\()/,datetime:[{pattern:/\b(?:(?:Fri|Friday|Mon|Monday|Sat|Saturday|Sun|Sunday|Thu|Thursday|Tue|Tuesday|Wed|Wednesday)\s*,\s*)?\d{1,2}(?:\s+|-)(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)(?:\s+|-)\d{2}\s+\d{2}:\d{2}(?::\d{2})?(?:\s*(?:\b(?:[A-Z]|(?:[ECMT][DS]|GM|U)T)|[+-]\d{4}))?\b/,alias:"number"},{pattern:/[+-]?\b(?:\d{4}-\d{2}-\d{2}(?:[ T]\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)?|\d{2}:\d{2}(?::\d{2}(?:\.\d+)?)?)Z?/,alias:"number"}],number:/\b(?:0x[0-9A-Fa-f]+|\d+(?:\.\d+)?(?:[Ee][+-]?\d+)?)(?:(?:min|sec|[mn]s|[dhms]|microsecond|tick)\b)?|[+-]?\binf\b/,operator:/=>|[!=]~|[!=<>]=?|[-+*/%|]|\.\./,punctuation:/[()\[\]{},;.:]/}}E6.displayName="latex";E6.aliases=["context","tex"];function E6(e){(function(t){var n=/\\(?:[^a-z()[\]]|[a-z*]+)/i,r={"equation-command":{pattern:n,alias:"regex"}};t.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:r,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:r,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:n,alias:"selector"},punctuation:/[[\]{}&]/},t.languages.tex=t.languages.latex,t.languages.context=t.languages.latex})(e)}w6.displayName="latte";w6.aliases=[];function w6(e){e.register(si),e.register(Bc),e.register(H1),(function(t){t.languages.latte={comment:/^\{\*[\s\S]*/,"latte-tag":{pattern:/(^\{(?:\/(?=[a-z]))?)(?:[=_]|[a-z]\w*\b(?!\())/i,lookbehind:!0,alias:"important"},delimiter:{pattern:/^\{\/?|\}$/,alias:"punctuation"},php:{pattern:/\S(?:[\s\S]*\S)?/,alias:"language-php",inside:t.languages.php}};var n=t.languages.extend("markup",{});t.languages.insertBefore("inside","attr-value",{"n-attr":{pattern:/n:[\w-]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+))?/,inside:{"attr-name":{pattern:/^[^\s=]+/,alias:"important"},"attr-value":{pattern:/=[\s\S]+/,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}],php:{pattern:/\S(?:[\s\S]*\S)?/,inside:t.languages.php}}}}}},n.tag),t.hooks.add("before-tokenize",function(r){if(r.language==="latte"){var a=/\{\*[\s\S]*?\*\}|\{[^'"\s{}*](?:[^"'/{}]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|\/\*(?:[^*]|\*(?!\/))*\*\/)*\}/g;t.languages["markup-templating"].buildPlaceholders(r,"latte",a),r.grammar=n}}),t.hooks.add("after-tokenize",function(r){t.languages["markup-templating"].tokenizePlaceholders(r,"latte")})})(e)}NT.displayName="scheme";NT.aliases=[];function NT(e){(function(t){t.languages.scheme={comment:/;.*|#;\s*(?:\((?:[^()]|\([^()]*\))*\)|\[(?:[^\[\]]|\[[^\[\]]*\])*\])|#\|(?:[^#|]|#(?!\|)|\|(?!#)|#\|(?:[^#|]|#(?!\|)|\|(?!#))*\|#)*\|#/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},symbol:{pattern:/'[^()\[\]#'\s]+/,greedy:!0},char:{pattern:/#\\(?:[ux][a-fA-F\d]+\b|[-a-zA-Z]+\b|[\uD800-\uDBFF][\uDC00-\uDFFF]|\S)/,greedy:!0},"lambda-parameter":[{pattern:/((?:^|[^'`#])[(\[]lambda\s+)(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)/,lookbehind:!0},{pattern:/((?:^|[^'`#])[(\[]lambda\s+[(\[])[^()\[\]']+/,lookbehind:!0}],keyword:{pattern:/((?:^|[^'`#])[(\[])(?:begin|case(?:-lambda)?|cond(?:-expand)?|define(?:-library|-macro|-record-type|-syntax|-values)?|defmacro|delay(?:-force)?|do|else|except|export|guard|if|import|include(?:-ci|-library-declarations)?|lambda|let(?:rec)?(?:-syntax|-values|\*)?|let\*-values|only|parameterize|prefix|(?:quasi-?)?quote|rename|set!|syntax-(?:case|rules)|unless|unquote(?:-splicing)?|when)(?=[()\[\]\s]|$)/,lookbehind:!0},builtin:{pattern:/((?:^|[^'`#])[(\[])(?:abs|and|append|apply|assoc|ass[qv]|binary-port\?|boolean=?\?|bytevector(?:-append|-copy|-copy!|-length|-u8-ref|-u8-set!|\?)?|caar|cadr|call-with-(?:current-continuation|port|values)|call\/cc|car|cdar|cddr|cdr|ceiling|char(?:->integer|-ready\?|\?|<\?|<=\?|=\?|>\?|>=\?)|close-(?:input-port|output-port|port)|complex\?|cons|current-(?:error|input|output)-port|denominator|dynamic-wind|eof-object\??|eq\?|equal\?|eqv\?|error|error-object(?:-irritants|-message|\?)|eval|even\?|exact(?:-integer-sqrt|-integer\?|\?)?|expt|features|file-error\?|floor(?:-quotient|-remainder|\/)?|flush-output-port|for-each|gcd|get-output-(?:bytevector|string)|inexact\??|input-port(?:-open\?|\?)|integer(?:->char|\?)|lcm|length|list(?:->string|->vector|-copy|-ref|-set!|-tail|\?)?|make-(?:bytevector|list|parameter|string|vector)|map|max|member|memq|memv|min|modulo|negative\?|newline|not|null\?|number(?:->string|\?)|numerator|odd\?|open-(?:input|output)-(?:bytevector|string)|or|output-port(?:-open\?|\?)|pair\?|peek-char|peek-u8|port\?|positive\?|procedure\?|quotient|raise|raise-continuable|rational\?|rationalize|read-(?:bytevector|bytevector!|char|error\?|line|string|u8)|real\?|remainder|reverse|round|set-c[ad]r!|square|string(?:->list|->number|->symbol|->utf8|->vector|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?|<\?|<=\?|=\?|>\?|>=\?)?|substring|symbol(?:->string|\?|=\?)|syntax-error|textual-port\?|truncate(?:-quotient|-remainder|\/)?|u8-ready\?|utf8->string|values|vector(?:->list|->string|-append|-copy|-copy!|-fill!|-for-each|-length|-map|-ref|-set!|\?)?|with-exception-handler|write-(?:bytevector|char|string|u8)|zero\?)(?=[()\[\]\s]|$)/,lookbehind:!0},operator:{pattern:/((?:^|[^'`#])[(\[])(?:[-+*%/]|[<>]=?|=>?)(?=[()\[\]\s]|$)/,lookbehind:!0},number:{pattern:RegExp(n({"<ureal dec>":/\d+(?:\/\d+)|(?:\d+(?:\.\d*)?|\.\d+)(?:[esfdl][+-]?\d+)?/.source,"<real dec>":/[+-]?<ureal dec>|[+-](?:inf|nan)\.0/.source,"<imaginary dec>":/[+-](?:<ureal dec>|(?:inf|nan)\.0)?i/.source,"<complex dec>":/<real dec>(?:@<real dec>|<imaginary dec>)?|<imaginary dec>/.source,"<num dec>":/(?:#d(?:#[ei])?|#[ei](?:#d)?)?<complex dec>/.source,"<ureal box>":/[0-9a-f]+(?:\/[0-9a-f]+)?/.source,"<real box>":/[+-]?<ureal box>|[+-](?:inf|nan)\.0/.source,"<imaginary box>":/[+-](?:<ureal box>|(?:inf|nan)\.0)?i/.source,"<complex box>":/<real box>(?:@<real box>|<imaginary box>)?|<imaginary box>/.source,"<num box>":/#[box](?:#[ei])?|(?:#[ei])?#[box]<complex box>/.source,"<number>":/(^|[()\[\]\s])(?:<num dec>|<num box>)(?=[()\[\]\s]|$)/.source}),"i"),lookbehind:!0},boolean:{pattern:/(^|[()\[\]\s])#(?:[ft]|false|true)(?=[()\[\]\s]|$)/,lookbehind:!0},function:{pattern:/((?:^|[^'`#])[(\[])(?:[^|()\[\]'\s]+|\|(?:[^\\|]|\\.)*\|)(?=[()\[\]\s]|$)/,lookbehind:!0},identifier:{pattern:/(^|[()\[\]\s])\|(?:[^\\|]|\\.)*\|(?=[()\[\]\s]|$)/,lookbehind:!0,greedy:!0},punctuation:/[()\[\]']/};function n(r){for(var a in r)r[a]=r[a].replace(/<[\w\s]+>/g,function(l){return"(?:"+r[l].trim()+")"});return r[a]}})(e)}S6.displayName="lilypond";S6.aliases=["ly"];function S6(e){e.register(NT),(function(t){for(var n=/\((?:[^();"#\\]|\\[\s\S]|;.*(?!.)|"(?:[^"\\]|\\.)*"|#(?:\{(?:(?!#\})[\s\S])*#\}|[^{])|<expr>)*\)/.source,r=5,a=0;a<r;a++)n=n.replace(/<expr>/g,function(){return n});n=n.replace(/<expr>/g,/[^\s\S]/.source);var l=t.languages.lilypond={comment:/%(?:(?!\{).*|\{[\s\S]*?%\})/,"embedded-scheme":{pattern:RegExp(/(^|[=\s])#(?:"(?:[^"\\]|\\.)*"|[^\s()"]*(?:[^\s()]|<expr>))/.source.replace(/<expr>/g,function(){return n}),"m"),lookbehind:!0,greedy:!0,inside:{scheme:{pattern:/^(#)[\s\S]+$/,lookbehind:!0,alias:"language-scheme",inside:{"embedded-lilypond":{pattern:/#\{[\s\S]*?#\}/,greedy:!0,inside:{punctuation:/^#\{|#\}$/,lilypond:{pattern:/[\s\S]+/,alias:"language-lilypond",inside:null}}},rest:t.languages.scheme}},punctuation:/#/}},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":{pattern:/(\\new\s+)[\w-]+/,lookbehind:!0},keyword:{pattern:/\\[a-z][-\w]*/i,inside:{punctuation:/^\\/}},operator:/[=|]|<<|>>/,punctuation:{pattern:/(^|[a-z\d])(?:'+|,+|[_^]?-[_^]?(?:[-+^!>._]|(?=\d))|[_^]\.?|[.!])|[{}()[\]<>^~]|\\[()[\]<>\\!]|--|__/,lookbehind:!0},number:/\b\d+(?:\/\d+)?\b/};l["embedded-scheme"].inside.scheme.inside["embedded-lilypond"].inside.lilypond.inside=l,t.languages.ly=l})(e)}T6.displayName="liquid";T6.aliases=[];function T6(e){e.register(Bc),e.languages.liquid={comment:{pattern:/(^\{%\s*comment\s*%\})[\s\S]+(?=\{%\s*endcomment\s*%\}$)/,lookbehind:!0},delimiter:{pattern:/^\{(?:\{\{|[%\{])-?|-?(?:\}\}|[%\}])\}$/,alias:"punctuation"},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},keyword:/\b(?:as|assign|break|(?:end)?(?:capture|case|comment|for|form|if|paginate|raw|style|tablerow|unless)|continue|cycle|decrement|echo|else|elsif|in|include|increment|limit|liquid|offset|range|render|reversed|section|when|with)\b/,object:/\b(?:address|all_country_option_tags|article|block|blog|cart|checkout|collection|color|country|country_option_tags|currency|current_page|current_tags|customer|customer_address|date|discount_allocation|discount_application|external_video|filter|filter_value|font|forloop|fulfillment|generic_file|gift_card|group|handle|image|line_item|link|linklist|localization|location|measurement|media|metafield|model|model_source|order|page|page_description|page_image|page_title|part|policy|product|product_option|recommendations|request|robots|routes|rule|script|search|selling_plan|selling_plan_allocation|selling_plan_group|shipping_method|shop|shop_locale|sitemap|store_availability|tax_line|template|theme|transaction|unit_price_measurement|user_agent|variant|video|video_source)\b/,function:[{pattern:/(\|\s*)\w+/,lookbehind:!0,alias:"filter"},{pattern:/(\.\s*)(?:first|last|size)/,lookbehind:!0}],boolean:/\b(?:false|nil|true)\b/,range:{pattern:/\.\./,alias:"operator"},number:/\b\d+(?:\.\d+)?\b/,operator:/[!=]=|<>|[<>]=?|[|?:=-]|\b(?:and|contains(?=\s)|or)\b/,punctuation:/[.,\[\]()]/,empty:{pattern:/\bempty\b/,alias:"keyword"}},e.hooks.add("before-tokenize",function(t){var n=/\{%\s*comment\s*%\}[\s\S]*?\{%\s*endcomment\s*%\}|\{(?:%[\s\S]*?%|\{\{[\s\S]*?\}\}|\{[\s\S]*?\})\}/g,r=!1;e.languages["markup-templating"].buildPlaceholders(t,"liquid",n,function(a){var l=/^\{%-?\s*(\w+)/.exec(a);if(l){var u=l[1];if(u==="raw"&&!r)return r=!0,!0;if(u==="endraw")return r=!1,!0}return!r})}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"liquid")})}C6.displayName="lisp";C6.aliases=["elisp","emacs","emacs-lisp"];function C6(e){(function(t){function n(j){return RegExp(/(\()/.source+"(?:"+j+")"+/(?=[\s\)])/.source)}function r(j){return RegExp(/([\s([])/.source+"(?:"+j+")"+/(?=[\s)])/.source)}var a=/(?!\d)[-+*/~!@$%^=<>{}\w]+/.source,l="&"+a,u="(\\()",i="(?=\\))",m="(?=\\s)",b=/(?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\))*\))*\))*/.source,_={heading:{pattern:/;;;.*/,alias:["comment","title"]},comment:/;.*/,string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0,inside:{argument:/[-A-Z]+(?=[.,\s])/,symbol:RegExp("`"+a+"'")}},"quoted-symbol":{pattern:RegExp("#?'"+a),alias:["variable","symbol"]},"lisp-property":{pattern:RegExp(":"+a),alias:"property"},splice:{pattern:RegExp(",@?"+a),alias:["symbol","variable"]},keyword:[{pattern:RegExp(u+"(?:and|(?:cl-)?letf|cl-loop|cond|cons|error|if|(?:lexical-)?let\\*?|message|not|null|or|provide|require|setq|unless|use-package|when|while)"+m),lookbehind:!0},{pattern:RegExp(u+"(?:append|by|collect|concat|do|finally|for|in|return)"+m),lookbehind:!0}],declare:{pattern:n(/declare/.source),lookbehind:!0,alias:"keyword"},interactive:{pattern:n(/interactive/.source),lookbehind:!0,alias:"keyword"},boolean:{pattern:r(/nil|t/.source),lookbehind:!0},number:{pattern:r(/[-+]?\d+(?:\.\d*)?/.source),lookbehind:!0},defvar:{pattern:RegExp(u+"def(?:const|custom|group|var)\\s+"+a),lookbehind:!0,inside:{keyword:/^def[a-z]+/,variable:RegExp(a)}},defun:{pattern:RegExp(u+/(?:cl-)?(?:defmacro|defun\*?)\s+/.source+a+/\s+\(/.source+b+/\)/.source),lookbehind:!0,greedy:!0,inside:{keyword:/^(?:cl-)?def\S+/,arguments:null,function:{pattern:RegExp("(^\\s)"+a),lookbehind:!0},punctuation:/[()]/}},lambda:{pattern:RegExp(u+"lambda\\s+\\(\\s*(?:&?"+a+"(?:\\s+&?"+a+")*\\s*)?\\)"),lookbehind:!0,greedy:!0,inside:{keyword:/^lambda/,arguments:null,punctuation:/[()]/}},car:{pattern:RegExp(u+a),lookbehind:!0},punctuation:[/(?:['`,]?\(|[)\[\]])/,{pattern:/(\s)\.(?=\s)/,lookbehind:!0}]},w={"lisp-marker":RegExp(l),varform:{pattern:RegExp(/\(/.source+a+/\s+(?=\S)/.source+b+/\)/.source),inside:_},argument:{pattern:RegExp(/(^|[\s(])/.source+a),lookbehind:!0,alias:"variable"},rest:_},M="\\S+(?:\\s+\\S+)*",P={pattern:RegExp(u+b+i),lookbehind:!0,inside:{"rest-vars":{pattern:RegExp("&(?:body|rest)\\s+"+M),inside:w},"other-marker-vars":{pattern:RegExp("&(?:aux|optional)\\s+"+M),inside:w},keys:{pattern:RegExp("&key\\s+"+M+"(?:\\s+&allow-other-keys)?"),inside:w},argument:{pattern:RegExp(a),alias:"variable"},punctuation:/[()]/}};_.lambda.inside.arguments=P,_.defun.inside.arguments=t.util.clone(P),_.defun.inside.arguments.inside.sublist=P,t.languages.lisp=_,t.languages.elisp=_,t.languages.emacs=_,t.languages["emacs-lisp"]=_})(e)}A6.displayName="livescript";A6.aliases=[];function A6(e){e.languages.livescript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\])#.*/,lookbehind:!0}],"interpolated-string":{pattern:/(^|[^"])("""|")(?:\\[\s\S]|(?!\2)[^\\])*\2(?!")/,lookbehind:!0,greedy:!0,inside:{variable:{pattern:/(^|[^\\])#[a-z_](?:-?[a-z]|[\d_])*/m,lookbehind:!0},interpolation:{pattern:/(^|[^\\])#\{[^}]+\}/m,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^#\{|\}$/,alias:"variable"}}},string:/[\s\S]+/}},string:[{pattern:/('''|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},{pattern:/<\[[\s\S]*?\]>/,greedy:!0},/\\[^\s,;\])}]+/],regex:[{pattern:/\/\/(?:\[[^\r\n\]]*\]|\\.|(?!\/\/)[^\\\[])+\/\/[gimyu]{0,5}/,greedy:!0,inside:{comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0}}},{pattern:/\/(?:\[[^\r\n\]]*\]|\\.|[^/\\\r\n\[])+\/[gimyu]{0,5}/,greedy:!0}],keyword:{pattern:/(^|(?!-).)\b(?:break|case|catch|class|const|continue|default|do|else|extends|fallthrough|finally|for(?: ever)?|function|if|implements|it|let|loop|new|null|otherwise|own|return|super|switch|that|then|this|throw|try|unless|until|var|void|when|while|yield)(?!-)\b/m,lookbehind:!0},"keyword-operator":{pattern:/(^|[^-])\b(?:(?:delete|require|typeof)!|(?:and|by|delete|export|from|import(?: all)?|in|instanceof|is(?: not|nt)?|not|of|or|til|to|typeof|with|xor)(?!-)\b)/m,lookbehind:!0,alias:"operator"},boolean:{pattern:/(^|[^-])\b(?:false|no|off|on|true|yes)(?!-)\b/m,lookbehind:!0},argument:{pattern:/(^|(?!\.&\.)[^&])&(?!&)\d*/m,lookbehind:!0,alias:"variable"},number:/\b(?:\d+~[\da-z]+|\d[\d_]*(?:\.\d[\d_]*)?(?:[a-z]\w*)?)/i,identifier:/[a-z_](?:-?[a-z]|[\d_])*/i,operator:[{pattern:/( )\.(?= )/,lookbehind:!0},/\.(?:[=~]|\.\.?)|\.(?:[&|^]|<<|>>>?)\.|:(?:=|:=?)|&&|\|[|>]|<(?:<<?<?|--?!?|~~?!?|[|=?])?|>[>=?]?|-(?:->?|>)?|\+\+?|@@?|%%?|\*\*?|!(?:~?=|--?>|~?~>)?|~(?:~?>|=)?|==?|\^\^?|[\/?]/],punctuation:/[(){}\[\]|.,:;`]/},e.languages.livescript["interpolated-string"].inside.interpolation.inside.rest=e.languages.livescript}k6.displayName="llvm";k6.aliases=[];function k6(e){(function(t){t.languages.llvm={comment:/;.*/,string:{pattern:/"[^"]*"/,greedy:!0},boolean:/\b(?:false|true)\b/,variable:/[%@!#](?:(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+|\d+)/i,label:/(?!\d)(?:[-$.\w]|\\[a-f\d]{2})+:/i,type:{pattern:/\b(?:double|float|fp128|half|i[1-9]\d*|label|metadata|ppc_fp128|token|void|x86_fp80|x86_mmx)\b/,alias:"class-name"},keyword:/\b[a-z_][a-z_0-9]*\b/,number:/[+-]?\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-Fa-f]+\b|\b0xK[\dA-Fa-f]{20}\b|\b0x[ML][\dA-Fa-f]{32}\b|\b0xH[\dA-Fa-f]{4}\b/,punctuation:/[{}[\];(),.!*=<>]/}})(e)}I6.displayName="log";I6.aliases=[];function I6(e){e.languages.log={string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?![st] | \w)(?:[^'\\\r\n]|\\.)*'/,greedy:!0},exception:{pattern:/(^|[^\w.])[a-z][\w.]*(?:Error|Exception):.*(?:(?:\r\n?|\n)[ \t]*(?:at[ \t].+|\.{3}.*|Caused by:.*))+(?:(?:\r\n?|\n)[ \t]*\.\.\. .*)?/,lookbehind:!0,greedy:!0,alias:["javastacktrace","language-javastacktrace"],inside:e.languages.javastacktrace||{keyword:/\bat\b/,function:/[a-z_][\w$]*(?=\()/,punctuation:/[.:()]/}},level:[{pattern:/\b(?:ALERT|CRIT|CRITICAL|EMERG|EMERGENCY|ERR|ERROR|FAILURE|FATAL|SEVERE)\b/,alias:["error","important"]},{pattern:/\b(?:WARN|WARNING|WRN)\b/,alias:["warning","important"]},{pattern:/\b(?:DISPLAY|INF|INFO|NOTICE|STATUS)\b/,alias:["info","keyword"]},{pattern:/\b(?:DBG|DEBUG|FINE)\b/,alias:["debug","keyword"]},{pattern:/\b(?:FINER|FINEST|TRACE|TRC|VERBOSE|VRB)\b/,alias:["trace","comment"]}],property:{pattern:/((?:^|[\]|])[ \t]*)[a-z_](?:[\w-]|\b\/\b)*(?:[. ]\(?\w(?:[\w-]|\b\/\b)*\)?)*:(?=\s)/im,lookbehind:!0},separator:{pattern:/(^|[^-+])-{3,}|={3,}|\*{3,}|- - /m,lookbehind:!0,alias:"comment"},url:/\b(?:file|ftp|https?):\/\/[^\s|,;'"]*[^\s|,;'">.]/,email:{pattern:/(^|\s)[-\w+.]+@[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)+(?=\s)/,lookbehind:!0,alias:"url"},"ip-address":{pattern:/\b(?:\d{1,3}(?:\.\d{1,3}){3})\b/,alias:"constant"},"mac-address":{pattern:/\b[a-f0-9]{2}(?::[a-f0-9]{2}){5}\b/i,alias:"constant"},domain:{pattern:/(^|\s)[a-z][a-z0-9-]*(?:\.[a-z][a-z0-9-]*)*\.[a-z][a-z0-9-]+(?=\s)/,lookbehind:!0,alias:"constant"},uuid:{pattern:/\b[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\b/i,alias:"constant"},hash:{pattern:/\b(?:[a-f0-9]{32}){1,2}\b/i,alias:"constant"},"file-path":{pattern:/\b[a-z]:[\\/][^\s|,;:(){}\[\]"']+|(^|[\s:\[\](>|])\.{0,2}\/\w[^\s|,;:(){}\[\]"']*/i,lookbehind:!0,greedy:!0,alias:"string"},date:{pattern:RegExp(/\b\d{4}[-/]\d{2}[-/]\d{2}(?:T(?=\d{1,2}:)|(?=\s\d{1,2}:))/.source+"|"+/\b\d{1,4}[-/ ](?:\d{1,2}|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)[-/ ]\d{2,4}T?\b/.source+"|"+/\b(?:(?:Fri|Mon|Sat|Sun|Thu|Tue|Wed)(?:\s{1,2}(?:Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep))?|Apr|Aug|Dec|Feb|Jan|Jul|Jun|Mar|May|Nov|Oct|Sep)\s{1,2}\d{1,2}\b/.source,"i"),alias:"number"},time:{pattern:/\b\d{1,2}:\d{1,2}:\d{1,2}(?:[.,:]\d+)?(?:\s?[+-]\d{2}:?\d{2}|Z)?\b/,alias:"number"},boolean:/\b(?:false|null|true)\b/i,number:{pattern:/(^|[^.\w])(?:0x[a-f0-9]+|0o[0-7]+|0b[01]+|v?\d[\da-f]*(?:\.\d+)*(?:e[+-]?\d+)?[a-z]{0,3}\b)\b(?!\.\w)/i,lookbehind:!0},operator:/[;:?<=>~/@!$%&+\-|^(){}*#]/,punctuation:/[\[\].,]/}}N6.displayName="lolcode";N6.aliases=[];function N6(e){e.languages.lolcode={comment:[/\bOBTW\s[\s\S]*?\sTLDR\b/,/\bBTW.+/],string:{pattern:/"(?::.|[^":])*"/,inside:{variable:/:\{[^}]+\}/,symbol:[/:\([a-f\d]+\)/i,/:\[[^\]]+\]/,/:[)>o":]/]},greedy:!0},number:/(?:\B-)?(?:\b\d+(?:\.\d*)?|\B\.\d+)/,symbol:{pattern:/(^|\s)(?:A )?(?:BUKKIT|NOOB|NUMBAR|NUMBR|TROOF|YARN)(?=\s|,|$)/,lookbehind:!0,inside:{keyword:/A(?=\s)/}},label:{pattern:/((?:^|\s)(?:IM IN YR|IM OUTTA YR) )[a-zA-Z]\w*/,lookbehind:!0,alias:"string"},function:{pattern:/((?:^|\s)(?:HOW IZ I|I IZ|IZ) )[a-zA-Z]\w*/,lookbehind:!0},keyword:[{pattern:/(^|\s)(?:AN|FOUND YR|GIMMEH|GTFO|HAI|HAS A|HOW IZ I|I HAS A|I IZ|IF U SAY SO|IM IN YR|IM OUTTA YR|IS NOW(?: A)?|ITZ(?: A)?|IZ|KTHX|KTHXBYE|LIEK(?: A)?|MAEK|MEBBE|MKAY|NERFIN|NO WAI|O HAI IM|O RLY\?|OIC|OMG|OMGWTF|R|SMOOSH|SRS|TIL|UPPIN|VISIBLE|WILE|WTF\?|YA RLY|YR)(?=\s|,|$)/,lookbehind:!0},/'Z(?=\s|,|$)/],boolean:{pattern:/(^|\s)(?:FAIL|WIN)(?=\s|,|$)/,lookbehind:!0},variable:{pattern:/(^|\s)IT(?=\s|,|$)/,lookbehind:!0},operator:{pattern:/(^|\s)(?:NOT|BOTH SAEM|DIFFRINT|(?:ALL|ANY|BIGGR|BOTH|DIFF|EITHER|MOD|PRODUKT|QUOSHUNT|SMALLR|SUM|WON) OF)(?=\s|,|$)/,lookbehind:!0},punctuation:/\.{3}||,|!/}}R6.displayName="magma";R6.aliases=[];function R6(e){e.languages.magma={output:{pattern:/^(>.*(?:\r(?:\n|(?!\n))|\n))(?!>)(?:.+|(?:\r(?:\n|(?!\n))|\n)(?!>).*)(?:(?:\r(?:\n|(?!\n))|\n)(?!>).*)*/m,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/(^|[^\\"])"(?:[^\r\n\\"]|\\.)*"/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|adj|and|assert|assert2|assert3|assigned|break|by|case|cat|catch|clear|cmpeq|cmpne|continue|declare|default|delete|diff|div|do|elif|else|end|eq|error|eval|exists|exit|for|forall|forward|fprintf|freeze|function|ge|gt|if|iload|import|in|intrinsic|is|join|le|load|local|lt|meet|mod|ne|not|notadj|notin|notsubset|or|print|printf|procedure|quit|random|read|readi|repeat|require|requirege|requirerange|restore|return|save|sdiff|select|subset|then|time|to|try|until|vprint|vprintf|vtime|when|where|while|xor)\b/,boolean:/\b(?:false|true)\b/,generator:{pattern:/\b[a-z_]\w*(?=\s*<)/i,alias:"class-name"},function:/\b[a-z_]\w*(?=\s*\()/i,number:{pattern:/(^|[^\w.]|\.\.)(?:\d+(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+)?(?:_[a-z]?)?(?=$|[^\w.]|\.\.)/,lookbehind:!0},operator:/->|[-+*/^~!|#=]|:=|\.\./,punctuation:/[()[\]{}<>,;.:]/}}uN.displayName="mata";uN.aliases=[];function uN(e){(function(t){var n=/\b(?:(?:col|row)?vector|matrix|scalar)\b/.source,r=/\bvoid\b|<org>|\b(?:complex|numeric|pointer(?:\s*\([^()]*\))?|real|string|(?:class|struct)\s+\w+|transmorphic)(?:\s*<org>)?/.source.replace(/<org>/g,n);t.languages.mata={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|struct)\s+)\w+(?=\s*(?:\{|\bextends\b))/,lookbehind:!0},type:{pattern:RegExp(r),alias:"class-name",inside:{punctuation:/[()]/,keyword:/\b(?:class|function|struct|void)\b/}},keyword:/\b(?:break|class|continue|do|else|end|extends|external|final|for|function|goto|if|pragma|private|protected|public|return|static|struct|unset|unused|version|virtual|while)\b/,constant:/\bNULL\b/,number:{pattern:/(^|[^\w.])(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?|\d[a-f0-9]*(?:\.[a-f0-9]+)?x[+-]?\d+)i?(?![\w.])/i,lookbehind:!0},missing:{pattern:/(^|[^\w.])(?:\.[a-z]?)(?![\w.])/,lookbehind:!0,alias:"symbol"},function:/\b[a-z_]\w*(?=\s*\()/i,operator:/\.\.|\+\+|--|&&|\|\||:?(?:[!=<>]=|[+\-*/^<>&|:])|[!?=\\#`']/,punctuation:/[()[\]{},;.]/}})(e)}M6.displayName="matlab";M6.aliases=[];function M6(e){e.languages.matlab={comment:[/%\{[\s\S]*?\}%/,/%.+/],string:{pattern:/\B'(?:''|[^'\r\n])*'/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[eE][+-]?\d+)?(?:[ij])?|\b[ij]\b/,keyword:/\b(?:NaN|break|case|catch|continue|else|elseif|end|for|function|if|inf|otherwise|parfor|pause|pi|return|switch|try|while)\b/,function:/\b(?!\d)\w+(?=\s*\()/,operator:/\.?[*^\/\\']|[+\-:@]|[<>=~]=?|&&?|\|\|?/,punctuation:/\.{3}|[.,;\[\](){}!]/}}O6.displayName="maxscript";O6.aliases=[];function O6(e){(function(t){var n=/\b(?:about|and|animate|as|at|attributes|by|case|catch|collect|continue|coordsys|do|else|exit|fn|for|from|function|global|if|in|local|macroscript|mapped|max|not|of|off|on|or|parameters|persistent|plugin|rcmenu|return|rollout|set|struct|then|throw|to|tool|try|undo|utility|when|where|while|with)\b/i;t.languages.maxscript={comment:{pattern:/\/\*[\s\S]*?(?:\*\/|$)|--.*/,greedy:!0},string:{pattern:/(^|[^"\\@])(?:"(?:[^"\\]|\\[\s\S])*"|@"[^"]*")/,lookbehind:!0,greedy:!0},path:{pattern:/\$(?:[\w/\\.*?]|'[^']*')*/,greedy:!0,alias:"string"},"function-call":{pattern:RegExp("((?:"+(/^/.source+"|"+/[;=<>+\-*/^({\[]/.source+"|"+/\b(?:and|by|case|catch|collect|do|else|if|in|not|or|return|then|to|try|where|while|with)\b/.source)+")[ 	]*)(?!"+n.source+")"+/[a-z_]\w*\b/.source+"(?=[ 	]*(?:"+("(?!"+n.source+")"+/[a-z_]/.source+"|"+/\d|-\.?\d/.source+"|"+/[({'"$@#?]/.source)+"))","im"),lookbehind:!0,greedy:!0,alias:"function"},"function-definition":{pattern:/(\b(?:fn|function)\s+)\w+\b/i,lookbehind:!0,alias:"function"},argument:{pattern:/\b[a-z_]\w*(?=:)/i,alias:"attr-name"},keyword:n,boolean:/\b(?:false|true)\b/,time:{pattern:/(^|[^\w.])(?:(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?[msft])+|\d+:\d+(?:\.\d*)?)(?![\w.:])/,lookbehind:!0,alias:"number"},number:[{pattern:/(^|[^\w.])(?:(?:\d+(?:\.\d*)?|\.\d+)(?:[eEdD][+-]\d+|[LP])?|0x[a-fA-F0-9]+)(?![\w.:])/,lookbehind:!0},/\b(?:e|pi)\b/],constant:/\b(?:dontcollect|ok|silentValue|undefined|unsupplied)\b/,color:{pattern:/\b(?:black|blue|brown|gray|green|orange|red|white|yellow)\b/i,alias:"constant"},operator:/[-+*/<>=!]=?|[&^?]|#(?!\()/,punctuation:/[()\[\]{}.:,;]|#(?=\()|\\$/m}})(e)}D6.displayName="mel";D6.aliases=[];function D6(e){e.languages.mel={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},code:{pattern:/`(?:\\.|[^\\`])*`/,greedy:!0,alias:"italic",inside:{delimiter:{pattern:/^`|`$/,alias:"punctuation"},statement:{pattern:/[\s\S]+/,inside:null}}},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},variable:/\$\w+/,number:/\b0x[\da-fA-F]+\b|\b\d+(?:\.\d*)?|\B\.\d+/,flag:{pattern:/-[^\d\W]\w*/,alias:"operator"},keyword:/\b(?:break|case|continue|default|do|else|float|for|global|if|in|int|matrix|proc|return|string|switch|vector|while)\b/,function:{pattern:/((?:^|[{;])[ \t]*)[a-z_]\w*\b(?!\s*(?:\.(?!\.)|[[{=]))|\b[a-z_]\w*(?=[ \t]*\()/im,lookbehind:!0,greedy:!0},"tensor-punctuation":{pattern:/<<|>>/,alias:"punctuation"},operator:/\+[+=]?|-[-=]?|&&|\|\||[<>]=?|[*\/!=]=?|[%^]/,punctuation:/[.,:;?\[\](){}]/},e.languages.mel.code.inside.statement.inside=e.languages.mel}L6.displayName="mermaid";L6.aliases=[];function L6(e){e.languages.mermaid={comment:{pattern:/%%.*/,greedy:!0},style:{pattern:/^([ \t]*(?:classDef|linkStyle|style)[ \t]+[\w$-]+[ \t]+)\w.*[^\s;]/m,lookbehind:!0,inside:{property:/\b\w[\w-]*(?=[ \t]*:)/,operator:/:/,punctuation:/,/}},"inter-arrow-label":{pattern:/([^<>ox.=-])(?:-[-.]|==)(?![<>ox.=-])[ \t]*(?:"[^"\r\n]*"|[^\s".=-](?:[^\r\n.=-]*[^\s.=-])?)[ \t]*(?:\.+->?|--+[->]|==+[=>])(?![<>ox.=-])/,lookbehind:!0,greedy:!0,inside:{arrow:{pattern:/(?:\.+->?|--+[->]|==+[=>])$/,alias:"operator"},label:{pattern:/^([\s\S]{2}[ \t]*)\S(?:[\s\S]*\S)?/,lookbehind:!0,alias:"property"},"arrow-head":{pattern:/^\S+/,alias:["arrow","operator"]}}},arrow:[{pattern:/(^|[^{}|o.-])[|}][|o](?:--|\.\.)[|o][|{](?![{}|o.-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>ox.=-])(?:[<ox](?:==+|--+|-\.*-)[>ox]?|(?:==+|--+|-\.*-)[>ox]|===+|---+|-\.+-)(?![<>ox.=-])/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>()x-])(?:--?(?:>>|[x>)])(?![<>()x])|(?:<<|[x<(])--?(?!-))/,lookbehind:!0,alias:"operator"},{pattern:/(^|[^<>|*o.-])(?:[*o]--|--[*o]|<\|?(?:--|\.\.)|(?:--|\.\.)\|?>|--|\.\.)(?![<>|*o.-])/,lookbehind:!0,alias:"operator"}],label:{pattern:/(^|[^|<])\|(?:[^\r\n"|]|"[^"\r\n]*")+\|/,lookbehind:!0,greedy:!0,alias:"property"},text:{pattern:/(?:[(\[{]+|\b>)(?:[^\r\n"()\[\]{}]|"[^"\r\n]*")+(?:[)\]}]+|>)/,alias:"string"},string:{pattern:/"[^"\r\n]*"/,greedy:!0},annotation:{pattern:/<<(?:abstract|choice|enumeration|fork|interface|join|service)>>|\[\[(?:choice|fork|join)\]\]/i,alias:"important"},keyword:[{pattern:/(^[ \t]*)(?:action|callback|class|classDef|classDiagram|click|direction|erDiagram|flowchart|gantt|gitGraph|graph|journey|link|linkStyle|pie|requirementDiagram|sequenceDiagram|stateDiagram|stateDiagram-v2|style|subgraph)(?![\w$-])/m,lookbehind:!0,greedy:!0},{pattern:/(^[ \t]*)(?:activate|alt|and|as|autonumber|deactivate|else|end(?:[ \t]+note)?|loop|opt|par|participant|rect|state|note[ \t]+(?:over|(?:left|right)[ \t]+of))(?![\w$-])/im,lookbehind:!0,greedy:!0}],entity:/#[a-z0-9]+;/,operator:{pattern:/(\w[ \t]*)&(?=[ \t]*\w)|:::|:/,lookbehind:!0},punctuation:/[(){};]/}}P6.displayName="metafont";P6.aliases=[];function P6(e){e.languages.metafont={comment:{pattern:/%.*/,greedy:!0},string:{pattern:/"[^\r\n"]*"/,greedy:!0},number:/\d*\.?\d+/,boolean:/\b(?:false|true)\b/,punctuation:[/[,;()]/,{pattern:/(^|[^{}])(?:\{|\})(?![{}])/,lookbehind:!0},{pattern:/(^|[^[])\[(?!\[)/,lookbehind:!0},{pattern:/(^|[^\]])\](?!\])/,lookbehind:!0}],constant:[{pattern:/(^|[^!?])\?\?\?(?![!?])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\\|\\\\)(?![/*\\])/,lookbehind:!0},/\b(?:_|blankpicture|bp|cc|cm|dd|ditto|down|eps|epsilon|fullcircle|halfcircle|identity|in|infinity|left|mm|nullpen|nullpicture|origin|pc|penrazor|penspeck|pensquare|penstroke|proof|pt|quartercircle|relax|right|smoke|unitpixel|unitsquare|up)\b/],quantity:{pattern:/\b(?:autorounding|blacker|boundarychar|charcode|chardp|chardx|chardy|charext|charht|charic|charwd|currentwindow|day|designsize|displaying|fillin|fontmaking|granularity|hppp|join_radius|month|o_correction|pausing|pen_(?:bot|lft|rt|top)|pixels_per_inch|proofing|showstopping|smoothing|time|tolerance|tracingcapsules|tracingchoices|tracingcommands|tracingedges|tracingequations|tracingmacros|tracingonline|tracingoutput|tracingpens|tracingrestores|tracingspecs|tracingstats|tracingtitles|turningcheck|vppp|warningcheck|xoffset|year|yoffset)\b/,alias:"keyword"},command:{pattern:/\b(?:addto|batchmode|charlist|cull|display|errhelp|errmessage|errorstopmode|everyjob|extensible|fontdimen|headerbyte|inner|interim|let|ligtable|message|newinternal|nonstopmode|numspecial|openwindow|outer|randomseed|save|scrollmode|shipout|show|showdependencies|showstats|showtoken|showvariable|special)\b/,alias:"builtin"},operator:[{pattern:/(^|[^>=<:|])(?:<|<=|=|=:|\|=:|\|=:>|=:\|>|=:\||\|=:\||\|=:\|>|\|=:\|>>|>|>=|:|:=|<>|::|\|\|:)(?![>=<:|])/,lookbehind:!0},{pattern:/(^|[^+-])(?:\+|\+\+|-{1,3}|\+-\+)(?![+-])/,lookbehind:!0},{pattern:/(^|[^/*\\])(?:\*|\*\*|\/)(?![/*\\])/,lookbehind:!0},{pattern:/(^|[^.])(?:\.{2,3})(?!\.)/,lookbehind:!0},{pattern:/(^|[^@#&$])&(?![@#&$])/,lookbehind:!0},/\b(?:and|not|or)\b/],macro:{pattern:/\b(?:abs|beginchar|bot|byte|capsule_def|ceiling|change_width|clear_pen_memory|clearit|clearpen|clearxy|counterclockwise|cullit|cutdraw|cutoff|decr|define_blacker_pixels|define_corrected_pixels|define_good_x_pixels|define_good_y_pixels|define_horizontal_corrected_pixels|define_pixels|define_whole_blacker_pixels|define_whole_pixels|define_whole_vertical_blacker_pixels|define_whole_vertical_pixels|dir|direction|directionpoint|div|dotprod|downto|draw|drawdot|endchar|erase|fill|filldraw|fix_units|flex|font_coding_scheme|font_extra_space|font_identifier|font_normal_shrink|font_normal_space|font_normal_stretch|font_quad|font_size|font_slant|font_x_height|gfcorners|gobble|gobbled|good\.(?:bot|lft|rt|top|x|y)|grayfont|hide|hround|imagerules|incr|interact|interpath|intersectionpoint|inverse|italcorr|killtext|labelfont|labels|lft|loggingall|lowres_fix|makegrid|makelabel(?:\.(?:bot|lft|rt|top)(?:\.nodot)?)?|max|min|mod|mode_def|mode_setup|nodisplays|notransforms|numtok|openit|penlabels|penpos|pickup|proofoffset|proofrule|proofrulethickness|range|reflectedabout|rotatedabout|rotatedaround|round|rt|savepen|screenchars|screenrule|screenstrokes|shipit|showit|slantfont|softjoin|solve|stop|superellipse|tensepath|thru|titlefont|top|tracingall|tracingnone|undraw|undrawdot|unfill|unfilldraw|upto|vround)\b/,alias:"function"},builtin:/\b(?:ASCII|angle|char|cosd|decimal|directiontime|floor|hex|intersectiontimes|jobname|known|length|makepath|makepen|mexp|mlog|normaldeviate|oct|odd|pencircle|penoffset|point|postcontrol|precontrol|reverse|rotated|sind|sqrt|str|subpath|substring|totalweight|turningnumber|uniformdeviate|unknown|xpart|xxpart|xypart|ypart|yxpart|yypart)\b/,keyword:/\b(?:also|at|atleast|begingroup|charexists|contour|controls|curl|cycle|def|delimiters|doublepath|dropping|dump|else|elseif|end|enddef|endfor|endgroup|endinput|exitif|exitunless|expandafter|fi|for|forever|forsuffixes|from|if|input|inwindow|keeping|kern|of|primarydef|quote|readstring|scaled|scantokens|secondarydef|shifted|skipto|slanted|step|tension|tertiarydef|to|transformed|until|vardef|withpen|withweight|xscaled|yscaled|zscaled)\b/,type:{pattern:/\b(?:boolean|expr|numeric|pair|path|pen|picture|primary|secondary|string|suffix|tertiary|text|transform)\b/,alias:"property"},variable:{pattern:/(^|[^@#&$])(?:@#|#@|#|@)(?![@#&$])|\b(?:aspect_ratio|currentpen|currentpicture|currenttransform|d|extra_beginchar|extra_endchar|extra_setup|h|localfont|mag|mode|screen_cols|screen_rows|w|whatever|x|y|z)\b/,lookbehind:!0}}}F6.displayName="mizar";F6.aliases=[];function F6(e){e.languages.mizar={comment:/::.+/,keyword:/@proof\b|\b(?:according|aggregate|all|and|antonym|are|as|associativity|assume|asymmetry|attr|be|begin|being|by|canceled|case|cases|clusters?|coherence|commutativity|compatibility|connectedness|consider|consistency|constructors|contradiction|correctness|def|deffunc|define|definitions?|defpred|do|does|end|environ|equals|ex|exactly|existence|for|from|func|given|hence|hereby|holds|idempotence|identity|iff?|implies|involutiveness|irreflexivity|is|it|let|means|mode|non|not|notations?|now|of|or|otherwise|over|per|pred|prefix|projectivity|proof|provided|qua|reconsider|redefine|reduce|reducibility|reflexivity|registrations?|requirements|reserve|sch|schemes?|section|selector|set|sethood|st|struct|such|suppose|symmetry|synonym|take|that|the|then|theorems?|thesis|thus|to|transitivity|uniqueness|vocabular(?:ies|y)|when|where|with|wrt)\b/,parameter:{pattern:/\$(?:10|\d)/,alias:"variable"},variable:/\b\w+(?=:)/,number:/(?:\b|-)\d+\b/,operator:/\.\.\.|->|&|\.?=/,punctuation:/\(#|#\)|[,:;\[\](){}]/}}B6.displayName="mongodb";B6.aliases=[];function B6(e){e.register(Fc),(function(t){var n=["$eq","$gt","$gte","$in","$lt","$lte","$ne","$nin","$and","$not","$nor","$or","$exists","$type","$expr","$jsonSchema","$mod","$regex","$text","$where","$geoIntersects","$geoWithin","$near","$nearSphere","$all","$elemMatch","$size","$bitsAllClear","$bitsAllSet","$bitsAnyClear","$bitsAnySet","$comment","$elemMatch","$meta","$slice","$currentDate","$inc","$min","$max","$mul","$rename","$set","$setOnInsert","$unset","$addToSet","$pop","$pull","$push","$pullAll","$each","$position","$slice","$sort","$bit","$addFields","$bucket","$bucketAuto","$collStats","$count","$currentOp","$facet","$geoNear","$graphLookup","$group","$indexStats","$limit","$listLocalSessions","$listSessions","$lookup","$match","$merge","$out","$planCacheStats","$project","$redact","$replaceRoot","$replaceWith","$sample","$set","$skip","$sort","$sortByCount","$unionWith","$unset","$unwind","$setWindowFields","$abs","$accumulator","$acos","$acosh","$add","$addToSet","$allElementsTrue","$and","$anyElementTrue","$arrayElemAt","$arrayToObject","$asin","$asinh","$atan","$atan2","$atanh","$avg","$binarySize","$bsonSize","$ceil","$cmp","$concat","$concatArrays","$cond","$convert","$cos","$dateFromParts","$dateToParts","$dateFromString","$dateToString","$dayOfMonth","$dayOfWeek","$dayOfYear","$degreesToRadians","$divide","$eq","$exp","$filter","$first","$floor","$function","$gt","$gte","$hour","$ifNull","$in","$indexOfArray","$indexOfBytes","$indexOfCP","$isArray","$isNumber","$isoDayOfWeek","$isoWeek","$isoWeekYear","$last","$last","$let","$literal","$ln","$log","$log10","$lt","$lte","$ltrim","$map","$max","$mergeObjects","$meta","$min","$millisecond","$minute","$mod","$month","$multiply","$ne","$not","$objectToArray","$or","$pow","$push","$radiansToDegrees","$range","$reduce","$regexFind","$regexFindAll","$regexMatch","$replaceOne","$replaceAll","$reverseArray","$round","$rtrim","$second","$setDifference","$setEquals","$setIntersection","$setIsSubset","$setUnion","$size","$sin","$slice","$split","$sqrt","$stdDevPop","$stdDevSamp","$strcasecmp","$strLenBytes","$strLenCP","$substr","$substrBytes","$substrCP","$subtract","$sum","$switch","$tan","$toBool","$toDate","$toDecimal","$toDouble","$toInt","$toLong","$toObjectId","$toString","$toLower","$toUpper","$trim","$trunc","$type","$week","$year","$zip","$count","$dateAdd","$dateDiff","$dateSubtract","$dateTrunc","$getField","$rand","$sampleRate","$setField","$unsetField","$comment","$explain","$hint","$max","$maxTimeMS","$min","$orderby","$query","$returnKey","$showDiskLoc","$natural"],r=["ObjectId","Code","BinData","DBRef","Timestamp","NumberLong","NumberDecimal","MaxKey","MinKey","RegExp","ISODate","UUID"];n=n.map(function(l){return l.replace("$","\\$")});var a="(?:"+n.join("|")+")\\b";t.languages.mongodb=t.languages.extend("javascript",{}),t.languages.insertBefore("mongodb","string",{property:{pattern:/(?:(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)(?=\s*:)/,greedy:!0,inside:{keyword:RegExp(`^(['"])?`+a+"(?:\\1)?$")}}}),t.languages.mongodb.string.inside={url:{pattern:/https?:\/\/[-\w@:%.+~#=]{1,256}\.[a-z0-9()]{1,6}\b[-\w()@:%+.~#?&/=]*/i,greedy:!0},entity:{pattern:/\b(?:(?:[01]?\d\d?|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d\d?|2[0-4]\d|25[0-5])\b/,greedy:!0}},t.languages.insertBefore("mongodb","constant",{builtin:{pattern:RegExp("\\b(?:"+r.join("|")+")\\b"),alias:"keyword"}})})(e)}$6.displayName="monkey";$6.aliases=[];function $6(e){e.languages.monkey={comment:{pattern:/^#Rem\s[\s\S]*?^#End|'.+/im,greedy:!0},string:{pattern:/"[^"\r\n]*"/,greedy:!0},preprocessor:{pattern:/(^[ \t]*)#.+/m,lookbehind:!0,greedy:!0,alias:"property"},function:/\b\w+(?=\()/,"type-char":{pattern:/\b[?%#$]/,alias:"class-name"},number:{pattern:/((?:\.\.)?)(?:(?:\b|\B-\.?|\B\.)\d+(?:(?!\.\.)\.\d*)?|\$[\da-f]+)/i,lookbehind:!0},keyword:/\b(?:Abstract|Array|Bool|Case|Catch|Class|Const|Continue|Default|Eachin|Else|ElseIf|End|EndIf|Exit|Extends|Extern|False|Field|Final|Float|For|Forever|Function|Global|If|Implements|Import|Inline|Int|Interface|Local|Method|Module|New|Next|Null|Object|Private|Property|Public|Repeat|Return|Select|Self|Step|Strict|String|Super|Then|Throw|To|True|Try|Until|Void|Wend|While)\b/i,operator:/\.\.|<[=>]?|>=?|:?=|(?:[+\-*\/&~|]|\b(?:Mod|Shl|Shr)\b)=?|\b(?:And|Not|Or)\b/i,punctuation:/[.,:;()\[\]]/}}j6.displayName="moonscript";j6.aliases=["moon"];function j6(e){e.languages.moonscript={comment:/--.*/,string:[{pattern:/'[^']*'|\[(=*)\[[\s\S]*?\]\1\]/,greedy:!0},{pattern:/"[^"]*"/,greedy:!0,inside:{interpolation:{pattern:/#\{[^{}]*\}/,inside:{moonscript:{pattern:/(^#\{)[\s\S]+(?=\})/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/#\{|\}/,alias:"punctuation"}}}}}],"class-name":[{pattern:/(\b(?:class|extends)[ \t]+)\w+/,lookbehind:!0},/\b[A-Z]\w*/],keyword:/\b(?:class|continue|do|else|elseif|export|extends|for|from|if|import|in|local|nil|return|self|super|switch|then|unless|using|when|while|with)\b/,variable:/@@?\w*/,property:{pattern:/\b(?!\d)\w+(?=:)|(:)(?!\d)\w+/,lookbehind:!0},function:{pattern:/\b(?:_G|_VERSION|assert|collectgarbage|coroutine\.(?:create|resume|running|status|wrap|yield)|debug\.(?:debug|getfenv|gethook|getinfo|getlocal|getmetatable|getregistry|getupvalue|setfenv|sethook|setlocal|setmetatable|setupvalue|traceback)|dofile|error|getfenv|getmetatable|io\.(?:close|flush|input|lines|open|output|popen|read|stderr|stdin|stdout|tmpfile|type|write)|ipairs|load|loadfile|loadstring|math\.(?:abs|acos|asin|atan|atan2|ceil|cos|cosh|deg|exp|floor|fmod|frexp|ldexp|log|log10|max|min|modf|pi|pow|rad|random|randomseed|sin|sinh|sqrt|tan|tanh)|module|next|os\.(?:clock|date|difftime|execute|exit|getenv|remove|rename|setlocale|time|tmpname)|package\.(?:cpath|loaded|loadlib|path|preload|seeall)|pairs|pcall|print|rawequal|rawget|rawset|require|select|setfenv|setmetatable|string\.(?:byte|char|dump|find|format|gmatch|gsub|len|lower|match|rep|reverse|sub|upper)|table\.(?:concat|insert|maxn|remove|sort)|tonumber|tostring|type|unpack|xpcall)\b/,inside:{punctuation:/\./}},boolean:/\b(?:false|true)\b/,number:/(?:\B\.\d+|\b\d+\.\d+|\b\d+(?=[eE]))(?:[eE][-+]?\d+)?\b|\b(?:0x[a-fA-F\d]+|\d+)(?:U?LL)?\b/,operator:/\.{3}|[-=]>|~=|(?:[-+*/%<>!=]|\.\.)=?|[:#^]|\b(?:and|or)\b=?|\b(?:not)\b/,punctuation:/[.,()[\]{}\\]/},e.languages.moonscript.string[1].inside.interpolation.inside.moonscript.inside=e.languages.moonscript,e.languages.moon=e.languages.moonscript}z6.displayName="n1ql";z6.aliases=[];function z6(e){e.languages.n1ql={comment:{pattern:/\/\*[\s\S]*?(?:$|\*\/)|--.*/,greedy:!0},string:{pattern:/(["'])(?:\\[\s\S]|(?!\1)[^\\]|\1\1)*\1/,greedy:!0},identifier:{pattern:/`(?:\\[\s\S]|[^\\`]|``)*`/,greedy:!0},parameter:/\$[\w.]+/,keyword:/\b(?:ADVISE|ALL|ALTER|ANALYZE|AS|ASC|AT|BEGIN|BINARY|BOOLEAN|BREAK|BUCKET|BUILD|BY|CALL|CAST|CLUSTER|COLLATE|COLLECTION|COMMIT|COMMITTED|CONNECT|CONTINUE|CORRELATE|CORRELATED|COVER|CREATE|CURRENT|DATABASE|DATASET|DATASTORE|DECLARE|DECREMENT|DELETE|DERIVED|DESC|DESCRIBE|DISTINCT|DO|DROP|EACH|ELEMENT|EXCEPT|EXCLUDE|EXECUTE|EXPLAIN|FETCH|FILTER|FLATTEN|FLUSH|FOLLOWING|FOR|FORCE|FROM|FTS|FUNCTION|GOLANG|GRANT|GROUP|GROUPS|GSI|HASH|HAVING|IF|IGNORE|ILIKE|INCLUDE|INCREMENT|INDEX|INFER|INLINE|INNER|INSERT|INTERSECT|INTO|IS|ISOLATION|JAVASCRIPT|JOIN|KEY|KEYS|KEYSPACE|KNOWN|LANGUAGE|LAST|LEFT|LET|LETTING|LEVEL|LIMIT|LSM|MAP|MAPPING|MATCHED|MATERIALIZED|MERGE|MINUS|MISSING|NAMESPACE|NEST|NL|NO|NTH_VALUE|NULL|NULLS|NUMBER|OBJECT|OFFSET|ON|OPTION|OPTIONS|ORDER|OTHERS|OUTER|OVER|PARSE|PARTITION|PASSWORD|PATH|POOL|PRECEDING|PREPARE|PRIMARY|PRIVATE|PRIVILEGE|PROBE|PROCEDURE|PUBLIC|RANGE|RAW|REALM|REDUCE|RENAME|RESPECT|RETURN|RETURNING|REVOKE|RIGHT|ROLE|ROLLBACK|ROW|ROWS|SATISFIES|SAVEPOINT|SCHEMA|SCOPE|SELECT|SELF|SEMI|SET|SHOW|SOME|START|STATISTICS|STRING|SYSTEM|TIES|TO|TRAN|TRANSACTION|TRIGGER|TRUNCATE|UNBOUNDED|UNDER|UNION|UNIQUE|UNKNOWN|UNNEST|UNSET|UPDATE|UPSERT|USE|USER|USING|VALIDATE|VALUE|VALUES|VIA|VIEW|WHERE|WHILE|WINDOW|WITH|WORK|XOR)\b/i,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:FALSE|TRUE)\b/i,number:/(?:\b\d+\.|\B\.)\d+e[+\-]?\d+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/%]|!=|==?|\|\||<[>=]?|>=?|\b(?:AND|ANY|ARRAY|BETWEEN|CASE|ELSE|END|EVERY|EXISTS|FIRST|IN|LIKE|NOT|OR|THEN|VALUED|WHEN|WITHIN)\b/i,punctuation:/[;[\](),.{}:]/}}U6.displayName="nand2tetris-hdl";U6.aliases=[];function U6(e){e.languages["nand2tetris-hdl"]={comment:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,keyword:/\b(?:BUILTIN|CHIP|CLOCKED|IN|OUT|PARTS)\b/,boolean:/\b(?:false|true)\b/,function:/\b[A-Za-z][A-Za-z0-9]*(?=\()/,number:/\b\d+\b/,operator:/=|\.\./,punctuation:/[{}[\];(),:]/}}G6.displayName="naniscript";G6.aliases=["nani"];function G6(e){(function(t){var n=/\{[^\r\n\[\]{}]*\}/,r={"quoted-string":{pattern:/"(?:[^"\\]|\\.)*"/,alias:"operator"},"command-param-id":{pattern:/(\s)\w+:/,lookbehind:!0,alias:"property"},"command-param-value":[{pattern:n,alias:"selector"},{pattern:/([\t ])\S+/,lookbehind:!0,greedy:!0,alias:"operator"},{pattern:/\S(?:.*\S)?/,alias:"operator"}]};t.languages.naniscript={comment:{pattern:/^([\t ]*);.*/m,lookbehind:!0},define:{pattern:/^>.+/m,alias:"tag",inside:{value:{pattern:/(^>\w+[\t ]+)(?!\s)[^{}\r\n]+/,lookbehind:!0,alias:"operator"},key:{pattern:/(^>)\w+/,lookbehind:!0}}},label:{pattern:/^([\t ]*)#[\t ]*\w+[\t ]*$/m,lookbehind:!0,alias:"regex"},command:{pattern:/^([\t ]*)@\w+(?=[\t ]|$).*/m,lookbehind:!0,alias:"function",inside:{"command-name":/^@\w+/,expression:{pattern:n,greedy:!0,alias:"selector"},"command-params":{pattern:/\s*\S[\s\S]*/,inside:r}}},"generic-text":{pattern:/(^[ \t]*)[^#@>;\s].*/m,lookbehind:!0,alias:"punctuation",inside:{"escaped-char":/\\[{}\[\]"]/,expression:{pattern:n,greedy:!0,alias:"selector"},"inline-command":{pattern:/\[[\t ]*\w[^\r\n\[\]]*\]/,greedy:!0,alias:"function",inside:{"command-params":{pattern:/(^\[[\t ]*\w+\b)[\s\S]+(?=\]$)/,lookbehind:!0,inside:r},"command-param-name":{pattern:/^(\[[\t ]*)\w+/,lookbehind:!0,alias:"name"},"start-stop-char":/[\[\]]/}}}}},t.languages.nani=t.languages.naniscript,t.hooks.add("after-tokenize",function(u){var i=u.tokens;i.forEach(function(m){if(typeof m!="string"&&m.type==="generic-text"){var b=l(m);a(b)||(m.type="bad-line",m.content=b)}})});function a(u){for(var i="[]{}",m=[],b=0;b<u.length;b++){var _=u[b],w=i.indexOf(_);if(w!==-1){if(w%2===0)m.push(w+1);else if(m.pop()!==w)return!1}}return m.length===0}function l(u){return typeof u=="string"?u:Array.isArray(u)?u.map(l).join(""):l(u.content)}})(e)}H6.displayName="nasm";H6.aliases=[];function H6(e){e.languages.nasm={comment:/;.*$/m,string:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,label:{pattern:/(^\s*)[A-Za-z._?$][\w.?$@~#]*:/m,lookbehind:!0,alias:"function"},keyword:[/\[?BITS (?:16|32|64)\]?/,{pattern:/(^\s*)section\s*[a-z.]+:?/im,lookbehind:!0},/(?:extern|global)[^;\r\n]*/i,/(?:CPU|DEFAULT|FLOAT).*$/m],register:{pattern:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s)\b/i,alias:"variable"},number:/(?:\b|(?=\$))(?:0[hx](?:\.[\da-f]+|[\da-f]+(?:\.[\da-f]+)?)(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-\/%<>=&|$!]/}}V6.displayName="neon";V6.aliases=[];function V6(e){e.languages.neon={comment:{pattern:/#.*/,greedy:!0},datetime:{pattern:/(^|[[{(=:,\s])\d\d\d\d-\d\d?-\d\d?(?:(?:[Tt]| +)\d\d?:\d\d:\d\d(?:\.\d*)? *(?:Z|[-+]\d\d?(?::?\d\d)?)?)?(?=$|[\]}),\s])/,lookbehind:!0,alias:"number"},key:{pattern:/(^|[[{(,\s])[^,:=[\]{}()'"\s]+(?=\s*:(?:$|[\]}),\s])|\s*=)/,lookbehind:!0,alias:"property"},number:{pattern:/(^|[[{(=:,\s])[+-]?(?:0x[\da-fA-F]+|0o[0-7]+|0b[01]+|(?:\d+(?:\.\d*)?|\.?\d+)(?:[eE][+-]?\d+)?)(?=$|[\]}),:=\s])/,lookbehind:!0},boolean:{pattern:/(^|[[{(=:,\s])(?:false|no|true|yes)(?=$|[\]}),:=\s])/i,lookbehind:!0},null:{pattern:/(^|[[{(=:,\s])(?:null)(?=$|[\]}),:=\s])/i,lookbehind:!0,alias:"keyword"},string:{pattern:/(^|[[{(=:,\s])(?:('''|""")\r?\n(?:(?:[^\r\n]|\r?\n(?![\t ]*\2))*\r?\n)?[\t ]*\2|'[^'\r\n]*'|"(?:\\.|[^\\"\r\n])*")/,lookbehind:!0,greedy:!0},literal:{pattern:/(^|[[{(=:,\s])(?:[^#"',:=[\]{}()\s`-]|[:-][^"',=[\]{}()\s])(?:[^,:=\]})(\s]|:(?![\s,\]})]|$)|[ \t]+[^#,:=\]})(\s])*/,lookbehind:!0,alias:"string"},punctuation:/[,:=[\]{}()-]/}}q6.displayName="nevod";q6.aliases=[];function q6(e){e.languages.nevod={comment:/\/\/.*|(?:\/\*[\s\S]*?(?:\*\/|$))/,string:{pattern:/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))!?\*?/,greedy:!0,inside:{"string-attrs":/!$|!\*$|\*$/}},namespace:{pattern:/(@namespace\s+)[a-zA-Z0-9\-.]+(?=\s*\{)/,lookbehind:!0},pattern:{pattern:/(@pattern\s+)?#?[a-zA-Z0-9\-.]+(?:\s*\(\s*(?:~\s*)?[a-zA-Z0-9\-.]+\s*(?:,\s*(?:~\s*)?[a-zA-Z0-9\-.]*)*\))?(?=\s*=)/,lookbehind:!0,inside:{"pattern-name":{pattern:/^#?[a-zA-Z0-9\-.]+/,alias:"class-name"},fields:{pattern:/\(.*\)/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},punctuation:/[,()]/,operator:{pattern:/~/,alias:"field-hidden-mark"}}}}},search:{pattern:/(@search\s+|#)[a-zA-Z0-9\-.]+(?:\.\*)?(?=\s*;)/,alias:"function",lookbehind:!0},keyword:/@(?:having|inside|namespace|outside|pattern|require|search|where)\b/,"standard-pattern":{pattern:/\b(?:Alpha|AlphaNum|Any|Blank|End|LineBreak|Num|NumAlpha|Punct|Space|Start|Symbol|Word|WordBreak)\b(?:\([a-zA-Z0-9\-.,\s+]*\))?/,inside:{"standard-pattern-name":{pattern:/^[a-zA-Z0-9\-.]+/,alias:"builtin"},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},"standard-pattern-attr":{pattern:/[a-zA-Z0-9\-.]+/,alias:"builtin"},punctuation:/[,()]/}},quantifier:{pattern:/\b\d+(?:\s*\+|\s*-\s*\d+)?(?!\w)/,alias:"number"},operator:[{pattern:/=/,alias:"pattern-def"},{pattern:/&/,alias:"conjunction"},{pattern:/~/,alias:"exception"},{pattern:/\?/,alias:"optionality"},{pattern:/[[\]]/,alias:"repetition"},{pattern:/[{}]/,alias:"variation"},{pattern:/[+_]/,alias:"sequence"},{pattern:/\.{2,3}/,alias:"span"}],"field-capture":[{pattern:/([a-zA-Z0-9\-.]+\s*\()\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+(?:\s*,\s*[a-zA-Z0-9\-.]+\s*:\s*[a-zA-Z0-9\-.]+)*(?=\s*\))/,lookbehind:!0,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}},{pattern:/[a-zA-Z0-9\-.]+\s*:/,inside:{"field-name":{pattern:/[a-zA-Z0-9\-.]+/,alias:"variable"},colon:/:/}}],punctuation:/[:;,()]/,name:/[a-zA-Z0-9\-.]+/}}Y6.displayName="nginx";Y6.aliases=[];function Y6(e){(function(t){var n=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;t.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:n}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:n}},punctuation:/[{};]/}})(e)}W6.displayName="nim";W6.aliases=[];function W6(e){e.languages.nim={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/(?:\b(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+)?(?:"""[\s\S]*?"""(?!")|"(?:\\[\s\S]|""|[^"\\])*")/,greedy:!0},char:{pattern:/'(?:\\(?:\d+|x[\da-fA-F]{0,2}|.)|[^'])'/,greedy:!0},function:{pattern:/(?:(?!\d)(?:\w|\\x[89a-fA-F][0-9a-fA-F])+|`[^`\r\n]+`)\*?(?:\[[^\]]+\])?(?=\s*\()/,greedy:!0,inside:{operator:/\*$/}},identifier:{pattern:/`[^`\r\n]+`/,greedy:!0,inside:{punctuation:/`/}},number:/\b(?:0[xXoObB][\da-fA-F_]+|\d[\d_]*(?:(?!\.\.)\.[\d_]*)?(?:[eE][+-]?\d[\d_]*)?)(?:'?[iuf]\d*)?/,keyword:/\b(?:addr|as|asm|atomic|bind|block|break|case|cast|concept|const|continue|converter|defer|discard|distinct|do|elif|else|end|enum|except|export|finally|for|from|func|generic|if|import|include|interface|iterator|let|macro|method|mixin|nil|object|out|proc|ptr|raise|ref|return|static|template|try|tuple|type|using|var|when|while|with|without|yield)\b/,operator:{pattern:/(^|[({\[](?=\.\.)|(?![({\[]\.).)(?:(?:[=+\-*\/<>@$~&%|!?^:\\]|\.\.|\.(?![)}\]]))+|\b(?:and|div|in|is|isnot|mod|not|notin|of|or|shl|shr|xor)\b)/m,lookbehind:!0},punctuation:/[({\[]\.|\.[)}\]]|[`(){}\[\],:]/}}Z6.displayName="nix";Z6.aliases=[];function Z6(e){e.languages.nix={comment:{pattern:/\/\*[\s\S]*?\*\/|#.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"|''(?:(?!'')[\s\S]|''(?:'|\\|\$\{))*''/,greedy:!0,inside:{interpolation:{pattern:/(^|(?:^|(?!'').)[^\\])\$\{(?:[^{}]|\{[^}]*\})*\}/,lookbehind:!0,inside:null}}},url:[/\b(?:[a-z]{3,7}:\/\/)[\w\-+%~\/.:#=?&]+/,{pattern:/([^\/])(?:[\w\-+%~.:#=?&]*(?!\/\/)[\w\-+%~\/.:#=?&])?(?!\/\/)\/[\w\-+%~\/.:#=?&]*/,lookbehind:!0}],antiquotation:{pattern:/\$(?=\{)/,alias:"important"},number:/\b\d+\b/,keyword:/\b(?:assert|builtins|else|if|in|inherit|let|null|or|then|with)\b/,function:/\b(?:abort|add|all|any|attrNames|attrValues|baseNameOf|compareVersions|concatLists|currentSystem|deepSeq|derivation|dirOf|div|elem(?:At)?|fetch(?:Tarball|url)|filter(?:Source)?|fromJSON|genList|getAttr|getEnv|hasAttr|hashString|head|import|intersectAttrs|is(?:Attrs|Bool|Function|Int|List|Null|String)|length|lessThan|listToAttrs|map|mul|parseDrvName|pathExists|read(?:Dir|File)|removeAttrs|replaceStrings|seq|sort|stringLength|sub(?:string)?|tail|throw|to(?:File|JSON|Path|String|XML)|trace|typeOf)\b|\bfoldl'\B/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|\+\+?|\|\||&&|\/\/|->?|[?@]/,punctuation:/[{}()[\].,:;]/},e.languages.nix.string.inside.interpolation.inside=e.languages.nix}X6.displayName="nsis";X6.aliases=[];function X6(e){e.languages.nsis={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|[#;].*)/,lookbehind:!0,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:{pattern:/(^[\t ]*)(?:Abort|Add(?:BrandingImage|Size)|AdvSplash|Allow(?:RootDirInstall|SkipFiles)|AutoCloseWindow|BG(?:Font|Gradient|Image)|Banner|BrandingText|BringToFront|CRCCheck|Call(?:InstDLL)?|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|Create(?:Directory|Font|ShortCut)|Delete(?:INISec|INIStr|RegKey|RegValue)?|Detail(?:Print|sButtonText)|Dialer|Dir(?:Text|Var|Verify)|EnableWindow|Enum(?:RegKey|RegValue)|Exch|Exec(?:Shell(?:Wait)?|Wait)?|ExpandEnvStrings|File(?:BufSize|Close|ErrorText|Open|Read|ReadByte|ReadUTF16LE|ReadWord|Seek|Write|WriteByte|WriteUTF16LE|WriteWord)?|Find(?:Close|First|Next|Window)|FlushINI|Get(?:CurInstType|CurrentAddress|DLLVersion(?:Local)?|DlgItem|ErrorLevel|FileTime(?:Local)?|FullPathName|Function(?:Address|End)?|InstDirError|KnownFolderPath|LabelAddress|TempFileName|WinVer)|Goto|HideWindow|Icon|If(?:Abort|Errors|FileExists|RebootFlag|RtlLanguage|ShellVarContextAll|Silent)|InitPluginsDir|InstProgressFlags|Inst(?:Type(?:GetText|SetText)?)|Install(?:ButtonText|Colors|Dir(?:RegKey)?)|Int(?:64|Ptr)?CmpU?|Int(?:64)?Fmt|Int(?:Ptr)?Op|IsWindow|Lang(?:DLL|String)|License(?:BkColor|Data|ForceSelection|LangString|Text)|LoadLanguageFile|LockWindow|Log(?:Set|Text)|Manifest(?:DPIAware|SupportedOS)|Math|MessageBox|MiscButtonText|NSISdl|Name|Nop|OutFile|PE(?:DllCharacteristics|SubsysVer)|Page(?:Callbacks)?|Pop|Push|Quit|RMDir|Read(?:EnvStr|INIStr|RegDWORD|RegStr)|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|SearchPath|Section(?:End|GetFlags|GetInstTypes|GetSize|GetText|Group|In|SetFlags|SetInstTypes|SetSize|SetText)?|SendMessage|Set(?:AutoClose|BrandingImage|Compress|Compressor(?:DictSize)?|CtlColors|CurInstType|DatablockOptimize|DateSave|Details(?:Print|View)|ErrorLevel|Errors|FileAttributes|Font|OutPath|Overwrite|PluginUnload|RebootFlag|RegView|ShellVarContext|Silent)|Show(?:InstDetails|UninstDetails|Window)|Silent(?:Install|UnInstall)|Sleep|SpaceTexts|Splash|StartMenu|Str(?:CmpS?|Cpy|Len)|SubCaption|System|Target|UnRegDLL|Unicode|UninstPage|Uninstall(?:ButtonText|Caption|Icon|SubCaption|Text)|UserInfo|VI(?:AddVersionKey|FileVersion|ProductVersion)|VPatch|Var|WindowIcon|Write(?:INIStr|Reg(?:Bin|DWORD|ExpandStr|MultiStr|None|Str)|Uninstaller)|XPStyle|ns(?:Dialogs|Exec))\b/m,lookbehind:!0},property:/\b(?:ARCHIVE|FILE_(?:ATTRIBUTE_ARCHIVE|ATTRIBUTE_NORMAL|ATTRIBUTE_OFFLINE|ATTRIBUTE_READONLY|ATTRIBUTE_SYSTEM|ATTRIBUTE_TEMPORARY)|HK(?:(?:CR|CU|LM)(?:32|64)?|DD|PD|U)|HKEY_(?:CLASSES_ROOT|CURRENT_CONFIG|CURRENT_USER|DYN_DATA|LOCAL_MACHINE|PERFORMANCE_DATA|USERS)|ID(?:ABORT|CANCEL|IGNORE|NO|OK|RETRY|YES)|MB_(?:ABORTRETRYIGNORE|DEFBUTTON1|DEFBUTTON2|DEFBUTTON3|DEFBUTTON4|ICONEXCLAMATION|ICONINFORMATION|ICONQUESTION|ICONSTOP|OK|OKCANCEL|RETRYCANCEL|RIGHT|RTLREADING|SETFOREGROUND|TOPMOST|USERICON|YESNO)|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SYSTEM|TEMPORARY|admin|all|auto|both|colored|false|force|hide|highest|lastused|leave|listonly|none|normal|notset|off|on|open|print|show|silent|silentlog|smooth|textonly|true|user)\b/,constant:/\$\{[!\w\.:\^-]+\}|\$\([!\w\.:\^-]+\)/,variable:/\$\w[\w\.]*/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--?|\+\+?|<=?|>=?|==?=?|&&?|\|\|?|[?*\/~^%]/,punctuation:/[{}[\];(),.:]/,important:{pattern:/(^[\t ]*)!(?:addincludedir|addplugindir|appendfile|cd|define|delfile|echo|else|endif|error|execute|finalize|getdllversion|gettlbversion|if|ifdef|ifmacrodef|ifmacrondef|ifndef|include|insertmacro|macro|macroend|makensis|packhdr|pragma|searchparse|searchreplace|system|tempfile|undef|verbose|warning)\b/im,lookbehind:!0}}}K6.displayName="ocaml";K6.aliases=[];function K6(e){e.languages.ocaml={comment:{pattern:/\(\*[\s\S]*?\*\)/,greedy:!0},char:{pattern:/'(?:[^\\\r\n']|\\(?:.|[ox]?[0-9a-f]{1,3}))'/i,greedy:!0},string:[{pattern:/"(?:\\(?:[\s\S]|\r\n)|[^\\\r\n"])*"/,greedy:!0},{pattern:/\{([a-z_]*)\|[\s\S]*?\|\1\}/,greedy:!0}],number:[/\b(?:0b[01][01_]*|0o[0-7][0-7_]*)\b/i,/\b0x[a-f0-9][a-f0-9_]*(?:\.[a-f0-9_]*)?(?:p[+-]?\d[\d_]*)?(?!\w)/i,/\b\d[\d_]*(?:\.[\d_]*)?(?:e[+-]?\d[\d_]*)?(?!\w)/i],directive:{pattern:/\B#\w+/,alias:"property"},label:{pattern:/\B~\w+/,alias:"property"},"type-variable":{pattern:/\B'\w+/,alias:"function"},variant:{pattern:/`\w+/,alias:"symbol"},keyword:/\b(?:as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|match|method|module|mutable|new|nonrec|object|of|open|private|rec|sig|struct|then|to|try|type|val|value|virtual|when|where|while|with)\b/,boolean:/\b(?:false|true)\b/,"operator-like-punctuation":{pattern:/\[[<>|]|[>|]\]|\{<|>\}/,alias:"punctuation"},operator:/\.[.~]|:[=>]|[=<>@^|&+\-*\/$%!?~][!$%&*+\-.\/:<=>?@^|~]*|\b(?:and|asr|land|lor|lsl|lsr|lxor|mod|or)\b/,punctuation:/;;|::|[(){}\[\].,:;#]|\b_\b/}}Q6.displayName="odin";Q6.aliases=[];function Q6(e){(function(t){var n=/\\(?:["'\\abefnrtv]|0[0-7]{2}|U[\dA-Fa-f]{6}|u[\dA-Fa-f]{4}|x[\dA-Fa-f]{2})/;t.languages.odin={comment:[{pattern:/\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:\*(?!\/)|[^*])*(?:\*\/|$))*(?:\*\/|$)/,greedy:!0},{pattern:/#![^\n\r]*/,greedy:!0},{pattern:/\/\/[^\n\r]*/,greedy:!0}],char:{pattern:/'(?:\\(?:.|[0Uux][0-9A-Fa-f]{1,6})|[^\n\r'\\])'/,greedy:!0,inside:{symbol:n}},string:[{pattern:/`[^`]*`/,greedy:!0},{pattern:/"(?:\\.|[^\n\r"\\])*"/,greedy:!0,inside:{symbol:n}}],directive:{pattern:/#\w+/,alias:"property"},number:/\b0(?:b[01_]+|d[\d_]+|h_*(?:(?:(?:[\dA-Fa-f]_*){8}){1,2}|(?:[\dA-Fa-f]_*){4})|o[0-7_]+|x[\dA-F_a-f]+|z[\dAB_ab]+)\b|(?:\b\d+(?:\.(?!\.)\d*)?|\B\.\d+)(?:[Ee][+-]?\d*)?[ijk]?(?!\w)/,discard:{pattern:/\b_\b/,alias:"keyword"},"procedure-definition":{pattern:/\b\w+(?=[ \t]*(?::\s*){2}proc\b)/,alias:"function"},keyword:/\b(?:asm|auto_cast|bit_set|break|case|cast|context|continue|defer|distinct|do|dynamic|else|enum|fallthrough|for|foreign|if|import|in|map|matrix|not_in|or_else|or_return|package|proc|return|struct|switch|transmute|typeid|union|using|when|where)\b/,"procedure-name":{pattern:/\b\w+(?=[ \t]*\()/,alias:"function"},boolean:/\b(?:false|nil|true)\b/,"constant-parameter-sign":{pattern:/\$/,alias:"important"},undefined:{pattern:/---/,alias:"operator"},arrow:{pattern:/->/,alias:"punctuation"},operator:/\+\+|--|\.\.[<=]?|(?:&~|[-!*+/=~]|[%&<>|]{1,2})=?|[?^]/,punctuation:/[(),.:;@\[\]{}]/}})(e)}J6.displayName="opencl";J6.aliases=[];function J6(e){e.register(gg),(function(t){t.languages.opencl=t.languages.extend("c",{keyword:/\b(?:(?:__)?(?:constant|global|kernel|local|private|read_only|read_write|write_only)|__attribute__|auto|(?:bool|u?(?:char|int|long|short)|half|quad)(?:2|3|4|8|16)?|break|case|complex|const|continue|(?:double|float)(?:16(?:x(?:1|2|4|8|16))?|1x(?:1|2|4|8|16)|2(?:x(?:1|2|4|8|16))?|3|4(?:x(?:1|2|4|8|16))?|8(?:x(?:1|2|4|8|16))?)?|default|do|else|enum|extern|for|goto|if|imaginary|inline|packed|pipe|register|restrict|return|signed|sizeof|static|struct|switch|typedef|uniform|union|unsigned|void|volatile|while)\b/,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[fuhl]{0,4}/i,boolean:/\b(?:false|true)\b/,"constant-opencl-kernel":{pattern:/\b(?:CHAR_(?:BIT|MAX|MIN)|CLK_(?:ADDRESS_(?:CLAMP(?:_TO_EDGE)?|NONE|REPEAT)|FILTER_(?:LINEAR|NEAREST)|(?:GLOBAL|LOCAL)_MEM_FENCE|NORMALIZED_COORDS_(?:FALSE|TRUE))|CL_(?:BGRA|(?:HALF_)?FLOAT|INTENSITY|LUMINANCE|A?R?G?B?[Ax]?|(?:(?:UN)?SIGNED|[US]NORM)_(?:INT(?:8|16|32))|UNORM_(?:INT_101010|SHORT_(?:555|565)))|(?:DBL|FLT|HALF)_(?:DIG|EPSILON|(?:MAX|MIN)(?:(?:_10)?_EXP)?|MANT_DIG)|FLT_RADIX|HUGE_VALF?|(?:INT|LONG|SCHAR|SHRT)_(?:MAX|MIN)|INFINITY|MAXFLOAT|M_(?:[12]_PI|2_SQRTPI|E|LN(?:2|10)|LOG(?:2|10)E?|PI(?:_[24])?|SQRT(?:1_2|2))(?:_F|_H)?|NAN|(?:UCHAR|UINT|ULONG|USHRT)_MAX)\b/,alias:"constant"}}),t.languages.insertBefore("opencl","class-name",{"builtin-type":{pattern:/\b(?:_cl_(?:command_queue|context|device_id|event|kernel|mem|platform_id|program|sampler)|cl_(?:image_format|mem_fence_flags)|clk_event_t|event_t|image(?:1d_(?:array_|buffer_)?t|2d_(?:array_(?:depth_|msaa_depth_|msaa_)?|depth_|msaa_depth_|msaa_)?t|3d_t)|intptr_t|ndrange_t|ptrdiff_t|queue_t|reserve_id_t|sampler_t|size_t|uintptr_t)\b/,alias:"keyword"}});var n={"type-opencl-host":{pattern:/\b(?:cl_(?:GLenum|GLint|GLuin|addressing_mode|bitfield|bool|buffer_create_type|build_status|channel_(?:order|type)|(?:u?(?:char|int|long|short)|double|float)(?:2|3|4|8|16)?|command_(?:queue(?:_info|_properties)?|type)|context(?:_info|_properties)?|device_(?:exec_capabilities|fp_config|id|info|local_mem_type|mem_cache_type|type)|(?:event|sampler)(?:_info)?|filter_mode|half|image_info|kernel(?:_info|_work_group_info)?|map_flags|mem(?:_flags|_info|_object_type)?|platform_(?:id|info)|profiling_info|program(?:_build_info|_info)?))\b/,alias:"keyword"},"boolean-opencl-host":{pattern:/\bCL_(?:FALSE|TRUE)\b/,alias:"boolean"},"constant-opencl-host":{pattern:/\bCL_(?:A|ABGR|ADDRESS_(?:CLAMP(?:_TO_EDGE)?|MIRRORED_REPEAT|NONE|REPEAT)|ARGB|BGRA|BLOCKING|BUFFER_CREATE_TYPE_REGION|BUILD_(?:ERROR|IN_PROGRESS|NONE|PROGRAM_FAILURE|SUCCESS)|COMMAND_(?:ACQUIRE_GL_OBJECTS|BARRIER|COPY_(?:BUFFER(?:_RECT|_TO_IMAGE)?|IMAGE(?:_TO_BUFFER)?)|FILL_(?:BUFFER|IMAGE)|MAP(?:_BUFFER|_IMAGE)|MARKER|MIGRATE(?:_SVM)?_MEM_OBJECTS|NATIVE_KERNEL|NDRANGE_KERNEL|READ_(?:BUFFER(?:_RECT)?|IMAGE)|RELEASE_GL_OBJECTS|SVM_(?:FREE|MAP|MEMCPY|MEMFILL|UNMAP)|TASK|UNMAP_MEM_OBJECT|USER|WRITE_(?:BUFFER(?:_RECT)?|IMAGE))|COMPILER_NOT_AVAILABLE|COMPILE_PROGRAM_FAILURE|COMPLETE|CONTEXT_(?:DEVICES|INTEROP_USER_SYNC|NUM_DEVICES|PLATFORM|PROPERTIES|REFERENCE_COUNT)|DEPTH(?:_STENCIL)?|DEVICE_(?:ADDRESS_BITS|AFFINITY_DOMAIN_(?:L[1-4]_CACHE|NEXT_PARTITIONABLE|NUMA)|AVAILABLE|BUILT_IN_KERNELS|COMPILER_AVAILABLE|DOUBLE_FP_CONFIG|ENDIAN_LITTLE|ERROR_CORRECTION_SUPPORT|EXECUTION_CAPABILITIES|EXTENSIONS|GLOBAL_(?:MEM_(?:CACHELINE_SIZE|CACHE_SIZE|CACHE_TYPE|SIZE)|VARIABLE_PREFERRED_TOTAL_SIZE)|HOST_UNIFIED_MEMORY|IL_VERSION|IMAGE(?:2D_MAX_(?:HEIGHT|WIDTH)|3D_MAX_(?:DEPTH|HEIGHT|WIDTH)|_BASE_ADDRESS_ALIGNMENT|_MAX_ARRAY_SIZE|_MAX_BUFFER_SIZE|_PITCH_ALIGNMENT|_SUPPORT)|LINKER_AVAILABLE|LOCAL_MEM_SIZE|LOCAL_MEM_TYPE|MAX_(?:CLOCK_FREQUENCY|COMPUTE_UNITS|CONSTANT_ARGS|CONSTANT_BUFFER_SIZE|GLOBAL_VARIABLE_SIZE|MEM_ALLOC_SIZE|NUM_SUB_GROUPS|ON_DEVICE_(?:EVENTS|QUEUES)|PARAMETER_SIZE|PIPE_ARGS|READ_IMAGE_ARGS|READ_WRITE_IMAGE_ARGS|SAMPLERS|WORK_GROUP_SIZE|WORK_ITEM_DIMENSIONS|WORK_ITEM_SIZES|WRITE_IMAGE_ARGS)|MEM_BASE_ADDR_ALIGN|MIN_DATA_TYPE_ALIGN_SIZE|NAME|NATIVE_VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT)|NOT_(?:AVAILABLE|FOUND)|OPENCL_C_VERSION|PARENT_DEVICE|PARTITION_(?:AFFINITY_DOMAIN|BY_AFFINITY_DOMAIN|BY_COUNTS|BY_COUNTS_LIST_END|EQUALLY|FAILED|MAX_SUB_DEVICES|PROPERTIES|TYPE)|PIPE_MAX_(?:ACTIVE_RESERVATIONS|PACKET_SIZE)|PLATFORM|PREFERRED_(?:GLOBAL_ATOMIC_ALIGNMENT|INTEROP_USER_SYNC|LOCAL_ATOMIC_ALIGNMENT|PLATFORM_ATOMIC_ALIGNMENT|VECTOR_WIDTH_(?:CHAR|DOUBLE|FLOAT|HALF|INT|LONG|SHORT))|PRINTF_BUFFER_SIZE|PROFILE|PROFILING_TIMER_RESOLUTION|QUEUE_(?:ON_(?:DEVICE_(?:MAX_SIZE|PREFERRED_SIZE|PROPERTIES)|HOST_PROPERTIES)|PROPERTIES)|REFERENCE_COUNT|SINGLE_FP_CONFIG|SUB_GROUP_INDEPENDENT_FORWARD_PROGRESS|SVM_(?:ATOMICS|CAPABILITIES|COARSE_GRAIN_BUFFER|FINE_GRAIN_BUFFER|FINE_GRAIN_SYSTEM)|TYPE(?:_ACCELERATOR|_ALL|_CPU|_CUSTOM|_DEFAULT|_GPU)?|VENDOR(?:_ID)?|VERSION)|DRIVER_VERSION|EVENT_(?:COMMAND_(?:EXECUTION_STATUS|QUEUE|TYPE)|CONTEXT|REFERENCE_COUNT)|EXEC_(?:KERNEL|NATIVE_KERNEL|STATUS_ERROR_FOR_EVENTS_IN_WAIT_LIST)|FILTER_(?:LINEAR|NEAREST)|FLOAT|FP_(?:CORRECTLY_ROUNDED_DIVIDE_SQRT|DENORM|FMA|INF_NAN|ROUND_TO_INF|ROUND_TO_NEAREST|ROUND_TO_ZERO|SOFT_FLOAT)|GLOBAL|HALF_FLOAT|IMAGE_(?:ARRAY_SIZE|BUFFER|DEPTH|ELEMENT_SIZE|FORMAT|FORMAT_MISMATCH|FORMAT_NOT_SUPPORTED|HEIGHT|NUM_MIP_LEVELS|NUM_SAMPLES|ROW_PITCH|SLICE_PITCH|WIDTH)|INTENSITY|INVALID_(?:ARG_INDEX|ARG_SIZE|ARG_VALUE|BINARY|BUFFER_SIZE|BUILD_OPTIONS|COMMAND_QUEUE|COMPILER_OPTIONS|CONTEXT|DEVICE|DEVICE_PARTITION_COUNT|DEVICE_QUEUE|DEVICE_TYPE|EVENT|EVENT_WAIT_LIST|GLOBAL_OFFSET|GLOBAL_WORK_SIZE|GL_OBJECT|HOST_PTR|IMAGE_DESCRIPTOR|IMAGE_FORMAT_DESCRIPTOR|IMAGE_SIZE|KERNEL|KERNEL_ARGS|KERNEL_DEFINITION|KERNEL_NAME|LINKER_OPTIONS|MEM_OBJECT|MIP_LEVEL|OPERATION|PIPE_SIZE|PLATFORM|PROGRAM|PROGRAM_EXECUTABLE|PROPERTY|QUEUE_PROPERTIES|SAMPLER|VALUE|WORK_DIMENSION|WORK_GROUP_SIZE|WORK_ITEM_SIZE)|KERNEL_(?:ARG_(?:ACCESS_(?:NONE|QUALIFIER|READ_ONLY|READ_WRITE|WRITE_ONLY)|ADDRESS_(?:CONSTANT|GLOBAL|LOCAL|PRIVATE|QUALIFIER)|INFO_NOT_AVAILABLE|NAME|TYPE_(?:CONST|NAME|NONE|PIPE|QUALIFIER|RESTRICT|VOLATILE))|ATTRIBUTES|COMPILE_NUM_SUB_GROUPS|COMPILE_WORK_GROUP_SIZE|CONTEXT|EXEC_INFO_SVM_FINE_GRAIN_SYSTEM|EXEC_INFO_SVM_PTRS|FUNCTION_NAME|GLOBAL_WORK_SIZE|LOCAL_MEM_SIZE|LOCAL_SIZE_FOR_SUB_GROUP_COUNT|MAX_NUM_SUB_GROUPS|MAX_SUB_GROUP_SIZE_FOR_NDRANGE|NUM_ARGS|PREFERRED_WORK_GROUP_SIZE_MULTIPLE|PRIVATE_MEM_SIZE|PROGRAM|REFERENCE_COUNT|SUB_GROUP_COUNT_FOR_NDRANGE|WORK_GROUP_SIZE)|LINKER_NOT_AVAILABLE|LINK_PROGRAM_FAILURE|LOCAL|LUMINANCE|MAP_(?:FAILURE|READ|WRITE|WRITE_INVALIDATE_REGION)|MEM_(?:ALLOC_HOST_PTR|ASSOCIATED_MEMOBJECT|CONTEXT|COPY_HOST_PTR|COPY_OVERLAP|FLAGS|HOST_NO_ACCESS|HOST_PTR|HOST_READ_ONLY|HOST_WRITE_ONLY|KERNEL_READ_AND_WRITE|MAP_COUNT|OBJECT_(?:ALLOCATION_FAILURE|BUFFER|IMAGE1D|IMAGE1D_ARRAY|IMAGE1D_BUFFER|IMAGE2D|IMAGE2D_ARRAY|IMAGE3D|PIPE)|OFFSET|READ_ONLY|READ_WRITE|REFERENCE_COUNT|SIZE|SVM_ATOMICS|SVM_FINE_GRAIN_BUFFER|TYPE|USES_SVM_POINTER|USE_HOST_PTR|WRITE_ONLY)|MIGRATE_MEM_OBJECT_(?:CONTENT_UNDEFINED|HOST)|MISALIGNED_SUB_BUFFER_OFFSET|NONE|NON_BLOCKING|OUT_OF_(?:HOST_MEMORY|RESOURCES)|PIPE_(?:MAX_PACKETS|PACKET_SIZE)|PLATFORM_(?:EXTENSIONS|HOST_TIMER_RESOLUTION|NAME|PROFILE|VENDOR|VERSION)|PROFILING_(?:COMMAND_(?:COMPLETE|END|QUEUED|START|SUBMIT)|INFO_NOT_AVAILABLE)|PROGRAM_(?:BINARIES|BINARY_SIZES|BINARY_TYPE(?:_COMPILED_OBJECT|_EXECUTABLE|_LIBRARY|_NONE)?|BUILD_(?:GLOBAL_VARIABLE_TOTAL_SIZE|LOG|OPTIONS|STATUS)|CONTEXT|DEVICES|IL|KERNEL_NAMES|NUM_DEVICES|NUM_KERNELS|REFERENCE_COUNT|SOURCE)|QUEUED|QUEUE_(?:CONTEXT|DEVICE|DEVICE_DEFAULT|ON_DEVICE|ON_DEVICE_DEFAULT|OUT_OF_ORDER_EXEC_MODE_ENABLE|PROFILING_ENABLE|PROPERTIES|REFERENCE_COUNT|SIZE)|R|RA|READ_(?:ONLY|WRITE)_CACHE|RG|RGB|RGBA|RGBx|RGx|RUNNING|Rx|SAMPLER_(?:ADDRESSING_MODE|CONTEXT|FILTER_MODE|LOD_MAX|LOD_MIN|MIP_FILTER_MODE|NORMALIZED_COORDS|REFERENCE_COUNT)|(?:UN)?SIGNED_INT(?:8|16|32)|SNORM_INT(?:8|16)|SUBMITTED|SUCCESS|UNORM_INT(?:8|16|24|_101010|_101010_2)|UNORM_SHORT_(?:555|565)|VERSION_(?:1_0|1_1|1_2|2_0|2_1)|sBGRA|sRGB|sRGBA|sRGBx)\b/,alias:"constant"},"function-opencl-host":{pattern:/\bcl(?:BuildProgram|CloneKernel|CompileProgram|Create(?:Buffer|CommandQueue(?:WithProperties)?|Context|ContextFromType|Image|Image2D|Image3D|Kernel|KernelsInProgram|Pipe|ProgramWith(?:Binary|BuiltInKernels|IL|Source)|Sampler|SamplerWithProperties|SubBuffer|SubDevices|UserEvent)|Enqueue(?:(?:Barrier|Marker)(?:WithWaitList)?|Copy(?:Buffer(?:Rect|ToImage)?|Image(?:ToBuffer)?)|(?:Fill|Map)(?:Buffer|Image)|MigrateMemObjects|NDRangeKernel|NativeKernel|(?:Read|Write)(?:Buffer(?:Rect)?|Image)|SVM(?:Free|Map|MemFill|Memcpy|MigrateMem|Unmap)|Task|UnmapMemObject|WaitForEvents)|Finish|Flush|Get(?:CommandQueueInfo|ContextInfo|Device(?:AndHostTimer|IDs|Info)|Event(?:Profiling)?Info|ExtensionFunctionAddress(?:ForPlatform)?|HostTimer|ImageInfo|Kernel(?:ArgInfo|Info|SubGroupInfo|WorkGroupInfo)|MemObjectInfo|PipeInfo|Platform(?:IDs|Info)|Program(?:Build)?Info|SamplerInfo|SupportedImageFormats)|LinkProgram|(?:Release|Retain)(?:CommandQueue|Context|Device|Event|Kernel|MemObject|Program|Sampler)|SVM(?:Alloc|Free)|Set(?:CommandQueueProperty|DefaultDeviceCommandQueue|EventCallback|Kernel|Kernel(?:Arg(?:SVMPointer)?|ExecInfo)|MemObjectDestructorCallback|UserEventStatus)|Unload(?:Platform)?Compiler|WaitForEvents)\b/,alias:"function"}};t.languages.insertBefore("c","keyword",n),t.languages.cpp&&(n["type-opencl-host-cpp"]={pattern:/\b(?:Buffer|BufferGL|BufferRenderGL|CommandQueue|Context|Device|DeviceCommandQueue|EnqueueArgs|Event|Image|Image1D|Image1DArray|Image1DBuffer|Image2D|Image2DArray|Image2DGL|Image3D|Image3DGL|ImageFormat|ImageGL|Kernel|KernelFunctor|LocalSpaceArg|Memory|NDRange|Pipe|Platform|Program|SVMAllocator|SVMTraitAtomic|SVMTraitCoarse|SVMTraitFine|SVMTraitReadOnly|SVMTraitReadWrite|SVMTraitWriteOnly|Sampler|UserEvent)\b/,alias:"keyword"},t.languages.insertBefore("cpp","keyword",n))})(e)}e5.displayName="openqasm";e5.aliases=["qasm"];function e5(e){e.languages.openqasm={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"[^"\r\n\t]*"|'[^'\r\n\t]*'/,greedy:!0},keyword:/\b(?:CX|OPENQASM|U|barrier|boxas|boxto|break|const|continue|ctrl|def|defcal|defcalgrammar|delay|else|end|for|gate|gphase|if|in|include|inv|kernel|lengthof|let|measure|pow|reset|return|rotary|stretchinf|while)\b|#pragma\b/,"class-name":/\b(?:angle|bit|bool|creg|fixed|float|int|length|qreg|qubit|stretch|uint)\b/,function:/\b(?:cos|exp|ln|popcount|rotl|rotr|sin|sqrt|tan)\b(?=\s*\()/,constant:/\b(?:euler|pi|tau)\b|||/,number:{pattern:/(^|[^.\w$])(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?(?:dt|ns|us|s|ms|s)?/i,lookbehind:!0},operator:/->|>>=?|<<=?|&&|\|\||\+\+|--|[!=<>&|~^+\-*/%]=?|@/,punctuation:/[(){}\[\];,:.]/},e.languages.qasm=e.languages.openqasm}t5.displayName="oz";t5.aliases=[];function t5(e){e.languages.oz={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\[\s\S])*"/,greedy:!0},atom:{pattern:/'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,alias:"builtin"},keyword:/\$|\[\]|\b(?:_|at|attr|case|catch|choice|class|cond|declare|define|dis|else(?:case|if)?|end|export|fail|false|feat|finally|from|fun|functor|if|import|in|local|lock|meth|nil|not|of|or|prepare|proc|prop|raise|require|self|skip|then|thread|true|try|unit)\b/,function:[/\b[a-z][A-Za-z\d]*(?=\()/,{pattern:/(\{)[A-Z][A-Za-z\d]*\b/,lookbehind:!0}],number:/\b(?:0[bx][\da-f]+|\d+(?:\.\d*)?(?:e~?\d+)?)\b|&(?:[^\\]|\\(?:\d{3}|.))/i,variable:/`(?:[^`\\]|\\.)+`/,"attr-name":/\b\w+(?=[ \t]*:(?![:=]))/,operator:/:(?:=|::?)|<[-:=]?|=(?:=|<?:?)|>=?:?|\\=:?|!!?|[|#+\-*\/,~^@]|\b(?:andthen|div|mod|orelse)\b/,punctuation:/[\[\](){}.:;?]/}}n5.displayName="parigp";n5.aliases=[];function n5(e){e.languages.parigp={comment:/\/\*[\s\S]*?\*\/|\\\\.*/,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"/,greedy:!0},keyword:(function(){var t=["breakpoint","break","dbg_down","dbg_err","dbg_up","dbg_x","forcomposite","fordiv","forell","forpart","forprime","forstep","forsubgroup","forvec","for","iferr","if","local","my","next","return","until","while"];return t=t.map(function(n){return n.split("").join(" *")}).join("|"),RegExp("\\b(?:"+t+")\\b")})(),function:/\b\w(?:[\w ]*\w)?(?= *\()/,number:{pattern:/((?:\. *\. *)?)(?:\b\d(?: *\d)*(?: *(?!\. *\.)\.(?: *\d)*)?|\. *\d(?: *\d)*)(?: *e *(?:[+-] *)?\d(?: *\d)*)?/i,lookbehind:!0},operator:/\. *\.|[*\/!](?: *=)?|%(?: *=|(?: *#)?(?: *')*)?|\+(?: *[+=])?|-(?: *[-=>])?|<(?: *>|(?: *<)?(?: *=)?)?|>(?: *>)?(?: *=)?|=(?: *=){0,2}|\\(?: *\/)?(?: *=)?|&(?: *&)?|\| *\||['#~^]/,punctuation:/[\[\]{}().,:;|]/}}r5.displayName="parser";r5.aliases=[];function r5(e){e.register(nc),(function(t){var n=t.languages.parser=t.languages.extend("markup",{keyword:{pattern:/(^|[^^])(?:\^(?:case|eval|for|if|switch|throw)\b|@(?:BASE|CLASS|GET(?:_DEFAULT)?|OPTIONS|SET_DEFAULT|USE)\b)/,lookbehind:!0},variable:{pattern:/(^|[^^])\B\$(?:\w+|(?=[.{]))(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{punctuation:/\.|:+/}},function:{pattern:/(^|[^^])\B[@^]\w+(?:(?:\.|::?)\w+)*(?:\.|::?)?/,lookbehind:!0,inside:{keyword:{pattern:/(^@)(?:GET_|SET_)/,lookbehind:!0},punctuation:/\.|:+/}},escape:{pattern:/\^(?:[$^;@()\[\]{}"':]|#[a-f\d]*)/i,alias:"builtin"},punctuation:/[\[\](){};]/});n=t.languages.insertBefore("parser","keyword",{"parser-comment":{pattern:/(\s)#.*/,lookbehind:!0,alias:"comment"},expression:{pattern:/(^|[^^])\((?:[^()]|\((?:[^()]|\((?:[^()])*\))*\))*\)/,greedy:!0,lookbehind:!0,inside:{string:{pattern:/(^|[^^])(["'])(?:(?!\2)[^^]|\^[\s\S])*\2/,lookbehind:!0},keyword:n.keyword,variable:n.variable,function:n.function,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[a-f\d]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?)\b/i,escape:n.escape,operator:/[~+*\/\\%]|!(?:\|\|?|=)?|&&?|\|\|?|==|<[<=]?|>[>=]?|-[fd]?|\b(?:def|eq|ge|gt|in|is|le|lt|ne)\b/,punctuation:n.punctuation}}}),t.languages.insertBefore("inside","punctuation",{expression:n.expression,keyword:n.keyword,variable:n.variable,function:n.function,escape:n.escape,"parser-punctuation":{pattern:n.punctuation,alias:"punctuation"}},n.tag.inside["attr-value"])})(e)}a5.displayName="pascal";a5.aliases=["objectpascal"];function a5(e){e.languages.pascal={directive:{pattern:/\{\$[\s\S]*?\}/,greedy:!0,alias:["marco","property"]},comment:{pattern:/\(\*[\s\S]*?\*\)|\{[\s\S]*?\}|\/\/.*/,greedy:!0},string:{pattern:/(?:'(?:''|[^'\r\n])*'(?!')|#[&$%]?[a-f\d]+)+|\^[a-z]/i,greedy:!0},asm:{pattern:/(\basm\b)[\s\S]+?(?=\bend\s*[;[])/i,lookbehind:!0,greedy:!0,inside:null},keyword:[{pattern:/(^|[^&])\b(?:absolute|array|asm|begin|case|const|constructor|destructor|do|downto|else|end|file|for|function|goto|if|implementation|inherited|inline|interface|label|nil|object|of|operator|packed|procedure|program|record|reintroduce|repeat|self|set|string|then|to|type|unit|until|uses|var|while|with)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:dispose|exit|false|new|true)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:class|dispinterface|except|exports|finalization|finally|initialization|inline|library|on|out|packed|property|raise|resourcestring|threadvar|try)\b/i,lookbehind:!0},{pattern:/(^|[^&])\b(?:absolute|abstract|alias|assembler|bitpacked|break|cdecl|continue|cppdecl|cvar|default|deprecated|dynamic|enumerator|experimental|export|external|far|far16|forward|generic|helper|implements|index|interrupt|iochecks|local|message|name|near|nodefault|noreturn|nostackframe|oldfpccall|otherwise|overload|override|pascal|platform|private|protected|public|published|read|register|reintroduce|result|safecall|saveregisters|softfloat|specialize|static|stdcall|stored|strict|unaligned|unimplemented|varargs|virtual|write)\b/i,lookbehind:!0}],number:[/(?:[&%]\d+|\$[a-f\d]+)/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?/i],operator:[/\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=]/,{pattern:/(^|[^&])\b(?:and|as|div|exclude|in|include|is|mod|not|or|shl|shr|xor)\b/,lookbehind:!0}],punctuation:/\(\.|\.\)|[()\[\]:;,.]/},e.languages.pascal.asm.inside=e.languages.extend("pascal",{asm:void 0,keyword:void 0,operator:void 0}),e.languages.objectpascal=e.languages.pascal}i5.displayName="pascaligo";i5.aliases=[];function i5(e){(function(t){var n=/\((?:[^()]|\((?:[^()]|\([^()]*\))*\))*\)/.source,r=/(?:\b\w+(?:<braces>)?|<braces>)/.source.replace(/<braces>/g,function(){return n}),a=t.languages.pascaligo={comment:/\(\*[\s\S]+?\*\)|\/\/.*/,string:{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1|\^[a-z]/i,greedy:!0},"class-name":[{pattern:RegExp(/(\btype\s+\w+\s+is\s+)<type>/.source.replace(/<type>/g,function(){return r}),"i"),lookbehind:!0,inside:null},{pattern:RegExp(/<type>(?=\s+is\b)/.source.replace(/<type>/g,function(){return r}),"i"),inside:null},{pattern:RegExp(/(:\s*)<type>/.source.replace(/<type>/g,function(){return r})),lookbehind:!0,inside:null}],keyword:{pattern:/(^|[^&])\b(?:begin|block|case|const|else|end|fail|for|from|function|if|is|nil|of|remove|return|skip|then|type|var|while|with)\b/i,lookbehind:!0},boolean:{pattern:/(^|[^&])\b(?:False|True)\b/i,lookbehind:!0},builtin:{pattern:/(^|[^&])\b(?:bool|int|list|map|nat|record|string|unit)\b/i,lookbehind:!0},function:/\b\w+(?=\s*\()/,number:[/%[01]+|&[0-7]+|\$[a-f\d]+/i,/\b\d+(?:\.\d+)?(?:e[+-]?\d+)?(?:mtz|n)?/i],operator:/->|=\/=|\.\.|\*\*|:=|<[<=>]?|>[>=]?|[+\-*\/]=?|[@^=|]|\b(?:and|mod|or)\b/,punctuation:/\(\.|\.\)|[()\[\]:;,.{}]/},l=["comment","keyword","builtin","operator","punctuation"].reduce(function(u,i){return u[i]=a[i],u},{});a["class-name"].forEach(function(u){u.inside=l})})(e)}o5.displayName="psl";o5.aliases=[];function o5(e){e.languages.psl={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0,inside:{symbol:/\\[ntrbA-Z"\\]/}},"heredoc-string":{pattern:/<<<([a-zA-Z_]\w*)[\r\n](?:.*[\r\n])*?\1\b/,alias:"string",greedy:!0},keyword:/\b(?:__multi|__single|case|default|do|else|elsif|exit|export|for|foreach|function|if|last|line|local|next|requires|return|switch|until|while|word)\b/,constant:/\b(?:ALARM|CHART_ADD_GRAPH|CHART_DELETE_GRAPH|CHART_DESTROY|CHART_LOAD|CHART_PRINT|EOF|OFFLINE|OK|PSL_PROF_LOG|R_CHECK_HORIZ|R_CHECK_VERT|R_CLICKER|R_COLUMN|R_FRAME|R_ICON|R_LABEL|R_LABEL_CENTER|R_LIST_MULTIPLE|R_LIST_MULTIPLE_ND|R_LIST_SINGLE|R_LIST_SINGLE_ND|R_MENU|R_POPUP|R_POPUP_SCROLLED|R_RADIO_HORIZ|R_RADIO_VERT|R_ROW|R_SCALE_HORIZ|R_SCALE_VERT|R_SEP_HORIZ|R_SEP_VERT|R_SPINNER|R_TEXT_FIELD|R_TEXT_FIELD_LABEL|R_TOGGLE|TRIM_LEADING|TRIM_LEADING_AND_TRAILING|TRIM_REDUNDANT|TRIM_TRAILING|VOID|WARN)\b/,boolean:/\b(?:FALSE|False|NO|No|TRUE|True|YES|Yes|false|no|true|yes)\b/,variable:/\b(?:PslDebug|errno|exit_status)\b/,builtin:{pattern:/\b(?:PslExecute|PslFunctionCall|PslFunctionExists|PslSetOptions|_snmp_debug|acos|add_diary|annotate|annotate_get|ascii_to_ebcdic|asctime|asin|atan|atexit|batch_set|blackout|cat|ceil|chan_exists|change_state|close|code_cvt|cond_signal|cond_wait|console_type|convert_base|convert_date|convert_locale_date|cos|cosh|create|date|dcget_text|destroy|destroy_lock|dget_text|difference|dump_hist|ebcdic_to_ascii|encrypt|event_archive|event_catalog_get|event_check|event_query|event_range_manage|event_range_query|event_report|event_schedule|event_trigger|event_trigger2|execute|exists|exp|fabs|file|floor|fmod|fopen|fseek|ftell|full_discovery|get|get_chan_info|get_ranges|get_text|get_vars|getenv|gethostinfo|getpid|getpname|grep|history|history_get_retention|in_transition|index|int|internal|intersection|is_var|isnumber|join|kill|length|lines|lock|lock_info|log|log10|loge|matchline|msg_check|msg_get_format|msg_get_severity|msg_printf|msg_sprintf|ntharg|nthargf|nthline|nthlinef|num_bytes|num_consoles|pconfig|popen|poplines|pow|print|printf|proc_exists|process|random|read|readln|refresh_parameters|remote_check|remote_close|remote_event_query|remote_event_trigger|remote_file_send|remote_open|remove|replace|rindex|sec_check_priv|sec_store_get|sec_store_set|set|set_alarm_ranges|set_locale|share|sin|sinh|sleep|snmp_agent_config|snmp_agent_start|snmp_agent_stop|snmp_close|snmp_config|snmp_get|snmp_get_next|snmp_h_get|snmp_h_get_next|snmp_h_set|snmp_open|snmp_set|snmp_trap_ignore|snmp_trap_listen|snmp_trap_raise_std_trap|snmp_trap_receive|snmp_trap_register_im|snmp_trap_send|snmp_walk|sopen|sort|splitline|sprintf|sqrt|srandom|str_repeat|strcasecmp|subset|substr|system|tail|tan|tanh|text_domain|time|tmpnam|tolower|toupper|trace_psl_process|trim|union|unique|unlock|unset|va_arg|va_start|write)\b/,alias:"builtin-function"},"foreach-variable":{pattern:/(\bforeach\s+(?:(?:\w+\b|"(?:\\.|[^\\"])*")\s+){0,2})[_a-zA-Z]\w*(?=\s*\()/,lookbehind:!0,greedy:!0},function:/\b[_a-z]\w*\b(?=\s*\()/i,number:/\b(?:0x[0-9a-f]+|\d+(?:\.\d+)?)\b/i,operator:/--|\+\+|&&=?|\|\|=?|<<=?|>>=?|[=!]~|[-+*/%&|^!=<>]=?|\.|[:?]/,punctuation:/[(){}\[\];,]/}}s5.displayName="pcaxis";s5.aliases=["px"];function s5(e){e.languages.pcaxis={string:/"[^"]*"/,keyword:{pattern:/((?:^|;)\s*)[-A-Z\d]+(?:\s*\[[-\w]+\])?(?:\s*\("[^"]*"(?:,\s*"[^"]*")*\))?(?=\s*=)/,lookbehind:!0,greedy:!0,inside:{keyword:/^[-A-Z\d]+/,language:{pattern:/^(\s*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/^\[|\]$/,property:/[-\w]+/}},"sub-key":{pattern:/^(\s*)\S[\s\S]*/,lookbehind:!0,inside:{parameter:{pattern:/"[^"]*"/,alias:"property"},punctuation:/^\(|\)$|,/}}}},operator:/=/,tlist:{pattern:/TLIST\s*\(\s*\w+(?:(?:\s*,\s*"[^"]*")+|\s*,\s*"[^"]*"-"[^"]*")?\s*\)/,greedy:!0,inside:{function:/^TLIST/,property:{pattern:/^(\s*\(\s*)\w+/,lookbehind:!0},string:/"[^"]*"/,punctuation:/[(),]/,operator:/-/}},punctuation:/[;,]/,number:{pattern:/(^|\s)\d+(?:\.\d+)?(?!\S)/,lookbehind:!0},boolean:/NO|YES/},e.languages.px=e.languages.pcaxis}l5.displayName="peoplecode";l5.aliases=["pcode"];function l5(e){e.languages.peoplecode={comment:RegExp([/\/\*[\s\S]*?\*\//.source,/\bREM[^;]*;/.source,/<\*(?:[^<*]|\*(?!>)|<(?!\*)|<\*(?:(?!\*>)[\s\S])*\*>)*\*>/.source,/\/\+[\s\S]*?\+\//.source].join("|")),string:{pattern:/'(?:''|[^'\r\n])*'(?!')|"(?:""|[^"\r\n])*"(?!")/,greedy:!0},variable:/%\w+/,"function-definition":{pattern:/((?:^|[^\w-])(?:function|method)\s+)\w+/i,lookbehind:!0,alias:"function"},"class-name":{pattern:/((?:^|[^-\w])(?:as|catch|class|component|create|extends|global|implements|instance|local|of|property|returns)\s+)\w+(?::\w+)*/i,lookbehind:!0,inside:{punctuation:/:/}},keyword:/\b(?:abstract|alias|as|catch|class|component|constant|create|declare|else|end-(?:class|evaluate|for|function|get|if|method|set|try|while)|evaluate|extends|for|function|get|global|if|implements|import|instance|library|local|method|null|of|out|peopleCode|private|program|property|protected|readonly|ref|repeat|returns?|set|step|then|throw|to|try|until|value|when(?:-other)?|while)\b/i,"operator-keyword":{pattern:/\b(?:and|not|or)\b/i,alias:"operator"},function:/[_a-z]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/i,number:/\b\d+(?:\.\d+)?\b/,operator:/<>|[<>]=?|!=|\*\*|[-+*/|=@]/,punctuation:/[:.;,()[\]]/},e.languages.pcode=e.languages.peoplecode}u5.displayName="phpdoc";u5.aliases=[];function u5(e){e.register(bw),e.register(H1),(function(t){var n=/(?:\b[a-zA-Z]\w*|[|\\[\]])+/.source;t.languages.phpdoc=t.languages.extend("javadoclike",{parameter:{pattern:RegExp("(@(?:global|param|property(?:-read|-write)?|var)\\s+(?:"+n+"\\s+)?)\\$\\w+"),lookbehind:!0}}),t.languages.insertBefore("phpdoc","keyword",{"class-name":[{pattern:RegExp("(@(?:global|package|param|property(?:-read|-write)?|return|subpackage|throws|var)\\s+)"+n),lookbehind:!0,inside:{keyword:/\b(?:array|bool|boolean|callback|double|false|float|int|integer|mixed|null|object|resource|self|string|true|void)\b/,punctuation:/[|\\[\]()]/}}]}),t.languages.javadoclike.addSupport("php",t.languages.phpdoc)})(e)}c5.displayName="php-extras";c5.aliases=[];function c5(e){e.register(H1),e.languages.insertBefore("php","variable",{this:{pattern:/\$this\b/,alias:"keyword"},global:/\$(?:GLOBALS|HTTP_RAW_POST_DATA|_(?:COOKIE|ENV|FILES|GET|POST|REQUEST|SERVER|SESSION)|argc|argv|http_response_header|php_errormsg)\b/,scope:{pattern:/\b[\w\\]+::/,inside:{keyword:/\b(?:parent|self|static)\b/,punctuation:/::|\\/}}})}d5.displayName="plant-uml";d5.aliases=["plantuml"];function d5(e){(function(t){var n=/\$\w+|%[a-z]+%/,r=/\[[^[\]]*\]/.source,a=/(?:[drlu]|do|down|le|left|ri|right|up)/.source,l="(?:-+"+a+"-+|\\.+"+a+"\\.+|-+(?:"+r+"-*)?|"+r+"-+|\\.+(?:"+r+"\\.*)?|"+r+"\\.+)",u=/(?:<{1,2}|\/{1,2}|\\{1,2}|<\||[#*^+}xo])/.source,i=/(?:>{1,2}|\/{1,2}|\\{1,2}|\|>|[#*^+{xo])/.source,m=/[[?]?[ox]?/.source,b=/[ox]?[\]?]?/.source,_=m+"(?:"+l+i+"|"+u+l+"(?:"+i+")?)"+b;t.languages["plant-uml"]={comment:{pattern:/(^[ \t]*)(?:'.*|\/'[\s\S]*?'\/)/m,lookbehind:!0,greedy:!0},preprocessor:{pattern:/(^[ \t]*)!.*/m,lookbehind:!0,greedy:!0,alias:"property",inside:{variable:n}},delimiter:{pattern:/(^[ \t]*)@(?:end|start)uml\b/m,lookbehind:!0,greedy:!0,alias:"punctuation"},arrow:{pattern:RegExp(/(^|[^-.<>?|\\[\]ox])/.source+_+/(?![-.<>?|\\\]ox])/.source),lookbehind:!0,greedy:!0,alias:"operator",inside:{expression:{pattern:/(\[)[^[\]]+(?=\])/,lookbehind:!0,inside:null},punctuation:/\[(?=$|\])|^\]/}},string:{pattern:/"[^"]*"/,greedy:!0},text:{pattern:/(\[[ \t]*[\r\n]+(?![\r\n]))[^\]]*(?=\])/,lookbehind:!0,greedy:!0,alias:"string"},keyword:[{pattern:/^([ \t]*)(?:abstract\s+class|end\s+(?:box|fork|group|merge|note|ref|split|title)|(?:fork|split)(?:\s+again)?|activate|actor|agent|alt|annotation|artifact|autoactivate|autonumber|backward|binary|boundary|box|break|caption|card|case|circle|class|clock|cloud|collections|component|concise|control|create|critical|database|deactivate|destroy|detach|diamond|else|elseif|end|end[hr]note|endif|endswitch|endwhile|entity|enum|file|folder|footer|frame|group|[hr]?note|header|hexagon|hide|if|interface|label|legend|loop|map|namespace|network|newpage|node|nwdiag|object|opt|package|page|par|participant|person|queue|rectangle|ref|remove|repeat|restore|return|robust|scale|set|show|skinparam|stack|start|state|stop|storage|switch|title|together|usecase|usecase\/|while)(?=\s|$)/m,lookbehind:!0,greedy:!0},/\b(?:elseif|equals|not|while)(?=\s*\()/,/\b(?:as|is|then)\b/],divider:{pattern:/^==.+==$/m,greedy:!0,alias:"important"},time:{pattern:/@(?:\d+(?:[:/]\d+){2}|[+-]?\d+|:[a-z]\w*(?:[+-]\d+)?)\b/i,greedy:!0,alias:"number"},color:{pattern:/#(?:[a-z_]+|[a-fA-F0-9]+)\b/,alias:"symbol"},variable:n,punctuation:/[:,;()[\]{}]|\.{3}/},t.languages["plant-uml"].arrow.inside.expression.inside=t.languages["plant-uml"],t.languages.plantuml=t.languages["plant-uml"]})(e)}f5.displayName="plsql";f5.aliases=[];function f5(e){e.register(mw),e.languages.plsql=e.languages.extend("sql",{comment:{pattern:/\/\*[\s\S]*?\*\/|--.*/,greedy:!0},keyword:/\b(?:A|ACCESSIBLE|ADD|AGENT|AGGREGATE|ALL|ALTER|AND|ANY|ARRAY|AS|ASC|AT|ATTRIBUTE|AUTHID|AVG|BEGIN|BETWEEN|BFILE_BASE|BINARY|BLOB_BASE|BLOCK|BODY|BOTH|BOUND|BULK|BY|BYTE|C|CALL|CALLING|CASCADE|CASE|CHAR|CHARACTER|CHARSET|CHARSETFORM|CHARSETID|CHAR_BASE|CHECK|CLOB_BASE|CLONE|CLOSE|CLUSTER|CLUSTERS|COLAUTH|COLLECT|COLUMNS|COMMENT|COMMIT|COMMITTED|COMPILED|COMPRESS|CONNECT|CONSTANT|CONSTRUCTOR|CONTEXT|CONTINUE|CONVERT|COUNT|CRASH|CREATE|CREDENTIAL|CURRENT|CURSOR|CUSTOMDATUM|DANGLING|DATA|DATE|DATE_BASE|DAY|DECLARE|DEFAULT|DEFINE|DELETE|DESC|DETERMINISTIC|DIRECTORY|DISTINCT|DOUBLE|DROP|DURATION|ELEMENT|ELSE|ELSIF|EMPTY|END|ESCAPE|EXCEPT|EXCEPTION|EXCEPTIONS|EXCLUSIVE|EXECUTE|EXISTS|EXIT|EXTERNAL|FETCH|FINAL|FIRST|FIXED|FLOAT|FOR|FORALL|FORCE|FROM|FUNCTION|GENERAL|GOTO|GRANT|GROUP|HASH|HAVING|HEAP|HIDDEN|HOUR|IDENTIFIED|IF|IMMEDIATE|IMMUTABLE|IN|INCLUDING|INDEX|INDEXES|INDICATOR|INDICES|INFINITE|INSERT|INSTANTIABLE|INT|INTERFACE|INTERSECT|INTERVAL|INTO|INVALIDATE|IS|ISOLATION|JAVA|LANGUAGE|LARGE|LEADING|LENGTH|LEVEL|LIBRARY|LIKE|LIKE2|LIKE4|LIKEC|LIMIT|LIMITED|LOCAL|LOCK|LONG|LOOP|MAP|MAX|MAXLEN|MEMBER|MERGE|MIN|MINUS|MINUTE|MOD|MODE|MODIFY|MONTH|MULTISET|MUTABLE|NAME|NAN|NATIONAL|NATIVE|NCHAR|NEW|NOCOMPRESS|NOCOPY|NOT|NOWAIT|NULL|NUMBER_BASE|OBJECT|OCICOLL|OCIDATE|OCIDATETIME|OCIDURATION|OCIINTERVAL|OCILOBLOCATOR|OCINUMBER|OCIRAW|OCIREF|OCIREFCURSOR|OCIROWID|OCISTRING|OCITYPE|OF|OLD|ON|ONLY|OPAQUE|OPEN|OPERATOR|OPTION|OR|ORACLE|ORADATA|ORDER|ORGANIZATION|ORLANY|ORLVARY|OTHERS|OUT|OVERLAPS|OVERRIDING|PACKAGE|PARALLEL_ENABLE|PARAMETER|PARAMETERS|PARENT|PARTITION|PASCAL|PERSISTABLE|PIPE|PIPELINED|PLUGGABLE|POLYMORPHIC|PRAGMA|PRECISION|PRIOR|PRIVATE|PROCEDURE|PUBLIC|RAISE|RANGE|RAW|READ|RECORD|REF|REFERENCE|RELIES_ON|REM|REMAINDER|RENAME|RESOURCE|RESULT|RESULT_CACHE|RETURN|RETURNING|REVERSE|REVOKE|ROLLBACK|ROW|SAMPLE|SAVE|SAVEPOINT|SB1|SB2|SB4|SECOND|SEGMENT|SELECT|SELF|SEPARATE|SEQUENCE|SERIALIZABLE|SET|SHARE|SHORT|SIZE|SIZE_T|SOME|SPARSE|SQL|SQLCODE|SQLDATA|SQLNAME|SQLSTATE|STANDARD|START|STATIC|STDDEV|STORED|STRING|STRUCT|STYLE|SUBMULTISET|SUBPARTITION|SUBSTITUTABLE|SUBTYPE|SUM|SYNONYM|TABAUTH|TABLE|TDO|THE|THEN|TIME|TIMESTAMP|TIMEZONE_ABBR|TIMEZONE_HOUR|TIMEZONE_MINUTE|TIMEZONE_REGION|TO|TRAILING|TRANSACTION|TRANSACTIONAL|TRUSTED|TYPE|UB1|UB2|UB4|UNDER|UNION|UNIQUE|UNPLUG|UNSIGNED|UNTRUSTED|UPDATE|USE|USING|VALIST|VALUE|VALUES|VARIABLE|VARIANCE|VARRAY|VARYING|VIEW|VIEWS|VOID|WHEN|WHERE|WHILE|WITH|WORK|WRAPPED|WRITE|YEAR|ZONE)\b/i,operator:/:=?|=>|[<>^~!]=|\.\.|\|\||\*\*|[-+*/%<>=@]/}),e.languages.insertBefore("plsql","operator",{label:{pattern:/<<\s*\w+\s*>>/,alias:"symbol"}})}h5.displayName="powerquery";h5.aliases=["mscript","pq"];function h5(e){e.languages.powerquery={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},"quoted-identifier":{pattern:/#"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},string:{pattern:/(?:#!)?"(?:[^"\r\n]|"")*"(?!")/,greedy:!0},constant:[/\bDay\.(?:Friday|Monday|Saturday|Sunday|Thursday|Tuesday|Wednesday)\b/,/\bTraceLevel\.(?:Critical|Error|Information|Verbose|Warning)\b/,/\bOccurrence\.(?:All|First|Last)\b/,/\bOrder\.(?:Ascending|Descending)\b/,/\bRoundingMode\.(?:AwayFromZero|Down|ToEven|TowardZero|Up)\b/,/\bMissingField\.(?:Error|Ignore|UseNull)\b/,/\bQuoteStyle\.(?:Csv|None)\b/,/\bJoinKind\.(?:FullOuter|Inner|LeftAnti|LeftOuter|RightAnti|RightOuter)\b/,/\bGroupKind\.(?:Global|Local)\b/,/\bExtraValues\.(?:Error|Ignore|List)\b/,/\bJoinAlgorithm\.(?:Dynamic|LeftHash|LeftIndex|PairwiseHash|RightHash|RightIndex|SortMerge)\b/,/\bJoinSide\.(?:Left|Right)\b/,/\bPrecision\.(?:Decimal|Double)\b/,/\bRelativePosition\.From(?:End|Start)\b/,/\bTextEncoding\.(?:Ascii|BigEndianUnicode|Unicode|Utf16|Utf8|Windows)\b/,/\b(?:Any|Binary|Date|DateTime|DateTimeZone|Duration|Function|Int16|Int32|Int64|Int8|List|Logical|None|Number|Record|Table|Text|Time)\.Type\b/,/\bnull\b/],boolean:/\b(?:false|true)\b/,keyword:/\b(?:and|as|each|else|error|if|in|is|let|meta|not|nullable|optional|or|otherwise|section|shared|then|try|type)\b|#(?:binary|date|datetime|datetimezone|duration|infinity|nan|sections|shared|table|time)\b/,function:{pattern:/(^|[^#\w.])[a-z_][\w.]*(?=\s*\()/i,lookbehind:!0},"data-type":{pattern:/\b(?:any|anynonnull|binary|date|datetime|datetimezone|duration|function|list|logical|none|number|record|table|text|time)\b/,alias:"class-name"},number:{pattern:/\b0x[\da-f]+\b|(?:[+-]?(?:\b\d+\.)?\b\d+|[+-]\.\d+|(^|[^.])\B\.\d+)(?:e[+-]?\d+)?\b/i,lookbehind:!0},operator:/[-+*\/&?@^]|<(?:=>?|>)?|>=?|=>?|\.\.\.?/,punctuation:/[,;\[\](){}]/},e.languages.pq=e.languages.powerquery,e.languages.mscript=e.languages.powerquery}p5.displayName="powershell";p5.aliases=[];function p5(e){(function(t){var n=t.languages.powershell={comment:[{pattern:/(^|[^`])<#[\s\S]*?#>/,lookbehind:!0},{pattern:/(^|[^`])#.*/,lookbehind:!0}],string:[{pattern:/"(?:`[\s\S]|[^`"])*"/,greedy:!0,inside:null},{pattern:/'(?:[^']|'')*'/,greedy:!0}],namespace:/\[[a-z](?:\[(?:\[[^\]]*\]|[^\[\]])*\]|[^\[\]])*\]/i,boolean:/\$(?:false|true)\b/i,variable:/\$\w+\b/,function:[/\b(?:Add|Approve|Assert|Backup|Block|Checkpoint|Clear|Close|Compare|Complete|Compress|Confirm|Connect|Convert|ConvertFrom|ConvertTo|Copy|Debug|Deny|Disable|Disconnect|Dismount|Edit|Enable|Enter|Exit|Expand|Export|Find|ForEach|Format|Get|Grant|Group|Hide|Import|Initialize|Install|Invoke|Join|Limit|Lock|Measure|Merge|Move|New|Open|Optimize|Out|Ping|Pop|Protect|Publish|Push|Read|Receive|Redo|Register|Remove|Rename|Repair|Request|Reset|Resize|Resolve|Restart|Restore|Resume|Revoke|Save|Search|Select|Send|Set|Show|Skip|Sort|Split|Start|Step|Stop|Submit|Suspend|Switch|Sync|Tee|Test|Trace|Unblock|Undo|Uninstall|Unlock|Unprotect|Unpublish|Unregister|Update|Use|Wait|Watch|Where|Write)-[a-z]+\b/i,/\b(?:ac|cat|chdir|clc|cli|clp|clv|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|ebp|echo|epal|epcsv|epsn|erase|fc|fl|ft|fw|gal|gbp|gc|gci|gcs|gdr|gi|gl|gm|gp|gps|group|gsv|gu|gv|gwmi|iex|ii|ipal|ipcsv|ipsn|irm|iwmi|iwr|kill|lp|ls|measure|mi|mount|move|mp|mv|nal|ndr|ni|nv|ogv|popd|ps|pushd|pwd|rbp|rd|rdr|ren|ri|rm|rmdir|rni|rnp|rp|rv|rvpa|rwmi|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls|sort|sp|spps|spsv|start|sv|swmi|tee|trcm|type|write)\b/i],keyword:/\b(?:Begin|Break|Catch|Class|Continue|Data|Define|Do|DynamicParam|Else|ElseIf|End|Exit|Filter|Finally|For|ForEach|From|Function|If|InlineScript|Parallel|Param|Process|Return|Sequence|Switch|Throw|Trap|Try|Until|Using|Var|While|Workflow)\b/i,operator:{pattern:/(^|\W)(?:!|-(?:b?(?:and|x?or)|as|(?:Not)?(?:Contains|In|Like|Match)|eq|ge|gt|is(?:Not)?|Join|le|lt|ne|not|Replace|sh[lr])\b|-[-=]?|\+[+=]?|[*\/%]=?)/i,lookbehind:!0},punctuation:/[|{}[\];(),.]/};n.string[0].inside={function:{pattern:/(^|[^`])\$\((?:\$\([^\r\n()]*\)|(?!\$\()[^\r\n)])*\)/,lookbehind:!0,inside:n},boolean:n.boolean,variable:n.variable}})(e)}m5.displayName="processing";m5.aliases=[];function m5(e){e.register(si),e.languages.processing=e.languages.extend("clike",{keyword:/\b(?:break|case|catch|class|continue|default|else|extends|final|for|if|implements|import|new|null|private|public|return|static|super|switch|this|try|void|while)\b/,function:/\b\w+(?=\s*\()/,operator:/<[<=]?|>[>=]?|&&?|\|\|?|[%?]|[!=+\-*\/]=?/}),e.languages.insertBefore("processing","number",{constant:/\b(?!XML\b)[A-Z][A-Z\d_]+\b/,type:{pattern:/\b(?:boolean|byte|char|color|double|float|int|[A-Z]\w*)\b/,alias:"class-name"}})}g5.displayName="prolog";g5.aliases=[];function g5(e){e.languages.prolog={comment:{pattern:/\/\*[\s\S]*?\*\/|%.*/,greedy:!0},string:{pattern:/(["'])(?:\1\1|\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1(?!\1)/,greedy:!0},builtin:/\b(?:fx|fy|xf[xy]?|yfx?)\b/,function:/\b[a-z]\w*(?:(?=\()|\/\d+)/,number:/\b\d+(?:\.\d*)?/,operator:/[:\\=><\-?*@\/;+^|!$.]+|\b(?:is|mod|not|xor)\b/,punctuation:/[(){}\[\],]/}}y5.displayName="promql";y5.aliases=[];function y5(e){(function(t){var n=["sum","min","max","avg","group","stddev","stdvar","count","count_values","bottomk","topk","quantile"],r=["on","ignoring","group_right","group_left","by","without"],a=["offset"],l=n.concat(r,a);t.languages.promql={comment:{pattern:/(^[ \t]*)#.*/m,lookbehind:!0},"vector-match":{pattern:new RegExp("((?:"+r.join("|")+")\\s*)\\([^)]*\\)"),lookbehind:!0,inside:{"label-key":{pattern:/\b[^,]+\b/,alias:"attr-name"},punctuation:/[(),]/}},"context-labels":{pattern:/\{[^{}]*\}/,inside:{"label-key":{pattern:/\b[a-z_]\w*(?=\s*(?:=|![=~]))/,alias:"attr-name"},"label-value":{pattern:/(["'`])(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0,alias:"attr-value"},punctuation:/\{|\}|=~?|![=~]|,/}},"context-range":[{pattern:/\[[\w\s:]+\]/,inside:{punctuation:/\[|\]|:/,"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}},{pattern:/(\boffset\s+)\w+/,lookbehind:!0,inside:{"range-duration":{pattern:/\b(?:\d+(?:[smhdwy]|ms))+\b/i,alias:"number"}}}],keyword:new RegExp("\\b(?:"+l.join("|")+")\\b","i"),function:/\b[a-z_]\w*(?=\s*\()/i,number:/[-+]?(?:(?:\b\d+(?:\.\d+)?|\B\.\d+)(?:e[-+]?\d+)?\b|\b(?:0x[0-9a-f]+|nan|inf)\b)/i,operator:/[\^*/%+-]|==|!=|<=|<|>=|>|\b(?:and|or|unless)\b/i,punctuation:/[{};()`,.[\]]/}})(e)}v5.displayName="properties";v5.aliases=[];function v5(e){e.languages.properties={comment:/^[ \t]*[#!].*$/m,value:{pattern:/(^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?: *[=:] *(?! )| ))(?:\\(?:\r\n|[\s\S])|[^\\\r\n])+/m,lookbehind:!0,alias:"attr-value"},key:{pattern:/^[ \t]*(?:\\(?:\r\n|[\s\S])|[^\\\s:=])+(?= *[=:]| )/m,alias:"attr-name"},punctuation:/[=:]/}}b5.displayName="protobuf";b5.aliases=[];function b5(e){e.register(si),(function(t){var n=/\b(?:bool|bytes|double|s?fixed(?:32|64)|float|[su]?int(?:32|64)|string)\b/;t.languages.protobuf=t.languages.extend("clike",{"class-name":[{pattern:/(\b(?:enum|extend|message|service)\s+)[A-Za-z_]\w*(?=\s*\{)/,lookbehind:!0},{pattern:/(\b(?:rpc\s+\w+|returns)\s*\(\s*(?:stream\s+)?)\.?[A-Za-z_]\w*(?:\.[A-Za-z_]\w*)*(?=\s*\))/,lookbehind:!0}],keyword:/\b(?:enum|extend|extensions|import|message|oneof|option|optional|package|public|repeated|required|reserved|returns|rpc(?=\s+\w)|service|stream|syntax|to)\b(?!\s*=\s*\d)/,function:/\b[a-z_]\w*(?=\s*\()/i}),t.languages.insertBefore("protobuf","operator",{map:{pattern:/\bmap<\s*[\w.]+\s*,\s*[\w.]+\s*>(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/[<>.,]/,builtin:n}},builtin:n,"positional-class-name":{pattern:/(?:\b|\B\.)[a-z_]\w*(?:\.[a-z_]\w*)*(?=\s+[a-z_]\w*\s*[=;])/i,alias:"class-name",inside:{punctuation:/\./}},annotation:{pattern:/(\[\s*)[a-z_]\w*(?=\s*=)/i,lookbehind:!0}})})(e)}_5.displayName="stylus";_5.aliases=[];function _5(e){(function(t){var n={pattern:/(\b\d+)(?:%|[a-z]+)/,lookbehind:!0},r={pattern:/(^|[^\w.-])-?(?:\d+(?:\.\d+)?|\.\d+)/,lookbehind:!0},a={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},url:{pattern:/\burl\((["']?).*?\1\)/i,greedy:!0},string:{pattern:/("|')(?:(?!\1)[^\\\r\n]|\\(?:\r\n|[\s\S]))*\1/,greedy:!0},interpolation:null,func:null,important:/\B!(?:important|optional)\b/i,keyword:{pattern:/(^|\s+)(?:(?:else|for|if|return|unless)(?=\s|$)|@[\w-]+)/,lookbehind:!0},hexcode:/#[\da-f]{3,6}/i,color:[/\b(?:AliceBlue|AntiqueWhite|Aqua|Aquamarine|Azure|Beige|Bisque|Black|BlanchedAlmond|Blue|BlueViolet|Brown|BurlyWood|CadetBlue|Chartreuse|Chocolate|Coral|CornflowerBlue|Cornsilk|Crimson|Cyan|DarkBlue|DarkCyan|DarkGoldenRod|DarkGr[ae]y|DarkGreen|DarkKhaki|DarkMagenta|DarkOliveGreen|DarkOrange|DarkOrchid|DarkRed|DarkSalmon|DarkSeaGreen|DarkSlateBlue|DarkSlateGr[ae]y|DarkTurquoise|DarkViolet|DeepPink|DeepSkyBlue|DimGr[ae]y|DodgerBlue|FireBrick|FloralWhite|ForestGreen|Fuchsia|Gainsboro|GhostWhite|Gold|GoldenRod|Gr[ae]y|Green|GreenYellow|HoneyDew|HotPink|IndianRed|Indigo|Ivory|Khaki|Lavender|LavenderBlush|LawnGreen|LemonChiffon|LightBlue|LightCoral|LightCyan|LightGoldenRodYellow|LightGr[ae]y|LightGreen|LightPink|LightSalmon|LightSeaGreen|LightSkyBlue|LightSlateGr[ae]y|LightSteelBlue|LightYellow|Lime|LimeGreen|Linen|Magenta|Maroon|MediumAquaMarine|MediumBlue|MediumOrchid|MediumPurple|MediumSeaGreen|MediumSlateBlue|MediumSpringGreen|MediumTurquoise|MediumVioletRed|MidnightBlue|MintCream|MistyRose|Moccasin|NavajoWhite|Navy|OldLace|Olive|OliveDrab|Orange|OrangeRed|Orchid|PaleGoldenRod|PaleGreen|PaleTurquoise|PaleVioletRed|PapayaWhip|PeachPuff|Peru|Pink|Plum|PowderBlue|Purple|Red|RosyBrown|RoyalBlue|SaddleBrown|Salmon|SandyBrown|SeaGreen|SeaShell|Sienna|Silver|SkyBlue|SlateBlue|SlateGr[ae]y|Snow|SpringGreen|SteelBlue|Tan|Teal|Thistle|Tomato|Transparent|Turquoise|Violet|Wheat|White|WhiteSmoke|Yellow|YellowGreen)\b/i,{pattern:/\b(?:hsl|rgb)\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*\)\B|\b(?:hsl|rgb)a\(\s*\d{1,3}\s*,\s*\d{1,3}%?\s*,\s*\d{1,3}%?\s*,\s*(?:0|0?\.\d+|1)\s*\)\B/i,inside:{unit:n,number:r,function:/[\w-]+(?=\()/,punctuation:/[(),]/}}],entity:/\\[\da-f]{1,8}/i,unit:n,boolean:/\b(?:false|true)\b/,operator:[/~|[+!\/%<>?=]=?|[-:]=|\*[*=]?|\.{2,3}|&&|\|\||\B-\B|\b(?:and|in|is(?: a| defined| not|nt)?|not|or)\b/],number:r,punctuation:/[{}()\[\];:,]/};a.interpolation={pattern:/\{[^\r\n}:]+\}/,alias:"variable",inside:{delimiter:{pattern:/^\{|\}$/,alias:"punctuation"},rest:a}},a.func={pattern:/[\w-]+\([^)]*\).*/,inside:{function:/^[^(]+/,rest:a}},t.languages.stylus={"atrule-declaration":{pattern:/(^[ \t]*)@.+/m,lookbehind:!0,inside:{atrule:/^@[\w-]+/,rest:a}},"variable-declaration":{pattern:/(^[ \t]*)[\w$-]+\s*.?=[ \t]*(?:\{[^{}]*\}|\S.*|$)/m,lookbehind:!0,inside:{variable:/^\S+/,rest:a}},statement:{pattern:/(^[ \t]*)(?:else|for|if|return|unless)[ \t].+/m,lookbehind:!0,inside:{keyword:/^\S+/,rest:a}},"property-declaration":{pattern:/((?:^|\{)([ \t]*))(?:[\w-]|\{[^}\r\n]+\})+(?:\s*:\s*|[ \t]+)(?!\s)[^{\r\n]*(?:;|[^{\r\n,]$(?!(?:\r?\n|\r)(?:\{|\2[ \t])))/m,lookbehind:!0,inside:{property:{pattern:/^[^\s:]+/,inside:{interpolation:a.interpolation}},rest:a}},selector:{pattern:/(^[ \t]*)(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)(?:(?:\r?\n|\r)(?:\1(?:(?=\S)(?:[^{}\r\n:()]|::?[\w-]+(?:\([^)\r\n]*\)|(?![\w-]))|\{[^}\r\n]+\})+)))*(?:,$|\{|(?=(?:\r?\n|\r)(?:\{|\1[ \t])))/m,lookbehind:!0,inside:{interpolation:a.interpolation,comment:a.comment,punctuation:/[{},]/}},func:a.func,string:a.string,comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0,greedy:!0},interpolation:a.interpolation,punctuation:/[{}()\[\];:.]/}})(e)}x5.displayName="twig";x5.aliases=[];function x5(e){e.register(Bc),e.languages.twig={comment:/^\{#[\s\S]*?#\}$/,"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/}},keyword:/\b(?:even|if|odd)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/},e.hooks.add("before-tokenize",function(t){if(t.language==="twig"){var n=/\{(?:#[\s\S]*?#|%[\s\S]*?%|\{[\s\S]*?\})\}/g;e.languages["markup-templating"].buildPlaceholders(t,"twig",n)}}),e.hooks.add("after-tokenize",function(t){e.languages["markup-templating"].tokenizePlaceholders(t,"twig")})}E5.displayName="pug";E5.aliases=[];function E5(e){e.register(Fc),e.register(nc),(function(t){t.languages.pug={comment:{pattern:/(^([\t ]*))\/\/.*(?:(?:\r?\n|\r)\2[\t ].+)*/m,lookbehind:!0},"multiline-script":{pattern:/(^([\t ]*)script\b.*\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:t.languages.javascript},filter:{pattern:/(^([\t ]*)):.+(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:/\S[\s\S]*/}},"multiline-plain-text":{pattern:/(^([\t ]*)[\w\-#.]+\.[\t ]*)(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/m,lookbehind:!0},markup:{pattern:/(^[\t ]*)<.+/m,lookbehind:!0,inside:t.languages.markup},doctype:{pattern:/((?:^|\n)[\t ]*)doctype(?: .+)?/,lookbehind:!0},"flow-control":{pattern:/(^[\t ]*)(?:case|default|each|else|if|unless|when|while)\b(?: .+)?/m,lookbehind:!0,inside:{each:{pattern:/^each .+? in\b/,inside:{keyword:/\b(?:each|in)\b/,punctuation:/,/}},branch:{pattern:/^(?:case|default|else|if|unless|when|while)\b/,alias:"keyword"},rest:t.languages.javascript}},keyword:{pattern:/(^[\t ]*)(?:append|block|extends|include|prepend)\b.+/m,lookbehind:!0},mixin:[{pattern:/(^[\t ]*)mixin .+/m,lookbehind:!0,inside:{keyword:/^mixin/,function:/\w+(?=\s*\(|\s*$)/,punctuation:/[(),.]/}},{pattern:/(^[\t ]*)\+.+/m,lookbehind:!0,inside:{name:{pattern:/^\+\w+/,alias:"function"},rest:t.languages.javascript}}],script:{pattern:/(^[\t ]*script(?:(?:&[^(]+)?\([^)]+\))*[\t ]).+/m,lookbehind:!0,inside:t.languages.javascript},"plain-text":{pattern:/(^[\t ]*(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?[\t ]).+/m,lookbehind:!0},tag:{pattern:/(^[\t ]*)(?!-)[\w\-#.]*[\w\-](?:(?:&[^(]+)?\([^)]+\))*\/?:?/m,lookbehind:!0,inside:{attributes:[{pattern:/&[^(]+\([^)]+\)/,inside:t.languages.javascript},{pattern:/\([^)]+\)/,inside:{"attr-value":{pattern:/(=\s*(?!\s))(?:\{[^}]*\}|[^,)\r\n]+)/,lookbehind:!0,inside:t.languages.javascript},"attr-name":/[\w-]+(?=\s*!?=|\s*[,)])/,punctuation:/[!=(),]+/}}],punctuation:/:/,"attr-id":/#[\w\-]+/,"attr-class":/\.[\w\-]+/}},code:[{pattern:/(^[\t ]*(?:-|!?=)).+/m,lookbehind:!0,inside:t.languages.javascript}],punctuation:/[.\-!=|]+/};for(var n=/(^([\t ]*)):<filter_name>(?:(?:\r?\n|\r(?!\n))(?:\2[\t ].+|\s*?(?=\r?\n|\r)))+/.source,r=[{filter:"atpl",language:"twig"},{filter:"coffee",language:"coffeescript"},"ejs","handlebars","less","livescript","markdown",{filter:"sass",language:"scss"},"stylus"],a={},l=0,u=r.length;l<u;l++){var i=r[l];i=typeof i=="string"?{filter:i,language:i}:i,t.languages[i.language]&&(a["filter-"+i.filter]={pattern:RegExp(n.replace("<filter_name>",function(){return i.filter}),"m"),lookbehind:!0,inside:{"filter-name":{pattern:/^:[\w-]+/,alias:"variable"},text:{pattern:/\S[\s\S]*/,alias:[i.language,"language-"+i.language],inside:t.languages[i.language]}}})}t.languages.insertBefore("pug","filter",a)})(e)}w5.displayName="puppet";w5.aliases=[];function w5(e){(function(t){t.languages.puppet={heredoc:[{pattern:/(@\("([^"\r\n\/):]+)"(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/(@\(([^"\r\n\/):]+)(?:\/[nrts$uL]*)?\).*(?:\r?\n|\r))(?:.*(?:\r?\n|\r(?!\n)))*?[ \t]*(?:\|[ \t]*)?(?:-[ \t]*)?\2/,lookbehind:!0,greedy:!0,alias:"string",inside:{punctuation:/(?=\S).*\S(?= *$)/}},{pattern:/@\("?(?:[^"\r\n\/):]+)"?(?:\/[nrts$uL]*)?\)/,alias:"string",inside:{punctuation:{pattern:/(\().+?(?=\))/,lookbehind:!0}}}],"multiline-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0,alias:"comment"},regex:{pattern:/((?:\bnode\s+|[~=\(\[\{,]\s*|[=+]>\s*|^\s*))\/(?:[^\/\\]|\\[\s\S])+\/(?:[imx]+\b|\B)/,lookbehind:!0,greedy:!0,inside:{"extended-regex":{pattern:/^\/(?:[^\/\\]|\\[\s\S])+\/[im]*x[im]*$/,inside:{comment:/#.*/}}}},comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},string:{pattern:/(["'])(?:\$\{(?:[^'"}]|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}|\$(?!\{)|(?!\1)[^\\$]|\\[\s\S])*\1/,greedy:!0,inside:{"double-quoted":{pattern:/^"[\s\S]*"$/,inside:{}}}},variable:{pattern:/\$(?:::)?\w+(?:::\w+)*/,inside:{punctuation:/::/}},"attr-name":/(?:\b\w+|\*)(?=\s*=>)/,function:[{pattern:/(\.)(?!\d)\w+/,lookbehind:!0},/\b(?:contain|debug|err|fail|include|info|notice|realize|require|tag|warning)\b|\b(?!\d)\w+(?=\()/],number:/\b(?:0x[a-f\d]+|\d+(?:\.\d+)?(?:e-?\d+)?)\b/i,boolean:/\b(?:false|true)\b/,keyword:/\b(?:application|attr|case|class|consumes|default|define|else|elsif|function|if|import|inherits|node|private|produces|type|undef|unless)\b/,datatype:{pattern:/\b(?:Any|Array|Boolean|Callable|Catalogentry|Class|Collection|Data|Default|Enum|Float|Hash|Integer|NotUndef|Numeric|Optional|Pattern|Regexp|Resource|Runtime|Scalar|String|Struct|Tuple|Type|Undef|Variant)\b/,alias:"symbol"},operator:/=[=~>]?|![=~]?|<(?:<\|?|[=~|-])?|>[>=]?|->?|~>|\|>?>?|[*\/%+?]|\b(?:and|in|or)\b/,punctuation:/[\[\]{}().,;]|:+/};var n=[{pattern:/(^|[^\\])\$\{(?:[^'"{}]|\{[^}]*\}|(["'])(?:(?!\2)[^\\]|\\[\s\S])*\2)+\}/,lookbehind:!0,inside:{"short-variable":{pattern:/(^\$\{)(?!\w+\()(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}},delimiter:{pattern:/^\$/,alias:"variable"},rest:t.languages.puppet}},{pattern:/(^|[^\\])\$(?:::)?\w+(?:::\w+)*/,lookbehind:!0,alias:"variable",inside:{punctuation:/::/}}];t.languages.puppet.heredoc[0].inside.interpolation=n,t.languages.puppet.string.inside["double-quoted"].inside.interpolation=n})(e)}S5.displayName="pure";S5.aliases=[];function S5(e){(function(t){t.languages.pure={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0},/#!.+/],"inline-lang":{pattern:/%<[\s\S]+?%>/,greedy:!0,inside:{lang:{pattern:/(^%< *)-\*-.+?-\*-/,lookbehind:!0,alias:"comment"},delimiter:{pattern:/^%<.*|%>$/,alias:"punctuation"}}},string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},number:{pattern:/((?:\.\.)?)(?:\b(?:inf|nan)\b|\b0x[\da-f]+|(?:\b(?:0b)?\d+(?:\.\d+)?|\B\.\d+)(?:e[+-]?\d+)?L?)/i,lookbehind:!0},keyword:/\b(?:NULL|ans|break|bt|case|catch|cd|clear|const|def|del|dump|else|end|exit|extern|false|force|help|if|infix[lr]?|interface|let|ls|mem|namespace|nonfix|of|otherwise|outfix|override|postfix|prefix|private|public|pwd|quit|run|save|show|stats|then|throw|trace|true|type|underride|using|when|with)\b/,function:/\b(?:abs|add_(?:addr|constdef|(?:fundef|interface|macdef|typedef)(?:_at)?|vardef)|all|any|applp?|arity|bigintp?|blob(?:_crc|_size|p)?|boolp?|byte_c?string(?:_pointer)?|byte_(?:matrix|pointer)|calloc|cat|catmap|ceil|char[ps]?|check_ptrtag|chr|clear_sentry|clearsym|closurep?|cmatrixp?|cols?|colcat(?:map)?|colmap|colrev|colvector(?:p|seq)?|complex(?:_float_(?:matrix|pointer)|_matrix(?:_view)?|_pointer|p)?|conj|cookedp?|cst|cstring(?:_(?:dup|list|vector))?|curry3?|cyclen?|del_(?:constdef|fundef|interface|macdef|typedef|vardef)|delete|diag(?:mat)?|dim|dmatrixp?|do|double(?:_matrix(?:_view)?|_pointer|p)?|dowith3?|drop|dropwhile|eval(?:cmd)?|exactp|filter|fix|fixity|flip|float(?:_matrix|_pointer)|floor|fold[lr]1?|frac|free|funp?|functionp?|gcd|get(?:_(?:byte|constdef|double|float|fundef|int(?:64)?|interface(?:_typedef)?|long|macdef|pointer|ptrtag|sentry|short|string|typedef|vardef))?|globsym|hash|head|id|im|imatrixp?|index|inexactp|infp|init|insert|int(?:_matrix(?:_view)?|_pointer|p)?|int64_(?:matrix|pointer)|integerp?|iteraten?|iterwhile|join|keys?|lambdap?|last(?:err(?:pos)?)?|lcd|list[2p]?|listmap|make_ptrtag|malloc|map|matcat|matrixp?|max|member|min|nanp|nargs|nmatrixp?|null|numberp?|ord|pack(?:ed)?|pointer(?:_cast|_tag|_type|p)?|pow|pred|ptrtag|put(?:_(?:byte|double|float|int(?:64)?|long|pointer|short|string))?|rationalp?|re|realp?|realloc|recordp?|redim|reduce(?:_with)?|refp?|repeatn?|reverse|rlistp?|round|rows?|rowcat(?:map)?|rowmap|rowrev|rowvector(?:p|seq)?|same|scan[lr]1?|sentry|sgn|short_(?:matrix|pointer)|slice|smatrixp?|sort|split|str|strcat|stream|stride|string(?:_(?:dup|list|vector)|p)?|subdiag(?:mat)?|submat|subseq2?|substr|succ|supdiag(?:mat)?|symbolp?|tail|take|takewhile|thunkp?|transpose|trunc|tuplep?|typep|ubyte|uint(?:64)?|ulong|uncurry3?|unref|unzip3?|update|ushort|vals?|varp?|vector(?:p|seq)?|void|zip3?|zipwith3?)\b/,special:{pattern:/\b__[a-z]+__\b/i,alias:"builtin"},operator:/(?:[!"#$%&'*+,\-.\/:<=>?@\\^`|~\u00a1-\u00bf\u00d7-\u00f7\u20d0-\u2bff]|\b_+\b)+|\b(?:and|div|mod|not|or)\b/,punctuation:/[(){}\[\];,|]/};var n=["c",{lang:"c++",alias:"cpp"},"fortran"],r=/%< *-\*- *<lang>\d* *-\*-[\s\S]+?%>/.source;n.forEach(function(a){var l=a;if(typeof a!="string"&&(l=a.alias,a=a.lang),t.languages[l]){var u={};u["inline-lang-"+l]={pattern:RegExp(r.replace("<lang>",a.replace(/([.+*?\/\\(){}\[\]])/g,"\\$1")),"i"),inside:t.util.clone(t.languages.pure["inline-lang"].inside)},u["inline-lang-"+l].inside.rest=t.util.clone(t.languages[l]),t.languages.insertBefore("pure","inline-lang",u)}}),t.languages.c&&(t.languages.pure["inline-lang"].inside.rest=t.util.clone(t.languages.c))})(e)}T5.displayName="purebasic";T5.aliases=["pbfasm"];function T5(e){e.register(si),e.languages.purebasic=e.languages.extend("clike",{comment:/;.*/,keyword:/\b(?:align|and|as|break|calldebugger|case|compilercase|compilerdefault|compilerelse|compilerelseif|compilerendif|compilerendselect|compilererror|compilerif|compilerselect|continue|data|datasection|debug|debuglevel|declare|declarec|declarecdll|declaredll|declaremodule|default|define|dim|disableasm|disabledebugger|disableexplicit|else|elseif|enableasm|enabledebugger|enableexplicit|end|enddatasection|enddeclaremodule|endenumeration|endif|endimport|endinterface|endmacro|endmodule|endprocedure|endselect|endstructure|endstructureunion|endwith|enumeration|extends|fakereturn|for|foreach|forever|global|gosub|goto|if|import|importc|includebinary|includefile|includepath|interface|macro|module|newlist|newmap|next|not|or|procedure|procedurec|procedurecdll|proceduredll|procedurereturn|protected|prototype|prototypec|read|redim|repeat|restore|return|runtime|select|shared|static|step|structure|structureunion|swap|threaded|to|until|wend|while|with|xincludefile|xor)\b/i,function:/\b\w+(?:\.\w+)?\s*(?=\()/,number:/(?:\$[\da-f]+|\b-?(?:\d+(?:\.\d+)?|\.\d+)(?:e[+-]?\d+)?)\b/i,operator:/(?:@\*?|\?|\*)\w+\$?|-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*/@]/}),e.languages.insertBefore("purebasic","keyword",{tag:/#\w+\$?/,asm:{pattern:/(^[\t ]*)!.*/m,lookbehind:!0,alias:"tag",inside:{comment:/;.*/,string:{pattern:/(["'`])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"label-reference-anonymous":{pattern:/(!\s*j[a-z]+\s+)@[fb]/i,lookbehind:!0,alias:"fasm-label"},"label-reference-addressed":{pattern:/(!\s*j[a-z]+\s+)[A-Z._?$@][\w.?$@~#]*/i,lookbehind:!0,alias:"fasm-label"},keyword:[/\b(?:extern|global)\b[^;\r\n]*/i,/\b(?:CPU|DEFAULT|FLOAT)\b.*/],function:{pattern:/^([\t ]*!\s*)[\da-z]+(?=\s|$)/im,lookbehind:!0},"function-inline":{pattern:/(:\s*)[\da-z]+(?=\s)/i,lookbehind:!0,alias:"function"},label:{pattern:/^([\t ]*!\s*)[A-Za-z._?$@][\w.?$@~#]*(?=:)/m,lookbehind:!0,alias:"fasm-label"},register:/\b(?:st\d|[xyz]mm\d\d?|[cdt]r\d|r\d\d?[bwd]?|[er]?[abcd]x|[abcd][hl]|[er]?(?:bp|di|si|sp)|[cdefgs]s|mm\d+)\b/i,number:/(?:\b|-|(?=\$))(?:0[hx](?:[\da-f]*\.)?[\da-f]+(?:p[+-]?\d+)?|\d[\da-f]+[hx]|\$\d[\da-f]*|0[oq][0-7]+|[0-7]+[oq]|0[by][01]+|[01]+[by]|0[dt]\d+|(?:\d+(?:\.\d+)?|\.\d+)(?:\.?e[+-]?\d+)?[dt]?)\b/i,operator:/[\[\]*+\-/%<>=&|$!,.:]/}}}),delete e.languages.purebasic["class-name"],delete e.languages.purebasic.boolean,e.languages.pbfasm=e.languages.purebasic}C5.displayName="purescript";C5.aliases=["purs"];function C5(e){e.register(IT),e.languages.purescript=e.languages.extend("haskell",{keyword:/\b(?:ado|case|class|data|derive|do|else|forall|if|in|infixl|infixr|instance|let|module|newtype|of|primitive|then|type|where)\b|/,"import-statement":{pattern:/(^[\t ]*)import\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*(?:\s+as\s+[A-Z][\w']*(?:\.[A-Z][\w']*)*)?(?:\s+hiding\b)?/m,lookbehind:!0,inside:{keyword:/\b(?:as|hiding|import)\b/,punctuation:/\./}},builtin:/\b(?:absurd|add|ap|append|apply|between|bind|bottom|clamp|compare|comparing|compose|conj|const|degree|discard|disj|div|eq|flap|flip|gcd|identity|ifM|join|lcm|liftA1|liftM1|map|max|mempty|min|mod|mul|negate|not|notEq|one|otherwise|recip|show|sub|top|unit|unless|unlessM|void|when|whenM|zero)\b/,operator:[e.languages.haskell.operator[0],e.languages.haskell.operator[2],/[\xa2-\xa6\xa8\xa9\xac\xae-\xb1\xb4\xb8\xd7\xf7\u02c2-\u02c5\u02d2-\u02df\u02e5-\u02eb\u02ed\u02ef-\u02ff\u0375\u0384\u0385\u03f6\u0482\u058d-\u058f\u0606-\u0608\u060b\u060e\u060f\u06de\u06e9\u06fd\u06fe\u07f6\u07fe\u07ff\u09f2\u09f3\u09fa\u09fb\u0af1\u0b70\u0bf3-\u0bfa\u0c7f\u0d4f\u0d79\u0e3f\u0f01-\u0f03\u0f13\u0f15-\u0f17\u0f1a-\u0f1f\u0f34\u0f36\u0f38\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce\u0fcf\u0fd5-\u0fd8\u109e\u109f\u1390-\u1399\u166d\u17db\u1940\u19de-\u19ff\u1b61-\u1b6a\u1b74-\u1b7c\u1fbd\u1fbf-\u1fc1\u1fcd-\u1fcf\u1fdd-\u1fdf\u1fed-\u1fef\u1ffd\u1ffe\u2044\u2052\u207a-\u207c\u208a-\u208c\u20a0-\u20bf\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211e-\u2123\u2125\u2127\u2129\u212e\u213a\u213b\u2140-\u2144\u214a-\u214d\u214f\u218a\u218b\u2190-\u2307\u230c-\u2328\u232b-\u2426\u2440-\u244a\u249c-\u24e9\u2500-\u2767\u2794-\u27c4\u27c7-\u27e5\u27f0-\u2982\u2999-\u29d7\u29dc-\u29fb\u29fe-\u2b73\u2b76-\u2b95\u2b97-\u2bff\u2ce5-\u2cea\u2e50\u2e51\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u2ff0-\u2ffb\u3004\u3012\u3013\u3020\u3036\u3037\u303e\u303f\u309b\u309c\u3190\u3191\u3196-\u319f\u31c0-\u31e3\u3200-\u321e\u322a-\u3247\u3250\u3260-\u327f\u328a-\u32b0\u32c0-\u33ff\u4dc0-\u4dff\ua490-\ua4c6\ua700-\ua716\ua720\ua721\ua789\ua78a\ua828-\ua82b\ua836-\ua839\uaa77-\uaa79\uab5b\uab6a\uab6b\ufb29\ufbb2-\ufbc1\ufdfc\ufdfd\ufe62\ufe64-\ufe66\ufe69\uff04\uff0b\uff1c-\uff1e\uff3e\uff40\uff5c\uff5e\uffe0-\uffe6\uffe8-\uffee\ufffc\ufffd]/]}),e.languages.purs=e.languages.purescript}A5.displayName="qsharp";A5.aliases=["qs"];function A5(e){e.register(si),(function(t){function n(P,j){return P.replace(/<<(\d+)>>/g,function(G,z){return"(?:"+j[+z]+")"})}function r(P,j,G){return RegExp(n(P,j),"")}function a(P,j){for(var G=0;G<j;G++)P=P.replace(/<<self>>/g,function(){return"(?:"+P+")"});return P.replace(/<<self>>/g,"[^\\s\\S]")}var l={type:"Adj BigInt Bool Ctl Double false Int One Pauli PauliI PauliX PauliY PauliZ Qubit Range Result String true Unit Zero",other:"Adjoint adjoint apply as auto body borrow borrowing Controlled controlled distribute elif else fail fixup for function if in internal intrinsic invert is let mutable namespace new newtype open operation repeat return self set until use using while within"};function u(P){return"\\b(?:"+P.trim().replace(/ /g,"|")+")\\b"}var i=RegExp(u(l.type+" "+l.other)),m=/\b[A-Za-z_]\w*\b/.source,b=n(/<<0>>(?:\s*\.\s*<<0>>)*/.source,[m]),_={keyword:i,punctuation:/[<>()?,.:[\]]/},w=/"(?:\\.|[^\\"])*"/.source;t.languages.qsharp=t.languages.extend("clike",{comment:/\/\/.*/,string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[w]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\b(?:as|open)\s+)<<0>>(?=\s*(?:;|as\b))/.source,[b]),lookbehind:!0,inside:_},{pattern:r(/(\bnamespace\s+)<<0>>(?=\s*\{)/.source,[b]),lookbehind:!0,inside:_}],keyword:i,number:/(?:\b0(?:x[\da-f]+|b[01]+|o[0-7]+)|(?:\B\.\d+|\b\d+(?:\.\d*)?)(?:e[-+]?\d+)?)l?\b/i,operator:/\band=|\bor=|\band\b|\bnot\b|\bor\b|<[-=]|[-=]>|>>>=?|<<<=?|\^\^\^=?|\|\|\|=?|&&&=?|w\/=?|~~~|[*\/+\-^=!%]=?/,punctuation:/::|[{}[\];(),.:]/}),t.languages.insertBefore("qsharp","number",{range:{pattern:/\.\./,alias:"operator"}});var M=a(n(/\{(?:[^"{}]|<<0>>|<<self>>)*\}/.source,[w]),2);t.languages.insertBefore("qsharp","string",{"interpolation-string":{pattern:r(/\$"(?:\\.|<<0>>|[^\\"{])*"/.source,[M]),greedy:!0,inside:{interpolation:{pattern:r(/((?:^|[^\\])(?:\\\\)*)<<0>>/.source,[M]),lookbehind:!0,inside:{punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-qsharp",inside:t.languages.qsharp}}},string:/[\s\S]+/}}})})(e),e.languages.qs=e.languages.qsharp}k5.displayName="q";k5.aliases=[];function k5(e){e.languages.q={string:/"(?:\\.|[^"\\\r\n])*"/,comment:[{pattern:/([\t )\]}])\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|\r?\n|\r)\/[\t ]*(?:(?:\r?\n|\r)(?:.*(?:\r?\n|\r(?!\n)))*?(?:\\(?=[\t ]*(?:\r?\n|\r))|$)|\S.*)/,lookbehind:!0,greedy:!0},{pattern:/^\\[\t ]*(?:\r?\n|\r)[\s\S]+/m,greedy:!0},{pattern:/^#!.+/m,greedy:!0}],symbol:/`(?::\S+|[\w.]*)/,datetime:{pattern:/0N[mdzuvt]|0W[dtz]|\d{4}\.\d\d(?:m|\.\d\d(?:T(?:\d\d(?::\d\d(?::\d\d(?:[.:]\d\d\d)?)?)?)?)?[dz]?)|\d\d:\d\d(?::\d\d(?:[.:]\d\d\d)?)?[uvt]?/,alias:"number"},number:/\b(?![01]:)(?:0N[hje]?|0W[hj]?|0[wn]|0x[\da-fA-F]+|\d+(?:\.\d*)?(?:e[+-]?\d+)?[hjfeb]?)/,keyword:/\\\w+\b|\b(?:abs|acos|aj0?|all|and|any|asc|asin|asof|atan|attr|avgs?|binr?|by|ceiling|cols|cor|cos|count|cov|cross|csv|cut|delete|deltas|desc|dev|differ|distinct|div|do|dsave|ej|enlist|eval|except|exec|exit|exp|fby|fills|first|fkeys|flip|floor|from|get|getenv|group|gtime|hclose|hcount|hdel|hopen|hsym|iasc|identity|idesc|if|ij|in|insert|inter|inv|keys?|last|like|list|ljf?|load|log|lower|lsq|ltime|ltrim|mavg|maxs?|mcount|md5|mdev|med|meta|mins?|mmax|mmin|mmu|mod|msum|neg|next|not|null|or|over|parse|peach|pj|plist|prds?|prev|prior|rand|rank|ratios|raze|read0|read1|reciprocal|reval|reverse|rload|rotate|rsave|rtrim|save|scan|scov|sdev|select|set|setenv|show|signum|sin|sqrt|ssr?|string|sublist|sums?|sv|svar|system|tables|tan|til|trim|txf|type|uj|ungroup|union|update|upper|upsert|value|var|views?|vs|wavg|where|while|within|wj1?|wsum|ww|xasc|xbar|xcols?|xdesc|xexp|xgroup|xkey|xlog|xprev|xrank)\b/,adverb:{pattern:/['\/\\]:?|\beach\b/,alias:"function"},verb:{pattern:/(?:\B\.\B|\b[01]:|<[=>]?|>=?|[:+\-*%,!?~=|$&#@^]):?|\b_\b:?/,alias:"operator"},punctuation:/[(){}\[\];.]/}}I5.displayName="qml";I5.aliases=[];function I5(e){e.register(Fc),(function(t){for(var n=/"(?:\\.|[^\\"\r\n])*"|'(?:\\.|[^\\'\r\n])*'/.source,r=/\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))*\*\//.source,a=/(?:[^\\()[\]{}"'/]|<string>|\/(?![*/])|<comment>|\(<expr>*\)|\[<expr>*\]|\{<expr>*\}|\\[\s\S])/.source.replace(/<string>/g,function(){return n}).replace(/<comment>/g,function(){return r}),l=0;l<2;l++)a=a.replace(/<expr>/g,function(){return a});a=a.replace(/<expr>/g,"[^\\s\\S]"),t.languages.qml={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},"javascript-function":{pattern:RegExp(/((?:^|;)[ \t]*)function\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*\(<js>*\)\s*\{<js>*\}/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},"class-name":{pattern:/((?:^|[:;])[ \t]*)(?!\d)\w+(?=[ \t]*\{|[ \t]+on\b)/m,lookbehind:!0},property:[{pattern:/((?:^|[;{])[ \t]*)(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0},{pattern:/((?:^|[;{])[ \t]*)property[ \t]+(?!\d)\w+(?:\.\w+)*[ \t]+(?!\d)\w+(?:\.\w+)*(?=[ \t]*:)/m,lookbehind:!0,inside:{keyword:/^property/,property:/\w+(?:\.\w+)*/}}],"javascript-expression":{pattern:RegExp(/(:[ \t]*)(?![\s;}[])(?:(?!$|[;}])<js>)+/.source.replace(/<js>/g,function(){return a}),"m"),lookbehind:!0,greedy:!0,alias:"language-javascript",inside:t.languages.javascript},string:{pattern:/"(?:\\.|[^\\"\r\n])*"/,greedy:!0},keyword:/\b(?:as|import|on)\b/,punctuation:/[{}[\]:;,]/}})(e)}N5.displayName="qore";N5.aliases=[];function N5(e){e.register(si),e.languages.qore=e.languages.extend("clike",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:\/\/|#).*)/,lookbehind:!0},string:{pattern:/("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/,greedy:!0},keyword:/\b(?:abstract|any|assert|binary|bool|boolean|break|byte|case|catch|char|class|code|const|continue|data|default|do|double|else|enum|extends|final|finally|float|for|goto|hash|if|implements|import|inherits|instanceof|int|interface|long|my|native|new|nothing|null|object|our|own|private|reference|rethrow|return|short|soft(?:bool|date|float|int|list|number|string)|static|strictfp|string|sub|super|switch|synchronized|this|throw|throws|transient|try|void|volatile|while)\b/,boolean:/\b(?:false|true)\b/i,function:/\$?\b(?!\d)\w+(?=\()/,number:/\b(?:0b[01]+|0x(?:[\da-f]*\.)?[\da-fp\-]+|(?:\d+(?:\.\d+)?|\.\d+)(?:e\d+)?[df]|(?:\d+(?:\.\d+)?|\.\d+))\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|[!=](?:==?|~)?|>>?=?|<(?:=>?|<=?)?|&[&=]?|\|[|=]?|[*\/%^]=?|[~?])/,lookbehind:!0},variable:/\$(?!\d)\w+\b/})}R5.displayName="racket";R5.aliases=["rkt"];function R5(e){e.register(NT),e.languages.racket=e.languages.extend("scheme",{"lambda-parameter":{pattern:/([(\[]lambda\s+[(\[])[^()\[\]'\s]+/,lookbehind:!0}}),e.languages.insertBefore("racket","string",{lang:{pattern:/^#lang.+/m,greedy:!0,alias:"keyword"}}),e.languages.rkt=e.languages.racket}M5.displayName="cshtml";M5.aliases=["razor"];function M5(e){e.register(U1),e.register(nc),(function(t){var n=/\/(?![/*])|\/\/.*[\r\n]|\/\*[^*]*(?:\*(?!\/)[^*]*)*\*\//.source,r=/@(?!")|"(?:[^\r\n\\"]|\\.)*"|@"(?:[^\\"]|""|\\[\s\S])*"(?!")/.source+"|"+/'(?:(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'|(?=[^\\](?!')))/.source;function a(Y,J){for(var ne=0;ne<J;ne++)Y=Y.replace(/<self>/g,function(){return"(?:"+Y+")"});return Y.replace(/<self>/g,"[^\\s\\S]").replace(/<str>/g,"(?:"+r+")").replace(/<comment>/g,"(?:"+n+")")}var l=a(/\((?:[^()'"@/]|<str>|<comment>|<self>)*\)/.source,2),u=a(/\[(?:[^\[\]'"@/]|<str>|<comment>|<self>)*\]/.source,1),i=a(/\{(?:[^{}'"@/]|<str>|<comment>|<self>)*\}/.source,2),m=a(/<(?:[^<>'"@/]|<comment>|<self>)*>/.source,1),b=/@/.source+/(?:await\b\s*)?/.source+"(?:"+/(?!await\b)\w+\b/.source+"|"+l+")(?:"+/[?!]?\.\w+\b/.source+"|(?:"+m+")?"+l+"|"+u+")*"+/(?![?!\.(\[]|<(?!\/))/.source,_=/@(?![\w()])/.source+"|"+b,w="(?:"+/"[^"@]*"|'[^'@]*'|[^\s'"@>=]+(?=[\s>])/.source+`|["'][^"'@]*(?:(?:`+_+`)[^"'@]*)+["'])`,M=/(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*<tagAttrValue>|(?=[\s/>])))+)?/.source.replace(/<tagAttrValue>/,w),P=/(?!\d)[^\s>\/=$<%]+/.source+M+/\s*\/?>/.source,j=/\B@?/.source+"(?:"+/<([a-zA-Z][\w:]*)/.source+M+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+P+"|"+a(/<\1/.source+M+/\s*>/.source+"(?:"+(/[^<]/.source+"|"+/<\/?(?!\1\b)/.source+P+"|<self>")+")*"+/<\/\1\s*>/.source,2))+")*"+/<\/\1\s*>/.source+"|"+/</.source+P+")";t.languages.cshtml=t.languages.extend("markup",{});var G=t.languages.insertBefore("csharp","string",{html:{pattern:RegExp(j),greedy:!0,inside:t.languages.cshtml}},{csharp:t.languages.extend("csharp",{})}),z={pattern:/\S[\s\S]*/,alias:"language-csharp",inside:G},q={pattern:RegExp(/(^|[^@])/.source+b),lookbehind:!0,greedy:!0,alias:"variable",inside:{keyword:/^@/,csharp:z}};t.languages.cshtml.tag.pattern=RegExp(/<\/?/.source+P),t.languages.cshtml.tag.inside["attr-value"].pattern=RegExp(/=\s*/.source+w),t.languages.insertBefore("inside","punctuation",{value:q},t.languages.cshtml.tag.inside["attr-value"]),t.languages.insertBefore("cshtml","prolog",{"razor-comment":{pattern:/@\*[\s\S]*?\*@/,greedy:!0,alias:"comment"},block:{pattern:RegExp(/(^|[^@])@/.source+"(?:"+[i,/(?:code|functions)\s*/.source+i,/(?:for|foreach|lock|switch|using|while)\s*/.source+l+/\s*/.source+i,/do\s*/.source+i+/\s*while\s*/.source+l+/(?:\s*;)?/.source,/try\s*/.source+i+/\s*catch\s*/.source+l+/\s*/.source+i+/\s*finally\s*/.source+i,/if\s*/.source+l+/\s*/.source+i+"(?:"+/\s*else/.source+"(?:"+/\s+if\s*/.source+l+")?"+/\s*/.source+i+")*",/helper\s+\w+\s*/.source+l+/\s*/.source+i].join("|")+")"),lookbehind:!0,greedy:!0,inside:{keyword:/^@\w*/,csharp:z}},directive:{pattern:/^([ \t]*)@(?:addTagHelper|attribute|implements|inherits|inject|layout|model|namespace|page|preservewhitespace|removeTagHelper|section|tagHelperPrefix|using)(?=\s).*/m,lookbehind:!0,greedy:!0,inside:{keyword:/^@\w+/,csharp:z}},value:q,"delegate-operator":{pattern:/(^|[^@])@(?=<)/,lookbehind:!0,alias:"operator"}}),t.languages.razor=t.languages.cshtml})(e)}cN.displayName="jsx";cN.aliases=[];function cN(e){e.register(Fc),e.register(nc),(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,a=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,l=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function u(b,_){return b=b.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return a}).replace(/<SPREAD>/g,function(){return l}),RegExp(b,_)}l=u(l).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=u(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:u(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:u(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var i=function(b){return b?typeof b=="string"?b:typeof b.content=="string"?b.content:b.content.map(i).join(""):""},m=function(b){for(var _=[],w=0;w<b.length;w++){var M=b[w],P=!1;if(typeof M!="string"&&(M.type==="tag"&&M.content[0]&&M.content[0].type==="tag"?M.content[0].content[0].content==="</"?_.length>0&&_[_.length-1].tagName===i(M.content[0].content[1])&&_.pop():M.content[M.content.length-1].content==="/>"||_.push({tagName:i(M.content[0].content[1]),openedBraces:0}):_.length>0&&M.type==="punctuation"&&M.content==="{"?_[_.length-1].openedBraces++:_.length>0&&_[_.length-1].openedBraces>0&&M.type==="punctuation"&&M.content==="}"?_[_.length-1].openedBraces--:P=!0),(P||typeof M=="string")&&_.length>0&&_[_.length-1].openedBraces===0){var j=i(M);w<b.length-1&&(typeof b[w+1]=="string"||b[w+1].type==="plain-text")&&(j+=i(b[w+1]),b.splice(w+1,1)),w>0&&(typeof b[w-1]=="string"||b[w-1].type==="plain-text")&&(j=i(b[w-1])+j,b.splice(w-1,1),w--),b[w]=new t.Token("plain-text",j,null,j)}M.content&&typeof M.content!="string"&&m(M.content)}};t.hooks.add("after-tokenize",function(b){b.language!=="jsx"&&b.language!=="tsx"||m(b.tokens)})})(e)}O5.displayName="tsx";O5.aliases=[];function O5(e){e.register(cN),e.register(gw),(function(t){var n=t.util.clone(t.languages.typescript);t.languages.tsx=t.languages.extend("jsx",n),delete t.languages.tsx.parameter,delete t.languages.tsx["literal-property"];var r=t.languages.tsx.tag;r.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+r.pattern.source+")",r.pattern.flags),r.lookbehind=!0})(e)}D5.displayName="reason";D5.aliases=[];function D5(e){e.register(si),e.languages.reason=e.languages.extend("clike",{string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*/,keyword:/\b(?:and|as|assert|begin|class|constraint|do|done|downto|else|end|exception|external|for|fun|function|functor|if|in|include|inherit|initializer|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|sig|struct|switch|then|to|try|type|val|virtual|when|while|with)\b/,operator:/\.{3}|:[:=]|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/}),e.languages.insertBefore("reason","class-name",{char:{pattern:/'(?:\\x[\da-f]{2}|\\o[0-3][0-7][0-7]|\\\d{3}|\\.|[^'\\\r\n])'/,greedy:!0},constructor:/\b[A-Z]\w*\b(?!\s*\.)/,label:{pattern:/\b[a-z]\w*(?=::)/,alias:"symbol"}}),delete e.languages.reason.function}L5.displayName="rego";L5.aliases=[];function L5(e){e.languages.rego={comment:/#.*/,property:{pattern:/(^|[^\\.])(?:"(?:\\.|[^\\"\r\n])*"|`[^`]*`|\b[a-z_]\w*\b)(?=\s*:(?!=))/i,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:as|default|else|import|not|null|package|set(?=\s*\()|some|with)\b/,boolean:/\b(?:false|true)\b/,function:{pattern:/\b[a-z_]\w*\b(?:\s*\.\s*\b[a-z_]\w*\b)*(?=\s*\()/i,inside:{namespace:/\b\w+\b(?=\s*\.)/,punctuation:/\./}},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,operator:/[-+*/%|&]|[<>:=]=?|!=|\b_\b/,punctuation:/[,;.\[\]{}()]/}}P5.displayName="renpy";P5.aliases=["rpy"];function P5(e){e.languages.renpy={comment:{pattern:/(^|[^\\])#.+/,lookbehind:!0},string:{pattern:/("""|''')[\s\S]+?\1|("|')(?:\\.|(?!\2)[^\\])*\2|(?:^#?(?:(?:[0-9a-fA-F]){3}|[0-9a-fA-F]{6})$)/m,greedy:!0},function:/\b[a-z_]\w*(?=\()/i,property:/\b(?:Update|UpdateVersion|action|activate_sound|adv_nvl_transition|after_load_transition|align|alpha|alt|anchor|antialias|area|auto|background|bar_invert|bar_resizing|bar_vertical|black_color|bold|bottom_bar|bottom_gutter|bottom_margin|bottom_padding|box_reverse|box_wrap|can_update|caret|child|color|crop|default_afm_enable|default_afm_time|default_fullscreen|default_text_cps|developer|directory_name|drag_handle|drag_joined|drag_name|drag_raise|draggable|dragged|drop_shadow|drop_shadow_color|droppable|dropped|easein|easeout|edgescroll|end_game_transition|end_splash_transition|enter_replay_transition|enter_sound|enter_transition|enter_yesno_transition|executable_name|exit_replay_transition|exit_sound|exit_transition|exit_yesno_transition|fadein|fadeout|first_indent|first_spacing|fit_first|focus|focus_mask|font|foreground|game_main_transition|get_installed_packages|google_play_key|google_play_salt|ground|has_music|has_sound|has_voice|height|help|hinting|hover|hover_background|hover_color|hover_sound|hovered|hyperlink_functions|idle|idle_color|image_style|include_update|insensitive|insensitive_background|insensitive_color|inside|intra_transition|italic|justify|kerning|keyboard_focus|language|layer_clipping|layers|layout|left_bar|left_gutter|left_margin|left_padding|length|line_leading|line_overlap_split|line_spacing|linear|main_game_transition|main_menu_music|maximum|min_width|minimum|minwidth|modal|mouse|mousewheel|name|narrator_menu|newline_indent|nvl_adv_transition|offset|order_reverse|outlines|overlay_functions|pos|position|prefix|radius|range|rest_indent|right_bar|right_gutter|right_margin|right_padding|rotate|rotate_pad|ruby_style|sample_sound|save_directory|say_attribute_transition|screen_height|screen_width|scrollbars|selected_hover|selected_hover_color|selected_idle|selected_idle_color|selected_insensitive|show_side_image|show_two_window|side_spacing|side_xpos|side_ypos|size|size_group|slow_cps|slow_cps_multiplier|spacing|strikethrough|subpixel|text_align|text_style|text_xpos|text_y_fudge|text_ypos|thumb|thumb_offset|thumb_shadow|thumbnail_height|thumbnail_width|time|top_bar|top_gutter|top_margin|top_padding|translations|underline|unscrollable|update|value|version|version_name|version_tuple|vertical|width|window_hide_transition|window_icon|window_left_padding|window_show_transition|window_title|windows_icon|xadjustment|xalign|xanchor|xanchoraround|xaround|xcenter|xfill|xinitial|xmargin|xmaximum|xminimum|xoffset|xofsset|xpadding|xpos|xsize|xzoom|yadjustment|yalign|yanchor|yanchoraround|yaround|ycenter|yfill|yinitial|ymargin|ymaximum|yminimum|yoffset|ypadding|ypos|ysize|ysizexysize|yzoom|zoom|zorder)\b/,tag:/\b(?:bar|block|button|buttoscreenn|drag|draggroup|fixed|frame|grid|[hv]box|hotbar|hotspot|image|imagebutton|imagemap|input|key|label|menu|mm_menu_frame|mousearea|nvl|parallel|screen|self|side|tag|text|textbutton|timer|vbar|viewport|window)\b|\$/,keyword:/\b(?:None|add|adjustment|alignaround|allow|angle|animation|around|as|assert|behind|box_layout|break|build|cache|call|center|changed|child_size|choice|circles|class|clear|clicked|clipping|clockwise|config|contains|continue|corner1|corner2|counterclockwise|def|default|define|del|delay|disabled|disabled_text|dissolve|elif|else|event|except|exclude|exec|expression|fade|finally|for|from|function|global|gm_root|has|hide|id|if|import|in|init|is|jump|knot|lambda|left|less_rounded|mm_root|movie|music|null|on|onlayer|pass|pause|persistent|play|print|python|queue|raise|random|renpy|repeat|return|right|rounded_window|scene|scope|set|show|slow|slow_abortable|slow_done|sound|stop|store|style|style_group|substitute|suffix|theme|transform|transform_anchor|transpose|try|ui|unhovered|updater|use|voice|while|widget|widget_hover|widget_selected|widget_text|yield)\b/,boolean:/\b(?:[Ff]alse|[Tt]rue)\b/,number:/(?:\b(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?)|\B\.\d+)(?:e[+-]?\d+)?j?/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:and|at|not|or|with)\b/,punctuation:/[{}[\];(),.:]/},e.languages.rpy=e.languages.renpy}F5.displayName="rescript";F5.aliases=["res"];function F5(e){e.languages.rescript={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},char:{pattern:/'(?:[^\r\n\\]|\\(?:.|\w+))'/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^\\\r\n"])*"/,greedy:!0},"class-name":/\b[A-Z]\w*|@[a-z.]*|#[A-Za-z]\w*|#\d/,function:{pattern:/[a-zA-Z]\w*(?=\()|(\.)[a-z]\w*/,lookbehind:!0},number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,boolean:/\b(?:false|true)\b/,"attr-value":/[A-Za-z]\w*(?==)/,constant:{pattern:/(\btype\s+)[a-z]\w*/,lookbehind:!0},tag:{pattern:/(<)[a-z]\w*|(?:<\/)[a-z]\w*/,lookbehind:!0,inside:{operator:/<|>|\//}},keyword:/\b(?:and|as|assert|begin|bool|class|constraint|do|done|downto|else|end|exception|external|float|for|fun|function|if|in|include|inherit|initializer|int|lazy|let|method|module|mutable|new|nonrec|object|of|open|or|private|rec|string|switch|then|to|try|type|when|while|with)\b/,operator:/\.{3}|:[:=]?|\|>|->|=(?:==?|>)?|<=?|>=?|[|^?'#!~`]|[+\-*\/]\.?|\b(?:asr|land|lor|lsl|lsr|lxor|mod)\b/,punctuation:/[(){}[\],;.]/},e.languages.insertBefore("rescript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"tag"},rest:e.languages.rescript}},string:/[\s\S]+/}}}),e.languages.res=e.languages.rescript}B5.displayName="rest";B5.aliases=[];function B5(e){e.languages.rest={table:[{pattern:/(^[\t ]*)(?:\+[=-]+)+\+(?:\r?\n|\r)(?:\1[+|].+[+|](?:\r?\n|\r))+\1(?:\+[=-]+)+\+/m,lookbehind:!0,inside:{punctuation:/\||(?:\+[=-]+)+\+/}},{pattern:/(^[\t ]*)=+ [ =]*=(?:(?:\r?\n|\r)\1.+)+(?:\r?\n|\r)\1=+ [ =]*=(?=(?:\r?\n|\r){2}|\s*$)/m,lookbehind:!0,inside:{punctuation:/[=-]+/}}],"substitution-def":{pattern:/(^[\t ]*\.\. )\|(?:[^|\s](?:[^|]*[^|\s])?)\| [^:]+::/m,lookbehind:!0,inside:{substitution:{pattern:/^\|(?:[^|\s]|[^|\s][^|]*[^|\s])\|/,alias:"attr-value",inside:{punctuation:/^\||\|$/}},directive:{pattern:/( )(?! )[^:]+::/,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}}}},"link-target":[{pattern:/(^[\t ]*\.\. )\[[^\]]+\]/m,lookbehind:!0,alias:"string",inside:{punctuation:/^\[|\]$/}},{pattern:/(^[\t ]*\.\. )_(?:`[^`]+`|(?:[^:\\]|\\.)+):/m,lookbehind:!0,alias:"string",inside:{punctuation:/^_|:$/}}],directive:{pattern:/(^[\t ]*\.\. )[^:]+::/m,lookbehind:!0,alias:"function",inside:{punctuation:/::$/}},comment:{pattern:/(^[\t ]*\.\.)(?:(?: .+)?(?:(?:\r?\n|\r).+)+| .+)(?=(?:\r?\n|\r){2}|$)/m,lookbehind:!0},title:[{pattern:/^(([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+)(?:\r?\n|\r).+(?:\r?\n|\r)\1$/m,inside:{punctuation:/^[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+|[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}},{pattern:/(^|(?:\r?\n|\r){2}).+(?:\r?\n|\r)([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2+(?=\r?\n|\r|$)/,lookbehind:!0,inside:{punctuation:/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]+$/,important:/.+/}}],hr:{pattern:/((?:\r?\n|\r){2})([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\2{3,}(?=(?:\r?\n|\r){2})/,lookbehind:!0,alias:"punctuation"},field:{pattern:/(^[\t ]*):[^:\r\n]+:(?= )/m,lookbehind:!0,alias:"attr-name"},"command-line-option":{pattern:/(^[\t ]*)(?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?(?:, (?:[+-][a-z\d]|(?:--|\/)[a-z\d-]+)(?:[ =](?:[a-z][\w-]*|<[^<>]+>))?)*(?=(?:\r?\n|\r)? {2,}\S)/im,lookbehind:!0,alias:"symbol"},"literal-block":{pattern:/::(?:\r?\n|\r){2}([ \t]+)(?![ \t]).+(?:(?:\r?\n|\r)\1.+)*/,inside:{"literal-block-punctuation":{pattern:/^::/,alias:"punctuation"}}},"quoted-literal-block":{pattern:/::(?:\r?\n|\r){2}([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~]).*(?:(?:\r?\n|\r)\1.*)*/,inside:{"literal-block-punctuation":{pattern:/^(?:::|([!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~])\1*)/m,alias:"punctuation"}}},"list-bullet":{pattern:/(^[\t ]*)(?:[*+\-]|\(?(?:\d+|[a-z]|[ivxdclm]+)\)|(?:\d+|[a-z]|[ivxdclm]+)\.)(?= )/im,lookbehind:!0,alias:"punctuation"},"doctest-block":{pattern:/(^[\t ]*)>>> .+(?:(?:\r?\n|\r).+)*/m,lookbehind:!0,inside:{punctuation:/^>>>/}},inline:[{pattern:/(^|[\s\-:\/'"<(\[{])(?::[^:]+:`.*?`|`.*?`:[^:]+:|(\*\*?|``?|\|)(?!\s)(?:(?!\2).)*\S\2(?=[\s\-.,:;!?\\\/'")\]}]|$))/m,lookbehind:!0,inside:{bold:{pattern:/(^\*\*).+(?=\*\*$)/,lookbehind:!0},italic:{pattern:/(^\*).+(?=\*$)/,lookbehind:!0},"inline-literal":{pattern:/(^``).+(?=``$)/,lookbehind:!0,alias:"symbol"},role:{pattern:/^:[^:]+:|:[^:]+:$/,alias:"function",inside:{punctuation:/^:|:$/}},"interpreted-text":{pattern:/(^`).+(?=`$)/,lookbehind:!0,alias:"attr-value"},substitution:{pattern:/(^\|).+(?=\|$)/,lookbehind:!0,alias:"attr-value"},punctuation:/\*\*?|``?|\|/}}],link:[{pattern:/\[[^\[\]]+\]_(?=[\s\-.,:;!?\\\/'")\]}]|$)/,alias:"string",inside:{punctuation:/^\[|\]_$/}},{pattern:/(?:\b[a-z\d]+(?:[_.:+][a-z\d]+)*_?_|`[^`]+`_?_|_`[^`]+`)(?=[\s\-.,:;!?\\\/'")\]}]|$)/i,alias:"string",inside:{punctuation:/^_?`|`$|`?_?_$/}}],punctuation:{pattern:/(^[\t ]*)(?:\|(?= |$)|(?:---?||\.\.|__)(?= )|\.\.$)/m,lookbehind:!0}}}$5.displayName="rip";$5.aliases=[];function $5(e){e.languages.rip={comment:{pattern:/#.*/,greedy:!0},char:{pattern:/\B`[^\s`'",.:;#\/\\()<>\[\]{}]\b/,greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},regex:{pattern:/(^|[^/])\/(?!\/)(?:\[[^\n\r\]]*\]|\\.|[^/\\\r\n\[])+\/(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0},keyword:/(?:=>|->)|\b(?:case|catch|class|else|exit|finally|if|raise|return|switch|try)\b/,builtin:/@|\bSystem\b/,boolean:/\b(?:false|true)\b/,date:/\b\d{4}-\d{2}-\d{2}\b/,time:/\b\d{2}:\d{2}:\d{2}\b/,datetime:/\b\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\b/,symbol:/:[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/,number:/[+-]?\b(?:\d+\.\d+|\d+)\b/,punctuation:/(?:\.{2,3})|[`,.:;=\/\\()<>\[\]{}]/,reference:/[^\d\s`'",.:;#\/\\()<>\[\]{}][^\s`'",.:;#\/\\()<>\[\]{}]*/}}j5.displayName="roboconf";j5.aliases=[];function j5(e){e.languages.roboconf={comment:/#.*/,keyword:{pattern:/(^|\s)(?:(?:external|import)\b|(?:facet|instance of)(?=[ \t]+[\w-]+[ \t]*\{))/,lookbehind:!0},component:{pattern:/[\w-]+(?=[ \t]*\{)/,alias:"variable"},property:/[\w.-]+(?=[ \t]*:)/,value:{pattern:/(=[ \t]*(?![ \t]))[^,;]+/,lookbehind:!0,alias:"attr-value"},optional:{pattern:/\(optional\)/,alias:"builtin"},wildcard:{pattern:/(\.)\*/,lookbehind:!0,alias:"operator"},punctuation:/[{},.;:=]/}}z5.displayName="robotframework";z5.aliases=["robot"];function z5(e){(function(t){var n={pattern:/(^[ \t]*| {2}|\t)#.*/m,lookbehind:!0,greedy:!0},r={pattern:/((?:^|[^\\])(?:\\{2})*)[$@&%]\{(?:[^{}\r\n]|\{[^{}\r\n]*\})*\}/,lookbehind:!0,inside:{punctuation:/^[$@&%]\{|\}$/}};function a(m,b){var _={};_["section-header"]={pattern:/^ ?\*{3}.+?\*{3}/,alias:"keyword"};for(var w in b)_[w]=b[w];return _.tag={pattern:/([\r\n](?: {2}|\t)[ \t]*)\[[-\w]+\]/,lookbehind:!0,inside:{punctuation:/\[|\]/}},_.variable=r,_.comment=n,{pattern:RegExp(/^ ?\*{3}[ \t]*<name>[ \t]*\*{3}(?:.|[\r\n](?!\*{3}))*/.source.replace(/<name>/g,function(){return m}),"im"),alias:"section",inside:_}}var l={pattern:/(\[Documentation\](?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},u={pattern:/([\r\n] ?)(?!#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,alias:"function",inside:{variable:r}},i={pattern:/([\r\n](?: {2}|\t)[ \t]*)(?!\[|\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0,inside:{variable:r}};t.languages.robotframework={settings:a("Settings",{documentation:{pattern:/([\r\n] ?Documentation(?: {2}|\t)[ \t]*)(?![ \t]|#)(?:.|(?:\r\n?|\n)[ \t]*\.{3})+/,lookbehind:!0,alias:"string"},property:{pattern:/([\r\n] ?)(?!\.{3}|#)(?:\S(?:[ \t]\S)*)+/,lookbehind:!0}}),variables:a("Variables"),"test-cases":a("Test Cases",{"test-name":u,documentation:l,property:i}),keywords:a("Keywords",{"keyword-name":u,documentation:l,property:i}),tasks:a("Tasks",{"task-name":u,documentation:l,property:i}),comment:n},t.languages.robot=t.languages.robotframework})(e)}U5.displayName="sas";U5.aliases=[];function U5(e){(function(t){var n=/(?:"(?:""|[^"])*"(?!")|'(?:''|[^'])*'(?!'))/.source,r=/\b(?:\d[\da-f]*x|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,a={pattern:RegExp(n+"[bx]"),alias:"number"},l={pattern:/&[a-z_]\w*/i},u={pattern:/((?:^|\s|=|\())%(?:ABORT|BY|CMS|COPY|DISPLAY|DO|ELSE|END|EVAL|GLOBAL|GO|GOTO|IF|INC|INCLUDE|INDEX|INPUT|KTRIM|LENGTH|LET|LIST|LOCAL|PUT|QKTRIM|QSCAN|QSUBSTR|QSYSFUNC|QUPCASE|RETURN|RUN|SCAN|SUBSTR|SUPERQ|SYMDEL|SYMEXIST|SYMGLOBL|SYMLOCAL|SYSCALL|SYSEVALF|SYSEXEC|SYSFUNC|SYSGET|SYSRPUT|THEN|TO|TSO|UNQUOTE|UNTIL|UPCASE|WHILE|WINDOW)\b/i,lookbehind:!0,alias:"keyword"},i={pattern:/(^|\s)(?:proc\s+\w+|data(?!=)|quit|run)\b/i,alias:"keyword",lookbehind:!0},m=[/\/\*[\s\S]*?\*\//,{pattern:/(^[ \t]*|;\s*)\*[^;]*;/m,lookbehind:!0}],b={pattern:RegExp(n),greedy:!0},_=/[$%@.(){}\[\];,\\]/,w={pattern:/%?\b\w+(?=\()/,alias:"keyword"},M={function:w,"arg-value":{pattern:/(=\s*)[A-Z\.]+/i,lookbehind:!0},operator:/=/,"macro-variable":l,arg:{pattern:/[A-Z]+/i,alias:"keyword"},number:r,"numeric-constant":a,punctuation:_,string:b},P={pattern:/\b(?:format|put)\b=?[\w'$.]+/i,inside:{keyword:/^(?:format|put)(?==)/i,equals:/=/,format:{pattern:/(?:\w|\$\d)+\.\d?/,alias:"number"}}},j={pattern:/\b(?:format|put)\s+[\w']+(?:\s+[$.\w]+)+(?=;)/i,inside:{keyword:/^(?:format|put)/i,format:{pattern:/[\w$]+\.\d?/,alias:"number"}}},G={pattern:/((?:^|\s)=?)(?:catname|checkpoint execute_always|dm|endsas|filename|footnote|%include|libname|%list|lock|missing|options|page|resetline|%run|sasfile|skip|sysecho|title\d?)\b/i,lookbehind:!0,alias:"keyword"},z={pattern:/(^|\s)(?:submit(?:\s+(?:load|norun|parseonly))?|endsubmit)\b/i,lookbehind:!0,alias:"keyword"},q=/aStore|accessControl|aggregation|audio|autotune|bayesianNetClassifier|bioMedImage|boolRule|builtins|cardinality|cdm|clustering|conditionalRandomFields|configuration|copula|countreg|dataDiscovery|dataPreprocess|dataSciencePilot|dataStep|decisionTree|deduplication|deepLearn|deepNeural|deepRnn|ds2|ecm|entityRes|espCluster|explainModel|factmac|fastKnn|fcmpact|fedSql|freqTab|gVarCluster|gam|gleam|graphSemiSupLearn|hiddenMarkovModel|hyperGroup|ica|image|iml|kernalPca|langModel|ldaTopic|loadStreams|mbc|mixed|mlTools|modelPublishing|network|neuralNet|nmf|nonParametricBayes|nonlinear|optNetwork|optimization|panel|pca|percentile|phreg|pls|qkb|qlim|quantreg|recommend|regression|reinforcementLearn|robustPca|ruleMining|sampling|sandwich|sccasl|search(?:Analytics)?|sentimentAnalysis|sequence|session(?:Prop)?|severity|simSystem|simple|smartData|sparkEmbeddedProcess|sparseML|spatialreg|spc|stabilityMonitoring|svDataDescription|svm|table|text(?:Filters|Frequency|Mining|Parse|Rule(?:Develop|Score)|Topic|Util)|timeData|transpose|tsInfo|tsReconcile|uniTimeSeries|varReduce/.source,Y={pattern:RegExp(/(^|\s)(?:action\s+)?(?:<act>)\.[a-z]+\b[^;]+/.source.replace(/<act>/g,function(){return q}),"i"),lookbehind:!0,inside:{keyword:RegExp(/(?:<act>)\.[a-z]+\b/.source.replace(/<act>/g,function(){return q}),"i"),action:{pattern:/(?:action)/i,alias:"keyword"},comment:m,function:w,"arg-value":M["arg-value"],operator:M.operator,argument:M.arg,number:r,"numeric-constant":a,punctuation:_,string:b}},J={pattern:/((?:^|\s)=?)(?:after|analysis|and|array|barchart|barwidth|begingraph|by|call|cas|cbarline|cfill|class(?:lev)?|close|column|computed?|contains|continue|data(?==)|define|delete|describe|document|do\s+over|do|dol|drop|dul|else|end(?:comp|source)?|entryTitle|eval(?:uate)?|exec(?:ute)?|exit|file(?:name)?|fill(?:attrs)?|flist|fnc|function(?:list)?|global|goto|group(?:by)?|headline|headskip|histogram|if|infile|keep|keylabel|keyword|label|layout|leave|legendlabel|length|libname|loadactionset|merge|midpoints|_?null_|name|noobs|nowd|ods|options|or|otherwise|out(?:put)?|over(?:lay)?|plot|print|put|raise|ranexp|rannor|rbreak|retain|return|select|session|sessref|set|source|statgraph|sum|summarize|table|temp|terminate|then\s+do|then|title\d?|to|var|when|where|xaxisopts|y2axisopts|yaxisopts)\b/i,lookbehind:!0};t.languages.sas={datalines:{pattern:/^([ \t]*)(?:cards|(?:data)?lines);[\s\S]+?^[ \t]*;/im,lookbehind:!0,alias:"string",inside:{keyword:{pattern:/^(?:cards|(?:data)?lines)/i},punctuation:/;/}},"proc-sql":{pattern:/(^proc\s+(?:fed)?sql(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{sql:{pattern:RegExp(/^[ \t]*(?:select|alter\s+table|(?:create|describe|drop)\s+(?:index|table(?:\s+constraints)?|view)|create\s+unique\s+index|insert\s+into|update)(?:<str>|[^;"'])+;/.source.replace(/<str>/g,function(){return n}),"im"),alias:"language-sql",inside:t.languages.sql},"global-statements":G,"sql-statements":{pattern:/(^|\s)(?:disconnect\s+from|begin|commit|exec(?:ute)?|reset|rollback|validate)\b/i,lookbehind:!0,alias:"keyword"},number:r,"numeric-constant":a,punctuation:_,string:b}},"proc-groovy":{pattern:/(^proc\s+groovy(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:m,groovy:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-groovy",inside:t.languages.groovy},keyword:J,"submit-statement":z,"global-statements":G,number:r,"numeric-constant":a,punctuation:_,string:b}},"proc-lua":{pattern:/(^proc\s+lua(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|data|quit|run);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:m,lua:{pattern:RegExp(/(^[ \t]*submit(?:\s+(?:load|norun|parseonly))?)(?:<str>|[^"'])+?(?=endsubmit;)/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,alias:"language-lua",inside:t.languages.lua},keyword:J,"submit-statement":z,"global-statements":G,number:r,"numeric-constant":a,punctuation:_,string:b}},"proc-cas":{pattern:/(^proc\s+cas(?:\s+[\w|=]+)?;)[\s\S]+?(?=^(?:proc\s+\w+|quit|data);|(?![\s\S]))/im,lookbehind:!0,inside:{comment:m,"statement-var":{pattern:/((?:^|\s)=?)saveresult\s[^;]+/im,lookbehind:!0,inside:{statement:{pattern:/^saveresult\s+\S+/i,inside:{keyword:/^(?:saveresult)/i}},rest:M}},"cas-actions":Y,statement:{pattern:/((?:^|\s)=?)(?:default|(?:un)?set|on|output|upload)[^;]+/im,lookbehind:!0,inside:M},step:i,keyword:J,function:w,format:P,altformat:j,"global-statements":G,number:r,"numeric-constant":a,punctuation:_,string:b}},"proc-args":{pattern:RegExp(/(^proc\s+\w+\s+)(?!\s)(?:[^;"']|<str>)+;/.source.replace(/<str>/g,function(){return n}),"im"),lookbehind:!0,inside:M},"macro-keyword":u,"macro-variable":l,"macro-string-functions":{pattern:/((?:^|\s|=))%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)\(.*?(?:[^%]\))/i,lookbehind:!0,inside:{function:{pattern:/%(?:BQUOTE|NRBQUOTE|NRQUOTE|NRSTR|QUOTE|STR)/i,alias:"keyword"},"macro-keyword":u,"macro-variable":l,"escaped-char":{pattern:/%['"()<>=^~;,#]/},punctuation:_}},"macro-declaration":{pattern:/^%macro[^;]+(?=;)/im,inside:{keyword:/%macro/i}},"macro-end":{pattern:/^%mend[^;]+(?=;)/im,inside:{keyword:/%mend/i}},macro:{pattern:/%_\w+(?=\()/,alias:"keyword"},input:{pattern:/\binput\s[-\w\s/*.$&]+;/i,inside:{input:{alias:"keyword",pattern:/^input/i},comment:m,number:r,"numeric-constant":a}},"options-args":{pattern:/(^options)[-'"|/\\<>*+=:()\w\s]*(?=;)/im,lookbehind:!0,inside:M},"cas-actions":Y,comment:m,function:w,format:P,altformat:j,"numeric-constant":a,datetime:{pattern:RegExp(n+"(?:dt?|t)"),alias:"number"},string:b,step:i,keyword:J,"operator-keyword":{pattern:/\b(?:eq|ge|gt|in|le|lt|ne|not)\b/i,alias:"operator"},number:r,operator:/\*\*?|\|\|?|!!?|?|<[>=]?|>[<=]?|[-+\/=&]|[~^]=?/,punctuation:_}})(e)}G5.displayName="shell-session";G5.aliases=["sh-session","shellsession"];function G5(e){e.register(ET),(function(t){var n=[/"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/.source,/'[^']*'/.source,/\$'(?:[^'\\]|\\[\s\S])*'/.source,/<<-?\s*(["']?)(\w+)\1\s[\s\S]*?[\r\n]\2/.source].join("|");t.languages["shell-session"]={command:{pattern:RegExp(/^/.source+"(?:"+(/[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+(?::[^\0-\x1F$#%*?"<>:;|]+)?/.source+"|"+/[/~.][^\0-\x1F$#%*?"<>@:;|]*/.source)+")?"+/[$#%](?=\s)/.source+/(?:[^\\\r\n \t'"<$]|[ \t](?:(?!#)|#.*$)|\\(?:[^\r]|\r\n?)|\$(?!')|<(?!<)|<<str>>)+/.source.replace(/<<str>>/g,function(){return n}),"m"),greedy:!0,inside:{info:{pattern:/^[^#$%]+/,alias:"punctuation",inside:{user:/^[^\s@:$#%*!/\\]+@[^\r\n@:$#%*!/\\]+/,punctuation:/:/,path:/[\s\S]+/}},bash:{pattern:/(^[$#%]\s*)\S[\s\S]*/,lookbehind:!0,alias:"language-bash",inside:t.languages.bash},"shell-symbol":{pattern:/^[$#%]/,alias:"important"}}},output:/.(?:.*(?:[\r\n]|.$))*/},t.languages["sh-session"]=t.languages.shellsession=t.languages["shell-session"]})(e)}H5.displayName="smali";H5.aliases=[];function H5(e){e.languages.smali={comment:/#.*/,string:{pattern:/"(?:[^\r\n\\"]|\\.)*"|'(?:[^\r\n\\']|\\(?:.|u[\da-fA-F]{4}))'/,greedy:!0},"class-name":{pattern:/(^|[^L])L(?:(?:\w+|`[^`\r\n]*`)\/)*(?:[\w$]+|`[^`\r\n]*`)(?=\s*;)/,lookbehind:!0,inside:{"class-name":{pattern:/(^L|\/)(?:[\w$]+|`[^`\r\n]*`)$/,lookbehind:!0},namespace:{pattern:/^(L)(?:(?:\w+|`[^`\r\n]*`)\/)+/,lookbehind:!0,inside:{punctuation:/\//}},builtin:/^L/}},builtin:[{pattern:/([();\[])[BCDFIJSVZ]+/,lookbehind:!0},{pattern:/([\w$>]:)[BCDFIJSVZ]/,lookbehind:!0}],keyword:[{pattern:/(\.end\s+)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])\.(?!\d)[\w-]+/,lookbehind:!0},{pattern:/(^|[^\w.-])(?:abstract|annotation|bridge|constructor|enum|final|interface|private|protected|public|runtime|static|synthetic|system|transient)(?![\w.-])/,lookbehind:!0}],function:{pattern:/(^|[^\w.-])(?:\w+|<[\w$-]+>)(?=\()/,lookbehind:!0},field:{pattern:/[\w$]+(?=:)/,alias:"variable"},register:{pattern:/(^|[^\w.-])[vp]\d(?![\w.-])/,lookbehind:!0,alias:"variable"},boolean:{pattern:/(^|[^\w.-])(?:false|true)(?![\w.-])/,lookbehind:!0},number:{pattern:/(^|[^/\w.-])-?(?:NAN|INFINITY|0x(?:[\dA-F]+(?:\.[\dA-F]*)?|\.[\dA-F]+)(?:p[+-]?[\dA-F]+)?|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?)[dflst]?(?![\w.-])/i,lookbehind:!0},label:{pattern:/(:)\w+/,lookbehind:!0,alias:"property"},operator:/->|\.\.|[\[=]/,punctuation:/[{}(),;:]/}}V5.displayName="smalltalk";V5.aliases=[];function V5(e){e.languages.smalltalk={comment:{pattern:/"(?:""|[^"])*"/,greedy:!0},char:{pattern:/\$./,greedy:!0},string:{pattern:/'(?:''|[^'])*'/,greedy:!0},symbol:/#[\da-z]+|#(?:-|([+\/\\*~<>=@%|&?!])\1?)|#(?=\()/i,"block-arguments":{pattern:/(\[\s*):[^\[|]*\|/,lookbehind:!0,inside:{variable:/:[\da-z]+/i,punctuation:/\|/}},"temporary-variables":{pattern:/\|[^|]+\|/,inside:{variable:/[\da-z]+/i,punctuation:/\|/}},keyword:/\b(?:new|nil|self|super)\b/,boolean:/\b(?:false|true)\b/,number:[/\d+r-?[\dA-Z]+(?:\.[\dA-Z]+)?(?:e-?\d+)?/,/\b\d+(?:\.\d+)?(?:e-?\d+)?/],operator:/[<=]=?|:=|~[~=]|\/\/?|\\\\|>[>=]?|[!^+\-*&|,@]/,punctuation:/[.;:?\[\](){}]/}}q5.displayName="smarty";q5.aliases=[];function q5(e){e.register(Bc),(function(t){t.languages.smarty={comment:{pattern:/^\{\*[\s\S]*?\*\}/,greedy:!0},"embedded-php":{pattern:/^\{php\}[\s\S]*?\{\/php\}/,greedy:!0,inside:{smarty:{pattern:/^\{php\}|\{\/php\}$/,inside:null},php:{pattern:/[\s\S]+/,alias:"language-php",inside:t.languages.php}}},string:[{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0,inside:{interpolation:{pattern:/\{[^{}]*\}|`[^`]*`/,inside:{"interpolation-punctuation":{pattern:/^[{`]|[`}]$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:null}}},variable:/\$\w+/}},{pattern:/'(?:\\.|[^'\\\r\n])*'/,greedy:!0}],keyword:{pattern:/(^\{\/?)[a-z_]\w*\b(?!\()/i,lookbehind:!0,greedy:!0},delimiter:{pattern:/^\{\/?|\}$/,greedy:!0,alias:"punctuation"},number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,variable:[/\$(?!\d)\w+/,/#(?!\d)\w+#/,{pattern:/(\.|->|\w\s*=)(?!\d)\w+\b(?!\()/,lookbehind:!0},{pattern:/(\[)(?!\d)\w+(?=\])/,lookbehind:!0}],function:{pattern:/(\|\s*)@?[a-z_]\w*|\b[a-z_]\w*(?=\()/i,lookbehind:!0},"attr-name":/\b[a-z_]\w*(?=\s*=)/i,boolean:/\b(?:false|no|off|on|true|yes)\b/,punctuation:/[\[\](){}.,:`]|->/,operator:[/[+\-*\/%]|==?=?|[!<>]=?|&&|\|\|?/,/\bis\s+(?:not\s+)?(?:div|even|odd)(?:\s+by)?\b/,/\b(?:and|eq|gt?e|gt|lt?e|lt|mod|neq?|not|or)\b/]},t.languages.smarty["embedded-php"].inside.smarty.inside=t.languages.smarty,t.languages.smarty.string[0].inside.interpolation.inside.expression.inside=t.languages.smarty;var n=/"(?:\\.|[^"\\\r\n])*"|'(?:\\.|[^'\\\r\n])*'/,r=RegExp(/\{\*[\s\S]*?\*\}/.source+"|"+/\{php\}[\s\S]*?\{\/php\}/.source+"|"+/\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>|\{(?:[^{}"']|<str>)*\})*\})*\}/.source.replace(/<str>/g,function(){return n.source}),"g");t.hooks.add("before-tokenize",function(a){var l="{literal}",u="{/literal}",i=!1;t.languages["markup-templating"].buildPlaceholders(a,"smarty",r,function(m){return m===u&&(i=!1),i?!1:(m===l&&(i=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"smarty")})})(e)}Y5.displayName="sml";Y5.aliases=["smlnj"];function Y5(e){(function(t){var n=/\b(?:abstype|and|andalso|as|case|datatype|do|else|end|eqtype|exception|fn|fun|functor|handle|if|in|include|infix|infixr|let|local|nonfix|of|op|open|orelse|raise|rec|sharing|sig|signature|struct|structure|then|type|val|where|while|with|withtype)\b/i;t.languages.sml={comment:/\(\*(?:[^*(]|\*(?!\))|\((?!\*)|\(\*(?:[^*(]|\*(?!\))|\((?!\*))*\*\))*\*\)/,string:{pattern:/#?"(?:[^"\\]|\\.)*"/,greedy:!0},"class-name":[{pattern:RegExp(/((?:^|[^:]):\s*)<TERMINAL>(?:\s*(?:(?:\*|->)\s*<TERMINAL>|,\s*<TERMINAL>(?:(?=<NOT-LAST>)|(?!<NOT-LAST>)\s+<LONG-ID>)))*/.source.replace(/<NOT-LAST>/g,function(){return/\s*(?:[*,]|->)/.source}).replace(/<TERMINAL>/g,function(){return/(?:'[\w']*|<LONG-ID>|\((?:[^()]|\([^()]*\))*\)|\{(?:[^{}]|\{[^{}]*\})*\})(?:\s+<LONG-ID>)*/.source}).replace(/<LONG-ID>/g,function(){return/(?!<KEYWORD>)[a-z\d_][\w'.]*/.source}).replace(/<KEYWORD>/g,function(){return n.source}),"i"),lookbehind:!0,greedy:!0,inside:null},{pattern:/((?:^|[^\w'])(?:datatype|exception|functor|signature|structure|type)\s+)[a-z_][\w'.]*/i,lookbehind:!0}],function:{pattern:/((?:^|[^\w'])fun\s+)[a-z_][\w'.]*/i,lookbehind:!0},keyword:n,variable:{pattern:/(^|[^\w'])'[\w']*/,lookbehind:!0},number:/~?\b(?:\d+(?:\.\d+)?(?:e~?\d+)?|0x[\da-f]+)\b/i,word:{pattern:/\b0w(?:\d+|x[\da-f]+)\b/i,alias:"constant"},boolean:/\b(?:false|true)\b/i,operator:/\.\.\.|:[>=:]|=>?|->|[<>]=?|[!+\-*/^#|@~]/,punctuation:/[(){}\[\].:,;]/},t.languages.sml["class-name"][0].inside=t.languages.sml,t.languages.smlnj=t.languages.sml})(e)}W5.displayName="solidity";W5.aliases=["sol"];function W5(e){e.register(si),e.languages.solidity=e.languages.extend("clike",{"class-name":{pattern:/(\b(?:contract|enum|interface|library|new|struct|using)\s+)(?!\d)[\w$]+/,lookbehind:!0},keyword:/\b(?:_|anonymous|as|assembly|assert|break|calldata|case|constant|constructor|continue|contract|default|delete|do|else|emit|enum|event|external|for|from|function|if|import|indexed|inherited|interface|internal|is|let|library|mapping|memory|modifier|new|payable|pragma|private|public|pure|require|returns?|revert|selfdestruct|solidity|storage|struct|suicide|switch|this|throw|using|var|view|while)\b/,operator:/=>|->|:=|=:|\*\*|\+\+|--|\|\||&&|<<=?|>>=?|[-+*/%^&|<>!=]=?|[~?]/}),e.languages.insertBefore("solidity","keyword",{builtin:/\b(?:address|bool|byte|u?int(?:8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?|string|bytes(?:[1-9]|[12]\d|3[0-2])?)\b/}),e.languages.insertBefore("solidity","number",{version:{pattern:/([<>]=?|\^)\d+\.\d+\.\d+\b/,lookbehind:!0,alias:"number"}}),e.languages.sol=e.languages.solidity}Z5.displayName="solution-file";Z5.aliases=["sln"];function Z5(e){(function(t){var n={pattern:/\{[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}\}/i,alias:"constant",inside:{punctuation:/[{}]/}};t.languages["solution-file"]={comment:{pattern:/#.*/,greedy:!0},string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,greedy:!0,inside:{guid:n}},object:{pattern:/^([ \t]*)(?:([A-Z]\w*)\b(?=.*(?:\r\n?|\n)(?:\1[ \t].*(?:\r\n?|\n))*\1End\2(?=[ \t]*$))|End[A-Z]\w*(?=[ \t]*$))/m,lookbehind:!0,greedy:!0,alias:"keyword"},property:{pattern:/^([ \t]*)(?!\s)[^\r\n"#=()]*[^\s"#=()](?=\s*=)/m,lookbehind:!0,inside:{guid:n}},guid:n,number:/\b\d+(?:\.\d+)*\b/,boolean:/\b(?:FALSE|TRUE)\b/,operator:/=/,punctuation:/[(),]/},t.languages.sln=t.languages["solution-file"]})(e)}X5.displayName="soy";X5.aliases=[];function X5(e){e.register(Bc),(function(t){var n=/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,r=/\b\d+(?:\.\d+)?(?:[eE][+-]?\d+)?\b|\b0x[\dA-F]+\b/;t.languages.soy={comment:[/\/\*[\s\S]*?\*\//,{pattern:/(\s)\/\/.*/,lookbehind:!0,greedy:!0}],"command-arg":{pattern:/(\{+\/?\s*(?:alias|call|delcall|delpackage|deltemplate|namespace|template)\s+)\.?[\w.]+/,lookbehind:!0,alias:"string",inside:{punctuation:/\./}},parameter:{pattern:/(\{+\/?\s*@?param\??\s+)\.?[\w.]+/,lookbehind:!0,alias:"variable"},keyword:[{pattern:/(\{+\/?[^\S\r\n]*)(?:\\[nrt]|alias|call|case|css|default|delcall|delpackage|deltemplate|else(?:if)?|fallbackmsg|for(?:each)?|if(?:empty)?|lb|let|literal|msg|namespace|nil|@?param\??|rb|sp|switch|template|xid)/,lookbehind:!0},/\b(?:any|as|attributes|bool|css|float|html|in|int|js|list|map|null|number|string|uri)\b/],delimiter:{pattern:/^\{+\/?|\/?\}+$/,alias:"punctuation"},property:/\w+(?==)/,variable:{pattern:/\$[^\W\d]\w*(?:\??(?:\.\w+|\[[^\]]+\]))*/,inside:{string:{pattern:n,greedy:!0},number:r,punctuation:/[\[\].?]/}},string:{pattern:n,greedy:!0},function:[/\w+(?=\()/,{pattern:/(\|[^\S\r\n]*)\w+/,lookbehind:!0}],boolean:/\b(?:false|true)\b/,number:r,operator:/\?:?|<=?|>=?|==?|!=|[+*/%-]|\b(?:and|not|or)\b/,punctuation:/[{}()\[\]|.,:]/},t.hooks.add("before-tokenize",function(a){var l=/\{\{.+?\}\}|\{.+?\}|\s\/\/.*|\/\*[\s\S]*?\*\//g,u="{literal}",i="{/literal}",m=!1;t.languages["markup-templating"].buildPlaceholders(a,"soy",l,function(b){return b===i&&(m=!1),m?!1:(b===u&&(m=!0),!0)})}),t.hooks.add("after-tokenize",function(a){t.languages["markup-templating"].tokenizePlaceholders(a,"soy")})})(e)}dN.displayName="turtle";dN.aliases=["trig"];function dN(e){e.languages.turtle={comment:{pattern:/#.*/,greedy:!0},"multiline-string":{pattern:/"""(?:(?:""?)?(?:[^"\\]|\\.))*"""|'''(?:(?:''?)?(?:[^'\\]|\\.))*'''/,greedy:!0,alias:"string",inside:{comment:/#.*/}},string:{pattern:/"(?:[^\\"\r\n]|\\.)*"|'(?:[^\\'\r\n]|\\.)*'/,greedy:!0},url:{pattern:/<(?:[^\x00-\x20<>"{}|^`\\]|\\(?:u[\da-fA-F]{4}|U[\da-fA-F]{8}))*>/,greedy:!0,inside:{punctuation:/[<>]/}},function:{pattern:/(?:(?![-.\d\xB7])[-.\w\xB7\xC0-\uFFFD]+)?:(?:(?![-.])(?:[-.:\w\xC0-\uFFFD]|%[\da-f]{2}|\\.)+)?/i,inside:{"local-name":{pattern:/([^:]*:)[\s\S]+/,lookbehind:!0},prefix:{pattern:/[\s\S]+/,inside:{punctuation:/:/}}}},number:/[+-]?\b\d+(?:\.\d*)?(?:e[+-]?\d+)?/i,punctuation:/[{}.,;()[\]]|\^\^/,boolean:/\b(?:false|true)\b/,keyword:[/(?:\ba|@prefix|@base)\b|=/,/\b(?:base|graph|prefix)\b/i],tag:{pattern:/@[a-z]+(?:-[a-z\d]+)*/i,inside:{punctuation:/@/}}},e.languages.trig=e.languages.turtle}K5.displayName="sparql";K5.aliases=["rq"];function K5(e){e.register(dN),e.languages.sparql=e.languages.extend("turtle",{boolean:/\b(?:false|true)\b/i,variable:{pattern:/[?$]\w+/,greedy:!0}}),e.languages.insertBefore("sparql","punctuation",{keyword:[/\b(?:A|ADD|ALL|AS|ASC|ASK|BNODE|BY|CLEAR|CONSTRUCT|COPY|CREATE|DATA|DEFAULT|DELETE|DESC|DESCRIBE|DISTINCT|DROP|EXISTS|FILTER|FROM|GROUP|HAVING|INSERT|INTO|LIMIT|LOAD|MINUS|MOVE|NAMED|NOT|NOW|OFFSET|OPTIONAL|ORDER|RAND|REDUCED|SELECT|SEPARATOR|SERVICE|SILENT|STRUUID|UNION|USING|UUID|VALUES|WHERE)\b/i,/\b(?:ABS|AVG|BIND|BOUND|CEIL|COALESCE|CONCAT|CONTAINS|COUNT|DATATYPE|DAY|ENCODE_FOR_URI|FLOOR|GROUP_CONCAT|HOURS|IF|IRI|isBLANK|isIRI|isLITERAL|isNUMERIC|isURI|LANG|LANGMATCHES|LCASE|MAX|MD5|MIN|MINUTES|MONTH|REGEX|REPLACE|ROUND|sameTerm|SAMPLE|SECONDS|SHA1|SHA256|SHA384|SHA512|STR|STRAFTER|STRBEFORE|STRDT|STRENDS|STRLANG|STRLEN|STRSTARTS|SUBSTR|SUM|TIMEZONE|TZ|UCASE|URI|YEAR)\b(?=\s*\()/i,/\b(?:BASE|GRAPH|PREFIX)\b/i]}),e.languages.rq=e.languages.sparql}Q5.displayName="splunk-spl";Q5.aliases=[];function Q5(e){e.languages["splunk-spl"]={comment:/`comment\("(?:\\.|[^\\"])*"\)`/,string:{pattern:/"(?:\\.|[^\\"])*"/,greedy:!0},keyword:/\b(?:abstract|accum|addcoltotals|addinfo|addtotals|analyzefields|anomalies|anomalousvalue|anomalydetection|append|appendcols|appendcsv|appendlookup|appendpipe|arules|associate|audit|autoregress|bin|bucket|bucketdir|chart|cluster|cofilter|collect|concurrency|contingency|convert|correlate|datamodel|dbinspect|dedup|delete|delta|diff|erex|eval|eventcount|eventstats|extract|fieldformat|fields|fieldsummary|filldown|fillnull|findtypes|folderize|foreach|format|from|gauge|gentimes|geom|geomfilter|geostats|head|highlight|history|iconify|input|inputcsv|inputlookup|iplocation|join|kmeans|kv|kvform|loadjob|localize|localop|lookup|makecontinuous|makemv|makeresults|map|mcollect|metadata|metasearch|meventcollect|mstats|multikv|multisearch|mvcombine|mvexpand|nomv|outlier|outputcsv|outputlookup|outputtext|overlap|pivot|predict|rangemap|rare|regex|relevancy|reltime|rename|replace|rest|return|reverse|rex|rtorder|run|savedsearch|script|scrub|search|searchtxn|selfjoin|sendemail|set|setfields|sichart|sirare|sistats|sitimechart|sitop|sort|spath|stats|strcat|streamstats|table|tags|tail|timechart|timewrap|top|transaction|transpose|trendline|tscollect|tstats|typeahead|typelearner|typer|union|uniq|untable|where|x11|xmlkv|xmlunescape|xpath|xyseries)\b/i,"operator-word":{pattern:/\b(?:and|as|by|not|or|xor)\b/i,alias:"operator"},function:/\b\w+(?=\s*\()/,property:/\b\w+(?=\s*=(?!=))/,date:{pattern:/\b\d{1,2}\/\d{1,2}\/\d{1,4}(?:(?::\d{1,2}){3})?\b/,alias:"number"},number:/\b\d+(?:\.\d+)?\b/,boolean:/\b(?:f|false|t|true)\b/i,operator:/[<>=]=?|[-+*/%|]/,punctuation:/[()[\],]/}}J5.displayName="sqf";J5.aliases=[];function J5(e){e.register(si),e.languages.sqf=e.languages.extend("clike",{string:{pattern:/"(?:(?:"")?[^"])*"(?!")|'(?:[^'])*'/,greedy:!0},keyword:/\b(?:breakOut|breakTo|call|case|catch|default|do|echo|else|execFSM|execVM|exitWith|for|forEach|forEachMember|forEachMemberAgent|forEachMemberTeam|from|goto|if|nil|preprocessFile|preprocessFileLineNumbers|private|scopeName|spawn|step|switch|then|throw|to|try|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\b(?:abs|accTime|acos|action|actionIDs|actionKeys|actionKeysImages|actionKeysNames|actionKeysNamesArray|actionName|actionParams|activateAddons|activatedAddons|activateKey|add3DENConnection|add3DENEventHandler|add3DENLayer|addAction|addBackpack|addBackpackCargo|addBackpackCargoGlobal|addBackpackGlobal|addCamShake|addCuratorAddons|addCuratorCameraArea|addCuratorEditableObjects|addCuratorEditingArea|addCuratorPoints|addEditorObject|addEventHandler|addForce|addForceGeneratorRTD|addGoggles|addGroupIcon|addHandgunItem|addHeadgear|addItem|addItemCargo|addItemCargoGlobal|addItemPool|addItemToBackpack|addItemToUniform|addItemToVest|addLiveStats|addMagazine|addMagazineAmmoCargo|addMagazineCargo|addMagazineCargoGlobal|addMagazineGlobal|addMagazinePool|addMagazines|addMagazineTurret|addMenu|addMenuItem|addMissionEventHandler|addMPEventHandler|addMusicEventHandler|addOwnedMine|addPlayerScores|addPrimaryWeaponItem|addPublicVariableEventHandler|addRating|addResources|addScore|addScoreSide|addSecondaryWeaponItem|addSwitchableUnit|addTeamMember|addToRemainsCollector|addTorque|addUniform|addVehicle|addVest|addWaypoint|addWeapon|addWeaponCargo|addWeaponCargoGlobal|addWeaponGlobal|addWeaponItem|addWeaponPool|addWeaponTurret|admin|agent|agents|AGLToASL|aimedAtTarget|aimPos|airDensityCurveRTD|airDensityRTD|airplaneThrottle|airportSide|AISFinishHeal|alive|all3DENEntities|allAirports|allControls|allCurators|allCutLayers|allDead|allDeadMen|allDisplays|allGroups|allMapMarkers|allMines|allMissionObjects|allow3DMode|allowCrewInImmobile|allowCuratorLogicIgnoreAreas|allowDamage|allowDammage|allowFileOperations|allowFleeing|allowGetIn|allowSprint|allPlayers|allSimpleObjects|allSites|allTurrets|allUnits|allUnitsUAV|allVariables|ammo|ammoOnPylon|animate|animateBay|animateDoor|animatePylon|animateSource|animationNames|animationPhase|animationSourcePhase|animationState|append|apply|armoryPoints|arrayIntersect|asin|ASLToAGL|ASLToATL|assert|assignAsCargo|assignAsCargoIndex|assignAsCommander|assignAsDriver|assignAsGunner|assignAsTurret|assignCurator|assignedCargo|assignedCommander|assignedDriver|assignedGunner|assignedItems|assignedTarget|assignedTeam|assignedVehicle|assignedVehicleRole|assignItem|assignTeam|assignToAirport|atan|atan2|atg|ATLToASL|attachedObject|attachedObjects|attachedTo|attachObject|attachTo|attackEnabled|backpack|backpackCargo|backpackContainer|backpackItems|backpackMagazines|backpackSpaceFor|behaviour|benchmark|binocular|blufor|boundingBox|boundingBoxReal|boundingCenter|briefingName|buildingExit|buildingPos|buldozer_EnableRoadDiag|buldozer_IsEnabledRoadDiag|buldozer_LoadNewRoads|buldozer_reloadOperMap|buttonAction|buttonSetAction|cadetMode|callExtension|camCommand|camCommit|camCommitPrepared|camCommitted|camConstuctionSetParams|camCreate|camDestroy|cameraEffect|cameraEffectEnableHUD|cameraInterest|cameraOn|cameraView|campaignConfigFile|camPreload|camPreloaded|camPrepareBank|camPrepareDir|camPrepareDive|camPrepareFocus|camPrepareFov|camPrepareFovRange|camPreparePos|camPrepareRelPos|camPrepareTarget|camSetBank|camSetDir|camSetDive|camSetFocus|camSetFov|camSetFovRange|camSetPos|camSetRelPos|camSetTarget|camTarget|camUseNVG|canAdd|canAddItemToBackpack|canAddItemToUniform|canAddItemToVest|cancelSimpleTaskDestination|canFire|canMove|canSlingLoad|canStand|canSuspend|canTriggerDynamicSimulation|canUnloadInCombat|canVehicleCargo|captive|captiveNum|cbChecked|cbSetChecked|ceil|channelEnabled|cheatsEnabled|checkAIFeature|checkVisibility|civilian|className|clear3DENAttribute|clear3DENInventory|clearAllItemsFromBackpack|clearBackpackCargo|clearBackpackCargoGlobal|clearForcesRTD|clearGroupIcons|clearItemCargo|clearItemCargoGlobal|clearItemPool|clearMagazineCargo|clearMagazineCargoGlobal|clearMagazinePool|clearOverlay|clearRadio|clearVehicleInit|clearWeaponCargo|clearWeaponCargoGlobal|clearWeaponPool|clientOwner|closeDialog|closeDisplay|closeOverlay|collapseObjectTree|collect3DENHistory|collectiveRTD|combatMode|commandArtilleryFire|commandChat|commander|commandFire|commandFollow|commandFSM|commandGetOut|commandingMenu|commandMove|commandRadio|commandStop|commandSuppressiveFire|commandTarget|commandWatch|comment|commitOverlay|compile|compileFinal|completedFSM|composeText|configClasses|configFile|configHierarchy|configName|configNull|configProperties|configSourceAddonList|configSourceMod|configSourceModList|confirmSensorTarget|connectTerminalToUAV|controlNull|controlsGroupCtrl|copyFromClipboard|copyToClipboard|copyWaypoints|cos|count|countEnemy|countFriendly|countSide|countType|countUnknown|create3DENComposition|create3DENEntity|createAgent|createCenter|createDialog|createDiaryLink|createDiaryRecord|createDiarySubject|createDisplay|createGearDialog|createGroup|createGuardedPoint|createLocation|createMarker|createMarkerLocal|createMenu|createMine|createMissionDisplay|createMPCampaignDisplay|createSimpleObject|createSimpleTask|createSite|createSoundSource|createTask|createTeam|createTrigger|createUnit|createVehicle|createVehicleCrew|createVehicleLocal|crew|ctAddHeader|ctAddRow|ctClear|ctCurSel|ctData|ctFindHeaderRows|ctFindRowHeader|ctHeaderControls|ctHeaderCount|ctRemoveHeaders|ctRemoveRows|ctrlActivate|ctrlAddEventHandler|ctrlAngle|ctrlAutoScrollDelay|ctrlAutoScrollRewind|ctrlAutoScrollSpeed|ctrlChecked|ctrlClassName|ctrlCommit|ctrlCommitted|ctrlCreate|ctrlDelete|ctrlEnable|ctrlEnabled|ctrlFade|ctrlHTMLLoaded|ctrlIDC|ctrlIDD|ctrlMapAnimAdd|ctrlMapAnimClear|ctrlMapAnimCommit|ctrlMapAnimDone|ctrlMapCursor|ctrlMapMouseOver|ctrlMapScale|ctrlMapScreenToWorld|ctrlMapWorldToScreen|ctrlModel|ctrlModelDirAndUp|ctrlModelScale|ctrlParent|ctrlParentControlsGroup|ctrlPosition|ctrlRemoveAllEventHandlers|ctrlRemoveEventHandler|ctrlScale|ctrlSetActiveColor|ctrlSetAngle|ctrlSetAutoScrollDelay|ctrlSetAutoScrollRewind|ctrlSetAutoScrollSpeed|ctrlSetBackgroundColor|ctrlSetChecked|ctrlSetDisabledColor|ctrlSetEventHandler|ctrlSetFade|ctrlSetFocus|ctrlSetFont|ctrlSetFontH1|ctrlSetFontH1B|ctrlSetFontH2|ctrlSetFontH2B|ctrlSetFontH3|ctrlSetFontH3B|ctrlSetFontH4|ctrlSetFontH4B|ctrlSetFontH5|ctrlSetFontH5B|ctrlSetFontH6|ctrlSetFontH6B|ctrlSetFontHeight|ctrlSetFontHeightH1|ctrlSetFontHeightH2|ctrlSetFontHeightH3|ctrlSetFontHeightH4|ctrlSetFontHeightH5|ctrlSetFontHeightH6|ctrlSetFontHeightSecondary|ctrlSetFontP|ctrlSetFontPB|ctrlSetFontSecondary|ctrlSetForegroundColor|ctrlSetModel|ctrlSetModelDirAndUp|ctrlSetModelScale|ctrlSetPixelPrecision|ctrlSetPosition|ctrlSetScale|ctrlSetStructuredText|ctrlSetText|ctrlSetTextColor|ctrlSetTextColorSecondary|ctrlSetTextSecondary|ctrlSetTooltip|ctrlSetTooltipColorBox|ctrlSetTooltipColorShade|ctrlSetTooltipColorText|ctrlShow|ctrlShown|ctrlText|ctrlTextHeight|ctrlTextSecondary|ctrlTextWidth|ctrlType|ctrlVisible|ctRowControls|ctRowCount|ctSetCurSel|ctSetData|ctSetHeaderTemplate|ctSetRowTemplate|ctSetValue|ctValue|curatorAddons|curatorCamera|curatorCameraArea|curatorCameraAreaCeiling|curatorCoef|curatorEditableObjects|curatorEditingArea|curatorEditingAreaType|curatorMouseOver|curatorPoints|curatorRegisteredObjects|curatorSelected|curatorWaypointCost|current3DENOperation|currentChannel|currentCommand|currentMagazine|currentMagazineDetail|currentMagazineDetailTurret|currentMagazineTurret|currentMuzzle|currentNamespace|currentTask|currentTasks|currentThrowable|currentVisionMode|currentWaypoint|currentWeapon|currentWeaponMode|currentWeaponTurret|currentZeroing|cursorObject|cursorTarget|customChat|customRadio|cutFadeOut|cutObj|cutRsc|cutText|damage|date|dateToNumber|daytime|deActivateKey|debriefingText|debugFSM|debugLog|deg|delete3DENEntities|deleteAt|deleteCenter|deleteCollection|deleteEditorObject|deleteGroup|deleteGroupWhenEmpty|deleteIdentity|deleteLocation|deleteMarker|deleteMarkerLocal|deleteRange|deleteResources|deleteSite|deleteStatus|deleteTeam|deleteVehicle|deleteVehicleCrew|deleteWaypoint|detach|detectedMines|diag_activeMissionFSMs|diag_activeScripts|diag_activeSQFScripts|diag_activeSQSScripts|diag_captureFrame|diag_captureFrameToFile|diag_captureSlowFrame|diag_codePerformance|diag_drawMode|diag_dynamicSimulationEnd|diag_enable|diag_enabled|diag_fps|diag_fpsMin|diag_frameNo|diag_lightNewLoad|diag_list|diag_log|diag_logSlowFrame|diag_mergeConfigFile|diag_recordTurretLimits|diag_setLightNew|diag_tickTime|diag_toggle|dialog|diarySubjectExists|didJIP|didJIPOwner|difficulty|difficultyEnabled|difficultyEnabledRTD|difficultyOption|direction|directSay|disableAI|disableCollisionWith|disableConversation|disableDebriefingStats|disableMapIndicators|disableNVGEquipment|disableRemoteSensors|disableSerialization|disableTIEquipment|disableUAVConnectability|disableUserInput|displayAddEventHandler|displayCtrl|displayNull|displayParent|displayRemoveAllEventHandlers|displayRemoveEventHandler|displaySetEventHandler|dissolveTeam|distance|distance2D|distanceSqr|distributionRegion|do3DENAction|doArtilleryFire|doFire|doFollow|doFSM|doGetOut|doMove|doorPhase|doStop|doSuppressiveFire|doTarget|doWatch|drawArrow|drawEllipse|drawIcon|drawIcon3D|drawLine|drawLine3D|drawLink|drawLocation|drawPolygon|drawRectangle|drawTriangle|driver|drop|dynamicSimulationDistance|dynamicSimulationDistanceCoef|dynamicSimulationEnabled|dynamicSimulationSystemEnabled|east|edit3DENMissionAttributes|editObject|editorSetEventHandler|effectiveCommander|emptyPositions|enableAI|enableAIFeature|enableAimPrecision|enableAttack|enableAudioFeature|enableAutoStartUpRTD|enableAutoTrimRTD|enableCamShake|enableCaustics|enableChannel|enableCollisionWith|enableCopilot|enableDebriefingStats|enableDiagLegend|enableDynamicSimulation|enableDynamicSimulationSystem|enableEndDialog|enableEngineArtillery|enableEnvironment|enableFatigue|enableGunLights|enableInfoPanelComponent|enableIRLasers|enableMimics|enablePersonTurret|enableRadio|enableReload|enableRopeAttach|enableSatNormalOnDetail|enableSaving|enableSentences|enableSimulation|enableSimulationGlobal|enableStamina|enableStressDamage|enableTeamSwitch|enableTraffic|enableUAVConnectability|enableUAVWaypoints|enableVehicleCargo|enableVehicleSensor|enableWeaponDisassembly|endl|endLoadingScreen|endMission|engineOn|enginesIsOnRTD|enginesPowerRTD|enginesRpmRTD|enginesTorqueRTD|entities|environmentEnabled|estimatedEndServerTime|estimatedTimeLeft|evalObjectArgument|everyBackpack|everyContainer|exec|execEditorScript|exp|expectedDestination|exportJIPMessages|eyeDirection|eyePos|face|faction|fadeMusic|fadeRadio|fadeSound|fadeSpeech|failMission|fillWeaponsFromPool|find|findCover|findDisplay|findEditorObject|findEmptyPosition|findEmptyPositionReady|findIf|findNearestEnemy|finishMissionInit|finite|fire|fireAtTarget|firstBackpack|flag|flagAnimationPhase|flagOwner|flagSide|flagTexture|fleeing|floor|flyInHeight|flyInHeightASL|fog|fogForecast|fogParams|forceAddUniform|forceAtPositionRTD|forcedMap|forceEnd|forceFlagTexture|forceFollowRoad|forceGeneratorRTD|forceMap|forceRespawn|forceSpeed|forceWalk|forceWeaponFire|forceWeatherChange|forgetTarget|format|formation|formationDirection|formationLeader|formationMembers|formationPosition|formationTask|formatText|formLeader|freeLook|fromEditor|fuel|fullCrew|gearIDCAmmoCount|gearSlotAmmoCount|gearSlotData|get3DENActionState|get3DENAttribute|get3DENCamera|get3DENConnections|get3DENEntity|get3DENEntityID|get3DENGrid|get3DENIconsVisible|get3DENLayerEntities|get3DENLinesVisible|get3DENMissionAttribute|get3DENMouseOver|get3DENSelected|getAimingCoef|getAllEnvSoundControllers|getAllHitPointsDamage|getAllOwnedMines|getAllSoundControllers|getAmmoCargo|getAnimAimPrecision|getAnimSpeedCoef|getArray|getArtilleryAmmo|getArtilleryComputerSettings|getArtilleryETA|getAssignedCuratorLogic|getAssignedCuratorUnit|getBackpackCargo|getBleedingRemaining|getBurningValue|getCameraViewDirection|getCargoIndex|getCenterOfMass|getClientState|getClientStateNumber|getCompatiblePylonMagazines|getConnectedUAV|getContainerMaxLoad|getCursorObjectParams|getCustomAimCoef|getDammage|getDescription|getDir|getDirVisual|getDLCAssetsUsage|getDLCAssetsUsageByName|getDLCs|getDLCUsageTime|getEditorCamera|getEditorMode|getEditorObjectScope|getElevationOffset|getEngineTargetRpmRTD|getEnvSoundController|getFatigue|getFieldManualStartPage|getForcedFlagTexture|getFriend|getFSMVariable|getFuelCargo|getGroupIcon|getGroupIconParams|getGroupIcons|getHideFrom|getHit|getHitIndex|getHitPointDamage|getItemCargo|getMagazineCargo|getMarkerColor|getMarkerPos|getMarkerSize|getMarkerType|getMass|getMissionConfig|getMissionConfigValue|getMissionDLCs|getMissionLayerEntities|getMissionLayers|getModelInfo|getMousePosition|getMusicPlayedTime|getNumber|getObjectArgument|getObjectChildren|getObjectDLC|getObjectMaterials|getObjectProxy|getObjectTextures|getObjectType|getObjectViewDistance|getOxygenRemaining|getPersonUsedDLCs|getPilotCameraDirection|getPilotCameraPosition|getPilotCameraRotation|getPilotCameraTarget|getPlateNumber|getPlayerChannel|getPlayerScores|getPlayerUID|getPlayerUIDOld|getPos|getPosASL|getPosASLVisual|getPosASLW|getPosATL|getPosATLVisual|getPosVisual|getPosWorld|getPylonMagazines|getRelDir|getRelPos|getRemoteSensorsDisabled|getRepairCargo|getResolution|getRotorBrakeRTD|getShadowDistance|getShotParents|getSlingLoad|getSoundController|getSoundControllerResult|getSpeed|getStamina|getStatValue|getSuppression|getTerrainGrid|getTerrainHeightASL|getText|getTotalDLCUsageTime|getTrimOffsetRTD|getUnitLoadout|getUnitTrait|getUserMFDText|getUserMFDValue|getVariable|getVehicleCargo|getWeaponCargo|getWeaponSway|getWingsOrientationRTD|getWingsPositionRTD|getWPPos|glanceAt|globalChat|globalRadio|goggles|group|groupChat|groupFromNetId|groupIconSelectable|groupIconsVisible|groupId|groupOwner|groupRadio|groupSelectedUnits|groupSelectUnit|grpNull|gunner|gusts|halt|handgunItems|handgunMagazine|handgunWeapon|handsHit|hasInterface|hasPilotCamera|hasWeapon|hcAllGroups|hcGroupParams|hcLeader|hcRemoveAllGroups|hcRemoveGroup|hcSelected|hcSelectGroup|hcSetGroup|hcShowBar|hcShownBar|headgear|hideBody|hideObject|hideObjectGlobal|hideSelection|hint|hintC|hintCadet|hintSilent|hmd|hostMission|htmlLoad|HUDMovementLevels|humidity|image|importAllGroups|importance|in|inArea|inAreaArray|incapacitatedState|independent|inflame|inflamed|infoPanel|infoPanelComponentEnabled|infoPanelComponents|infoPanels|inGameUISetEventHandler|inheritsFrom|initAmbientLife|inPolygon|inputAction|inRangeOfArtillery|insertEditorObject|intersect|is3DEN|is3DENMultiplayer|isAbleToBreathe|isAgent|isAimPrecisionEnabled|isArray|isAutoHoverOn|isAutonomous|isAutoStartUpEnabledRTD|isAutotest|isAutoTrimOnRTD|isBleeding|isBurning|isClass|isCollisionLightOn|isCopilotEnabled|isDamageAllowed|isDedicated|isDLCAvailable|isEngineOn|isEqualTo|isEqualType|isEqualTypeAll|isEqualTypeAny|isEqualTypeArray|isEqualTypeParams|isFilePatchingEnabled|isFlashlightOn|isFlatEmpty|isForcedWalk|isFormationLeader|isGroupDeletedWhenEmpty|isHidden|isInRemainsCollector|isInstructorFigureEnabled|isIRLaserOn|isKeyActive|isKindOf|isLaserOn|isLightOn|isLocalized|isManualFire|isMarkedForCollection|isMultiplayer|isMultiplayerSolo|isNil|isNull|isNumber|isObjectHidden|isObjectRTD|isOnRoad|isPipEnabled|isPlayer|isRealTime|isRemoteExecuted|isRemoteExecutedJIP|isServer|isShowing3DIcons|isSimpleObject|isSprintAllowed|isStaminaEnabled|isSteamMission|isStreamFriendlyUIEnabled|isStressDamageEnabled|isText|isTouchingGround|isTurnedOut|isTutHintsEnabled|isUAVConnectable|isUAVConnected|isUIContext|isUniformAllowed|isVehicleCargo|isVehicleRadarOn|isVehicleSensorEnabled|isWalking|isWeaponDeployed|isWeaponRested|itemCargo|items|itemsWithMagazines|join|joinAs|joinAsSilent|joinSilent|joinString|kbAddDatabase|kbAddDatabaseTargets|kbAddTopic|kbHasTopic|kbReact|kbRemoveTopic|kbTell|kbWasSaid|keyImage|keyName|knowsAbout|land|landAt|landResult|language|laserTarget|lbAdd|lbClear|lbColor|lbColorRight|lbCurSel|lbData|lbDelete|lbIsSelected|lbPicture|lbPictureRight|lbSelection|lbSetColor|lbSetColorRight|lbSetCurSel|lbSetData|lbSetPicture|lbSetPictureColor|lbSetPictureColorDisabled|lbSetPictureColorSelected|lbSetPictureRight|lbSetPictureRightColor|lbSetPictureRightColorDisabled|lbSetPictureRightColorSelected|lbSetSelectColor|lbSetSelectColorRight|lbSetSelected|lbSetText|lbSetTextRight|lbSetTooltip|lbSetValue|lbSize|lbSort|lbSortByValue|lbText|lbTextRight|lbValue|leader|leaderboardDeInit|leaderboardGetRows|leaderboardInit|leaderboardRequestRowsFriends|leaderboardRequestRowsGlobal|leaderboardRequestRowsGlobalAroundUser|leaderboardsRequestUploadScore|leaderboardsRequestUploadScoreKeepBest|leaderboardState|leaveVehicle|libraryCredits|libraryDisclaimers|lifeState|lightAttachObject|lightDetachObject|lightIsOn|lightnings|limitSpeed|linearConversion|lineBreak|lineIntersects|lineIntersectsObjs|lineIntersectsSurfaces|lineIntersectsWith|linkItem|list|listObjects|listRemoteTargets|listVehicleSensors|ln|lnbAddArray|lnbAddColumn|lnbAddRow|lnbClear|lnbColor|lnbColorRight|lnbCurSelRow|lnbData|lnbDeleteColumn|lnbDeleteRow|lnbGetColumnsPosition|lnbPicture|lnbPictureRight|lnbSetColor|lnbSetColorRight|lnbSetColumnsPos|lnbSetCurSelRow|lnbSetData|lnbSetPicture|lnbSetPictureColor|lnbSetPictureColorRight|lnbSetPictureColorSelected|lnbSetPictureColorSelectedRight|lnbSetPictureRight|lnbSetText|lnbSetTextRight|lnbSetValue|lnbSize|lnbSort|lnbSortByValue|lnbText|lnbTextRight|lnbValue|load|loadAbs|loadBackpack|loadFile|loadGame|loadIdentity|loadMagazine|loadOverlay|loadStatus|loadUniform|loadVest|local|localize|locationNull|locationPosition|lock|lockCameraTo|lockCargo|lockDriver|locked|lockedCargo|lockedDriver|lockedTurret|lockIdentity|lockTurret|lockWP|log|logEntities|logNetwork|logNetworkTerminate|lookAt|lookAtPos|magazineCargo|magazines|magazinesAllTurrets|magazinesAmmo|magazinesAmmoCargo|magazinesAmmoFull|magazinesDetail|magazinesDetailBackpack|magazinesDetailUniform|magazinesDetailVest|magazinesTurret|magazineTurretAmmo|mapAnimAdd|mapAnimClear|mapAnimCommit|mapAnimDone|mapCenterOnCamera|mapGridPosition|markAsFinishedOnSteam|markerAlpha|markerBrush|markerColor|markerDir|markerPos|markerShape|markerSize|markerText|markerType|max|members|menuAction|menuAdd|menuChecked|menuClear|menuCollapse|menuData|menuDelete|menuEnable|menuEnabled|menuExpand|menuHover|menuPicture|menuSetAction|menuSetCheck|menuSetData|menuSetPicture|menuSetValue|menuShortcut|menuShortcutText|menuSize|menuSort|menuText|menuURL|menuValue|min|mineActive|mineDetectedBy|missionConfigFile|missionDifficulty|missionName|missionNamespace|missionStart|missionVersion|modelToWorld|modelToWorldVisual|modelToWorldVisualWorld|modelToWorldWorld|modParams|moonIntensity|moonPhase|morale|move|move3DENCamera|moveInAny|moveInCargo|moveInCommander|moveInDriver|moveInGunner|moveInTurret|moveObjectToEnd|moveOut|moveTime|moveTo|moveToCompleted|moveToFailed|musicVolume|name|nameSound|nearEntities|nearestBuilding|nearestLocation|nearestLocations|nearestLocationWithDubbing|nearestObject|nearestObjects|nearestTerrainObjects|nearObjects|nearObjectsReady|nearRoads|nearSupplies|nearTargets|needReload|netId|netObjNull|newOverlay|nextMenuItemIndex|nextWeatherChange|nMenuItems|numberOfEnginesRTD|numberToDate|objectCurators|objectFromNetId|objectParent|objNull|objStatus|onBriefingGear|onBriefingGroup|onBriefingNotes|onBriefingPlan|onBriefingTeamSwitch|onCommandModeChanged|onDoubleClick|onEachFrame|onGroupIconClick|onGroupIconOverEnter|onGroupIconOverLeave|onHCGroupSelectionChanged|onMapSingleClick|onPlayerConnected|onPlayerDisconnected|onPreloadFinished|onPreloadStarted|onShowNewObject|onTeamSwitch|openCuratorInterface|openDLCPage|openDSInterface|openMap|openSteamApp|openYoutubeVideo|opfor|orderGetIn|overcast|overcastForecast|owner|param|params|parseNumber|parseSimpleArray|parseText|parsingNamespace|particlesQuality|pi|pickWeaponPool|pitch|pixelGrid|pixelGridBase|pixelGridNoUIScale|pixelH|pixelW|playableSlotsNumber|playableUnits|playAction|playActionNow|player|playerRespawnTime|playerSide|playersNumber|playGesture|playMission|playMove|playMoveNow|playMusic|playScriptedMission|playSound|playSound3D|position|positionCameraToWorld|posScreenToWorld|posWorldToScreen|ppEffectAdjust|ppEffectCommit|ppEffectCommitted|ppEffectCreate|ppEffectDestroy|ppEffectEnable|ppEffectEnabled|ppEffectForceInNVG|precision|preloadCamera|preloadObject|preloadSound|preloadTitleObj|preloadTitleRsc|primaryWeapon|primaryWeaponItems|primaryWeaponMagazine|priority|processDiaryLink|processInitCommands|productVersion|profileName|profileNamespace|profileNameSteam|progressLoadingScreen|progressPosition|progressSetPosition|publicVariable|publicVariableClient|publicVariableServer|pushBack|pushBackUnique|putWeaponPool|queryItemsPool|queryMagazinePool|queryWeaponPool|rad|radioChannelAdd|radioChannelCreate|radioChannelRemove|radioChannelSetCallSign|radioChannelSetLabel|radioVolume|rain|rainbow|random|rank|rankId|rating|rectangular|registeredTasks|registerTask|reload|reloadEnabled|remoteControl|remoteExec|remoteExecCall|remoteExecutedOwner|remove3DENConnection|remove3DENEventHandler|remove3DENLayer|removeAction|removeAll3DENEventHandlers|removeAllActions|removeAllAssignedItems|removeAllContainers|removeAllCuratorAddons|removeAllCuratorCameraAreas|removeAllCuratorEditingAreas|removeAllEventHandlers|removeAllHandgunItems|removeAllItems|removeAllItemsWithMagazines|removeAllMissionEventHandlers|removeAllMPEventHandlers|removeAllMusicEventHandlers|removeAllOwnedMines|removeAllPrimaryWeaponItems|removeAllWeapons|removeBackpack|removeBackpackGlobal|removeCuratorAddons|removeCuratorCameraArea|removeCuratorEditableObjects|removeCuratorEditingArea|removeDrawIcon|removeDrawLinks|removeEventHandler|removeFromRemainsCollector|removeGoggles|removeGroupIcon|removeHandgunItem|removeHeadgear|removeItem|removeItemFromBackpack|removeItemFromUniform|removeItemFromVest|removeItems|removeMagazine|removeMagazineGlobal|removeMagazines|removeMagazinesTurret|removeMagazineTurret|removeMenuItem|removeMissionEventHandler|removeMPEventHandler|removeMusicEventHandler|removeOwnedMine|removePrimaryWeaponItem|removeSecondaryWeaponItem|removeSimpleTask|removeSwitchableUnit|removeTeamMember|removeUniform|removeVest|removeWeapon|removeWeaponAttachmentCargo|removeWeaponCargo|removeWeaponGlobal|removeWeaponTurret|reportRemoteTarget|requiredVersion|resetCamShake|resetSubgroupDirection|resistance|resize|resources|respawnVehicle|restartEditorCamera|reveal|revealMine|reverse|reversedMouseY|roadAt|roadsConnectedTo|roleDescription|ropeAttachedObjects|ropeAttachedTo|ropeAttachEnabled|ropeAttachTo|ropeCreate|ropeCut|ropeDestroy|ropeDetach|ropeEndPosition|ropeLength|ropes|ropeUnwind|ropeUnwound|rotorsForcesRTD|rotorsRpmRTD|round|runInitScript|safeZoneH|safeZoneW|safeZoneWAbs|safeZoneX|safeZoneXAbs|safeZoneY|save3DENInventory|saveGame|saveIdentity|saveJoysticks|saveOverlay|saveProfileNamespace|saveStatus|saveVar|savingEnabled|say|say2D|say3D|score|scoreSide|screenshot|screenToWorld|scriptDone|scriptName|scriptNull|scudState|secondaryWeapon|secondaryWeaponItems|secondaryWeaponMagazine|select|selectBestPlaces|selectDiarySubject|selectedEditorObjects|selectEditorObject|selectionNames|selectionPosition|selectLeader|selectMax|selectMin|selectNoPlayer|selectPlayer|selectRandom|selectRandomWeighted|selectWeapon|selectWeaponTurret|sendAUMessage|sendSimpleCommand|sendTask|sendTaskResult|sendUDPMessage|serverCommand|serverCommandAvailable|serverCommandExecutable|serverName|serverTime|set|set3DENAttribute|set3DENAttributes|set3DENGrid|set3DENIconsVisible|set3DENLayer|set3DENLinesVisible|set3DENLogicType|set3DENMissionAttribute|set3DENMissionAttributes|set3DENModelsVisible|set3DENObjectType|set3DENSelected|setAccTime|setActualCollectiveRTD|setAirplaneThrottle|setAirportSide|setAmmo|setAmmoCargo|setAmmoOnPylon|setAnimSpeedCoef|setAperture|setApertureNew|setArmoryPoints|setAttributes|setAutonomous|setBehaviour|setBleedingRemaining|setBrakesRTD|setCameraInterest|setCamShakeDefParams|setCamShakeParams|setCamUseTI|setCaptive|setCenterOfMass|setCollisionLight|setCombatMode|setCompassOscillation|setConvoySeparation|setCuratorCameraAreaCeiling|setCuratorCoef|setCuratorEditingAreaType|setCuratorWaypointCost|setCurrentChannel|setCurrentTask|setCurrentWaypoint|setCustomAimCoef|setCustomWeightRTD|setDamage|setDammage|setDate|setDebriefingText|setDefaultCamera|setDestination|setDetailMapBlendPars|setDir|setDirection|setDrawIcon|setDriveOnPath|setDropInterval|setDynamicSimulationDistance|setDynamicSimulationDistanceCoef|setEditorMode|setEditorObjectScope|setEffectCondition|setEngineRpmRTD|setFace|setFaceAnimation|setFatigue|setFeatureType|setFlagAnimationPhase|setFlagOwner|setFlagSide|setFlagTexture|setFog|setForceGeneratorRTD|setFormation|setFormationTask|setFormDir|setFriend|setFromEditor|setFSMVariable|setFuel|setFuelCargo|setGroupIcon|setGroupIconParams|setGroupIconsSelectable|setGroupIconsVisible|setGroupId|setGroupIdGlobal|setGroupOwner|setGusts|setHideBehind|setHit|setHitIndex|setHitPointDamage|setHorizonParallaxCoef|setHUDMovementLevels|setIdentity|setImportance|setInfoPanel|setLeader|setLightAmbient|setLightAttenuation|setLightBrightness|setLightColor|setLightDayLight|setLightFlareMaxDistance|setLightFlareSize|setLightIntensity|setLightnings|setLightUseFlare|setLocalWindParams|setMagazineTurretAmmo|setMarkerAlpha|setMarkerAlphaLocal|setMarkerBrush|setMarkerBrushLocal|setMarkerColor|setMarkerColorLocal|setMarkerDir|setMarkerDirLocal|setMarkerPos|setMarkerPosLocal|setMarkerShape|setMarkerShapeLocal|setMarkerSize|setMarkerSizeLocal|setMarkerText|setMarkerTextLocal|setMarkerType|setMarkerTypeLocal|setMass|setMimic|setMousePosition|setMusicEffect|setMusicEventHandler|setName|setNameSound|setObjectArguments|setObjectMaterial|setObjectMaterialGlobal|setObjectProxy|setObjectTexture|setObjectTextureGlobal|setObjectViewDistance|setOvercast|setOwner|setOxygenRemaining|setParticleCircle|setParticleClass|setParticleFire|setParticleParams|setParticleRandom|setPilotCameraDirection|setPilotCameraRotation|setPilotCameraTarget|setPilotLight|setPiPEffect|setPitch|setPlateNumber|setPlayable|setPlayerRespawnTime|setPos|setPosASL|setPosASL2|setPosASLW|setPosATL|setPosition|setPosWorld|setPylonLoadOut|setPylonsPriority|setRadioMsg|setRain|setRainbow|setRandomLip|setRank|setRectangular|setRepairCargo|setRotorBrakeRTD|setShadowDistance|setShotParents|setSide|setSimpleTaskAlwaysVisible|setSimpleTaskCustomData|setSimpleTaskDescription|setSimpleTaskDestination|setSimpleTaskTarget|setSimpleTaskType|setSimulWeatherLayers|setSize|setSkill|setSlingLoad|setSoundEffect|setSpeaker|setSpeech|setSpeedMode|setStamina|setStaminaScheme|setStatValue|setSuppression|setSystemOfUnits|setTargetAge|setTaskMarkerOffset|setTaskResult|setTaskState|setTerrainGrid|setText|setTimeMultiplier|setTitleEffect|setToneMapping|setToneMappingParams|setTrafficDensity|setTrafficDistance|setTrafficGap|setTrafficSpeed|setTriggerActivation|setTriggerArea|setTriggerStatements|setTriggerText|setTriggerTimeout|setTriggerType|setType|setUnconscious|setUnitAbility|setUnitLoadout|setUnitPos|setUnitPosWeak|setUnitRank|setUnitRecoilCoefficient|setUnitTrait|setUnloadInCombat|setUserActionText|setUserMFDText|setUserMFDValue|setVariable|setVectorDir|setVectorDirAndUp|setVectorUp|setVehicleAmmo|setVehicleAmmoDef|setVehicleArmor|setVehicleCargo|setVehicleId|setVehicleInit|setVehicleLock|setVehiclePosition|setVehicleRadar|setVehicleReceiveRemoteTargets|setVehicleReportOwnPosition|setVehicleReportRemoteTargets|setVehicleTIPars|setVehicleVarName|setVelocity|setVelocityModelSpace|setVelocityTransformation|setViewDistance|setVisibleIfTreeCollapsed|setWantedRpmRTD|setWaves|setWaypointBehaviour|setWaypointCombatMode|setWaypointCompletionRadius|setWaypointDescription|setWaypointForceBehaviour|setWaypointFormation|setWaypointHousePosition|setWaypointLoiterRadius|setWaypointLoiterType|setWaypointName|setWaypointPosition|setWaypointScript|setWaypointSpeed|setWaypointStatements|setWaypointTimeout|setWaypointType|setWaypointVisible|setWeaponReloadingTime|setWind|setWindDir|setWindForce|setWindStr|setWingForceScaleRTD|setWPPos|show3DIcons|showChat|showCinemaBorder|showCommandingMenu|showCompass|showCuratorCompass|showGPS|showHUD|showLegend|showMap|shownArtilleryComputer|shownChat|shownCompass|shownCuratorCompass|showNewEditorObject|shownGPS|shownHUD|shownMap|shownPad|shownRadio|shownScoretable|shownUAVFeed|shownWarrant|shownWatch|showPad|showRadio|showScoretable|showSubtitles|showUAVFeed|showWarrant|showWatch|showWaypoint|showWaypoints|side|sideAmbientLife|sideChat|sideEmpty|sideEnemy|sideFriendly|sideLogic|sideRadio|sideUnknown|simpleTasks|simulationEnabled|simulCloudDensity|simulCloudOcclusion|simulInClouds|simulWeatherSync|sin|size|sizeOf|skill|skillFinal|skipTime|sleep|sliderPosition|sliderRange|sliderSetPosition|sliderSetRange|sliderSetSpeed|sliderSpeed|slingLoadAssistantShown|soldierMagazines|someAmmo|sort|soundVolume|speaker|speed|speedMode|splitString|sqrt|squadParams|stance|startLoadingScreen|stop|stopEngineRTD|stopped|str|sunOrMoon|supportInfo|suppressFor|surfaceIsWater|surfaceNormal|surfaceType|swimInDepth|switchableUnits|switchAction|switchCamera|switchGesture|switchLight|switchMove|synchronizedObjects|synchronizedTriggers|synchronizedWaypoints|synchronizeObjectsAdd|synchronizeObjectsRemove|synchronizeTrigger|synchronizeWaypoint|systemChat|systemOfUnits|tan|targetKnowledge|targets|targetsAggregate|targetsQuery|taskAlwaysVisible|taskChildren|taskCompleted|taskCustomData|taskDescription|taskDestination|taskHint|taskMarkerOffset|taskNull|taskParent|taskResult|taskState|taskType|teamMember|teamMemberNull|teamName|teams|teamSwitch|teamSwitchEnabled|teamType|terminate|terrainIntersect|terrainIntersectASL|terrainIntersectAtASL|text|textLog|textLogFormat|tg|time|timeMultiplier|titleCut|titleFadeOut|titleObj|titleRsc|titleText|toArray|toFixed|toLower|toString|toUpper|triggerActivated|triggerActivation|triggerArea|triggerAttachedVehicle|triggerAttachObject|triggerAttachVehicle|triggerDynamicSimulation|triggerStatements|triggerText|triggerTimeout|triggerTimeoutCurrent|triggerType|turretLocal|turretOwner|turretUnit|tvAdd|tvClear|tvCollapse|tvCollapseAll|tvCount|tvCurSel|tvData|tvDelete|tvExpand|tvExpandAll|tvPicture|tvPictureRight|tvSetColor|tvSetCurSel|tvSetData|tvSetPicture|tvSetPictureColor|tvSetPictureColorDisabled|tvSetPictureColorSelected|tvSetPictureRight|tvSetPictureRightColor|tvSetPictureRightColorDisabled|tvSetPictureRightColorSelected|tvSetSelectColor|tvSetText|tvSetTooltip|tvSetValue|tvSort|tvSortByValue|tvText|tvTooltip|tvValue|type|typeName|typeOf|UAVControl|uiNamespace|uiSleep|unassignCurator|unassignItem|unassignTeam|unassignVehicle|underwater|uniform|uniformContainer|uniformItems|uniformMagazines|unitAddons|unitAimPosition|unitAimPositionVisual|unitBackpack|unitIsUAV|unitPos|unitReady|unitRecoilCoefficient|units|unitsBelowHeight|unlinkItem|unlockAchievement|unregisterTask|updateDrawIcon|updateMenuItem|updateObjectTree|useAIOperMapObstructionTest|useAISteeringComponent|useAudioTimeForMoves|userInputDisabled|vectorAdd|vectorCos|vectorCrossProduct|vectorDiff|vectorDir|vectorDirVisual|vectorDistance|vectorDistanceSqr|vectorDotProduct|vectorFromTo|vectorMagnitude|vectorMagnitudeSqr|vectorModelToWorld|vectorModelToWorldVisual|vectorMultiply|vectorNormalized|vectorUp|vectorUpVisual|vectorWorldToModel|vectorWorldToModelVisual|vehicle|vehicleCargoEnabled|vehicleChat|vehicleRadio|vehicleReceiveRemoteTargets|vehicleReportOwnPosition|vehicleReportRemoteTargets|vehicles|vehicleVarName|velocity|velocityModelSpace|verifySignature|vest|vestContainer|vestItems|vestMagazines|viewDistance|visibleCompass|visibleGPS|visibleMap|visiblePosition|visiblePositionASL|visibleScoretable|visibleWatch|waitUntil|waves|waypointAttachedObject|waypointAttachedVehicle|waypointAttachObject|waypointAttachVehicle|waypointBehaviour|waypointCombatMode|waypointCompletionRadius|waypointDescription|waypointForceBehaviour|waypointFormation|waypointHousePosition|waypointLoiterRadius|waypointLoiterType|waypointName|waypointPosition|waypoints|waypointScript|waypointsEnabledUAV|waypointShow|waypointSpeed|waypointStatements|waypointTimeout|waypointTimeoutCurrent|waypointType|waypointVisible|weaponAccessories|weaponAccessoriesCargo|weaponCargo|weaponDirection|weaponInertia|weaponLowered|weapons|weaponsItems|weaponsItemsCargo|weaponState|weaponsTurret|weightRTD|west|WFSideText|wind|windDir|windRTD|windStr|wingsForcesRTD|worldName|worldSize|worldToModel|worldToModelVisual|worldToScreen)\b/i,number:/(?:\$|\b0x)[\da-f]+\b|(?:\B\.\d+|\b\d+(?:\.\d+)?)(?:e[+-]?\d+)?\b/i,operator:/##|>>|&&|\|\||[!=<>]=?|[-+*/%#^]|\b(?:and|mod|not|or)\b/i,"magic-variable":{pattern:/\b(?:this|thisList|thisTrigger|_exception|_fnc_scriptName|_fnc_scriptNameParent|_forEachIndex|_this|_thisEventHandler|_thisFSM|_thisScript|_x)\b/i,alias:"keyword"},constant:/\bDIK(?:_[a-z\d]+)+\b/i}),e.languages.insertBefore("sqf","string",{macro:{pattern:/(^[ \t]*)#[a-z](?:[^\r\n\\]|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{directive:{pattern:/#[a-z]+\b/i,alias:"keyword"},comment:e.languages.sqf.comment}}}),delete e.languages.sqf["class-name"]}e8.displayName="squirrel";e8.aliases=[];function e8(e){e.register(si),e.languages.squirrel=e.languages.extend("clike",{comment:[e.languages.clike.comment[0],{pattern:/(^|[^\\:])(?:\/\/|#).*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^\\"'@])(?:@"(?:[^"]|"")*"(?!")|"(?:[^\\\r\n"]|\\.)*")/,lookbehind:!0,greedy:!0},"class-name":{pattern:/(\b(?:class|enum|extends|instanceof)\s+)\w+(?:\.\w+)*/,lookbehind:!0,inside:{punctuation:/\./}},keyword:/\b(?:__FILE__|__LINE__|base|break|case|catch|class|clone|const|constructor|continue|default|delete|else|enum|extends|for|foreach|function|if|in|instanceof|local|null|resume|return|static|switch|this|throw|try|typeof|while|yield)\b/,number:/\b(?:0x[0-9a-fA-F]+|\d+(?:\.(?:\d+|[eE][+-]?\d+))?)\b/,operator:/\+\+|--|<=>|<[-<]|>>>?|&&?|\|\|?|[-+*/%!=<>]=?|[~^]|::?/,punctuation:/[(){}\[\],;.]/}),e.languages.insertBefore("squirrel","string",{char:{pattern:/(^|[^\\"'])'(?:[^\\']|\\(?:[xuU][0-9a-fA-F]{0,8}|[\s\S]))'/,lookbehind:!0,greedy:!0}}),e.languages.insertBefore("squirrel","operator",{"attribute-punctuation":{pattern:/<\/|\/>/,alias:"important"},lambda:{pattern:/@(?=\()/,alias:"operator"}})}t8.displayName="stan";t8.aliases=[];function t8(e){(function(t){var n=/\b(?:algebra_solver|algebra_solver_newton|integrate_1d|integrate_ode|integrate_ode_bdf|integrate_ode_rk45|map_rect|ode_(?:adams|bdf|ckrk|rk45)(?:_tol)?|ode_adjoint_tol_ctl|reduce_sum|reduce_sum_static)\b/;t.languages.stan={comment:/\/\/.*|\/\*[\s\S]*?\*\/|#(?!include).*/,string:{pattern:/"[\x20\x21\x23-\x5B\x5D-\x7E]*"/,greedy:!0},directive:{pattern:/^([ \t]*)#include\b.*/m,lookbehind:!0,alias:"property"},"function-arg":{pattern:RegExp("("+n.source+/\s*\(\s*/.source+")"+/[a-zA-Z]\w*/.source),lookbehind:!0,alias:"function"},constraint:{pattern:/(\b(?:int|matrix|real|row_vector|vector)\s*)<[^<>]*>/,lookbehind:!0,inside:{expression:{pattern:/(=\s*)\S(?:\S|\s+(?!\s))*?(?=\s*(?:>$|,\s*\w+\s*=))/,lookbehind:!0,inside:null},property:/\b[a-z]\w*(?=\s*=)/i,operator:/=/,punctuation:/^<|>$|,/}},keyword:[{pattern:/\bdata(?=\s*\{)|\b(?:functions|generated|model|parameters|quantities|transformed)\b/,alias:"program-block"},/\b(?:array|break|cholesky_factor_corr|cholesky_factor_cov|complex|continue|corr_matrix|cov_matrix|data|else|for|if|in|increment_log_prob|int|matrix|ordered|positive_ordered|print|real|reject|return|row_vector|simplex|target|unit_vector|vector|void|while)\b/,n],function:/\b[a-z]\w*(?=\s*\()/i,number:/(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:E[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,boolean:/\b(?:false|true)\b/,operator:/<-|\.[*/]=?|\|\|?|&&|[!=<>+\-*/]=?|['^%~?:]/,punctuation:/[()\[\]{},;]/},t.languages.stan.constraint.inside.expression.inside=t.languages.stan})(e)}n8.displayName="stata";n8.aliases=[];function n8(e){e.register(G1),e.register(uN),e.register(TT),e.languages.stata={comment:[{pattern:/(^[ \t]*)\*.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|\s)\/\/.*|\/\*[\s\S]*?\*\//,lookbehind:!0,greedy:!0}],"string-literal":{pattern:/"[^"\r\n]*"|[`']".*?"[`']/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^{}]*\}|[`']\w[^`'\r\n]*[`']/,inside:{punctuation:/^\$\{|\}$/,expression:{pattern:/[\s\S]+/,inside:null}}},string:/[\s\S]+/}},mata:{pattern:/(^[ \t]*mata[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-mata",inside:e.languages.mata},java:{pattern:/(^[ \t]*java[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-java",inside:e.languages.java},python:{pattern:/(^[ \t]*python[ \t]*:)[\s\S]+?(?=^end\b)/m,lookbehind:!0,greedy:!0,alias:"language-python",inside:e.languages.python},command:{pattern:/(^[ \t]*(?:\.[ \t]+)?(?:(?:bayes|bootstrap|by|bysort|capture|collect|fmm|fp|frame|jackknife|mfp|mi|nestreg|noisily|permute|quietly|rolling|simulate|statsby|stepwise|svy|version|xi)\b[^:\r\n]*:[ \t]*|(?:capture|noisily|quietly|version)[ \t]+)?)[a-zA-Z]\w*/m,lookbehind:!0,greedy:!0,alias:"keyword"},variable:/\$\w+|[`']\w[^`'\r\n]*[`']/,keyword:/\b(?:bayes|bootstrap|by|bysort|capture|clear|collect|fmm|fp|frame|if|in|jackknife|mi[ \t]+estimate|mfp|nestreg|noisily|of|permute|quietly|rolling|simulate|sort|statsby|stepwise|svy|varlist|version|xi)\b/,boolean:/\b(?:off|on)\b/,number:/\b\d+(?:\.\d+)?\b|\B\.\d+/,function:/\b[a-z_]\w*(?=\()/i,operator:/\+\+|--|##?|[<>!=~]=?|[+\-*^&|/]/,punctuation:/[(){}[\],:]/},e.languages.stata["string-literal"].inside.interpolation.inside.expression.inside=e.languages.stata}r8.displayName="iecst";r8.aliases=[];function r8(e){e.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},keyword:[/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:ACCESS|CONFIG|EXTERNAL|GLOBAL|INPUT|IN_OUT|OUTPUT|TEMP)|VAR|METHOD|PROPERTY)\b/i,/\b(?:AT|BY|(?:END_)?(?:CASE|FOR|IF|REPEAT|WHILE)|CONSTANT|CONTINUE|DO|ELSE|ELSIF|EXIT|EXTENDS|FROM|GET|GOTO|IMPLEMENTS|JMP|NON_RETAIN|OF|PRIVATE|PROTECTED|PUBLIC|RETAIN|RETURN|SET|TASK|THEN|TO|UNTIL|USING|WITH|__CATCH|__ENDTRY|__FINALLY|__TRY)\b/],"class-name":/\b(?:ANY|ARRAY|BOOL|BYTE|U?(?:D|L|S)?INT|(?:D|L)?WORD|DATE(?:_AND_TIME)?|DT|L?REAL|POINTER|STRING|TIME(?:_OF_DAY)?|TOD)\b/,address:{pattern:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,alias:"symbol"},number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:D|DT|T|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/,operator:/S?R?:?=>?|&&?|\*\*?|<[=>]?|>=?|[-:^/+#]|\b(?:AND|EQ|EXPT|GE|GT|LE|LT|MOD|NE|NOT|OR|XOR)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,punctuation:/[()[\].,;]/}}a8.displayName="supercollider";a8.aliases=["sclang"];function a8(e){e.languages.supercollider={comment:{pattern:/\/\/.*|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\//,greedy:!0},string:{pattern:/(^|[^\\])"(?:[^"\\]|\\[\s\S])*"/,lookbehind:!0,greedy:!0},char:{pattern:/\$(?:[^\\\r\n]|\\.)/,greedy:!0},symbol:{pattern:/(^|[^\\])'(?:[^'\\]|\\[\s\S])*'|\\\w+/,lookbehind:!0,greedy:!0},keyword:/\b(?:_|arg|classvar|const|nil|var|while)\b/,boolean:/\b(?:false|true)\b/,label:{pattern:/\b[a-z_]\w*(?=\s*:)/,alias:"property"},number:/\b(?:inf|pi|0x[0-9a-fA-F]+|\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(?:pi)?|\d+r[0-9a-zA-Z]+(?:\.[0-9a-zA-Z]+)?|\d+[sb]{1,4}\d*)\b/,"class-name":/\b[A-Z]\w*\b/,operator:/\.{2,3}|#(?![[{])|&&|[!=]==?|\+>>|\+{1,3}|-[->]|=>|>>|\?\?|@\|?@|\|(?:@|[!=]=)?\||!\?|<[!=>]|\*{1,2}|<{2,3}\*?|[-!%&/<>?@|=`]/,punctuation:/[{}()[\].:,;]|#[[{]/},e.languages.sclang=e.languages.supercollider}i8.displayName="systemd";i8.aliases=[];function i8(e){(function(t){var n={pattern:/^[;#].*/m,greedy:!0},r=/"(?:[^\r\n"\\]|\\(?:[^\r]|\r\n?))*"(?!\S)/.source;t.languages.systemd={comment:n,section:{pattern:/^\[[^\n\r\[\]]*\](?=[ \t]*$)/m,greedy:!0,inside:{punctuation:/^\[|\]$/,"section-name":{pattern:/[\s\S]+/,alias:"selector"}}},key:{pattern:/^[^\s=]+(?=[ \t]*=)/m,greedy:!0,alias:"attr-name"},value:{pattern:RegExp(/(=[ \t]*(?!\s))/.source+"(?:"+r+`|(?=[^"\r
]))(?:`+(/[^\s\\]/.source+'|[ 	]+(?:(?![ 	"])|'+r+")|"+/\\[\r\n]+(?:[#;].*[\r\n]+)*(?![#;])/.source)+")*"),lookbehind:!0,greedy:!0,alias:"attr-value",inside:{comment:n,quoted:{pattern:RegExp(/(^|\s)/.source+r),lookbehind:!0,greedy:!0},punctuation:/\\$/m,boolean:{pattern:/^(?:false|no|off|on|true|yes)$/,greedy:!0}}},punctuation:/=/}})(e)}RT.displayName="t4-templating";RT.aliases=[];function RT(e){(function(t){function n(a,l,u){return{pattern:RegExp("<#"+a+"[\\s\\S]*?#>"),alias:"block",inside:{delimiter:{pattern:RegExp("^<#"+a+"|#>$"),alias:"important"},content:{pattern:/[\s\S]+/,inside:l,alias:u}}}}function r(a){var l=t.languages[a],u="language-"+a;return{block:{pattern:/<#[\s\S]+?#>/,inside:{directive:n("@",{"attr-value":{pattern:/=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">=]+)/,inside:{punctuation:/^=|^["']|["']$/}},keyword:/\b\w+(?=\s)/,"attr-name":/\b\w+/}),expression:n("=",l,u),"class-feature":n("\\+",l,u),standard:n("",l,u)}}}}t.languages["t4-templating"]=Object.defineProperty({},"createT4",{value:r})})(e)}o8.displayName="t4-cs";o8.aliases=["t4"];function o8(e){e.register(U1),e.register(RT),e.languages.t4=e.languages["t4-cs"]=e.languages["t4-templating"].createT4("csharp")}s8.displayName="t4-vb";s8.aliases=[];function s8(e){e.register(RT),e.register(AT),e.languages["t4-vb"]=e.languages["t4-templating"].createT4("vbnet")}l8.displayName="tap";l8.aliases=[];function l8(e){e.register(ST),e.languages.tap={fail:/not ok[^#{\n\r]*/,pass:/ok[^#{\n\r]*/,pragma:/pragma [+-][a-z]+/,bailout:/bail out!.*/i,version:/TAP version \d+/i,plan:/\b\d+\.\.\d+(?: +#.*)?/,subtest:{pattern:/# Subtest(?:: .*)?/,greedy:!0},punctuation:/[{}]/,directive:/#.*/,yamlish:{pattern:/(^[ \t]*)---[\s\S]*?[\r\n][ \t]*\.\.\.$/m,lookbehind:!0,inside:e.languages.yaml,alias:"language-yaml"}}}u8.displayName="tcl";u8.aliases=[];function u8(e){e.languages.tcl={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:{pattern:/"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*"/,greedy:!0},variable:[{pattern:/(\$)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/,lookbehind:!0},{pattern:/(\$)\{[^}]+\}/,lookbehind:!0},{pattern:/(^[\t ]*set[ \t]+)(?:::)?(?:[a-zA-Z0-9]+::)*\w+/m,lookbehind:!0}],function:{pattern:/(^[\t ]*proc[ \t]+)\S+/m,lookbehind:!0},builtin:[{pattern:/(^[\t ]*)(?:break|class|continue|error|eval|exit|for|foreach|if|proc|return|switch|while)\b/m,lookbehind:!0},/\b(?:else|elseif)\b/],scope:{pattern:/(^[\t ]*)(?:global|upvar|variable)\b/m,lookbehind:!0,alias:"constant"},keyword:{pattern:/(^[\t ]*|\[)(?:Safe_Base|Tcl|after|append|apply|array|auto_(?:execok|import|load|mkindex|qualify|reset)|automkindex_old|bgerror|binary|catch|cd|chan|clock|close|concat|dde|dict|encoding|eof|exec|expr|fblocked|fconfigure|fcopy|file(?:event|name)?|flush|gets|glob|history|http|incr|info|interp|join|lappend|lassign|lindex|linsert|list|llength|load|lrange|lrepeat|lreplace|lreverse|lsearch|lset|lsort|math(?:func|op)|memory|msgcat|namespace|open|package|parray|pid|pkg_mkIndex|platform|puts|pwd|re_syntax|read|refchan|regexp|registry|regsub|rename|scan|seek|set|socket|source|split|string|subst|tcl(?:_endOfWord|_findLibrary|startOf(?:Next|Previous)Word|test|vars|wordBreak(?:After|Before))|tell|time|tm|trace|unknown|unload|unset|update|uplevel|vwait)\b/m,lookbehind:!0},operator:/!=?|\*\*?|==|&&?|\|\|?|<[=<]?|>[=>]?|[-+~\/%?^]|\b(?:eq|in|ne|ni)\b/,punctuation:/[{}()\[\]]/}}c8.displayName="tt2";c8.aliases=[];function c8(e){e.register(si),e.register(Bc),(function(t){t.languages.tt2=t.languages.extend("clike",{comment:/#.*|\[%#[\s\S]*?%\]/,keyword:/\b(?:BLOCK|CALL|CASE|CATCH|CLEAR|DEBUG|DEFAULT|ELSE|ELSIF|END|FILTER|FINAL|FOREACH|GET|IF|IN|INCLUDE|INSERT|LAST|MACRO|META|NEXT|PERL|PROCESS|RAWPERL|RETURN|SET|STOP|SWITCH|TAGS|THROW|TRY|UNLESS|USE|WHILE|WRAPPER)\b/,punctuation:/[[\]{},()]/}),t.languages.insertBefore("tt2","number",{operator:/=[>=]?|!=?|<=?|>=?|&&|\|\|?|\b(?:and|not|or)\b/,variable:{pattern:/\b[a-z]\w*(?:\s*\.\s*(?:\d+|\$?[a-z]\w*))*\b/i}}),t.languages.insertBefore("tt2","keyword",{delimiter:{pattern:/^(?:\[%|%%)-?|-?%\]$/,alias:"punctuation"}}),t.languages.insertBefore("tt2","string",{"single-quoted-string":{pattern:/'[^\\']*(?:\\[\s\S][^\\']*)*'/,greedy:!0,alias:"string"},"double-quoted-string":{pattern:/"[^\\"]*(?:\\[\s\S][^\\"]*)*"/,greedy:!0,alias:"string",inside:{variable:{pattern:/\$(?:[a-z]\w*(?:\.(?:\d+|\$?[a-z]\w*))*)/i}}}}),delete t.languages.tt2.string,t.hooks.add("before-tokenize",function(n){var r=/\[%[\s\S]+?%\]/g;t.languages["markup-templating"].buildPlaceholders(n,"tt2",r)}),t.hooks.add("after-tokenize",function(n){t.languages["markup-templating"].tokenizePlaceholders(n,"tt2")})})(e)}d8.displayName="toml";d8.aliases=[];function d8(e){(function(t){var n=/(?:[\w-]+|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*")/.source;function r(a){return a.replace(/__/g,function(){return n})}t.languages.toml={comment:{pattern:/#.*/,greedy:!0},table:{pattern:RegExp(r(/(^[\t ]*\[\s*(?:\[\s*)?)__(?:\s*\.\s*__)*(?=\s*\])/.source),"m"),lookbehind:!0,greedy:!0,alias:"class-name"},key:{pattern:RegExp(r(/(^[\t ]*|[{,]\s*)__(?:\s*\.\s*__)*(?=\s*=)/.source),"m"),lookbehind:!0,greedy:!0,alias:"property"},string:{pattern:/"""(?:\\[\s\S]|[^\\])*?"""|'''[\s\S]*?'''|'[^'\n\r]*'|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},date:[{pattern:/\b\d{4}-\d{2}-\d{2}(?:[T\s]\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|[+-]\d{2}:\d{2})?)?\b/i,alias:"number"},{pattern:/\b\d{2}:\d{2}:\d{2}(?:\.\d+)?\b/,alias:"number"}],number:/(?:\b0(?:x[\da-zA-Z]+(?:_[\da-zA-Z]+)*|o[0-7]+(?:_[0-7]+)*|b[10]+(?:_[10]+)*))\b|[-+]?\b\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?\b|[-+]?\b(?:inf|nan)\b/,boolean:/\b(?:false|true)\b/,punctuation:/[.,=[\]{}]/}})(e)}f8.displayName="tremor";f8.aliases=["trickle","troy"];function f8(e){(function(t){t.languages.tremor={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},"interpolated-string":null,extractor:{pattern:/\b[a-z_]\w*\|(?:[^\r\n\\|]|\\(?:\r\n|[\s\S]))*\|/i,greedy:!0,inside:{regex:{pattern:/(^re)\|[\s\S]+/,lookbehind:!0},function:/^\w+/,value:/\|[\s\S]+/}},identifier:{pattern:/`[^`]*`/,greedy:!0},function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())\b/,keyword:/\b(?:args|as|by|case|config|connect|connector|const|copy|create|default|define|deploy|drop|each|emit|end|erase|event|flow|fn|for|from|group|having|insert|into|intrinsic|let|links|match|merge|mod|move|of|operator|patch|pipeline|recur|script|select|set|sliding|state|stream|to|tumbling|update|use|when|where|window|with)\b/,boolean:/\b(?:false|null|true)\b/i,number:/\b(?:0b[01_]*|0x[0-9a-fA-F_]*|\d[\d_]*(?:\.\d[\d_]*)?(?:[Ee][+-]?[\d_]+)?)\b/,"pattern-punctuation":{pattern:/%(?=[({[])/,alias:"punctuation"},operator:/[-+*\/%~!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?>?=?|(?:absent|and|not|or|present|xor)\b/,punctuation:/::|[;\[\]()\{\},.:]/};var n=/#\{(?:[^"{}]|\{[^{}]*\}|"(?:[^"\\\r\n]|\\(?:\r\n|[\s\S]))*")*\}/.source;t.languages.tremor["interpolated-string"]={pattern:RegExp(/(^|[^\\])/.source+'(?:"""(?:'+/[^"\\#]|\\[\s\S]|"(?!"")|#(?!\{)/.source+"|"+n+')*"""|"(?:'+/[^"\\\r\n#]|\\(?:\r\n|[\s\S])|#(?!\{)/.source+"|"+n+')*")'),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:RegExp(n),inside:{punctuation:/^#\{|\}$/,expression:{pattern:/[\s\S]+/,inside:t.languages.tremor}}},string:/[\s\S]+/}},t.languages.troy=t.languages.tremor,t.languages.trickle=t.languages.tremor})(e)}h8.displayName="typoscript";h8.aliases=["tsconfig"];function h8(e){(function(t){var n=/\b(?:ACT|ACTIFSUB|CARRAY|CASE|CLEARGIF|COA|COA_INT|CONSTANTS|CONTENT|CUR|EDITPANEL|EFFECT|EXT|FILE|FLUIDTEMPLATE|FORM|FRAME|FRAMESET|GIFBUILDER|GMENU|GMENU_FOLDOUT|GMENU_LAYERS|GP|HMENU|HRULER|HTML|IENV|IFSUB|IMAGE|IMGMENU|IMGMENUITEM|IMGTEXT|IMG_RESOURCE|INCLUDE_TYPOSCRIPT|JSMENU|JSMENUITEM|LLL|LOAD_REGISTER|NO|PAGE|RECORDS|RESTORE_REGISTER|TEMPLATE|TEXT|TMENU|TMENUITEM|TMENU_LAYERS|USER|USER_INT|_GIFBUILDER|global|globalString|globalVar)\b/;t.languages.typoscript={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:= \t]|(?:^|[^= \t])[ \t]+)\/\/.*/,lookbehind:!0,greedy:!0},{pattern:/(^|[^"'])#.*/,lookbehind:!0,greedy:!0}],function:[{pattern:/<INCLUDE_TYPOSCRIPT:\s*source\s*=\s*(?:"[^"\r\n]*"|'[^'\r\n]*')\s*>/,inside:{string:{pattern:/"[^"\r\n]*"|'[^'\r\n]*'/,inside:{keyword:n}},keyword:{pattern:/INCLUDE_TYPOSCRIPT/}}},{pattern:/@import\s*(?:"[^"\r\n]*"|'[^'\r\n]*')/,inside:{string:/"[^"\r\n]*"|'[^'\r\n]*'/}}],string:{pattern:/^([^=]*=[< ]?)(?:(?!\]\n).)*/,lookbehind:!0,inside:{function:/\{\$.*\}/,keyword:n,number:/^\d+$/,punctuation:/[,|:]/}},keyword:n,number:{pattern:/\b\d+\s*[.{=]/,inside:{operator:/[.{=]/}},tag:{pattern:/\.?[-\w\\]+\.?/,inside:{punctuation:/\./}},punctuation:/[{}[\];(),.:|]/,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/},t.languages.tsconfig=t.languages.typoscript})(e)}p8.displayName="unrealscript";p8.aliases=["uc","uscript"];function p8(e){e.languages.unrealscript={comment:/\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},category:{pattern:/(\b(?:(?:autoexpand|hide|show)categories|var)\s*\()[^()]+(?=\))/,lookbehind:!0,greedy:!0,alias:"property"},metadata:{pattern:/(\w\s*)<\s*\w+\s*=[^<>|=\r\n]+(?:\|\s*\w+\s*=[^<>|=\r\n]+)*>/,lookbehind:!0,greedy:!0,inside:{property:/\b\w+(?=\s*=)/,operator:/=/,punctuation:/[<>|]/}},macro:{pattern:/`\w+/,alias:"property"},"class-name":{pattern:/(\b(?:class|enum|extends|interface|state(?:\(\))?|struct|within)\s+)\w+/,lookbehind:!0},keyword:/\b(?:abstract|actor|array|auto|autoexpandcategories|bool|break|byte|case|class|classgroup|client|coerce|collapsecategories|config|const|continue|default|defaultproperties|delegate|dependson|deprecated|do|dontcollapsecategories|editconst|editinlinenew|else|enum|event|exec|export|extends|final|float|for|forcescriptorder|foreach|function|goto|guid|hidecategories|hidedropdown|if|ignores|implements|inherits|input|int|interface|iterator|latent|local|material|name|native|nativereplication|noexport|nontransient|noteditinlinenew|notplaceable|operator|optional|out|pawn|perobjectconfig|perobjectlocalized|placeable|postoperator|preoperator|private|protected|reliable|replication|return|server|showcategories|simulated|singular|state|static|string|struct|structdefault|structdefaultproperties|switch|texture|transient|travel|unreliable|until|var|vector|while|within)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,boolean:/\b(?:false|true)\b/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/>>|<<|--|\+\+|\*\*|[-+*/~!=<>$@]=?|&&?|\|\|?|\^\^?|[?:%]|\b(?:ClockwiseFrom|Cross|Dot)\b/,punctuation:/[()[\]{};,.]/},e.languages.uc=e.languages.uscript=e.languages.unrealscript}m8.displayName="uorazor";m8.aliases=[];function m8(e){e.languages.uorazor={"comment-hash":{pattern:/#.*/,alias:"comment",greedy:!0},"comment-slash":{pattern:/\/\/.*/,alias:"comment",greedy:!0},string:{pattern:/("|')(?:\\.|(?!\1)[^\\\r\n])*\1/,inside:{punctuation:/^['"]|['"]$/},greedy:!0},"source-layers":{pattern:/\b(?:arms|backpack|blue|bracelet|cancel|clear|cloak|criminal|earrings|enemy|facialhair|friend|friendly|gloves|gray|grey|ground|hair|head|innerlegs|innertorso|innocent|lefthand|middletorso|murderer|neck|nonfriendly|onehandedsecondary|outerlegs|outertorso|pants|red|righthand|ring|self|shirt|shoes|talisman|waist)\b/i,alias:"function"},"source-commands":{pattern:/\b(?:alliance|attack|cast|clearall|clearignore|clearjournal|clearlist|clearsysmsg|createlist|createtimer|dclick|dclicktype|dclickvar|dress|dressconfig|drop|droprelloc|emote|getlabel|guild|gumpclose|gumpresponse|hotkey|ignore|lasttarget|lift|lifttype|menu|menuresponse|msg|org|organize|organizer|overhead|pause|poplist|potion|promptresponse|pushlist|removelist|removetimer|rename|restock|say|scav|scavenger|script|setability|setlasttarget|setskill|settimer|setvar|sysmsg|target|targetloc|targetrelloc|targettype|undress|unignore|unsetvar|useobject|useonce|useskill|usetype|virtue|wait|waitforgump|waitformenu|waitforprompt|waitforstat|waitforsysmsg|waitfortarget|walk|wfsysmsg|wft|whisper|yell)\b/,alias:"function"},"tag-name":{pattern:/(^\{%-?\s*)\w+/,lookbehind:!0,alias:"keyword"},delimiter:{pattern:/^\{[{%]-?|-?[%}]\}$/,alias:"punctuation"},function:/\b(?:atlist|close|closest|count|counter|counttype|dead|dex|diffhits|diffmana|diffstam|diffweight|find|findbuff|finddebuff|findlayer|findtype|findtypelist|followers|gumpexists|hidden|hits|hp|hue|human|humanoid|ingump|inlist|insysmessage|insysmsg|int|invul|lhandempty|list|listexists|mana|maxhits|maxhp|maxmana|maxstam|maxweight|monster|mounted|name|next|noto|paralyzed|poisoned|position|prev|previous|queued|rand|random|rhandempty|skill|stam|str|targetexists|timer|timerexists|varexist|warmode|weight)\b/,keyword:/\b(?:and|as|break|continue|else|elseif|endfor|endif|endwhile|for|if|loop|not|or|replay|stop|while)\b/,boolean:/\b(?:false|null|true)\b/,number:/\b0x[\dA-Fa-f]+|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][-+]?\d+)?/,operator:[{pattern:/(\s)(?:and|b-and|b-or|b-xor|ends with|in|is|matches|not|or|same as|starts with)(?=\s)/,lookbehind:!0},/[=<>]=?|!=|\*\*?|\/\/?|\?:?|[-+~%|]/],punctuation:/[()\[\]{}:.,]/}}g8.displayName="v";g8.aliases=[];function g8(e){e.register(si),(function(t){var n={pattern:/[\s\S]+/,inside:null};t.languages.v=t.languages.extend("clike",{string:{pattern:/r?(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,alias:"quoted-string",greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\{[^{}]*\}|\w+(?:\.\w+(?:\([^\(\)]*\))?|\[[^\[\]]+\])*)/,lookbehind:!0,inside:{"interpolation-variable":{pattern:/^\$\w[\s\S]*$/,alias:"variable"},"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},"interpolation-expression":n}}}},"class-name":{pattern:/(\b(?:enum|interface|struct|type)\s+)(?:C\.)?\w+/,lookbehind:!0},keyword:/(?:\b(?:__global|as|asm|assert|atomic|break|chan|const|continue|defer|else|embed|enum|fn|for|go(?:to)?|if|import|in|interface|is|lock|match|module|mut|none|or|pub|return|rlock|select|shared|sizeof|static|struct|type(?:of)?|union|unsafe)|\$(?:else|for|if)|#(?:flag|include))\b/,number:/\b(?:0x[a-f\d]+(?:_[a-f\d]+)*|0b[01]+(?:_[01]+)*|0o[0-7]+(?:_[0-7]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?)\b/i,operator:/~|\?|[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\.?/,builtin:/\b(?:any(?:_float|_int)?|bool|byte(?:ptr)?|charptr|f(?:32|64)|i(?:8|16|64|128|nt)|rune|size_t|string|u(?:16|32|64|128)|voidptr)\b/}),n.inside=t.languages.v,t.languages.insertBefore("v","string",{char:{pattern:/`(?:\\`|\\?[^`]{1,2})`/,alias:"rune"}}),t.languages.insertBefore("v","operator",{attribute:{pattern:/(^[\t ]*)\[(?:deprecated|direct_array_access|flag|inline|live|ref_only|typedef|unsafe_fn|windows_stdcall)\]/m,lookbehind:!0,alias:"annotation",inside:{punctuation:/[\[\]]/,keyword:/\w+/}},generic:{pattern:/<\w+>(?=\s*[\)\{])/,inside:{punctuation:/[<>]/,"class-name":/\w+/}}}),t.languages.insertBefore("v","function",{"generic-function":{pattern:/\b\w+\s*<\w+>(?=\()/,inside:{function:/^\w+/,generic:{pattern:/<\w+>/,inside:t.languages.v.generic.inside}}}})})(e)}y8.displayName="vala";y8.aliases=[];function y8(e){e.register(si),e.languages.vala=e.languages.extend("clike",{"class-name":[{pattern:/\b[A-Z]\w*(?:\.\w+)*\b(?=(?:\?\s+|\*?\s+\*?)\w)/,inside:{punctuation:/\./}},{pattern:/(\[)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/(\b(?:class|interface)\s+[A-Z]\w*(?:\.\w+)*\s*:\s*)[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}},{pattern:/((?:\b(?:class|enum|interface|new|struct)\s+)|(?:catch\s+\())[A-Z]\w*(?:\.\w+)*\b/,lookbehind:!0,inside:{punctuation:/\./}}],keyword:/\b(?:abstract|as|assert|async|base|bool|break|case|catch|char|class|const|construct|continue|default|delegate|delete|do|double|dynamic|else|ensures|enum|errordomain|extern|finally|float|for|foreach|get|if|in|inline|int|int16|int32|int64|int8|interface|internal|is|lock|long|namespace|new|null|out|override|owned|params|private|protected|public|ref|requires|return|set|short|signal|sizeof|size_t|ssize_t|static|string|struct|switch|this|throw|throws|try|typeof|uchar|uint|uint16|uint32|uint64|uint8|ulong|unichar|unowned|ushort|using|value|var|virtual|void|volatile|weak|while|yield)\b/i,function:/\b\w+(?=\s*\()/,number:/(?:\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)(?:f|u?l?)?/i,operator:/\+\+|--|&&|\|\||<<=?|>>=?|=>|->|~|[+\-*\/%&^|=!<>]=?|\?\??|\.\.\./,punctuation:/[{}[\];(),.:]/,constant:/\b[A-Z0-9_]+\b/}),e.languages.insertBefore("vala","string",{"raw-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"template-string":{pattern:/@"[\s\S]*?"/,greedy:!0,inside:{interpolation:{pattern:/\$(?:\([^)]*\)|[a-zA-Z]\w*)/,inside:{delimiter:{pattern:/^\$\(?|\)$/,alias:"punctuation"},rest:e.languages.vala}},string:/[\s\S]+/}}}),e.languages.insertBefore("vala","keyword",{regex:{pattern:/\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[imsx]{0,4}(?=\s*(?:$|[\r\n,.;})\]]))/,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\//,"regex-flags":/^[a-z]+$/}}})}v8.displayName="velocity";v8.aliases=[];function v8(e){e.register(nc),(function(t){t.languages.velocity=t.languages.extend("markup",{});var n={variable:{pattern:/(^|[^\\](?:\\\\)*)\$!?(?:[a-z][\w-]*(?:\([^)]*\))?(?:\.[a-z][\w-]*(?:\([^)]*\))?|\[[^\]]+\])*|\{[^}]+\})/i,lookbehind:!0,inside:{}},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},number:/\b\d+\b/,boolean:/\b(?:false|true)\b/,operator:/[=!<>]=?|[+*/%-]|&&|\|\||\.\.|\b(?:eq|g[et]|l[et]|n(?:e|ot))\b/,punctuation:/[(){}[\]:,.]/};n.variable.inside={string:n.string,function:{pattern:/([^\w-])[a-z][\w-]*(?=\()/,lookbehind:!0},number:n.number,boolean:n.boolean,punctuation:n.punctuation},t.languages.insertBefore("velocity","comment",{unparsed:{pattern:/(^|[^\\])#\[\[[\s\S]*?\]\]#/,lookbehind:!0,greedy:!0,inside:{punctuation:/^#\[\[|\]\]#$/}},"velocity-comment":[{pattern:/(^|[^\\])#\*[\s\S]*?\*#/,lookbehind:!0,greedy:!0,alias:"comment"},{pattern:/(^|[^\\])##.*/,lookbehind:!0,greedy:!0,alias:"comment"}],directive:{pattern:/(^|[^\\](?:\\\\)*)#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})(?:\s*\((?:[^()]|\([^()]*\))*\))?/i,lookbehind:!0,inside:{keyword:{pattern:/^#@?(?:[a-z][\w-]*|\{[a-z][\w-]*\})|\bin\b/,inside:{punctuation:/[{}]/}},rest:n}},variable:n.variable}),t.languages.velocity.tag.inside["attr-value"].inside.rest=t.languages.velocity})(e)}b8.displayName="verilog";b8.aliases=[];function b8(e){e.languages.verilog={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"kernel-function":{pattern:/\B\$\w+\b/,alias:"property"},constant:/\B`\w+\b/,function:/\b\w+(?=\()/,keyword:/\b(?:alias|and|assert|assign|assume|automatic|before|begin|bind|bins|binsof|bit|break|buf|bufif0|bufif1|byte|case|casex|casez|cell|chandle|class|clocking|cmos|config|const|constraint|context|continue|cover|covergroup|coverpoint|cross|deassign|default|defparam|design|disable|dist|do|edge|else|end|endcase|endclass|endclocking|endconfig|endfunction|endgenerate|endgroup|endinterface|endmodule|endpackage|endprimitive|endprogram|endproperty|endsequence|endspecify|endtable|endtask|enum|event|expect|export|extends|extern|final|first_match|for|force|foreach|forever|fork|forkjoin|function|generate|genvar|highz0|highz1|if|iff|ifnone|ignore_bins|illegal_bins|import|incdir|include|initial|inout|input|inside|instance|int|integer|interface|intersect|join|join_any|join_none|large|liblist|library|local|localparam|logic|longint|macromodule|matches|medium|modport|module|nand|negedge|new|nmos|nor|noshowcancelled|not|notif0|notif1|null|or|output|package|packed|parameter|pmos|posedge|primitive|priority|program|property|protected|pull0|pull1|pulldown|pullup|pulsestyle_ondetect|pulsestyle_onevent|pure|rand|randc|randcase|randsequence|rcmos|real|realtime|ref|reg|release|repeat|return|rnmos|rpmos|rtran|rtranif0|rtranif1|scalared|sequence|shortint|shortreal|showcancelled|signed|small|solve|specify|specparam|static|string|strong0|strong1|struct|super|supply0|supply1|table|tagged|task|this|throughout|time|timeprecision|timeunit|tran|tranif0|tranif1|tri|tri0|tri1|triand|trior|trireg|type|typedef|union|unique|unsigned|use|uwire|var|vectored|virtual|void|wait|wait_order|wand|weak0|weak1|while|wildcard|wire|with|within|wor|xnor|xor)\b/,important:/\b(?:always|always_comb|always_ff|always_latch)\b(?: *@)?/,number:/\B##?\d+|(?:\b\d+)?'[odbh] ?[\da-fzx_?]+|\b(?:\d*[._])?\d+(?:e[-+]?\d+)?/i,operator:/[-+{}^~%*\/?=!<>&|]+/,punctuation:/[[\];(),.:]/}}_8.displayName="vhdl";_8.aliases=[];function _8(e){e.languages.vhdl={comment:/--.+/,"vhdl-vectors":{pattern:/\b[oxb]"[\da-f_]+"|"[01uxzwlh-]+"/i,alias:"number"},"quoted-function":{pattern:/"\S+?"(?=\()/,alias:"function"},string:/"(?:[^\\"\r\n]|\\(?:\r\n|[\s\S]))*"/,attribute:{pattern:/\b'\w+/,alias:"attr-name"},keyword:/\b(?:access|after|alias|all|architecture|array|assert|attribute|begin|block|body|buffer|bus|case|component|configuration|constant|disconnect|downto|else|elsif|end|entity|exit|file|for|function|generate|generic|group|guarded|if|impure|in|inertial|inout|is|label|library|linkage|literal|loop|map|new|next|null|of|on|open|others|out|package|port|postponed|private|procedure|process|pure|range|record|register|reject|report|return|select|severity|shared|signal|subtype|then|to|transport|type|unaffected|units|until|use|variable|view|wait|when|while|with)\b/i,boolean:/\b(?:false|true)\b/i,function:/\w+(?=\()/,number:/'[01uxzwlh-]'|\b(?:\d+#[\da-f_.]+#|\d[\d_.]*)(?:e[-+]?\d+)?/i,operator:/[<>]=?|:=|[-+*/&=]|\b(?:abs|and|mod|nand|nor|not|or|rem|rol|ror|sla|sll|sra|srl|xnor|xor)\b/i,punctuation:/[{}[\];(),.:]/}}x8.displayName="vim";x8.aliases=[];function x8(e){e.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}}E8.displayName="visual-basic";E8.aliases=["vb","vba"];function E8(e){e.languages["visual-basic"]={comment:{pattern:/(?:[']|REM\b)(?:[^\r\n_]|_(?:\r\n?|\n)?)*/i,inside:{keyword:/^REM/i}},directive:{pattern:/#(?:Const|Else|ElseIf|End|ExternalChecksum|ExternalSource|If|Region)(?:\b_[ \t]*(?:\r\n?|\n)|.)+/i,alias:"property",greedy:!0},string:{pattern:/\$?["](?:["]{2}|[^"])*["]C?/i,greedy:!0},date:{pattern:/#[ \t]*(?:\d+([/-])\d+\1\d+(?:[ \t]+(?:\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?))?|\d+[ \t]*(?:AM|PM)|\d+:\d+(?::\d+)?(?:[ \t]*(?:AM|PM))?)[ \t]*#/i,alias:"number"},number:/(?:(?:\b\d+(?:\.\d+)?|\.\d+)(?:E[+-]?\d+)?|&[HO][\dA-F]+)(?:[FRD]|U?[ILS])?/i,boolean:/\b(?:False|Nothing|True)\b/i,keyword:/\b(?:AddHandler|AddressOf|Alias|And(?:Also)?|As|Boolean|ByRef|Byte|ByVal|Call|Case|Catch|C(?:Bool|Byte|Char|Date|Dbl|Dec|Int|Lng|Obj|SByte|Short|Sng|Str|Type|UInt|ULng|UShort)|Char|Class|Const|Continue|Currency|Date|Decimal|Declare|Default|Delegate|Dim|DirectCast|Do|Double|Each|Else(?:If)?|End(?:If)?|Enum|Erase|Error|Event|Exit|Finally|For|Friend|Function|Get(?:Type|XMLNamespace)?|Global|GoSub|GoTo|Handles|If|Implements|Imports|In|Inherits|Integer|Interface|Is|IsNot|Let|Lib|Like|Long|Loop|Me|Mod|Module|Must(?:Inherit|Override)|My(?:Base|Class)|Namespace|Narrowing|New|Next|Not(?:Inheritable|Overridable)?|Object|Of|On|Operator|Option(?:al)?|Or(?:Else)?|Out|Overloads|Overridable|Overrides|ParamArray|Partial|Private|Property|Protected|Public|RaiseEvent|ReadOnly|ReDim|RemoveHandler|Resume|Return|SByte|Select|Set|Shadows|Shared|short|Single|Static|Step|Stop|String|Structure|Sub|SyncLock|Then|Throw|To|Try|TryCast|Type|TypeOf|U(?:Integer|Long|Short)|Until|Using|Variant|Wend|When|While|Widening|With(?:Events)?|WriteOnly|Xor)\b/i,operator:/[+\-*/\\^<=>&#@$%!]|\b_(?=[ \t]*[\r\n])/,punctuation:/[{}().,:?]/},e.languages.vb=e.languages["visual-basic"],e.languages.vba=e.languages["visual-basic"]}w8.displayName="warpscript";w8.aliases=[];function w8(e){e.languages.warpscript={comment:/#.*|\/\/.*|\/\*[\s\S]*?\*\//,string:{pattern:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'|<'(?:[^\\']|'(?!>)|\\.)*'>/,greedy:!0},variable:/\$\S+/,macro:{pattern:/@\S+/,alias:"property"},keyword:/\b(?:BREAK|CHECKMACRO|CONTINUE|CUDF|DEFINED|DEFINEDMACRO|EVAL|FAIL|FOR|FOREACH|FORSTEP|IFT|IFTE|MSGFAIL|NRETURN|RETHROW|RETURN|SWITCH|TRY|UDF|UNTIL|WHILE)\b/,number:/[+-]?\b(?:NaN|Infinity|\d+(?:\.\d*)?(?:[Ee][+-]?\d+)?|0x[\da-fA-F]+|0b[01]+)\b/,boolean:/\b(?:F|T|false|true)\b/,punctuation:/<%|%>|[{}[\]()]/,operator:/==|&&?|\|\|?|\*\*?|>>>?|<<|[<>!~]=?|[-/%^]|\+!?|\b(?:AND|NOT|OR)\b/}}S8.displayName="wasm";S8.aliases=[];function S8(e){e.languages.wasm={comment:[/\(;[\s\S]*?;\)/,{pattern:/;;.*/,greedy:!0}],string:{pattern:/"(?:\\[\s\S]|[^"\\])*"/,greedy:!0},keyword:[{pattern:/\b(?:align|offset)=/,inside:{operator:/=/}},{pattern:/\b(?:(?:f32|f64|i32|i64)(?:\.(?:abs|add|and|ceil|clz|const|convert_[su]\/i(?:32|64)|copysign|ctz|demote\/f64|div(?:_[su])?|eqz?|extend_[su]\/i32|floor|ge(?:_[su])?|gt(?:_[su])?|le(?:_[su])?|load(?:(?:8|16|32)_[su])?|lt(?:_[su])?|max|min|mul|neg?|nearest|or|popcnt|promote\/f32|reinterpret\/[fi](?:32|64)|rem_[su]|rot[lr]|shl|shr_[su]|sqrt|store(?:8|16|32)?|sub|trunc(?:_[su]\/f(?:32|64))?|wrap\/i64|xor))?|memory\.(?:grow|size))\b/,inside:{punctuation:/\./}},/\b(?:anyfunc|block|br(?:_if|_table)?|call(?:_indirect)?|data|drop|elem|else|end|export|func|get_(?:global|local)|global|if|import|local|loop|memory|module|mut|nop|offset|param|result|return|select|set_(?:global|local)|start|table|tee_local|then|type|unreachable)\b/],variable:/\$[\w!#$%&'*+\-./:<=>?@\\^`|~]+/,number:/[+-]?\b(?:\d(?:_?\d)*(?:\.\d(?:_?\d)*)?(?:[eE][+-]?\d(?:_?\d)*)?|0x[\da-fA-F](?:_?[\da-fA-F])*(?:\.[\da-fA-F](?:_?[\da-fA-D])*)?(?:[pP][+-]?\d(?:_?\d)*)?)\b|\binf\b|\bnan(?::0x[\da-fA-F](?:_?[\da-fA-D])*)?\b/,punctuation:/[()]/}}T8.displayName="web-idl";T8.aliases=["webidl"];function T8(e){(function(t){var n=/(?:\B-|\b_|\b)[A-Za-z][\w-]*(?![\w-])/.source,r="(?:"+/\b(?:unsigned\s+)?long\s+long(?![\w-])/.source+"|"+/\b(?:unrestricted|unsigned)\s+[a-z]+(?![\w-])/.source+"|"+/(?!(?:unrestricted|unsigned)\b)/.source+n+/(?:\s*<(?:[^<>]|<[^<>]*>)*>)?/.source+")"+/(?:\s*\?)?/.source,a={};t.languages["web-idl"]={comment:{pattern:/\/\/.*|\/\*[\s\S]*?\*\//,greedy:!0},string:{pattern:/"[^"]*"/,greedy:!0},namespace:{pattern:RegExp(/(\bnamespace\s+)/.source+n),lookbehind:!0},"class-name":[{pattern:/(^|[^\w-])(?:iterable|maplike|setlike)\s*<(?:[^<>]|<[^<>]*>)*>/,lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:attribute|const|deleter|getter|optional|setter)\s+)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp("("+/\bcallback\s+/.source+n+/\s*=\s*/.source+")"+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\btypedef\b\s*)/.source+r),lookbehind:!0,inside:a},{pattern:RegExp(/(\b(?:callback|dictionary|enum|interface(?:\s+mixin)?)\s+)(?!(?:interface|mixin)\b)/.source+n),lookbehind:!0},{pattern:RegExp(/(:\s*)/.source+n),lookbehind:!0},RegExp(n+/(?=\s+(?:implements|includes)\b)/.source),{pattern:RegExp(/(\b(?:implements|includes)\s+)/.source+n),lookbehind:!0},{pattern:RegExp(r+"(?="+/\s*(?:\.{3}\s*)?/.source+n+/\s*[(),;=]/.source+")"),inside:a}],builtin:/\b(?:ArrayBuffer|BigInt64Array|BigUint64Array|ByteString|DOMString|DataView|Float32Array|Float64Array|FrozenArray|Int16Array|Int32Array|Int8Array|ObservableArray|Promise|USVString|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray)\b/,keyword:[/\b(?:async|attribute|callback|const|constructor|deleter|dictionary|enum|getter|implements|includes|inherit|interface|mixin|namespace|null|optional|or|partial|readonly|required|setter|static|stringifier|typedef|unrestricted)\b/,/\b(?:any|bigint|boolean|byte|double|float|iterable|long|maplike|object|octet|record|sequence|setlike|short|symbol|undefined|unsigned|void)\b/],boolean:/\b(?:false|true)\b/,number:{pattern:/(^|[^\w-])-?(?:0x[0-9a-f]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|NaN|Infinity)(?![\w-])/i,lookbehind:!0},operator:/\.{3}|[=:?<>-]/,punctuation:/[(){}[\].,;]/};for(var l in t.languages["web-idl"])l!=="class-name"&&(a[l]=t.languages["web-idl"][l]);t.languages.webidl=t.languages["web-idl"]})(e)}C8.displayName="wgsl";C8.aliases=[];function C8(e){e.languages.wgsl={comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"builtin-attribute":{pattern:/(@)builtin\(.*?\)/,lookbehind:!0,inside:{attribute:{pattern:/^builtin/,alias:"attr-name"},punctuation:/[(),]/,"built-in-values":{pattern:/\b(?:frag_depth|front_facing|global_invocation_id|instance_index|local_invocation_id|local_invocation_index|num_workgroups|position|sample_index|sample_mask|vertex_index|workgroup_id)\b/,alias:"attr-value"}}},attributes:{pattern:/(@)(?:align|binding|compute|const|fragment|group|id|interpolate|invariant|location|size|vertex|workgroup_size)/i,lookbehind:!0,alias:"attr-name"},functions:{pattern:/\b(fn\s+)[_a-zA-Z]\w*(?=[(<])/,lookbehind:!0,alias:"function"},keyword:/\b(?:bitcast|break|case|const|continue|continuing|default|discard|else|enable|fallthrough|fn|for|function|if|let|loop|private|return|storage|struct|switch|type|uniform|var|while|workgroup)\b/,builtin:/\b(?:abs|acos|acosh|all|any|array|asin|asinh|atan|atan2|atanh|atomic|atomicAdd|atomicAnd|atomicCompareExchangeWeak|atomicExchange|atomicLoad|atomicMax|atomicMin|atomicOr|atomicStore|atomicSub|atomicXor|bool|ceil|clamp|cos|cosh|countLeadingZeros|countOneBits|countTrailingZeros|cross|degrees|determinant|distance|dot|dpdx|dpdxCoarse|dpdxFine|dpdy|dpdyCoarse|dpdyFine|exp|exp2|extractBits|f32|f64|faceForward|firstLeadingBit|floor|fma|fract|frexp|fwidth|fwidthCoarse|fwidthFine|i32|i64|insertBits|inverseSqrt|ldexp|length|log|log2|mat[2-4]x[2-4]|max|min|mix|modf|normalize|override|pack2x16float|pack2x16snorm|pack2x16unorm|pack4x8snorm|pack4x8unorm|pow|ptr|quantizeToF16|radians|reflect|refract|reverseBits|round|sampler|sampler_comparison|select|shiftLeft|shiftRight|sign|sin|sinh|smoothstep|sqrt|staticAssert|step|storageBarrier|tan|tanh|textureDimensions|textureGather|textureGatherCompare|textureLoad|textureNumLayers|textureNumLevels|textureNumSamples|textureSample|textureSampleBias|textureSampleCompare|textureSampleCompareLevel|textureSampleGrad|textureSampleLevel|textureStore|texture_1d|texture_2d|texture_2d_array|texture_3d|texture_cube|texture_cube_array|texture_depth_2d|texture_depth_2d_array|texture_depth_cube|texture_depth_cube_array|texture_depth_multisampled_2d|texture_multisampled_2d|texture_storage_1d|texture_storage_2d|texture_storage_2d_array|texture_storage_3d|transpose|trunc|u32|u64|unpack2x16float|unpack2x16snorm|unpack2x16unorm|unpack4x8snorm|unpack4x8unorm|vec[2-4]|workgroupBarrier)\b/,"function-calls":{pattern:/\b[_a-z]\w*(?=\()/i,alias:"function"},"class-name":/\b(?:[A-Z][A-Za-z0-9]*)\b/,"bool-literal":{pattern:/\b(?:false|true)\b/,alias:"boolean"},"hex-int-literal":{pattern:/\b0[xX][0-9a-fA-F]+[iu]?\b(?![.pP])/,alias:"number"},"hex-float-literal":{pattern:/\b0[xX][0-9a-fA-F]*(?:\.[0-9a-fA-F]*)?(?:[pP][+-]?\d+[fh]?)?/,alias:"number"},"decimal-float-literal":[{pattern:/\d*\.\d+(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+\.\d*(?:[eE](?:\+|-)?\d+)?[fh]?/,alias:"number"},{pattern:/\d+[eE](?:\+|-)?\d+[fh]?/,alias:"number"},{pattern:/\b\d+[fh]\b/,alias:"number"}],"int-literal":{pattern:/\b\d+[iu]?\b/,alias:"number"},operator:[{pattern:/(?:\^|~|\|(?!\|)|\|\||&&|<<|>>|!)(?!=)/},{pattern:/&(?![&=])/},{pattern:/(?:\+=|-=|\*=|\/=|%=|\^=|&=|\|=|<<=|>>=)/},{pattern:/(^|[^<>=!])=(?![=>])/,lookbehind:!0},{pattern:/(?:==|!=|<=|\+\+|--|(^|[^=])>=)/,lookbehind:!0},{pattern:/(?:(?:[+%]|(?:\*(?!\w)))(?!=))|(?:-(?!>))|(?:\/(?!\/))/},{pattern:/->/}],punctuation:/[@(){}[\],;<>:.]/}}A8.displayName="wiki";A8.aliases=[];function A8(e){e.register(nc),e.languages.wiki=e.languages.extend("markup",{"block-comment":{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:!0,alias:"comment"},heading:{pattern:/^(=+)[^=\r\n].*?\1/m,inside:{punctuation:/^=+|=+$/,important:/.+/}},emphasis:{pattern:/('{2,5}).+?\1/,inside:{"bold-italic":{pattern:/(''''').+?(?=\1)/,lookbehind:!0,alias:["bold","italic"]},bold:{pattern:/(''')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},italic:{pattern:/('')[^'](?:.*?[^'])?(?=\1)/,lookbehind:!0},punctuation:/^''+|''+$/}},hr:{pattern:/^-{4,}/m,alias:"punctuation"},url:[/ISBN +(?:97[89][ -]?)?(?:\d[ -]?){9}[\dx]\b|(?:PMID|RFC) +\d+/i,/\[\[.+?\]\]|\[.+?\]/],variable:[/__[A-Z]+__/,/\{{3}.+?\}{3}/,/\{\{.+?\}\}/],symbol:[/^#redirect/im,/~{3,5}/],"table-tag":{pattern:/((?:^|[|!])[|!])[^|\r\n]+\|(?!\|)/m,lookbehind:!0,inside:{"table-bar":{pattern:/\|$/,alias:"punctuation"},rest:e.languages.markup.tag.inside}},punctuation:/^(?:\{\||\|\}|\|-|[*#:;!|])|\|\||!!/m}),e.languages.insertBefore("wiki","tag",{nowiki:{pattern:/<(nowiki|pre|source)\b[^>]*>[\s\S]*?<\/\1>/i,inside:{tag:{pattern:/<(?:nowiki|pre|source)\b[^>]*>|<\/(?:nowiki|pre|source)>/i,inside:e.languages.markup.tag.inside}}}})}k8.displayName="wolfram";k8.aliases=["mathematica","nb","wl"];function k8(e){e.languages.wolfram={comment:/\(\*(?:\(\*(?:[^*]|\*(?!\)))*\*\)|(?!\(\*)[\s\S])*?\*\)/,string:{pattern:/"(?:\\.|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:Abs|AbsArg|Accuracy|Block|Do|For|Function|If|Manipulate|Module|Nest|NestList|None|Return|Switch|Table|Which|While)\b/,context:{pattern:/\b\w+`+\w*/,alias:"class-name"},blank:{pattern:/\b\w+_\b/,alias:"regex"},"global-variable":{pattern:/\$\w+/,alias:"variable"},boolean:/\b(?:False|True)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/\/\.|;|=\.|\^=|\^:=|:=|<<|>>|<\||\|>|:>|\|->|->|<-|@@@|@@|@|\/@|=!=|===|==|=|\+|-|\[\/-+%=\]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},e.languages.mathematica=e.languages.wolfram,e.languages.wl=e.languages.wolfram,e.languages.nb=e.languages.wolfram}I8.displayName="wren";I8.aliases=[];function I8(e){e.languages.wren={comment:[{pattern:/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|\/\*(?:[^*/]|\*(?!\/)|\/(?!\*))*\*\/)*\*\/)*\*\//,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],"triple-quoted-string":{pattern:/"""[\s\S]*?"""/,greedy:!0,alias:"string"},"string-literal":null,hashbang:{pattern:/^#!\/.+/,greedy:!0,alias:"comment"},attribute:{pattern:/#!?[ \t\u3000]*\w+/,alias:"keyword"},"class-name":[{pattern:/(\bclass\s+)\w+/,lookbehind:!0},/\b[A-Z][a-z\d_]*\b/],constant:/\b[A-Z][A-Z\d_]*\b/,null:{pattern:/\bnull\b/,alias:"keyword"},keyword:/\b(?:as|break|class|construct|continue|else|for|foreign|if|import|in|is|return|static|super|this|var|while)\b/,boolean:/\b(?:false|true)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/i,function:/\b[a-z_]\w*(?=\s*[({])/i,operator:/<<|>>|[=!<>]=?|&&|\|\||[-+*/%~^&|?:]|\.{2,3}/,punctuation:/[\[\](){}.,;]/},e.languages.wren["string-literal"]={pattern:/(^|[^\\"])"(?:[^\\"%]|\\[\s\S]|%(?!\()|%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\))*"/,lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)%\((?:[^()]|\((?:[^()]|\([^)]*\))*\))*\)/,lookbehind:!0,inside:{expression:{pattern:/^(%\()[\s\S]+(?=\)$)/,lookbehind:!0,inside:e.languages.wren},"interpolation-punctuation":{pattern:/^%\(|\)$/,alias:"punctuation"}}},string:/[\s\S]+/}}}N8.displayName="xeora";N8.aliases=["xeoracube"];function N8(e){e.register(nc),(function(t){t.languages.xeora=t.languages.extend("markup",{constant:{pattern:/\$(?:DomainContents|PageRenderDuration)\$/,inside:{punctuation:{pattern:/\$/}}},variable:{pattern:/\$@?(?:#+|[-+*~=^])?[\w.]+\$/,inside:{punctuation:{pattern:/[$.]/},operator:{pattern:/#+|[-+*~=^@]/}}},"function-inline":{pattern:/\$F:[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\$/,inside:{variable:{pattern:/(?:[,|])@?(?:#+|[-+*~=^])?[\w.]+/,inside:{punctuation:{pattern:/[,.|]/},operator:{pattern:/#+|[-+*~=^@]/}}},punctuation:{pattern:/\$\w:|[$:?.,|]/}},alias:"function"},"function-block":{pattern:/\$XF:\{[-\w.]+\?[-\w.]+(?:,(?:(?:@[-#]*\w+\.[\w+.]\.*)*\|)*(?:(?:[\w+]|[-#*.~^]+[\w+]|=\S)(?:[^$=]|=+[^=])*=*|(?:@[-#]*\w+\.[\w+.]\.*)+(?:(?:[\w+]|[-#*~^][-#*.~^]*[\w+]|=\S)(?:[^$=]|=+[^=])*=*)?)?)?\}:XF\$/,inside:{punctuation:{pattern:/[$:{}?.,|]/}},alias:"function"},"directive-inline":{pattern:/\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\/\w.]+\$/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}}},alias:"function"},"directive-block-open":{pattern:/\$\w+:\{|\$\w(?:#\d+\+?)?(?:\[[-\w.]+\])?:[-\w.]+:\{(?:![A-Z]+)?/,inside:{punctuation:{pattern:/\$(?:\w:|C(?:\[|#\d))?|[:{[\]]/,inside:{tag:{pattern:/#\d/}}},attribute:{pattern:/![A-Z]+$/,inside:{punctuation:{pattern:/!/}},alias:"keyword"}},alias:"function"},"directive-block-separator":{pattern:/\}:[-\w.]+:\{/,inside:{punctuation:{pattern:/[:{}]/}},alias:"function"},"directive-block-close":{pattern:/\}:[-\w.]+\$/,inside:{punctuation:{pattern:/[:{}$]/}},alias:"function"}}),t.languages.insertBefore("inside","punctuation",{variable:t.languages.xeora["function-inline"].inside.variable},t.languages.xeora["function-block"]),t.languages.xeoracube=t.languages.xeora})(e)}R8.displayName="xml-doc";R8.aliases=[];function R8(e){e.register(nc),(function(t){function n(u,i){t.languages[u]&&t.languages.insertBefore(u,"comment",{"doc-comment":i})}var r=t.languages.markup.tag,a={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:r}},l={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:r}};n("csharp",a),n("fsharp",a),n("vbnet",l)})(e)}M8.displayName="xojo";M8.aliases=[];function M8(e){e.languages.xojo={comment:{pattern:/(?:'|\/\/|Rem\b).+/i,greedy:!0},string:{pattern:/"(?:""|[^"])*"/,greedy:!0},number:[/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,/&[bchou][a-z\d]+/i],directive:{pattern:/#(?:Else|ElseIf|Endif|If|Pragma)\b/i,alias:"property"},keyword:/\b(?:AddHandler|App|Array|As(?:signs)?|Auto|Boolean|Break|By(?:Ref|Val)|Byte|Call|Case|Catch|CFStringRef|CGFloat|Class|Color|Const|Continue|CString|Currency|CurrentMethodName|Declare|Delegate|Dim|Do(?:uble|wnTo)?|Each|Else(?:If)?|End|Enumeration|Event|Exception|Exit|Extends|False|Finally|For|Function|Get|GetTypeInfo|Global|GOTO|If|Implements|In|Inherits|Int(?:8|16|32|64|eger|erface)?|Lib|Loop|Me|Module|Next|Nil|Object|Optional|OSType|ParamArray|Private|Property|Protected|PString|Ptr|Raise(?:Event)?|ReDim|RemoveHandler|Return|Select(?:or)?|Self|Set|Shared|Short|Single|Soft|Static|Step|String|Sub|Super|Text|Then|To|True|Try|Ubound|UInt(?:8|16|32|64|eger)?|Until|Using|Var(?:iant)?|Wend|While|WindowPtr|WString)\b/i,operator:/<[=>]?|>=?|[+\-*\/\\^=]|\b(?:AddressOf|And|Ctype|IsA?|Mod|New|Not|Or|WeakAddressOf|Xor)\b/i,punctuation:/[.,;:()]/}}O8.displayName="xquery";O8.aliases=[];function O8(e){e.register(nc),(function(t){t.languages.xquery=t.languages.extend("markup",{"xquery-comment":{pattern:/\(:[\s\S]*?:\)/,greedy:!0,alias:"comment"},string:{pattern:/(["'])(?:\1\1|(?!\1)[\s\S])*\1/,greedy:!0},extension:{pattern:/\(#.+?#\)/,alias:"symbol"},variable:/\$[-\w:]+/,axis:{pattern:/(^|[^-])(?:ancestor(?:-or-self)?|attribute|child|descendant(?:-or-self)?|following(?:-sibling)?|parent|preceding(?:-sibling)?|self)(?=::)/,lookbehind:!0,alias:"operator"},"keyword-operator":{pattern:/(^|[^:-])\b(?:and|castable as|div|eq|except|ge|gt|idiv|instance of|intersect|is|le|lt|mod|ne|or|union)\b(?=$|[^:-])/,lookbehind:!0,alias:"operator"},keyword:{pattern:/(^|[^:-])\b(?:as|ascending|at|base-uri|boundary-space|case|cast as|collation|construction|copy-namespaces|declare|default|descending|else|empty (?:greatest|least)|encoding|every|external|for|function|if|import|in|inherit|lax|let|map|module|namespace|no-inherit|no-preserve|option|order(?: by|ed|ing)?|preserve|return|satisfies|schema|some|stable|strict|strip|then|to|treat as|typeswitch|unordered|validate|variable|version|where|xquery)\b(?=$|[^:-])/,lookbehind:!0},function:/[\w-]+(?::[\w-]+)*(?=\s*\()/,"xquery-element":{pattern:/(element\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"tag"},"xquery-attribute":{pattern:/(attribute\s+)[\w-]+(?::[\w-]+)*/,lookbehind:!0,alias:"attr-name"},builtin:{pattern:/(^|[^:-])\b(?:attribute|comment|document|element|processing-instruction|text|xs:(?:ENTITIES|ENTITY|ID|IDREFS?|NCName|NMTOKENS?|NOTATION|Name|QName|anyAtomicType|anyType|anyURI|base64Binary|boolean|byte|date|dateTime|dayTimeDuration|decimal|double|duration|float|gDay|gMonth|gMonthDay|gYear|gYearMonth|hexBinary|int|integer|language|long|negativeInteger|nonNegativeInteger|nonPositiveInteger|normalizedString|positiveInteger|short|string|time|token|unsigned(?:Byte|Int|Long|Short)|untyped(?:Atomic)?|yearMonthDuration))\b(?=$|[^:-])/,lookbehind:!0},number:/\b\d+(?:\.\d+)?(?:E[+-]?\d+)?/,operator:[/[+*=?|@]|\.\.?|:=|!=|<[=<]?|>[=>]?/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}],punctuation:/[[\](){},;:/]/}),t.languages.xquery.tag.pattern=/<\/?(?!\d)[^\s>\/=$<%]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+))?)*\s*\/?>/,t.languages.xquery.tag.inside["attr-value"].pattern=/=(?:("|')(?:\\[\s\S]|\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}|(?!\1)[^\\])*\1|[^\s'">=]+)/,t.languages.xquery.tag.inside["attr-value"].inside.punctuation=/^="|"$/,t.languages.xquery.tag.inside["attr-value"].inside.expression={pattern:/\{(?!\{)(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])+\}/,inside:t.languages.xquery,alias:"language-xquery"};var n=function(a){return typeof a=="string"?a:typeof a.content=="string"?a.content:a.content.map(n).join("")},r=function(a){for(var l=[],u=0;u<a.length;u++){var i=a[u],m=!1;if(typeof i!="string"&&(i.type==="tag"&&i.content[0]&&i.content[0].type==="tag"?i.content[0].content[0].content==="</"?l.length>0&&l[l.length-1].tagName===n(i.content[0].content[1])&&l.pop():i.content[i.content.length-1].content==="/>"||l.push({tagName:n(i.content[0].content[1]),openedBraces:0}):l.length>0&&i.type==="punctuation"&&i.content==="{"&&(!a[u+1]||a[u+1].type!=="punctuation"||a[u+1].content!=="{")&&(!a[u-1]||a[u-1].type!=="plain-text"||a[u-1].content!=="{")?l[l.length-1].openedBraces++:l.length>0&&l[l.length-1].openedBraces>0&&i.type==="punctuation"&&i.content==="}"?l[l.length-1].openedBraces--:i.type!=="comment"&&(m=!0)),(m||typeof i=="string")&&l.length>0&&l[l.length-1].openedBraces===0){var b=n(i);u<a.length-1&&(typeof a[u+1]=="string"||a[u+1].type==="plain-text")&&(b+=n(a[u+1]),a.splice(u+1,1)),u>0&&(typeof a[u-1]=="string"||a[u-1].type==="plain-text")&&(b=n(a[u-1])+b,a.splice(u-1,1),u--),/^\s+$/.test(b)?a[u]=b:a[u]=new t.Token("plain-text",b,null,b)}i.content&&typeof i.content!="string"&&r(i.content)}};t.hooks.add("after-tokenize",function(a){a.language==="xquery"&&r(a.tokens)})})(e)}D8.displayName="yang";D8.aliases=[];function D8(e){e.languages.yang={comment:/\/\*[\s\S]*?\*\/|\/\/.*/,string:{pattern:/"(?:[^\\"]|\\.)*"|'[^']*'/,greedy:!0},keyword:{pattern:/(^|[{};\r\n][ \t]*)[a-z_][\w.-]*/i,lookbehind:!0},namespace:{pattern:/(\s)[a-z_][\w.-]*(?=:)/i,lookbehind:!0},boolean:/\b(?:false|true)\b/,operator:/\+/,punctuation:/[{};:]/}}L8.displayName="zig";L8.aliases=[];function L8(e){(function(t){function n(b){return function(){return b}}var r=/\b(?:align|allowzero|and|anyframe|anytype|asm|async|await|break|cancel|catch|comptime|const|continue|defer|else|enum|errdefer|error|export|extern|fn|for|if|inline|linksection|nakedcc|noalias|nosuspend|null|or|orelse|packed|promise|pub|resume|return|stdcallcc|struct|suspend|switch|test|threadlocal|try|undefined|union|unreachable|usingnamespace|var|volatile|while)\b/,a="\\b(?!"+r.source+")(?!\\d)\\w+\\b",l=/align\s*\((?:[^()]|\([^()]*\))*\)/.source,u=/(?:\?|\bpromise->|(?:\[[^[\]]*\]|\*(?!\*)|\*\*)(?:\s*<ALIGN>|\s*const\b|\s*volatile\b|\s*allowzero\b)*)/.source.replace(/<ALIGN>/g,n(l)),i=/(?:\bpromise\b|(?:\berror\.)?<ID>(?:\.<ID>)*(?!\s+<ID>))/.source.replace(/<ID>/g,n(a)),m="(?!\\s)(?:!?\\s*(?:"+u+"\\s*)*"+i+")+";t.languages.zig={comment:[{pattern:/\/\/[/!].*/,alias:"doc-comment"},/\/{2}.*/],string:[{pattern:/(^|[^\\@])c?"(?:[^"\\\r\n]|\\.)*"/,lookbehind:!0,greedy:!0},{pattern:/([\r\n])([ \t]+c?\\{2}).*(?:(?:\r\n?|\n)\2.*)*/,lookbehind:!0,greedy:!0}],char:{pattern:/(^|[^\\])'(?:[^'\\\r\n]|[\uD800-\uDFFF]{2}|\\(?:.|x[a-fA-F\d]{2}|u\{[a-fA-F\d]{1,6}\}))'/,lookbehind:!0,greedy:!0},builtin:/\B@(?!\d)\w+(?=\s*\()/,label:{pattern:/(\b(?:break|continue)\s*:\s*)\w+\b|\b(?!\d)\w+\b(?=\s*:\s*(?:\{|while\b))/,lookbehind:!0},"class-name":[/\b(?!\d)\w+(?=\s*=\s*(?:(?:extern|packed)\s+)?(?:enum|struct|union)\s*[({])/,{pattern:RegExp(/(:\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?[=;,)])|<TYPE>(?=\s*(?:<ALIGN>\s*)?\{)/.source.replace(/<TYPE>/g,n(m)).replace(/<ALIGN>/g,n(l))),lookbehind:!0,inside:null},{pattern:RegExp(/(\)\s*)<TYPE>(?=\s*(?:<ALIGN>\s*)?;)/.source.replace(/<TYPE>/g,n(m)).replace(/<ALIGN>/g,n(l))),lookbehind:!0,inside:null}],"builtin-type":{pattern:/\b(?:anyerror|bool|c_u?(?:int|long|longlong|short)|c_longdouble|c_void|comptime_(?:float|int)|f(?:16|32|64|128)|[iu](?:8|16|32|64|128|size)|noreturn|type|void)\b/,alias:"keyword"},keyword:r,function:/\b(?!\d)\w+(?=\s*\()/,number:/\b(?:0b[01]+|0o[0-7]+|0x[a-fA-F\d]+(?:\.[a-fA-F\d]*)?(?:[pP][+-]?[a-fA-F\d]+)?|\d+(?:\.\d*)?(?:[eE][+-]?\d+)?)\b/,boolean:/\b(?:false|true)\b/,operator:/\.[*?]|\.{2,3}|[-=]>|\*\*|\+\+|\|\||(?:<<|>>|[-+*]%|[-+*/%^&|<>!=])=?|[?~]/,punctuation:/[.:,;(){}[\]]/},t.languages.zig["class-name"].forEach(function(b){b.inside===null&&(b.inside=t.languages.zig)})})(e)}nt.register(nc);nt.register(Yb);nt.register(si);nt.register(KI);nt.register(Fc);nt.register(QL);nt.register(JL);nt.register(eP);nt.register(tP);nt.register(nP);nt.register(rP);nt.register(aP);nt.register(iP);nt.register(mw);nt.register(oP);nt.register(sP);nt.register(lP);nt.register(uP);nt.register(gg);nt.register(z1);nt.register(YI);nt.register(cP);nt.register(dP);nt.register(ET);nt.register(ST);nt.register(tN);nt.register(fP);nt.register(hP);nt.register(U1);nt.register(pP);nt.register(mP);nt.register(gP);nt.register(yP);nt.register(vP);nt.register(bP);nt.register(_P);nt.register(xP);nt.register(CT);nt.register(EP);nt.register(wP);nt.register(SP);nt.register(TP);nt.register(CP);nt.register(AP);nt.register(kP);nt.register(IP);nt.register(NP);nt.register(RP);nt.register(MP);nt.register(OP);nt.register(DP);nt.register(LP);nt.register(PP);nt.register(FP);nt.register(BP);nt.register($P);nt.register(jP);nt.register(zP);nt.register(UP);nt.register(GP);nt.register(HP);nt.register(VP);nt.register(qP);nt.register(V1);nt.register(YP);nt.register(WP);nt.register(ZP);nt.register(XP);nt.register(KP);nt.register(QP);nt.register(JP);nt.register(e4);nt.register(t4);nt.register(n4);nt.register(WI);nt.register(Bc);nt.register(r4);nt.register(a4);nt.register(i4);nt.register(o4);nt.register(s4);nt.register(l4);nt.register(u4);nt.register(c4);nt.register(d4);nt.register(f4);nt.register(wT);nt.register(h4);nt.register(p4);nt.register(m4);nt.register(g4);nt.register(y4);nt.register(v4);nt.register(b4);nt.register(_4);nt.register(x4);nt.register(E4);nt.register(w4);nt.register(S4);nt.register(T4);nt.register(C4);nt.register(A4);nt.register(k4);nt.register(I4);nt.register(N4);nt.register(R4);nt.register(M4);nt.register(O4);nt.register(D4);nt.register(ZI);nt.register(L4);nt.register(P4);nt.register(F4);nt.register(B4);nt.register(JI);nt.register(sN);nt.register($4);nt.register(j4);nt.register(z4);nt.register(IT);nt.register(U4);nt.register(G4);nt.register(H4);nt.register(V4);nt.register(q4);nt.register(Y4);nt.register(pw);nt.register(W4);nt.register(Z4);nt.register(X4);nt.register(K4);nt.register(Q4);nt.register(J4);nt.register(e6);nt.register(t6);nt.register(XI);nt.register(n6);nt.register(r6);nt.register(G1);nt.register(H1);nt.register(bw);nt.register(a6);nt.register(i6);nt.register(o6);nt.register(s6);nt.register(l6);nt.register(u6);nt.register(c6);nt.register(gw);nt.register(d6);nt.register(f6);nt.register(h6);nt.register(p6);nt.register(m6);nt.register(g6);nt.register(y6);nt.register(v6);nt.register(b6);nt.register(QI);nt.register(_6);nt.register(x6);nt.register(E6);nt.register(w6);nt.register(NT);nt.register(S6);nt.register(T6);nt.register(C6);nt.register(A6);nt.register(k6);nt.register(I6);nt.register(N6);nt.register(R6);nt.register(eN);nt.register(uN);nt.register(M6);nt.register(O6);nt.register(D6);nt.register(L6);nt.register(P6);nt.register(F6);nt.register(B6);nt.register($6);nt.register(j6);nt.register(z6);nt.register(U6);nt.register(G6);nt.register(H6);nt.register(V6);nt.register(q6);nt.register(Y6);nt.register(W6);nt.register(Z6);nt.register(X6);nt.register(nN);nt.register(K6);nt.register(Q6);nt.register(J6);nt.register(e5);nt.register(t5);nt.register(n5);nt.register(r5);nt.register(a5);nt.register(i5);nt.register(o5);nt.register(s5);nt.register(l5);nt.register(rN);nt.register(u5);nt.register(c5);nt.register(d5);nt.register(f5);nt.register(h5);nt.register(p5);nt.register(m5);nt.register(g5);nt.register(y5);nt.register(v5);nt.register(b5);nt.register(_5);nt.register(x5);nt.register(E5);nt.register(w5);nt.register(S5);nt.register(T5);nt.register(C5);nt.register(TT);nt.register(A5);nt.register(k5);nt.register(I5);nt.register(N5);nt.register(aN);nt.register(R5);nt.register(M5);nt.register(cN);nt.register(O5);nt.register(D5);nt.register(L5);nt.register(P5);nt.register(F5);nt.register(B5);nt.register($5);nt.register(j5);nt.register(z5);nt.register(iN);nt.register(U5);nt.register(oN);nt.register(G5);nt.register(H5);nt.register(V5);nt.register(q5);nt.register(Y5);nt.register(W5);nt.register(Z5);nt.register(X5);nt.register(dN);nt.register(K5);nt.register(Q5);nt.register(J5);nt.register(e8);nt.register(t8);nt.register(n8);nt.register(r8);nt.register(a8);nt.register(lN);nt.register(i8);nt.register(RT);nt.register(o8);nt.register(AT);nt.register(s8);nt.register(l8);nt.register(u8);nt.register(c8);nt.register(d8);nt.register(f8);nt.register(h8);nt.register(p8);nt.register(m8);nt.register(g8);nt.register(y8);nt.register(v8);nt.register(b8);nt.register(_8);nt.register(x8);nt.register(E8);nt.register(w8);nt.register(S8);nt.register(T8);nt.register(C8);nt.register(A8);nt.register(k8);nt.register(I8);nt.register(N8);nt.register(R8);nt.register(M8);nt.register(O8);nt.register(D8);nt.register(L8);function O3(){O3=function(a,l){return new n(a,void 0,l)};var e=RegExp.prototype,t=new WeakMap;function n(a,l,u){var i=new RegExp(a,l);return t.set(i,u||t.get(a)),Sk(i,n.prototype)}function r(a,l){var u=t.get(l);return Object.keys(u).reduce(function(i,m){var b=u[m];if(typeof b=="number")i[m]=a[b];else{for(var _=0;a[b[_]]===void 0&&_+1<b.length;)_++;i[m]=a[b[_]]}return i},Object.create(null))}return(function(a,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(l&&l.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),l&&Sk(a,l)})(n,RegExp),n.prototype.exec=function(a){var l=e.exec.call(this,a);if(l){l.groups=r(l,this);var u=l.indices;u&&(u.groups=r(u,this))}return l},n.prototype[Symbol.replace]=function(a,l){if(typeof l=="string"){var u=t.get(this);return e[Symbol.replace].call(this,a,l.replace(/\$<([^>]+)>/g,function(m,b){var _=u[b];return"$"+(Array.isArray(_)?_.join("$"):_)}))}if(typeof l=="function"){var i=this;return e[Symbol.replace].call(this,a,function(){var m=arguments;return typeof m[m.length-1]!="object"&&(m=[].slice.call(m)).push(r(m,i)),l.apply(this,m)})}return e[Symbol.replace].call(this,a,l)},O3.apply(this,arguments)}function Sk(e,t){return Sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Sk(e,t)}function Vj(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eM(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(function(a,l){if(a){if(typeof a=="string")return Vj(a,l);var u=Object.prototype.toString.call(a).slice(8,-1);return u==="Object"&&a.constructor&&(u=a.constructor.name),u==="Map"||u==="Set"?Array.from(a):u==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)?Vj(a,l):void 0}})(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var wxe=function(e){return function(t){return t===void 0&&(t={}),(function(r,a){if(a&&!r.registered(a))throw new Error('The default language "'+a+'" is not registered with refractor.')})(e,t.defaultLanguage),function(r){L1e(r,"element",n)};function n(r,a,l){var u,i;if(l&&l.tagName==="pre"&&r.tagName==="code"){var m=(r==null||(u=r.data)==null?void 0:u.meta)||(r==null||(i=r.properties)==null?void 0:i.metastring)||"";r.properties.className?typeof r.properties.className=="boolean"?r.properties.className=[]:Array.isArray(r.properties.className)||(r.properties.className=[r.properties.className]):r.properties.className=[];var b,_,w=(function(ie){for(var ue,oe=eM(ie.properties.className);!(ue=oe()).done;){var K=ue.value;if(K.slice(0,9)==="language-")return K.slice(9).toLowerCase()}return null})(r);if(!w&&t.defaultLanguage&&r.properties.className.push("language-"+(w=t.defaultLanguage)),r.properties.className.push("code-highlight"),w)try{var M,P;P=(M=w)!=null&&M.includes("diff-")?w.split("-")[1]:w,b=e.highlight($C(r),P),l.properties.className=(l.properties.className||[]).concat("language-"+P)}catch(ie){if(!t.ignoreMissing||!/Unknown language/.test(ie.message))throw ie;b=r}else b=r;b.children=(_=1,function ie(ue){return ue.reduce(function(oe,K){if(K.type==="text"){var se=K.value,pe=(se.match(/\n/g)||"").length;if(pe===0)K.position={start:{line:_,column:1},end:{line:_,column:1}},oe.push(K);else for(var ve,Te=se.split(`
`),Me=eM(Te.entries());!(ve=Me()).done;){var xe=ve.value,Se=xe[0],he=xe[1];oe.push({type:"text",value:Se===Te.length-1?he:he+`
`,position:{start:{line:_+Se,column:1},end:{line:_+Se,column:1}}})}return _+=pe,oe}if(Object.prototype.hasOwnProperty.call(K,"children")){var we=_;return K.children=ie(K.children),oe.push(K),K.position={start:{line:we,column:1},end:{line:_,column:1}},oe}return oe.push(K),oe},[])})(b.children),b.position=b.children.length>0?{start:{line:b.children[0].position.start.line,column:0},end:{line:b.children[b.children.length-1].position.end.line,column:0}}:{start:{line:0,column:0},end:{line:0,column:0}};for(var j,G=(function(ie){var ue=/{([\d,-]+)}/,oe=ie.split(",").map(function(pe){return pe.trim()}).join();if(ue.test(oe)){var K=ue.exec(oe)[1],se=U1e(K);return function(pe){return se.includes(pe+1)}}return function(){return!1}})(m),z=(function(ie){var ue=O3(/showLineNumbers=(\d+)/i,{lines:1});if(ue.test(ie)){var oe=ue.exec(ie);return Number(oe.groups.lines)}return 1})(m),q=(function(ie){for(var ue=new Array(ie),oe=0;oe<ie;oe++)ue[oe]={type:"element",tagName:"span",properties:{className:[]},children:[]};return ue})(b.position.end.line),Y=["showlinenumbers=false",'showlinenumbers="false"',"showlinenumbers={false}"],J=function(){var ie,ue,oe=j.value,K=oe[0],se=oe[1];se.properties.className=["code-line"];var pe=B1e(b,function(ve){return ve.position.start.line<=K+1&&ve.position.end.line>=K+1});se.children=pe.children,!m.toLowerCase().includes("showLineNumbers".toLowerCase())&&!t.showLineNumbers||Y.some(function(ve){return m.toLowerCase().includes(ve)})||(se.properties.line=[(K+z).toString()],se.properties.className.push("line-number")),G(K)&&se.properties.className.push("highlight-line"),(w==="diff"||(ie=w)!=null&&ie.includes("diff-"))&&$C(se).substring(0,1)==="-"?se.properties.className.push("deleted"):(w==="diff"||(ue=w)!=null&&ue.includes("diff-"))&&$C(se).substring(0,1)==="+"&&se.properties.className.push("inserted")},ne=eM(q.entries());!(j=ne()).done;)J();q.length>0&&$C(q[q.length-1]).trim()===""&&q.pop(),r.children=q}}}},Sxe=wxe(nt),Txe=["rehypePlugins"];const Cxe=Ve.forwardRef((e,t)=>{var{rehypePlugins:n=[[Sxe,{ignoreMissing:!0}]]}=e,r=zq(e,Txe);return S.jsx(T1e,_b({},r,{rehypePlugins:n,ref:t}))}),Axe=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]),$.useEffect(()=>{t==null&&n(!1)},[]);const r=()=>t||"",a=()=>{switch(e.structure?.codeLang){case"js":return"js";case"css":return"css";default:return"text/plain"}};return S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(Cxe,{value:r(),"data-color-mode":"light",language:a(),placeholder:e.structure.title??"",onChange:l=>{e.onlyShow||!e.structure.editable||n(l.target.value)},padding:15}),S.jsx(La,{...e})]})};var tM,qj;function kxe(){return qj||(qj=1,tM=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(r,a,l){n.o(r,a)||Object.defineProperty(r,a,{enumerable:!0,get:l})},n.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},n.t=function(r,a){if(1&a&&(r=n(r)),8&a||4&a&&typeof r=="object"&&r&&r.__esModule)return r;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:r}),2&a&&typeof r!="string")for(var u in r)n.d(l,u,(function(i){return r[i]}).bind(null,u));return l},n.n=function(r){var a=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(a,"a",a),a},n.o=function(r,a){return Object.prototype.hasOwnProperty.call(r,a)},n.p="",n(n.s=9)})([function(e,t){e.exports=aw()},function(e,t,n){var r;(function(){var a={}.hasOwnProperty;function l(){for(var u=[],i=0;i<arguments.length;i++){var m=arguments[i];if(m){var b=typeof m;if(b==="string"||b==="number")u.push(m);else if(Array.isArray(m)&&m.length){var _=l.apply(null,m);_&&u.push(_)}else if(b==="object")for(var w in m)a.call(m,w)&&m[w]&&u.push(w)}}return u.join(" ")}e.exports?(l.default=l,e.exports=l):(r=(function(){return l}).apply(t,[]))===void 0||(e.exports=r)})()},function(e,t,n){(function(r){var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,i=/^0o[0-7]+$/i,m=parseInt,b=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,w=b||_||Function("return this")(),M=Object.prototype.toString,P=w.Symbol,j=P?P.prototype:void 0,G=j?j.toString:void 0;function z(ne){if(typeof ne=="string")return ne;if(Y(ne))return G?G.call(ne):"";var ie=ne+"";return ie=="0"&&1/ne==-1/0?"-0":ie}function q(ne){var ie=typeof ne;return!!ne&&(ie=="object"||ie=="function")}function Y(ne){return typeof ne=="symbol"||(function(ie){return!!ie&&typeof ie=="object"})(ne)&&M.call(ne)=="[object Symbol]"}function J(ne){return ne?(ne=(function(ie){if(typeof ie=="number")return ie;if(Y(ie))return NaN;if(q(ie)){var ue=typeof ie.valueOf=="function"?ie.valueOf():ie;ie=q(ue)?ue+"":ue}if(typeof ie!="string")return ie===0?ie:+ie;ie=ie.replace(a,"");var oe=u.test(ie);return oe||i.test(ie)?m(ie.slice(2),oe?2:8):l.test(ie)?NaN:+ie})(ne))===1/0||ne===-1/0?17976931348623157e292*(ne<0?-1:1):ne==ne?ne:0:ne===0?ne:0}e.exports=function(ne,ie,ue){var oe,K,se,pe;return ne=(oe=ne)==null?"":z(oe),K=(function(ve){var Te=J(ve),Me=Te%1;return Te==Te?Me?Te-Me:Te:0})(ue),se=0,pe=ne.length,K==K&&(pe!==void 0&&(K=K<=pe?K:pe),se!==void 0&&(K=K>=se?K:se)),ue=K,ie=z(ie),ne.slice(ue,ue+ie.length)==ie}}).call(this,n(3))},function(e,t){var n;n=(function(){return this})();try{n=n||new Function("return this")()}catch{typeof window=="object"&&(n=window)}e.exports=n},function(e,t,n){(function(r){var a=/^\[object .+?Constructor\]$/,l=typeof r=="object"&&r&&r.Object===Object&&r,u=typeof self=="object"&&self&&self.Object===Object&&self,i=l||u||Function("return this")(),m,b=Array.prototype,_=Function.prototype,w=Object.prototype,M=i["__core-js_shared__"],P=(m=/[^.]+$/.exec(M&&M.keys&&M.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",j=_.toString,G=w.hasOwnProperty,z=w.toString,q=RegExp("^"+j.call(G).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=b.splice,J=ve(i,"Map"),ne=ve(Object,"create");function ie(xe){var Se=-1,he=xe?xe.length:0;for(this.clear();++Se<he;){var we=xe[Se];this.set(we[0],we[1])}}function ue(xe){var Se=-1,he=xe?xe.length:0;for(this.clear();++Se<he;){var we=xe[Se];this.set(we[0],we[1])}}function oe(xe){var Se=-1,he=xe?xe.length:0;for(this.clear();++Se<he;){var we=xe[Se];this.set(we[0],we[1])}}function K(xe,Se){for(var he,we,_e=xe.length;_e--;)if((he=xe[_e][0])===(we=Se)||he!=he&&we!=we)return _e;return-1}function se(xe){return!(!Me(xe)||(Se=xe,P&&P in Se))&&((function(he){var we=Me(he)?z.call(he):"";return we=="[object Function]"||we=="[object GeneratorFunction]"})(xe)||(function(he){var we=!1;if(he!=null&&typeof he.toString!="function")try{we=!!(he+"")}catch{}return we})(xe)?q:a).test((function(he){if(he!=null){try{return j.call(he)}catch{}try{return he+""}catch{}}return""})(xe));var Se}function pe(xe,Se){var he,we,_e=xe.__data__;return((we=typeof(he=Se))=="string"||we=="number"||we=="symbol"||we=="boolean"?he!=="__proto__":he===null)?_e[typeof Se=="string"?"string":"hash"]:_e.map}function ve(xe,Se){var he=(function(we,_e){return we?.[_e]})(xe,Se);return se(he)?he:void 0}function Te(xe,Se){if(typeof xe!="function"||Se&&typeof Se!="function")throw new TypeError("Expected a function");var he=function(){var we=arguments,_e=Se?Se.apply(this,we):we[0],Be=he.cache;if(Be.has(_e))return Be.get(_e);var He=xe.apply(this,we);return he.cache=Be.set(_e,He),He};return he.cache=new(Te.Cache||oe),he}function Me(xe){var Se=typeof xe;return!!xe&&(Se=="object"||Se=="function")}ie.prototype.clear=function(){this.__data__=ne?ne(null):{}},ie.prototype.delete=function(xe){return this.has(xe)&&delete this.__data__[xe]},ie.prototype.get=function(xe){var Se=this.__data__;if(ne){var he=Se[xe];return he==="__lodash_hash_undefined__"?void 0:he}return G.call(Se,xe)?Se[xe]:void 0},ie.prototype.has=function(xe){var Se=this.__data__;return ne?Se[xe]!==void 0:G.call(Se,xe)},ie.prototype.set=function(xe,Se){return this.__data__[xe]=ne&&Se===void 0?"__lodash_hash_undefined__":Se,this},ue.prototype.clear=function(){this.__data__=[]},ue.prototype.delete=function(xe){var Se=this.__data__,he=K(Se,xe);return!(he<0)&&(he==Se.length-1?Se.pop():Y.call(Se,he,1),!0)},ue.prototype.get=function(xe){var Se=this.__data__,he=K(Se,xe);return he<0?void 0:Se[he][1]},ue.prototype.has=function(xe){return K(this.__data__,xe)>-1},ue.prototype.set=function(xe,Se){var he=this.__data__,we=K(he,xe);return we<0?he.push([xe,Se]):he[we][1]=Se,this},oe.prototype.clear=function(){this.__data__={hash:new ie,map:new(J||ue),string:new ie}},oe.prototype.delete=function(xe){return pe(this,xe).delete(xe)},oe.prototype.get=function(xe){return pe(this,xe).get(xe)},oe.prototype.has=function(xe){return pe(this,xe).has(xe)},oe.prototype.set=function(xe,Se){return pe(this,xe).set(xe,Se),this},Te.Cache=oe,e.exports=Te}).call(this,n(3))},function(e,t,n){(function(r){var a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,i=/^0o[0-7]+$/i,m=parseInt,b=typeof r=="object"&&r&&r.Object===Object&&r,_=typeof self=="object"&&self&&self.Object===Object&&self,w=b||_||Function("return this")(),M=Object.prototype.toString,P=Math.max,j=Math.min,G=function(){return w.Date.now()};function z(Y){var J=typeof Y;return!!Y&&(J=="object"||J=="function")}function q(Y){if(typeof Y=="number")return Y;if((function(ie){return typeof ie=="symbol"||(function(ue){return!!ue&&typeof ue=="object"})(ie)&&M.call(ie)=="[object Symbol]"})(Y))return NaN;if(z(Y)){var J=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=z(J)?J+"":J}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(a,"");var ne=u.test(Y);return ne||i.test(Y)?m(Y.slice(2),ne?2:8):l.test(Y)?NaN:+Y}e.exports=function(Y,J,ne){var ie,ue,oe,K,se,pe,ve=0,Te=!1,Me=!1,xe=!0;if(typeof Y!="function")throw new TypeError("Expected a function");function Se(Re){var je=ie,Ze=ue;return ie=ue=void 0,ve=Re,K=Y.apply(Ze,je)}function he(Re){return ve=Re,se=setTimeout(_e,J),Te?Se(Re):K}function we(Re){var je=Re-pe;return pe===void 0||je>=J||je<0||Me&&Re-ve>=oe}function _e(){var Re=G();if(we(Re))return Be(Re);se=setTimeout(_e,(function(je){var Ze=J-(je-pe);return Me?j(Ze,oe-(je-ve)):Ze})(Re))}function Be(Re){return se=void 0,xe&&ie?Se(Re):(ie=ue=void 0,K)}function He(){var Re=G(),je=we(Re);if(ie=arguments,ue=this,pe=Re,je){if(se===void 0)return he(pe);if(Me)return se=setTimeout(_e,J),Se(pe)}return se===void 0&&(se=setTimeout(_e,J)),K}return J=q(J)||0,z(ne)&&(Te=!!ne.leading,oe=(Me="maxWait"in ne)?P(q(ne.maxWait)||0,J):oe,xe="trailing"in ne?!!ne.trailing:xe),He.cancel=function(){se!==void 0&&clearTimeout(se),ve=0,ie=pe=ue=se=void 0},He.flush=function(){return se===void 0?K:Be(G())},He}}).call(this,n(3))},function(e,t,n){(function(r,a){var l="[object Arguments]",u="[object Map]",i="[object Object]",m="[object Set]",b=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_=/^\w*$/,w=/^\./,M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P=/\\(\\)?/g,j=/^\[object .+?Constructor\]$/,G=/^(?:0|[1-9]\d*)$/,z={};z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z[l]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object Boolean]"]=z["[object DataView]"]=z["[object Date]"]=z["[object Error]"]=z["[object Function]"]=z[u]=z["[object Number]"]=z[i]=z["[object RegExp]"]=z[m]=z["[object String]"]=z["[object WeakMap]"]=!1;var q=typeof r=="object"&&r&&r.Object===Object&&r,Y=typeof self=="object"&&self&&self.Object===Object&&self,J=q||Y||Function("return this")(),ne=t&&!t.nodeType&&t,ie=ne&&typeof a=="object"&&a&&!a.nodeType&&a,ue=ie&&ie.exports===ne&&q.process,oe=(function(){try{return ue&&ue.binding("util")}catch{}})(),K=oe&&oe.isTypedArray;function se(Ke,mt,Xt,Cn){var Yn=-1,Wn=Ke?Ke.length:0;for(Cn&&Wn&&(Xt=Ke[++Yn]);++Yn<Wn;)Xt=mt(Xt,Ke[Yn],Yn,Ke);return Xt}function pe(Ke,mt){for(var Xt=-1,Cn=Ke?Ke.length:0;++Xt<Cn;)if(mt(Ke[Xt],Xt,Ke))return!0;return!1}function ve(Ke,mt,Xt,Cn,Yn){return Yn(Ke,(function(Wn,br,Br){Xt=Cn?(Cn=!1,Wn):mt(Xt,Wn,br,Br)})),Xt}function Te(Ke){var mt=!1;if(Ke!=null&&typeof Ke.toString!="function")try{mt=!!(Ke+"")}catch{}return mt}function Me(Ke){var mt=-1,Xt=Array(Ke.size);return Ke.forEach((function(Cn,Yn){Xt[++mt]=[Yn,Cn]})),Xt}function xe(Ke){var mt=-1,Xt=Array(Ke.size);return Ke.forEach((function(Cn){Xt[++mt]=Cn})),Xt}var Se,he,we,_e=Array.prototype,Be=Function.prototype,He=Object.prototype,Re=J["__core-js_shared__"],je=(Se=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+Se:"",Ze=Be.toString,Qe=He.hasOwnProperty,Pe=He.toString,St=RegExp("^"+Ze.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Nt=J.Symbol,We=J.Uint8Array,en=He.propertyIsEnumerable,zt=_e.splice,rn=(he=Object.keys,we=Object,function(Ke){return he(we(Ke))}),Ge=Mr(J,"DataView"),kn=Mr(J,"Map"),_n=Mr(J,"Promise"),Lt=Mr(J,"Set"),pn=Mr(J,"WeakMap"),Tn=Mr(Object,"create"),tr=Ft(Ge),Vt=Ft(kn),lr=Ft(_n),sr=Ft(Lt),xn=Ft(pn),En=Nt?Nt.prototype:void 0,hn=En?En.valueOf:void 0,jn=En?En.toString:void 0;function _t(Ke){var mt=-1,Xt=Ke?Ke.length:0;for(this.clear();++mt<Xt;){var Cn=Ke[mt];this.set(Cn[0],Cn[1])}}function Oe(Ke){var mt=-1,Xt=Ke?Ke.length:0;for(this.clear();++mt<Xt;){var Cn=Ke[mt];this.set(Cn[0],Cn[1])}}function ke(Ke){var mt=-1,Xt=Ke?Ke.length:0;for(this.clear();++mt<Xt;){var Cn=Ke[mt];this.set(Cn[0],Cn[1])}}function qe(Ke){var mt=-1,Xt=Ke?Ke.length:0;for(this.__data__=new ke;++mt<Xt;)this.add(Ke[mt])}function ut(Ke){this.__data__=new Oe(Ke)}function dt(Ke,mt){var Xt=nr(Ke)||Pn(Ke)?(function(br,Br){for(var _r=-1,Nr=Array(br);++_r<br;)Nr[_r]=Br(_r);return Nr})(Ke.length,String):[],Cn=Xt.length,Yn=!!Cn;for(var Wn in Ke)!Qe.call(Ke,Wn)||Yn&&(Wn=="length"||on(Wn,Cn))||Xt.push(Wn);return Xt}function Ut(Ke,mt){for(var Xt=Ke.length;Xt--;)if(Ot(Ke[Xt][0],mt))return Xt;return-1}_t.prototype.clear=function(){this.__data__=Tn?Tn(null):{}},_t.prototype.delete=function(Ke){return this.has(Ke)&&delete this.__data__[Ke]},_t.prototype.get=function(Ke){var mt=this.__data__;if(Tn){var Xt=mt[Ke];return Xt==="__lodash_hash_undefined__"?void 0:Xt}return Qe.call(mt,Ke)?mt[Ke]:void 0},_t.prototype.has=function(Ke){var mt=this.__data__;return Tn?mt[Ke]!==void 0:Qe.call(mt,Ke)},_t.prototype.set=function(Ke,mt){return this.__data__[Ke]=Tn&&mt===void 0?"__lodash_hash_undefined__":mt,this},Oe.prototype.clear=function(){this.__data__=[]},Oe.prototype.delete=function(Ke){var mt=this.__data__,Xt=Ut(mt,Ke);return!(Xt<0)&&(Xt==mt.length-1?mt.pop():zt.call(mt,Xt,1),!0)},Oe.prototype.get=function(Ke){var mt=this.__data__,Xt=Ut(mt,Ke);return Xt<0?void 0:mt[Xt][1]},Oe.prototype.has=function(Ke){return Ut(this.__data__,Ke)>-1},Oe.prototype.set=function(Ke,mt){var Xt=this.__data__,Cn=Ut(Xt,Ke);return Cn<0?Xt.push([Ke,mt]):Xt[Cn][1]=mt,this},ke.prototype.clear=function(){this.__data__={hash:new _t,map:new(kn||Oe),string:new _t}},ke.prototype.delete=function(Ke){return wn(this,Ke).delete(Ke)},ke.prototype.get=function(Ke){return wn(this,Ke).get(Ke)},ke.prototype.has=function(Ke){return wn(this,Ke).has(Ke)},ke.prototype.set=function(Ke,mt){return wn(this,Ke).set(Ke,mt),this},qe.prototype.add=qe.prototype.push=function(Ke){return this.__data__.set(Ke,"__lodash_hash_undefined__"),this},qe.prototype.has=function(Ke){return this.__data__.has(Ke)},ut.prototype.clear=function(){this.__data__=new Oe},ut.prototype.delete=function(Ke){return this.__data__.delete(Ke)},ut.prototype.get=function(Ke){return this.__data__.get(Ke)},ut.prototype.has=function(Ke){return this.__data__.has(Ke)},ut.prototype.set=function(Ke,mt){var Xt=this.__data__;if(Xt instanceof Oe){var Cn=Xt.__data__;if(!kn||Cn.length<199)return Cn.push([Ke,mt]),this;Xt=this.__data__=new ke(Cn)}return Xt.set(Ke,mt),this};var Bt,xt=(Bt=function(Ke,mt){return Ke&&Ct(Ke,mt,ua)},function(Ke,mt){if(Ke==null)return Ke;if(!fr(Ke))return Bt(Ke,mt);for(var Xt=Ke.length,Cn=-1,Yn=Object(Ke);++Cn<Xt&&mt(Yn[Cn],Cn,Yn)!==!1;);return Ke}),Ct=(function(Ke){return function(mt,Xt,Cn){for(var Yn=-1,Wn=Object(mt),br=Cn(mt),Br=br.length;Br--;){var _r=br[++Yn];if(Xt(Wn[_r],_r,Wn)===!1)break}return mt}})();function sn(Ke,mt){for(var Xt=0,Cn=(mt=Wr(mt,Ke)?[mt]:Qn(mt)).length;Ke!=null&&Xt<Cn;)Ke=Ke[yt(mt[Xt++])];return Xt&&Xt==Cn?Ke:void 0}function mn(Ke,mt){return Ke!=null&&mt in Object(Ke)}function Vn(Ke,mt,Xt,Cn,Yn){return Ke===mt||(Ke==null||mt==null||!Gn(Ke)&&!zn(mt)?Ke!=Ke&&mt!=mt:(function(Wn,br,Br,_r,Nr,Ur){var Wa=nr(Wn),Or=nr(br),Kr="[object Array]",za="[object Array]";Wa||(Kr=(Kr=Mn(Wn))==l?i:Kr),Or||(za=(za=Mn(br))==l?i:za);var Za=Kr==i&&!Te(Wn),pa=za==i&&!Te(br),aa=Kr==za;if(aa&&!Za)return Ur||(Ur=new ut),Wa||ra(Wn)?Pt(Wn,br,Br,_r,Nr,Ur):(function(va,Ua,wi,Zs,Kl,bo,_o){switch(wi){case"[object DataView]":if(va.byteLength!=Ua.byteLength||va.byteOffset!=Ua.byteOffset)return!1;va=va.buffer,Ua=Ua.buffer;case"[object ArrayBuffer]":return!(va.byteLength!=Ua.byteLength||!Zs(new We(va),new We(Ua)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ot(+va,+Ua);case"[object Error]":return va.name==Ua.name&&va.message==Ua.message;case"[object RegExp]":case"[object String]":return va==Ua+"";case u:var Xs=Me;case m:var Lo=2&bo;if(Xs||(Xs=xe),va.size!=Ua.size&&!Lo)return!1;var co=_o.get(va);if(co)return co==Ua;bo|=1,_o.set(va,Ua);var _u=Pt(Xs(va),Xs(Ua),Zs,Kl,bo,_o);return _o.delete(va),_u;case"[object Symbol]":if(hn)return hn.call(va)==hn.call(Ua)}return!1})(Wn,br,Kr,Br,_r,Nr,Ur);if(!(2&Nr)){var Ol=Za&&Qe.call(Wn,"__wrapped__"),$c=pa&&Qe.call(br,"__wrapped__");if(Ol||$c){var yl=Ol?Wn.value():Wn,hs=$c?br.value():br;return Ur||(Ur=new ut),Br(yl,hs,_r,Nr,Ur)}}return aa?(Ur||(Ur=new ut),(function(va,Ua,wi,Zs,Kl,bo){var _o=2&Kl,Xs=ua(va),Lo=Xs.length,co=ua(Ua).length;if(Lo!=co&&!_o)return!1;for(var _u=Lo;_u--;){var Po=Xs[_u];if(!(_o?Po in Ua:Qe.call(Ua,Po)))return!1}var wd=bo.get(va);if(wd&&bo.get(Ua))return wd==Ua;var Is=!0;bo.set(va,Ua),bo.set(Ua,va);for(var Aa=_o;++_u<Lo;){Po=Xs[_u];var Fo=va[Po],Jr=Ua[Po];if(Zs)var ps=_o?Zs(Jr,Fo,Po,Ua,va,bo):Zs(Fo,Jr,Po,va,Ua,bo);if(!(ps===void 0?Fo===Jr||wi(Fo,Jr,Zs,Kl,bo):ps)){Is=!1;break}Aa||(Aa=Po=="constructor")}if(Is&&!Aa){var xo=va.constructor,Qi=Ua.constructor;xo==Qi||!("constructor"in va)||!("constructor"in Ua)||typeof xo=="function"&&xo instanceof xo&&typeof Qi=="function"&&Qi instanceof Qi||(Is=!1)}return bo.delete(va),bo.delete(Ua),Is})(Wn,br,Br,_r,Nr,Ur)):!1})(Ke,mt,Vn,Xt,Cn,Yn))}function gn(Ke){return!(!Gn(Ke)||(function(mt){return!!je&&je in mt})(Ke))&&(Jn(Ke)||Te(Ke)?St:j).test(Ft(Ke))}function qn(Ke){return typeof Ke=="function"?Ke:Ke==null?ft:typeof Ke=="object"?nr(Ke)?(function(Cn,Yn){return Wr(Cn)&&Tr(Yn)?Ir(yt(Cn),Yn):function(Wn){var br=(function(Br,_r,Nr){var Ur=Br==null?void 0:sn(Br,_r);return Ur===void 0?Nr:Ur})(Wn,Cn);return br===void 0&&br===Yn?(function(Br,_r){return Br!=null&&(function(Nr,Ur,Wa){Ur=Wr(Ur,Nr)?[Ur]:Qn(Ur);for(var Or,Kr=-1,za=Ur.length;++Kr<za;){var Za=yt(Ur[Kr]);if(!(Or=Nr!=null&&Wa(Nr,Za)))break;Nr=Nr[Za]}return Or||!!(za=Nr?Nr.length:0)&&qt(za)&&on(Za,za)&&(nr(Nr)||Pn(Nr))})(Br,_r,mn)})(Wn,Cn):Vn(Yn,br,void 0,3)}})(Ke[0],Ke[1]):(function(Cn){var Yn=(function(Wn){for(var br=ua(Wn),Br=br.length;Br--;){var _r=br[Br],Nr=Wn[_r];br[Br]=[_r,Nr,Tr(Nr)]}return br})(Cn);return Yn.length==1&&Yn[0][2]?Ir(Yn[0][0],Yn[0][1]):function(Wn){return Wn===Cn||(function(br,Br,_r,Nr){var Ur=_r.length,Wa=Ur;if(br==null)return!Wa;for(br=Object(br);Ur--;){var Or=_r[Ur];if(Or[2]?Or[1]!==br[Or[0]]:!(Or[0]in br))return!1}for(;++Ur<Wa;){var Kr=(Or=_r[Ur])[0],za=br[Kr],Za=Or[1];if(Or[2]){if(za===void 0&&!(Kr in br))return!1}else{var pa=new ut,aa;if(!(aa===void 0?Vn(Za,za,Nr,3,pa):aa))return!1}}return!0})(Wn,Cn,Yn)}})(Ke):Wr(mt=Ke)?(Xt=yt(mt),function(Cn){return Cn?.[Xt]}):(function(Cn){return function(Yn){return sn(Yn,Cn)}})(mt);var mt,Xt}function Xn(Ke){if(Xt=(mt=Ke)&&mt.constructor,Cn=typeof Xt=="function"&&Xt.prototype||He,mt!==Cn)return rn(Ke);var mt,Xt,Cn,Yn=[];for(var Wn in Object(Ke))Qe.call(Ke,Wn)&&Wn!="constructor"&&Yn.push(Wn);return Yn}function Qn(Ke){return nr(Ke)?Ke:Xr(Ke)}function Pt(Ke,mt,Xt,Cn,Yn,Wn){var br=2&Yn,Br=Ke.length,_r=mt.length;if(Br!=_r&&!(br&&_r>Br))return!1;var Nr=Wn.get(Ke);if(Nr&&Wn.get(mt))return Nr==mt;var Ur=-1,Wa=!0,Or=1&Yn?new qe:void 0;for(Wn.set(Ke,mt),Wn.set(mt,Ke);++Ur<Br;){var Kr=Ke[Ur],za=mt[Ur];if(Cn)var Za=br?Cn(za,Kr,Ur,mt,Ke,Wn):Cn(Kr,za,Ur,Ke,mt,Wn);if(Za!==void 0){if(Za)continue;Wa=!1;break}if(Or){if(!pe(mt,(function(pa,aa){if(!Or.has(aa)&&(Kr===pa||Xt(Kr,pa,Cn,Yn,Wn)))return Or.add(aa)}))){Wa=!1;break}}else if(Kr!==za&&!Xt(Kr,za,Cn,Yn,Wn)){Wa=!1;break}}return Wn.delete(Ke),Wn.delete(mt),Wa}function wn(Ke,mt){var Xt,Cn,Yn=Ke.__data__;return((Cn=typeof(Xt=mt))=="string"||Cn=="number"||Cn=="symbol"||Cn=="boolean"?Xt!=="__proto__":Xt===null)?Yn[typeof mt=="string"?"string":"hash"]:Yn.map}function Mr(Ke,mt){var Xt=(function(Cn,Yn){return Cn?.[Yn]})(Ke,mt);return gn(Xt)?Xt:void 0}var Mn=function(Ke){return Pe.call(Ke)};function on(Ke,mt){return!!(mt=mt??9007199254740991)&&(typeof Ke=="number"||G.test(Ke))&&Ke>-1&&Ke%1==0&&Ke<mt}function Wr(Ke,mt){if(nr(Ke))return!1;var Xt=typeof Ke;return!(Xt!="number"&&Xt!="symbol"&&Xt!="boolean"&&Ke!=null&&!hr(Ke))||_.test(Ke)||!b.test(Ke)||mt!=null&&Ke in Object(mt)}function Tr(Ke){return Ke==Ke&&!Gn(Ke)}function Ir(Ke,mt){return function(Xt){return Xt!=null&&Xt[Ke]===mt&&(mt!==void 0||Ke in Object(Xt))}}(Ge&&Mn(new Ge(new ArrayBuffer(1)))!="[object DataView]"||kn&&Mn(new kn)!=u||_n&&Mn(_n.resolve())!="[object Promise]"||Lt&&Mn(new Lt)!=m||pn&&Mn(new pn)!="[object WeakMap]")&&(Mn=function(Ke){var mt=Pe.call(Ke),Xt=mt==i?Ke.constructor:void 0,Cn=Xt?Ft(Xt):void 0;if(Cn)switch(Cn){case tr:return"[object DataView]";case Vt:return u;case lr:return"[object Promise]";case sr:return m;case xn:return"[object WeakMap]"}return mt});var Xr=Yt((function(Ke){var mt;Ke=(mt=Ke)==null?"":(function(Cn){if(typeof Cn=="string")return Cn;if(hr(Cn))return jn?jn.call(Cn):"";var Yn=Cn+"";return Yn=="0"&&1/Cn==-1/0?"-0":Yn})(mt);var Xt=[];return w.test(Ke)&&Xt.push(""),Ke.replace(M,(function(Cn,Yn,Wn,br){Xt.push(Wn?br.replace(P,"$1"):Yn||Cn)})),Xt}));function yt(Ke){if(typeof Ke=="string"||hr(Ke))return Ke;var mt=Ke+"";return mt=="0"&&1/Ke==-1/0?"-0":mt}function Ft(Ke){if(Ke!=null){try{return Ze.call(Ke)}catch{}try{return Ke+""}catch{}}return""}function Yt(Ke,mt){if(typeof Ke!="function"||mt&&typeof mt!="function")throw new TypeError("Expected a function");var Xt=function(){var Cn=arguments,Yn=mt?mt.apply(this,Cn):Cn[0],Wn=Xt.cache;if(Wn.has(Yn))return Wn.get(Yn);var br=Ke.apply(this,Cn);return Xt.cache=Wn.set(Yn,br),br};return Xt.cache=new(Yt.Cache||ke),Xt}function Ot(Ke,mt){return Ke===mt||Ke!=Ke&&mt!=mt}function Pn(Ke){return(function(mt){return zn(mt)&&fr(mt)})(Ke)&&Qe.call(Ke,"callee")&&(!en.call(Ke,"callee")||Pe.call(Ke)==l)}Yt.Cache=ke;var nr=Array.isArray;function fr(Ke){return Ke!=null&&qt(Ke.length)&&!Jn(Ke)}function Jn(Ke){var mt=Gn(Ke)?Pe.call(Ke):"";return mt=="[object Function]"||mt=="[object GeneratorFunction]"}function qt(Ke){return typeof Ke=="number"&&Ke>-1&&Ke%1==0&&Ke<=9007199254740991}function Gn(Ke){var mt=typeof Ke;return!!Ke&&(mt=="object"||mt=="function")}function zn(Ke){return!!Ke&&typeof Ke=="object"}function hr(Ke){return typeof Ke=="symbol"||zn(Ke)&&Pe.call(Ke)=="[object Symbol]"}var ra=K?(function(Ke){return function(mt){return Ke(mt)}})(K):function(Ke){return zn(Ke)&&qt(Ke.length)&&!!z[Pe.call(Ke)]};function ua(Ke){return fr(Ke)?dt(Ke):Xn(Ke)}function ft(Ke){return Ke}a.exports=function(Ke,mt,Xt){var Cn=nr(Ke)?se:ve,Yn=arguments.length<3;return Cn(Ke,qn(mt),Xt,Yn,xt)}}).call(this,n(3),n(7)(e))},function(e,t){e.exports=function(n){return n.webpackPolyfill||(n.deprecate=function(){},n.paths=[],n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:function(){return n.l}}),Object.defineProperty(n,"id",{enumerable:!0,get:function(){return n.i}}),n.webpackPolyfill=1),n}},function(e,t){String.prototype.padEnd||(String.prototype.padEnd=function(n,r){return n>>=0,r=String(r!==void 0?r:" "),this.length>n?String(this):((n-=this.length)>r.length&&(r+=r.repeat(n/r.length)),String(this)+r.slice(0,n))})},function(e,t,n){function r(He,Re,je){return Re in He?Object.defineProperty(He,Re,{value:je,enumerable:!0,configurable:!0,writable:!0}):He[Re]=je,He}function a(He){if(Symbol.iterator in Object(He)||Object.prototype.toString.call(He)==="[object Arguments]")return Array.from(He)}function l(He){return(function(Re){if(Array.isArray(Re)){for(var je=0,Ze=new Array(Re.length);je<Re.length;je++)Ze[je]=Re[je];return Ze}})(He)||a(He)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance")})()}function u(He){if(Array.isArray(He))return He}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function m(He,Re){if(!(He instanceof Re))throw new TypeError("Cannot call a class as a function")}function b(He,Re){for(var je=0;je<Re.length;je++){var Ze=Re[je];Ze.enumerable=Ze.enumerable||!1,Ze.configurable=!0,"value"in Ze&&(Ze.writable=!0),Object.defineProperty(He,Ze.key,Ze)}}function _(He){return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Re){return typeof Re}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":typeof Re})(He)}function w(He){return(w=typeof Symbol=="function"&&_(Symbol.iterator)==="symbol"?function(Re){return _(Re)}:function(Re){return Re&&typeof Symbol=="function"&&Re.constructor===Symbol&&Re!==Symbol.prototype?"symbol":_(Re)})(He)}function M(He){if(He===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return He}function P(He){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(Re){return Re.__proto__||Object.getPrototypeOf(Re)})(He)}function j(He,Re){return(j=Object.setPrototypeOf||function(je,Ze){return je.__proto__=Ze,je})(He,Re)}n.r(t);var G=n(0),z=n.n(G),q=n(5),Y=n.n(q),J=n(4),ne=n.n(J),ie=n(6),ue=n.n(ie),oe=n(2),K=n.n(oe),se=n(1),pe=n.n(se);n(8);function ve(He,Re){return u(He)||(function(je,Ze){var Qe=[],Pe=!0,St=!1,Nt=void 0;try{for(var We,en=je[Symbol.iterator]();!(Pe=(We=en.next()).done)&&(Qe.push(We.value),!Ze||Qe.length!==Ze);Pe=!0);}catch(zt){St=!0,Nt=zt}finally{try{Pe||en.return==null||en.return()}finally{if(St)throw Nt}}return Qe})(He,Re)||i()}var Te=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],Me=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function xe(He,Re,je,Ze,Qe){return!je||Qe?He+"".padEnd(Re.length,".")+" "+Ze:He+"".padEnd(Re.length,".")+" "+je}function Se(He,Re,je,Ze,Qe){var Pe,St,Nt=[];return St=Re===!0,[(Pe=[]).concat.apply(Pe,l(He.map((function(We){var en={name:We[0],regions:We[1],iso2:We[2],countryCode:We[3],dialCode:We[3],format:xe(je,We[3],We[4],Ze,Qe),priority:We[5]||0},zt=[];return We[6]&&We[6].map((function(rn){var Ge=(function(kn){for(var _n=1;_n<arguments.length;_n++){var Lt=arguments[_n]!=null?arguments[_n]:{},pn=Object.keys(Lt);typeof Object.getOwnPropertySymbols=="function"&&(pn=pn.concat(Object.getOwnPropertySymbols(Lt).filter((function(Tn){return Object.getOwnPropertyDescriptor(Lt,Tn).enumerable})))),pn.forEach((function(Tn){r(kn,Tn,Lt[Tn])}))}return kn})({},en);Ge.dialCode=We[3]+rn,Ge.isAreaCode=!0,Ge.areaCodeLength=rn.length,zt.push(Ge)})),zt.length>0?(en.mainCode=!0,St||Re.constructor.name==="Array"&&Re.includes(We[2])?(en.hasAreaCodes=!0,[en].concat(zt)):(Nt=Nt.concat(zt),[en])):[en]})))),Nt]}function he(He,Re,je,Ze){if(je!==null){var Qe=Object.keys(je),Pe=Object.values(je);Qe.forEach((function(St,Nt){if(Ze)return He.push([St,Pe[Nt]]);var We=He.findIndex((function(zt){return zt[0]===St}));if(We===-1){var en=[St];en[Re]=Pe[Nt],He.push(en)}else He[We][Re]=Pe[Nt]}))}}function we(He,Re){return Re.length===0?He:He.map((function(je){var Ze=Re.findIndex((function(Pe){return Pe[0]===je[2]}));if(Ze===-1)return je;var Qe=Re[Ze];return Qe[1]&&(je[4]=Qe[1]),Qe[3]&&(je[5]=Qe[3]),Qe[2]&&(je[6]=Qe[2]),je}))}var _e=function He(Re,je,Ze,Qe,Pe,St,Nt,We,en,zt,rn,Ge,kn,_n){m(this,He),this.filterRegions=function(En,hn){if(typeof En=="string"){var jn=En;return hn.filter((function(_t){return _t.regions.some((function(Oe){return Oe===jn}))}))}return hn.filter((function(_t){return En.map((function(Oe){return _t.regions.some((function(ke){return ke===Oe}))})).some((function(Oe){return Oe}))}))},this.sortTerritories=function(En,hn){var jn=[].concat(l(En),l(hn));return jn.sort((function(_t,Oe){return _t.name<Oe.name?-1:_t.name>Oe.name?1:0})),jn},this.getFilteredCountryList=function(En,hn,jn){return En.length===0?hn:jn?En.map((function(_t){var Oe=hn.find((function(ke){return ke.iso2===_t}));if(Oe)return Oe})).filter((function(_t){return _t})):hn.filter((function(_t){return En.some((function(Oe){return Oe===_t.iso2}))}))},this.localizeCountries=function(En,hn,jn){for(var _t=0;_t<En.length;_t++)hn[En[_t].iso2]!==void 0?En[_t].localName=hn[En[_t].iso2]:hn[En[_t].name]!==void 0&&(En[_t].localName=hn[En[_t].name]);return jn||En.sort((function(Oe,ke){return Oe.localName<ke.localName?-1:Oe.localName>ke.localName?1:0})),En},this.getCustomAreas=function(En,hn){for(var jn=[],_t=0;_t<hn.length;_t++){var Oe=JSON.parse(JSON.stringify(En));Oe.dialCode+=hn[_t],jn.push(Oe)}return jn},this.excludeCountries=function(En,hn){return hn.length===0?En:En.filter((function(jn){return!hn.includes(jn.iso2)}))};var Lt=(function(En,hn,jn){var _t=[];return he(_t,1,En,!0),he(_t,3,hn),he(_t,2,jn),_t})(We,en,zt),pn=we(JSON.parse(JSON.stringify(Te)),Lt),Tn=we(JSON.parse(JSON.stringify(Me)),Lt),tr=ve(Se(pn,Re,Ge,kn,_n),2),Vt=tr[0],lr=tr[1];if(je){var sr=ve(Se(Tn,Re,Ge,kn,_n),2),xn=sr[0];sr[1],Vt=this.sortTerritories(xn,Vt)}Ze&&(Vt=this.filterRegions(Ze,Vt)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(Qe,Vt,Nt.includes("onlyCountries")),St),rn,Nt.includes("onlyCountries")),this.preferredCountries=Pe.length===0?[]:this.localizeCountries(this.getFilteredCountryList(Pe,Vt,Nt.includes("preferredCountries")),rn,Nt.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(Qe,lr),St)},Be=(function(He){function Re(Qe){var Pe;m(this,Re),(Pe=(function(Lt,pn){return!pn||w(pn)!=="object"&&typeof pn!="function"?M(Lt):pn})(this,P(Re).call(this,Qe))).getProbableCandidate=ne()((function(Lt){return Lt&&Lt.length!==0?Pe.state.onlyCountries.filter((function(pn){return K()(pn.name.toLowerCase(),Lt.toLowerCase())}),M(M(Pe)))[0]:null})),Pe.guessSelectedCountry=ne()((function(Lt,pn,Tn,tr){var Vt;if(Pe.props.enableAreaCodes===!1&&(tr.some((function(xn){if(K()(Lt,xn.dialCode))return Tn.some((function(En){if(xn.iso2===En.iso2&&En.mainCode)return Vt=En,!0})),!0})),Vt))return Vt;var lr=Tn.find((function(xn){return xn.iso2==pn}));if(Lt.trim()==="")return lr;var sr=Tn.reduce((function(xn,En){return K()(Lt,En.dialCode)&&(En.dialCode.length>xn.dialCode.length||En.dialCode.length===xn.dialCode.length&&En.priority<xn.priority)?En:xn}),{dialCode:"",priority:10001},M(M(Pe)));return sr.name?sr:lr})),Pe.updateCountry=function(Lt){var pn,Tn=Pe.state.onlyCountries;(pn=Lt.indexOf(0)>="0"&&Lt.indexOf(0)<="9"?Tn.find((function(tr){return tr.dialCode==+Lt})):Tn.find((function(tr){return tr.iso2==Lt})))&&pn.dialCode&&Pe.setState({selectedCountry:pn,formattedNumber:Pe.props.disableCountryCode?"":Pe.formatNumber(pn.dialCode,pn)})},Pe.scrollTo=function(Lt,pn){if(Lt){var Tn=Pe.dropdownRef;if(Tn&&document.body){var tr=Tn.offsetHeight,Vt=Tn.getBoundingClientRect().top+document.body.scrollTop,lr=Vt+tr,sr=Lt,xn=sr.getBoundingClientRect(),En=sr.offsetHeight,hn=xn.top+document.body.scrollTop,jn=hn+En,_t=hn-Vt+Tn.scrollTop,Oe=tr/2-En/2;if(Pe.props.enableSearch?hn<Vt+32:hn<Vt)pn&&(_t-=Oe),Tn.scrollTop=_t;else if(jn>lr){pn&&(_t+=Oe);var ke=tr-En;Tn.scrollTop=_t-ke}}}},Pe.scrollToTop=function(){var Lt=Pe.dropdownRef;Lt&&document.body&&(Lt.scrollTop=0)},Pe.formatNumber=function(Lt,pn){if(!pn)return Lt;var Tn,tr=pn.format,Vt=Pe.props,lr=Vt.disableCountryCode,sr=Vt.enableAreaCodeStretch,xn=Vt.enableLongNumbers,En=Vt.autoFormat;if(lr?((Tn=tr.split(" ")).shift(),Tn=Tn.join(" ")):sr&&pn.isAreaCode?((Tn=tr.split(" "))[1]=Tn[1].replace(/\.+/,"".padEnd(pn.areaCodeLength,".")),Tn=Tn.join(" ")):Tn=tr,!Lt||Lt.length===0)return lr?"":Pe.props.prefix;if(Lt&&Lt.length<2||!Tn||!En)return lr?Lt:Pe.props.prefix+Lt;var hn,jn=ue()(Tn,(function(_t,Oe){if(_t.remainingText.length===0)return _t;if(Oe!==".")return{formattedText:_t.formattedText+Oe,remainingText:_t.remainingText};var ke,qe=u(ke=_t.remainingText)||a(ke)||i(),ut=qe[0],dt=qe.slice(1);return{formattedText:_t.formattedText+ut,remainingText:dt}}),{formattedText:"",remainingText:Lt.split("")});return(hn=xn?jn.formattedText+jn.remainingText.join(""):jn.formattedText).includes("(")&&!hn.includes(")")&&(hn+=")"),hn},Pe.cursorToEnd=function(){var Lt=Pe.numberInputRef;if(document.activeElement===Lt){Lt.focus();var pn=Lt.value.length;Lt.value.charAt(pn-1)===")"&&(pn-=1),Lt.setSelectionRange(pn,pn)}},Pe.getElement=function(Lt){return Pe["flag_no_".concat(Lt)]},Pe.getCountryData=function(){return Pe.state.selectedCountry?{name:Pe.state.selectedCountry.name||"",dialCode:Pe.state.selectedCountry.dialCode||"",countryCode:Pe.state.selectedCountry.iso2||"",format:Pe.state.selectedCountry.format||""}:{}},Pe.handleFlagDropdownClick=function(Lt){if(Lt.preventDefault(),Pe.state.showDropdown||!Pe.props.disabled){var pn=Pe.state,Tn=pn.preferredCountries,tr=pn.onlyCountries,Vt=pn.selectedCountry,lr=Pe.concatPreferredCountries(Tn,tr).findIndex((function(sr){return sr.dialCode===Vt.dialCode&&sr.iso2===Vt.iso2}));Pe.setState({showDropdown:!Pe.state.showDropdown,highlightCountryIndex:lr},(function(){Pe.state.showDropdown&&Pe.scrollTo(Pe.getElement(Pe.state.highlightCountryIndex))}))}},Pe.handleInput=function(Lt){var pn=Lt.target.value,Tn=Pe.props,tr=Tn.prefix,Vt=Tn.onChange,lr=Pe.props.disableCountryCode?"":tr,sr=Pe.state.selectedCountry,xn=Pe.state.freezeSelection;if(!Pe.props.countryCodeEditable){var En=tr+(sr.hasAreaCodes?Pe.state.onlyCountries.find((function(xt){return xt.iso2===sr.iso2&&xt.mainCode})).dialCode:sr.dialCode);if(pn.slice(0,En.length)!==En)return}if(pn===tr)return Vt&&Vt("",Pe.getCountryData(),Lt,""),Pe.setState({formattedNumber:""});if(!(pn.replace(/\D/g,"").length>15&&(Pe.props.enableLongNumbers===!1||typeof Pe.props.enableLongNumbers=="number"&&pn.replace(/\D/g,"").length>Pe.props.enableLongNumbers))&&pn!==Pe.state.formattedNumber){Lt.preventDefault?Lt.preventDefault():Lt.returnValue=!1;var hn=Pe.props.country,jn=Pe.state,_t=jn.onlyCountries,Oe=jn.selectedCountry,ke=jn.hiddenAreaCodes;if(Vt&&Lt.persist(),pn.length>0){var qe=pn.replace(/\D/g,"");(!Pe.state.freezeSelection||Oe&&Oe.dialCode.length>qe.length)&&(sr=Pe.props.disableCountryGuess?Oe:Pe.guessSelectedCountry(qe.substring(0,6),hn,_t,ke)||Oe,xn=!1),lr=Pe.formatNumber(qe,sr),sr=sr.dialCode?sr:Oe}var ut=Lt.target.selectionStart,dt=Lt.target.selectionStart,Ut=Pe.state.formattedNumber,Bt=lr.length-Ut.length;Pe.setState({formattedNumber:lr,freezeSelection:xn,selectedCountry:sr},(function(){Bt>0&&(dt-=Bt),lr.charAt(lr.length-1)==")"?Pe.numberInputRef.setSelectionRange(lr.length-1,lr.length-1):dt>0&&Ut.length>=lr.length?Pe.numberInputRef.setSelectionRange(dt,dt):ut<Ut.length&&Pe.numberInputRef.setSelectionRange(ut,ut),Vt&&Vt(lr.replace(/[^0-9]+/g,""),Pe.getCountryData(),Lt,lr)}))}},Pe.handleInputClick=function(Lt){Pe.setState({showDropdown:!1}),Pe.props.onClick&&Pe.props.onClick(Lt,Pe.getCountryData())},Pe.handleDoubleClick=function(Lt){var pn=Lt.target.value.length;Lt.target.setSelectionRange(0,pn)},Pe.handleFlagItemClick=function(Lt,pn){var Tn=Pe.state.selectedCountry,tr=Pe.state.onlyCountries.find((function(xn){return xn==Lt}));if(tr){var Vt=Pe.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),lr=Vt.length>1?Vt.replace(Tn.dialCode,tr.dialCode):tr.dialCode,sr=Pe.formatNumber(lr.replace(/\D/g,""),tr);Pe.setState({showDropdown:!1,selectedCountry:tr,freezeSelection:!0,formattedNumber:sr,searchValue:""},(function(){Pe.cursorToEnd(),Pe.props.onChange&&Pe.props.onChange(sr.replace(/[^0-9]+/g,""),Pe.getCountryData(),pn,sr)}))}},Pe.handleInputFocus=function(Lt){Pe.numberInputRef&&Pe.numberInputRef.value===Pe.props.prefix&&Pe.state.selectedCountry&&!Pe.props.disableCountryCode&&Pe.setState({formattedNumber:Pe.props.prefix+Pe.state.selectedCountry.dialCode},(function(){Pe.props.jumpCursorToEnd&&setTimeout(Pe.cursorToEnd,0)})),Pe.setState({placeholder:""}),Pe.props.onFocus&&Pe.props.onFocus(Lt,Pe.getCountryData()),Pe.props.jumpCursorToEnd&&setTimeout(Pe.cursorToEnd,0)},Pe.handleInputBlur=function(Lt){Lt.target.value||Pe.setState({placeholder:Pe.props.placeholder}),Pe.props.onBlur&&Pe.props.onBlur(Lt,Pe.getCountryData())},Pe.handleInputCopy=function(Lt){if(Pe.props.copyNumbersOnly){var pn=window.getSelection().toString().replace(/[^0-9]+/g,"");Lt.clipboardData.setData("text/plain",pn),Lt.preventDefault()}},Pe.getHighlightCountryIndex=function(Lt){var pn=Pe.state.highlightCountryIndex+Lt;return pn<0||pn>=Pe.state.onlyCountries.length+Pe.state.preferredCountries.length?pn-Lt:Pe.props.enableSearch&&pn>Pe.getSearchFilteredCountries().length?0:pn},Pe.searchCountry=function(){var Lt=Pe.getProbableCandidate(Pe.state.queryString)||Pe.state.onlyCountries[0],pn=Pe.state.onlyCountries.findIndex((function(Tn){return Tn==Lt}))+Pe.state.preferredCountries.length;Pe.scrollTo(Pe.getElement(pn),!0),Pe.setState({queryString:"",highlightCountryIndex:pn})},Pe.handleKeydown=function(Lt){var pn=Pe.props.keys,Tn=Lt.target.className;if(Tn.includes("selected-flag")&&Lt.which===pn.ENTER&&!Pe.state.showDropdown)return Pe.handleFlagDropdownClick(Lt);if(Tn.includes("form-control")&&(Lt.which===pn.ENTER||Lt.which===pn.ESC))return Lt.target.blur();if(Pe.state.showDropdown&&!Pe.props.disabled&&(!Tn.includes("search-box")||Lt.which===pn.UP||Lt.which===pn.DOWN||Lt.which===pn.ENTER||Lt.which===pn.ESC&&Lt.target.value==="")){Lt.preventDefault?Lt.preventDefault():Lt.returnValue=!1;var tr=function(Vt){Pe.setState({highlightCountryIndex:Pe.getHighlightCountryIndex(Vt)},(function(){Pe.scrollTo(Pe.getElement(Pe.state.highlightCountryIndex),!0)}))};switch(Lt.which){case pn.DOWN:tr(1);break;case pn.UP:tr(-1);break;case pn.ENTER:Pe.props.enableSearch?Pe.handleFlagItemClick(Pe.getSearchFilteredCountries()[Pe.state.highlightCountryIndex]||Pe.getSearchFilteredCountries()[0],Lt):Pe.handleFlagItemClick([].concat(l(Pe.state.preferredCountries),l(Pe.state.onlyCountries))[Pe.state.highlightCountryIndex],Lt);break;case pn.ESC:case pn.TAB:Pe.setState({showDropdown:!1},Pe.cursorToEnd);break;default:(Lt.which>=pn.A&&Lt.which<=pn.Z||Lt.which===pn.SPACE)&&Pe.setState({queryString:Pe.state.queryString+String.fromCharCode(Lt.which)},Pe.state.debouncedQueryStingSearcher)}}},Pe.handleInputKeyDown=function(Lt){var pn=Pe.props,Tn=pn.keys,tr=pn.onEnterKeyPress,Vt=pn.onKeyDown;Lt.which===Tn.ENTER&&tr&&tr(Lt),Vt&&Vt(Lt)},Pe.handleClickOutside=function(Lt){Pe.dropdownRef&&!Pe.dropdownContainerRef.contains(Lt.target)&&Pe.state.showDropdown&&Pe.setState({showDropdown:!1})},Pe.handleSearchChange=function(Lt){var pn=Lt.currentTarget.value,Tn=Pe.state,tr=Tn.preferredCountries,Vt=Tn.selectedCountry,lr=0;if(pn===""&&Vt){var sr=Pe.state.onlyCountries;lr=Pe.concatPreferredCountries(tr,sr).findIndex((function(xn){return xn==Vt})),setTimeout((function(){return Pe.scrollTo(Pe.getElement(lr))}),100)}Pe.setState({searchValue:pn,highlightCountryIndex:lr})},Pe.concatPreferredCountries=function(Lt,pn){return Lt.length>0?l(new Set(Lt.concat(pn))):pn},Pe.getDropdownCountryName=function(Lt){return Lt.localName||Lt.name},Pe.getSearchFilteredCountries=function(){var Lt=Pe.state,pn=Lt.preferredCountries,Tn=Lt.onlyCountries,tr=Lt.searchValue,Vt=Pe.props.enableSearch,lr=Pe.concatPreferredCountries(pn,Tn),sr=tr.trim().toLowerCase().replace("+","");if(Vt&&sr){if(/^\d+$/.test(sr))return lr.filter((function(hn){var jn=hn.dialCode;return["".concat(jn)].some((function(_t){return _t.toLowerCase().includes(sr)}))}));var xn=lr.filter((function(hn){var jn=hn.iso2;return["".concat(jn)].some((function(_t){return _t.toLowerCase().includes(sr)}))})),En=lr.filter((function(hn){var jn=hn.name,_t=hn.localName;return hn.iso2,["".concat(jn),"".concat(_t||"")].some((function(Oe){return Oe.toLowerCase().includes(sr)}))}));return Pe.scrollToTop(),l(new Set([].concat(xn,En)))}return lr},Pe.getCountryDropdownList=function(){var Lt=Pe.state,pn=Lt.preferredCountries,Tn=Lt.highlightCountryIndex,tr=Lt.showDropdown,Vt=Lt.searchValue,lr=Pe.props,sr=lr.disableDropdown,xn=lr.prefix,En=Pe.props,hn=En.enableSearch,jn=En.searchNotFound,_t=En.disableSearchIcon,Oe=En.searchClass,ke=En.searchStyle,qe=En.searchPlaceholder,ut=En.autocompleteSearch,dt=Pe.getSearchFilteredCountries().map((function(xt,Ct){var sn=Tn===Ct,mn=pe()({country:!0,preferred:xt.iso2==="us"||xt.iso2==="gb",active:xt.iso2==="us",highlight:sn}),Vn="flag ".concat(xt.iso2);return z.a.createElement("li",Object.assign({ref:function(gn){return Pe["flag_no_".concat(Ct)]=gn},key:"flag_no_".concat(Ct),"data-flag-key":"flag_no_".concat(Ct),className:mn,"data-dial-code":"1",tabIndex:sr?"-1":"0","data-country-code":xt.iso2,onClick:function(gn){return Pe.handleFlagItemClick(xt,gn)},role:"option"},sn?{"aria-selected":!0}:{}),z.a.createElement("div",{className:Vn}),z.a.createElement("span",{className:"country-name"},Pe.getDropdownCountryName(xt)),z.a.createElement("span",{className:"dial-code"},xt.format?Pe.formatNumber(xt.dialCode,xt):xn+xt.dialCode))})),Ut=z.a.createElement("li",{key:"dashes",className:"divider"});pn.length>0&&(!hn||hn&&!Vt.trim())&&dt.splice(pn.length,0,Ut);var Bt=pe()(r({"country-list":!0,hide:!tr},Pe.props.dropdownClass,!0));return z.a.createElement("ul",{ref:function(xt){return!hn&&xt&&xt.focus(),Pe.dropdownRef=xt},className:Bt,style:Pe.props.dropdownStyle,role:"listbox",tabIndex:"0"},hn&&z.a.createElement("li",{className:pe()(r({search:!0},Oe,Oe))},!_t&&z.a.createElement("span",{className:pe()(r({"search-emoji":!0},"".concat(Oe,"-emoji"),Oe)),role:"img","aria-label":"Magnifying glass"},""),z.a.createElement("input",{className:pe()(r({"search-box":!0},"".concat(Oe,"-box"),Oe)),style:ke,type:"search",placeholder:qe,autoFocus:!0,autoComplete:ut?"on":"off",value:Vt,onChange:Pe.handleSearchChange})),dt.length>0?dt:z.a.createElement("li",{className:"no-entries-message"},z.a.createElement("span",null,jn)))};var St,Nt=new _e(Qe.enableAreaCodes,Qe.enableTerritories,Qe.regions,Qe.onlyCountries,Qe.preferredCountries,Qe.excludeCountries,Qe.preserveOrder,Qe.masks,Qe.priority,Qe.areaCodes,Qe.localization,Qe.prefix,Qe.defaultMask,Qe.alwaysDefaultMask),We=Nt.onlyCountries,en=Nt.preferredCountries,zt=Nt.hiddenAreaCodes,rn=Qe.value?Qe.value.replace(/\D/g,""):"";St=Qe.disableInitialCountryGuess?0:rn.length>1?Pe.guessSelectedCountry(rn.substring(0,6),Qe.country,We,zt)||0:Qe.country&&We.find((function(Lt){return Lt.iso2==Qe.country}))||0;var Ge,kn=rn.length<2&&St&&!K()(rn,St.dialCode)?St.dialCode:"";Ge=rn===""&&St===0?"":Pe.formatNumber((Qe.disableCountryCode?"":kn)+rn,St.name?St:void 0);var _n=We.findIndex((function(Lt){return Lt==St}));return Pe.state={showDropdown:Qe.showDropdown,formattedNumber:Ge,onlyCountries:We,preferredCountries:en,hiddenAreaCodes:zt,selectedCountry:St,highlightCountryIndex:_n,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:Y()(Pe.searchCountry,250),searchValue:""},Pe}var je,Ze;return(function(Qe,Pe){if(typeof Pe!="function"&&Pe!==null)throw new TypeError("Super expression must either be null or a function");Qe.prototype=Object.create(Pe&&Pe.prototype,{constructor:{value:Qe,writable:!0,configurable:!0}}),Pe&&j(Qe,Pe)})(Re,He),je=Re,(Ze=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(Qe,Pe,St){Qe.country!==this.props.country?this.updateCountry(this.props.country):Qe.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(Qe){if(Qe===null)return this.setState({selectedCountry:0,formattedNumber:""});var Pe=this.state,St=Pe.onlyCountries,Nt=Pe.selectedCountry,We=Pe.hiddenAreaCodes,en=this.props,zt=en.country,rn=en.prefix;if(Qe==="")return this.setState({selectedCountry:Nt,formattedNumber:""});var Ge,kn,_n=Qe.replace(/\D/g,"");if(Nt&&K()(Qe,rn+Nt.dialCode))kn=this.formatNumber(_n,Nt),this.setState({formattedNumber:kn});else{var Lt=(Ge=this.props.disableCountryGuess?Nt:this.guessSelectedCountry(_n.substring(0,6),zt,St,We)||Nt)&&K()(_n,rn+Ge.dialCode)?Ge.dialCode:"";kn=this.formatNumber((this.props.disableCountryCode?"":Lt)+_n,Ge||void 0),this.setState({selectedCountry:Ge,formattedNumber:kn})}}},{key:"render",value:function(){var Qe,Pe,St,Nt=this,We=this.state,en=We.onlyCountries,zt=We.selectedCountry,rn=We.showDropdown,Ge=We.formattedNumber,kn=We.hiddenAreaCodes,_n=this.props,Lt=_n.disableDropdown,pn=_n.renderStringAsFlag,Tn=_n.isValid,tr=_n.defaultErrorMessage,Vt=_n.specialLabel;if(typeof Tn=="boolean")Pe=Tn;else{var lr=Tn(Ge.replace(/\D/g,""),zt,en,kn);typeof lr=="boolean"?(Pe=lr)===!1&&(St=tr):(Pe=!1,St=lr)}var sr=pe()((r(Qe={},this.props.containerClass,!0),r(Qe,"react-tel-input",!0),Qe)),xn=pe()({arrow:!0,up:rn}),En=pe()(r({"form-control":!0,"invalid-number":!Pe,open:rn},this.props.inputClass,!0)),hn=pe()({"selected-flag":!0,open:rn}),jn=pe()(r({"flag-dropdown":!0,"invalid-number":!Pe,open:rn},this.props.buttonClass,!0)),_t="flag ".concat(zt&&zt.iso2);return z.a.createElement("div",{className:"".concat(sr," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},Vt&&z.a.createElement("div",{className:"special-label"},Vt),St&&z.a.createElement("div",{className:"invalid-number-message"},St),z.a.createElement("input",Object.assign({className:En,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:Ge,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(Oe){Nt.numberInputRef=Oe,typeof Nt.props.inputProps.ref=="function"?Nt.props.inputProps.ref(Oe):typeof Nt.props.inputProps.ref=="object"&&(Nt.props.inputProps.ref.current=Oe)}})),z.a.createElement("div",{className:jn,style:this.props.buttonStyle,ref:function(Oe){return Nt.dropdownContainerRef=Oe}},pn?z.a.createElement("div",{className:hn},pn):z.a.createElement("div",{onClick:Lt?void 0:this.handleFlagDropdownClick,className:hn,title:zt?"".concat(zt.localName||zt.name,": + ").concat(zt.dialCode):"",tabIndex:Lt?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!rn||void 0},z.a.createElement("div",{className:_t},!Lt&&z.a.createElement("div",{className:xn}))),rn&&this.getCountryDropdownList()))}}])&&b(je.prototype,Ze),Re})(z.a.Component);Be.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},t.default=Be}])),tM}var Ixe=kxe();const Tk=qh(Ixe);function ml({className:e,type:t,icon:n,...r}){return r.phoneInput?S.jsx(Tk,{containerClass:"!w-full phone-input-field ",inputClass:Dn("!p-2 !w-full file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),specialLabel:r.placeholder,placeholder:r.placeholder,value:r.value?String(r.value):void 0,onChange:a=>{r.onChange?.({target:{value:a}})}}):S.jsxs("div",{className:"flex items-center",children:[n&&S.jsx("div",{className:"items-center justify-center mr-1",children:n}),S.jsx("input",{type:t,"data-slot":"input",className:Dn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})]})}function Nxe(e){const t=Rxe(e),n=$.forwardRef((r,a)=>{const{children:l,...u}=r,i=$.Children.toArray(l),m=i.find(Oxe);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function Rxe(e){const t=$.forwardRef((n,r)=>{const{children:a,...l}=n;if($.isValidElement(a)){const u=Lxe(a),i=Dxe(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Mxe=Symbol("radix.slottable");function Oxe(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Mxe}function Dxe(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function Lxe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var fN="Popover",[ZW]=vd(fN,[fw]),MT=fw(),[Pxe,Wb]=ZW(fN),XW=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:a,onOpenChange:l,modal:u=!1}=e,i=MT(t),m=$.useRef(null),[b,_]=$.useState(!1),[w,M]=Zf({prop:r,defaultProp:a??!1,onChange:l,caller:fN});return S.jsx(RI,{...i,children:S.jsx(Pxe,{scope:t,contentId:eg(),triggerRef:m,open:w,onOpenChange:M,onOpenToggle:$.useCallback(()=>M(P=>!P),[M]),hasCustomAnchor:b,onCustomAnchorAdd:$.useCallback(()=>_(!0),[]),onCustomAnchorRemove:$.useCallback(()=>_(!1),[]),modal:u,children:n})})};XW.displayName=fN;var KW="PopoverAnchor",QW=$.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Wb(KW,n),l=MT(n),{onCustomAnchorAdd:u,onCustomAnchorRemove:i}=a;return $.useEffect(()=>(u(),()=>i()),[u,i]),S.jsx(MI,{...l,...r,ref:t})});QW.displayName=KW;var JW="PopoverTrigger",eZ=$.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Wb(JW,n),l=MT(n),u=ni(t,a.triggerRef),i=S.jsx(xa.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":iZ(a.open),...r,ref:u,onClick:kr(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?i:S.jsx(MI,{asChild:!0,...l,children:i})});eZ.displayName=JW;var P8="PopoverPortal",[Fxe,Bxe]=ZW(P8,{forceMount:void 0}),tZ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:a}=e,l=Wb(P8,t);return S.jsx(Fxe,{scope:t,forceMount:n,children:S.jsx(ec,{present:n||l.open,children:S.jsx(pT,{asChild:!0,container:a,children:r})})})};tZ.displayName=P8;var DE="PopoverContent",nZ=$.forwardRef((e,t)=>{const n=Bxe(DE,e.__scopePopover),{forceMount:r=n.forceMount,...a}=e,l=Wb(DE,e.__scopePopover);return S.jsx(ec,{present:r||l.open,children:l.modal?S.jsx(jxe,{...a,ref:t}):S.jsx(zxe,{...a,ref:t})})});nZ.displayName=DE;var $xe=Nxe("PopoverContent.RemoveScroll"),jxe=$.forwardRef((e,t)=>{const n=Wb(DE,e.__scopePopover),r=$.useRef(null),a=ni(t,r),l=$.useRef(!1);return $.useEffect(()=>{const u=r.current;if(u)return DL(u)},[]),S.jsx(FI,{as:$xe,allowPinchZoom:!0,children:S.jsx(rZ,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:kr(e.onCloseAutoFocus,u=>{u.preventDefault(),l.current||n.triggerRef.current?.focus()}),onPointerDownOutside:kr(e.onPointerDownOutside,u=>{const i=u.detail.originalEvent,m=i.button===0&&i.ctrlKey===!0,b=i.button===2||m;l.current=b},{checkForDefaultPrevented:!1}),onFocusOutside:kr(e.onFocusOutside,u=>u.preventDefault(),{checkForDefaultPrevented:!1})})})}),zxe=$.forwardRef((e,t)=>{const n=Wb(DE,e.__scopePopover),r=$.useRef(!1),a=$.useRef(!1);return S.jsx(rZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{e.onCloseAutoFocus?.(l),l.defaultPrevented||(r.current||n.triggerRef.current?.focus(),l.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:l=>{e.onInteractOutside?.(l),l.defaultPrevented||(r.current=!0,l.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const u=l.target;n.triggerRef.current?.contains(u)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&a.current&&l.preventDefault()}})}),rZ=$.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:b,onInteractOutside:_,...w}=e,M=Wb(DE,n),P=MT(n);return OL(),S.jsx(LI,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:l,children:S.jsx(fT,{asChild:!0,disableOutsidePointerEvents:u,onInteractOutside:_,onEscapeKeyDown:i,onPointerDownOutside:m,onFocusOutside:b,onDismiss:()=>M.onOpenChange(!1),children:S.jsx(AL,{"data-state":iZ(M.open),role:"dialog",id:M.contentId,...P,...w,ref:t,style:{...w.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aZ="PopoverClose",Uxe=$.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=Wb(aZ,n);return S.jsx(xa.button,{type:"button",...r,ref:t,onClick:kr(e.onClick,()=>a.onOpenChange(!1))})});Uxe.displayName=aZ;var Gxe="PopoverArrow",Hxe=$.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,a=MT(n);return S.jsx(kL,{...a,...r,ref:t})});Hxe.displayName=Gxe;function iZ(e){return e?"open":"closed"}var Vxe=XW,qxe=QW,Yxe=eZ,Wxe=tZ,Zxe=nZ;function LE({...e}){return S.jsx(Vxe,{"data-slot":"popover",...e})}function PE({...e}){return S.jsx(Yxe,{"data-slot":"popover-trigger",...e})}function FE({className:e,align:t="center",sideOffset:n=4,...r}){return S.jsx(Wxe,{children:S.jsx(Zxe,{"data-slot":"popover-content",align:t,sideOffset:n,className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function Xxe({...e}){return S.jsx(qxe,{"data-slot":"popover-anchor",...e})}function D3(e){const{control:t,value:n,checked:r,bubbles:a=!0,type:l="hidden",style:u,...i}=e,m=$.useMemo(()=>l==="checkbox"||l==="radio"||l==="switch",[l]),b=$.useRef(null),_=$.useRef({value:m?r:n,previous:m?r:n}),w=$.useMemo(()=>{const G=m?r:n;return _.current.value!==G&&(_.current.previous=_.current.value,_.current.value=G),_.current.previous},[m,n,r]),[M,P]=$.useState({});$.useLayoutEffect(()=>{if(!t){P({});return}if(P({width:t.offsetWidth,height:t.offsetHeight}),typeof window>"u")return;const G=new ResizeObserver(z=>{if(!Array.isArray(z)||!z.length)return;const q=z[0];if(!q)return;let Y,J;if("borderBoxSize"in q){const ne=q.borderBoxSize,ie=Array.isArray(ne)?ne[0]:ne;Y=ie.inlineSize,J=ie.blockSize}else Y=t.offsetWidth,J=t.offsetHeight;P({width:Y,height:J})});return G.observe(t,{box:"border-box"}),()=>{G.disconnect()}},[t]),$.useEffect(()=>{const G=b.current;if(!G)return;const z=window.HTMLInputElement.prototype,q=m?"checked":"value",Y=m?"click":"input",J=m?r:n,ne=m?r:typeof n=="object"&&n!==null?JSON.stringify(n):n,ue=Object.getOwnPropertyDescriptor(z,q)?.set;if(w!==J&&ue){const oe=new Event(Y,{bubbles:a});ue.call(G,ne),G.dispatchEvent(oe)}},[w,n,r,a,m]);const j=$.useMemo(()=>({...u,...M.width!==void 0&&M.height!==void 0?M:{},border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"}),[u,M]);return S.jsx("input",{type:l,...i,ref:b,"aria-hidden":m,tabIndex:-1,defaultChecked:m?r:void 0,style:j})}const rv=typeof window<"u"?$.useLayoutEffect:$.useEffect;function F8(e){const t=$.useRef(e);return rv(()=>{t.current=e}),t}function Ck(e){const t=$.useRef(null);return t.current===null&&(t.current=e()),t}function Yj(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Kxe(...e){return t=>{let n=!1;const r=e.map(a=>{const l=Yj(a,t);return!n&&typeof l=="function"&&(n=!0),l});if(n)return()=>{for(let a=0;a<r.length;a++){const l=r[a];typeof l=="function"?l():Yj(e[a],null)}}}}function Y1(...e){return $.useCallback(Kxe(...e),e)}var Qxe=$.createContext(void 0);function W1(e){const t=$.useContext(Qxe);return e||t||"ltr"}function B8(e,[t,n]){return Math.min(n,Math.max(t,e))}function Wj(e){const t=Jxe(e),n=$.forwardRef((r,a)=>{const{children:l,...u}=r,i=$.Children.toArray(l),m=i.find(tEe);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function Jxe(e){const t=$.forwardRef((n,r)=>{const{children:a,...l}=n;if($.isValidElement(a)){const u=rEe(a),i=nEe(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eEe=Symbol("radix.slottable");function tEe(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eEe}function nEe(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function rEe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function $8(e){const t=e+"CollectionProvider",[n,r]=vd(t),[a,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),u=G=>{const{scope:z,children:q}=G,Y=Ve.useRef(null),J=Ve.useRef(new Map).current;return S.jsx(a,{scope:z,itemMap:J,collectionRef:Y,children:q})};u.displayName=t;const i=e+"CollectionSlot",m=Wj(i),b=Ve.forwardRef((G,z)=>{const{scope:q,children:Y}=G,J=l(i,q),ne=ni(z,J.collectionRef);return S.jsx(m,{ref:ne,children:Y})});b.displayName=i;const _=e+"CollectionItemSlot",w="data-radix-collection-item",M=Wj(_),P=Ve.forwardRef((G,z)=>{const{scope:q,children:Y,...J}=G,ne=Ve.useRef(null),ie=ni(z,ne),ue=l(_,q);return Ve.useEffect(()=>(ue.itemMap.set(ne,{ref:ne,...J}),()=>void ue.itemMap.delete(ne))),S.jsx(M,{[w]:"",ref:ie,children:Y})});P.displayName=_;function j(G){const z=l(e+"CollectionConsumer",G);return Ve.useCallback(()=>{const Y=z.collectionRef.current;if(!Y)return[];const J=Array.from(Y.querySelectorAll(`[${w}]`));return Array.from(z.itemMap.values()).sort((ue,oe)=>J.indexOf(ue.ref.current)-J.indexOf(oe.ref.current))},[z.collectionRef,z.itemMap])}return[{Provider:u,Slot:b,ItemSlot:P},j,r]}var oZ=["PageUp","PageDown"],sZ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],lZ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},_w="Slider",[L3,aEe,iEe]=$8(_w),[uZ]=vd(_w,[iEe]),[oEe,hN]=uZ(_w),cZ=$.forwardRef((e,t)=>{const{name:n,min:r=0,max:a=100,step:l=1,orientation:u="horizontal",disabled:i=!1,minStepsBetweenThumbs:m=0,defaultValue:b=[r],value:_,onValueChange:w=()=>{},onValueCommit:M=()=>{},inverted:P=!1,form:j,...G}=e,z=$.useRef(new Set),q=$.useRef(0),J=u==="horizontal"?sEe:lEe,[ne=[],ie]=Zf({prop:_,defaultProp:b,onChange:ve=>{[...z.current][q.current]?.focus(),w(ve)}}),ue=$.useRef(ne);function oe(ve){const Te=hEe(ne,ve);pe(ve,Te)}function K(ve){pe(ve,q.current)}function se(){const ve=ue.current[q.current];ne[q.current]!==ve&&M(ne)}function pe(ve,Te,{commit:Me}={commit:!1}){const xe=yEe(l),Se=vEe(Math.round((ve-r)/l)*l+r,xe),he=B8(Se,[r,a]);ie((we=[])=>{const _e=dEe(we,he,Te);if(gEe(_e,m*l)){q.current=_e.indexOf(he);const Be=String(_e)!==String(we);return Be&&Me&&M(_e),Be?_e:we}else return we})}return S.jsx(oEe,{scope:e.__scopeSlider,name:n,disabled:i,min:r,max:a,valueIndexToChangeRef:q,thumbs:z.current,values:ne,orientation:u,form:j,children:S.jsx(L3.Provider,{scope:e.__scopeSlider,children:S.jsx(L3.Slot,{scope:e.__scopeSlider,children:S.jsx(J,{"aria-disabled":i,"data-disabled":i?"":void 0,...G,ref:t,onPointerDown:kr(G.onPointerDown,()=>{i||(ue.current=ne)}),min:r,max:a,inverted:P,onSlideStart:i?void 0:oe,onSlideMove:i?void 0:K,onSlideEnd:i?void 0:se,onHomeKeyDown:()=>!i&&pe(r,0,{commit:!0}),onEndKeyDown:()=>!i&&pe(a,ne.length-1,{commit:!0}),onStepKeyDown:({event:ve,direction:Te})=>{if(!i){const Se=oZ.includes(ve.key)||ve.shiftKey&&sZ.includes(ve.key)?10:1,he=q.current,we=ne[he],_e=l*Se*Te;pe(we+_e,he,{commit:!0})}}})})})})});cZ.displayName=_w;var[dZ,fZ]=uZ(_w,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sEe=$.forwardRef((e,t)=>{const{min:n,max:r,dir:a,inverted:l,onSlideStart:u,onSlideMove:i,onSlideEnd:m,onStepKeyDown:b,..._}=e,[w,M]=$.useState(null),P=ni(t,J=>M(J)),j=$.useRef(void 0),G=W1(a),z=G==="ltr",q=z&&!l||!z&&l;function Y(J){const ne=j.current||w.getBoundingClientRect(),ie=[0,ne.width],oe=j8(ie,q?[n,r]:[r,n]);return j.current=ne,oe(J-ne.left)}return S.jsx(dZ,{scope:e.__scopeSlider,startEdge:q?"left":"right",endEdge:q?"right":"left",direction:q?1:-1,size:"width",children:S.jsx(hZ,{dir:G,"data-orientation":"horizontal",..._,ref:P,style:{..._.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:J=>{const ne=Y(J.clientX);u?.(ne)},onSlideMove:J=>{const ne=Y(J.clientX);i?.(ne)},onSlideEnd:()=>{j.current=void 0,m?.()},onStepKeyDown:J=>{const ie=lZ[q?"from-left":"from-right"].includes(J.key);b?.({event:J,direction:ie?-1:1})}})})}),lEe=$.forwardRef((e,t)=>{const{min:n,max:r,inverted:a,onSlideStart:l,onSlideMove:u,onSlideEnd:i,onStepKeyDown:m,...b}=e,_=$.useRef(null),w=ni(t,_),M=$.useRef(void 0),P=!a;function j(G){const z=M.current||_.current.getBoundingClientRect(),q=[0,z.height],J=j8(q,P?[r,n]:[n,r]);return M.current=z,J(G-z.top)}return S.jsx(dZ,{scope:e.__scopeSlider,startEdge:P?"bottom":"top",endEdge:P?"top":"bottom",size:"height",direction:P?1:-1,children:S.jsx(hZ,{"data-orientation":"vertical",...b,ref:w,style:{...b.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:G=>{const z=j(G.clientY);l?.(z)},onSlideMove:G=>{const z=j(G.clientY);u?.(z)},onSlideEnd:()=>{M.current=void 0,i?.()},onStepKeyDown:G=>{const q=lZ[P?"from-bottom":"from-top"].includes(G.key);m?.({event:G,direction:q?-1:1})}})})}),hZ=$.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:a,onSlideEnd:l,onHomeKeyDown:u,onEndKeyDown:i,onStepKeyDown:m,...b}=e,_=hN(_w,n);return S.jsx(xa.span,{...b,ref:t,onKeyDown:kr(e.onKeyDown,w=>{w.key==="Home"?(u(w),w.preventDefault()):w.key==="End"?(i(w),w.preventDefault()):oZ.concat(sZ).includes(w.key)&&(m(w),w.preventDefault())}),onPointerDown:kr(e.onPointerDown,w=>{const M=w.target;M.setPointerCapture(w.pointerId),w.preventDefault(),_.thumbs.has(M)?M.focus():r(w)}),onPointerMove:kr(e.onPointerMove,w=>{w.target.hasPointerCapture(w.pointerId)&&a(w)}),onPointerUp:kr(e.onPointerUp,w=>{const M=w.target;M.hasPointerCapture(w.pointerId)&&(M.releasePointerCapture(w.pointerId),l(w))})})}),pZ="SliderTrack",mZ=$.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=hN(pZ,n);return S.jsx(xa.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...r,ref:t})});mZ.displayName=pZ;var P3="SliderRange",gZ=$.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,a=hN(P3,n),l=fZ(P3,n),u=$.useRef(null),i=ni(t,u),m=a.values.length,b=a.values.map(M=>bZ(M,a.min,a.max)),_=m>1?Math.min(...b):0,w=100-Math.max(...b);return S.jsx(xa.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...r,ref:i,style:{...e.style,[l.startEdge]:_+"%",[l.endEdge]:w+"%"}})});gZ.displayName=P3;var F3="SliderThumb",yZ=$.forwardRef((e,t)=>{const n=aEe(e.__scopeSlider),[r,a]=$.useState(null),l=ni(t,i=>a(i)),u=$.useMemo(()=>r?n().findIndex(i=>i.ref.current===r):-1,[n,r]);return S.jsx(uEe,{...e,ref:l,index:u})}),uEe=$.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:a,...l}=e,u=hN(F3,n),i=fZ(F3,n),[m,b]=$.useState(null),_=ni(t,Y=>b(Y)),w=m?u.form||!!m.closest("form"):!0,M=NI(m),P=u.values[r],j=P===void 0?0:bZ(P,u.min,u.max),G=fEe(r,u.values.length),z=M?.[i.size],q=z?pEe(z,j,i.direction):0;return $.useEffect(()=>{if(m)return u.thumbs.add(m),()=>{u.thumbs.delete(m)}},[m,u.thumbs]),S.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${j}% + ${q}px)`},children:[S.jsx(L3.ItemSlot,{scope:e.__scopeSlider,children:S.jsx(xa.span,{role:"slider","aria-label":e["aria-label"]||G,"aria-valuemin":u.min,"aria-valuenow":P,"aria-valuemax":u.max,"aria-orientation":u.orientation,"data-orientation":u.orientation,"data-disabled":u.disabled?"":void 0,tabIndex:u.disabled?void 0:0,...l,ref:_,style:P===void 0?{display:"none"}:e.style,onFocus:kr(e.onFocus,()=>{u.valueIndexToChangeRef.current=r})})}),w&&S.jsx(vZ,{name:a??(u.name?u.name+(u.values.length>1?"[]":""):void 0),form:u.form,value:P},r)]})});yZ.displayName=F3;var cEe="RadioBubbleInput",vZ=$.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const a=$.useRef(null),l=ni(a,r),u=$L(t);return $.useEffect(()=>{const i=a.current;if(!i)return;const m=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==t&&_){const w=new Event("input",{bubbles:!0});_.call(i,t),i.dispatchEvent(w)}},[u,t]),S.jsx(xa.input,{style:{display:"none"},...n,ref:l,defaultValue:t})});vZ.displayName=cEe;function dEe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((a,l)=>a-l)}function bZ(e,t,n){const l=100/(n-t)*(e-t);return B8(l,[0,100])}function fEe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function hEe(e,t){if(e.length===1)return 0;const n=e.map(a=>Math.abs(a-t)),r=Math.min(...n);return n.indexOf(r)}function pEe(e,t,n){const r=e/2,l=j8([0,50],[0,r]);return(r-l(t)*n)*n}function mEe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function gEe(e,t){if(t>0){const n=mEe(e);return Math.min(...n)>=t}return!0}function j8(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function yEe(e){return(String(e).split(".")[1]||"").length}function vEe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var bEe=cZ,_Ee=mZ,xEe=gZ,EEe=yZ;const wEe="ColorPicker",SEe="ColorPickerImpl",TEe="ColorPickerTrigger",CEe="ColorPickerContent",Zj="ColorPickerArea",Xj="ColorPickerHueSlider",AEe="ColorPickerSwatch",Kj="ColorPickerEyeDropper",Qj="ColorPickerInput";function pN(e,t){const n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:Number.parseInt(n[1]??"0",16),g:Number.parseInt(n[2]??"0",16),b:Number.parseInt(n[3]??"0",16),a:t??1}:{r:0,g:0,b:0,a:t??1}}function z8(e){const t=n=>{const r=Math.round(n).toString(16);return r.length===1?`0${r}`:r};return`#${t(e.r)}${t(e.g)}${t(e.b)}`}function mN(e){const t=e.r/255,n=e.g/255,r=e.b/255,a=Math.max(t,n,r),l=Math.min(t,n,r),u=a-l;let i=0;if(u!==0)switch(a){case t:i=(n-r)/u%6;break;case n:i=(r-t)/u+2;break;case r:i=(t-n)/u+4;break}i=Math.round(i*60),i<0&&(i+=360);const m=a===0?0:u/a,b=a;return{h:i,s:Math.round(m*100),v:Math.round(b*100),a:e.a}}function NS(e){const t=e.h/360,n=e.s/100,r=e.v/100,a=Math.floor(t*6),l=t*6-a,u=r*(1-n),i=r*(1-l*n),m=r*(1-(1-l)*n);let b,_,w;switch(a%6){case 0:{b=r,_=m,w=u;break}case 1:{b=i,_=r,w=u;break}case 2:{b=u,_=r,w=m;break}case 3:{b=u,_=i,w=r;break}case 4:{b=m,_=u,w=r;break}case 5:{b=r,_=u,w=i;break}default:b=0,_=0,w=0}return{r:Math.round(b*255),g:Math.round(_*255),b:Math.round(w*255),a:e.a}}function B3(e){return z8(e)}function kEe(e){const t=e.trim();if(t.startsWith("#")&&t.match(/^#([a-fA-F0-9]{3}|[a-fA-F0-9]{6})$/))return pN(t);const n=t.match(/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([\d.]+))?\s*\)$/);if(n)return{r:Number.parseInt(n[1]??"0",10),g:Number.parseInt(n[2]??"0",10),b:Number.parseInt(n[3]??"0",10),a:n[4]?Number.parseFloat(n[4]):1};const r=t.match(/^hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([\d.]+))?\s*\)$/);if(r){const l=Number.parseInt(r[1]??"0",10),u=Number.parseInt(r[2]??"0",10)/100,i=Number.parseInt(r[3]??"0",10)/100,m=r[4]?Number.parseFloat(r[4]):1,b=(1-Math.abs(2*i-1))*u,_=b*(1-Math.abs(l/60%2-1)),w=i-b/2;let M=0,P=0,j=0;return l>=0&&l<60?(M=b,P=_,j=0):l>=60&&l<120?(M=_,P=b,j=0):l>=120&&l<180?(M=0,P=b,j=_):l>=180&&l<240?(M=0,P=_,j=b):l>=240&&l<300?(M=_,P=0,j=b):l>=300&&l<360&&(M=b,P=0,j=_),{r:Math.round((M+w)*255),g:Math.round((P+w)*255),b:Math.round((j+w)*255),a:m}}const a=t.match(/^hsba?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([\d.]+))?\s*\)$/);if(a){const l=Number.parseInt(a[1]??"0",10),u=Number.parseInt(a[2]??"0",10),i=Number.parseInt(a[3]??"0",10),m=a[4]?Number.parseFloat(a[4]):1;return NS({h:l,s:u,v:i,a:m})}return null}const _Z=$.createContext(null);function xw(e){const t=$.useContext(_Z);if(!t)throw new Error(`\`${e}\` must be used within \`ColorPickerRoot\``);return t}function w1(e){const t=xw("useStore"),n=$.useCallback(()=>e(t.getState()),[t,e]);return $.useSyncExternalStore(t.subscribe,n,n)}const $3=$.createContext(null);function Z1(e){const t=$.useContext($3);if(!t)throw new Error(`\`${e}\` must be used within \`${wEe}\``);return t}function xZ(e){const{value:t,defaultValue:n="#000000",onValueChange:r,defaultOpen:a,open:l,onOpenChange:u,name:i,disabled:m,inline:b,readOnly:_,required:w,...M}=e,P=Ck(()=>new Set),j=Ck(()=>{const Y=pN(t??n,1);return{color:{...Y,a:1},hsv:{...mN(Y),a:1},open:l??a??!1}}),G=F8({onValueChange:r,onOpenChange:u}),z=$.useMemo(()=>({subscribe:q=>(P.current.add(q),()=>P.current.delete(q)),getState:()=>j.current,setColor:q=>{const Y={...q,a:1};if(!Object.is(j.current.color,Y)){if(j.current.color=Y,G.current.onValueChange){const J=B3(Y);G.current.onValueChange(J)}z.notify()}},setHsv:q=>{const Y={...q,a:1};if(!Object.is(j.current.hsv,Y)){if(j.current.hsv=Y,G.current.onValueChange){const J=NS(Y),ne=B3(J);G.current.onValueChange(ne)}z.notify()}},setOpen:q=>{Object.is(j.current.open,q)||(j.current.open=q,G.current.onOpenChange&&G.current.onOpenChange(q),z.notify())},notify:()=>{for(const q of P.current)q()}}),[P,j,G]);return S.jsx(_Z.Provider,{value:z,children:S.jsx(IEe,{...M,value:t,defaultOpen:a,open:l,name:i,disabled:m,inline:b,readOnly:_,required:w})})}function IEe(e){const{value:t,dir:n,defaultOpen:r,open:a,name:l,ref:u,asChild:i,disabled:m,inline:b,modal:_,readOnly:w,required:M,...P}=e,j=xw(SEe),G=W1(n),[z,q]=$.useState(null),Y=Y1(u,K=>q(K)),J=z?!!z.closest("form"):!0;rv(()=>{if(t!==void 0){const K=pN(t,1),se=mN(K);j.setColor(K),j.setHsv(se)}},[t]),rv(()=>{a!==void 0&&j.setOpen(a)},[a]);const ne=$.useMemo(()=>({dir:G,disabled:m,inline:b,readOnly:w,required:M}),[G,m,b,w,M]),ie=w1(K=>z8(K.color)),ue=w1(K=>K.open),oe=i?Wf:"div";return b?S.jsxs($3.Provider,{value:ne,children:[S.jsx(oe,{...P,ref:Y}),J&&S.jsx(D3,{type:"hidden",control:z,name:l,value:ie,disabled:m,readOnly:w,required:M})]}):S.jsx($3.Provider,{value:ne,children:S.jsxs(LE,{defaultOpen:r,open:ue,onOpenChange:j.setOpen,modal:_,children:[S.jsx(oe,{...P,ref:Y}),J&&S.jsx(D3,{type:"hidden",control:z,name:l,value:ie,disabled:m,readOnly:w,required:M})]})})}function EZ(e){const{asChild:t,disabled:n,...r}=e,a=Z1(TEe),l=n||a.disabled,u=t?Wf:Bn;return S.jsx(PE,{asChild:!0,disabled:l,children:S.jsx(u,{"data-slot":"color-picker-trigger",...r})})}function wZ(e){const{asChild:t,className:n,children:r,...a}=e;if(Z1(CEe).inline){const u=t?Wf:"div";return S.jsx(u,{"data-slot":"color-picker-content",...a,className:Dn("flex w-[340px] flex-col gap-4 p-4",n),children:r})}return S.jsx(FE,{"data-slot":"color-picker-content",asChild:t,...a,className:Dn("flex w-[340px] flex-col gap-4 p-4",n),children:r})}function SZ(e){const{asChild:t,onPointerDown:n,onPointerMove:r,onPointerUp:a,className:l,ref:u,...i}=e,m=F8({onPointerDown:n,onPointerMove:r,onPointerUp:a}),b=Z1(Zj),_=xw(Zj),w=w1(ue=>ue.hsv),M=$.useRef(!1),P=$.useRef(null),j=Y1(u,P),G=$.useCallback((ue,oe)=>{if(!P.current)return;const K=P.current.getBoundingClientRect(),se=Math.max(0,Math.min(1,(ue-K.left)/K.width)),pe=Math.max(0,Math.min(1,1-(oe-K.top)/K.height)),ve={h:w?.h??0,s:Math.round(se*100),v:Math.round(pe*100),a:1};_.setHsv(ve),_.setColor(NS(ve))},[w,_]),z=$.useCallback(ue=>{b.disabled||(m.current.onPointerDown?.(ue),!ue.defaultPrevented&&(M.current=!0,P.current?.setPointerCapture(ue.pointerId),G(ue.clientX,ue.clientY)))},[b.disabled,G,m]),q=$.useCallback(ue=>{m.current.onPointerMove?.(ue),!ue.defaultPrevented&&M.current&&G(ue.clientX,ue.clientY)},[G,m]),Y=$.useCallback(ue=>{m.current.onPointerUp?.(ue),!ue.defaultPrevented&&(M.current=!1,P.current?.releasePointerCapture(ue.pointerId))},[m]),J=w?.h??0,ne=NS({h:J,s:100,v:100,a:1}),ie=t?Wf:"div";return S.jsxs(ie,{"data-slot":"color-picker-area",...i,className:Dn("relative h-40 w-full cursor-crosshair touch-none rounded-sm border",b.disabled&&"pointer-events-none opacity-50",l),ref:j,onPointerDown:z,onPointerMove:q,onPointerUp:Y,children:[S.jsxs("div",{className:"absolute inset-0 overflow-hidden rounded-sm",children:[S.jsx("div",{className:"absolute inset-0",style:{backgroundColor:`rgb(${ne.r}, ${ne.g}, ${ne.b})`}}),S.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to right, #fff, transparent)"}}),S.jsx("div",{className:"absolute inset-0",style:{background:"linear-gradient(to bottom, transparent, #000)"}})]}),S.jsx("div",{className:"-translate-x-1/2 -translate-y-1/2 absolute size-3 rounded-full border-2 border-white shadow-sm",style:{left:`${w?.s??0}%`,top:`${100-(w?.v??0)}%`}})]})}function TZ(e){const{className:t,...n}=e,r=Z1(Xj),a=xw(Xj),l=w1(i=>i.hsv),u=$.useCallback(i=>{const m={h:i[0]??0,s:l?.s??0,v:l?.v??0,a:1};a.setHsv(m),a.setColor(NS(m))},[l,a]);return S.jsxs(bEe,{"data-slot":"color-picker-hue-slider",...n,max:360,step:1,className:Dn("relative flex w-full touch-none select-none items-center",t),value:[l?.h??0],onValueChange:u,disabled:r.disabled,children:[S.jsx(_Ee,{className:"relative h-3 w-full grow overflow-hidden rounded-full bg-[linear-gradient(to_right,#ff0000_0%,#ffff00_16.66%,#00ff00_33.33%,#00ffff_50%,#0000ff_66.66%,#ff00ff_83.33%,#ff0000_100%)]",children:S.jsx(xEe,{className:"absolute h-full"})}),S.jsx(EEe,{className:"block size-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]})}function CZ(e){const{asChild:t,className:n,...r}=e,a=Z1(AEe),l=w1(b=>b.color),u=$.useMemo(()=>l?{backgroundColor:`rgb(${l.r}, ${l.g}, ${l.b})`}:{background:"linear-gradient(to bottom right, transparent calc(50% - 1px), hsl(var(--destructive)) calc(50% - 1px) calc(50% + 1px), transparent calc(50% + 1px)) no-repeat"},[l]),i=l?`Current color: ${B3(l)}`:"No color selected",m=t?Wf:"div";return S.jsx(m,{role:"img","aria-label":i,"data-slot":"color-picker-swatch",...r,className:Dn("box-border size-8 rounded-sm border shadow-sm",a.disabled&&"opacity-50",n),style:{...u,forcedColorAdjust:"none"}})}function AZ(e){const{size:t,children:n,disabled:r,...a}=e,l=Z1(Kj),u=xw(Kj),i=w1(M=>M.color),m=r||l.disabled,b=$.useCallback(async()=>{if(window.EyeDropper)try{const P=await new window.EyeDropper().open();if(P.sRGBHex){const j=pN(P.sRGBHex,1),G=mN(j);u.setColor(j),u.setHsv(G)}}catch(M){console.warn("EyeDropper error:",M)}},[i,u]);if(!(typeof window<"u"&&!!window.EyeDropper))return null;const w=t??(n?"default":"icon");return S.jsx(Bn,{"data-slot":"color-picker-eye-dropper",...a,variant:"outline",size:w,onClick:b,disabled:m,children:n??S.jsx(Ase,{})})}function kZ(e){const t=xw(Qj),n=Z1(Qj),r=w1(l=>l.color),a=$.useCallback(l=>{const u={...l,a:1},i=mN(u);t.setColor(u),t.setHsv(i)},[t]);return S.jsx(MEe,{color:r,onColorChange:a,context:n,...e})}const NEe=Vb("h-8 [-moz-appearance:textfield] focus-visible:z-10 focus-visible:ring-1 [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none",{variants:{position:{first:"rounded-e-none",middle:"-ms-px rounded-none border-l-0",last:"-ms-px rounded-s-none border-l-0",isolated:""}},defaultVariants:{position:"isolated"}});function REe({className:e,position:t,...n}){return S.jsx(ml,{"data-slot":"color-picker-input",className:Dn(NEe({position:t,className:e})),...n})}function MEe(e){const{color:t,onColorChange:n,context:r,className:a,...l}=e,u=z8(t),i=$.useCallback(m=>{const b=m.target.value,_=kEe(b);_&&n({..._,a:1})},[n]);return S.jsx(REe,{"aria-label":"Hex color value",position:"isolated",...l,placeholder:"#000000",className:Dn("font-mono",a),value:u,onChange:i,disabled:r.disabled})}const OEe=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const[r,a]=$.useState(!1);return e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx("div",{className:"flex items-center gap-3 w-full",children:S.jsx("div",{style:{backgroundColor:t},className:"w-full h-10 bg-gray-200 rounded-md"})}),S.jsx(La,{...e})]}):S.jsxs(Ve.Fragment,{children:[S.jsx(ma,{...e}),S.jsxs("div",{className:"flex items-center gap-3 w-full",children:[S.jsxs(xZ,{value:t,onValueChange:n,open:r,onOpenChange:a,className:"w-full",children:[S.jsx(EZ,{asChild:!0,children:S.jsxs(Bn,{variant:"outline",className:"flex items-center gap-2 w-full",children:[S.jsx(CZ,{className:"size-4"}),t||tt.key("pick_color"),S.jsx(wI,{className:"opacity-50"})]})}),S.jsxs(wZ,{children:[S.jsx(SZ,{}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(AZ,{}),S.jsx(TZ,{})]}),S.jsx(kZ,{})]})]}),S.jsx(Bn,{variant:"outline",onClick:()=>n(null),children:e.structure.col&&e.structure.col<12?S.jsx(Yl,{}):tt.key("reset")})]}),S.jsx(La,{...e})]})};function DEe(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const LEe={},N2={};function a1(e,t){try{const r=(LEe[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return r in N2?N2[r]:Jj(r,r.split(":"))}catch{if(e in N2)return N2[e];const n=e?.match(PEe);return n?Jj(e,n.slice(1)):NaN}}const PEe=/([+-]\d\d):?(\d\d)?/;function Jj(e,t){const n=+(t[0]||0),r=+(t[1]||0),a=+(t[2]||0)/60;return N2[e]=n*60+r>0?n*60+r+a:n*60-r-a}class _y extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(a1(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),IZ(this),j3(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new _y(...n,t):new _y(Date.now(),t)}withTimeZone(t){return new _y(+this,t)}getTimezoneOffset(){const t=-a1(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),j3(this),+this}[Symbol.for("constructDateFrom")](t){return new _y(+new Date(t),this.timeZone)}}const e7=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!e7.test(e))return;const t=e.replace(e7,"$1UTC");_y.prototype[t]&&(e.startsWith("get")?_y.prototype[e]=function(){return this.internal[t]()}:(_y.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),FEe(this),+this},_y.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),j3(this),+this}))});function j3(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-a1(e.timeZone,e)*60))}function FEe(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),IZ(e)}function IZ(e){const t=a1(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),r=new Date(+e);r.setUTCHours(r.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),l=-new Date(+r).getTimezoneOffset(),u=a-l,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();u&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+u);const m=a-n;m&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+m);const b=new Date(+e);b.setUTCSeconds(0);const _=a>0?b.getSeconds():(b.getSeconds()-60)%60,w=Math.round(-(a1(e.timeZone,e)*60))%60;(w||_)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+w),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+w+_));const M=a1(e.timeZone,e),P=M>0?Math.floor(M):Math.ceil(M),G=-new Date(+e).getTimezoneOffset()-P,z=P!==n,q=G-m;if(z&&q){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+q);const Y=a1(e.timeZone,e),J=Y>0?Math.floor(Y):Math.ceil(Y),ne=P-J;ne&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+ne),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+ne))}}class z0 extends _y{static tz(t,...n){return n.length?new z0(...n,t):new z0(Date.now(),t)}toISOString(){const[t,n,r]=this.tzComponents(),a=`${t}${n}:${r}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,r,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${r} ${n} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,r,a]=this.tzComponents();return`${t} GMT${n}${r}${a} (${DEe(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",r=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[n,r,a]}withTimeZone(t){return new z0(+this,t)}[Symbol.for("constructDateFrom")](t){return new z0(+new Date(t),this.timeZone)}}const NZ=6048e5,BEe=864e5,t7=Symbol.for("constructDateFrom");function Zl(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&t7 in e?e[t7](t):e instanceof Date?new e.constructor(t):new Date(t)}function vo(e,t){return Zl(t||e,e)}function RZ(e,t,n){const r=vo(e,n?.in);return isNaN(t)?Zl(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function MZ(e,t,n){const r=vo(e,n?.in);if(isNaN(t))return Zl(e,NaN);if(!t)return r;const a=r.getDate(),l=Zl(e,r.getTime());l.setMonth(r.getMonth()+t+1,0);const u=l.getDate();return a>=u?l:(r.setFullYear(l.getFullYear(),l.getMonth(),a),r)}let $Ee={};function OT(){return $Ee}function BE(e,t){const n=OT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=vo(e,t?.in),l=a.getDay(),u=(l<r?7:0)+l-r;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function RS(e,t){return BE(e,{...t,weekStartsOn:1})}function OZ(e,t){const n=vo(e,t?.in),r=n.getFullYear(),a=Zl(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=RS(a),u=Zl(n,0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);const i=RS(u);return n.getTime()>=l.getTime()?r+1:n.getTime()>=i.getTime()?r:r-1}function n7(e){const t=vo(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Ew(e,...t){const n=Zl.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function MS(e,t){const n=vo(e,t?.in);return n.setHours(0,0,0,0),n}function DZ(e,t,n){const[r,a]=Ew(n?.in,e,t),l=MS(r),u=MS(a),i=+l-n7(l),m=+u-n7(u);return Math.round((i-m)/BEe)}function jEe(e,t){const n=OZ(e,t),r=Zl(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),RS(r)}function zEe(e,t,n){return RZ(e,t*7,n)}function UEe(e,t,n){return MZ(e,t*12,n)}function GEe(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Zl.bind(null,a));const l=vo(a,r);(!n||n<l||isNaN(+l))&&(n=l)}),Zl(r,n||NaN)}function HEe(e,t){let n,r=t?.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=Zl.bind(null,a));const l=vo(a,r);(!n||n>l||isNaN(+l))&&(n=l)}),Zl(r,n||NaN)}function VEe(e,t,n){const[r,a]=Ew(n?.in,e,t);return+MS(r)==+MS(a)}function LZ(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function qEe(e){return!(!LZ(e)&&typeof e!="number"||isNaN(+vo(e)))}function YEe(e,t,n){const[r,a]=Ew(n?.in,e,t),l=r.getFullYear()-a.getFullYear(),u=r.getMonth()-a.getMonth();return l*12+u}function WEe(e,t){const n=vo(e,t?.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function PZ(e,t){const[n,r]=Ew(e,t.start,t.end);return{start:n,end:r}}function ZEe(e,t){const{start:n,end:r}=PZ(t?.in,e);let a=+n>+r;const l=a?+n:+r,u=a?r:n;u.setHours(0,0,0,0),u.setDate(1);let i=1;const m=[];for(;+u<=l;)m.push(Zl(n,u)),u.setMonth(u.getMonth()+i);return a?m.reverse():m}function XEe(e,t){const n=vo(e,t?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function KEe(e,t){const n=vo(e,t?.in),r=n.getFullYear();return n.setFullYear(r+1,0,0),n.setHours(23,59,59,999),n}function FZ(e,t){const n=vo(e,t?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function QEe(e,t){const{start:n,end:r}=PZ(t?.in,e);let a=+n>+r;const l=a?+n:+r,u=a?r:n;u.setHours(0,0,0,0),u.setMonth(0,1);let i=1;const m=[];for(;+u<=l;)m.push(Zl(n,u)),u.setFullYear(u.getFullYear()+i);return a?m.reverse():m}function BZ(e,t){const n=OT(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=vo(e,t?.in),l=a.getDay(),u=(l<r?-7:0)+6-(l-r);return a.setDate(a.getDate()+u),a.setHours(23,59,59,999),a}function JEe(e,t){return BZ(e,{...t,weekStartsOn:1})}const ewe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},twe=(e,t,n)=>{let r;const a=ewe[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function nM(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const nwe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rwe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},awe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},iwe={date:nM({formats:nwe,defaultWidth:"full"}),time:nM({formats:rwe,defaultWidth:"full"}),dateTime:nM({formats:awe,defaultWidth:"full"})},owe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},swe=(e,t,n,r)=>owe[e];function d2(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const u=e.defaultFormattingWidth||e.defaultWidth,i=n?.width?String(n.width):u;a=e.formattingValues[i]||e.formattingValues[u]}else{const u=e.defaultWidth,i=n?.width?String(n.width):e.defaultWidth;a=e.values[i]||e.values[u]}const l=e.argumentCallback?e.argumentCallback(t):t;return a[l]}}const lwe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uwe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cwe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dwe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hwe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pwe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},mwe={ordinalNumber:pwe,era:d2({values:lwe,defaultWidth:"wide"}),quarter:d2({values:uwe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:d2({values:cwe,defaultWidth:"wide"}),day:d2({values:dwe,defaultWidth:"wide"}),dayPeriod:d2({values:fwe,defaultWidth:"wide",formattingValues:hwe,defaultFormattingWidth:"wide"})};function f2(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],i=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(i)?ywe(i,w=>w.test(u)):gwe(i,w=>w.test(u));let b;b=e.valueCallback?e.valueCallback(m):m,b=n.valueCallback?n.valueCallback(b):b;const _=t.slice(u.length);return{value:b,rest:_}}}function gwe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function ywe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function vwe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],l=t.match(e.parsePattern);if(!l)return null;let u=e.valueCallback?e.valueCallback(l[0]):l[0];u=n.valueCallback?n.valueCallback(u):u;const i=t.slice(a.length);return{value:u,rest:i}}}const bwe=/^(\d+)(th|st|nd|rd)?/i,_we=/\d+/i,xwe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ewe={any:[/^b/i,/^(a|c)/i]},wwe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Swe={any:[/1/i,/2/i,/3/i,/4/i]},Twe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cwe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Awe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kwe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iwe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nwe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rwe={ordinalNumber:vwe({matchPattern:bwe,parsePattern:_we,valueCallback:e=>parseInt(e,10)}),era:f2({matchPatterns:xwe,defaultMatchWidth:"wide",parsePatterns:Ewe,defaultParseWidth:"any"}),quarter:f2({matchPatterns:wwe,defaultMatchWidth:"wide",parsePatterns:Swe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:f2({matchPatterns:Twe,defaultMatchWidth:"wide",parsePatterns:Cwe,defaultParseWidth:"any"}),day:f2({matchPatterns:Awe,defaultMatchWidth:"wide",parsePatterns:kwe,defaultParseWidth:"any"}),dayPeriod:f2({matchPatterns:Iwe,defaultMatchWidth:"any",parsePatterns:Nwe,defaultParseWidth:"any"})},eE={code:"en-US",formatDistance:twe,formatLong:iwe,formatRelative:swe,localize:mwe,match:Rwe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mwe(e,t){const n=vo(e,t?.in);return DZ(n,FZ(n))+1}function $Z(e,t){const n=vo(e,t?.in),r=+RS(n)-+jEe(n);return Math.round(r/NZ)+1}function jZ(e,t){const n=vo(e,t?.in),r=n.getFullYear(),a=OT(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Zl(t?.in||e,0);u.setFullYear(r+1,0,l),u.setHours(0,0,0,0);const i=BE(u,t),m=Zl(t?.in||e,0);m.setFullYear(r,0,l),m.setHours(0,0,0,0);const b=BE(m,t);return+n>=+i?r+1:+n>=+b?r:r-1}function Owe(e,t){const n=OT(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,a=jZ(e,t),l=Zl(t?.in||e,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),BE(l,t)}function zZ(e,t){const n=vo(e,t?.in),r=+BE(n,t)-+Owe(n,t);return Math.round(r/NZ)+1}function lo(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const cb={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return lo(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):lo(n+1,2)},d(e,t){return lo(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return lo(e.getHours()%12||12,t.length)},H(e,t){return lo(e.getHours(),t.length)},m(e,t){return lo(e.getMinutes(),t.length)},s(e,t){return lo(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return lo(a,t.length)}},Hx={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r7={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return cb.y(e,t)},Y:function(e,t,n,r){const a=jZ(e,r),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return lo(u,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):lo(l,t.length)},R:function(e,t){const n=OZ(e);return lo(n,t.length)},u:function(e,t){const n=e.getFullYear();return lo(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return lo(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return lo(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return cb.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return lo(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=zZ(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):lo(a,t.length)},I:function(e,t,n){const r=$Z(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):lo(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):cb.d(e,t)},D:function(e,t,n){const r=Mwe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):lo(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return lo(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return lo(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return lo(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Hx.noon:r===0?a=Hx.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Hx.evening:r>=12?a=Hx.afternoon:r>=4?a=Hx.morning:a=Hx.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return cb.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):cb.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):lo(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):lo(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):cb.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):cb.s(e,t)},S:function(e,t){return cb.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return i7(r);case"XXXX":case"XX":return n1(r);case"XXXXX":case"XXX":default:return n1(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return i7(r);case"xxxx":case"xx":return n1(r);case"xxxxx":case"xxx":default:return n1(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+a7(r,":");case"OOOO":default:return"GMT"+n1(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+a7(r,":");case"zzzz":default:return"GMT"+n1(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return lo(r,t.length)},T:function(e,t,n){return lo(+e,t.length)}};function a7(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),l=r%60;return l===0?n+String(a):n+String(a)+t+lo(l,2)}function i7(e,t){return e%60===0?(e>0?"-":"+")+lo(Math.abs(e)/60,2):n1(e,t)}function n1(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=lo(Math.trunc(r/60),2),l=lo(r%60,2);return n+a+t+l}const o7=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},UZ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Dwe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return o7(e,t);let l;switch(r){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",o7(r,t)).replace("{{time}}",UZ(a,t))},Lwe={p:UZ,P:Dwe},Pwe=/^D+$/,Fwe=/^Y+$/,Bwe=["D","DD","YY","YYYY"];function $we(e){return Pwe.test(e)}function jwe(e){return Fwe.test(e)}function zwe(e,t,n){const r=Uwe(e,t,n);if(console.warn(r),Bwe.includes(e))throw new RangeError(r)}function Uwe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Gwe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Hwe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Vwe=/^'([^]*?)'?$/,qwe=/''/g,Ywe=/[a-zA-Z]/;function R2(e,t,n){const r=OT(),a=n?.locale??r.locale??eE,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,u=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=vo(e,n?.in);if(!qEe(i))throw new RangeError("Invalid time value");let m=t.match(Hwe).map(_=>{const w=_[0];if(w==="p"||w==="P"){const M=Lwe[w];return M(_,a.formatLong)}return _}).join("").match(Gwe).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const w=_[0];if(w==="'")return{isToken:!1,value:Wwe(_)};if(r7[w])return{isToken:!0,value:_};if(w.match(Ywe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:_}});a.localize.preprocessor&&(m=a.localize.preprocessor(i,m));const b={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(_=>{if(!_.isToken)return _.value;const w=_.value;(!n?.useAdditionalWeekYearTokens&&jwe(w)||!n?.useAdditionalDayOfYearTokens&&$we(w))&&zwe(w,t,String(e));const M=r7[w[0]];return M(i,w,a.localize,b)}).join("")}function Wwe(e){const t=e.match(Vwe);return t?t[1].replace(qwe,"'"):e}function Zwe(e,t){const n=vo(e,t?.in),r=n.getFullYear(),a=n.getMonth(),l=Zl(n,0);return l.setFullYear(r,a+1,0),l.setHours(0,0,0,0),l.getDate()}function Xwe(e,t){return vo(e,t?.in).getMonth()}function Kwe(e,t){return vo(e,t?.in).getFullYear()}function Qwe(e,t){return+vo(e)>+vo(t)}function Jwe(e,t){return+vo(e)<+vo(t)}function e2e(e,t,n){const[r,a]=Ew(n?.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function t2e(e,t,n){const[r,a]=Ew(n?.in,e,t);return r.getFullYear()===a.getFullYear()}function n2e(e,t,n){const r=vo(e,n?.in),a=r.getFullYear(),l=r.getDate(),u=Zl(e,0);u.setFullYear(a,t,15),u.setHours(0,0,0,0);const i=Zwe(u);return r.setMonth(t,Math.min(l,i)),r}function r2e(e,t,n){const r=vo(e,n?.in);return isNaN(+r)?Zl(e,NaN):(r.setFullYear(t),r)}const s7=5,a2e=4;function i2e(e,t){const n=t.startOfMonth(e),r=n.getDay()>0?n.getDay():7,a=t.addDays(e,-r+1),l=t.addDays(a,s7*7-1);return t.getMonth(e)===t.getMonth(l)?s7:a2e}function GZ(e,t){const n=t.startOfMonth(e),r=n.getDay();return r===1?n:r===0?t.addDays(n,-6):t.addDays(n,-1*(r-1))}function o2e(e,t){const n=GZ(e,t),r=i2e(e,t);return t.addDays(n,r*7-1)}const HZ={...eE,labels:{labelDayButton:(e,t,n,r)=>{let a;r&&typeof r.format=="function"?a=r.format.bind(r):a=(u,i)=>R2(u,i,{locale:eE,...n});let l=a(e,"PPPP");return t.today&&(l=`Today, ${l}`),t.selected&&(l=`${l}, selected`),l},labelMonthDropdown:"Choose the Month",labelNext:"Go to the Next Month",labelPrevious:"Go to the Previous Month",labelWeekNumber:e=>`Week ${e}`,labelYearDropdown:"Choose the Year",labelGrid:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(a,l)=>R2(a,l,{locale:eE,...t}),r(e,"LLLL yyyy")},labelGridcell:(e,t,n,r)=>{let a;r&&typeof r.format=="function"?a=r.format.bind(r):a=(u,i)=>R2(u,i,{locale:eE,...n});let l=a(e,"PPPP");return t?.today&&(l=`Today, ${l}`),l},labelNav:"Navigation bar",labelWeekNumberHeader:"Week Number",labelWeekday:(e,t,n)=>{let r;return n&&typeof n.format=="function"?r=n.format.bind(n):r=(a,l)=>R2(a,l,{locale:eE,...t}),r(e,"cccc")}}};class Hh{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?z0.tz(this.options.timeZone):new this.Date,this.newDate=(r,a,l)=>this.overrides?.newDate?this.overrides.newDate(r,a,l):this.options.timeZone?new z0(r,a,l,this.options.timeZone):new Date(r,a,l),this.addDays=(r,a)=>this.overrides?.addDays?this.overrides.addDays(r,a):RZ(r,a),this.addMonths=(r,a)=>this.overrides?.addMonths?this.overrides.addMonths(r,a):MZ(r,a),this.addWeeks=(r,a)=>this.overrides?.addWeeks?this.overrides.addWeeks(r,a):zEe(r,a),this.addYears=(r,a)=>this.overrides?.addYears?this.overrides.addYears(r,a):UEe(r,a),this.differenceInCalendarDays=(r,a)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(r,a):DZ(r,a),this.differenceInCalendarMonths=(r,a)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(r,a):YEe(r,a),this.eachMonthOfInterval=r=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(r):ZEe(r),this.eachYearOfInterval=r=>{const a=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(r):QEe(r),l=new Set(a.map(i=>this.getYear(i)));if(l.size===a.length)return a;const u=[];return l.forEach(i=>{u.push(new Date(i,0,1))}),u},this.endOfBroadcastWeek=r=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(r):o2e(r,this),this.endOfISOWeek=r=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(r):JEe(r),this.endOfMonth=r=>this.overrides?.endOfMonth?this.overrides.endOfMonth(r):WEe(r),this.endOfWeek=(r,a)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(r,a):BZ(r,this.options),this.endOfYear=r=>this.overrides?.endOfYear?this.overrides.endOfYear(r):KEe(r),this.format=(r,a,l)=>{const u=this.overrides?.format?this.overrides.format(r,a,this.options):R2(r,a,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(u):u},this.getISOWeek=r=>this.overrides?.getISOWeek?this.overrides.getISOWeek(r):$Z(r),this.getMonth=(r,a)=>this.overrides?.getMonth?this.overrides.getMonth(r,this.options):Xwe(r,this.options),this.getYear=(r,a)=>this.overrides?.getYear?this.overrides.getYear(r,this.options):Kwe(r,this.options),this.getWeek=(r,a)=>this.overrides?.getWeek?this.overrides.getWeek(r,this.options):zZ(r,this.options),this.isAfter=(r,a)=>this.overrides?.isAfter?this.overrides.isAfter(r,a):Qwe(r,a),this.isBefore=(r,a)=>this.overrides?.isBefore?this.overrides.isBefore(r,a):Jwe(r,a),this.isDate=r=>this.overrides?.isDate?this.overrides.isDate(r):LZ(r),this.isSameDay=(r,a)=>this.overrides?.isSameDay?this.overrides.isSameDay(r,a):VEe(r,a),this.isSameMonth=(r,a)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(r,a):e2e(r,a),this.isSameYear=(r,a)=>this.overrides?.isSameYear?this.overrides.isSameYear(r,a):t2e(r,a),this.max=r=>this.overrides?.max?this.overrides.max(r):GEe(r),this.min=r=>this.overrides?.min?this.overrides.min(r):HEe(r),this.setMonth=(r,a)=>this.overrides?.setMonth?this.overrides.setMonth(r,a):n2e(r,a),this.setYear=(r,a)=>this.overrides?.setYear?this.overrides.setYear(r,a):r2e(r,a),this.startOfBroadcastWeek=(r,a)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(r,this):GZ(r,this),this.startOfDay=r=>this.overrides?.startOfDay?this.overrides.startOfDay(r):MS(r),this.startOfISOWeek=r=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(r):RS(r),this.startOfMonth=r=>this.overrides?.startOfMonth?this.overrides.startOfMonth(r):XEe(r),this.startOfWeek=(r,a)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(r,this.options):BE(r,this.options),this.startOfYear=r=>this.overrides?.startOfYear?this.overrides.startOfYear(r):FZ(r),this.options={locale:HZ,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),r={};for(let a=0;a<10;a++)r[a.toString()]=n.format(a);return r}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,r=>n[r]||r)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&Hh.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:r,numerals:a}=this.options,l=n?.code;if(l&&Hh.yearFirstLocales.has(l))try{return new Intl.DateTimeFormat(l,{month:"long",year:"numeric",timeZone:r,numberingSystem:a}).format(t)}catch{}const u=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,u)}}Hh.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const zy=new Hh;class VZ{constructor(t,n,r=zy){this.date=t,this.displayMonth=n,this.outside=!!(n&&!r.isSameMonth(t,n)),this.dateLib=r,this.isoDate=r.format(t,"yyyy-MM-dd"),this.displayMonthId=r.format(n,"yyyy-MM"),this.dateMonthId=r.format(t,"yyyy-MM")}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class s2e{constructor(t,n){this.date=t,this.weeks=n}}class l2e{constructor(t,n){this.days=n,this.weekNumber=t}}function u2e(e){return Ve.createElement("button",{...e})}function c2e(e){return Ve.createElement("span",{...e})}function d2e(e){const{size:t=24,orientation:n="left",className:r}=e;return Ve.createElement("svg",{className:r,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&Ve.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&Ve.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&Ve.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&Ve.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function f2e(e){const{day:t,modifiers:n,...r}=e;return Ve.createElement("td",{...r})}function h2e(e){const{day:t,modifiers:n,...r}=e,a=Ve.useRef(null);return Ve.useEffect(()=>{n.focused&&a.current?.focus()},[n.focused]),Ve.createElement("button",{ref:a,...r})}var la;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(la||(la={}));var Hs;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(Hs||(Hs={}));var Wm;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(Wm||(Wm={}));var Nh;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Nh||(Nh={}));function p2e(e){const{options:t,className:n,components:r,classNames:a,...l}=e,u=[a[la.Dropdown],n].join(" "),i=t?.find(({value:m})=>m===l.value);return Ve.createElement("span",{"data-disabled":l.disabled,className:a[la.DropdownRoot]},Ve.createElement(r.Select,{className:u,...l},t?.map(({value:m,label:b,disabled:_})=>Ve.createElement(r.Option,{key:m,value:m,disabled:_},b))),Ve.createElement("span",{className:a[la.CaptionLabel],"aria-hidden":!0},i?.label,Ve.createElement(r.Chevron,{orientation:"down",size:18,className:a[la.Chevron]})))}function m2e(e){return Ve.createElement("div",{...e})}function g2e(e){return Ve.createElement("div",{...e})}function y2e(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ve.createElement("div",{...r},e.children)}function v2e(e){const{calendarMonth:t,displayIndex:n,...r}=e;return Ve.createElement("div",{...r})}function b2e(e){return Ve.createElement("table",{...e})}function _2e(e){return Ve.createElement("div",{...e})}const qZ=$.createContext(void 0);function DT(){const e=$.useContext(qZ);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function x2e(e){const{components:t}=DT();return Ve.createElement(t.Dropdown,{...e})}function E2e(e){const{onPreviousClick:t,onNextClick:n,previousMonth:r,nextMonth:a,...l}=e,{components:u,classNames:i,labels:{labelPrevious:m,labelNext:b}}=DT(),_=$.useCallback(M=>{a&&n?.(M)},[a,n]),w=$.useCallback(M=>{r&&t?.(M)},[r,t]);return Ve.createElement("nav",{...l},Ve.createElement(u.PreviousMonthButton,{type:"button",className:i[la.PreviousMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":m(r),onClick:w},Ve.createElement(u.Chevron,{disabled:r?void 0:!0,className:i[la.Chevron],orientation:"left"})),Ve.createElement(u.NextMonthButton,{type:"button",className:i[la.NextMonthButton],tabIndex:a?void 0:-1,"aria-disabled":a?void 0:!0,"aria-label":b(a),onClick:_},Ve.createElement(u.Chevron,{disabled:a?void 0:!0,orientation:"right",className:i[la.Chevron]})))}function w2e(e){const{components:t}=DT();return Ve.createElement(t.Button,{...e})}function S2e(e){return Ve.createElement("option",{...e})}function T2e(e){const{components:t}=DT();return Ve.createElement(t.Button,{...e})}function C2e(e){const{rootRef:t,...n}=e;return Ve.createElement("div",{...n,ref:t})}function A2e(e){return Ve.createElement("select",{...e})}function k2e(e){const{week:t,...n}=e;return Ve.createElement("tr",{...n})}function I2e(e){return Ve.createElement("th",{...e})}function N2e(e){return Ve.createElement("thead",{"aria-hidden":!0},Ve.createElement("tr",{...e}))}function R2e(e){const{week:t,...n}=e;return Ve.createElement("th",{...n})}function M2e(e){return Ve.createElement("th",{...e})}function O2e(e){return Ve.createElement("tbody",{...e})}function D2e(e){const{components:t}=DT();return Ve.createElement(t.Dropdown,{...e})}const L2e=Object.freeze(Object.defineProperty({__proto__:null,Button:u2e,CaptionLabel:c2e,Chevron:d2e,Day:f2e,DayButton:h2e,Dropdown:p2e,DropdownNav:m2e,Footer:g2e,Month:y2e,MonthCaption:v2e,MonthGrid:b2e,Months:_2e,MonthsDropdown:x2e,Nav:E2e,NextMonthButton:w2e,Option:S2e,PreviousMonthButton:T2e,Root:C2e,Select:A2e,Week:k2e,WeekNumber:R2e,WeekNumberHeader:M2e,Weekday:I2e,Weekdays:N2e,Weeks:O2e,YearsDropdown:D2e},Symbol.toStringTag,{value:"Module"}));function U0(e,t,n=!1,r=zy){let{from:a,to:l}=e;const{differenceInCalendarDays:u,isSameDay:i}=r;return a&&l?(u(l,a)<0&&([a,l]=[l,a]),u(t,a)>=(n?1:0)&&u(l,t)>=(n?1:0)):!n&&l?i(l,t):!n&&a?i(a,t):!1}function U8(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function gN(e){return!!(e&&typeof e=="object"&&"from"in e)}function G8(e){return!!(e&&typeof e=="object"&&"after"in e)}function H8(e){return!!(e&&typeof e=="object"&&"before"in e)}function YZ(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function WZ(e,t){return Array.isArray(e)&&e.every(t.isDate)}function G0(e,t,n=zy){const r=Array.isArray(t)?t:[t],{isSameDay:a,differenceInCalendarDays:l,isAfter:u}=n;return r.some(i=>{if(typeof i=="boolean")return i;if(n.isDate(i))return a(e,i);if(WZ(i,n))return i.some(m=>a(e,m));if(gN(i))return U0(i,e,!1,n);if(YZ(i))return Array.isArray(i.dayOfWeek)?i.dayOfWeek.includes(e.getDay()):i.dayOfWeek===e.getDay();if(U8(i)){const m=l(i.before,e),b=l(i.after,e),_=m>0,w=b<0;return u(i.before,i.after)?w&&_:_||w}return G8(i)?l(e,i.after)>0:H8(i)?l(i.before,e)>0:typeof i=="function"?i(e):!1})}function P2e(e,t,n,r,a){const{disabled:l,hidden:u,modifiers:i,showOutsideDays:m,broadcastCalendar:b,today:_=a.today()}=t,{isSameDay:w,isSameMonth:M,startOfMonth:P,isBefore:j,endOfMonth:G,isAfter:z}=a,q=n&&P(n),Y=r&&G(r),J={[Hs.focused]:[],[Hs.outside]:[],[Hs.disabled]:[],[Hs.hidden]:[],[Hs.today]:[]},ne={};for(const ie of e){const{date:ue,displayMonth:oe}=ie,K=!!(oe&&!M(ue,oe)),se=!!(q&&j(ue,q)),pe=!!(Y&&z(ue,Y)),ve=!!(l&&G0(ue,l,a)),Te=!!(u&&G0(ue,u,a))||se||pe||!b&&!m&&K||b&&m===!1&&K,Me=w(ue,_);K&&J.outside.push(ie),ve&&J.disabled.push(ie),Te&&J.hidden.push(ie),Me&&J.today.push(ie),i&&Object.keys(i).forEach(xe=>{const Se=i?.[xe];Se&&G0(ue,Se,a)&&(ne[xe]?ne[xe].push(ie):ne[xe]=[ie])})}return ie=>{const ue={[Hs.focused]:!1,[Hs.disabled]:!1,[Hs.hidden]:!1,[Hs.outside]:!1,[Hs.today]:!1},oe={};for(const K in J){const se=J[K];ue[K]=se.some(pe=>pe===ie)}for(const K in ne)oe[K]=ne[K].some(se=>se===ie);return{...ue,...oe}}}function F2e(e,t,n={}){return Object.entries(e).filter(([,a])=>a===!0).reduce((a,[l])=>(n[l]?a.push(n[l]):t[Hs[l]]?a.push(t[Hs[l]]):t[Wm[l]]&&a.push(t[Wm[l]]),a),[t[la.Day]])}function B2e(e){return{...L2e,...e}}function $2e(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,r])=>{n.startsWith("data-")&&(t[n]=r)}),t}function V8(){const e={};for(const t in la)e[la[t]]=`rdp-${la[t]}`;for(const t in Hs)e[Hs[t]]=`rdp-${Hs[t]}`;for(const t in Wm)e[Wm[t]]=`rdp-${Wm[t]}`;for(const t in Nh)e[Nh[t]]=`rdp-${Nh[t]}`;return e}function ZZ(e,t,n){return(n??new Hh(t)).formatMonthYear(e)}const j2e=ZZ;function z2e(e,t,n){return(n??new Hh(t)).format(e,"d")}function U2e(e,t=zy){return t.format(e,"LLLL")}function G2e(e,t,n){return(n??new Hh(t)).format(e,"cccccc")}function H2e(e,t=zy){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function V2e(){return""}function XZ(e,t=zy){return t.format(e,"yyyy")}const q2e=XZ,Y2e=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:ZZ,formatDay:z2e,formatMonthCaption:j2e,formatMonthDropdown:U2e,formatWeekNumber:H2e,formatWeekNumberHeader:V2e,formatWeekdayName:G2e,formatYearCaption:q2e,formatYearDropdown:XZ},Symbol.toStringTag,{value:"Module"}));function W2e(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...Y2e,...e}}function q8(e,t,n,r){let a=(r??new Hh(n)).format(e,"PPPP");return t.today&&(a=`Today, ${a}`),t.selected&&(a=`${a}, selected`),a}const Z2e=q8;function Y8(e,t,n){return(n??new Hh(t)).formatMonthYear(e)}const X2e=Y8;function KZ(e,t,n,r){let a=(r??new Hh(n)).format(e,"PPPP");return t?.today&&(a=`Today, ${a}`),a}function QZ(e){return"Choose the Month"}function JZ(){return""}const K2e="Go to the Next Month";function eX(e,t){return K2e}function tX(e){return"Go to the Previous Month"}function nX(e,t,n){return(n??new Hh(t)).format(e,"cccc")}function rX(e,t){return`Week ${e}`}function aX(e){return"Week Number"}function iX(e){return"Choose the Year"}const Q2e=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:X2e,labelDay:Z2e,labelDayButton:q8,labelGrid:Y8,labelGridcell:KZ,labelMonthDropdown:QZ,labelNav:JZ,labelNext:eX,labelPrevious:tX,labelWeekNumber:rX,labelWeekNumberHeader:aX,labelWeekday:nX,labelYearDropdown:iX},Symbol.toStringTag,{value:"Module"})),Lm=(e,t,n)=>t||(n?typeof n=="function"?n:(...r)=>n:e);function J2e(e,t){const n=t.locale?.labels??{};return{...Q2e,...e??{},labelDayButton:Lm(q8,e?.labelDayButton,n.labelDayButton),labelMonthDropdown:Lm(QZ,e?.labelMonthDropdown,n.labelMonthDropdown),labelNext:Lm(eX,e?.labelNext,n.labelNext),labelPrevious:Lm(tX,e?.labelPrevious,n.labelPrevious),labelWeekNumber:Lm(rX,e?.labelWeekNumber,n.labelWeekNumber),labelYearDropdown:Lm(iX,e?.labelYearDropdown,n.labelYearDropdown),labelGrid:Lm(Y8,e?.labelGrid,n.labelGrid),labelGridcell:Lm(KZ,e?.labelGridcell,n.labelGridcell),labelNav:Lm(JZ,e?.labelNav,n.labelNav),labelWeekNumberHeader:Lm(aX,e?.labelWeekNumberHeader,n.labelWeekNumberHeader),labelWeekday:Lm(nX,e?.labelWeekday,n.labelWeekday)}}function eSe(e,t,n,r,a){const{startOfMonth:l,startOfYear:u,endOfYear:i,eachMonthOfInterval:m,getMonth:b}=a;return m({start:u(e),end:i(e)}).map(M=>{const P=r.formatMonthDropdown(M,a),j=b(M),G=t&&M<l(t)||n&&M>l(n)||!1;return{value:j,label:P,disabled:G}})}function tSe(e,t={},n={}){let r={...t?.[la.Day]};return Object.entries(e).filter(([,a])=>a===!0).forEach(([a])=>{r={...r,...n?.[a]}}),r}function nSe(e,t,n,r){const a=r??e.today(),l=n?e.startOfBroadcastWeek(a,e):t?e.startOfISOWeek(a):e.startOfWeek(a),u=[];for(let i=0;i<7;i++){const m=e.addDays(l,i);u.push(m)}return u}function rSe(e,t,n,r,a=!1){if(!e||!t)return;const{startOfYear:l,endOfYear:u,eachYearOfInterval:i,getYear:m}=r,b=l(e),_=u(t),w=i({start:b,end:_});return a&&w.reverse(),w.map(M=>{const P=n.formatYearDropdown(M,r);return{value:m(M),label:P,disabled:!1}})}const LT=e=>e instanceof HTMLElement?e:null,rM=e=>[...e.querySelectorAll("[data-animated-month]")??[]],aSe=e=>LT(e.querySelector("[data-animated-month]")),aM=e=>LT(e.querySelector("[data-animated-caption]")),iM=e=>LT(e.querySelector("[data-animated-weeks]")),iSe=e=>LT(e.querySelector("[data-animated-nav]")),oSe=e=>LT(e.querySelector("[data-animated-weekdays]"));function sSe(e,t,{classNames:n,months:r,focused:a,dateLib:l}){const u=$.useRef(null),i=$.useRef(r),m=$.useRef(!1);$.useLayoutEffect(()=>{const b=i.current;if(i.current=r,!t||!e.current||!(e.current instanceof HTMLElement)||r.length===0||b.length===0||r.length!==b.length)return;const _=l.isSameMonth(r[0].date,b[0].date),w=l.isAfter(r[0].date,b[0].date),M=w?n[Nh.caption_after_enter]:n[Nh.caption_before_enter],P=w?n[Nh.weeks_after_enter]:n[Nh.weeks_before_enter],j=u.current,G=e.current.cloneNode(!0);if(G instanceof HTMLElement?(rM(G).forEach(J=>{if(!(J instanceof HTMLElement))return;const ne=aSe(J);ne&&J.contains(ne)&&J.removeChild(ne);const ie=aM(J);ie&&ie.classList.remove(M);const ue=iM(J);ue&&ue.classList.remove(P)}),u.current=G):u.current=null,m.current||_||a)return;const z=j instanceof HTMLElement?rM(j):[],q=rM(e.current);if(q?.every(Y=>Y instanceof HTMLElement)&&z&&z.every(Y=>Y instanceof HTMLElement)){m.current=!0,e.current.style.isolation="isolate";const Y=iSe(e.current);Y&&(Y.style.zIndex="1"),q.forEach((J,ne)=>{const ie=z[ne];if(!ie)return;J.style.position="relative",J.style.overflow="hidden";const ue=aM(J);ue&&ue.classList.add(M);const oe=iM(J);oe&&oe.classList.add(P);const K=()=>{m.current=!1,e.current&&(e.current.style.isolation=""),Y&&(Y.style.zIndex=""),ue&&ue.classList.remove(M),oe&&oe.classList.remove(P),J.style.position="",J.style.overflow="",J.contains(ie)&&J.removeChild(ie)};ie.style.pointerEvents="none",ie.style.position="absolute",ie.style.overflow="hidden",ie.setAttribute("aria-hidden","true");const se=oSe(ie);se&&(se.style.opacity="0");const pe=aM(ie);pe&&(pe.classList.add(w?n[Nh.caption_before_exit]:n[Nh.caption_after_exit]),pe.addEventListener("animationend",K));const ve=iM(ie);ve&&ve.classList.add(w?n[Nh.weeks_before_exit]:n[Nh.weeks_after_exit]),J.insertBefore(ie,J.firstChild)})}})}function lSe(e,t,n,r){const a=e[0],l=e[e.length-1],{ISOWeek:u,fixedWeeks:i,broadcastCalendar:m}=n??{},{addDays:b,differenceInCalendarDays:_,differenceInCalendarMonths:w,endOfBroadcastWeek:M,endOfISOWeek:P,endOfMonth:j,endOfWeek:G,isAfter:z,startOfBroadcastWeek:q,startOfISOWeek:Y,startOfWeek:J}=r,ne=m?q(a,r):u?Y(a):J(a),ie=m?M(l):u?P(j(l)):G(j(l)),ue=t&&(m?M(t):u?P(t):G(t)),oe=ue&&z(ie,ue)?ue:ie,K=_(oe,ne),se=w(l,a)+1,pe=[];for(let Me=0;Me<=K;Me++){const xe=b(ne,Me);pe.push(xe)}const Te=(m?35:42)*se;if(i&&pe.length<Te){const Me=Te-pe.length;for(let xe=0;xe<Me;xe++){const Se=b(pe[pe.length-1],1);pe.push(Se)}}return pe}function uSe(e){const t=[];return e.reduce((n,r)=>{const a=r.weeks.reduce((l,u)=>l.concat(u.days.slice()),t.slice());return n.concat(a.slice())},t.slice())}function cSe(e,t,n,r){const{numberOfMonths:a=1}=n,l=[];for(let u=0;u<a;u++){const i=r.addMonths(e,u);if(t&&i>t)break;l.push(i)}return l}function l7(e,t,n,r){const{month:a,defaultMonth:l,today:u=r.today(),numberOfMonths:i=1}=e;let m=a||l||u;const{differenceInCalendarMonths:b,addMonths:_,startOfMonth:w}=r;if(n&&b(n,m)<i-1){const M=-1*(i-1);m=_(n,M)}return t&&b(m,t)<0&&(m=t),w(m)}function dSe(e,t,n,r){const{addDays:a,endOfBroadcastWeek:l,endOfISOWeek:u,endOfMonth:i,endOfWeek:m,getISOWeek:b,getWeek:_,startOfBroadcastWeek:w,startOfISOWeek:M,startOfWeek:P}=r,j=e.reduce((G,z)=>{const q=n.broadcastCalendar?w(z,r):n.ISOWeek?M(z):P(z),Y=n.broadcastCalendar?l(z):n.ISOWeek?u(i(z)):m(i(z)),J=t.filter(oe=>oe>=q&&oe<=Y),ne=n.broadcastCalendar?35:42;if(n.fixedWeeks&&J.length<ne){const oe=t.filter(K=>{const se=ne-J.length;return K>Y&&K<=a(Y,se)});J.push(...oe)}const ie=J.reduce((oe,K)=>{const se=n.ISOWeek?b(K):_(K),pe=oe.find(Te=>Te.weekNumber===se),ve=new VZ(K,z,r);return pe?pe.days.push(ve):oe.push(new l2e(se,[ve])),oe},[]),ue=new s2e(z,ie);return G.push(ue),G},[]);return n.reverseMonths?j.reverse():j}function fSe(e,t){let{startMonth:n,endMonth:r}=e;const{startOfYear:a,startOfDay:l,startOfMonth:u,endOfMonth:i,addYears:m,endOfYear:b,newDate:_,today:w}=t,{fromYear:M,toYear:P,fromMonth:j,toMonth:G}=e;!n&&j&&(n=j),!n&&M&&(n=t.newDate(M,0,1)),!r&&G&&(r=G),!r&&P&&(r=_(P,11,31));const z=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=u(n):M?n=_(M,0,1):!n&&z&&(n=a(m(e.today??w(),-100))),r?r=i(r):P?r=_(P,11,31):!r&&z&&(r=b(e.today??w())),[n&&l(n),r&&l(r)]}function hSe(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l=1}=n,{startOfMonth:u,addMonths:i,differenceInCalendarMonths:m}=r,b=a?l:1,_=u(e);if(!t)return i(_,b);if(!(m(t,e)<l))return i(_,b)}function pSe(e,t,n,r){if(n.disableNavigation)return;const{pagedNavigation:a,numberOfMonths:l}=n,{startOfMonth:u,addMonths:i,differenceInCalendarMonths:m}=r,b=a?l??1:1,_=u(e);if(!t)return i(_,-b);if(!(m(_,t)<=0))return i(_,-b)}function mSe(e){const t=[];return e.reduce((n,r)=>n.concat(r.weeks.slice()),t.slice())}function yN(e,t){const[n,r]=$.useState(e);return[t===void 0?n:t,r]}function gSe(e,t){const[n,r]=fSe(e,t),{startOfMonth:a,endOfMonth:l}=t,u=l7(e,n,r,t),[i,m]=yN(u,e.month?u:void 0);$.useEffect(()=>{const ne=l7(e,n,r,t);m(ne)},[e.timeZone]);const{months:b,weeks:_,days:w,previousMonth:M,nextMonth:P}=$.useMemo(()=>{const ne=cSe(i,r,{numberOfMonths:e.numberOfMonths},t),ie=lSe(ne,e.endMonth?l(e.endMonth):void 0,{ISOWeek:e.ISOWeek,fixedWeeks:e.fixedWeeks,broadcastCalendar:e.broadcastCalendar},t),ue=dSe(ne,ie,{broadcastCalendar:e.broadcastCalendar,fixedWeeks:e.fixedWeeks,ISOWeek:e.ISOWeek,reverseMonths:e.reverseMonths},t),oe=mSe(ue),K=uSe(ue),se=pSe(i,n,e,t),pe=hSe(i,r,e,t);return{months:ue,weeks:oe,days:K,previousMonth:se,nextMonth:pe}},[t,i.getTime(),r?.getTime(),n?.getTime(),e.disableNavigation,e.broadcastCalendar,e.endMonth?.getTime(),e.fixedWeeks,e.ISOWeek,e.numberOfMonths,e.pagedNavigation,e.reverseMonths]),{disableNavigation:j,onMonthChange:G}=e,z=ne=>_.some(ie=>ie.days.some(ue=>ue.isEqualTo(ne))),q=ne=>{if(j)return;let ie=a(ne);n&&ie<a(n)&&(ie=a(n)),r&&ie>a(r)&&(ie=a(r)),m(ie),G?.(ie)};return{months:b,weeks:_,days:w,navStart:n,navEnd:r,previousMonth:M,nextMonth:P,goToMonth:q,goToDay:ne=>{z(ne)||q(ne.date)}}}var cy;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(cy||(cy={}));function u7(e){return!e[Hs.disabled]&&!e[Hs.hidden]&&!e[Hs.outside]}function ySe(e,t,n,r){let a,l=-1;for(const u of e){const i=t(u);u7(i)&&(i[Hs.focused]&&l<cy.FocusedModifier?(a=u,l=cy.FocusedModifier):r?.isEqualTo(u)&&l<cy.LastFocused?(a=u,l=cy.LastFocused):n(u.date)&&l<cy.Selected?(a=u,l=cy.Selected):i[Hs.today]&&l<cy.Today&&(a=u,l=cy.Today))}return a||(a=e.find(u=>u7(t(u)))),a}function vSe(e,t,n,r,a,l,u){const{ISOWeek:i,broadcastCalendar:m}=l,{addDays:b,addMonths:_,addWeeks:w,addYears:M,endOfBroadcastWeek:P,endOfISOWeek:j,endOfWeek:G,max:z,min:q,startOfBroadcastWeek:Y,startOfISOWeek:J,startOfWeek:ne}=u;let ue={day:b,week:w,month:_,year:M,startOfWeek:oe=>m?Y(oe,u):i?J(oe):ne(oe),endOfWeek:oe=>m?P(oe):i?j(oe):G(oe)}[e](n,t==="after"?1:-1);return t==="before"&&r?ue=z([r,ue]):t==="after"&&a&&(ue=q([a,ue])),ue}function oX(e,t,n,r,a,l,u,i=0){if(i>365)return;const m=vSe(e,t,n.date,r,a,l,u),b=!!(l.disabled&&G0(m,l.disabled,u)),_=!!(l.hidden&&G0(m,l.hidden,u)),w=m,M=new VZ(m,w,u);return!b&&!_?M:oX(e,t,M,r,a,l,u,i+1)}function bSe(e,t,n,r,a){const{autoFocus:l}=e,[u,i]=$.useState(),m=ySe(t.days,n,r||(()=>!1),u),[b,_]=$.useState(l?m:void 0);return{isFocusTarget:G=>!!m?.isEqualTo(G),setFocused:_,focused:b,blur:()=>{i(b),_(void 0)},moveFocus:(G,z)=>{if(!b)return;const q=oX(G,z,b,t.navStart,t.navEnd,e,a);q&&(e.disableNavigation&&!t.days.some(J=>J.isEqualTo(q))||(t.goToDay(q),_(q)))}}}function _Se(e,t){const{selected:n,required:r,onSelect:a}=e,[l,u]=yN(n,a?n:void 0),i=a?n:l,{isSameDay:m}=t,b=P=>i?.some(j=>m(j,P))??!1,{min:_,max:w}=e;return{selected:i,select:(P,j,G)=>{let z=[...i??[]];if(b(P)){if(i?.length===_||r&&i?.length===1)return;z=i?.filter(q=>!m(q,P))}else i?.length===w?z=[P]:z=[...z,P];return a||u(z),a?.(z,P,j,G),z},isSelected:b}}function xSe(e,t,n=0,r=0,a=!1,l=zy){const{from:u,to:i}=t||{},{isSameDay:m,isAfter:b,isBefore:_}=l;let w;if(!u&&!i)w={from:e,to:n>0?void 0:e};else if(u&&!i)m(u,e)?n===0?w={from:u,to:e}:a?w={from:u,to:void 0}:w=void 0:_(e,u)?w={from:e,to:u}:w={from:u,to:e};else if(u&&i)if(m(u,e)&&m(i,e))a?w={from:u,to:i}:w=void 0;else if(m(u,e))w={from:u,to:n>0?void 0:e};else if(m(i,e))w={from:e,to:n>0?void 0:e};else if(_(e,u))w={from:e,to:i};else if(b(e,u))w={from:u,to:e};else if(b(e,i))w={from:u,to:e};else throw new Error("Invalid range");if(w?.from&&w?.to){const M=l.differenceInCalendarDays(w.to,w.from);r>0&&M>r?w={from:e,to:void 0}:n>1&&M<n&&(w={from:e,to:void 0})}return w}function ESe(e,t,n=zy){const r=Array.isArray(t)?t:[t];let a=e.from;const l=n.differenceInCalendarDays(e.to,e.from),u=Math.min(l,6);for(let i=0;i<=u;i++){if(r.includes(a.getDay()))return!0;a=n.addDays(a,1)}return!1}function c7(e,t,n=zy){return U0(e,t.from,!1,n)||U0(e,t.to,!1,n)||U0(t,e.from,!1,n)||U0(t,e.to,!1,n)}function wSe(e,t,n=zy){const r=Array.isArray(t)?t:[t];if(r.filter(i=>typeof i!="function").some(i=>typeof i=="boolean"?i:n.isDate(i)?U0(e,i,!1,n):WZ(i,n)?i.some(m=>U0(e,m,!1,n)):gN(i)?i.from&&i.to?c7(e,{from:i.from,to:i.to},n):!1:YZ(i)?ESe(e,i.dayOfWeek,n):U8(i)?n.isAfter(i.before,i.after)?c7(e,{from:n.addDays(i.after,1),to:n.addDays(i.before,-1)},n):G0(e.from,i,n)||G0(e.to,i,n):G8(i)||H8(i)?G0(e.from,i,n)||G0(e.to,i,n):!1))return!0;const u=r.filter(i=>typeof i=="function");if(u.length){let i=e.from;const m=n.differenceInCalendarDays(e.to,e.from);for(let b=0;b<=m;b++){if(u.some(_=>_(i)))return!0;i=n.addDays(i,1)}}return!1}function SSe(e,t){const{disabled:n,excludeDisabled:r,selected:a,required:l,onSelect:u}=e,[i,m]=yN(a,u?a:void 0),b=u?a:i;return{selected:b,select:(M,P,j)=>{const{min:G,max:z}=e,q=M?xSe(M,b,G,z,l,t):void 0;return r&&n&&q?.from&&q.to&&wSe({from:q.from,to:q.to},n,t)&&(q.from=M,q.to=void 0),u||m(q),u?.(q,M,P,j),q},isSelected:M=>b&&U0(b,M,!1,t)}}function TSe(e,t){const{selected:n,required:r,onSelect:a}=e,[l,u]=yN(n,a?n:void 0),i=a?n:l,{isSameDay:m}=t;return{selected:i,select:(w,M,P)=>{let j=w;return!r&&i&&i&&m(w,i)&&(j=void 0),a||u(j),a?.(j,w,M,P),j},isSelected:w=>i?m(i,w):!1}}function CSe(e,t){const n=TSe(e,t),r=_Se(e,t),a=SSe(e,t);switch(e.mode){case"single":return n;case"multiple":return r;case"range":return a;default:return}}function Nc(e,t){return e instanceof z0&&e.timeZone===t?e:new z0(e,t)}function d7(e,t){return typeof e=="boolean"||typeof e=="function"?e:e instanceof Date?Nc(e,t):Array.isArray(e)?e.map(n=>n instanceof Date?Nc(n,t):n):gN(e)?{...e,from:e.from?Nc(e.from,t):e.from,to:e.to?Nc(e.to,t):e.to}:U8(e)?{before:Nc(e.before,t),after:Nc(e.after,t)}:G8(e)?{after:Nc(e.after,t)}:H8(e)?{before:Nc(e.before,t)}:e}function oM(e,t){return e&&(Array.isArray(e)?e.map(n=>d7(n,t)):d7(e,t))}function ASe(e){let t=e;const n=t.timeZone;if(n&&(t={...e,timeZone:n},t.today&&(t.today=Nc(t.today,n)),t.month&&(t.month=Nc(t.month,n)),t.defaultMonth&&(t.defaultMonth=Nc(t.defaultMonth,n)),t.startMonth&&(t.startMonth=Nc(t.startMonth,n)),t.endMonth&&(t.endMonth=Nc(t.endMonth,n)),t.mode==="single"&&t.selected?t.selected=Nc(t.selected,n):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(gn=>Nc(gn,n)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?Nc(t.selected.from,n):t.selected.from,to:t.selected.to?Nc(t.selected.to,n):t.selected.to}),t.disabled!==void 0&&(t.disabled=oM(t.disabled,n)),t.hidden!==void 0&&(t.hidden=oM(t.hidden,n)),t.modifiers)){const gn={};Object.keys(t.modifiers).forEach(qn=>{gn[qn]=oM(t.modifiers?.[qn],n)}),t.modifiers=gn}const{components:r,formatters:a,labels:l,dateLib:u,locale:i,classNames:m}=$.useMemo(()=>{const gn={...HZ,...t.locale},qn=new Hh({locale:gn,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib);return{dateLib:qn,components:B2e(t.components),formatters:W2e(t.formatters),labels:J2e(t.labels,qn.options),locale:gn,classNames:{...V8(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]);t.today||(t={...t,today:u.today()});const{captionLayout:b,mode:_,navLayout:w,numberOfMonths:M=1,onDayBlur:P,onDayClick:j,onDayFocus:G,onDayKeyDown:z,onDayMouseEnter:q,onDayMouseLeave:Y,onNextClick:J,onPrevClick:ne,showWeekNumber:ie,styles:ue}=t,{formatCaption:oe,formatDay:K,formatMonthDropdown:se,formatWeekNumber:pe,formatWeekNumberHeader:ve,formatWeekdayName:Te,formatYearDropdown:Me}=a,xe=gSe(t,u),{days:Se,months:he,navStart:we,navEnd:_e,previousMonth:Be,nextMonth:He,goToMonth:Re}=xe,je=P2e(Se,t,we,_e,u),{isSelected:Ze,select:Qe,selected:Pe}=CSe(t,u)??{},{blur:St,focused:Nt,isFocusTarget:We,moveFocus:en,setFocused:zt}=bSe(t,xe,je,Ze??(()=>!1),u),{labelDayButton:rn,labelGridcell:Ge,labelGrid:kn,labelMonthDropdown:_n,labelNav:Lt,labelPrevious:pn,labelNext:Tn,labelWeekday:tr,labelWeekNumber:Vt,labelWeekNumberHeader:lr,labelYearDropdown:sr}=l,xn=$.useMemo(()=>nSe(u,t.ISOWeek,t.broadcastCalendar,t.today),[u,t.ISOWeek,t.broadcastCalendar,t.today]),En=_!==void 0||j!==void 0,hn=$.useCallback(()=>{Be&&(Re(Be),ne?.(Be))},[Be,Re,ne]),jn=$.useCallback(()=>{He&&(Re(He),J?.(He))},[Re,He,J]),_t=$.useCallback((gn,qn)=>Xn=>{Xn.preventDefault(),Xn.stopPropagation(),zt(gn),!qn.disabled&&(Qe?.(gn.date,qn,Xn),j?.(gn.date,qn,Xn))},[Qe,j,zt]),Oe=$.useCallback((gn,qn)=>Xn=>{zt(gn),G?.(gn.date,qn,Xn)},[G,zt]),ke=$.useCallback((gn,qn)=>Xn=>{St(),P?.(gn.date,qn,Xn)},[St,P]),qe=$.useCallback((gn,qn)=>Xn=>{const Qn={ArrowLeft:[Xn.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[Xn.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[Xn.shiftKey?"year":"week","after"],ArrowUp:[Xn.shiftKey?"year":"week","before"],PageUp:[Xn.shiftKey?"year":"month","before"],PageDown:[Xn.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Qn[Xn.key]){Xn.preventDefault(),Xn.stopPropagation();const[Pt,wn]=Qn[Xn.key];en(Pt,wn)}z?.(gn.date,qn,Xn)},[en,z,t.dir]),ut=$.useCallback((gn,qn)=>Xn=>{q?.(gn.date,qn,Xn)},[q]),dt=$.useCallback((gn,qn)=>Xn=>{Y?.(gn.date,qn,Xn)},[Y]),Ut=$.useCallback(gn=>qn=>{const Xn=Number(qn.target.value),Qn=u.setMonth(u.startOfMonth(gn),Xn);Re(Qn)},[u,Re]),Bt=$.useCallback(gn=>qn=>{const Xn=Number(qn.target.value),Qn=u.setYear(u.startOfMonth(gn),Xn);Re(Qn)},[u,Re]),{className:xt,style:Ct}=$.useMemo(()=>({className:[m[la.Root],t.className].filter(Boolean).join(" "),style:{...ue?.[la.Root],...t.style}}),[m,t.className,t.style,ue]),sn=$2e(t),mn=$.useRef(null);sSe(mn,!!t.animate,{classNames:m,months:he,focused:Nt,dateLib:u});const Vn={dayPickerProps:t,selected:Pe,select:Qe,isSelected:Ze,months:he,nextMonth:He,previousMonth:Be,goToMonth:Re,getModifiers:je,components:r,classNames:m,styles:ue,labels:l,formatters:a};return Ve.createElement(qZ.Provider,{value:Vn},Ve.createElement(r.Root,{rootRef:t.animate?mn:void 0,className:xt,style:Ct,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...sn},Ve.createElement(r.Months,{className:m[la.Months],style:ue?.[la.Months]},!t.hideNavigation&&!w&&Ve.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[la.Nav],style:ue?.[la.Nav],"aria-label":Lt(),onPreviousClick:hn,onNextClick:jn,previousMonth:Be,nextMonth:He}),he.map((gn,qn)=>Ve.createElement(r.Month,{"data-animated-month":t.animate?"true":void 0,className:m[la.Month],style:ue?.[la.Month],key:qn,displayIndex:qn,calendarMonth:gn},w==="around"&&!t.hideNavigation&&qn===0&&Ve.createElement(r.PreviousMonthButton,{type:"button",className:m[la.PreviousMonthButton],tabIndex:Be?void 0:-1,"aria-disabled":Be?void 0:!0,"aria-label":pn(Be),onClick:hn,"data-animated-button":t.animate?"true":void 0},Ve.createElement(r.Chevron,{disabled:Be?void 0:!0,className:m[la.Chevron],orientation:t.dir==="rtl"?"right":"left"})),Ve.createElement(r.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:m[la.MonthCaption],style:ue?.[la.MonthCaption],calendarMonth:gn,displayIndex:qn},b?.startsWith("dropdown")?Ve.createElement(r.DropdownNav,{className:m[la.Dropdowns],style:ue?.[la.Dropdowns]},(()=>{const Xn=b==="dropdown"||b==="dropdown-months"?Ve.createElement(r.MonthsDropdown,{key:"month",className:m[la.MonthsDropdown],"aria-label":_n(),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:Ut(gn.date),options:eSe(gn.date,we,_e,a,u),style:ue?.[la.Dropdown],value:u.getMonth(gn.date)}):Ve.createElement("span",{key:"month"},se(gn.date,u)),Qn=b==="dropdown"||b==="dropdown-years"?Ve.createElement(r.YearsDropdown,{key:"year",className:m[la.YearsDropdown],"aria-label":sr(u.options),classNames:m,components:r,disabled:!!t.disableNavigation,onChange:Bt(gn.date),options:rSe(we,_e,a,u,!!t.reverseYears),style:ue?.[la.Dropdown],value:u.getYear(gn.date)}):Ve.createElement("span",{key:"year"},Me(gn.date,u));return u.getMonthYearOrder()==="year-first"?[Qn,Xn]:[Xn,Qn]})(),Ve.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},oe(gn.date,u.options,u))):Ve.createElement(r.CaptionLabel,{className:m[la.CaptionLabel],role:"status","aria-live":"polite"},oe(gn.date,u.options,u))),w==="around"&&!t.hideNavigation&&qn===M-1&&Ve.createElement(r.NextMonthButton,{type:"button",className:m[la.NextMonthButton],tabIndex:He?void 0:-1,"aria-disabled":He?void 0:!0,"aria-label":Tn(He),onClick:jn,"data-animated-button":t.animate?"true":void 0},Ve.createElement(r.Chevron,{disabled:He?void 0:!0,className:m[la.Chevron],orientation:t.dir==="rtl"?"left":"right"})),qn===M-1&&w==="after"&&!t.hideNavigation&&Ve.createElement(r.Nav,{"data-animated-nav":t.animate?"true":void 0,className:m[la.Nav],style:ue?.[la.Nav],"aria-label":Lt(),onPreviousClick:hn,onNextClick:jn,previousMonth:Be,nextMonth:He}),Ve.createElement(r.MonthGrid,{role:"grid","aria-multiselectable":_==="multiple"||_==="range","aria-label":kn(gn.date,u.options,u)||void 0,className:m[la.MonthGrid],style:ue?.[la.MonthGrid]},!t.hideWeekdays&&Ve.createElement(r.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:m[la.Weekdays],style:ue?.[la.Weekdays]},ie&&Ve.createElement(r.WeekNumberHeader,{"aria-label":lr(u.options),className:m[la.WeekNumberHeader],style:ue?.[la.WeekNumberHeader],scope:"col"},ve()),xn.map(Xn=>Ve.createElement(r.Weekday,{"aria-label":tr(Xn,u.options,u),className:m[la.Weekday],key:String(Xn),style:ue?.[la.Weekday],scope:"col"},Te(Xn,u.options,u)))),Ve.createElement(r.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:m[la.Weeks],style:ue?.[la.Weeks]},gn.weeks.map(Xn=>Ve.createElement(r.Week,{className:m[la.Week],key:Xn.weekNumber,style:ue?.[la.Week],week:Xn},ie&&Ve.createElement(r.WeekNumber,{week:Xn,style:ue?.[la.WeekNumber],"aria-label":Vt(Xn.weekNumber,{locale:i}),className:m[la.WeekNumber],scope:"row",role:"rowheader"},pe(Xn.weekNumber,u)),Xn.days.map(Qn=>{const{date:Pt}=Qn,wn=je(Qn);if(wn[Hs.focused]=!wn.hidden&&!!Nt?.isEqualTo(Qn),wn[Wm.selected]=Ze?.(Pt)||wn.selected,gN(Pe)){const{from:Wr,to:Tr}=Pe;wn[Wm.range_start]=!!(Wr&&Tr&&u.isSameDay(Pt,Wr)),wn[Wm.range_end]=!!(Wr&&Tr&&u.isSameDay(Pt,Tr)),wn[Wm.range_middle]=U0(Pe,Pt,!0,u)}const Mr=tSe(wn,ue,t.modifiersStyles),Mn=F2e(wn,m,t.modifiersClassNames),on=!En&&!wn.hidden?Ge(Pt,wn,u.options,u):void 0;return Ve.createElement(r.Day,{key:`${Qn.isoDate}_${Qn.displayMonthId}`,day:Qn,modifiers:wn,className:Mn.join(" "),style:Mr,role:"gridcell","aria-selected":wn.selected||void 0,"aria-label":on,"data-day":Qn.isoDate,"data-month":Qn.outside?Qn.dateMonthId:void 0,"data-selected":wn.selected||void 0,"data-disabled":wn.disabled||void 0,"data-hidden":wn.hidden||void 0,"data-outside":Qn.outside||void 0,"data-focused":wn.focused||void 0,"data-today":wn.today||void 0},!wn.hidden&&En?Ve.createElement(r.DayButton,{className:m[la.DayButton],style:ue?.[la.DayButton],type:"button",day:Qn,modifiers:wn,disabled:!wn.focused&&wn.disabled||void 0,"aria-disabled":wn.focused&&wn.disabled||void 0,tabIndex:We(Qn)?0:-1,"aria-label":rn(Pt,wn,u.options,u),onClick:_t(Qn,wn),onBlur:ke(Qn,wn),onFocus:Oe(Qn,wn),onKeyDown:qe(Qn,wn),onMouseEnter:ut(Qn,wn),onMouseLeave:dt(Qn,wn)},K(Pt,u.options,u)):!wn.hidden&&K(Qn.date,u.options,u))})))))))),t.footer&&Ve.createElement(r.Footer,{className:m[la.Footer],style:ue?.[la.Footer],role:"status","aria-live":"polite"},t.footer)))}function sM({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:r="label",buttonVariant:a="ghost",formatters:l,components:u,value:i,onChange:m,...b}){const _=V8(),w=b,M=w.selected,P=w.onSelect,{selected:j,onSelect:G,...z}=w,q=$.useMemo(()=>i!=null?new Date(i*1e3):M,[i,M]),Y=$.useCallback(ie=>{m&&m(ie?Math.floor(ie.getTime()/1e3):null),P&&typeof P=="function"&&P(ie)},[m,P]),J=tt.getCurrentLang()==="ru"?1:0,ne=$.useCallback(ie=>{const ue=ie.getDay();return{0:"calendar_su_sort",1:"calendar_mo_sort",2:"calendar_tu_sort",3:"calendar_we_sort",4:"calendar_th_sort",5:"calendar_fr_sort",6:"calendar_sa_sort"}[ue]||"calendar_mo_sort"},[]);return S.jsx(ASe,{showOutsideDays:n,weekStartsOn:J,className:Dn("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:r,formatters:{formatMonthDropdown:ie=>ie.toLocaleString("default",{month:"short"}),formatWeekdayName:ie=>{const ue=ne(ie);return tt.key(ue)},...l},classNames:{root:Dn("w-fit",_.root),months:Dn("flex gap-4 flex-col md:flex-row relative",_.months),month:Dn("flex flex-col w-full gap-4",_.month),nav:Dn("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",_.nav),button_previous:Dn(a3({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",_.button_previous),button_next:Dn(a3({variant:a}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",_.button_next),month_caption:Dn("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",_.month_caption),dropdowns:Dn("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",_.dropdowns),dropdown_root:Dn("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",_.dropdown_root),dropdown:Dn("absolute bg-popover inset-0 opacity-0",_.dropdown),caption_label:Dn("select-none font-medium",r==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",_.caption_label),table:"w-full border-collapse",weekdays:Dn("flex",_.weekdays),weekday:Dn("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",_.weekday),week:Dn("flex w-full mt-2",_.week),week_number_header:Dn("select-none w-(--cell-size)",_.week_number_header),week_number:Dn("text-[0.8rem] select-none text-muted-foreground",_.week_number),day:Dn("relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",b.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",_.day),range_start:Dn("rounded-l-md bg-accent",_.range_start),range_middle:Dn("rounded-none",_.range_middle),range_end:Dn("rounded-r-md bg-accent",_.range_end),today:Dn("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",_.today),outside:Dn("text-muted-foreground aria-selected:text-muted-foreground",_.outside),disabled:Dn("text-muted-foreground opacity-50",_.disabled),hidden:Dn("invisible",_.hidden),...t},components:{Root:({className:ie,rootRef:ue,...oe})=>S.jsx("div",{"data-slot":"calendar",ref:ue,className:Dn(ie),...oe}),Chevron:({className:ie,orientation:ue,...oe})=>ue==="left"?S.jsx(_O,{className:Dn("size-4",ie),...oe}):ue==="right"?S.jsx(pS,{className:Dn("size-4",ie),...oe}):S.jsx(i1,{className:Dn("size-4",ie),...oe}),DayButton:kSe,WeekNumber:({children:ie,...ue})=>S.jsx("td",{...ue,children:S.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:ie})}),...u},selected:q,onSelect:Y,...z})}function kSe({className:e,day:t,modifiers:n,...r}){const a=V8(),l=$.useRef(null);return $.useEffect(()=>{n.focused&&l.current?.focus()},[n.focused]),S.jsx(Bn,{ref:l,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:Dn("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",a.day,e),...r})}const vN="TimePicker",z3="TimePickerInputGroup",lM="TimePickerInput",ISe="TimePickerTrigger",f7="TimePickerContent",NSe="TimePickerColumn",h7="TimePickerColumnItem",p7="TimePickerHour",m7="TimePickerMinute",g7="TimePickerPeriod",uM=1,gu="--",RSe=void 0,MSe=["hour","minute","second","period"],OSe=["AM","PM"];function sX(e,t=!1){const n=document.activeElement;for(const r of e){const a=r.current;if(a&&(a===n||(a.focus({preventScroll:t}),document.activeElement!==n)))return}}function lX(e){return e.sort((t,n)=>{const r=t.ref.current,a=n.ref.current;if(!r||!a)return 0;const l=r.compareDocumentPosition(a);return l&Node.DOCUMENT_POSITION_FOLLOWING?-1:l&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function DSe(e){const t=new Date(2e3,0,1,13,0,0),n=new Intl.DateTimeFormat(e,{hour:"numeric"}).format(t);return/am|pm/i.test(n)||!n.includes("13")}function OS(e){if(!e)return null;const t=e.split(":");if(t.length<2)return null;const n={};if(t[0]&&t[0]!==gu){const r=Number.parseInt(t[0],10);!Number.isNaN(r)&&r>=0&&r<=23&&(n.hour=r)}if(t[1]&&t[1]!==gu){const r=Number.parseInt(t[1],10);!Number.isNaN(r)&&r>=0&&r<=59&&(n.minute=r)}if(t[2]&&t[2]!==gu){const r=Number.parseInt(t[2],10);!Number.isNaN(r)&&r>=0&&r<=59&&(n.second=r)}return n.hour===void 0&&n.minute===void 0&&n.second===void 0?null:n}function xE(e,t){const n=e.hour!==void 0?e.hour.toString().padStart(2,"0"):gu,r=e.minute!==void 0?e.minute.toString().padStart(2,"0"):gu,a=e.second!==void 0?e.second.toString().padStart(2,"0"):gu;return t?`${n}:${r}:${a}`:`${n}:${r}`}function vy(e){const t=e>=12?"PM":"AM";return{hour:e%12||12,period:t}}function Ak(e,t){return e===12?t==="PM"?12:0:t==="PM"?e+12:e}function UC(e,t,n){return Math.min(Math.max(e,t),n)}const W8=$.createContext(null);function ww(e){const t=$.useContext(W8);if(!t)throw new Error(`\`${e}\` must be used within \`${vN}\``);return t}function $E(e,t){const n=$.useContext(W8),r=t??n;if(!r)throw new Error(`\`useStore\` must be used within \`${vN}\``);const a=$.useCallback(()=>e(r.getState()),[r,e]);return $.useSyncExternalStore(r.subscribe,a,a)}const uX=$.createContext(null);function X1(e){const t=$.useContext(uX);if(!t)throw new Error(`\`${e}\` must be used within \`${vN}\``);return t}function cX(e){const{value:t,defaultValue:n,onValueChange:r,open:a,defaultOpen:l,onOpenChange:u,openOnFocus:i=!1,inputGroupClickAction:m="focus",min:b,max:_,hourStep:w=uM,minuteStep:M=uM,secondStep:P=uM,segmentPlaceholder:j=gu,locale:G=RSe,name:z,asChild:q,disabled:Y=!1,invalid:J=!1,readOnly:ne=!1,required:ie=!1,showSeconds:ue=!1,className:oe,children:K,id:se,...pe}=e,ve=$.useId(),Te=se??ve,Me=$.useId(),xe=$.useId(),Se=$.useId(),he=$.useRef(null),we=$.useRef(null),[_e,Be]=$.useState(null),He=_e?!!_e.closest("form"):!0,Re=Ck(()=>new Set),je=Ck(()=>({value:t??n??"",open:a??l??!1,openedViaFocus:!1})),Ze=F8({onValueChange:r,onOpenChange:u}),Qe=$.useMemo(()=>({subscribe:Ge=>(Re.current.add(Ge),()=>Re.current.delete(Ge)),getState:()=>je.current,setState:(Ge,kn)=>{Object.is(je.current[Ge],kn)||(Ge==="value"&&typeof kn=="string"?(je.current.value=kn,Ze.current.onValueChange?.(kn)):Ge==="open"&&typeof kn=="boolean"?(je.current.open=kn,Ze.current.onOpenChange?.(kn),kn||(je.current.openedViaFocus=!1)):je.current[Ge]=kn,Qe.notify())},notify:()=>{for(const Ge of Re.current)Ge()}}),[Re,je,Ze]),Pe=$E(Ge=>Ge.value,Qe);rv(()=>{t!==void 0&&Qe.setState("value",t)},[t]),rv(()=>{a!==void 0&&Qe.setState("open",a)},[a]);const St=$E(Ge=>Ge.open,Qe),Nt=$.useCallback(Ge=>Qe.setState("open",Ge),[Qe]),We=$.useMemo(()=>DSe(G),[G]),en=$.useMemo(()=>typeof j=="string"?{hour:j,minute:j,second:j,period:j}:{hour:j.hour??gu,minute:j.minute??gu,second:j.second??gu,period:j.period??gu},[j]),zt=$.useMemo(()=>({id:Te,inputGroupId:Me,labelId:xe,triggerId:Se,inputGroupRef:he,triggerRef:we,openOnFocus:i,inputGroupClickAction:m,onInputGroupChange:Be,disabled:Y,readOnly:ne,required:ie,invalid:J,showSeconds:ue,is12Hour:We,minuteStep:M,secondStep:P,hourStep:w,segmentPlaceholder:en,min:b,max:_}),[Te,Me,xe,Se,i,m,Y,ne,ie,J,ue,We,M,P,w,en,b,_]),rn=q?Wf:"div";return S.jsxs(S.Fragment,{children:[S.jsx(W8.Provider,{value:Qe,children:S.jsx(uX.Provider,{value:zt,children:S.jsx(LE,{open:St,onOpenChange:Nt,children:S.jsx(rn,{"data-slot":"time-picker","data-disabled":Y?"":void 0,"data-invalid":J?"":void 0,...pe,className:Dn("relative",oe),children:K})})})}),He&&S.jsx(D3,{type:"hidden",control:_e,name:z,value:Pe,disabled:Y,readOnly:ne,required:ie})]})}const dX=$.createContext(null);function LSe(e){const t=$.useContext(dX);if(!t)throw new Error(`\`${e}\` must be used within \`${z3}\``);return t}function fX(e){const{onPointerDown:t,onClick:n,asChild:r,className:a,style:l,ref:u,...i}=e,{inputGroupId:m,labelId:b,onInputGroupChange:_,disabled:w,readOnly:M,invalid:P,segmentPlaceholder:j,inputGroupRef:G,triggerRef:z,inputGroupClickAction:q}=X1(z3),Y=ww(z3),J=Y1(u,G,_),ne=$.useRef(new Map),ie=$.useCallback((Te,Me)=>{ne.current.set(Te,Me)},[]),ue=$.useCallback(Te=>{ne.current.delete(Te)},[]),oe=$.useCallback(Te=>{const Me=["hour","minute","second","period"],xe=Me.indexOf(Te);if(xe===-1||xe===Me.length-1)return null;for(let Se=xe+1;Se<Me.length;Se++){const he=Me[Se];if(he){const we=ne.current.get(he);if(we?.current)return we}}return null},[]),K=$.useCallback(Te=>{if(t?.(Te),w||M||Te.defaultPrevented)return;const Me=Te.target;Me.tagName==="INPUT"||Me.closest("input")||z.current?.contains(Me)||Te.preventDefault()},[t,w,M,z]),se=$.useCallback(Te=>{if(n?.(Te),w||M||Te.defaultPrevented)return;const Me=Te.target;if(!(Me.tagName==="INPUT"||Me.closest("input"))&&!z.current?.contains(Me))if(q==="open")Y.setState("open",!0);else{const xe=document.activeElement;if(!(xe&&xe.tagName==="INPUT"&&G.current?.contains(xe)))for(const he of MSe){const we=ne.current.get(he);if(we?.current){we.current.focus(),we.current.select();break}}}},[n,w,M,q,Y,z,G]),pe=$.useMemo(()=>({onInputRegister:ie,onInputUnregister:ue,getNextInput:oe}),[ie,ue,oe]),ve=r?Wf:"div";return S.jsx(dX.Provider,{value:pe,children:S.jsx(Xxe,{asChild:!0,children:S.jsx(ve,{role:"group",id:m,"aria-labelledby":b,"data-slot":"time-picker-input-group","data-disabled":w?"":void 0,"data-invalid":P?"":void 0,...i,className:Dn("flex h-9 w-full cursor-text items-center gap-0.5 rounded-md border border-input bg-background px-4 py-2 shadow-xs outline-none transition-shadow","has-[input:focus]:border-ring has-[input:focus]:ring-[3px] has-[input:focus]:ring-ring/50",P&&"border-destructive ring-destructive/20",w&&"cursor-not-allowed opacity-50",a),style:{"--time-picker-hour-input-width":`${j.hour.length}ch`,"--time-picker-minute-input-width":`${j.minute.length}ch`,"--time-picker-second-input-width":`${j.second.length}ch`,"--time-picker-period-input-width":`${Math.max(j.period.length,2)+.5}ch`,...l},ref:J,onPointerDown:K,onClick:se})})})}function kk(e){const{segment:t,onBlur:n,onChange:r,onClick:a,onFocus:l,onKeyDown:u,disabled:i,readOnly:m,className:b,style:_,ref:w,...M}=e,{is12Hour:P,showSeconds:j,disabled:G,readOnly:z,segmentPlaceholder:q,openOnFocus:Y}=X1(lM),J=ww(lM),ne=LSe(lM),ie=i||G,ue=m||z,oe=$E(St=>St.value),K=OS(oe),se=$.useRef(null),pe=Y1(w,se);rv(()=>{if(t)return ne.onInputRegister(t,se),()=>ne.onInputUnregister(t)},[ne,t]);const ve=$.useCallback(()=>{if(!K)return t?q[t]:"";switch(t){case"hour":return K.hour===void 0?q.hour:P?vy(K.hour).hour.toString().padStart(2,"0"):K.hour.toString().padStart(2,"0");case"minute":return K.minute===void 0?q.minute:K.minute.toString().padStart(2,"0");case"second":return K.second===void 0?q.second:K.second.toString().padStart(2,"0");case"period":return!K||K.hour===void 0?q.period:vy(K.hour).period;default:return""}},[K,t,P,q]),[Te,Me]=$.useState(ve()),[xe,Se]=$.useState(!1),[he,we]=$.useState(null);$.useEffect(()=>{xe||(Me(ve()),we(null))},[ve,xe]);const _e=$.useCallback((St,Nt=!1)=>{const We=t?q[t]:gu;if(!St||St===We||!K&&!Nt)return;const zt={...K??{}};switch(t){case"hour":{const Ge=Number.parseInt(St,10);if(!Number.isNaN(Ge))if(P){const kn=UC(Ge,1,12);let _n;K?.period!==void 0?_n=K.period:K?.hour!==void 0?_n=vy(K.hour).period:_n=vy(new Date().getHours()).period;const Lt=Ak(kn,_n);zt.hour=Lt,K?.period!==void 0&&(zt.period=K.period)}else zt.hour=UC(Ge,0,23);break}case"minute":{const Ge=Number.parseInt(St,10);Number.isNaN(Ge)||(zt.minute=UC(Ge,0,59));break}case"second":{const Ge=Number.parseInt(St,10);Number.isNaN(Ge)||(zt.second=UC(Ge,0,59));break}case"period":{if((St==="AM"||St==="PM")&&(zt.period=St,K&&K.hour!==void 0)){const Ge=vy(K.hour);zt.hour=Ak(Ge.hour,St)}break}}const rn=xE(zt,j);J.setState("value",rn)},[K,t,P,j,J,q]),Be=$.useCallback(St=>{if(n?.(St),St.defaultPrevented)return;Se(!1);const Nt=t?q[t]:gu;if(Te&&Te!==Nt&&Te.length>0){let We=Te;if(t!=="period"){if(Te.length===2)We=Te;else if(Te.length===1){const en=Number.parseInt(Te,10);Number.isNaN(en)||(We=en.toString().padStart(2,"0"))}}_e(We,!0),queueMicrotask(()=>{const en=OS(J.getState().value);if(en){const zt=new Date,rn={...en};let Ge=!1;if(rn.hour===void 0&&(rn.hour=zt.getHours(),Ge=!0),rn.minute===void 0&&(rn.minute=zt.getMinutes(),Ge=!0),j&&rn.second===void 0&&(rn.second=zt.getSeconds(),Ge=!0),Ge){const kn=xE(rn,j);J.setState("value",kn)}}})}Me(ve()),we(null)},[n,Te,_e,ve,t,q,j,J]),He=$.useCallback(St=>{if(r?.(St),St.defaultPrevented)return;let Nt=St.target.value;const We=t?q[t]:gu;if(Te===We&&Nt.length>0&&Nt!==We&&(Nt=Nt.replace(new RegExp(`^${We}`),"")),t==="period"){const en=Nt.charAt(0).toUpperCase();let zt=null;en==="A"||en==="1"?zt="AM":(en==="P"||en==="2")&&(zt="PM"),zt&&(Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()}));return}if((t==="hour"||t==="minute"||t==="second")&&(Nt=Nt.replace(/\D/g,"")),Nt.length>2&&(Nt=Nt.slice(0,2)),t==="hour"||t==="minute"||t==="second"){const en=Number.parseInt(Nt,10);if(!Number.isNaN(en)&&Nt.length>0){if(he!==null&&Nt.length===1){const kn=he+Nt,_n=Number.parseInt(kn,10);if(!Number.isNaN(_n)){const Lt=_n.toString().padStart(2,"0");Me(Lt),_e(Lt,!0),we(null),queueMicrotask(()=>{if(t){const pn=ne.getNextInput(t);pn?.current&&(pn.current.focus(),pn.current.select())}});return}}const zt=t==="hour"?P?1:2:5,Ge=Number.parseInt(Nt[0]??"0",10)>zt;if(Nt.length===1)if(Ge){const kn=en.toString().padStart(2,"0");Me(kn),_e(kn,!0),we(null),queueMicrotask(()=>{if(t){const _n=ne.getNextInput(t);_n?.current&&(_n.current.focus(),_n.current.select())}})}else{const kn=en.toString().padStart(2,"0");Me(kn),we(Nt),queueMicrotask(()=>{se.current?.select()})}else if(Nt.length===2){const kn=en.toString().padStart(2,"0");Me(kn),_e(kn,!0),we(null),queueMicrotask(()=>{if(t){const _n=ne.getNextInput(t);_n?.current&&(_n.current.focus(),_n.current.select())}})}}else Nt.length===0&&(Me(""),we(null))}},[t,_e,r,Te,P,ne,he,q]),Re=$.useCallback(St=>{a?.(St),!St.defaultPrevented&&St.currentTarget.select()},[a]),je=$.useCallback(St=>{l?.(St),!St.defaultPrevented&&(Se(!0),we(null),Y&&!J.getState().open&&(J.setState("openedViaFocus",!0),J.setState("open",!0)),queueMicrotask(()=>St.target.select()))},[l,Y,J]),Ze=$.useCallback(St=>{if(u?.(St),!St.defaultPrevented){if(St.key==="ArrowLeft"||St.key==="ArrowRight"){St.preventDefault();const Nt=St.key==="ArrowLeft",We=se.current?.closest('[data-slot="time-picker-input-group"]');if(We&&se.current){const en=Array.from(We.querySelectorAll('input[type="text"]')),zt=en.indexOf(se.current);if(zt!==-1){const rn=Nt?Math.max(0,zt-1):Math.min(en.length-1,zt+1),Ge=en[rn];Ge&&Ge!==se.current&&(Ge.focus(),Ge.select())}}return}if(St.key==="Backspace"||St.key==="Delete"){const Nt=se.current;if(Nt&&Nt.selectionStart===0&&Nt.selectionEnd===Nt.value.length){St.preventDefault();const We=t?q[t]:gu;if(Me(We),we(null),K){const en={...K};switch(t){case"hour":delete en.hour;break;case"minute":delete en.minute;break;case"second":delete en.second;break;case"period":delete en.period;break}if(en.hour!==void 0||en.minute!==void 0||en.second!==void 0||en.period!==void 0){const zt=xE(en,j);J.setState("value",zt)}else J.setState("value","")}else J.setState("value","");queueMicrotask(()=>{se.current?.select()});return}}if(t==="period"){const Nt=St.key.toLowerCase();if(Nt==="a"||Nt==="p"||Nt==="1"||Nt==="2"){St.preventDefault();let We;Nt==="a"||Nt==="1"?We="AM":We="PM",Me(We),_e(We,!0),queueMicrotask(()=>{se.current?.select()})}else if(St.key==="ArrowUp"||St.key==="ArrowDown"){St.preventDefault();const We=q.period,en=Te===We||Te===""?"AM":Te,zt=en==="AM"||en==="A"?"PM":"AM";Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()})}return}if(St.key==="Tab"){const Nt=t?q[t]:gu;if(Te&&Te.length>0&&Te!==Nt){if(Te.length===2)_e(Te,!0);else if(Te.length===1){const We=Number.parseInt(Te,10);if(!Number.isNaN(We)){const en=We.toString().padStart(2,"0");_e(en,!0)}}}return}if(St.key==="Enter"){St.preventDefault();const Nt=t?q[t]:gu;if(Te&&Te.length>0&&Te!==Nt){if(Te.length===2)_e(Te,!0);else if(Te.length===1){const We=Number.parseInt(Te,10);if(!Number.isNaN(We)){const en=We.toString().padStart(2,"0");_e(en,!0)}}}queueMicrotask(()=>{se.current?.select()})}if(St.key==="Escape"&&(St.preventDefault(),Me(ve()),se.current?.blur()),St.key==="ArrowUp"){St.preventDefault();const Nt=t?q[t]:gu;if(Te===Nt||Te===""){const zt=(t==="hour"&&P?12:0).toString().padStart(2,"0");Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()});return}const We=Number.parseInt(Te,10);if(!Number.isNaN(We)){let en;switch(t){case"hour":P?en=We===12?1:We+1:en=We===23?0:We+1;break;case"minute":case"second":en=We===59?0:We+1;break;default:return}const zt=en.toString().padStart(2,"0");Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()})}}if(St.key==="ArrowDown"){St.preventDefault();const Nt=t?q[t]:gu;if(Te===Nt||Te===""){const zt=(t==="hour"?P?12:23:59).toString().padStart(2,"0");Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()});return}const We=Number.parseInt(Te,10);if(!Number.isNaN(We)){let en;switch(t){case"hour":P?en=We===1?12:We-1:en=We===0?23:We-1;break;case"minute":case"second":en=We===0?59:We-1;break;default:return}const zt=en.toString().padStart(2,"0");Me(zt),_e(zt,!0),queueMicrotask(()=>{se.current?.select()})}}}},[u,Te,t,P,ve,_e,j,K,J,q]),Qe=xe?Te:ve(),Pe=t?`var(--time-picker-${t}-input-width)`:"2ch";return S.jsx("input",{type:"text",inputMode:t==="period"?"text":"numeric",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1,translate:"no",...M,disabled:ie,readOnly:ue,className:Dn("inline-flex h-full items-center justify-center border-0 bg-transparent text-center text-sm tabular-nums outline-none","selection:bg-primary selection:text-primary-foreground","transition-[color,box-shadow]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40","disabled:cursor-not-allowed disabled:opacity-50",b),style:{width:Pe,..._},ref:pe,value:Qe,onBlur:Be,onChange:He,onClick:Re,onFocus:je,onKeyDown:Ze})}function hX(e){const{className:t,children:n,disabled:r,ref:a,...l}=e,{triggerId:u,disabled:i,triggerRef:m}=X1(ISe),b=r||i,_=Y1(a,m);return S.jsx(PE,{type:"button",id:u,"data-slot":"time-picker-trigger",disabled:b,ref:_,...l,className:Dn("ml-auto flex items-center text-muted-foreground transition-colors hover:text-foreground disabled:pointer-events-none [&>svg:not([class*='size-'])]:size-4",t),children:n??S.jsx(Roe,{})})}const pX=$.createContext(null);function mX(e){const t=$.useContext(pX);if(!t)throw new Error(`\`${e}\` must be used within \`${vN}\``);return t}function gX(e){const{side:t="bottom",align:n="start",sideOffset:r=6,className:a,onOpenAutoFocus:l,onInteractOutside:u,...i}=e,m=ww(f7),{openOnFocus:b,inputGroupRef:_}=X1(f7),w=$.useRef(new Map),M=$.useCallback(Y=>{w.current.set(Y.id,Y)},[]),P=$.useCallback(Y=>{w.current.delete(Y)},[]),j=$.useCallback(()=>{const Y=Array.from(w.current.entries()).map(([J,{ref:ne,getSelectedItemRef:ie,getItems:ue}])=>({id:J,ref:ne,getSelectedItemRef:ie,getItems:ue})).filter(J=>J.ref.current!==null);return lX(Y)},[]),G=$.useMemo(()=>({getColumns:j,onColumnRegister:M,onColumnUnregister:P}),[j,M,P]),z=$.useCallback(Y=>{if(l?.(Y),Y.defaultPrevented)return;Y.preventDefault();const{openedViaFocus:J}=m.getState();if(J){m.setState("openedViaFocus",!1);return}const ie=j()[0];if(!ie)return;const ue=ie.getItems(),oe=ue.find(se=>se.selected),K=oe?[oe.ref,...ue.map(se=>se.ref)]:ue.map(se=>se.ref);sX(K,!1)},[l,j,m]),q=$.useCallback(Y=>{if(u?.(Y),!Y.defaultPrevented&&b&&_.current){const J=Y.target;if(!(J instanceof Node))return;_.current.contains(J)&&Y.preventDefault()}},[u,b,_]);return S.jsx(pX.Provider,{value:G,children:S.jsx(FE,{"data-slot":"time-picker-content",side:t,align:n,sideOffset:r,...i,className:Dn("flex w-auto max-w-(--radix-popover-trigger-width) p-0",a),onOpenAutoFocus:z,onInteractOutside:q})})}const yX=$.createContext(null);function PSe(e){const t=$.useContext(yX);if(!t)throw new Error(`\`${e}\` must be used within a column`);return t}function Z8(e){const{children:t,className:n,ref:r,...a}=e,l=$.useId(),u=$.useRef(null),i=Y1(r,u),m=$.useRef(new Map),b=mX(NSe),_=$.useCallback((G,z,q)=>{m.current.set(G,{ref:z,selected:q})},[]),w=$.useCallback(G=>{m.current.delete(G)},[]),M=$.useCallback(()=>{const G=Array.from(m.current.entries()).map(([z,{ref:q,selected:Y}])=>({value:z,ref:q,selected:Y})).filter(z=>z.ref.current);return lX(G)},[]),P=$.useCallback(()=>M().find(z=>z.selected)?.ref??null,[M]);rv(()=>(b.onColumnRegister({id:l,ref:u,getSelectedItemRef:P,getItems:M}),()=>b.onColumnUnregister(l)),[b,l,P,M]);const j=$.useMemo(()=>({getItems:M,onItemRegister:_,onItemUnregister:w}),[M,_,w]);return S.jsx(yX.Provider,{value:j,children:S.jsx("div",{ref:i,"data-slot":"time-picker-column",...a,className:Dn("flex flex-col gap-1 not-last:border-r p-1",n),children:t})})}function X8(e){const{value:t,selected:n=!1,format:r="numeric",className:a,ref:l,...u}=e,i=$.useRef(null),m=Y1(l,i),b=PSe(h7),_=mX(h7);rv(()=>(b.onItemRegister(t,i,n),()=>b.onItemUnregister(t)),[b,t,n]),rv(()=>{n&&i.current&&i.current.scrollIntoView({block:"nearest"})},[n]);const w=$.useCallback(j=>{u.onClick?.(j),!j.defaultPrevented&&i.current?.focus()},[u.onClick]),M=$.useCallback(j=>{if(u.onKeyDown?.(j),!j.defaultPrevented)if(j.key==="ArrowUp"||j.key==="ArrowDown"){j.preventDefault();const G=b.getItems().sort((J,ne)=>typeof J.value=="number"&&typeof ne.value=="number"?J.value-ne.value:0),z=G.findIndex(J=>J.value===t);let q;j.key==="ArrowUp"?q=z>0?z-1:G.length-1:q=z<G.length-1?z+1:0;const Y=G[q];Y?.ref.current?.focus(),Y?.ref.current?.click()}else(j.key==="Tab"||j.key==="ArrowLeft"||j.key==="ArrowRight")&&_&&(j.preventDefault(),queueMicrotask(()=>{const G=_.getColumns();if(G.length===0)return;const z=G.findIndex(ne=>ne.ref.current?.contains(i.current)??!1);if(z===-1)return;const Y=j.key==="ArrowLeft"||j.key==="Tab"&&j.shiftKey?z>0?z-1:G.length-1:z<G.length-1?z+1:0,J=G[Y];if(J?.ref.current){const ne=J.getItems(),ie=ne.find(oe=>oe.selected),ue=ie?[ie.ref,...ne.map(oe=>oe.ref)]:ne.map(oe=>oe.ref);sX(ue,!1)}}))},[u.onKeyDown,b,_,t]),P=typeof t=="number"&&r==="2-digit"?t.toString().padStart(2,"0"):t.toString();return S.jsx("button",{type:"button",...u,ref:m,"data-selected":n?"":void 0,className:Dn("w-full rounded px-3 py-1.5 text-left text-sm hover:bg-accent hover:text-accent-foreground focus:border-ring focus:outline-none focus:ring-[3px] focus:ring-ring/50","data-selected:bg-primary data-selected:text-primary-foreground data-selected:hover:bg-primary data-selected:hover:text-primary-foreground",a),onClick:w,onKeyDown:M,children:P})}function vX(e){const{asChild:t,format:n="numeric",className:r,...a}=e,{is12Hour:l,hourStep:u,showSeconds:i}=X1(p7),m=ww(p7),b=$E(Y=>Y.value),_=OS(b),w=Array.from({length:Math.ceil(l?12/u:24/u)},(Y,J)=>{if(l){const ne=J*u%12;return ne===0?12:ne}return J*u}),M=$.useCallback(Y=>{const J=new Date,ne=_??{};let ie=Y;if(l){let K;_?.period!==void 0?K=_.period:_?.hour!==void 0?K=vy(_.hour).period:K=vy(J.getHours()).period,ie=Ak(Y,K)}const ue={...ne,hour:ie};_&&_.period!==void 0&&(ue.period=_.period),ue.minute===void 0&&(ue.minute=J.getMinutes()),i&&ue.second===void 0&&(ue.second=J.getSeconds());const oe=xE(ue,i);m.setState("value",oe)},[_,i,l,m]),P=new Date,j=_?.hour??P.getHours(),G=l?vy(j).hour:j,z=t?Wf:Z8,q=$.useCallback(Y=>{Y.stopPropagation();const J=Y.currentTarget;J.scrollTop+=Y.deltaY,Y.preventDefault()},[]);return S.jsx(z,{"data-slot":"time-picker-hour",...a,className:Dn("flex max-h-[200px] flex-col gap-1 overflow-y-auto p-1 overscroll-contain",r),style:{scrollbarWidth:"thin",touchAction:"pan-y",...a.style},onWheel:q,children:w.map(Y=>S.jsx(X8,{value:Y,selected:G===Y,format:n,onClick:()=>M(Y)},Y))})}function bX(e){const{asChild:t,format:n="2-digit",className:r,...a}=e,{minuteStep:l,showSeconds:u}=X1(m7),i=ww(m7),m=$E(z=>z.value),b=OS(m),_=Array.from({length:Math.ceil(60/l)},(z,q)=>q*l),w=$.useCallback(z=>{const q=new Date,J={...b??{},minute:z};J.hour===void 0&&(J.hour=q.getHours()),u&&J.second===void 0&&(J.second=q.getSeconds());const ne=xE(J,u);i.setState("value",ne)},[b,u,i]),M=t?Wf:Z8,P=new Date,j=b?.minute??P.getMinutes(),G=$.useCallback(z=>{z.stopPropagation();const q=z.currentTarget;q.scrollTop+=z.deltaY,z.preventDefault()},[]);return S.jsx(M,{"data-slot":"time-picker-minute",...a,className:Dn("flex max-h-[200px] flex-col gap-1 overflow-y-auto p-1 overscroll-contain",r),style:{scrollbarWidth:"thin",touchAction:"pan-y",...a.style},onWheel:G,children:_.map(z=>S.jsx(X8,{value:z,selected:j===z,format:n,onClick:()=>w(z)},z))})}function _X(e){const{asChild:t,className:n,...r}=e,{is12Hour:a,showSeconds:l}=X1(g7),u=ww(g7),i=$E(j=>j.value),m=OS(i),b=$.useCallback(j=>{const G=new Date,z=m??{},q=z.hour!==void 0?z.hour:G.getHours(),Y=vy(q),J=Ak(Y.hour,j),ne={...z,hour:J};ne.minute===void 0&&(ne.minute=G.getMinutes()),l&&ne.second===void 0&&(ne.second=G.getSeconds());const ie=xE(ne,l);u.setState("value",ie)},[m,l,u]);if(!a)return null;const _=new Date,w=m?.hour??_.getHours(),M=vy(w).period,P=t?Wf:Z8;return S.jsx(P,{"data-slot":"time-picker-period",...r,className:Dn("flex flex-col gap-1 p-1",n),children:OSe.map(j=>S.jsx(X8,{value:j,selected:M===j,onClick:()=>b(j)},j))})}function xX(e){const{asChild:t,children:n,...r}=e,a=t?Wf:"span";return S.jsx(a,{"aria-hidden":"true","data-slot":"time-picker-separator",...r,children:n??":"})}function FSe({className:e,...t}){return S.jsx("div",{"data-slot":"card",className:Dn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm relative overflow-hidden",e),...t})}function BSe({className:e,...t}){return S.jsx("div",{"data-slot":"card-footer",className:Dn("flex items-center px-6 [.border-t]:pt-6",e),...t})}const EX=e=>{const{color:t}=Fr();return S.jsxs(FSe,{className:`mb-3 ${e.copyString?"active:opacity-80":""}`,onClick:()=>{e.onOpen?e.onOpen():e.copyString&&qf(e.copyString)},style:{wordBreak:"break-all",cursor:e.copyString?"pointer":"default"},children:[S.jsx("div",{className:"text-xs font-medium",children:e.placeholder}),S.jsx("div",{children:e.children!=null&&e.children!=null&&e.children!=""?e.children:S.jsx("span",{className:"text-gray-300 text-xs",children:e.placeholder})}),S.jsx(BSe,{children:S.jsx(Bn,{variant:"secondary",size:"icon-sm",onClick:()=>{},children:S.jsx(p1,{})})})]})},y7=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const{isMobile:r}=Fr();if(e.onlyShow||!e.structure.editable)return e.structure.title,t&&yo.unix(t).format(e.structure.type=="unixdate"?"DD.MM.YYYY":"DD.MM.YYYY HH:mm:ss"),t&&(yo.unix(t).format("DD.MM.YYYY"),e.structure.type=="unixdatetime"&&yo.unix(t).format("HH:mm")),S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(Bn,{onClick:()=>{t&&qf(yo.unix(t).format(e.structure.type=="unixdate"?"DD.MM.YYYY":"DD.MM.YYYY HH:mm:ss"))},variant:"secondary",className:"w-full flex items-center justify-between",children:t?S.jsx("div",{children:S.jsxs("div",{children:[yo.unix(t).format("DD.MM.YYYY"),e.structure.type=="unixdatetime"&&S.jsx("span",{className:"text-xs ml-2",children:yo.unix(t).format("HH:mm")})]})}):tt.key("no_data_short")}),S.jsx(La,{...e})]});const[a,l]=$.useState(!1);if(e.structure.type=="unixdate")return r?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",onClick:()=>{l(!0)},children:[t?yo.unix(t).format("DD.MM.YYYY"):tt.key("select_date"),S.jsx(i1,{})]}),S.jsx(Yh,{opened:a,onBackdropClick:()=>l(!1),children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("select_date"),right:S.jsx(Bn,{onClick:()=>l(!1),children:S.jsx(Yl,{})})}),S.jsx(sM,{className:"w-full",mode:"single",value:t||null,captionLayout:"dropdown",onChange:u=>{n(u),l(!1)}})]})})]}):S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(LE,{open:a,onOpenChange:l,children:[S.jsx(PE,{asChild:!0,children:S.jsxs(Bn,{variant:"outline",id:"date",className:"w-full justify-between font-normal",children:[t?yo.unix(t).format("DD.MM.YYYY"):tt.key("select_date"),S.jsx(i1,{})]})}),S.jsx(FE,{className:"w-auto overflow-hidden p-0",align:"start",children:S.jsx(sM,{mode:"single",value:t||null,captionLayout:"dropdown",onChange:u=>{n(u),l(!1)}})})]}),S.jsx(La,{...e})]});if(e.structure.type=="unixdatetime")return S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs(LE,{open:a,onOpenChange:l,children:[S.jsx(PE,{asChild:!0,children:S.jsxs(Bn,{variant:"outline",id:"date-picker",className:"w-32 justify-between font-normal",children:[na.isNumber(t)?yo.unix(t).format("DD.MM.YYYY"):tt.key("select_date"),S.jsx(i1,{})]})}),S.jsx(FE,{className:"w-auto overflow-hidden p-0",align:"start",children:S.jsx(sM,{mode:"single",selected:na.isNumber(t)?yo.unix(t).toDate():void 0,captionLayout:"dropdown",onSelect:u=>{n(u?u.getTime()/1e3:null),l(!1)}})})]}),S.jsxs(cX,{openOnFocus:!0,value:na.isNumber(t)?`${yo.unix(t).hour()}:${yo.unix(t).minute()}`:"",onValueChange:u=>{let i=Number(u.split(":")[0]),m=Number(u.split(":")[1]);i>23||m>59||na.isNaN(i)||na.isNaN(m)||(console.log(i,m),n(yo.unix(t).set("hour",i).set("minute",m).unix()))},children:[S.jsxs(fX,{children:[S.jsx(kk,{placeholder:"00",segment:"hour"}),S.jsx(xX,{}),S.jsx(kk,{placeholder:"00",segment:"minute"}),S.jsx(hX,{})]}),S.jsxs(gX,{children:[S.jsx(vX,{}),S.jsx(bX,{}),S.jsx(_X,{})]})]})]}),S.jsx(La,{...e})]})};var cM="rovingFocusGroup.onEntryFocus",$Se={bubbles:!1,cancelable:!0},PT="RovingFocusGroup",[U3,wX,jSe]=$8(PT),[zSe,Sw]=vd(PT,[jSe]),[USe,GSe]=zSe(PT),SX=$.forwardRef((e,t)=>S.jsx(U3.Provider,{scope:e.__scopeRovingFocusGroup,children:S.jsx(U3.Slot,{scope:e.__scopeRovingFocusGroup,children:S.jsx(HSe,{...e,ref:t})})}));SX.displayName=PT;var HSe=$.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:i,onCurrentTabStopIdChange:m,onEntryFocus:b,preventScrollOnEntryFocus:_=!1,...w}=e,M=$.useRef(null),P=ni(t,M),j=W1(l),[G,z]=Zf({prop:u,defaultProp:i??null,onChange:m,caller:PT}),[q,Y]=$.useState(!1),J=Xu(b),ne=wX(n),ie=$.useRef(!1),[ue,oe]=$.useState(0);return $.useEffect(()=>{const K=M.current;if(K)return K.addEventListener(cM,J),()=>K.removeEventListener(cM,J)},[J]),S.jsx(USe,{scope:n,orientation:r,dir:j,loop:a,currentTabStopId:G,onItemFocus:$.useCallback(K=>z(K),[z]),onItemShiftTab:$.useCallback(()=>Y(!0),[]),onFocusableItemAdd:$.useCallback(()=>oe(K=>K+1),[]),onFocusableItemRemove:$.useCallback(()=>oe(K=>K-1),[]),children:S.jsx(xa.div,{tabIndex:q||ue===0?-1:0,"data-orientation":r,...w,ref:P,style:{outline:"none",...e.style},onMouseDown:kr(e.onMouseDown,()=>{ie.current=!0}),onFocus:kr(e.onFocus,K=>{const se=!ie.current;if(K.target===K.currentTarget&&se&&!q){const pe=new CustomEvent(cM,$Se);if(K.currentTarget.dispatchEvent(pe),!pe.defaultPrevented){const ve=ne().filter(he=>he.focusable),Te=ve.find(he=>he.active),Me=ve.find(he=>he.id===G),Se=[Te,Me,...ve].filter(Boolean).map(he=>he.ref.current);AX(Se,_)}}ie.current=!1}),onBlur:kr(e.onBlur,()=>Y(!1))})})}),TX="RovingFocusGroupItem",CX=$.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:l,children:u,...i}=e,m=eg(),b=l||m,_=GSe(TX,n),w=_.currentTabStopId===b,M=wX(n),{onFocusableItemAdd:P,onFocusableItemRemove:j,currentTabStopId:G}=_;return $.useEffect(()=>{if(r)return P(),()=>j()},[r,P,j]),S.jsx(U3.ItemSlot,{scope:n,id:b,focusable:r,active:a,children:S.jsx(xa.span,{tabIndex:w?0:-1,"data-orientation":_.orientation,...i,ref:t,onMouseDown:kr(e.onMouseDown,z=>{r?_.onItemFocus(b):z.preventDefault()}),onFocus:kr(e.onFocus,()=>_.onItemFocus(b)),onKeyDown:kr(e.onKeyDown,z=>{if(z.key==="Tab"&&z.shiftKey){_.onItemShiftTab();return}if(z.target!==z.currentTarget)return;const q=YSe(z,_.orientation,_.dir);if(q!==void 0){if(z.metaKey||z.ctrlKey||z.altKey||z.shiftKey)return;z.preventDefault();let J=M().filter(ne=>ne.focusable).map(ne=>ne.ref.current);if(q==="last")J.reverse();else if(q==="prev"||q==="next"){q==="prev"&&J.reverse();const ne=J.indexOf(z.currentTarget);J=_.loop?WSe(J,ne+1):J.slice(ne+1)}setTimeout(()=>AX(J))}}),children:typeof u=="function"?u({isCurrentTabStop:w,hasTabStop:G!=null}):u})})});CX.displayName=TX;var VSe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function qSe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function YSe(e,t,n){const r=qSe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return VSe[r]}function AX(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function WSe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var K8=SX,Q8=CX,kX="Toggle",IX=$.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r,onPressedChange:a,...l}=e,[u,i]=Zf({prop:n,onChange:a,defaultProp:r??!1,caller:kX});return S.jsx(xa.button,{type:"button","aria-pressed":u,"data-state":u?"on":"off","data-disabled":e.disabled?"":void 0,...l,ref:t,onClick:kr(e.onClick,()=>{e.disabled||i(!u)})})});IX.displayName=kX;var Zb="ToggleGroup",[NX]=vd(Zb,[Sw]),RX=Sw(),J8=Ve.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const a=r;return S.jsx(ZSe,{...a,ref:t})}if(n==="multiple"){const a=r;return S.jsx(XSe,{...a,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Zb}\``)});J8.displayName=Zb;var[MX,OX]=NX(Zb),ZSe=Ve.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...l}=e,[u,i]=Zf({prop:n,defaultProp:r??"",onChange:a,caller:Zb});return S.jsx(MX,{scope:e.__scopeToggleGroup,type:"single",value:Ve.useMemo(()=>u?[u]:[],[u]),onItemActivate:i,onItemDeactivate:Ve.useCallback(()=>i(""),[i]),children:S.jsx(DX,{...l,ref:t})})}),XSe=Ve.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:a=()=>{},...l}=e,[u,i]=Zf({prop:n,defaultProp:r??[],onChange:a,caller:Zb}),m=Ve.useCallback(_=>i((w=[])=>[...w,_]),[i]),b=Ve.useCallback(_=>i((w=[])=>w.filter(M=>M!==_)),[i]);return S.jsx(MX,{scope:e.__scopeToggleGroup,type:"multiple",value:u,onItemActivate:m,onItemDeactivate:b,children:S.jsx(DX,{...l,ref:t})})});J8.displayName=Zb;var[KSe,QSe]=NX(Zb),DX=Ve.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:a=!0,orientation:l,dir:u,loop:i=!0,...m}=e,b=RX(n),_=W1(u),w={role:"group",dir:_,...m};return S.jsx(KSe,{scope:n,rovingFocus:a,disabled:r,children:a?S.jsx(K8,{asChild:!0,...b,orientation:l,dir:_,loop:i,children:S.jsx(xa.div,{...w,ref:t})}):S.jsx(xa.div,{...w,ref:t})})}),Ik="ToggleGroupItem",LX=Ve.forwardRef((e,t)=>{const n=OX(Ik,e.__scopeToggleGroup),r=QSe(Ik,e.__scopeToggleGroup),a=RX(e.__scopeToggleGroup),l=n.value.includes(e.value),u=r.disabled||e.disabled,i={...e,pressed:l,disabled:u},m=Ve.useRef(null);return r.rovingFocus?S.jsx(Q8,{asChild:!0,...a,focusable:!u,active:l,ref:m,children:S.jsx(v7,{...i,ref:t})}):S.jsx(v7,{...i,ref:t})});LX.displayName=Ik;var v7=Ve.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...a}=e,l=OX(Ik,n),u={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},i=l.type==="single"?u:void 0;return S.jsx(IX,{...i,...a,ref:t,onPressedChange:m=>{m?l.onItemActivate(r):l.onItemDeactivate(r)}})}),JSe=J8,eTe=LX;const tTe=Vb("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}}),PX=$.createContext({size:"default",variant:"default",spacing:0});function nTe({className:e,variant:t,size:n,spacing:r=0,children:a,...l}){return S.jsx(JSe,{"data-slot":"toggle-group","data-variant":t,"data-size":n,"data-spacing":r,style:{"--gap":r},className:Dn("group/toggle-group flex w-fit items-center gap-[--spacing(var(--gap))] rounded-md data-[spacing=default]:data-[variant=outline]:shadow-xs",e),...l,children:S.jsx(PX.Provider,{value:{variant:t,size:n,spacing:r},children:a})})}function rTe({className:e,children:t,variant:n,size:r,...a}){const l=$.useContext(PX);return S.jsx(eTe,{"data-slot":"toggle-group-item","data-variant":l.variant||n,"data-size":l.size||r,"data-spacing":l.spacing,className:Dn(tTe({variant:l.variant||n,size:l.size||r}),"w-auto min-w-0 shrink-0 px-3 focus:z-10 focus-visible:z-10","data-[spacing=0]:rounded-none data-[spacing=0]:shadow-none data-[spacing=0]:first:rounded-l-md data-[spacing=0]:last:rounded-r-md data-[spacing=0]:data-[variant=outline]:border-l-0 data-[spacing=0]:data-[variant=outline]:first:border-l",e),...a,children:t})}const aTe=e=>{const[t,n]=$.useState(e.getValue());if($.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable)return S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(Bn,{variant:"secondary",className:"w-full flex items-center justify-between overflow-hidden",onClick:()=>{t&&qf(e.structure.values?.[t]??"")},children:[t?e.structure.values?.[t]:" - "," ",S.jsx(p1,{})]}),S.jsx(La,{...e})]});if(na.size(e.structure.values)<4&&e.structure.required)return S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(nTe,{type:"single",variant:"outline",spacing:2,size:"sm",value:t,onValueChange:l=>{n(l)},children:na.map(e.structure.values,(l,u)=>S.jsx(rTe,{value:u,"data-selected":t===u?"true":"false",children:l}))})]});const[r,a]=$.useState(!1);return S.jsxs("div",{className:"w-full ",children:[S.jsx(ma,{...e}),S.jsxs(LE,{open:r,onOpenChange:a,children:[S.jsx(PE,{className:"w-full",children:S.jsxs(Bn,{variant:"outline",role:"combobox",className:"w-full justify-between ",children:[t?e.structure.values?.[t]:tt.key("select_value"),S.jsx(wI,{className:"opacity-50"})]})}),S.jsx(FE,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:S.jsx("div",{className:"p-1",style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},onWheel:l=>{l.stopPropagation();const u=l.currentTarget;u.scrollTop+=l.deltaY,l.preventDefault()},children:na.map(e.structure?.values,(l,u)=>S.jsxs("div",{onClick:()=>{n(u),a(!1)},className:Dn("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground"),children:[l,S.jsx(h1,{className:Dn("ml-auto h-4 w-4",t===u?"opacity-100":"opacity-0")})]},u))})})]}),S.jsx(La,{...e})]})},iTe=e=>{const[t,n]=$.useState(e.getValue()??[]);if($.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable)return S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:t&&t.length>0?na.map(t,l=>S.jsx(pl,{children:e.structure.itemType?.values?.[l]??""},l)):tt.key("no_data_short")}),S.jsx(La,{...e})]});const[r,a]=$.useState(!1);return S.jsxs("div",{className:"w-full ",children:[S.jsx(ma,{...e}),S.jsxs(LE,{open:r,onOpenChange:a,children:[S.jsx(PE,{className:"w-full",children:S.jsxs(Bn,{variant:"outline",role:"combobox",className:"w-full justify-between h-auto",children:[S.jsxs("div",{className:"flex flex-wrap gap-2",children:[" ",t&&t.length>0?na.map(t,l=>S.jsx(pl,{children:e.structure.itemType?.values?.[l]??""},l)):tt.key("select_value")]}),S.jsx(wI,{className:"opacity-50"})]})}),S.jsx(FE,{className:"p-0 w-[var(--radix-popover-trigger-width)]",children:S.jsx("div",{className:"p-1",style:{maxHeight:"400px",overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},onWheel:l=>{l.stopPropagation();const u=l.currentTarget;u.scrollTop+=l.deltaY,l.preventDefault()},children:na.map(e.structure.itemType?.values,(l,u)=>S.jsxs("div",{onClick:()=>{n(i=>i.includes(u)?i.filter(m=>m!==u):[...i,u])},className:Dn("relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none hover:bg-accent hover:text-accent-foreground",t?.includes(u)&&"bg-accent text-accent-foreground"),children:[l,S.jsx(h1,{className:Dn("ml-auto h-4 w-4",t?.includes(u)?"opacity-100":"opacity-0")})]},u))})})]}),S.jsx(La,{...e})]})};function b7(e){return tc({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16 12V6c0-2.217-1.785-4.021-3.979-4.021a.933.933 0 0 0-.209.025A4.006 4.006 0 0 0 8 6v6c0 2.206 1.794 4 4 4s4-1.794 4-4zm-6 0V6c0-1.103.897-2 2-2a.89.89 0 0 0 .163-.015C13.188 4.06 14 4.935 14 6v6c0 1.103-.897 2-2 2s-2-.897-2-2z"},child:[]},{tag:"path",attr:{d:"M6 12H4c0 4.072 3.061 7.436 7 7.931V22h2v-2.069c3.939-.495 7-3.858 7-7.931h-2c0 3.309-2.691 6-6 6s-6-2.691-6-6z"},child:[]}]})(e)}const FX=({src:e})=>{const t=$.useRef(null),[n,r]=$.useState(!1),[a,l]=$.useState(0);$.useEffect(()=>{const m=t.current;if(!m)return;const b=()=>{m.duration&&l(m.currentTime/m.duration*100)};return m.addEventListener("ended",()=>{r(!1),l(0)}),m.addEventListener("timeupdate",b),()=>{m.removeEventListener("timeupdate",b)}},[]);const u=()=>{const m=t.current;m&&(n?m.pause():m.play(),r(!n))},i=m=>{const b=t.current;if(!b)return;const _=m.target.getBoundingClientRect(),M=(m.clientX-_.left)/_.width;b.currentTime=b.duration*M};return S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("audio",{ref:t,src:e}),S.jsx(Bn,{onClick:u,variant:"ghost",size:"icon",children:n?S.jsx(Ese,{size:20}):S.jsx(Ise,{size:20})}),S.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",onClick:i,children:S.jsx("div",{className:"bg-primary h-full rounded-full",style:{width:`${a}%`}})})]})},G3=Ve.createRef(),oTe=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),a=$.useRef(null),[l,u]=$.useState("idle"),[i,m]=$.useState(null),[b,_]=$.useState(null),[w,M]=$.useState(null),P=$.useRef(null),j=$.useRef(null),G=$.useRef([]),z=()=>{try{j.current&&j.current.state!=="inactive"&&j.current.stop()}catch{}j.current=null,G.current=[],P.current?.getTracks().forEach(K=>K.stop()),P.current=null},q=()=>{b&&URL.revokeObjectURL(b),_(null),M(null)},Y=()=>{const K=typeof window<"u"&&"MediaRecorder"in window&&!!navigator?.mediaDevices?.getUserMedia;u(K?"idle":"unsupported")},J=()=>{z(),q(),m(null),Y()},ne=()=>{if(typeof window>"u"||!("MediaRecorder"in window))return;const K=["audio/webm;codecs=opus","audio/webm","audio/ogg;codecs=opus","audio/ogg","audio/mp4"],se=window.MediaRecorder;if(typeof se?.isTypeSupported=="function")return K.find(pe=>se.isTypeSupported(pe))},ie=async()=>{if(m(null),q(),!(typeof window<"u"&&"MediaRecorder"in window&&!!navigator?.mediaDevices?.getUserMedia)){u("unsupported"),m("      .");return}try{const se=await navigator.mediaDevices.getUserMedia({audio:!0});P.current=se;const pe=ne(),ve=pe?new MediaRecorder(se,{mimeType:pe}):new MediaRecorder(se);j.current=ve,G.current=[],ve.ondataavailable=Te=>{Te.data&&Te.data.size>0&&G.current.push(Te.data)},ve.onerror=()=>{z(),u("error"),m(" .   .")},ve.onstop=()=>{const Te=new Blob(G.current,{type:ve.mimeType||"audio/webm"});G.current=[],z();const Me=URL.createObjectURL(Te);M(Te),_(Me),u("recorded")},ve.start(),u("recording")}catch{z(),u("error"),m("     .")}},ue=()=>{try{j.current&&j.current.state!=="inactive"&&j.current.stop()}catch{z(),u("error"),m("   .")}},oe=()=>{if(!w||!a.current)return;const K=w.type||"audio/webm",se=K.includes("ogg")?"ogg":K.includes("mp4")?"m4a":"webm",pe=new File([w],`recording-${Date.now()}.${se}`,{type:K});a.current.onSelect(pe),r(!1)};return $.useImperativeHandle(t,()=>({open:K=>{a.current=K,J(),r(!0)},close:()=>{r(!1)}})),$.useEffect(()=>{n||(z(),q(),m(null),Y())},[n]),n?S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsxs(Pc,{children:[S.jsxs(F1,{children:[S.jsx(qb,{children:tt.key("record_audio")}),S.jsx(_ye,{children:tt.key("start_recording_stop_listen_apply")})]}),S.jsxs("div",{className:"space-y-3",children:[i&&S.jsx("div",{className:"text-sm text-destructive",children:i}),l==="idle"&&S.jsx(Bn,{type:"button",onClick:ie,children:tt.key("start_recording")}),l==="unsupported"&&S.jsx("div",{className:"text-sm text-muted-foreground",children:tt.key("recording_audio_not_supported_in_this_browser")}),l==="recording"&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Bn,{type:"button",variant:"destructive",onClick:ue,children:tt.key("stop_recording")}),S.jsx("span",{className:"text-sm text-muted-foreground",children:tt.key("recording_in_progress")})]}),l==="recorded"&&b&&S.jsxs("div",{className:"space-y-3",children:[S.jsx(FX,{src:b}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx(Bn,{type:"button",variant:"outline",onClick:ie,children:tt.key("rerecord")}),S.jsx(Bn,{type:"button",onClick:oe,children:tt.key("save")})]})]})]}),S.jsx(B1,{children:S.jsx(Bn,{type:"button",variant:"ghost",onClick:()=>r(!1),children:tt.key("close")})})]})}):null}),sTe=Vb("flex w-fit items-stretch [&>*]:focus-visible:z-10 [&>*]:focus-visible:relative [&>[data-slot=select-trigger]:not([class*='w-'])]:w-fit [&>input]:flex-1 has-[select[aria-hidden=true]:last-child]:[&>[data-slot=select-trigger]:last-of-type]:rounded-r-md has-[>[data-slot=button-group]]:gap-2",{variants:{orientation:{horizontal:"[&>*:not(:first-child)]:rounded-l-none [&>*:not(:first-child)]:border-l-0 [&>*:not(:last-child)]:rounded-r-none",vertical:"flex-col [&>*:not(:first-child)]:rounded-t-none [&>*:not(:first-child)]:border-t-0 [&>*:not(:last-child)]:rounded-b-none"}},defaultVariants:{orientation:"horizontal"}});function DS({className:e,orientation:t,...n}){return S.jsx("div",{role:"group","data-slot":"button-group","data-orientation":t,className:Dn(sTe({orientation:t}),e),...n})}const BX=$.createRef(),lTe=$.forwardRef((e,t)=>{const[n,r]=$.useState(null),[a,l]=$.useState(null),[u,i]=$.useState(!1);$.useImperativeHandle(t,()=>({open:b=>{r(b.url),l(b.type),i(!0)},close:()=>{i(!1)}}));const{isMobile:m}=Fr();return m?S.jsx(Yh,{opened:u,onBackdropClick:()=>i(!1),children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:"",right:S.jsx(ks,{onClick:()=>i(!1),children:S.jsx(Yl,{})})}),n&&a==="image"&&S.jsx("img",{src:n,className:"w-full  object-contain"})]})}):S.jsx(Lc,{open:u,onOpenChange:i,children:S.jsx(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] overflow-hidden !p-0",children:n&&a==="image"&&S.jsx("img",{src:n,alt:"Media",className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] object-contain"})})})}),uTe=({url:e})=>S.jsx("div",{onClick:()=>{e&&BX.current?.open({url:e,type:"image"})},className:"flex items-center justify-center cursor-pointer",style:{width:"100%",height:100,borderRadius:8,overflow:"hidden",backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},children:S.jsx("div",{style:{borderRadius:8,overflow:"hidden",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)"},children:S.jsx("div",{style:{width:"100%",height:"100%",backgroundImage:`url(${e})`,backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat"}})})});async function cTe(e){return new Promise(t=>{const n=document.createElement("input");n.type="file",n.accept=e,n.style.display="none",n.addEventListener("change",()=>{const r=n.files?.[0]??null;n.remove(),t(r)}),n.onerror=()=>{t(null)},n.onabort=()=>{t(null)},n.onerror=()=>{t(null)},n.onabort=()=>{t(null)},document.body.appendChild(n),n.click()})}const sy=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const[r,a]=$.useState(!1),l=()=>{if(e.structure?.type=="fileImageLink"){n("");return}if(e.structure?.type=="fileAudioLink"){n("");return}if(e.structure?.type=="fileDocumentLink"){n("");return}n({})},u=()=>(e.structure.type=="fileImageLink"||e.structure.type=="fileAudioLink"||e.structure.type=="fileDocumentLink",t?.url??""),i=()=>{switch(e.structure.type){case"fileImageLink":case"fileDocumentLink":case"fileAudioLink":return!!t;case"fileAudioID":case"fileAudio":case"fileImage":case"fileImageID":case"fileVideo":case"fileDocument":case"fileDocumentID":case"fileVideoID":return!!t?.url;default:return!!t}};if(e.onlyShow||!e.structure.editable)return S.jsx(EX,{placeholder:e.structure.title??""});const m=e.structure.type=="fileImageLink"||e.structure.type=="fileImage"||e.structure.type=="fileImageID",b=e.structure.type=="fileAudioLink"||e.structure.type=="fileAudio"||e.structure.type=="fileAudioID",_=e.structure.type=="fileDocumentLink"||e.structure.type=="fileDocument"||e.structure.type=="fileDocumentID",w=e.structure.type=="fileVideo"||e.structure.type=="fileVideoID",M=()=>m?tt.key("select_image"):b?tt.key("select_audio"):_?tt.key("select_document"):w?tt.key("select_video"):tt.key("select_file"),P=()=>m?"image/*":b?"audio/mp3":w?"video/*":"*/*",j=J=>{if(!J)return;let ne=new FormData;ne.append("file",J),m&&(a(!0),ja.imageUpload(ne).then(ie=>{ie&&n(ie)}).finally(()=>{a(!1)})),b&&(a(!0),ja.audioUpload(ne).then(ie=>{ie&&n(ie)}).finally(()=>{a(!1)})),w&&(a(!0),ja.videoUpload(ne).then(ie=>{ie&&n(ie)}).finally(()=>{a(!1)})),_&&(a(!0),ja.documentUpload(ne).then(ie=>{ie&&n(ie)}).finally(()=>{a(!1)}))},G=()=>{cTe(P()).then(J=>{J&&j(J)})},{isMobile:z}=Fr(),q=e?.structure?.col??24,Y=()=>S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(Bn,{variant:"ghost",size:"icon",onClick:J=>{J.preventDefault(),l()},children:S.jsx(hd,{})}),S.jsx(Bn,{variant:"ghost",onClick:J=>{J.preventDefault(),G()},children:r?S.jsxs(S.Fragment,{children:[S.jsx(QA,{className:"size-4 animate-spin"}),tt.key("uploading_file_wait")]}):S.jsxs(S.Fragment,{children:[S.jsx(U$,{}),!z&&q>16?M():""]})}),b&&S.jsx(S.Fragment,{children:S.jsx(Bn,{variant:"ghost",onClick:J=>{J.preventDefault(),G3.current?.open({onSelect:ne=>{ne&&j(ne)}})},children:S.jsx(b7,{})})}),S.jsxs(Bn,{variant:"ghost",onClick:J=>{J.preventDefault(),qf(u())},children:[S.jsx(Woe,{}),!z&&q>16?tt.key("copy_link"):""]})]});return i()?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsxs("div",{children:[m&&S.jsxs(S.Fragment,{children:[S.jsx(uTe,{url:u()}),S.jsx(Y,{})]}),b&&S.jsxs(S.Fragment,{children:[S.jsx(FX,{src:u()}),S.jsx(Y,{})]})]}),S.jsx(La,{...e})]}):S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsxs(DS,{children:[S.jsx(Bn,{variant:"outline",onClick:()=>{G()},children:r?S.jsxs(S.Fragment,{children:[S.jsx(QA,{className:"size-4 animate-spin"}),tt.key("uploading_file_wait")]}):S.jsxs(S.Fragment,{children:[S.jsx(U$,{}),!z&&q>16?M():""]})}),b&&S.jsx(Bn,{variant:"outline",onClick:J=>{J.preventDefault(),G3.current?.open({onSelect:ne=>{ne&&j(ne)}})},children:S.jsx(b7,{})})]}),S.jsx(La,{...e})]})};function dTe(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M368 368 144 144m224 0L144 368"},child:[]}]})(e)}function fTe(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(e)}function _7(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M339 99a83 83 0 1 0-102 80.8V464l19 32 19-32V179.8A83.28 83.28 0 0 0 339 99zm-59-6a21 21 0 1 1 21-21 21 21 0 0 1-21 21z"},child:[]}]})(e)}const hTe=Vb("group/item flex items-center border-b-1 border-transparent text-sm  transition-colors [a]:hover:bg-accent/50 [a]:transition-colors duration-100 flex-wrap outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",{variants:{variant:{default:"bg-transparent",outline:"border-border",muted:"bg-muted/50"},size:{default:"p-2 gap-1 ",sm:"py-3 px-4 gap-2.5"}},defaultVariants:{variant:"default",size:"default"}});function FT({className:e,variant:t="default",size:n="default",asChild:r=!1,...a}){const l=r?Wf:"div";return S.jsx(l,{"data-slot":"item","data-variant":t,"data-size":n,className:Dn(hTe({variant:t,size:n,className:e})),...a})}const pTe=Vb("flex shrink-0 items-center justify-center gap-2 group-has-[[data-slot=item-description]]/item:self-start [&_svg]:pointer-events-none group-has-[[data-slot=item-description]]/item:translate-y-0.5",{variants:{variant:{default:"bg-transparent",icon:"size-8 border rounded-sm bg-muted [&_svg:not([class*='size-'])]:size-4",image:"size-10 rounded-sm overflow-hidden [&_img]:size-full [&_img]:object-cover"}},defaultVariants:{variant:"default"}});function eF({className:e,variant:t="default",...n}){return S.jsx("div",{"data-slot":"item-media","data-variant":t,className:Dn(pTe({variant:t,className:e})),...n})}function BT({className:e,...t}){return S.jsx("div",{"data-slot":"item-content",className:Dn("flex flex-1 flex-col gap-1 [&+[data-slot=item-content]]:flex-none",e),...t})}function $T({className:e,...t}){return S.jsx("div",{"data-slot":"item-title",className:Dn("flex w-fit items-center gap-2 text-sm leading-snug font-medium",e),...t})}function $X({className:e,...t}){return S.jsx("p",{"data-slot":"item-description",className:Dn("text-muted-foreground line-clamp-2 text-sm leading-normal font-normal text-xs","[&>a:hover]:text-primary [&>a]:underline [&>a]:underline-offset-4",e),...t})}function jX({className:e,...t}){return S.jsx("div",{"data-slot":"item-actions",className:Dn("flex items-center gap-2",e),...t})}function mTe(e,t){return $.useReducer((n,r)=>t[n][r]??n,e)}var tF="ScrollArea",[zX]=vd(tF),[gTe,Jp]=zX(tF),UX=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:a,scrollHideDelay:l=600,...u}=e,[i,m]=$.useState(null),[b,_]=$.useState(null),[w,M]=$.useState(null),[P,j]=$.useState(null),[G,z]=$.useState(null),[q,Y]=$.useState(0),[J,ne]=$.useState(0),[ie,ue]=$.useState(!1),[oe,K]=$.useState(!1),se=ni(t,ve=>m(ve)),pe=W1(a);return S.jsx(gTe,{scope:n,type:r,dir:pe,scrollHideDelay:l,scrollArea:i,viewport:b,onViewportChange:_,content:w,onContentChange:M,scrollbarX:P,onScrollbarXChange:j,scrollbarXEnabled:ie,onScrollbarXEnabledChange:ue,scrollbarY:G,onScrollbarYChange:z,scrollbarYEnabled:oe,onScrollbarYEnabledChange:K,onCornerWidthChange:Y,onCornerHeightChange:ne,children:S.jsx(xa.div,{dir:pe,...u,ref:se,style:{position:"relative","--radix-scroll-area-corner-width":q+"px","--radix-scroll-area-corner-height":J+"px",...e.style}})})});UX.displayName=tF;var GX="ScrollAreaViewport",HX=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:a,...l}=e,u=Jp(GX,n),i=$.useRef(null),m=ni(t,i,u.onViewportChange);return S.jsxs(S.Fragment,{children:[S.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),S.jsx(xa.div,{"data-radix-scroll-area-viewport":"",...l,ref:m,style:{overflowX:u.scrollbarXEnabled?"scroll":"hidden",overflowY:u.scrollbarYEnabled?"scroll":"hidden",...e.style},children:S.jsx("div",{ref:u.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});HX.displayName=GX;var Uy="ScrollAreaScrollbar",VX=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Jp(Uy,e.__scopeScrollArea),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=a,i=e.orientation==="horizontal";return $.useEffect(()=>(i?l(!0):u(!0),()=>{i?l(!1):u(!1)}),[i,l,u]),a.type==="hover"?S.jsx(yTe,{...r,ref:t,forceMount:n}):a.type==="scroll"?S.jsx(vTe,{...r,ref:t,forceMount:n}):a.type==="auto"?S.jsx(qX,{...r,ref:t,forceMount:n}):a.type==="always"?S.jsx(nF,{...r,ref:t}):null});VX.displayName=Uy;var yTe=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Jp(Uy,e.__scopeScrollArea),[l,u]=$.useState(!1);return $.useEffect(()=>{const i=a.scrollArea;let m=0;if(i){const b=()=>{window.clearTimeout(m),u(!0)},_=()=>{m=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return i.addEventListener("pointerenter",b),i.addEventListener("pointerleave",_),()=>{window.clearTimeout(m),i.removeEventListener("pointerenter",b),i.removeEventListener("pointerleave",_)}}},[a.scrollArea,a.scrollHideDelay]),S.jsx(ec,{present:n||l,children:S.jsx(qX,{"data-state":l?"visible":"hidden",...r,ref:t})})}),vTe=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=Jp(Uy,e.__scopeScrollArea),l=e.orientation==="horizontal",u=_N(()=>m("SCROLL_END"),100),[i,m]=mTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return $.useEffect(()=>{if(i==="idle"){const b=window.setTimeout(()=>m("HIDE"),a.scrollHideDelay);return()=>window.clearTimeout(b)}},[i,a.scrollHideDelay,m]),$.useEffect(()=>{const b=a.viewport,_=l?"scrollLeft":"scrollTop";if(b){let w=b[_];const M=()=>{const P=b[_];w!==P&&(m("SCROLL"),u()),w=P};return b.addEventListener("scroll",M),()=>b.removeEventListener("scroll",M)}},[a.viewport,l,m,u]),S.jsx(ec,{present:n||i!=="hidden",children:S.jsx(nF,{"data-state":i==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:kr(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:kr(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),qX=$.forwardRef((e,t)=>{const n=Jp(Uy,e.__scopeScrollArea),{forceMount:r,...a}=e,[l,u]=$.useState(!1),i=e.orientation==="horizontal",m=_N(()=>{if(n.viewport){const b=n.viewport.offsetWidth<n.viewport.scrollWidth,_=n.viewport.offsetHeight<n.viewport.scrollHeight;u(i?b:_)}},10);return jE(n.viewport,m),jE(n.content,m),S.jsx(ec,{present:r||l,children:S.jsx(nF,{"data-state":l?"visible":"hidden",...a,ref:t})})}),nF=$.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,a=Jp(Uy,e.__scopeScrollArea),l=$.useRef(null),u=$.useRef(0),[i,m]=$.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),b=KX(i.viewport,i.content),_={...r,sizes:i,onSizesChange:m,hasThumb:b>0&&b<1,onThumbChange:M=>l.current=M,onThumbPointerUp:()=>u.current=0,onThumbPointerDown:M=>u.current=M};function w(M,P){return STe(M,u.current,i,P)}return n==="horizontal"?S.jsx(bTe,{..._,ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const M=a.viewport.scrollLeft,P=x7(M,i,a.dir);l.current.style.transform=`translate3d(${P}px, 0, 0)`}},onWheelScroll:M=>{a.viewport&&(a.viewport.scrollLeft=M)},onDragScroll:M=>{a.viewport&&(a.viewport.scrollLeft=w(M,a.dir))}}):n==="vertical"?S.jsx(_Te,{..._,ref:t,onThumbPositionChange:()=>{if(a.viewport&&l.current){const M=a.viewport.scrollTop,P=x7(M,i);l.current.style.transform=`translate3d(0, ${P}px, 0)`}},onWheelScroll:M=>{a.viewport&&(a.viewport.scrollTop=M)},onDragScroll:M=>{a.viewport&&(a.viewport.scrollTop=w(M))}}):null}),bTe=$.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,l=Jp(Uy,e.__scopeScrollArea),[u,i]=$.useState(),m=$.useRef(null),b=ni(t,m,l.onScrollbarXChange);return $.useEffect(()=>{m.current&&i(getComputedStyle(m.current))},[m]),S.jsx(WX,{"data-orientation":"horizontal",...a,ref:b,sizes:n,style:{bottom:0,left:l.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:l.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bN(n)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.x),onDragScroll:_=>e.onDragScroll(_.x),onWheelScroll:(_,w)=>{if(l.viewport){const M=l.viewport.scrollLeft+_.deltaX;e.onWheelScroll(M),JX(M,w)&&_.preventDefault()}},onResize:()=>{m.current&&l.viewport&&u&&r({content:l.viewport.scrollWidth,viewport:l.viewport.offsetWidth,scrollbar:{size:m.current.clientWidth,paddingStart:Rk(u.paddingLeft),paddingEnd:Rk(u.paddingRight)}})}})}),_Te=$.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...a}=e,l=Jp(Uy,e.__scopeScrollArea),[u,i]=$.useState(),m=$.useRef(null),b=ni(t,m,l.onScrollbarYChange);return $.useEffect(()=>{m.current&&i(getComputedStyle(m.current))},[m]),S.jsx(WX,{"data-orientation":"vertical",...a,ref:b,sizes:n,style:{top:0,right:l.dir==="ltr"?0:void 0,left:l.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bN(n)+"px",...e.style},onThumbPointerDown:_=>e.onThumbPointerDown(_.y),onDragScroll:_=>e.onDragScroll(_.y),onWheelScroll:(_,w)=>{if(l.viewport){const M=l.viewport.scrollTop+_.deltaY;e.onWheelScroll(M),JX(M,w)&&_.preventDefault()}},onResize:()=>{m.current&&l.viewport&&u&&r({content:l.viewport.scrollHeight,viewport:l.viewport.offsetHeight,scrollbar:{size:m.current.clientHeight,paddingStart:Rk(u.paddingTop),paddingEnd:Rk(u.paddingBottom)}})}})}),[xTe,YX]=zX(Uy),WX=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:a,onThumbChange:l,onThumbPointerUp:u,onThumbPointerDown:i,onThumbPositionChange:m,onDragScroll:b,onWheelScroll:_,onResize:w,...M}=e,P=Jp(Uy,n),[j,G]=$.useState(null),z=ni(t,se=>G(se)),q=$.useRef(null),Y=$.useRef(""),J=P.viewport,ne=r.content-r.viewport,ie=Xu(_),ue=Xu(m),oe=_N(w,10);function K(se){if(q.current){const pe=se.clientX-q.current.left,ve=se.clientY-q.current.top;b({x:pe,y:ve})}}return $.useEffect(()=>{const se=pe=>{const ve=pe.target;j?.contains(ve)&&ie(pe,ne)};return document.addEventListener("wheel",se,{passive:!1}),()=>document.removeEventListener("wheel",se,{passive:!1})},[J,j,ne,ie]),$.useEffect(ue,[r,ue]),jE(j,oe),jE(P.content,oe),S.jsx(xTe,{scope:n,scrollbar:j,hasThumb:a,onThumbChange:Xu(l),onThumbPointerUp:Xu(u),onThumbPositionChange:ue,onThumbPointerDown:Xu(i),children:S.jsx(xa.div,{...M,ref:z,style:{position:"absolute",...M.style},onPointerDown:kr(e.onPointerDown,se=>{se.button===0&&(se.target.setPointerCapture(se.pointerId),q.current=j.getBoundingClientRect(),Y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",P.viewport&&(P.viewport.style.scrollBehavior="auto"),K(se))}),onPointerMove:kr(e.onPointerMove,K),onPointerUp:kr(e.onPointerUp,se=>{const pe=se.target;pe.hasPointerCapture(se.pointerId)&&pe.releasePointerCapture(se.pointerId),document.body.style.webkitUserSelect=Y.current,P.viewport&&(P.viewport.style.scrollBehavior=""),q.current=null})})})}),Nk="ScrollAreaThumb",ZX=$.forwardRef((e,t)=>{const{forceMount:n,...r}=e,a=YX(Nk,e.__scopeScrollArea);return S.jsx(ec,{present:n||a.hasThumb,children:S.jsx(ETe,{ref:t,...r})})}),ETe=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...a}=e,l=Jp(Nk,n),u=YX(Nk,n),{onThumbPositionChange:i}=u,m=ni(t,w=>u.onThumbChange(w)),b=$.useRef(void 0),_=_N(()=>{b.current&&(b.current(),b.current=void 0)},100);return $.useEffect(()=>{const w=l.viewport;if(w){const M=()=>{if(_(),!b.current){const P=TTe(w,i);b.current=P,i()}};return i(),w.addEventListener("scroll",M),()=>w.removeEventListener("scroll",M)}},[l.viewport,_,i]),S.jsx(xa.div,{"data-state":u.hasThumb?"visible":"hidden",...a,ref:m,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:kr(e.onPointerDownCapture,w=>{const P=w.target.getBoundingClientRect(),j=w.clientX-P.left,G=w.clientY-P.top;u.onThumbPointerDown({x:j,y:G})}),onPointerUp:kr(e.onPointerUp,u.onThumbPointerUp)})});ZX.displayName=Nk;var rF="ScrollAreaCorner",XX=$.forwardRef((e,t)=>{const n=Jp(rF,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?S.jsx(wTe,{...e,ref:t}):null});XX.displayName=rF;var wTe=$.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,a=Jp(rF,n),[l,u]=$.useState(0),[i,m]=$.useState(0),b=!!(l&&i);return jE(a.scrollbarX,()=>{const _=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(_),m(_)}),jE(a.scrollbarY,()=>{const _=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(_),u(_)}),b?S.jsx(xa.div,{...r,ref:t,style:{width:l,height:i,position:"absolute",right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Rk(e){return e?parseInt(e,10):0}function KX(e,t){const n=e/t;return isNaN(n)?0:n}function bN(e){const t=KX(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function STe(e,t,n,r="ltr"){const a=bN(n),l=a/2,u=t||l,i=a-u,m=n.scrollbar.paddingStart+u,b=n.scrollbar.size-n.scrollbar.paddingEnd-i,_=n.content-n.viewport,w=r==="ltr"?[0,_]:[_*-1,0];return QX([m,b],w)(e)}function x7(e,t,n="ltr"){const r=bN(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-a,u=t.content-t.viewport,i=l-r,m=n==="ltr"?[0,u]:[u*-1,0],b=B8(e,m);return QX([0,u],[0,i])(b)}function QX(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function JX(e,t){return e>0&&e<t}var TTe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function a(){const l={left:e.scrollLeft,top:e.scrollTop},u=n.left!==l.left,i=n.top!==l.top;(u||i)&&t(),n=l,r=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(r)};function _N(e,t){const n=Xu(e),r=$.useRef(0);return $.useEffect(()=>()=>window.clearTimeout(r.current),[]),$.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function jE(e,t){const n=Xu(t);ev(()=>{let r=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return a.observe(e),()=>{window.cancelAnimationFrame(r),a.unobserve(e)}}},[e,n])}var CTe=UX,ATe=HX,kTe=XX;function eK({className:e,children:t,...n}){return S.jsxs(CTe,{"data-slot":"scroll-area",className:Dn("relative",e),...n,children:[S.jsx(ATe,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),S.jsx(ITe,{}),S.jsx(kTe,{})]})}function ITe({className:e,orientation:t="vertical",...n}){return S.jsx(VX,{"data-slot":"scroll-area-scrollbar",orientation:t,className:Dn("flex touch-none p-px transition-colors select-none",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",e),...n,children:S.jsx(ZX,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const tK=Ve.createRef(),NTe=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),[a,l]=$.useState(""),u=$.useRef(null),[i,m]=$.useState([]),b=$.useRef(null);$.useImperativeHandle(t,()=>({open:(P,j)=>{l(j??""),r(!0),b.current=P},close:()=>{r(!1)}}));const[_,w]=$.useState(!1),M=P=>{clearTimeout(u.current),n&&(u.current=setTimeout(()=>{w(!0),ja.geocode({byString:{string:P}}).then(j=>{j&&j.length>0&&m(j??[])}).finally(()=>{w(!1)})},1e3))};return $.useEffect(()=>{a&&M(a)},[a]),S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsxs(Pc,{showCloseButton:!1,children:[S.jsxs(F1,{className:"flex flex-row gap-0",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ml,{value:a,onChange:P=>l(P.target.value),placeholder:tt.key("search_address_placeholder")})}),S.jsx(Bn,{onClick:()=>{r(!1),l(""),m([])},variant:"link",size:"icon",children:S.jsx(fTe,{})})]}),S.jsx(eK,{style:{height:window.innerHeight*.5},children:i.map(P=>S.jsx(FT,{onClick:()=>{b.current&&b.current(P),r(!1),l(""),m([])},variant:"outline",children:S.jsxs(BT,{children:[S.jsx($T,{children:P.name}),S.jsx($X,{children:P?.context??""})]})}))})]})})}),RTe="modulepreload",MTe=function(e){return"/"+e},E7={},OTe=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){let b=function(_){return Promise.all(_.map(w=>Promise.resolve(w).then(M=>({status:"fulfilled",value:M}),M=>({status:"rejected",reason:M}))))};var u=b;document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),m=i?.nonce||i?.getAttribute("nonce");a=b(n.map(_=>{if(_=MTe(_),_ in E7)return;E7[_]=!0;const w=_.endsWith(".css"),M=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${M}`))return;const P=document.createElement("link");if(P.rel=w?"stylesheet":RTe,w||(P.as="script"),P.crossOrigin="",P.href=_,m&&P.setAttribute("nonce",m),document.head.appendChild(P),w)return new Promise((j,G)=>{P.addEventListener("load",j),P.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${_}`)))})}))}function l(i){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=i,window.dispatchEvent(m),!m.defaultPrevented)throw i}return a.then(i=>{for(const m of i||[])m.status==="rejected"&&l(m.reason);return t().catch(l)})},DTe=$.createContext(null);function LTe(e,t){const n=Array.isArray(e)?e[0]:e?e.x:0,r=Array.isArray(e)?e[1]:e?e.y:0,a=Array.isArray(t)?t[0]:t?t.x:0,l=Array.isArray(t)?t[1]:t?t.y:0;return n===a&&r===l}function my(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!my(e[n],t[n]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n)if(!t.hasOwnProperty(a)||!my(e[a],t[a]))return!1;return!0}return!1}function w7(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function S7(e,t){const n=t.viewState||t,r={};if("longitude"in n&&"latitude"in n&&(n.longitude!==e.center.lng||n.latitude!==e.center.lat)){const a=e.center.constructor;r.center=new a(n.longitude,n.latitude)}return"zoom"in n&&n.zoom!==e.zoom&&(r.zoom=n.zoom),"bearing"in n&&n.bearing!==e.bearing&&(r.bearing=n.bearing),"pitch"in n&&n.pitch!==e.pitch&&(r.pitch=n.pitch),n.padding&&e.padding&&!my(n.padding,e.padding)&&(r.padding=n.padding),r}const PTe=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function T7(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const r of e.layers)t[r.id]=r;const n=e.layers.map(r=>{let a=null;"interactive"in r&&(a=Object.assign({},r),delete a.interactive);const l=t[r.ref];if(l){a=a||Object.assign({},r),delete a.ref;for(const u of PTe)u in l&&(a[u]=l[u])}return a||r});return{...e,layers:n}}const C7={version:8,sources:{},layers:[]},A7={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},k7={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},I7={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},FTe=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],BTe=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class zE{constructor(t,n,r){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=a=>{const l=this.props[I7[a.type]];l?l(a):a.type==="error"&&console.error(a.error)},this._onCameraEvent=a=>{if(this._internalUpdate)return;a.viewState=this._propsedCameraUpdate||w7(this._map.transform);const l=this.props[k7[a.type]];l&&l(a)},this._onCameraUpdate=a=>this._internalUpdate?a:(this._propsedCameraUpdate=w7(a),S7(a,this.props)),this._onPointerEvent=a=>{(a.type==="mousemove"||a.type==="mouseout")&&this._updateHover(a);const l=this.props[A7[a.type]];l&&(this.props.interactiveLayerIds&&a.type!=="mouseover"&&a.type!=="mouseout"&&(a.features=this._hoveredFeatures||this._queryRenderedFeatures(a.point)),l(a),delete a.features)},this._MapClass=t,this.props=n,this._initialize(r)}get map(){return this._map}setProps(t){const n=this.props;this.props=t;const r=this._updateSettings(t,n),a=this._updateSize(t),l=this._updateViewState(t);this._updateStyle(t,n),this._updateStyleComponents(t),this._updateHandlers(t,n),(r||a||l&&!this._map.isMoving())&&this.redraw()}static reuse(t,n){const r=zE.savedMaps.pop();if(!r)return null;const a=r.map,l=a.getContainer();for(n.className=l.className;l.childNodes.length>0;)n.appendChild(l.childNodes[0]);a._container=n;const u=a._resizeObserver;u&&(u.disconnect(),u.observe(n)),r.setProps({...t,styleDiffing:!1}),a.resize();const{initialViewState:i}=t;return i&&(i.bounds?a.fitBounds(i.bounds,{...i.fitBoundsOptions,duration:0}):r._updateViewState(i)),a.isStyleLoaded()?a.fire("load"):a.once("style.load",()=>a.fire("load")),a._update(),r}_initialize(t){const{props:n}=this,{mapStyle:r=C7}=n,a={...n,...n.initialViewState,container:t,style:T7(r)},l=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[l.longitude||0,l.latitude||0],zoom:l.zoom||0,pitch:l.pitch||0,bearing:l.bearing||0}),n.gl){const i=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=i,n.gl)}const u=new this._MapClass(a);l.padding&&u.setPadding(l.padding),n.cursor&&(u.getCanvas().style.cursor=n.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:u.getProjection?.(),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const i in A7)u.on(i,this._onPointerEvent);for(const i in k7)u.on(i,this._onCameraEvent);for(const i in I7)u.on(i,this._onEvent);this._map=u}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),zE.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:n}=t;if(n){const r=this._map;if(n.width!==r.transform.width||n.height!==r.transform.height)return r.resize(),!0}return!1}_updateViewState(t){const n=this._map,r=n.transform;if(!n.isMoving()){const l=S7(r,t);if(Object.keys(l).length>0)return this._internalUpdate=!0,n.jumpTo(l),this._internalUpdate=!1,!0}return!1}_updateSettings(t,n){const r=this._map;let a=!1;for(const l of FTe)l in t&&!my(t[l],n[l])&&(a=!0,r[`set${l[0].toUpperCase()}${l.slice(1)}`]?.call(r,t[l]));return a}_updateStyle(t,n){if(t.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==n.mapStyle){const{mapStyle:r=C7,styleDiffing:a=!0}=t,l={diff:a};"localIdeographFontFamily"in t&&(l.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(T7(r),l)}}_updateStyleComponents({light:t,projection:n,sky:r,terrain:a}){const l=this._map,u=this._styleComponents;l.style._loaded&&(t&&!my(t,u.light)&&(u.light=t,l.setLight(t)),n&&!my(n,u.projection)&&n!==u.projection?.type&&(u.projection=typeof n=="string"?{type:n}:n,l.setProjection?.(u.projection)),r&&!my(r,u.sky)&&(u.sky=r,l.setSky(r)),a!==void 0&&!my(a,u.terrain)&&(!a||l.getSource(a.source))&&(u.terrain=a,l.setTerrain(a)))}_updateHandlers(t,n){const r=this._map;for(const a of BTe){const l=t[a]??!0,u=n[a]??!0;my(l,u)||(l?r[a].enable(l):r[a].disable())}}_queryRenderedFeatures(t){const n=this._map,{interactiveLayerIds:r=[]}=this.props;try{return n.queryRenderedFeatures(t,{layers:r.filter(n.getLayer.bind(n))})}catch{return[]}}_updateHover(t){const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const a=t.type,l=this._hoveredFeatures?.length>0,u=this._queryRenderedFeatures(t.point),i=u.length>0;!i&&l&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,i&&!l&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=a}else this._hoveredFeatures=null}}zE.savedMaps=[];const $Te=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function jTe(e){if(!e)return null;const t=e.map,n={getMap:()=>t};for(const r of zTe(t))!(r in n)&&!$Te.includes(r)&&(n[r]=t[r].bind(t));return n}function zTe(e){const t=new Set;let n=e;for(;n;){for(const r of Object.getOwnPropertyNames(n))r[0]!=="_"&&typeof e[r]=="function"&&r!=="fire"&&r!=="setEventedParent"&&t.add(r);n=Object.getPrototypeOf(n)}return Array.from(t)}const UTe=typeof document<"u"?$.useLayoutEffect:$.useEffect;function GTe(e,t){const{RTLTextPlugin:n,maxParallelImageRequests:r,workerCount:a,workerUrl:l}=t;if(n&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:i=!0}=typeof n=="string"?{pluginUrl:n}:n;e.setRTLTextPlugin(u,m=>{m&&console.error(m)},i)}r!==void 0&&e.setMaxParallelImageRequests(r),a!==void 0&&e.setWorkerCount(a),l!==void 0&&e.setWorkerUrl(l)}const xN=$.createContext(null);function HTe(e,t){const n=$.useContext(DTe),[r,a]=$.useState(null),l=$.useRef(),{current:u}=$.useRef({mapLib:null,map:null});$.useEffect(()=>{const b=e.mapLib;let _=!0,w;return Promise.resolve(b||OTe(()=>Promise.resolve().then(()=>aCe),[])).then(M=>{if(!_)return;if(!M)throw new Error("Invalid mapLib");const P="Map"in M?M:M.default;if(!P.Map)throw new Error("Invalid mapLib");GTe(P,e),e.reuseMaps&&(w=zE.reuse(e,l.current)),w||(w=new zE(P.Map,e,l.current)),u.map=jTe(w),u.mapLib=P,a(w),n?.onMapMount(u.map,e.id)}).catch(M=>{const{onError:P}=e;P?P({type:"error",target:null,originalEvent:null,error:M}):console.error(M)}),()=>{_=!1,w&&(n?.onMapUnmount(e.id),e.reuseMaps?w.recycle():w.destroy())}},[]),UTe(()=>{r&&r.setProps(e)}),$.useImperativeHandle(t,()=>u.map,[r]);const i=$.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),m={height:"100%"};return $.createElement("div",{id:e.id,ref:l,style:i},r&&$.createElement(xN.Provider,{value:u},$.createElement("div",{"mapboxgl-children":"",style:m},e.children)))}const VTe=$.forwardRef(HTe),qTe=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function cv(e,t){if(!e||!t)return;const n=e.style;for(const r in t){const a=t[r];Number.isFinite(a)&&!qTe.test(r)?n[r]=`${a}px`:n[r]=a}}function nK(e,t){if(e===t)return null;const n=N7(e),r=N7(t),a=[];for(const l of r)n.has(l)||a.push(l);for(const l of n)r.has(l)||a.push(l);return a.length===0?null:a}function N7(e){return new Set(e?e.trim().split(/\s+/):[])}const R7=$.memo($.forwardRef((e,t)=>{const{map:n,mapLib:r}=$.useContext(xN),a=$.useRef({props:e}),l=$.useMemo(()=>{let q=!1;$.Children.forEach(e.children,ne=>{ne&&(q=!0)});const Y={...e,element:q?document.createElement("div"):void 0},J=new r.Marker(Y);return J.setLngLat([e.longitude,e.latitude]),J.getElement().addEventListener("click",ne=>{a.current.props.onClick?.({type:"click",target:J,originalEvent:ne})}),J.on("dragstart",ne=>{const ie=ne;ie.lngLat=l.getLngLat(),a.current.props.onDragStart?.(ie)}),J.on("drag",ne=>{const ie=ne;ie.lngLat=l.getLngLat(),a.current.props.onDrag?.(ie)}),J.on("dragend",ne=>{const ie=ne;ie.lngLat=l.getLngLat(),a.current.props.onDragEnd?.(ie)}),J},[]);$.useEffect(()=>(l.addTo(n.getMap()),()=>{l.remove()}),[]);const{longitude:u,latitude:i,offset:m,style:b,draggable:_=!1,popup:w=null,rotation:M=0,rotationAlignment:P="auto",pitchAlignment:j="auto"}=e;$.useEffect(()=>{cv(l.getElement(),b)},[b]),$.useImperativeHandle(t,()=>l,[]);const G=a.current.props;(l.getLngLat().lng!==u||l.getLngLat().lat!==i)&&l.setLngLat([u,i]),m&&!LTe(l.getOffset(),m)&&l.setOffset(m),l.isDraggable()!==_&&l.setDraggable(_),l.getRotation()!==M&&l.setRotation(M),l.getRotationAlignment()!==P&&l.setRotationAlignment(P),l.getPitchAlignment()!==j&&l.setPitchAlignment(j),l.getPopup()!==w&&l.setPopup(w);const z=nK(G.className,e.className);if(z)for(const q of z)l.toggleClassName(q);return a.current.props=e,qm.createPortal(e.children,l.getElement())}));$.memo($.forwardRef((e,t)=>{const{map:n,mapLib:r}=$.useContext(xN),a=$.useMemo(()=>document.createElement("div"),[]),l=$.useRef({props:e}),u=$.useMemo(()=>{const i={...e},m=new r.Popup(i);return m.setLngLat([e.longitude,e.latitude]),m.once("open",b=>{l.current.props.onOpen?.(b)}),m},[]);if($.useEffect(()=>{const i=m=>{l.current.props.onClose?.(m)};return u.on("close",i),u.setDOMContent(a).addTo(n.getMap()),()=>{u.off("close",i),u.isOpen()&&u.remove()}},[]),$.useEffect(()=>{cv(u.getElement(),e.style)},[e.style]),$.useImperativeHandle(t,()=>u,[]),u.isOpen()){const i=l.current.props;(u.getLngLat().lng!==e.longitude||u.getLngLat().lat!==e.latitude)&&u.setLngLat([e.longitude,e.latitude]),e.offset&&!my(i.offset,e.offset)&&u.setOffset(e.offset),(i.anchor!==e.anchor||i.maxWidth!==e.maxWidth)&&(u.options.anchor=e.anchor,u.setMaxWidth(e.maxWidth));const m=nK(i.className,e.className);if(m)for(const b of m)u.toggleClassName(b);l.current.props=e}return qm.createPortal(e.children,a)}));function K1(e,t,n,r){const a=$.useContext(xN),l=$.useMemo(()=>e(a),[]);return $.useEffect(()=>{const u=t,i=null,m=typeof t=="function"?t:null,{map:b}=a;return b.hasControl(l)||(b.addControl(l,u?.position),i&&i(a)),()=>{m&&m(a),b.hasControl(l)&&b.removeControl(l)}},[]),l}function YTe(e){const t=K1(({mapLib:n})=>new n.AttributionControl(e),{position:e.position});return $.useEffect(()=>{cv(t._container,e.style)},[e.style]),null}$.memo(YTe);function WTe(e){const t=K1(({mapLib:n})=>new n.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return $.useEffect(()=>{cv(t._controlContainer,e.style)},[e.style]),null}$.memo(WTe);function ZTe(e,t){const n=$.useRef({props:e}),r=K1(({mapLib:a})=>{const l=new a.GeolocateControl(e),u=l._setupUI;return l._setupUI=()=>{l._container.hasChildNodes()||u()},l.on("geolocate",i=>{n.current.props.onGeolocate?.(i)}),l.on("error",i=>{n.current.props.onError?.(i)}),l.on("outofmaxbounds",i=>{n.current.props.onOutOfMaxBounds?.(i)}),l.on("trackuserlocationstart",i=>{n.current.props.onTrackUserLocationStart?.(i)}),l.on("trackuserlocationend",i=>{n.current.props.onTrackUserLocationEnd?.(i)}),l},{position:e.position});return n.current.props=e,$.useImperativeHandle(t,()=>r,[]),$.useEffect(()=>{cv(r._container,e.style)},[e.style]),null}$.memo($.forwardRef(ZTe));function XTe(e){const t=K1(({mapLib:n})=>new n.NavigationControl(e),{position:e.position});return $.useEffect(()=>{cv(t._container,e.style)},[e.style]),null}$.memo(XTe);function KTe(e){const t=K1(({mapLib:l})=>new l.ScaleControl(e),{position:e.position}),n=$.useRef(e),r=n.current;n.current=e;const{style:a}=e;return e.maxWidth!==void 0&&e.maxWidth!==r.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==r.unit&&t.setUnit(e.unit),$.useEffect(()=>{cv(t._container,a)},[a]),null}$.memo(KTe);function QTe(e){const t=K1(({mapLib:n})=>new n.TerrainControl(e),{position:e.position});return $.useEffect(()=>{cv(t._container,e.style)},[e.style]),null}$.memo(QTe);function JTe(e){const t=K1(({mapLib:n})=>new n.LogoControl(e),{position:e.position});return $.useEffect(()=>{cv(t._container,e.style)},[e.style]),null}$.memo(JTe);const rK=Ve.createRef(),eCe=$.forwardRef((e,t)=>{const[n,r]=$.useState(null),[a,l]=$.useState(!1),u=$.useRef(null);$.useImperativeHandle(t,()=>({open:(_,w)=>{r(w??null),l(!0),u.current=_},close:()=>{l(!1)}}));const[i,m]=$.useState(null),{color:b}=Fr();return $.useEffect(()=>{i&&ja.geocode({byCoords:{latitude:i.lat,longitude:i.lng}}).then(_=>{r(_?.[0]??null)}).finally(()=>{m(null)})},[i]),S.jsx(Lc,{onOpenChange:_=>{l(_)},open:a,children:S.jsxs(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] overflow-hidden ",children:[S.jsx(F1,{children:S.jsxs(qb,{className:Dn(i?"animate-pulse":""),children:[n?.name??n?.address,S.jsx("div",{className:"text-sm text-gray-500",children:n?.context??""})]})}),S.jsxs(VTe,{initialViewState:{longitude:n?.lng??0,latitude:n?.lat??0,zoom:14},onClick:_=>{const{lng:w,lat:M}=_.lngLat;m({lng:w,lat:M})},style:{width:"100%",height:"calc(80vh - 150px)"},mapStyle:{version:8,sources:{osm:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:""}},layers:[{id:"osm",type:"raster",source:"osm"}]},children:[!i&&n?.lat!=null&&n?.lng!=null&&S.jsx(R7,{longitude:n.lng,latitude:n.lat,anchor:"bottom",children:S.jsx(_7,{color:b,size:40})}),i&&S.jsx(R7,{longitude:i.lng,latitude:i.lat,anchor:"bottom",children:S.jsx(_7,{className:"animate-pulse",color:b,size:40})})]}),S.jsx(B1,{children:S.jsxs("div",{className:"flex flex-row gap-2 w-full justify-between",children:[S.jsx("div",{className:"text-xs text-gray-500",children:tt.key("click_on_map_to_select_location")}),S.jsxs(Bn,{disabled:!n||i!=null,variant:"outline",onClick:()=>{u.current&&u.current(n),l(!1)},children:[S.jsx(s1,{size:20})," ",tt.key("save")]})]})})]})})});function aK({className:e,...t}){return S.jsx("textarea",{"data-slot":"textarea",className:Dn("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}const tCe=e=>{const[t,n]=$.useState(!1),[r,a]=$.useState(!1),[l,u]=$.useState(!1),[i,m]=$.useState(!1),[b,_]=$.useState(!1),[w,M]=$.useState(!1),[P,j]=$.useState(""),[G,z]=$.useState(!1);$.useEffect(()=>{w&&j("")},[w]),$.useEffect(()=>{P&&K(P)},[P]);const[q,Y]=$.useState(e.getValue()??null);$.useEffect(()=>{e.setValue(q)},[q]),$.useRef(null);const[J,ne]=$.useState(!1),ie=$.useRef(null),[ue,oe]=$.useState([]),K=se=>{clearTimeout(ie.current),ie.current=setTimeout(()=>{ne(!0),ja.geocode({byString:{string:se}}).then(pe=>{oe(pe??[])}).finally(()=>{ne(!1)})},300)};return $.useEffect(()=>{q&&q.meta&&(q?.meta?.entrance&&n(!0),q?.meta?.floor&&a(!0),q?.meta?.apartment&&u(!0),q?.meta?.phone&&m(!0),q?.meta?.comment&&_(!0))},[]),e.onlyShow||!e.structure.editable?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(La,{...e}),S.jsxs(Bn,{variant:"secondary",className:"w-full  h-auto flex justify-between ",onClick:()=>{if(q?.lat&&q?.lng){let se=[];(q.address||q.name)&&se.push(q.address??q.name),se.push(`
`),q.meta?.entrance&&(se.push(tt.key("entrance")+": "),se.push(q.meta.entrance),se.push(`
`)),q.meta?.floor&&(se.push(tt.key("floor")+": "),se.push(q.meta.floor),se.push(`
`)),q.meta?.apartment&&(se.push(tt.key("apartment")+": "),se.push(q.meta.apartment),se.push(`
`)),q.meta?.phone&&(se.push(tt.key("phone")+": "),se.push(q.meta.phone),se.push(`
`)),q.meta?.comment&&(se.push(tt.key("comment")+": "),se.push(q.meta.comment),se.push(`
`)),qf(se.join(" "))}},children:[S.jsx("div",{className:"flex flex-col items-start gap-0",children:q?.lat&&q?.lng?S.jsxs(S.Fragment,{children:[S.jsx("div",{children:q?.address??q?.name??""}),S.jsxs("div",{children:[!!q.meta?.entrance&&S.jsxs("span",{className:"text-xs text-gray-500",children:[" ",tt.key("entrance"),": ",q.meta.entrance]}),!!q.meta?.floor&&S.jsxs("span",{className:"text-xs text-gray-500",children:[" ",tt.key("floor"),": ",q.meta.floor]}),!!q.meta?.apartment&&S.jsxs("span",{className:"text-xs text-gray-500",children:[" ",tt.key("apartment"),": ",q.meta.apartment]}),!!q.meta?.phone&&S.jsxs("span",{className:"text-xs text-gray-500",children:[" ",tt.key("phone"),": +",q.meta.phone]}),!!q.meta?.comment&&S.jsxs("span",{className:"text-xs text-gray-500",children:[" ",tt.key("comment"),": ",q.meta.comment]})]})]}):tt.key("no_data_short")}),S.jsx(p1,{})]})]}):S.jsxs("div",{className:"",children:[S.jsx($m,{required:e.structure.required,children:e.structure.title??e.structure.key}),S.jsx(La,{...e}),S.jsxs("div",{className:"pr-2",children:[S.jsxs("div",{className:"w-full flex items-center gap-1",children:[S.jsx(Bn,{disabled:!q?.lat||!q?.lng,onClick:()=>{M(!w)},variant:"outline",children:w?S.jsx(j$,{}):S.jsx($se,{})}),w?S.jsxs("div",{className:"flex-1",children:[S.jsx(ml,{className:" w-full",placeholder:tt.key("address"),value:q?.address??q?.name,onChange:se=>{Y(pe=>({...pe,address:se.target.value,name:se.target.value}))}})," "]}):S.jsxs(S.Fragment,{children:[S.jsxs(Bn,{variant:"outline",className:"flex-1 justify-between",onClick:()=>{tK.current?.open(se=>{Y(se)},q?.address??q?.name)},children:[q?.address??q?.name??tt.key("select_value_address"),S.jsx(j$,{})]}),S.jsx(Bn,{variant:"outline",onClick:()=>{rK.current?.open(se=>{Y(se)},q??void 0)},children:S.jsx(tse,{})})]})]}),t&&S.jsxs("div",{className:"mt-2",children:[S.jsx($m,{children:tt.key("entrance")}),S.jsxs("div",{className:"flex ",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ml,{className:"w-full",placeholder:tt.key("entrance"),value:q?.meta?.entrance,onChange:se=>{Y(pe=>pe?{...pe,meta:{...pe.meta,entrance:se.target.value}}:null)}})}),S.jsx(Bn,{onClick:()=>{n(!1)},variant:"link",size:"icon",children:S.jsx(hd,{})})]})]}),r&&S.jsxs("div",{className:"mt-2",children:[S.jsx($m,{children:tt.key("floor")}),S.jsxs("div",{className:"flex ",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ml,{placeholder:tt.key("floor"),value:q?.meta?.floor,onChange:se=>{Y(pe=>pe?{...pe,meta:{...pe.meta,floor:se.target.value}}:null)}})}),S.jsx(Bn,{onClick:()=>{a(!1)},variant:"link",size:"icon",children:S.jsx(hd,{})})]})]}),l&&S.jsxs("div",{className:"mt-2",children:[S.jsx($m,{children:tt.key("apartment")}),S.jsxs("div",{className:"flex ",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ml,{placeholder:tt.key("apartment"),value:q?.meta?.apartment,onChange:se=>{Y(pe=>pe?{...pe,meta:{...pe.meta,apartment:se.target.value}}:null)}})}),S.jsx(Bn,{onClick:()=>{u(!1)},variant:"link",size:"icon",children:S.jsx(hd,{})})]})]}),i&&S.jsxs("div",{className:"mt-2",children:[S.jsx($m,{children:tt.key("phone")}),S.jsxs("div",{className:"flex ",children:[S.jsx("div",{className:"flex-1",children:S.jsx(Tk,{containerClass:"!w-full phone-input-field ",inputClass:"ant-input !w-full isLogin",placeholder:tt.key("phone"),value:q?.meta?.phone?String(q?.meta?.phone):void 0,onChange:se=>{Y(pe=>pe?{...pe,meta:{...pe.meta,phone:se?Number(se):void 0}}:null)}})}),S.jsx(Bn,{onClick:()=>{m(!1)},variant:"link",size:"icon",children:S.jsx(hd,{})})]})]}),b&&S.jsxs("div",{className:"mt-2",children:[S.jsx($m,{children:tt.key("comment")}),S.jsxs("div",{className:"flex ",children:[S.jsx("div",{className:"flex-1",children:S.jsx(aK,{placeholder:tt.key("comment"),value:q?.meta?.comment,onChange:se=>{Y(pe=>pe?{...pe,meta:{...pe.meta,comment:se.target.value}}:null)}})}),S.jsx(Bn,{onClick:()=>{_(!1)},variant:"link",size:"icon",children:S.jsx(hd,{})})]})]}),S.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[!t&&S.jsx(pl,{variant:"outline",onClick:()=>n(!0),className:"cursor-pointer",children:tt.key("add_entrance")}),!r&&S.jsx(pl,{variant:"outline",onClick:()=>a(!0),className:"cursor-pointer",children:tt.key("add_floor")}),!l&&S.jsx(pl,{variant:"outline",onClick:()=>u(!0),className:"cursor-pointer",children:tt.key("add_apartment")}),!i&&S.jsx(pl,{variant:"outline",onClick:()=>m(!i),className:"cursor-pointer",children:tt.key("add_phone")}),!b&&S.jsx(pl,{variant:"outline",onClick:()=>_(!b),className:"cursor-pointer",children:tt.key("add_comment")})]})]})]})};var OA={exports:{}};var nCe=OA.exports,M7;function rCe(){return M7||(M7=1,(function(e,t){(function(n,r){e.exports=r()})(nCe,(function(){var n={},r={};function a(u,i,m){if(r[u]=m,u==="index"){var b="var sharedModule = {}; ("+r.shared+")(sharedModule); ("+r.worker+")(sharedModule);",_={};return r.shared(_),r.index(n,_),typeof window<"u"&&n.setWorkerUrl(window.URL.createObjectURL(new Blob([b],{type:"text/javascript"}))),n}}a("shared",["exports"],(function(u){function i(d,o,c,y){return new(c||(c=Promise))((function(E,I){function N(X){try{V(y.next(X))}catch(ae){I(ae)}}function F(X){try{V(y.throw(X))}catch(ae){I(ae)}}function V(X){var ae;X.done?E(X.value):(ae=X.value,ae instanceof c?ae:new c((function(de){de(ae)}))).then(N,F)}V((y=y.apply(d,o||[])).next())}))}function m(d,o){this.x=d,this.y=o}function b(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var _,w;typeof SuppressedError=="function"&&SuppressedError,m.prototype={clone(){return new m(this.x,this.y)},add(d){return this.clone()._add(d)},sub(d){return this.clone()._sub(d)},multByPoint(d){return this.clone()._multByPoint(d)},divByPoint(d){return this.clone()._divByPoint(d)},mult(d){return this.clone()._mult(d)},div(d){return this.clone()._div(d)},rotate(d){return this.clone()._rotate(d)},rotateAround(d,o){return this.clone()._rotateAround(d,o)},matMult(d){return this.clone()._matMult(d)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(d){return this.x===d.x&&this.y===d.y},dist(d){return Math.sqrt(this.distSqr(d))},distSqr(d){const o=d.x-this.x,c=d.y-this.y;return o*o+c*c},angle(){return Math.atan2(this.y,this.x)},angleTo(d){return Math.atan2(this.y-d.y,this.x-d.x)},angleWith(d){return this.angleWithSep(d.x,d.y)},angleWithSep(d,o){return Math.atan2(this.x*o-this.y*d,this.x*d+this.y*o)},_matMult(d){const o=d[2]*this.x+d[3]*this.y;return this.x=d[0]*this.x+d[1]*this.y,this.y=o,this},_add(d){return this.x+=d.x,this.y+=d.y,this},_sub(d){return this.x-=d.x,this.y-=d.y,this},_mult(d){return this.x*=d,this.y*=d,this},_div(d){return this.x/=d,this.y/=d,this},_multByPoint(d){return this.x*=d.x,this.y*=d.y,this},_divByPoint(d){return this.x/=d.x,this.y/=d.y,this},_unit(){return this._div(this.mag()),this},_perp(){const d=this.y;return this.y=this.x,this.x=-d,this},_rotate(d){const o=Math.cos(d),c=Math.sin(d),y=c*this.x+o*this.y;return this.x=o*this.x-c*this.y,this.y=y,this},_rotateAround(d,o){const c=Math.cos(d),y=Math.sin(d),E=o.y+y*(this.x-o.x)+c*(this.y-o.y);return this.x=o.x+c*(this.x-o.x)-y*(this.y-o.y),this.y=E,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:m},m.convert=function(d){if(d instanceof m)return d;if(Array.isArray(d))return new m(+d[0],+d[1]);if(d.x!==void 0&&d.y!==void 0)return new m(+d.x,+d.y);throw new Error("Expected [x, y] or {x, y} point format")};var M=(function(){if(w)return _;function d(o,c,y,E){this.cx=3*o,this.bx=3*(y-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(E-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=c,this.p2x=y,this.p2y=E}return w=1,_=d,d.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,c){if(c===void 0&&(c=1e-6),o<0)return 0;if(o>1)return 1;for(var y=o,E=0;E<8;E++){var I=this.sampleCurveX(y)-o;if(Math.abs(I)<c)return y;var N=this.sampleCurveDerivativeX(y);if(Math.abs(N)<1e-6)break;y-=I/N}var F=0,V=1;for(y=o,E=0;E<20&&(I=this.sampleCurveX(y),!(Math.abs(I-o)<c));E++)o>I?F=y:V=y,y=.5*(V-F)+F;return y},solve:function(o,c){return this.sampleCurveY(this.solveCurveX(o,c))}},_})(),P=b(M);let j,G;function z(){return j==null&&(j=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")&&typeof createImageBitmap=="function"),j}function q(){if(G==null&&(G=!1,z())){const o=new OffscreenCanvas(5,5).getContext("2d",{willReadFrequently:!0});if(o){for(let y=0;y<25;y++){const E=4*y;o.fillStyle=`rgb(${E},${E+1},${E+2})`,o.fillRect(y%5,Math.floor(y/5),1,1)}const c=o.getImageData(0,0,5,5).data;for(let y=0;y<100;y++)if(y%4!=3&&c[y]!==y){G=!0;break}}}return G||!1}var Y=1e-6,J=typeof Float32Array<"u"?Float32Array:Array;function ne(){var d=new J(9);return J!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[5]=0,d[6]=0,d[7]=0),d[0]=1,d[4]=1,d[8]=1,d}function ie(d){return d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d}function ue(){var d=new J(3);return J!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d}function oe(d){var o=d[0],c=d[1],y=d[2];return Math.sqrt(o*o+c*c+y*y)}function K(d,o,c){var y=new J(3);return y[0]=d,y[1]=o,y[2]=c,y}function se(d,o,c){return d[0]=o[0]+c[0],d[1]=o[1]+c[1],d[2]=o[2]+c[2],d}function pe(d,o,c){return d[0]=o[0]*c,d[1]=o[1]*c,d[2]=o[2]*c,d}function ve(d,o,c){var y=o[0],E=o[1],I=o[2],N=c[0],F=c[1],V=c[2];return d[0]=E*V-I*F,d[1]=I*N-y*V,d[2]=y*F-E*N,d}var Te,Me=oe;function xe(d,o,c){var y=o[0],E=o[1],I=o[2],N=o[3];return d[0]=c[0]*y+c[4]*E+c[8]*I+c[12]*N,d[1]=c[1]*y+c[5]*E+c[9]*I+c[13]*N,d[2]=c[2]*y+c[6]*E+c[10]*I+c[14]*N,d[3]=c[3]*y+c[7]*E+c[11]*I+c[15]*N,d}function Se(){var d=new J(4);return J!=Float32Array&&(d[0]=0,d[1]=0,d[2]=0),d[3]=1,d}function he(d,o,c,y){var E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"zyx",I=Math.PI/360;o*=I,y*=I,c*=I;var N=Math.sin(o),F=Math.cos(o),V=Math.sin(c),X=Math.cos(c),ae=Math.sin(y),de=Math.cos(y);switch(E){case"xyz":d[0]=N*X*de+F*V*ae,d[1]=F*V*de-N*X*ae,d[2]=F*X*ae+N*V*de,d[3]=F*X*de-N*V*ae;break;case"xzy":d[0]=N*X*de-F*V*ae,d[1]=F*V*de-N*X*ae,d[2]=F*X*ae+N*V*de,d[3]=F*X*de+N*V*ae;break;case"yxz":d[0]=N*X*de+F*V*ae,d[1]=F*V*de-N*X*ae,d[2]=F*X*ae-N*V*de,d[3]=F*X*de+N*V*ae;break;case"yzx":d[0]=N*X*de+F*V*ae,d[1]=F*V*de+N*X*ae,d[2]=F*X*ae-N*V*de,d[3]=F*X*de-N*V*ae;break;case"zxy":d[0]=N*X*de-F*V*ae,d[1]=F*V*de+N*X*ae,d[2]=F*X*ae+N*V*de,d[3]=F*X*de-N*V*ae;break;case"zyx":d[0]=N*X*de-F*V*ae,d[1]=F*V*de+N*X*ae,d[2]=F*X*ae-N*V*de,d[3]=F*X*de+N*V*ae;break;default:throw new Error("Unknown angle order "+E)}return d}function we(){var d=new J(2);return J!=Float32Array&&(d[0]=0,d[1]=0),d}function _e(d,o){var c=new J(2);return c[0]=d,c[1]=o,c}ue(),Te=new J(4),J!=Float32Array&&(Te[0]=0,Te[1]=0,Te[2]=0,Te[3]=0),ue(),K(1,0,0),K(0,1,0),Se(),Se(),ne(),we();const Be=8192;function He(d,o,c){return o*(Be/(d.tileSize*Math.pow(2,c-d.tileID.overscaledZ)))}function Re(d,o){return(d%o+o)%o}function je(d,o,c){return d*(1-c)+o*c}function Ze(d){if(d<=0)return 0;if(d>=1)return 1;const o=d*d,c=o*d;return 4*(d<.5?c:3*(d-o)+c-.75)}function Qe(d,o,c,y){const E=new P(d,o,c,y);return I=>E.solve(I)}const Pe=Qe(.25,.1,.25,1);function St(d,o,c){return Math.min(c,Math.max(o,d))}function Nt(d,o,c){const y=c-o,E=((d-o)%y+y)%y+o;return E===o?c:E}function We(d,...o){for(const c of o)for(const y in c)d[y]=c[y];return d}let en=1;function zt(d,o,c){const y={};for(const E in d)y[E]=o.call(this,d[E],E,d);return y}function rn(d,o,c){const y={};for(const E in d)o.call(this,d[E],E,d)&&(y[E]=d[E]);return y}function Ge(d){return Array.isArray(d)?d.map(Ge):typeof d=="object"&&d?zt(d,Ge):d}const kn={};function _n(d){kn[d]||(typeof console<"u"&&console.warn(d),kn[d]=!0)}function Lt(d,o,c){return(c.y-d.y)*(o.x-d.x)>(o.y-d.y)*(c.x-d.x)}function pn(d){return typeof WorkerGlobalScope<"u"&&d!==void 0&&d instanceof WorkerGlobalScope}let Tn=null;function tr(d){return typeof ImageBitmap<"u"&&d instanceof ImageBitmap}const Vt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function lr(d,o,c,y,E){return i(this,void 0,void 0,(function*(){if(typeof VideoFrame>"u")throw new Error("VideoFrame not supported");const I=new VideoFrame(d,{timestamp:0});try{const N=I?.format;if(!N||!N.startsWith("BGR")&&!N.startsWith("RGB"))throw new Error(`Unrecognized format ${N}`);const F=N.startsWith("BGR"),V=new Uint8ClampedArray(y*E*4);if(yield I.copyTo(V,(function(X,ae,de,ge,be){const Ae=4*Math.max(-ae,0),De=(Math.max(0,de)-de)*ge*4+Ae,Fe=4*ge,Ye=Math.max(0,ae),vt=Math.max(0,de);return{rect:{x:Ye,y:vt,width:Math.min(X.width,ae+ge)-Ye,height:Math.min(X.height,de+be)-vt},layout:[{offset:De,stride:Fe}]}})(d,o,c,y,E)),F)for(let X=0;X<V.length;X+=4){const ae=V[X];V[X]=V[X+2],V[X+2]=ae}return V}finally{I.close()}}))}let sr,xn;function En(d,o,c,y){return d.addEventListener(o,c,y),{unsubscribe:()=>{d.removeEventListener(o,c,y)}}}function hn(d){return d*Math.PI/180}function jn(d){return d/Math.PI*180}const _t={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},Oe={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ke="AbortError";class qe extends Error{constructor(o=ke){super(o instanceof Error?o.message:o),this.name=ke,o instanceof Error&&o.stack&&(this.stack=o.stack)}}function ut(d){return d.name===ke}const dt={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function Ut(d){return dt.REGISTERED_PROTOCOLS[d.substring(0,d.indexOf("://"))]}const Bt="global-dispatcher";class xt extends Error{constructor(o,c,y,E){super(`AJAXError: ${c} (${o}): ${y}`),this.status=o,this.statusText=c,this.url=y,this.body=E}}const Ct=()=>pn(self)?self.worker&&self.worker.referrer:(window.location.protocol==="blob:"?window.parent:window).location.href,sn=function(d,o){if(/:\/\//.test(d.url)&&!/^https?:|^file:/.test(d.url)){const y=Ut(d.url);if(y)return y(d,o);if(pn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,targetMapId:Bt},o)}if(!(/^file:/.test(c=d.url)||/^file:/.test(Ct())&&!/^\w+:/.test(c))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return(function(y,E){return i(this,void 0,void 0,(function*(){const I=new Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,cache:y.cache,referrer:Ct(),signal:E.signal});let N,F;y.type!=="json"||I.headers.has("Accept")||I.headers.set("Accept","application/json");try{N=yield fetch(I)}catch(X){throw ut(X)?X:new xt(0,X.message,y.url,new Blob)}if(!N.ok){const X=yield N.blob();throw new xt(N.status,N.statusText,y.url,X)}F=y.type==="arrayBuffer"||y.type==="image"?N.arrayBuffer():y.type==="json"?N.json():N.text();const V=yield F;return E.signal.throwIfAborted(),{data:V,cacheControl:N.headers.get("Cache-Control"),expires:N.headers.get("Expires")}}))})(d,o);if(pn(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:d,mustQueue:!0,targetMapId:Bt},o)}var c;return(function(y,E){return new Promise(((I,N)=>{var F;const V=new XMLHttpRequest;V.open(y.method||"GET",y.url,!0),y.type!=="arrayBuffer"&&y.type!=="image"||(V.responseType="arraybuffer");for(const X in y.headers)V.setRequestHeader(X,y.headers[X]);y.type==="json"&&(V.responseType="text",!((F=y.headers)===null||F===void 0)&&F.Accept||V.setRequestHeader("Accept","application/json")),V.withCredentials=y.credentials==="include",V.onerror=()=>{N(new Error(V.statusText))},V.onload=()=>{if(!E.signal.aborted)if((V.status>=200&&V.status<300||V.status===0)&&V.response!==null){let X=V.response;if(y.type==="json")try{X=JSON.parse(V.response)}catch(ae){return void N(ae)}I({data:X,cacheControl:V.getResponseHeader("Cache-Control"),expires:V.getResponseHeader("Expires")})}else{const X=new Blob([V.response],{type:V.getResponseHeader("Content-Type")});N(new xt(V.status,V.statusText,y.url,X))}},E.signal.addEventListener("abort",(()=>{V.abort(),N(new qe(E.signal.reason))})),V.send(y.body)}))})(d,o)};function mn(d){if(!d||d.indexOf("://")<=0||d.indexOf("data:image/")===0||d.indexOf("blob:")===0)return!0;const o=new URL(d),c=window.location;return o.protocol===c.protocol&&o.host===c.host}function Vn(d,o,c){c[d]&&c[d].indexOf(o)!==-1||(c[d]=c[d]||[],c[d].push(o))}function gn(d,o,c){if(c&&c[d]){const y=c[d].indexOf(o);y!==-1&&c[d].splice(y,1)}}class qn{constructor(o,c={}){We(this,c),this.type=o}}class Xn extends qn{constructor(o,c={}){super("error",We({error:o},c))}}class Qn{on(o,c){return this._listeners=this._listeners||{},Vn(o,c,this._listeners),{unsubscribe:()=>{this.off(o,c)}}}off(o,c){return gn(o,c,this._listeners),gn(o,c,this._oneTimeListeners),this}once(o,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Vn(o,c,this._oneTimeListeners),this):new Promise((y=>this.once(o,y)))}fire(o,c){typeof o=="string"&&(o=new qn(o,c||{}));const y=o.type;if(this.listens(y)){o.target=this;const E=this._listeners&&this._listeners[y]?this._listeners[y].slice():[];for(const F of E)F.call(this,o);const I=this._oneTimeListeners&&this._oneTimeListeners[y]?this._oneTimeListeners[y].slice():[];for(const F of I)gn(y,F,this._oneTimeListeners),F.call(this,o);const N=this._eventedParent;N&&(We(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),N.fire(o))}else o instanceof Xn&&console.error(o.error);return this}listens(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)}setEventedParent(o,c){return this._eventedParent=o,this._eventedParentData=c,this}}var Pt={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"array",value:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const wn=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Mr(d,o){const c={};for(const y in d)y!=="ref"&&(c[y]=d[y]);return wn.forEach((y=>{y in o&&(c[y]=o[y])})),c}function Mn(d,o){if(Array.isArray(d)){if(!Array.isArray(o)||d.length!==o.length)return!1;for(let c=0;c<d.length;c++)if(!Mn(d[c],o[c]))return!1;return!0}if(typeof d=="object"&&d!==null&&o!==null){if(typeof o!="object"||Object.keys(d).length!==Object.keys(o).length)return!1;for(const c in d)if(!Mn(d[c],o[c]))return!1;return!0}return d===o}function on(d,o){d.push(o)}function Wr(d,o,c){on(c,{command:"addSource",args:[d,o[d]]})}function Tr(d,o,c){on(o,{command:"removeSource",args:[d]}),c[d]=!0}function Ir(d,o,c,y){Tr(d,c,y),Wr(d,o,c)}function Xr(d,o,c){let y;for(y in d[c])if(Object.prototype.hasOwnProperty.call(d[c],y)&&y!=="data"&&!Mn(d[c][y],o[c][y]))return!1;for(y in o[c])if(Object.prototype.hasOwnProperty.call(o[c],y)&&y!=="data"&&!Mn(d[c][y],o[c][y]))return!1;return!0}function yt(d,o,c,y,E,I){d=d||{},o=o||{};for(const N in d)Object.prototype.hasOwnProperty.call(d,N)&&(Mn(d[N],o[N])||c.push({command:I,args:[y,N,o[N],E]}));for(const N in o)Object.prototype.hasOwnProperty.call(o,N)&&!Object.prototype.hasOwnProperty.call(d,N)&&(Mn(d[N],o[N])||c.push({command:I,args:[y,N,o[N],E]}))}function Ft(d){return d.id}function Yt(d,o){return d[o.id]=o,d}class Ot{constructor(o,c,y,E){this.message=(o?`${o}: `:"")+y,E&&(this.identifier=E),c!=null&&c.__line__&&(this.line=c.__line__)}}function Pn(d,...o){for(const c of o)for(const y in c)d[y]=c[y];return d}class nr extends Error{constructor(o,c){super(c),this.message=c,this.key=o}}class fr{constructor(o,c=[]){this.parent=o,this.bindings={};for(const[y,E]of c)this.bindings[y]=E}concat(o){return new fr(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(`${o} not found in scope.`)}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}const Jn={kind:"null"},qt={kind:"number"},Gn={kind:"string"},zn={kind:"boolean"},hr={kind:"color"},ra={kind:"projectionDefinition"},ua={kind:"object"},ft={kind:"value"},Ke={kind:"collator"},mt={kind:"formatted"},Xt={kind:"padding"},Cn={kind:"colorArray"},Yn={kind:"numberArray"},Wn={kind:"resolvedImage"},br={kind:"variableAnchorOffsetCollection"};function Br(d,o){return{kind:"array",itemType:d,N:o}}function _r(d){if(d.kind==="array"){const o=_r(d.itemType);return typeof d.N=="number"?`array<${o}, ${d.N}>`:d.itemType.kind==="value"?"array":`array<${o}>`}return d.kind}const Nr=[Jn,qt,Gn,zn,hr,ra,mt,ua,Br(ft),Xt,Yn,Cn,Wn,br];function Ur(d,o){if(o.kind==="error")return null;if(d.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!Ur(d.itemType,o.itemType))&&(typeof d.N!="number"||d.N===o.N))return null}else{if(d.kind===o.kind)return null;if(d.kind==="value"){for(const c of Nr)if(!Ur(c,o))return null}}return`Expected ${_r(d)} but found ${_r(o)} instead.`}function Wa(d,o){return o.some((c=>c.kind===d.kind))}function Or(d,o){return o.some((c=>c==="null"?d===null:c==="array"?Array.isArray(d):c==="object"?d&&!Array.isArray(d)&&typeof d=="object":c===typeof d))}function Kr(d,o){return d.kind==="array"&&o.kind==="array"?d.itemType.kind===o.itemType.kind&&typeof d.N=="number":d.kind===o.kind}const za=.96422,Za=.82521,pa=4/29,aa=6/29,Ol=3*aa*aa,$c=aa*aa*aa,yl=Math.PI/180,hs=180/Math.PI;function va(d){return(d%=360)<0&&(d+=360),d}function Ua([d,o,c,y]){let E,I;const N=Zs((.2225045*(d=wi(d))+.7168786*(o=wi(o))+.0606169*(c=wi(c)))/1);d===o&&o===c?E=I=N:(E=Zs((.4360747*d+.3850649*o+.1430804*c)/za),I=Zs((.0139322*d+.0971045*o+.7141733*c)/Za));const F=116*N-16;return[F<0?0:F,500*(E-N),200*(N-I),y]}function wi(d){return d<=.04045?d/12.92:Math.pow((d+.055)/1.055,2.4)}function Zs(d){return d>$c?Math.pow(d,1/3):d/Ol+pa}function Kl([d,o,c,y]){let E=(d+16)/116,I=isNaN(o)?E:E+o/500,N=isNaN(c)?E:E-c/200;return E=1*_o(E),I=za*_o(I),N=Za*_o(N),[bo(3.1338561*I-1.6168667*E-.4906146*N),bo(-.9787684*I+1.9161415*E+.033454*N),bo(.0719453*I-.2289914*E+1.4052427*N),y]}function bo(d){return(d=d<=.00304?12.92*d:1.055*Math.pow(d,1/2.4)-.055)<0?0:d>1?1:d}function _o(d){return d>aa?d*d*d:Ol*(d-pa)}const Xs=Object.hasOwn||function(d,o){return Object.prototype.hasOwnProperty.call(d,o)};function Lo(d,o){return Xs(d,o)?d[o]:void 0}function co(d){return parseInt(d.padEnd(2,d),16)/255}function _u(d,o){return Po(o?d/100:d,0,1)}function Po(d,o,c){return Math.min(Math.max(o,d),c)}function wd(d){return!d.some(Number.isNaN)}const Is={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Aa(d,o,c){return d+c*(o-d)}function Fo(d,o,c){return d.map(((y,E)=>Aa(y,o[E],c)))}class Jr{constructor(o,c,y,E=1,I=!0){this.r=o,this.g=c,this.b=y,this.a=E,I||(this.r*=E,this.g*=E,this.b*=E,E||this.overwriteGetter("rgb",[o,c,y,E]))}static parse(o){if(o instanceof Jr)return o;if(typeof o!="string")return;const c=(function(y){if((y=y.toLowerCase().trim())==="transparent")return[0,0,0,0];const E=Lo(Is,y);if(E){const[N,F,V]=E;return[N/255,F/255,V/255,1]}if(y.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(y)){const N=y.length<6?1:2;let F=1;return[co(y.slice(F,F+=N)),co(y.slice(F,F+=N)),co(y.slice(F,F+=N)),co(y.slice(F,F+N)||"ff")]}if(y.startsWith("rgb")){const N=y.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(N){const[F,V,X,ae,de,ge,be,Ae,De,Fe,Ye,vt]=N,Xe=[ae||" ",be||" ",Fe].join("");if(Xe==="  "||Xe==="  /"||Xe===",,"||Xe===",,,"){const at=[X,ge,De].join(""),Et=at==="%%%"?100:at===""?255:0;if(Et){const kt=[Po(+V/Et,0,1),Po(+de/Et,0,1),Po(+Ae/Et,0,1),Ye?_u(+Ye,vt):1];if(wd(kt))return kt}}return}}const I=y.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(I){const[N,F,V,X,ae,de,ge,be,Ae]=I,De=[V||" ",ae||" ",ge].join("");if(De==="  "||De==="  /"||De===",,"||De===",,,"){const Fe=[+F,Po(+X,0,100),Po(+de,0,100),be?_u(+be,Ae):1];if(wd(Fe))return(function([Ye,vt,Xe,at]){function Et(kt){const tn=(kt+Ye/30)%12,Sn=vt*Math.min(Xe,1-Xe);return Xe-Sn*Math.max(-1,Math.min(tn-3,9-tn,1))}return Ye=va(Ye),vt/=100,Xe/=100,[Et(0),Et(8),Et(4),at]})(Fe)}}})(o);return c?new Jr(...c,!1):void 0}get rgb(){const{r:o,g:c,b:y,a:E}=this,I=E||1/0;return this.overwriteGetter("rgb",[o/I,c/I,y/I,E])}get hcl(){return this.overwriteGetter("hcl",(function(o){const[c,y,E,I]=Ua(o),N=Math.sqrt(y*y+E*E);return[Math.round(1e4*N)?va(Math.atan2(E,y)*hs):NaN,N,c,I]})(this.rgb))}get lab(){return this.overwriteGetter("lab",Ua(this.rgb))}overwriteGetter(o,c){return Object.defineProperty(this,o,{value:c}),c}toString(){const[o,c,y,E]=this.rgb;return`rgba(${[o,c,y].map((I=>Math.round(255*I))).join(",")},${E})`}static interpolate(o,c,y,E="rgb"){switch(E){case"rgb":{const[I,N,F,V]=Fo(o.rgb,c.rgb,y);return new Jr(I,N,F,V,!1)}case"hcl":{const[I,N,F,V]=o.hcl,[X,ae,de,ge]=c.hcl;let be,Ae;if(isNaN(I)||isNaN(X))isNaN(I)?isNaN(X)?be=NaN:(be=X,F!==1&&F!==0||(Ae=ae)):(be=I,de!==1&&de!==0||(Ae=N));else{let Xe=X-I;X>I&&Xe>180?Xe-=360:X<I&&I-X>180&&(Xe+=360),be=I+y*Xe}const[De,Fe,Ye,vt]=(function([Xe,at,Et,kt]){return Xe=isNaN(Xe)?0:Xe*yl,Kl([Et,Math.cos(Xe)*at,Math.sin(Xe)*at,kt])})([be,Ae??Aa(N,ae,y),Aa(F,de,y),Aa(V,ge,y)]);return new Jr(De,Fe,Ye,vt,!1)}case"lab":{const[I,N,F,V]=Kl(Fo(o.lab,c.lab,y));return new Jr(I,N,F,V,!1)}}}}Jr.black=new Jr(0,0,0,1),Jr.white=new Jr(1,1,1,1),Jr.transparent=new Jr(0,0,0,0),Jr.red=new Jr(1,0,0,1);class ps{constructor(o,c,y){this.sensitivity=o?c?"variant":"case":c?"accent":"base",this.locale=y,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,c){return this.collator.compare(o,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const xo=["bottom","center","top"];class Qi{constructor(o,c,y,E,I,N){this.text=o,this.image=c,this.scale=y,this.fontStack=E,this.textColor=I,this.verticalAlign=N}}class ji{constructor(o){this.sections=o}static fromString(o){return new ji([new Qi(o,null,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some((o=>o.text.length!==0||o.image&&o.image.name.length!==0))}static factory(o){return o instanceof ji?o:ji.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map((o=>o.text)).join("")}}class Ji{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Ji)return o;if(typeof o=="number")return new Ji([o,o,o,o]);if(Array.isArray(o)&&!(o.length<1||o.length>4)){for(const c of o)if(typeof c!="number")return;switch(o.length){case 1:o=[o[0],o[0],o[0],o[0]];break;case 2:o=[o[0],o[1],o[0],o[1]];break;case 3:o=[o[0],o[1],o[2],o[1]]}return new Ji(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,c,y){return new Ji(Fo(o.values,c.values,y))}}class Si{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Si)return o;if(typeof o=="number")return new Si([o]);if(Array.isArray(o)){for(const c of o)if(typeof c!="number")return;return new Si(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,c,y){return new Si(Fo(o.values,c.values,y))}}class Vr{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Vr)return o;if(typeof o=="string"){const y=Jr.parse(o);return y?new Vr([y]):void 0}if(!Array.isArray(o))return;const c=[];for(const y of o){if(typeof y!="string")return;const E=Jr.parse(y);if(!E)return;c.push(E)}return new Vr(c)}toString(){return JSON.stringify(this.values)}static interpolate(o,c,y,E="rgb"){const I=[];if(o.values.length!=c.values.length)throw new Error(`colorArray: Arrays have mismatched length (${o.values.length} vs. ${c.values.length}), cannot interpolate.`);for(let N=0;N<o.values.length;N++)I.push(Jr.interpolate(o.values[N],c.values[N],y,E));return new Vr(I)}}class Va extends Error{constructor(o){super(o),this.name="RuntimeError"}toJSON(){return this.message}}const Ks=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Oi{constructor(o){this.values=o.slice()}static parse(o){if(o instanceof Oi)return o;if(Array.isArray(o)&&!(o.length<1)&&o.length%2==0){for(let c=0;c<o.length;c+=2){const y=o[c],E=o[c+1];if(typeof y!="string"||!Ks.has(y)||!Array.isArray(E)||E.length!==2||typeof E[0]!="number"||typeof E[1]!="number")return}return new Oi(o)}}toString(){return JSON.stringify(this.values)}static interpolate(o,c,y){const E=o.values,I=c.values;if(E.length!==I.length)throw new Va(`Cannot interpolate values of different length. from: ${o.toString()}, to: ${c.toString()}`);const N=[];for(let F=0;F<E.length;F+=2){if(E[F]!==I[F])throw new Va(`Cannot interpolate values containing mismatched anchors. from[${F}]: ${E[F]}, to[${F}]: ${I[F]}`);N.push(E[F]);const[V,X]=E[F+1],[ae,de]=I[F+1];N.push([Aa(V,ae,y),Aa(X,de,y)])}return new Oi(N)}}class da{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new da({name:o,available:!1}):null}}class li{constructor(o,c,y){this.from=o,this.to=c,this.transition=y}static interpolate(o,c,y){return new li(o,c,y)}static parse(o){return o instanceof li?o:Array.isArray(o)&&o.length===3&&typeof o[0]=="string"&&typeof o[1]=="string"&&typeof o[2]=="number"?new li(o[0],o[1],o[2]):typeof o=="object"&&typeof o.from=="string"&&typeof o.to=="string"&&typeof o.transition=="number"?new li(o.from,o.to,o.transition):typeof o=="string"?new li(o,o,1):void 0}}function Ns(d,o,c,y){return typeof d=="number"&&d>=0&&d<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof c=="number"&&c>=0&&c<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:`Invalid rgba value [${[d,o,c,y].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof y=="number"?[d,o,c,y]:[d,o,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Ql(d){if(d===null||typeof d=="string"||typeof d=="boolean"||typeof d=="number"||d instanceof li||d instanceof Jr||d instanceof ps||d instanceof ji||d instanceof Ji||d instanceof Si||d instanceof Vr||d instanceof Oi||d instanceof da)return!0;if(Array.isArray(d)){for(const o of d)if(!Ql(o))return!1;return!0}if(typeof d=="object"){for(const o in d)if(!Ql(d[o]))return!1;return!0}return!1}function Qr(d){if(d===null)return Jn;if(typeof d=="string")return Gn;if(typeof d=="boolean")return zn;if(typeof d=="number")return qt;if(d instanceof Jr)return hr;if(d instanceof li)return ra;if(d instanceof ps)return Ke;if(d instanceof ji)return mt;if(d instanceof Ji)return Xt;if(d instanceof Si)return Yn;if(d instanceof Vr)return Cn;if(d instanceof Oi)return br;if(d instanceof da)return Wn;if(Array.isArray(d)){const o=d.length;let c;for(const y of d){const E=Qr(y);if(c){if(c===E)continue;c=ft;break}c=E}return Br(c||ft,o)}return ua}function Pa(d){const o=typeof d;return d===null?"":o==="string"||o==="number"||o==="boolean"?String(d):d instanceof Jr||d instanceof li||d instanceof ji||d instanceof Ji||d instanceof Si||d instanceof Vr||d instanceof Oi||d instanceof da?d.toString():JSON.stringify(d)}class gi{constructor(o,c){this.type=o,this.value=c}static parse(o,c){if(o.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!Ql(o[1]))return c.error("invalid value");const y=o[1];let E=Qr(y);const I=c.expectedType;return E.kind!=="array"||E.N!==0||!I||I.kind!=="array"||typeof I.N=="number"&&I.N!==0||(E=I),new gi(E,y)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const jc={string:Gn,number:qt,boolean:zn,object:ua};class rs{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");let y,E=1;const I=o[0];if(I==="array"){let F,V;if(o.length>2){const X=o[1];if(typeof X!="string"||!(X in jc)||X==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);F=jc[X],E++}else F=ft;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return c.error('The length argument to "array" must be a positive integer literal',2);V=o[2],E++}y=Br(F,V)}else{if(!jc[I])throw new Error(`Types doesn't contain name = ${I}`);y=jc[I]}const N=[];for(;E<o.length;E++){const F=c.parse(o[E],E,ft);if(!F)return null;N.push(F)}return new rs(y,N)}evaluate(o){for(let c=0;c<this.args.length;c++){const y=this.args[c].evaluate(o);if(!Ur(this.type,Qr(y)))return y;if(c===this.args.length-1)throw new Va(`Expected value to be of type ${_r(this.type)}, but found ${_r(Qr(y))} instead.`)}throw new Error}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every((o=>o.outputDefined()))}}const eo={"to-boolean":zn,"to-color":hr,"to-number":qt,"to-string":Gn};class ms{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const y=o[0];if(!eo[y])throw new Error(`Can't parse ${y} as it is not part of the known types`);if((y==="to-boolean"||y==="to-string")&&o.length!==2)return c.error("Expected one argument.");const E=eo[y],I=[];for(let N=1;N<o.length;N++){const F=c.parse(o[N],N,ft);if(!F)return null;I.push(F)}return new ms(E,I)}evaluate(o){switch(this.type.kind){case"boolean":return!!this.args[0].evaluate(o);case"color":{let c,y;for(const E of this.args){if(c=E.evaluate(o),y=null,c instanceof Jr)return c;if(typeof c=="string"){const I=o.parseColor(c);if(I)return I}else if(Array.isArray(c)&&(y=c.length<3||c.length>4?`Invalid rgba value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Ns(c[0],c[1],c[2],c[3]),!y))return new Jr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new Va(y||`Could not parse color from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"padding":{let c;for(const y of this.args){c=y.evaluate(o);const E=Ji.parse(c);if(E)return E}throw new Va(`Could not parse padding from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"numberArray":{let c;for(const y of this.args){c=y.evaluate(o);const E=Si.parse(c);if(E)return E}throw new Va(`Could not parse numberArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"colorArray":{let c;for(const y of this.args){c=y.evaluate(o);const E=Vr.parse(c);if(E)return E}throw new Va(`Could not parse colorArray from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"variableAnchorOffsetCollection":{let c;for(const y of this.args){c=y.evaluate(o);const E=Oi.parse(c);if(E)return E}throw new Va(`Could not parse variableAnchorOffsetCollection from value '${typeof c=="string"?c:JSON.stringify(c)}'`)}case"number":{let c=null;for(const y of this.args){if(c=y.evaluate(o),c===null)return 0;const E=Number(c);if(!isNaN(E))return E}throw new Va(`Could not convert ${JSON.stringify(c)} to number.`)}case"formatted":return ji.fromString(Pa(this.args[0].evaluate(o)));case"resolvedImage":return da.fromString(Pa(this.args[0].evaluate(o)));case"projectionDefinition":return this.args[0].evaluate(o);default:return Pa(this.args[0].evaluate(o))}}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every((o=>o.outputDefined()))}}const Qf=["Unknown","Point","LineString","Polygon"];class rc{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Qf[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let c=this._parseColorCache.get(o);return c||(c=Jr.parse(o),this._parseColorCache.set(o,c)),c}}class Rs{constructor(o,c,y=[],E,I=new fr,N=[]){this.registry=o,this.path=y,this.key=y.map((F=>`[${F}]`)).join(""),this.scope=I,this.errors=N,this.expectedType=E,this._isConstant=c}parse(o,c,y,E,I={}){return c?this.concat(c,y,E)._parse(o,I):this._parse(o,I)}_parse(o,c){function y(E,I,N){return N==="assert"?new rs(I,[E]):N==="coerce"?new ms(I,[E]):E}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const E=o[0];if(typeof E!="string")return this.error(`Expression name must be a string, but found ${typeof E} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const I=this.registry[E];if(I){let N=I.parse(o,this);if(!N)return null;if(this.expectedType){const F=this.expectedType,V=N.type;if(F.kind!=="string"&&F.kind!=="number"&&F.kind!=="boolean"&&F.kind!=="object"&&F.kind!=="array"||V.kind!=="value"){if(F.kind==="projectionDefinition"&&["string","array"].includes(V.kind)||["color","formatted","resolvedImage"].includes(F.kind)&&["value","string"].includes(V.kind)||["padding","numberArray"].includes(F.kind)&&["value","number","array"].includes(V.kind)||F.kind==="colorArray"&&["value","string","array"].includes(V.kind)||F.kind==="variableAnchorOffsetCollection"&&["value","array"].includes(V.kind))N=y(N,F,c.typeAnnotation||"coerce");else if(this.checkSubtype(F,V))return null}else N=y(N,F,c.typeAnnotation||"assert")}if(!(N instanceof gi)&&N.type.kind!=="resolvedImage"&&this._isConstant(N)){const F=new rc;try{N=new gi(N.type,N.evaluate(F))}catch(V){return this.error(V.message),null}}return N}return this.error(`Unknown expression "${E}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,c,y){const E=typeof o=="number"?this.path.concat(o):this.path,I=y?this.scope.concat(y):this.scope;return new Rs(this.registry,this._isConstant,E,c||null,I,this.errors)}error(o,...c){const y=`${this.key}${c.map((E=>`[${E}]`)).join("")}`;this.errors.push(new nr(y,o))}checkSubtype(o,c){const y=Ur(o,c);return y&&this.error(y),y}}class ia{constructor(o,c){this.type=c.type,this.bindings=[].concat(o),this.result=c}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const c of this.bindings)o(c[1]);o(this.result)}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const y=[];for(let I=1;I<o.length-1;I+=2){const N=o[I];if(typeof N!="string")return c.error(`Expected string, but found ${typeof N} instead.`,I);if(/[^a-zA-Z0-9_]/.test(N))return c.error("Variable names must contain only alphanumeric characters or '_'.",I);const F=c.parse(o[I+1],I+1);if(!F)return null;y.push([N,F])}const E=c.parse(o[o.length-1],o.length-1,c.expectedType,y);return E?new ia(y,E):null}outputDefined(){return this.result.outputDefined()}}class xu{constructor(o,c){this.type=c.type,this.name=o,this.boundExpression=c}static parse(o,c){if(o.length!==2||typeof o[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const y=o[1];return c.scope.has(y)?new xu(y,c.scope.get(y)):c.error(`Unknown variable "${y}". Make sure "${y}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}}class Gr{constructor(o,c,y){this.type=o,this.index=c,this.input=y}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const y=c.parse(o[1],1,qt),E=c.parse(o[2],2,Br(c.expectedType||ft));return y&&E?new Gr(E.type.itemType,y,E):null}evaluate(o){const c=this.index.evaluate(o),y=this.input.evaluate(o);if(c<0)throw new Va(`Array index out of bounds: ${c} < 0.`);if(c>=y.length)throw new Va(`Array index out of bounds: ${c} > ${y.length-1}.`);if(c!==Math.floor(c))throw new Va(`Array index must be an integer, but found ${c} instead.`);return y[c]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}}class Zr{constructor(o,c){this.type=zn,this.needle=o,this.haystack=c}static parse(o,c){if(o.length!==3)return c.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const y=c.parse(o[1],1,ft),E=c.parse(o[2],2,ft);return y&&E?Wa(y.type,[zn,Gn,qt,Jn,ft])?new Zr(y,E):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_r(y.type)} instead`):null}evaluate(o){const c=this.needle.evaluate(o),y=this.haystack.evaluate(o);if(!y)return!1;if(!Or(c,["boolean","string","number","null"]))throw new Va(`Expected first argument to be of type boolean, string, number or null, but found ${_r(Qr(c))} instead.`);if(!Or(y,["string","array"]))throw new Va(`Expected second argument to be of type array or string, but found ${_r(Qr(y))} instead.`);return y.indexOf(c)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}}class ac{constructor(o,c,y){this.type=qt,this.needle=o,this.haystack=c,this.fromIndex=y}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);const y=c.parse(o[1],1,ft),E=c.parse(o[2],2,ft);if(!y||!E)return null;if(!Wa(y.type,[zn,Gn,qt,Jn,ft]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${_r(y.type)} instead`);if(o.length===4){const I=c.parse(o[3],3,qt);return I?new ac(y,E,I):null}return new ac(y,E)}evaluate(o){const c=this.needle.evaluate(o),y=this.haystack.evaluate(o);if(!Or(c,["boolean","string","number","null"]))throw new Va(`Expected first argument to be of type boolean, string, number or null, but found ${_r(Qr(c))} instead.`);let E;if(this.fromIndex&&(E=this.fromIndex.evaluate(o)),Or(y,["string"])){const I=y.indexOf(c,E);return I===-1?-1:[...y.slice(0,I)].length}if(Or(y,["array"]))return y.indexOf(c,E);throw new Va(`Expected second argument to be of type array or string, but found ${_r(Qr(y))} instead.`)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}}class ea{constructor(o,c,y,E,I,N){this.inputType=o,this.type=c,this.input=y,this.cases=E,this.outputs=I,this.otherwise=N}static parse(o,c){if(o.length<5)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return c.error("Expected an even number of arguments.");let y,E;c.expectedType&&c.expectedType.kind!=="value"&&(E=c.expectedType);const I={},N=[];for(let X=2;X<o.length-1;X+=2){let ae=o[X];const de=o[X+1];Array.isArray(ae)||(ae=[ae]);const ge=c.concat(X);if(ae.length===0)return ge.error("Expected at least one branch label.");for(const Ae of ae){if(typeof Ae!="number"&&typeof Ae!="string")return ge.error("Branch labels must be numbers or strings.");if(typeof Ae=="number"&&Math.abs(Ae)>Number.MAX_SAFE_INTEGER)return ge.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Ae=="number"&&Math.floor(Ae)!==Ae)return ge.error("Numeric branch labels must be integer values.");if(y){if(ge.checkSubtype(y,Qr(Ae)))return null}else y=Qr(Ae);if(I[String(Ae)]!==void 0)return ge.error("Branch labels must be unique.");I[String(Ae)]=N.length}const be=c.parse(de,X,E);if(!be)return null;E=E||be.type,N.push(be)}const F=c.parse(o[1],1,ft);if(!F)return null;const V=c.parse(o[o.length-1],o.length-1,E);return V?F.type.kind!=="value"&&c.concat(1).checkSubtype(y,F.type)?null:new ea(y,E,F,I,N,V):null}evaluate(o){const c=this.input.evaluate(o);return(Qr(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every((o=>o.outputDefined()))&&this.otherwise.outputDefined()}}class Sd{constructor(o,c,y){this.type=o,this.branches=c,this.otherwise=y}static parse(o,c){if(o.length<4)return c.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return c.error("Expected an odd number of arguments.");let y;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);const E=[];for(let N=1;N<o.length-1;N+=2){const F=c.parse(o[N],N,zn);if(!F)return null;const V=c.parse(o[N+1],N+1,y);if(!V)return null;E.push([F,V]),y=y||V.type}const I=c.parse(o[o.length-1],o.length-1,y);if(!I)return null;if(!y)throw new Error("Can't infer output type");return new Sd(y,E,I)}evaluate(o){for(const[c,y]of this.branches)if(c.evaluate(o))return y.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[c,y]of this.branches)o(c),o(y);o(this.otherwise)}outputDefined(){return this.branches.every((([o,c])=>c.outputDefined()))&&this.otherwise.outputDefined()}}class Bo{constructor(o,c,y,E){this.type=o,this.input=c,this.beginIndex=y,this.endIndex=E}static parse(o,c){if(o.length<=2||o.length>=5)return c.error(`Expected 2 or 3 arguments, but found ${o.length-1} instead.`);const y=c.parse(o[1],1,ft),E=c.parse(o[2],2,qt);if(!y||!E)return null;if(!Wa(y.type,[Br(ft),Gn,ft]))return c.error(`Expected first argument to be of type array or string, but found ${_r(y.type)} instead`);if(o.length===4){const I=c.parse(o[3],3,qt);return I?new Bo(y.type,y,E,I):null}return new Bo(y.type,y,E)}evaluate(o){const c=this.input.evaluate(o),y=this.beginIndex.evaluate(o);let E;if(this.endIndex&&(E=this.endIndex.evaluate(o)),Or(c,["string"]))return[...c].slice(y,E).join("");if(Or(c,["array"]))return c.slice(y,E);throw new Va(`Expected first argument to be of type array or string, but found ${_r(Qr(c))} instead.`)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}}function ic(d,o){const c=d.length-1;let y,E,I=0,N=c,F=0;for(;I<=N;)if(F=Math.floor((I+N)/2),y=d[F],E=d[F+1],y<=o){if(F===c||o<E)return F;I=F+1}else{if(!(y>o))throw new Va("Input is not a number.");N=F-1}return 0}class $o{constructor(o,c,y){this.type=o,this.input=c,this.labels=[],this.outputs=[];for(const[E,I]of y)this.labels.push(E),this.outputs.push(I)}static parse(o,c){if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");const y=c.parse(o[1],1,qt);if(!y)return null;const E=[];let I=null;c.expectedType&&c.expectedType.kind!=="value"&&(I=c.expectedType);for(let N=1;N<o.length;N+=2){const F=N===1?-1/0:o[N],V=o[N+1],X=N,ae=N+1;if(typeof F!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',X);if(E.length&&E[E.length-1][0]>=F)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',X);const de=c.parse(V,ae,I);if(!de)return null;I=I||de.type,E.push([F,de])}return new $o(I,y,E)}evaluate(o){const c=this.labels,y=this.outputs;if(c.length===1)return y[0].evaluate(o);const E=this.input.evaluate(o);if(E<=c[0])return y[0].evaluate(o);const I=c.length;return E>=c[I-1]?y[I-1].evaluate(o):y[ic(c,E)].evaluate(o)}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every((o=>o.outputDefined()))}}function Zh(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var sf,Ms,Hy=(function(){if(Ms)return sf;function d(o,c,y,E){this.cx=3*o,this.bx=3*(y-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*c,this.by=3*(E-c)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=c,this.p2x=y,this.p2y=E}return Ms=1,sf=d,d.prototype={sampleCurveX:function(o){return((this.ax*o+this.bx)*o+this.cx)*o},sampleCurveY:function(o){return((this.ay*o+this.by)*o+this.cy)*o},sampleCurveDerivativeX:function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},solveCurveX:function(o,c){if(c===void 0&&(c=1e-6),o<0)return 0;if(o>1)return 1;for(var y=o,E=0;E<8;E++){var I=this.sampleCurveX(y)-o;if(Math.abs(I)<c)return y;var N=this.sampleCurveDerivativeX(y);if(Math.abs(N)<1e-6)break;y-=I/N}var F=0,V=1;for(y=o,E=0;E<20&&(I=this.sampleCurveX(y),!(Math.abs(I-o)<c));E++)o>I?F=y:V=y,y=.5*(V-F)+F;return y},solve:function(o,c){return this.sampleCurveY(this.solveCurveX(o,c))}},sf})(),Qs=Zh(Hy);class Os{constructor(o,c,y,E,I){this.type=o,this.operator=c,this.interpolation=y,this.input=E,this.labels=[],this.outputs=[];for(const[N,F]of I)this.labels.push(N),this.outputs.push(F)}static interpolationFactor(o,c,y,E){let I=0;if(o.name==="exponential")I=Jl(c,o.base,y,E);else if(o.name==="linear")I=Jl(c,1,y,E);else if(o.name==="cubic-bezier"){const N=o.controlPoints;I=new Qs(N[0],N[1],N[2],N[3]).solve(Jl(c,1,y,E))}return I}static parse(o,c){let[y,E,I,...N]=o;if(!Array.isArray(E)||E.length===0)return c.error("Expected an interpolation type expression.",1);if(E[0]==="linear")E={name:"linear"};else if(E[0]==="exponential"){const X=E[1];if(typeof X!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);E={name:"exponential",base:X}}else{if(E[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(E[0])}`,1,0);{const X=E.slice(1);if(X.length!==4||X.some((ae=>typeof ae!="number"||ae<0||ae>1)))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);E={name:"cubic-bezier",controlPoints:X}}}if(o.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(I=c.parse(I,2,qt),!I)return null;const F=[];let V=null;y!=="interpolate-hcl"&&y!=="interpolate-lab"||c.expectedType==Cn?c.expectedType&&c.expectedType.kind!=="value"&&(V=c.expectedType):V=hr;for(let X=0;X<N.length;X+=2){const ae=N[X],de=N[X+1],ge=X+3,be=X+4;if(typeof ae!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ge);if(F.length&&F[F.length-1][0]>=ae)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ge);const Ae=c.parse(de,be,V);if(!Ae)return null;V=V||Ae.type,F.push([ae,Ae])}return Kr(V,qt)||Kr(V,ra)||Kr(V,hr)||Kr(V,Xt)||Kr(V,Yn)||Kr(V,Cn)||Kr(V,br)||Kr(V,Br(qt))?new Os(V,y,E,I,F):c.error(`Type ${_r(V)} is not interpolatable.`)}evaluate(o){const c=this.labels,y=this.outputs;if(c.length===1)return y[0].evaluate(o);const E=this.input.evaluate(o);if(E<=c[0])return y[0].evaluate(o);const I=c.length;if(E>=c[I-1])return y[I-1].evaluate(o);const N=ic(c,E),F=Os.interpolationFactor(this.interpolation,E,c[N],c[N+1]),V=y[N].evaluate(o),X=y[N+1].evaluate(o);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Aa(V,X,F);case"color":return Jr.interpolate(V,X,F);case"padding":return Ji.interpolate(V,X,F);case"colorArray":return Vr.interpolate(V,X,F);case"numberArray":return Si.interpolate(V,X,F);case"variableAnchorOffsetCollection":return Oi.interpolate(V,X,F);case"array":return Fo(V,X,F);case"projectionDefinition":return li.interpolate(V,X,F)}case"interpolate-hcl":switch(this.type.kind){case"color":return Jr.interpolate(V,X,F,"hcl");case"colorArray":return Vr.interpolate(V,X,F,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Jr.interpolate(V,X,F,"lab");case"colorArray":return Vr.interpolate(V,X,F,"lab")}}}eachChild(o){o(this.input);for(const c of this.outputs)o(c)}outputDefined(){return this.outputs.every((o=>o.outputDefined()))}}function Jl(d,o,c,y){const E=y-c,I=d-c;return E===0?0:o===1?I/E:(Math.pow(o,I)-1)/(Math.pow(o,E)-1)}const qa={color:Jr.interpolate,number:Aa,padding:Ji.interpolate,numberArray:Si.interpolate,colorArray:Vr.interpolate,variableAnchorOffsetCollection:Oi.interpolate,array:Fo};class gs{constructor(o,c){this.type=o,this.args=c}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");let y=null;const E=c.expectedType;E&&E.kind!=="value"&&(y=E);const I=[];for(const F of o.slice(1)){const V=c.parse(F,1+I.length,y,void 0,{typeAnnotation:"omit"});if(!V)return null;y=y||V.type,I.push(V)}if(!y)throw new Error("No output type");const N=E&&I.some((F=>Ur(E,F.type)));return new gs(N?ft:y,I)}evaluate(o){let c,y=null,E=0;for(const I of this.args)if(E++,y=I.evaluate(o),y&&y instanceof da&&!y.available&&(c||(c=y.name),y=null,E===this.args.length&&(y=c)),y!==null)break;return y}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every((o=>o.outputDefined()))}}function Eo(d,o){return d==="=="||d==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function ui(d,o,c,y){return y.compare(o,c)===0}function Xa(d,o,c){const y=d!=="=="&&d!=="!=";return class iK{constructor(I,N,F){this.type=zn,this.lhs=I,this.rhs=N,this.collator=F,this.hasUntypedArgument=I.type.kind==="value"||N.type.kind==="value"}static parse(I,N){if(I.length!==3&&I.length!==4)return N.error("Expected two or three arguments.");const F=I[0];let V=N.parse(I[1],1,ft);if(!V)return null;if(!Eo(F,V.type))return N.concat(1).error(`"${F}" comparisons are not supported for type '${_r(V.type)}'.`);let X=N.parse(I[2],2,ft);if(!X)return null;if(!Eo(F,X.type))return N.concat(2).error(`"${F}" comparisons are not supported for type '${_r(X.type)}'.`);if(V.type.kind!==X.type.kind&&V.type.kind!=="value"&&X.type.kind!=="value")return N.error(`Cannot compare types '${_r(V.type)}' and '${_r(X.type)}'.`);y&&(V.type.kind==="value"&&X.type.kind!=="value"?V=new rs(X.type,[V]):V.type.kind!=="value"&&X.type.kind==="value"&&(X=new rs(V.type,[X])));let ae=null;if(I.length===4){if(V.type.kind!=="string"&&X.type.kind!=="string"&&V.type.kind!=="value"&&X.type.kind!=="value")return N.error("Cannot use collator to compare non-string types.");if(ae=N.parse(I[3],3,Ke),!ae)return null}return new iK(V,X,ae)}evaluate(I){const N=this.lhs.evaluate(I),F=this.rhs.evaluate(I);if(y&&this.hasUntypedArgument){const V=Qr(N),X=Qr(F);if(V.kind!==X.kind||V.kind!=="string"&&V.kind!=="number")throw new Va(`Expected arguments for "${d}" to be (string, string) or (number, number), but found (${V.kind}, ${X.kind}) instead.`)}if(this.collator&&!y&&this.hasUntypedArgument){const V=Qr(N),X=Qr(F);if(V.kind!=="string"||X.kind!=="string")return o(I,N,F)}return this.collator?c(I,N,F,this.collator.evaluate(I)):o(I,N,F)}eachChild(I){I(this.lhs),I(this.rhs),this.collator&&I(this.collator)}outputDefined(){return!0}}}const Xh=Xa("==",(function(d,o,c){return o===c}),ui),lf=Xa("!=",(function(d,o,c){return o!==c}),(function(d,o,c,y){return!ui(0,o,c,y)})),Jf=Xa("<",(function(d,o,c){return o<c}),(function(d,o,c,y){return y.compare(o,c)<0})),tm=Xa(">",(function(d,o,c){return o>c}),(function(d,o,c,y){return y.compare(o,c)>0})),Td=Xa("<=",(function(d,o,c){return o<=c}),(function(d,o,c,y){return y.compare(o,c)<=0})),Js=Xa(">=",(function(d,o,c){return o>=c}),(function(d,o,c,y){return y.compare(o,c)>=0}));class zc{constructor(o,c,y){this.type=Ke,this.locale=y,this.caseSensitive=o,this.diacriticSensitive=c}static parse(o,c){if(o.length!==2)return c.error("Expected one argument.");const y=o[1];if(typeof y!="object"||Array.isArray(y))return c.error("Collator options argument must be an object.");const E=c.parse(y["case-sensitive"]!==void 0&&y["case-sensitive"],1,zn);if(!E)return null;const I=c.parse(y["diacritic-sensitive"]!==void 0&&y["diacritic-sensitive"],1,zn);if(!I)return null;let N=null;return y.locale&&(N=c.parse(y.locale,1,Gn),!N)?null:new zc(E,I,N)}evaluate(o){return new ps(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}}class jo{constructor(o,c,y,E,I){this.type=Gn,this.number=o,this.locale=c,this.currency=y,this.minFractionDigits=E,this.maxFractionDigits=I}static parse(o,c){if(o.length!==3)return c.error("Expected two arguments.");const y=c.parse(o[1],1,qt);if(!y)return null;const E=o[2];if(typeof E!="object"||Array.isArray(E))return c.error("NumberFormat options argument must be an object.");let I=null;if(E.locale&&(I=c.parse(E.locale,1,Gn),!I))return null;let N=null;if(E.currency&&(N=c.parse(E.currency,1,Gn),!N))return null;let F=null;if(E["min-fraction-digits"]&&(F=c.parse(E["min-fraction-digits"],1,qt),!F))return null;let V=null;return E["max-fraction-digits"]&&(V=c.parse(E["max-fraction-digits"],1,qt),!V)?null:new jo(y,I,N,F,V)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}}class el{constructor(o){this.type=mt,this.sections=o}static parse(o,c){if(o.length<2)return c.error("Expected at least one argument.");const y=o[1];if(!Array.isArray(y)&&typeof y=="object")return c.error("First argument must be an image or text section.");const E=[];let I=!1;for(let N=1;N<=o.length-1;++N){const F=o[N];if(I&&typeof F=="object"&&!Array.isArray(F)){I=!1;let V=null;if(F["font-scale"]&&(V=c.parse(F["font-scale"],1,qt),!V))return null;let X=null;if(F["text-font"]&&(X=c.parse(F["text-font"],1,Br(Gn)),!X))return null;let ae=null;if(F["text-color"]&&(ae=c.parse(F["text-color"],1,hr),!ae))return null;let de=null;if(F["vertical-align"]){if(typeof F["vertical-align"]=="string"&&!xo.includes(F["vertical-align"]))return c.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${F["vertical-align"]}' instead.`);if(de=c.parse(F["vertical-align"],1,Gn),!de)return null}const ge=E[E.length-1];ge.scale=V,ge.font=X,ge.textColor=ae,ge.verticalAlign=de}else{const V=c.parse(o[N],1,ft);if(!V)return null;const X=V.type.kind;if(X!=="string"&&X!=="value"&&X!=="null"&&X!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");I=!0,E.push({content:V,scale:null,font:null,textColor:null,verticalAlign:null})}}return new el(E)}evaluate(o){return new ji(this.sections.map((c=>{const y=c.content.evaluate(o);return Qr(y)===Wn?new Qi("",y,null,null,null,c.verticalAlign?c.verticalAlign.evaluate(o):null):new Qi(Pa(y),null,c.scale?c.scale.evaluate(o):null,c.font?c.font.evaluate(o).join(","):null,c.textColor?c.textColor.evaluate(o):null,c.verticalAlign?c.verticalAlign.evaluate(o):null)})))}eachChild(o){for(const c of this.sections)o(c.content),c.scale&&o(c.scale),c.font&&o(c.font),c.textColor&&o(c.textColor),c.verticalAlign&&o(c.verticalAlign)}outputDefined(){return!1}}class uf{constructor(o){this.type=Wn,this.input=o}static parse(o,c){if(o.length!==2)return c.error("Expected two arguments.");const y=c.parse(o[1],1,Gn);return y?new uf(y):c.error("No image name provided.")}evaluate(o){const c=this.input.evaluate(o),y=da.fromString(c);return y&&o.availableImages&&(y.available=o.availableImages.indexOf(c)>-1),y}eachChild(o){o(this.input)}outputDefined(){return!1}}class Uc{constructor(o){this.type=qt,this.input=o}static parse(o,c){if(o.length!==2)return c.error(`Expected 1 argument, but found ${o.length-1} instead.`);const y=c.parse(o[1],1);return y?y.type.kind!=="array"&&y.type.kind!=="string"&&y.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${_r(y.type)} instead.`):new Uc(y):null}evaluate(o){const c=this.input.evaluate(o);if(typeof c=="string")return[...c].length;if(Array.isArray(c))return c.length;throw new Va(`Expected value to be of type string or array, but found ${_r(Qr(c))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}}const Di=8192;function oc(d,o){const c=(180+d[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d[1]*Math.PI/360)))/360,E=Math.pow(2,o.z);return[Math.round(c*E*Di),Math.round(y*E*Di)]}function Eu(d,o){const c=Math.pow(2,o.z);return[(E=(d[0]/Di+o.x)/c,360*E-180),(y=(d[1]/Di+o.y)/c,360/Math.PI*Math.atan(Math.exp((180-360*y)*Math.PI/180))-90)];var y,E}function Cd(d,o){d[0]=Math.min(d[0],o[0]),d[1]=Math.min(d[1],o[1]),d[2]=Math.max(d[2],o[0]),d[3]=Math.max(d[3],o[1])}function Gc(d,o){return!(d[0]<=o[0]||d[2]>=o[2]||d[1]<=o[1]||d[3]>=o[3])}function Kh(d,o,c){const y=d[0]-o[0],E=d[1]-o[1],I=d[0]-c[0],N=d[1]-c[1];return y*N-I*E==0&&y*I<=0&&E*N<=0}function Ad(d,o,c,y){return(E=[y[0]-c[0],y[1]-c[1]])[0]*(I=[o[0]-d[0],o[1]-d[1]])[1]-E[1]*I[0]!=0&&!(!eh(d,o,c,y)||!eh(c,y,d,o));var E,I}function bg(d,o,c){for(const y of c)for(let E=0;E<y.length-1;++E)if(Ad(d,o,y[E],y[E+1]))return!0;return!1}function Dl(d,o,c=!1){let y=!1;for(const F of o)for(let V=0;V<F.length-1;V++){if(Kh(d,F[V],F[V+1]))return c;(I=F[V])[1]>(E=d)[1]!=(N=F[V+1])[1]>E[1]&&E[0]<(N[0]-I[0])*(E[1]-I[1])/(N[1]-I[1])+I[0]&&(y=!y)}var E,I,N;return y}function ys(d,o){for(const c of o)if(Dl(d,c))return!0;return!1}function Qh(d,o){for(const c of d)if(!Dl(c,o))return!1;for(let c=0;c<d.length-1;++c)if(bg(d[c],d[c+1],o))return!1;return!0}function kd(d,o){for(const c of o)if(Qh(d,c))return!0;return!1}function eh(d,o,c,y){const E=y[0]-c[0],I=y[1]-c[1],N=(d[0]-c[0])*I-E*(d[1]-c[1]),F=(o[0]-c[0])*I-E*(o[1]-c[1]);return N>0&&F<0||N<0&&F>0}function cf(d,o,c){const y=[];for(let E=0;E<d.length;E++){const I=[];for(let N=0;N<d[E].length;N++){const F=oc(d[E][N],c);Cd(o,F),I.push(F)}y.push(I)}return y}function Id(d,o,c){const y=[];for(let E=0;E<d.length;E++){const I=cf(d[E],o,c);y.push(I)}return y}function df(d,o,c,y){if(d[0]<c[0]||d[0]>c[2]){const E=.5*y;let I=d[0]-c[0]>E?-y:c[0]-d[0]>E?y:0;I===0&&(I=d[0]-c[2]>E?-y:c[2]-d[0]>E?y:0),d[0]+=I}Cd(o,d)}function _g(d,o,c,y){const E=Math.pow(2,y.z)*Di,I=[y.x*Di,y.y*Di],N=[];for(const F of d)for(const V of F){const X=[V.x+I[0],V.y+I[1]];df(X,o,c,E),N.push(X)}return N}function th(d,o,c,y){const E=Math.pow(2,y.z)*Di,I=[y.x*Di,y.y*Di],N=[];for(const V of d){const X=[];for(const ae of V){const de=[ae.x+I[0],ae.y+I[1]];Cd(o,de),X.push(de)}N.push(X)}if(o[2]-o[0]<=E/2){(F=o)[0]=F[1]=1/0,F[2]=F[3]=-1/0;for(const V of N)for(const X of V)df(X,o,c,E)}var F;return N}class Hc{constructor(o,c){this.type=zn,this.geojson=o,this.geometries=c}static parse(o,c){if(o.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(Ql(o[1])){const y=o[1];if(y.type==="FeatureCollection"){const E=[];for(const I of y.features){const{type:N,coordinates:F}=I.geometry;N==="Polygon"&&E.push(F),N==="MultiPolygon"&&E.push(...F)}if(E.length)return new Hc(y,{type:"MultiPolygon",coordinates:E})}else if(y.type==="Feature"){const E=y.geometry.type;if(E==="Polygon"||E==="MultiPolygon")return new Hc(y,y.geometry)}else if(y.type==="Polygon"||y.type==="MultiPolygon")return new Hc(y,y)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return(function(c,y){const E=[1/0,1/0,-1/0,-1/0],I=[1/0,1/0,-1/0,-1/0],N=c.canonicalID();if(y.type==="Polygon"){const F=cf(y.coordinates,I,N),V=_g(c.geometry(),E,I,N);if(!Gc(E,I))return!1;for(const X of V)if(!Dl(X,F))return!1}if(y.type==="MultiPolygon"){const F=Id(y.coordinates,I,N),V=_g(c.geometry(),E,I,N);if(!Gc(E,I))return!1;for(const X of V)if(!ys(X,F))return!1}return!0})(o,this.geometries);if(o.geometryType()==="LineString")return(function(c,y){const E=[1/0,1/0,-1/0,-1/0],I=[1/0,1/0,-1/0,-1/0],N=c.canonicalID();if(y.type==="Polygon"){const F=cf(y.coordinates,I,N),V=th(c.geometry(),E,I,N);if(!Gc(E,I))return!1;for(const X of V)if(!Qh(X,F))return!1}if(y.type==="MultiPolygon"){const F=Id(y.coordinates,I,N),V=th(c.geometry(),E,I,N);if(!Gc(E,I))return!1;for(const X of V)if(!kd(X,F))return!1}return!0})(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Vc=class{constructor(d=[],o=(c,y)=>c<y?-1:c>y?1:0){if(this.data=d,this.length=this.data.length,this.compare=o,this.length>0)for(let c=(this.length>>1)-1;c>=0;c--)this._down(c)}push(d){this.data.push(d),this._up(this.length++)}pop(){if(this.length===0)return;const d=this.data[0],o=this.data.pop();return--this.length>0&&(this.data[0]=o,this._down(0)),d}peek(){return this.data[0]}_up(d){const{data:o,compare:c}=this,y=o[d];for(;d>0;){const E=d-1>>1,I=o[E];if(c(y,I)>=0)break;o[d]=I,d=E}o[d]=y}_down(d){const{data:o,compare:c}=this,y=this.length>>1,E=o[d];for(;d<y;){let I=1+(d<<1);const N=I+1;if(N<this.length&&c(o[N],o[I])<0&&(I=N),c(o[I],E)>=0)break;o[d]=o[I],d=I}o[d]=E}};function nh(d,o,c=0,y=d.length-1,E=ff){for(;y>c;){if(y-c>600){const V=y-c+1,X=o-c+1,ae=Math.log(V),de=.5*Math.exp(2*ae/3),ge=.5*Math.sqrt(ae*de*(V-de)/V)*(X-V/2<0?-1:1);nh(d,o,Math.max(c,Math.floor(o-X*de/V+ge)),Math.min(y,Math.floor(o+(V-X)*de/V+ge)),E)}const I=d[o];let N=c,F=y;for(sc(d,c,o),E(d[y],I)>0&&sc(d,c,y);N<F;){for(sc(d,N,F),N++,F--;E(d[N],I)<0;)N++;for(;E(d[F],I)>0;)F--}E(d[c],I)===0?sc(d,c,F):(F++,sc(d,F,y)),F<=o&&(c=F+1),o<=F&&(y=F-1)}}function sc(d,o,c){const y=d[o];d[o]=d[c],d[c]=y}function ff(d,o){return d<o?-1:d>o?1:0}function Nd(d,o){if(d.length<=1)return[d];const c=[];let y,E;for(const I of d){const N=rh(I);N!==0&&(I.area=Math.abs(N),E===void 0&&(E=N<0),E===N<0?(y&&c.push(y),y=[I]):y.push(I))}if(y&&c.push(y),o>1)for(let I=0;I<c.length;I++)c[I].length<=o||(nh(c[I],o,1,c[I].length-1,lc),c[I]=c[I].slice(0,o));return c}function lc(d,o){return o.area-d.area}function rh(d){let o=0;for(let c,y,E=0,I=d.length,N=I-1;E<I;N=E++)c=d[E],y=d[N],o+=(y.x-c.x)*(c.y+y.y);return o}const Jh=1/298.257223563,ah=Jh*(2-Jh),nm=Math.PI/180;class uc{constructor(o){const c=6378.137*nm*1e3,y=Math.cos(o*nm),E=1/(1-ah*(1-y*y)),I=Math.sqrt(E);this.kx=c*I*y,this.ky=c*I*E*(1-ah)}distance(o,c){const y=this.wrap(o[0]-c[0])*this.kx,E=(o[1]-c[1])*this.ky;return Math.sqrt(y*y+E*E)}pointOnLine(o,c){let y,E,I,N,F=1/0;for(let V=0;V<o.length-1;V++){let X=o[V][0],ae=o[V][1],de=this.wrap(o[V+1][0]-X)*this.kx,ge=(o[V+1][1]-ae)*this.ky,be=0;de===0&&ge===0||(be=(this.wrap(c[0]-X)*this.kx*de+(c[1]-ae)*this.ky*ge)/(de*de+ge*ge),be>1?(X=o[V+1][0],ae=o[V+1][1]):be>0&&(X+=de/this.kx*be,ae+=ge/this.ky*be)),de=this.wrap(c[0]-X)*this.kx,ge=(c[1]-ae)*this.ky;const Ae=de*de+ge*ge;Ae<F&&(F=Ae,y=X,E=ae,I=V,N=be)}return{point:[y,E],index:I,t:Math.max(0,Math.min(1,N))}}wrap(o){for(;o<-180;)o+=360;for(;o>180;)o-=360;return o}}function Li(d,o){return o[0]-d[0]}function cc(d){return d[1]-d[0]+1}function as(d,o){return d[1]>=d[0]&&d[1]<o}function ih(d,o){if(d[0]>d[1])return[null,null];const c=cc(d);if(o){if(c===2)return[d,null];const E=Math.floor(c/2);return[[d[0],d[0]+E],[d[0]+E,d[1]]]}if(c===1)return[d,null];const y=Math.floor(c/2)-1;return[[d[0],d[0]+y],[d[0]+y+1,d[1]]]}function oh(d,o){if(!as(o,d.length))return[1/0,1/0,-1/0,-1/0];const c=[1/0,1/0,-1/0,-1/0];for(let y=o[0];y<=o[1];++y)Cd(c,d[y]);return c}function Ds(d){const o=[1/0,1/0,-1/0,-1/0];for(const c of d)for(const y of c)Cd(o,y);return o}function tl(d){return d[0]!==-1/0&&d[1]!==-1/0&&d[2]!==1/0&&d[3]!==1/0}function R(d,o,c){if(!tl(d)||!tl(o))return NaN;let y=0,E=0;return d[2]<o[0]&&(y=o[0]-d[2]),d[0]>o[2]&&(y=d[0]-o[2]),d[1]>o[3]&&(E=d[1]-o[3]),d[3]<o[1]&&(E=o[1]-d[3]),c.distance([0,0],[y,E])}function p(d,o,c){const y=c.pointOnLine(o,d);return c.distance(d,y.point)}function v(d,o,c,y,E){const I=Math.min(p(d,[c,y],E),p(o,[c,y],E)),N=Math.min(p(c,[d,o],E),p(y,[d,o],E));return Math.min(I,N)}function A(d,o,c,y,E){if(!as(o,d.length)||!as(y,c.length))return 1/0;let I=1/0;for(let N=o[0];N<o[1];++N){const F=d[N],V=d[N+1];for(let X=y[0];X<y[1];++X){const ae=c[X],de=c[X+1];if(Ad(F,V,ae,de))return 0;I=Math.min(I,v(F,V,ae,de,E))}}return I}function H(d,o,c,y,E){if(!as(o,d.length)||!as(y,c.length))return NaN;let I=1/0;for(let N=o[0];N<=o[1];++N)for(let F=y[0];F<=y[1];++F)if(I=Math.min(I,E.distance(d[N],c[F])),I===0)return I;return I}function te(d,o,c){if(Dl(d,o,!0))return 0;let y=1/0;for(const E of o){const I=E[0],N=E[E.length-1];if(I!==N&&(y=Math.min(y,p(d,[N,I],c)),y===0))return y;const F=c.pointOnLine(E,d);if(y=Math.min(y,c.distance(d,F.point)),y===0)return y}return y}function me(d,o,c,y){if(!as(o,d.length))return NaN;for(let I=o[0];I<=o[1];++I)if(Dl(d[I],c,!0))return 0;let E=1/0;for(let I=o[0];I<o[1];++I){const N=d[I],F=d[I+1];for(const V of c)for(let X=0,ae=V.length,de=ae-1;X<ae;de=X++){const ge=V[de],be=V[X];if(Ad(N,F,ge,be))return 0;E=Math.min(E,v(N,F,ge,be,y))}}return E}function Ie(d,o){for(const c of d)for(const y of c)if(Dl(y,o,!0))return!0;return!1}function Ue(d,o,c,y=1/0){const E=Ds(d),I=Ds(o);if(y!==1/0&&R(E,I,c)>=y)return y;if(Gc(E,I)){if(Ie(d,o))return 0}else if(Ie(o,d))return 0;let N=1/0;for(const F of d)for(let V=0,X=F.length,ae=X-1;V<X;ae=V++){const de=F[ae],ge=F[V];for(const be of o)for(let Ae=0,De=be.length,Fe=De-1;Ae<De;Fe=Ae++){const Ye=be[Fe],vt=be[Ae];if(Ad(de,ge,Ye,vt))return 0;N=Math.min(N,v(de,ge,Ye,vt,c))}}return N}function ot(d,o,c,y,E,I){if(!I)return;const N=R(oh(y,I),E,c);N<o&&d.push([N,I,[0,0]])}function Ht(d,o,c,y,E,I,N){if(!I||!N)return;const F=R(oh(y,I),oh(E,N),c);F<o&&d.push([F,I,N])}function Wt(d,o,c,y,E=1/0){let I=Math.min(y.distance(d[0],c[0][0]),E);if(I===0)return I;const N=new Vc([[0,[0,d.length-1],[0,0]]],Li),F=Ds(c);for(;N.length>0;){const V=N.pop();if(V[0]>=I)continue;const X=V[1],ae=o?50:100;if(cc(X)<=ae){if(!as(X,d.length))return NaN;if(o){const de=me(d,X,c,y);if(isNaN(de)||de===0)return de;I=Math.min(I,de)}else for(let de=X[0];de<=X[1];++de){const ge=te(d[de],c,y);if(I=Math.min(I,ge),I===0)return 0}}else{const de=ih(X,o);ot(N,I,y,d,F,de[0]),ot(N,I,y,d,F,de[1])}}return I}function Fn(d,o,c,y,E,I=1/0){let N=Math.min(I,E.distance(d[0],c[0]));if(N===0)return N;const F=new Vc([[0,[0,d.length-1],[0,c.length-1]]],Li);for(;F.length>0;){const V=F.pop();if(V[0]>=N)continue;const X=V[1],ae=V[2],de=o?50:100,ge=y?50:100;if(cc(X)<=de&&cc(ae)<=ge){if(!as(X,d.length)&&as(ae,c.length))return NaN;let be;if(o&&y)be=A(d,X,c,ae,E),N=Math.min(N,be);else if(o&&!y){const Ae=d.slice(X[0],X[1]+1);for(let De=ae[0];De<=ae[1];++De)if(be=p(c[De],Ae,E),N=Math.min(N,be),N===0)return N}else if(!o&&y){const Ae=c.slice(ae[0],ae[1]+1);for(let De=X[0];De<=X[1];++De)if(be=p(d[De],Ae,E),N=Math.min(N,be),N===0)return N}else be=H(d,X,c,ae,E),N=Math.min(N,be)}else{const be=ih(X,o),Ae=ih(ae,y);Ht(F,N,E,d,c,be[0],Ae[0]),Ht(F,N,E,d,c,be[0],Ae[1]),Ht(F,N,E,d,c,be[1],Ae[0]),Ht(F,N,E,d,c,be[1],Ae[1])}}return N}function pr(d){return d.type==="MultiPolygon"?d.coordinates.map((o=>({type:"Polygon",coordinates:o}))):d.type==="MultiLineString"?d.coordinates.map((o=>({type:"LineString",coordinates:o}))):d.type==="MultiPoint"?d.coordinates.map((o=>({type:"Point",coordinates:o}))):[d]}class xr{constructor(o,c){this.type=qt,this.geojson=o,this.geometries=c}static parse(o,c){if(o.length!==2)return c.error(`'distance' expression requires exactly one argument, but found ${o.length-1} instead.`);if(Ql(o[1])){const y=o[1];if(y.type==="FeatureCollection")return new xr(y,y.features.map((E=>pr(E.geometry))).flat());if(y.type==="Feature")return new xr(y,pr(y.geometry));if("type"in y&&"coordinates"in y)return new xr(y,pr(y))}return c.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return(function(c,y){const E=c.geometry(),I=E.flat().map((V=>Eu([V.x,V.y],c.canonical)));if(E.length===0)return NaN;const N=new uc(I[0][1]);let F=1/0;for(const V of y){switch(V.type){case"Point":F=Math.min(F,Fn(I,!1,[V.coordinates],!1,N,F));break;case"LineString":F=Math.min(F,Fn(I,!1,V.coordinates,!0,N,F));break;case"Polygon":F=Math.min(F,Wt(I,!1,V.coordinates,N,F))}if(F===0)return F}return F})(o,this.geometries);if(o.geometryType()==="LineString")return(function(c,y){const E=c.geometry(),I=E.flat().map((V=>Eu([V.x,V.y],c.canonical)));if(E.length===0)return NaN;const N=new uc(I[0][1]);let F=1/0;for(const V of y){switch(V.type){case"Point":F=Math.min(F,Fn(I,!0,[V.coordinates],!1,N,F));break;case"LineString":F=Math.min(F,Fn(I,!0,V.coordinates,!0,N,F));break;case"Polygon":F=Math.min(F,Wt(I,!0,V.coordinates,N,F))}if(F===0)return F}return F})(o,this.geometries);if(o.geometryType()==="Polygon")return(function(c,y){const E=c.geometry();if(E.length===0||E[0].length===0)return NaN;const I=Nd(E,0).map((V=>V.map((X=>X.map((ae=>Eu([ae.x,ae.y],c.canonical))))))),N=new uc(I[0][0][0][1]);let F=1/0;for(const V of y)for(const X of I){switch(V.type){case"Point":F=Math.min(F,Wt([V.coordinates],!1,X,N,F));break;case"LineString":F=Math.min(F,Wt(V.coordinates,!0,X,N,F));break;case"Polygon":F=Math.min(F,Ue(X,V.coordinates,N,F))}if(F===0)return F}return F})(o,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Dr{constructor(o){this.type=ft,this.key=o}static parse(o,c){if(o.length!==2)return c.error(`Expected 1 argument, but found ${o.length-1} instead.`);const y=o[1];return y==null?c.error("Global state property must be defined."):typeof y!="string"?c.error(`Global state property must be string, but found ${typeof o[1]} instead.`):new Dr(y)}evaluate(o){var c;const y=(c=o.globals)===null||c===void 0?void 0:c.globalState;return y&&Object.keys(y).length!==0?Lo(y,this.key):null}eachChild(){}outputDefined(){return!1}}const ga={"==":Xh,"!=":lf,">":tm,"<":Jf,">=":Js,"<=":Td,array:rs,at:Gr,boolean:rs,case:Sd,coalesce:gs,collator:zc,format:el,image:uf,in:Zr,"index-of":ac,interpolate:Os,"interpolate-hcl":Os,"interpolate-lab":Os,length:Uc,let:ia,literal:gi,match:ea,number:rs,"number-format":jo,object:rs,slice:Bo,step:$o,string:rs,"to-boolean":ms,"to-color":ms,"to-number":ms,"to-string":ms,var:xu,within:Hc,distance:xr,"global-state":Dr};class yr{constructor(o,c,y,E){this.name=o,this.type=c,this._evaluate=y,this.args=E}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}static parse(o,c){const y=o[0],E=yr.definitions[y];if(!E)return c.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0);const I=Array.isArray(E)?E[0]:E.type,N=Array.isArray(E)?[[E[1],E[2]]]:E.overloads,F=N.filter((([X])=>!Array.isArray(X)||X.length===o.length-1));let V=null;for(const[X,ae]of F){V=new Rs(c.registry,wo,c.path,null,c.scope);const de=[];let ge=!1;for(let be=1;be<o.length;be++){const Ae=o[be],De=Array.isArray(X)?X[be-1]:X.type,Fe=V.parse(Ae,1+de.length,De);if(!Fe){ge=!0;break}de.push(Fe)}if(!ge)if(Array.isArray(X)&&X.length!==de.length)V.error(`Expected ${X.length} arguments, but found ${de.length} instead.`);else{for(let be=0;be<de.length;be++){const Ae=Array.isArray(X)?X[be]:X.type,De=de[be];V.concat(be+1).checkSubtype(Ae,De.type)}if(V.errors.length===0)return new yr(y,I,ae,de)}}if(F.length===1)c.errors.push(...V.errors);else{const X=(F.length?F:N).map((([de])=>{return ge=de,Array.isArray(ge)?`(${ge.map(_r).join(", ")})`:`(${_r(ge.type)}...)`;var ge})).join(" | "),ae=[];for(let de=1;de<o.length;de++){const ge=c.parse(o[de],1+ae.length);if(!ge)return null;ae.push(_r(ge.type))}c.error(`Expected arguments of type ${X}, but found (${ae.join(", ")}) instead.`)}return null}static register(o,c){yr.definitions=c;for(const y in c)o[y]=yr}}function oi(d,[o,c,y,E]){o=o.evaluate(d),c=c.evaluate(d),y=y.evaluate(d);const I=E?E.evaluate(d):1,N=Ns(o,c,y,I);if(N)throw new Va(N);return new Jr(o/255,c/255,y/255,I,!1)}function to(d,o){return d in o}function Ka(d,o){const c=o[d];return c===void 0?null:c}function vs(d){return{type:d}}function wo(d){if(d instanceof xu)return wo(d.boundExpression);if(d instanceof yr&&d.name==="error"||d instanceof zc||d instanceof Hc||d instanceof xr||d instanceof Dr)return!1;const o=d instanceof ms||d instanceof rs;let c=!0;return d.eachChild((y=>{c=o?c&&wo(y):c&&y instanceof gi})),!!c&&wu(d)&&Ls(d,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function wu(d){if(d instanceof yr&&(d.name==="get"&&d.args.length===1||d.name==="feature-state"||d.name==="has"&&d.args.length===1||d.name==="properties"||d.name==="geometry-type"||d.name==="id"||/^filter-/.test(d.name))||d instanceof Hc||d instanceof xr)return!1;let o=!0;return d.eachChild((c=>{o&&!wu(c)&&(o=!1)})),o}function eu(d){if(d instanceof yr&&d.name==="feature-state")return!1;let o=!0;return d.eachChild((c=>{o&&!eu(c)&&(o=!1)})),o}function Ls(d,o){if(d instanceof yr&&o.indexOf(d.name)>=0)return!1;let c=!0;return d.eachChild((y=>{c&&!Ls(y,o)&&(c=!1)})),c}function dc(d){return{result:"success",value:d}}function Su(d){return{result:"error",value:d}}function bs(d){return d["property-type"]==="data-driven"||d["property-type"]==="cross-faded-data-driven"}function hf(d){return!!d.expression&&d.expression.parameters.indexOf("zoom")>-1}function fc(d){return!!d.expression&&d.expression.interpolated}function ca(d){return d instanceof Number?"number":d instanceof String?"string":d instanceof Boolean?"boolean":Array.isArray(d)?"array":d===null?"null":typeof d}function rm(d){return typeof d=="object"&&d!==null&&!Array.isArray(d)&&Qr(d)===ua}function Ps(d){return d}function qc(d,o){const c=d.stops&&typeof d.stops[0][0]=="object",y=c||!(c||d.property!==void 0),E=d.type||(fc(o)?"exponential":"interval"),I=(function(ae){switch(ae.type){case"color":return Jr.parse;case"padding":return Ji.parse;case"numberArray":return Si.parse;case"colorArray":return Vr.parse;default:return null}})(o);if(I&&((d=Pn({},d)).stops&&(d.stops=d.stops.map((ae=>[ae[0],I(ae[1])]))),d.default=I(d.default?d.default:o.default)),d.colorSpace&&(N=d.colorSpace)!=="rgb"&&N!=="hcl"&&N!=="lab")throw new Error(`Unknown color space: "${d.colorSpace}"`);var N;const F=(function(ae){switch(ae){case"exponential":return pf;case"interval":return xg;case"categorical":return yv;case"identity":return ep;default:throw new Error(`Unknown function type "${ae}"`)}})(E);let V,X;if(E==="categorical"){V=Object.create(null);for(const ae of d.stops)V[ae[0]]=ae[1];X=typeof d.stops[0][0]}if(c){const ae={},de=[];for(let Ae=0;Ae<d.stops.length;Ae++){const De=d.stops[Ae],Fe=De[0].zoom;ae[Fe]===void 0&&(ae[Fe]={zoom:Fe,type:d.type,property:d.property,default:d.default,stops:[]},de.push(Fe)),ae[Fe].stops.push([De[0].value,De[1]])}const ge=[];for(const Ae of de)ge.push([ae[Ae].zoom,qc(ae[Ae],o)]);const be={name:"linear"};return{kind:"composite",interpolationType:be,interpolationFactor:Os.interpolationFactor.bind(void 0,be),zoomStops:ge.map((Ae=>Ae[0])),evaluate:({zoom:Ae},De)=>pf({stops:ge,base:d.base},o,Ae).evaluate(Ae,De)}}if(y){const ae=E==="exponential"?{name:"exponential",base:d.base!==void 0?d.base:1}:null;return{kind:"camera",interpolationType:ae,interpolationFactor:Os.interpolationFactor.bind(void 0,ae),zoomStops:d.stops.map((de=>de[0])),evaluate:({zoom:de})=>F(d,o,de,V,X)}}return{kind:"source",evaluate(ae,de){const ge=de&&de.properties?de.properties[d.property]:void 0;return ge===void 0?nl(d.default,o.default):F(d,o,ge,V,X)}}}function nl(d,o,c){return d!==void 0?d:o!==void 0?o:c!==void 0?c:void 0}function yv(d,o,c,y,E){return nl(typeof c===E?y[c]:void 0,d.default,o.default)}function xg(d,o,c){if(ca(c)!=="number")return nl(d.default,o.default);const y=d.stops.length;if(y===1||c<=d.stops[0][0])return d.stops[0][1];if(c>=d.stops[y-1][0])return d.stops[y-1][1];const E=ic(d.stops.map((I=>I[0])),c);return d.stops[E][1]}function pf(d,o,c){const y=d.base!==void 0?d.base:1;if(ca(c)!=="number")return nl(d.default,o.default);const E=d.stops.length;if(E===1||c<=d.stops[0][0])return d.stops[0][1];if(c>=d.stops[E-1][0])return d.stops[E-1][1];const I=ic(d.stops.map((ae=>ae[0])),c),N=(function(ae,de,ge,be){const Ae=be-ge,De=ae-ge;return Ae===0?0:de===1?De/Ae:(Math.pow(de,De)-1)/(Math.pow(de,Ae)-1)})(c,y,d.stops[I][0],d.stops[I+1][0]),F=d.stops[I][1],V=d.stops[I+1][1],X=qa[o.type]||Ps;return typeof F.evaluate=="function"?{evaluate(...ae){const de=F.evaluate.apply(void 0,ae),ge=V.evaluate.apply(void 0,ae);if(de!==void 0&&ge!==void 0)return X(de,ge,N,d.colorSpace)}}:X(F,V,N,d.colorSpace)}function ep(d,o,c){switch(o.type){case"color":c=Jr.parse(c);break;case"formatted":c=ji.fromString(c.toString());break;case"resolvedImage":c=da.fromString(c.toString());break;case"padding":c=Ji.parse(c);break;case"colorArray":c=Vr.parse(c);break;case"numberArray":c=Si.parse(c);break;default:ca(c)===o.type||o.type==="enum"&&o.values[c]||(c=void 0)}return nl(c,d.default,o.default)}yr.register(ga,{error:[{kind:"error"},[Gn],(d,[o])=>{throw new Va(o.evaluate(d))}],typeof:[Gn,[ft],(d,[o])=>_r(Qr(o.evaluate(d)))],"to-rgba":[Br(qt,4),[hr],(d,[o])=>{const[c,y,E,I]=o.evaluate(d).rgb;return[255*c,255*y,255*E,I]}],rgb:[hr,[qt,qt,qt],oi],rgba:[hr,[qt,qt,qt,qt],oi],has:{type:zn,overloads:[[[Gn],(d,[o])=>to(o.evaluate(d),d.properties())],[[Gn,ua],(d,[o,c])=>to(o.evaluate(d),c.evaluate(d))]]},get:{type:ft,overloads:[[[Gn],(d,[o])=>Ka(o.evaluate(d),d.properties())],[[Gn,ua],(d,[o,c])=>Ka(o.evaluate(d),c.evaluate(d))]]},"feature-state":[ft,[Gn],(d,[o])=>Ka(o.evaluate(d),d.featureState||{})],properties:[ua,[],d=>d.properties()],"geometry-type":[Gn,[],d=>d.geometryType()],id:[ft,[],d=>d.id()],zoom:[qt,[],d=>d.globals.zoom],"heatmap-density":[qt,[],d=>d.globals.heatmapDensity||0],elevation:[qt,[],d=>d.globals.elevation||0],"line-progress":[qt,[],d=>d.globals.lineProgress||0],accumulated:[ft,[],d=>d.globals.accumulated===void 0?null:d.globals.accumulated],"+":[qt,vs(qt),(d,o)=>{let c=0;for(const y of o)c+=y.evaluate(d);return c}],"*":[qt,vs(qt),(d,o)=>{let c=1;for(const y of o)c*=y.evaluate(d);return c}],"-":{type:qt,overloads:[[[qt,qt],(d,[o,c])=>o.evaluate(d)-c.evaluate(d)],[[qt],(d,[o])=>-o.evaluate(d)]]},"/":[qt,[qt,qt],(d,[o,c])=>o.evaluate(d)/c.evaluate(d)],"%":[qt,[qt,qt],(d,[o,c])=>o.evaluate(d)%c.evaluate(d)],ln2:[qt,[],()=>Math.LN2],pi:[qt,[],()=>Math.PI],e:[qt,[],()=>Math.E],"^":[qt,[qt,qt],(d,[o,c])=>Math.pow(o.evaluate(d),c.evaluate(d))],sqrt:[qt,[qt],(d,[o])=>Math.sqrt(o.evaluate(d))],log10:[qt,[qt],(d,[o])=>Math.log(o.evaluate(d))/Math.LN10],ln:[qt,[qt],(d,[o])=>Math.log(o.evaluate(d))],log2:[qt,[qt],(d,[o])=>Math.log(o.evaluate(d))/Math.LN2],sin:[qt,[qt],(d,[o])=>Math.sin(o.evaluate(d))],cos:[qt,[qt],(d,[o])=>Math.cos(o.evaluate(d))],tan:[qt,[qt],(d,[o])=>Math.tan(o.evaluate(d))],asin:[qt,[qt],(d,[o])=>Math.asin(o.evaluate(d))],acos:[qt,[qt],(d,[o])=>Math.acos(o.evaluate(d))],atan:[qt,[qt],(d,[o])=>Math.atan(o.evaluate(d))],min:[qt,vs(qt),(d,o)=>Math.min(...o.map((c=>c.evaluate(d))))],max:[qt,vs(qt),(d,o)=>Math.max(...o.map((c=>c.evaluate(d))))],abs:[qt,[qt],(d,[o])=>Math.abs(o.evaluate(d))],round:[qt,[qt],(d,[o])=>{const c=o.evaluate(d);return c<0?-Math.round(-c):Math.round(c)}],floor:[qt,[qt],(d,[o])=>Math.floor(o.evaluate(d))],ceil:[qt,[qt],(d,[o])=>Math.ceil(o.evaluate(d))],"filter-==":[zn,[Gn,ft],(d,[o,c])=>d.properties()[o.value]===c.value],"filter-id-==":[zn,[ft],(d,[o])=>d.id()===o.value],"filter-type-==":[zn,[Gn],(d,[o])=>d.geometryType()===o.value],"filter-<":[zn,[Gn,ft],(d,[o,c])=>{const y=d.properties()[o.value],E=c.value;return typeof y==typeof E&&y<E}],"filter-id-<":[zn,[ft],(d,[o])=>{const c=d.id(),y=o.value;return typeof c==typeof y&&c<y}],"filter->":[zn,[Gn,ft],(d,[o,c])=>{const y=d.properties()[o.value],E=c.value;return typeof y==typeof E&&y>E}],"filter-id->":[zn,[ft],(d,[o])=>{const c=d.id(),y=o.value;return typeof c==typeof y&&c>y}],"filter-<=":[zn,[Gn,ft],(d,[o,c])=>{const y=d.properties()[o.value],E=c.value;return typeof y==typeof E&&y<=E}],"filter-id-<=":[zn,[ft],(d,[o])=>{const c=d.id(),y=o.value;return typeof c==typeof y&&c<=y}],"filter->=":[zn,[Gn,ft],(d,[o,c])=>{const y=d.properties()[o.value],E=c.value;return typeof y==typeof E&&y>=E}],"filter-id->=":[zn,[ft],(d,[o])=>{const c=d.id(),y=o.value;return typeof c==typeof y&&c>=y}],"filter-has":[zn,[ft],(d,[o])=>o.value in d.properties()],"filter-has-id":[zn,[],d=>d.id()!==null&&d.id()!==void 0],"filter-type-in":[zn,[Br(Gn)],(d,[o])=>o.value.indexOf(d.geometryType())>=0],"filter-id-in":[zn,[Br(ft)],(d,[o])=>o.value.indexOf(d.id())>=0],"filter-in-small":[zn,[Gn,Br(ft)],(d,[o,c])=>c.value.indexOf(d.properties()[o.value])>=0],"filter-in-large":[zn,[Gn,Br(ft)],(d,[o,c])=>(function(y,E,I,N){for(;I<=N;){const F=I+N>>1;if(E[F]===y)return!0;E[F]>y?N=F-1:I=F+1}return!1})(d.properties()[o.value],c.value,0,c.value.length-1)],all:{type:zn,overloads:[[[zn,zn],(d,[o,c])=>o.evaluate(d)&&c.evaluate(d)],[vs(zn),(d,o)=>{for(const c of o)if(!c.evaluate(d))return!1;return!0}]]},any:{type:zn,overloads:[[[zn,zn],(d,[o,c])=>o.evaluate(d)||c.evaluate(d)],[vs(zn),(d,o)=>{for(const c of o)if(c.evaluate(d))return!0;return!1}]]},"!":[zn,[zn],(d,[o])=>!o.evaluate(d)],"is-supported-script":[zn,[Gn],(d,[o])=>{const c=d.globals&&d.globals.isSupportedScript;return!c||c(o.evaluate(d))}],upcase:[Gn,[Gn],(d,[o])=>o.evaluate(d).toUpperCase()],downcase:[Gn,[Gn],(d,[o])=>o.evaluate(d).toLowerCase()],concat:[Gn,vs(ft),(d,o)=>o.map((c=>Pa(c.evaluate(d)))).join("")],"resolved-locale":[Gn,[Ke],(d,[o])=>o.evaluate(d).resolvedLocale()]});class sh{constructor(o,c,y){this.expression=o,this._warningHistory={},this._evaluator=new rc,this._defaultValue=c?(function(E){if(E.type==="color"&&rm(E.default))return new Jr(0,0,0,0);switch(E.type){case"color":return Jr.parse(E.default)||null;case"padding":return Ji.parse(E.default)||null;case"numberArray":return Si.parse(E.default)||null;case"colorArray":return Vr.parse(E.default)||null;case"variableAnchorOffsetCollection":return Oi.parse(E.default)||null;case"projectionDefinition":return li.parse(E.default)||null;default:return E.default===void 0?null:E.default}})(c):null,this._enumValues=c&&c.type==="enum"?c.values:null,this._globalState=y}evaluateWithoutErrorHandling(o,c,y,E,I,N){return this._globalState&&(o=xs(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=c,this._evaluator.featureState=y,this._evaluator.canonical=E,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=N,this.expression.evaluate(this._evaluator)}evaluate(o,c,y,E,I,N){this._globalState&&(o=xs(o,this._globalState)),this._evaluator.globals=o,this._evaluator.feature=c||null,this._evaluator.featureState=y||null,this._evaluator.canonical=E,this._evaluator.availableImages=I||null,this._evaluator.formattedSection=N||null;try{const F=this.expression.evaluate(this._evaluator);if(F==null||typeof F=="number"&&F!=F)return this._defaultValue;if(this._enumValues&&!(F in this._enumValues))throw new Va(`Expected value to be one of ${Object.keys(this._enumValues).map((V=>JSON.stringify(V))).join(", ")}, but found ${JSON.stringify(F)} instead.`);return F}catch(F){return this._warningHistory[F.message]||(this._warningHistory[F.message]=!0,typeof console<"u"&&console.warn(F.message)),this._defaultValue}}}function Yc(d){return Array.isArray(d)&&d.length>0&&typeof d[0]=="string"&&d[0]in ga}function am(d,o,c){const y=new Rs(ga,wo,[],o?(function(I){const N={color:hr,string:Gn,number:qt,enum:Gn,boolean:zn,formatted:mt,padding:Xt,numberArray:Yn,colorArray:Cn,projectionDefinition:ra,resolvedImage:Wn,variableAnchorOffsetCollection:br};return I.type==="array"?Br(N[I.value]||ft,I.length):N[I.type]})(o):void 0),E=y.parse(d,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return E?dc(new sh(E,o,c)):Su(y.errors)}class rl{constructor(o,c,y){this.kind=o,this._styleExpression=c,this.isStateDependent=o!=="constant"&&!eu(c.expression),this.globalStateRefs=_s(c.expression),this._globalState=y}evaluateWithoutErrorHandling(o,c,y,E,I,N){return this._globalState&&(o=xs(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,c,y,E,I,N)}evaluate(o,c,y,E,I,N){return this._globalState&&(o=xs(o,this._globalState)),this._styleExpression.evaluate(o,c,y,E,I,N)}}class mf{constructor(o,c,y,E,I){this.kind=o,this.zoomStops=y,this._styleExpression=c,this.isStateDependent=o!=="camera"&&!eu(c.expression),this.globalStateRefs=_s(c.expression),this.interpolationType=E,this._globalState=I}evaluateWithoutErrorHandling(o,c,y,E,I,N){return this._globalState&&(o=xs(o,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(o,c,y,E,I,N)}evaluate(o,c,y,E,I,N){return this._globalState&&(o=xs(o,this._globalState)),this._styleExpression.evaluate(o,c,y,E,I,N)}interpolationFactor(o,c,y){return this.interpolationType?Os.interpolationFactor(this.interpolationType,o,c,y):0}}function gf(d,o,c){const y=am(d,o,c);if(y.result==="error")return y;const E=y.value.expression,I=wu(E);if(!I&&!bs(o))return Su([new nr("","data expressions not supported")]);const N=Ls(E,["zoom"]);if(!N&&!hf(o))return Su([new nr("","zoom expressions not supported")]);const F=no(E);return F||N?F instanceof nr?Su([F]):F instanceof Os&&!fc(o)?Su([new nr("",'"interpolate" expressions cannot be used with this property')]):dc(F?new mf(I?"camera":"composite",y.value,F.labels,F instanceof Os?F.interpolation:void 0,c):new rl(I?"constant":"source",y.value,c)):Su([new nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class zi{constructor(o,c){this._parameters=o,this._specification=c,Pn(this,qc(this._parameters,this._specification))}static deserialize(o){return new zi(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function no(d){let o=null;if(d instanceof ia)o=no(d.result);else if(d instanceof gs){for(const c of d.args)if(o=no(c),o)break}else(d instanceof $o||d instanceof Os)&&d.input instanceof yr&&d.input.name==="zoom"&&(o=d);return o instanceof nr||d.eachChild((c=>{const y=no(c);y instanceof nr?o=y:!o&&y?o=new nr("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):o&&y&&o!==y&&(o=new nr("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),o}function _s(d,o=new Set){return d instanceof Dr&&o.add(d.key),d.eachChild((c=>{_s(c,o)})),o}function xs(d,o){const{zoom:c,heatmapDensity:y,elevation:E,lineProgress:I,isSupportedScript:N,accumulated:F}=d??{};return{zoom:c,heatmapDensity:y,elevation:E,lineProgress:I,isSupportedScript:N,accumulated:F,globalState:o}}function hc(d){if(d===!0||d===!1)return!0;if(!Array.isArray(d)||d.length===0)return!1;switch(d[0]){case"has":return d.length>=2&&d[1]!=="$id"&&d[1]!=="$type";case"in":return d.length>=3&&(typeof d[1]!="string"||Array.isArray(d[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return d.length!==3||Array.isArray(d[1])||Array.isArray(d[2]);case"any":case"all":for(const o of d.slice(1))if(!hc(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}const Wc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function al(d,o){if(d==null)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};hc(d)||(d=Tu(d));const c=am(d,Wc,o);if(c.result==="error")throw new Error(c.value.map((y=>`${y.key}: ${y.message}`)).join(", "));return{filter:(y,E,I)=>c.value.evaluate(y,E,{},I),needGeometry:im(d),getGlobalStateRefs:()=>_s(c.value.expression)}}function tu(d,o){return d<o?-1:d>o?1:0}function im(d){if(!Array.isArray(d))return!1;if(d[0]==="within"||d[0]==="distance")return!0;for(let o=1;o<d.length;o++)if(im(d[o]))return!0;return!1}function Tu(d){if(!d)return!0;const o=d[0];return d.length<=1?o!=="any":o==="=="?Zc(d[1],d[2],"=="):o==="!="?Ya(Zc(d[1],d[2],"==")):o==="<"||o===">"||o==="<="||o===">="?Zc(d[1],d[2],o):o==="any"?(c=d.slice(1),["any"].concat(c.map(Tu))):o==="all"?["all"].concat(d.slice(1).map(Tu)):o==="none"?["all"].concat(d.slice(1).map(Tu).map(Ya)):o==="in"?lh(d[1],d.slice(2)):o==="!in"?Ya(lh(d[1],d.slice(2))):o==="has"?So(d[1]):o!=="!has"||Ya(So(d[1]));var c}function Zc(d,o,c){switch(d){case"$type":return[`filter-type-${c}`,o];case"$id":return[`filter-id-${c}`,o];default:return[`filter-${c}`,d,o]}}function lh(d,o){if(o.length===0)return!1;switch(d){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some((c=>typeof c!=typeof o[0]))?["filter-in-large",d,["literal",o.sort(tu)]]:["filter-in-small",d,["literal",o]]}}function So(d){switch(d){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",d]}}function Ya(d){return["!",d]}function ka(d){const o=typeof d;if(o==="number"||o==="boolean"||o==="string"||d==null)return JSON.stringify(d);if(Array.isArray(d)){let E="[";for(const I of d)E+=`${ka(I)},`;return`${E}]`}const c=Object.keys(d).sort();let y="{";for(let E=0;E<c.length;E++)y+=`${JSON.stringify(c[E])}:${ka(d[c[E]])},`;return`${y}}`}function Rd(d){let o="";for(const c of wn)o+=`/${ka(d[c])}`;return o}function nu(d){const o=d.value;return o?[new Ot(d.key,o,"constants have been deprecated as of v8")]:[]}function qi(d){return d instanceof Number||d instanceof String||d instanceof Boolean?d.valueOf():d}function Ll(d){if(Array.isArray(d))return d.map(Ll);if(d instanceof Object&&!(d instanceof Number||d instanceof String||d instanceof Boolean)){const o={};for(const c in d)o[c]=Ll(d[c]);return o}return qi(d)}function il(d){const o=d.key,c=d.value,y=d.valueSpec||{},E=d.objectElementValidators||{},I=d.style,N=d.styleSpec,F=d.validateSpec;let V=[];const X=ca(c);if(X!=="object")return[new Ot(o,c,`object expected, ${X} found`)];for(const ae in c){const de=ae.split(".")[0],ge=Lo(y,de)||y["*"];let be;if(Lo(E,de))be=E[de];else if(Lo(y,de))be=F;else if(E["*"])be=E["*"];else{if(!y["*"]){V.push(new Ot(o,c[ae],`unknown property "${ae}"`));continue}be=F}V=V.concat(be({key:(o&&`${o}.`)+ae,value:c[ae],valueSpec:ge,style:I,styleSpec:N,object:c,objectKey:ae,validateSpec:F},c))}for(const ae in y)E[ae]||y[ae].required&&y[ae].default===void 0&&c[ae]===void 0&&V.push(new Ot(o,c,`missing required property "${ae}"`));return V}function Md(d){const o=d.value,c=d.valueSpec,y=d.style,E=d.styleSpec,I=d.key,N=d.arrayElementValidator||d.validateSpec;if(ca(o)!=="array")return[new Ot(I,o,`array expected, ${ca(o)} found`)];if(c.length&&o.length!==c.length)return[new Ot(I,o,`array length ${c.length} expected, length ${o.length} found`)];if(c["min-length"]&&o.length<c["min-length"])return[new Ot(I,o,`array length at least ${c["min-length"]} expected, length ${o.length} found`)];let F={type:c.value,values:c.values};E.$version<7&&(F.function=c.function),ca(c.value)==="object"&&(F=c.value);let V=[];for(let X=0;X<o.length;X++)V=V.concat(N({array:o,arrayIndex:X,value:o[X],valueSpec:F,validateSpec:d.validateSpec,style:y,styleSpec:E,key:`${I}[${X}]`}));return V}function pc(d){const o=d.key,c=d.value,y=d.valueSpec;let E=ca(c);return E==="number"&&c!=c&&(E="NaN"),E!=="number"?[new Ot(o,c,`number expected, ${E} found`)]:"minimum"in y&&c<y.minimum?[new Ot(o,c,`${c} is less than the minimum value ${y.minimum}`)]:"maximum"in y&&c>y.maximum?[new Ot(o,c,`${c} is greater than the maximum value ${y.maximum}`)]:[]}function Je(d){const o=d.valueSpec,c=qi(d.value.type);let y,E,I,N={};const F=c!=="categorical"&&d.value.property===void 0,V=!F,X=ca(d.value.stops)==="array"&&ca(d.value.stops[0])==="array"&&ca(d.value.stops[0][0])==="object",ae=il({key:d.key,value:d.value,valueSpec:d.styleSpec.function,validateSpec:d.validateSpec,style:d.style,styleSpec:d.styleSpec,objectElementValidators:{stops:function(be){if(c==="identity")return[new Ot(be.key,be.value,'identity function may not have a "stops" property')];let Ae=[];const De=be.value;return Ae=Ae.concat(Md({key:be.key,value:De,valueSpec:be.valueSpec,validateSpec:be.validateSpec,style:be.style,styleSpec:be.styleSpec,arrayElementValidator:de})),ca(De)==="array"&&De.length===0&&Ae.push(new Ot(be.key,De,"array must have at least one stop")),Ae},default:function(be){return be.validateSpec({key:be.key,value:be.value,valueSpec:o,validateSpec:be.validateSpec,style:be.style,styleSpec:be.styleSpec})}}});return c==="identity"&&F&&ae.push(new Ot(d.key,d.value,'missing required property "property"')),c==="identity"||d.value.stops||ae.push(new Ot(d.key,d.value,'missing required property "stops"')),c==="exponential"&&d.valueSpec.expression&&!fc(d.valueSpec)&&ae.push(new Ot(d.key,d.value,"exponential functions not supported")),d.styleSpec.$version>=8&&(V&&!bs(d.valueSpec)?ae.push(new Ot(d.key,d.value,"property functions not supported")):F&&!hf(d.valueSpec)&&ae.push(new Ot(d.key,d.value,"zoom functions not supported"))),c!=="categorical"&&!X||d.value.property!==void 0||ae.push(new Ot(d.key,d.value,'"property" property is required')),ae;function de(be){let Ae=[];const De=be.value,Fe=be.key;if(ca(De)!=="array")return[new Ot(Fe,De,`array expected, ${ca(De)} found`)];if(De.length!==2)return[new Ot(Fe,De,`array length 2 expected, length ${De.length} found`)];if(X){if(ca(De[0])!=="object")return[new Ot(Fe,De,`object expected, ${ca(De[0])} found`)];if(De[0].zoom===void 0)return[new Ot(Fe,De,"object stop key must have zoom")];if(De[0].value===void 0)return[new Ot(Fe,De,"object stop key must have value")];if(I&&I>qi(De[0].zoom))return[new Ot(Fe,De[0].zoom,"stop zoom values must appear in ascending order")];qi(De[0].zoom)!==I&&(I=qi(De[0].zoom),E=void 0,N={}),Ae=Ae.concat(il({key:`${Fe}[0]`,value:De[0],valueSpec:{zoom:{}},validateSpec:be.validateSpec,style:be.style,styleSpec:be.styleSpec,objectElementValidators:{zoom:pc,value:ge}}))}else Ae=Ae.concat(ge({key:`${Fe}[0]`,value:De[0],validateSpec:be.validateSpec,style:be.style,styleSpec:be.styleSpec},De));return Yc(Ll(De[1]))?Ae.concat([new Ot(`${Fe}[1]`,De[1],"expressions are not allowed in function stops.")]):Ae.concat(be.validateSpec({key:`${Fe}[1]`,value:De[1],valueSpec:o,validateSpec:be.validateSpec,style:be.style,styleSpec:be.styleSpec}))}function ge(be,Ae){const De=ca(be.value),Fe=qi(be.value),Ye=be.value!==null?be.value:Ae;if(y){if(De!==y)return[new Ot(be.key,Ye,`${De} stop domain type must match previous stop domain type ${y}`)]}else y=De;if(De!=="number"&&De!=="string"&&De!=="boolean")return[new Ot(be.key,Ye,"stop domain value must be a number, string, or boolean")];if(De!=="number"&&c!=="categorical"){let vt=`number expected, ${De} found`;return bs(o)&&c===void 0&&(vt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Ot(be.key,Ye,vt)]}return c!=="categorical"||De!=="number"||isFinite(Fe)&&Math.floor(Fe)===Fe?c!=="categorical"&&De==="number"&&E!==void 0&&Fe<E?[new Ot(be.key,Ye,"stop domain values must appear in ascending order")]:(E=Fe,c==="categorical"&&Fe in N?[new Ot(be.key,Ye,"stop domain values must be unique")]:(N[Fe]=!0,[])):[new Ot(be.key,Ye,`integer expected, found ${Fe}`)]}}function vl(d){const o=(d.expressionContext==="property"?gf:am)(Ll(d.value),d.valueSpec);if(o.result==="error")return o.value.map((y=>new Ot(`${d.key}${y.key}`,d.value,y.message)));const c=o.value.expression||o.value._styleExpression.expression;if(d.expressionContext==="property"&&d.propertyKey==="text-font"&&!c.outputDefined())return[new Ot(d.key,d.value,`Invalid data expression for "${d.propertyKey}". Output values must be contained as literals within the expression.`)];if(d.expressionContext==="property"&&d.propertyType==="layout"&&!eu(c))return[new Ot(d.key,d.value,'"feature-state" data expressions are not supported with layout properties.')];if(d.expressionContext==="filter"&&!eu(c))return[new Ot(d.key,d.value,'"feature-state" data expressions are not supported with filters.')];if(d.expressionContext&&d.expressionContext.indexOf("cluster")===0){if(!Ls(c,["zoom","feature-state"]))return[new Ot(d.key,d.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(d.expressionContext==="cluster-initial"&&!wu(c))return[new Ot(d.key,d.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Cu(d){const o=d.key,c=d.value,y=ca(c);return y!=="string"?[new Ot(o,c,`color expected, ${y} found`)]:Jr.parse(String(c))?[]:[new Ot(o,c,`color expected, "${c}" found`)]}function zo(d){const o=d.key,c=d.value,y=d.valueSpec,E=[];return Array.isArray(y.values)?y.values.indexOf(qi(c))===-1&&E.push(new Ot(o,c,`expected one of [${y.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(y.values).indexOf(qi(c))===-1&&E.push(new Ot(o,c,`expected one of [${Object.keys(y.values).join(", ")}], ${JSON.stringify(c)} found`)),E}function fa(d){return hc(Ll(d.value))?vl(Pn({},d,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Xc(d)}function Xc(d){const o=d.value,c=d.key;if(ca(o)!=="array")return[new Ot(c,o,`array expected, ${ca(o)} found`)];const y=d.styleSpec;let E,I=[];if(o.length<1)return[new Ot(c,o,"filter array must have at least 1 element")];switch(I=I.concat(zo({key:`${c}[0]`,value:o[0],valueSpec:y.filter_operator,style:d.style,styleSpec:d.styleSpec})),qi(o[0])){case"<":case"<=":case">":case">=":o.length>=2&&qi(o[1])==="$type"&&I.push(new Ot(c,o,`"$type" cannot be use with operator "${o[0]}"`));case"==":case"!=":o.length!==3&&I.push(new Ot(c,o,`filter array for operator "${o[0]}" must have 3 elements`));case"in":case"!in":o.length>=2&&(E=ca(o[1]),E!=="string"&&I.push(new Ot(`${c}[1]`,o[1],`string expected, ${E} found`)));for(let N=2;N<o.length;N++)E=ca(o[N]),qi(o[1])==="$type"?I=I.concat(zo({key:`${c}[${N}]`,value:o[N],valueSpec:y.geometry_type,style:d.style,styleSpec:d.styleSpec})):E!=="string"&&E!=="number"&&E!=="boolean"&&I.push(new Ot(`${c}[${N}]`,o[N],`string, number, or boolean expected, ${E} found`));break;case"any":case"all":case"none":for(let N=1;N<o.length;N++)I=I.concat(Xc({key:`${c}[${N}]`,value:o[N],style:d.style,styleSpec:d.styleSpec}));break;case"has":case"!has":E=ca(o[1]),o.length!==2?I.push(new Ot(c,o,`filter array for "${o[0]}" operator must have 2 elements`)):E!=="string"&&I.push(new Ot(`${c}[1]`,o[1],`string expected, ${E} found`))}return I}function Od(d,o){const c=d.key,y=d.validateSpec,E=d.style,I=d.styleSpec,N=d.value,F=d.objectKey,V=I[`${o}_${d.layerType}`];if(!V)return[];const X=F.match(/^(.*)-transition$/);if(o==="paint"&&X&&V[X[1]]&&V[X[1]].transition)return y({key:c,value:N,valueSpec:I.transition,style:E,styleSpec:I});const ae=d.valueSpec||V[F];if(!ae)return[new Ot(c,N,`unknown property "${F}"`)];let de;if(ca(N)==="string"&&bs(ae)&&!ae.tokens&&(de=/^{([^}]+)}$/.exec(N)))return[new Ot(c,N,`"${F}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(de[1])} }\`.`)];const ge=[];return d.layerType==="symbol"&&F==="text-font"&&rm(Ll(N))&&qi(N.type)==="identity"&&ge.push(new Ot(c,N,'"text-font" does not support identity functions')),ge.concat(y({key:d.key,value:N,valueSpec:ae,style:E,styleSpec:I,expressionContext:"property",propertyType:o,propertyKey:F}))}function Kc(d){return Od(d,"paint")}function Qc(d){return Od(d,"layout")}function Eg(d){let o=[];const c=d.value,y=d.key,E=d.style,I=d.styleSpec;if(ca(c)!=="object")return[new Ot(y,c,`object expected, ${ca(c)} found`)];c.type||c.ref||o.push(new Ot(y,c,'either "type" or "ref" is required'));let N=qi(c.type);const F=qi(c.ref);if(c.id){const V=qi(c.id);for(let X=0;X<d.arrayIndex;X++){const ae=E.layers[X];qi(ae.id)===V&&o.push(new Ot(y,c.id,`duplicate layer id "${c.id}", previously used at line ${ae.id.__line__}`))}}if("ref"in c){let V;["type","source","source-layer","filter","layout"].forEach((X=>{X in c&&o.push(new Ot(y,c[X],`"${X}" is prohibited for ref layers`))})),E.layers.forEach((X=>{qi(X.id)===F&&(V=X)})),V?V.ref?o.push(new Ot(y,c.ref,"ref cannot reference another ref layer")):N=qi(V.type):o.push(new Ot(y,c.ref,`ref layer "${F}" not found`))}else if(N!=="background")if(c.source){const V=E.sources&&E.sources[c.source],X=V&&qi(V.type);V?X==="vector"&&N==="raster"?o.push(new Ot(y,c.source,`layer "${c.id}" requires a raster source`)):X!=="raster-dem"&&N==="hillshade"||X!=="raster-dem"&&N==="color-relief"?o.push(new Ot(y,c.source,`layer "${c.id}" requires a raster-dem source`)):X==="raster"&&N!=="raster"?o.push(new Ot(y,c.source,`layer "${c.id}" requires a vector source`)):X!=="vector"||c["source-layer"]?X==="raster-dem"&&N!=="hillshade"&&N!=="color-relief"?o.push(new Ot(y,c.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):N!=="line"||!c.paint||!c.paint["line-gradient"]||X==="geojson"&&V.lineMetrics||o.push(new Ot(y,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new Ot(y,c,`layer "${c.id}" must specify a "source-layer"`)):o.push(new Ot(y,c.source,`source "${c.source}" not found`))}else o.push(new Ot(y,c,'missing required property "source"'));return o=o.concat(il({key:y,value:c,valueSpec:I.layer,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,objectElementValidators:{"*":()=>[],type:()=>d.validateSpec({key:`${y}.type`,value:c.type,valueSpec:I.layer.type,style:d.style,styleSpec:d.styleSpec,validateSpec:d.validateSpec,object:c,objectKey:"type"}),filter:fa,layout:V=>il({layer:c,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":X=>Qc(Pn({layerType:N},X))}}),paint:V=>il({layer:c,key:V.key,value:V.value,style:V.style,styleSpec:V.styleSpec,validateSpec:V.validateSpec,objectElementValidators:{"*":X=>Kc(Pn({layerType:N},X))}})}})),o}function Au(d){const o=d.value,c=d.key,y=ca(o);return y!=="string"?[new Ot(c,o,`string expected, ${y} found`)]:[]}const tp={promoteId:function({key:d,value:o}){if(ca(o)==="string")return Au({key:d,value:o});{const c=[];for(const y in o)c.push(...Au({key:`${d}.${y}`,value:o[y]}));return c}}};function Dd(d){const o=d.value,c=d.key,y=d.styleSpec,E=d.style,I=d.validateSpec;if(!o.type)return[new Ot(c,o,'"type" is required')];const N=qi(o.type);let F;switch(N){case"vector":case"raster":return F=il({key:c,value:o,valueSpec:y[`source_${N.replace("-","_")}`],style:d.style,styleSpec:y,objectElementValidators:tp,validateSpec:I}),F;case"raster-dem":return F=(function(V){var X;const ae=(X=V.sourceName)!==null&&X!==void 0?X:"",de=V.value,ge=V.styleSpec,be=ge.source_raster_dem,Ae=V.style;let De=[];const Fe=ca(de);if(de===void 0)return De;if(Fe!=="object")return De.push(new Ot("source_raster_dem",de,`object expected, ${Fe} found`)),De;const Ye=qi(de.encoding)==="custom",vt=["redFactor","greenFactor","blueFactor","baseShift"],Xe=V.value.encoding?`"${V.value.encoding}"`:"Default";for(const at in de)!Ye&&vt.includes(at)?De.push(new Ot(at,de[at],`In "${ae}": "${at}" is only valid when "encoding" is set to "custom". ${Xe} encoding found`)):be[at]?De=De.concat(V.validateSpec({key:at,value:de[at],valueSpec:be[at],validateSpec:V.validateSpec,style:Ae,styleSpec:ge})):De.push(new Ot(at,de[at],`unknown property "${at}"`));return De})({sourceName:c,value:o,style:d.style,styleSpec:y,validateSpec:I}),F;case"geojson":if(F=il({key:c,value:o,valueSpec:y.source_geojson,style:E,styleSpec:y,validateSpec:I,objectElementValidators:tp}),o.cluster)for(const V in o.clusterProperties){const[X,ae]=o.clusterProperties[V],de=typeof X=="string"?[X,["accumulated"],["get",V]]:X;F.push(...vl({key:`${c}.${V}.map`,value:ae,expressionContext:"cluster-map"})),F.push(...vl({key:`${c}.${V}.reduce`,value:de,expressionContext:"cluster-reduce"}))}return F;case"video":return il({key:c,value:o,valueSpec:y.source_video,style:E,validateSpec:I,styleSpec:y});case"image":return il({key:c,value:o,valueSpec:y.source_image,style:E,validateSpec:I,styleSpec:y});case"canvas":return[new Ot(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return zo({key:`${c}.type`,value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function To(d){const o=d.value,c=d.styleSpec,y=c.light,E=d.style;let I=[];const N=ca(o);if(o===void 0)return I;if(N!=="object")return I=I.concat([new Ot("light",o,`object expected, ${N} found`)]),I;for(const F in o){const V=F.match(/^(.*)-transition$/);I=I.concat(V&&y[V[1]]&&y[V[1]].transition?d.validateSpec({key:F,value:o[F],valueSpec:c.transition,validateSpec:d.validateSpec,style:E,styleSpec:c}):y[F]?d.validateSpec({key:F,value:o[F],valueSpec:y[F],validateSpec:d.validateSpec,style:E,styleSpec:c}):[new Ot(F,o[F],`unknown property "${F}"`)])}return I}function ru(d){const o=d.value,c=d.styleSpec,y=c.sky,E=d.style,I=ca(o);if(o===void 0)return[];if(I!=="object")return[new Ot("sky",o,`object expected, ${I} found`)];let N=[];for(const F in o)N=N.concat(y[F]?d.validateSpec({key:F,value:o[F],valueSpec:y[F],style:E,styleSpec:c}):[new Ot(F,o[F],`unknown property "${F}"`)]);return N}function wg(d){const o=d.value,c=d.styleSpec,y=c.terrain,E=d.style;let I=[];const N=ca(o);if(o===void 0)return I;if(N!=="object")return I=I.concat([new Ot("terrain",o,`object expected, ${N} found`)]),I;for(const F in o)I=I.concat(y[F]?d.validateSpec({key:F,value:o[F],valueSpec:y[F],validateSpec:d.validateSpec,style:E,styleSpec:c}):[new Ot(F,o[F],`unknown property "${F}"`)]);return I}function Vy(d){let o=[];const c=d.value,y=d.key;if(Array.isArray(c)){const E=[],I=[];for(const N in c)c[N].id&&E.includes(c[N].id)&&o.push(new Ot(y,c,`all the sprites' ids must be unique, but ${c[N].id} is duplicated`)),E.push(c[N].id),c[N].url&&I.includes(c[N].url)&&o.push(new Ot(y,c,`all the sprites' URLs must be unique, but ${c[N].url} is duplicated`)),I.push(c[N].url),o=o.concat(il({key:`${y}[${N}]`,value:c[N],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:d.validateSpec}));return o}return Au({key:y,value:c})}function vv(d){return o=d.value,o&&o.constructor===Object?[]:[new Ot(d.key,d.value,`object expected, ${ca(d.value)} found`)];var o}const qy={"*":()=>[],array:Md,boolean:function(d){const o=d.value,c=d.key,y=ca(o);return y!=="boolean"?[new Ot(c,o,`boolean expected, ${y} found`)]:[]},number:pc,color:Cu,constants:nu,enum:zo,filter:fa,function:Je,layer:Eg,object:il,source:Dd,light:To,sky:ru,terrain:wg,projection:function(d){const o=d.value,c=d.styleSpec,y=c.projection,E=d.style,I=ca(o);if(o===void 0)return[];if(I!=="object")return[new Ot("projection",o,`object expected, ${I} found`)];let N=[];for(const F in o)N=N.concat(y[F]?d.validateSpec({key:F,value:o[F],valueSpec:y[F],style:E,styleSpec:c}):[new Ot(F,o[F],`unknown property "${F}"`)]);return N},projectionDefinition:function(d){const o=d.key;let c=d.value;c=c instanceof String?c.valueOf():c;const y=ca(c);return y!=="array"||(function(E){return Array.isArray(E)&&E.length===3&&typeof E[0]=="string"&&typeof E[1]=="string"&&typeof E[2]=="number"})(c)||(function(E){return!!["interpolate","step","literal"].includes(E[0])})(c)?["array","string"].includes(y)?[]:[new Ot(o,c,`projection expected, invalid type "${y}" found`)]:[new Ot(o,c,`projection expected, invalid array ${JSON.stringify(c)} found`)]},string:Au,formatted:function(d){return Au(d).length===0?[]:vl(d)},resolvedImage:function(d){return Au(d).length===0?[]:vl(d)},padding:function(d){const o=d.key,c=d.value;if(ca(c)==="array"){if(c.length<1||c.length>4)return[new Ot(o,c,`padding requires 1 to 4 values; ${c.length} values found`)];const y={type:"number"};let E=[];for(let I=0;I<c.length;I++)E=E.concat(d.validateSpec({key:`${o}[${I}]`,value:c[I],validateSpec:d.validateSpec,valueSpec:y}));return E}return pc({key:o,value:c,valueSpec:{}})},numberArray:function(d){const o=d.key,c=d.value;if(ca(c)==="array"){const y={type:"number"};if(c.length<1)return[new Ot(o,c,"array length at least 1 expected, length 0 found")];let E=[];for(let I=0;I<c.length;I++)E=E.concat(d.validateSpec({key:`${o}[${I}]`,value:c[I],validateSpec:d.validateSpec,valueSpec:y}));return E}return pc({key:o,value:c,valueSpec:{}})},colorArray:function(d){const o=d.key,c=d.value;if(ca(c)==="array"){if(c.length<1)return[new Ot(o,c,"array length at least 1 expected, length 0 found")];let y=[];for(let E=0;E<c.length;E++)y=y.concat(Cu({key:`${o}[${E}]`,value:c[E]}));return y}return Cu({key:o,value:c})},variableAnchorOffsetCollection:function(d){const o=d.key,c=d.value,y=ca(c),E=d.styleSpec;if(y!=="array"||c.length<1||c.length%2!=0)return[new Ot(o,c,"variableAnchorOffsetCollection requires a non-empty array of even length")];let I=[];for(let N=0;N<c.length;N+=2)I=I.concat(zo({key:`${o}[${N}]`,value:c[N],valueSpec:E.layout_symbol["text-anchor"]})),I=I.concat(Md({key:`${o}[${N+1}]`,value:c[N+1],valueSpec:{length:2,value:"number"},validateSpec:d.validateSpec,style:d.style,styleSpec:E}));return I},sprite:Vy,state:vv};function Yi(d){const o=d.value,c=d.valueSpec,y=d.styleSpec;return d.validateSpec=Yi,c.expression&&rm(qi(o))?Je(d):c.expression&&Yc(Ll(o))?vl(d):c.type&&qy[c.type]?qy[c.type](d):il(Pn({},d,{valueSpec:c.type?y[c.type]:c}))}function ol(d){const o=d.value,c=d.key,y=Au(d);return y.length||(o.indexOf("{fontstack}")===-1&&y.push(new Ot(c,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&y.push(new Ot(c,o,'"glyphs" url must include a "{range}" token'))),y}function sl(d,o=Pt){let c=[];return c=c.concat(Yi({key:"",value:d,valueSpec:o.$root,styleSpec:o,style:d,validateSpec:Yi,objectElementValidators:{glyphs:ol,"*":()=>[]}})),d.constants&&(c=c.concat(nu({key:"constants",value:d.constants}))),Sg(c)}function bl(d){return function(o){return d(Object.assign({},o,{validateSpec:Yi}))}}function Sg(d){return[].concat(d).sort(((o,c)=>o.line-c.line))}function ll(d){return function(...o){return Sg(d.apply(this,o))}}sl.source=ll(bl(Dd)),sl.sprite=ll(bl(Vy)),sl.glyphs=ll(bl(ol)),sl.light=ll(bl(To)),sl.sky=ll(bl(ru)),sl.terrain=ll(bl(wg)),sl.state=ll(bl(vv)),sl.layer=ll(bl(Eg)),sl.filter=ll(bl(fa)),sl.paintProperty=ll(bl(Kc)),sl.layoutProperty=ll(bl(Qc));const np=Pt,ku=sl,rp=ku.light,om=ku.sky,Wi=ku.paintProperty,mc=ku.layoutProperty;function sm(d,o){let c=!1;if(o&&o.length)for(const y of o)d.fire(new Xn(new Error(y.message))),c=!0;return c}class yf{constructor(o,c,y){const E=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;const N=new Int32Array(this.arrayBuffer);o=N[0],this.d=(c=N[1])+2*(y=N[2]);for(let V=0;V<this.d*this.d;V++){const X=N[3+V],ae=N[3+V+1];E.push(X===ae?null:N.subarray(X,ae))}const F=N[3+E.length+1];this.keys=N.subarray(N[3+E.length],F),this.bboxes=N.subarray(F),this.insert=this._insertReadonly}else{this.d=c+2*y;for(let N=0;N<this.d*this.d;N++)E.push([]);this.keys=[],this.bboxes=[]}this.n=c,this.extent=o,this.padding=y,this.scale=c/o,this.uid=0;const I=y/c*o;this.min=-I,this.max=o+I}insert(o,c,y,E,I){this._forEachCell(c,y,E,I,this._insertCell,this.uid++,void 0,void 0),this.keys.push(o),this.bboxes.push(c),this.bboxes.push(y),this.bboxes.push(E),this.bboxes.push(I)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(o,c,y,E,I,N){this.cells[I].push(N)}query(o,c,y,E,I){const N=this.min,F=this.max;if(o<=N&&c<=N&&F<=y&&F<=E&&!I)return Array.prototype.slice.call(this.keys);{const V=[];return this._forEachCell(o,c,y,E,this._queryCell,V,{},I),V}}_queryCell(o,c,y,E,I,N,F,V){const X=this.cells[I];if(X!==null){const ae=this.keys,de=this.bboxes;for(let ge=0;ge<X.length;ge++){const be=X[ge];if(F[be]===void 0){const Ae=4*be;(V?V(de[Ae+0],de[Ae+1],de[Ae+2],de[Ae+3]):o<=de[Ae+2]&&c<=de[Ae+3]&&y>=de[Ae+0]&&E>=de[Ae+1])?(F[be]=!0,N.push(ae[be])):F[be]=!1}}}}_forEachCell(o,c,y,E,I,N,F,V){const X=this._convertToCellCoord(o),ae=this._convertToCellCoord(c),de=this._convertToCellCoord(y),ge=this._convertToCellCoord(E);for(let be=X;be<=de;be++)for(let Ae=ae;Ae<=ge;Ae++){const De=this.d*Ae+be;if((!V||V(this._convertFromCellCoord(be),this._convertFromCellCoord(Ae),this._convertFromCellCoord(be+1),this._convertFromCellCoord(Ae+1)))&&I.call(this,o,c,y,E,De,N,F,V))return}}_convertFromCellCoord(o){return(o-this.padding)/this.scale}_convertToCellCoord(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const o=this.cells,c=3+this.cells.length+1+1;let y=0;for(let N=0;N<this.cells.length;N++)y+=this.cells[N].length;const E=new Int32Array(c+y+this.keys.length+this.bboxes.length);E[0]=this.extent,E[1]=this.n,E[2]=this.padding;let I=c;for(let N=0;N<o.length;N++){const F=o[N];E[3+N]=I,E.set(F,I),I+=F.length}return E[3+o.length]=I,E.set(this.keys,I),I+=this.keys.length,E[3+o.length+1]=I,E.set(this.bboxes,I),I+=this.bboxes.length,E.buffer}static serialize(o,c){const y=o.toArrayBuffer();return c&&c.push(y),{buffer:y}}static deserialize(o){return new yf(o.buffer)}}const Jc={};function or(d,o,c={}){if(Jc[d])throw new Error(`${d} is already registered.`);Object.defineProperty(o,"_classRegistryKey",{value:d,writeable:!1}),Jc[d]={klass:o,omit:c.omit||[],shallow:c.shallow||[]}}or("Object",Object),or("Set",Set),or("TransferableGridIndex",yf),or("Color",Jr),or("Error",Error),or("AJAXError",xt),or("ResolvedImage",da),or("StylePropertyFunction",zi),or("StyleExpression",sh,{omit:["_evaluator"]}),or("ZoomDependentExpression",mf),or("ZoomConstantExpression",rl),or("CompoundExpression",yr,{omit:["_evaluate"]});for(const d in ga)ga[d]._classRegistryKey||or(`Expression_${d}`,ga[d]);function ap(d){return d&&typeof ArrayBuffer<"u"&&(d instanceof ArrayBuffer||d.constructor&&d.constructor.name==="ArrayBuffer")}function Ld(d){return d.$name||d.constructor._classRegistryKey}function lm(d){return!(function(o){if(o===null||typeof o!="object")return!1;const c=Ld(o);return!(!c||c==="Object")})(d)&&(d==null||typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d instanceof Boolean||d instanceof Number||d instanceof String||d instanceof Date||d instanceof RegExp||d instanceof Blob||d instanceof Error||ap(d)||tr(d)||ArrayBuffer.isView(d)||d instanceof ImageData)}function vf(d,o){if(lm(d))return(ap(d)||tr(d))&&o&&o.push(d),ArrayBuffer.isView(d)&&o&&o.push(d.buffer),d instanceof ImageData&&o&&o.push(d.data.buffer),d;if(Array.isArray(d)){const I=[];for(const N of d)I.push(vf(N,o));return I}if(typeof d!="object")throw new Error("can't serialize object of type "+typeof d);const c=Ld(d);if(!c)throw new Error(`can't serialize object of unregistered class ${d.constructor.name}`);if(!Jc[c])throw new Error(`${c} is not registered.`);const{klass:y}=Jc[c],E=y.serialize?y.serialize(d,o):{};if(y.serialize){if(o&&E===o[o.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const I in d){if(!d.hasOwnProperty(I)||Jc[c].omit.indexOf(I)>=0)continue;const N=d[I];E[I]=Jc[c].shallow.indexOf(I)>=0?N:vf(N,o)}d instanceof Error&&(E.message=d.message)}if(E.$name)throw new Error("$name property is reserved for worker serialization logic.");return c!=="Object"&&(E.$name=c),E}function bf(d){if(lm(d))return d;if(Array.isArray(d))return d.map(bf);if(typeof d!="object")throw new Error("can't deserialize object of type "+typeof d);const o=Ld(d)||"Object";if(!Jc[o])throw new Error(`can't deserialize unregistered class ${o}`);const{klass:c}=Jc[o];if(!c)throw new Error(`can't deserialize unregistered class ${o}`);if(c.deserialize)return c.deserialize(d);const y=Object.create(c.prototype);for(const E of Object.keys(d)){if(E==="$name")continue;const I=d[E];y[E]=Jc[o].shallow.indexOf(E)>=0?I:bf(I)}return y}class Fs{constructor(){this.first=!0}update(o,c){const y=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=y,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=y,!0):(this.lastFloorZoom>y?(this.lastIntegerZoom=y+1,this.lastIntegerZoomTime=c):this.lastFloorZoom<y&&(this.lastIntegerZoom=y,this.lastIntegerZoomTime=c),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=y,!0))}}function ed(d){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))}function Tg(d){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))}function Cg(d){return/\s/u.test(String.fromCodePoint(d))}function Iu(d){for(const o of d)if(Tg(o.codePointAt(0)))return!0;return!1}function au(d){for(const o of d)if(!_l(o.codePointAt(0)))return!1;return!0}function uh(d){const o=d.map((c=>{try{return new RegExp(`\\p{sc=${c}}`,"u").source}catch{return null}})).filter((c=>c));return new RegExp(o.join("|"),"u")}const Pl=uh(["Arab","Dupl","Mong","Ougr","Syrc"]);function _l(d){return!Pl.test(String.fromCodePoint(d))}function um(d){return!(Tg(d)||(o=d,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(o))));var o}const gc=uh(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function cm(d){return gc.test(String.fromCodePoint(d))}function iu(d,o){return!(!o&&cm(d)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(d)))}function yc(d){for(const o of d)if(cm(o.codePointAt(0)))return!0;return!1}const Nu=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(d){this.pluginStatus=d.pluginStatus,this.pluginURL=d.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(d){if(Nu.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=d.applyArabicShaping,this.processBidirectionalText=d.processBidirectionalText,this.processStyledBidirectionalText=d.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return this.applyArabicShaping!=null&&this.processBidirectionalText!=null&&this.processStyledBidirectionalText!=null}getRTLTextPluginStatus(){return this.pluginStatus}syncState(d,o){return i(this,void 0,void 0,(function*(){if(this.isParsed())return this.getState();if(d.pluginStatus!=="loading")return this.setState(d),d;const c=d.pluginURL,y=new Promise((I=>{this.loadScriptResolve=I}));o(c);const E=new Promise((I=>setTimeout((()=>I()),this.TIMEOUT)));if(yield Promise.race([y,E]),this.isParsed()){const I={pluginStatus:"loaded",pluginURL:c};return this.setState(I),I}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${c}`)}))}};class Ra{constructor(o,c){this.isSupportedScript=Ru,this.zoom=o,c?(this.now=c.now||0,this.fadeDuration=c.fadeDuration||0,this.zoomHistory=c.zoomHistory||new Fs,this.transition=c.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Fs,this.transition={})}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const o=this.zoom,c=o-Math.floor(o),y=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:c+(1-c)*y}:{fromScale:.5,toScale:1,t:1-(1-y)*c}}}function Ru(d){return(function(o,c){for(const y of o)if(!iu(y.codePointAt(0),c))return!1;return!0})(d,Nu.getRTLTextPluginStatus()==="loaded")}const _f="-transition";class xf{constructor(o,c,y){this.property=o,this.value=c,this.expression=(function(E,I,N){if(rm(E))return new zi(E,I);if(Yc(E)){const F=gf(E,I,N);if(F.result==="error")throw new Error(F.value.map((V=>`${V.key}: ${V.message}`)).join(", "));return F.value}{let F=E;return I.type==="color"&&typeof E=="string"?F=Jr.parse(E):I.type!=="padding"||typeof E!="number"&&!Array.isArray(E)?I.type!=="numberArray"||typeof E!="number"&&!Array.isArray(E)?I.type!=="colorArray"||typeof E!="string"&&!Array.isArray(E)?I.type==="variableAnchorOffsetCollection"&&Array.isArray(E)?F=Oi.parse(E):I.type==="projectionDefinition"&&typeof E=="string"&&(F=li.parse(E)):F=Vr.parse(E):F=Si.parse(E):F=Ji.parse(E),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>F}}})(c===void 0?o.specification.default:c,o.specification,y)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(o,c,y){return this.property.possiblyEvaluate(this,o,c,y)}}class Co{constructor(o,c){this.property=o,this.value=new xf(o,void 0,c)}transitioned(o,c){return new ch(this.property,this.value,c,We({},o.transition,this.transition),o.now)}untransitioned(){return new ch(this.property,this.value,null,{},0)}}class Pd{constructor(o,c){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues),this._globalState=c}getValue(o){return Ge(this._values[o].value.value)}setValue(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Co(this._values[o].property,this._globalState)),this._values[o].value=new xf(this._values[o].property,c===null?void 0:Ge(c),this._globalState)}getTransition(o){return Ge(this._values[o].transition)}setTransition(o,c){Object.prototype.hasOwnProperty.call(this._values,o)||(this._values[o]=new Co(this._values[o].property,this._globalState)),this._values[o].transition=Ge(c)||void 0}serialize(){const o={};for(const c of Object.keys(this._values)){const y=this.getValue(c);y!==void 0&&(o[c]=y);const E=this.getTransition(c);E!==void 0&&(o[`${c}${_f}`]=E)}return o}transitioned(o,c){const y=new ou(this._properties);for(const E of Object.keys(this._values))y._values[E]=this._values[E].transitioned(o,c._values[E]);return y}untransitioned(){const o=new ou(this._properties);for(const c of Object.keys(this._values))o._values[c]=this._values[c].untransitioned();return o}}class ch{constructor(o,c,y,E,I){this.property=o,this.value=c,this.begin=I+E.delay||0,this.end=this.begin+E.duration||0,o.specification.transition&&(E.delay||E.duration)&&(this.prior=y)}possiblyEvaluate(o,c,y){const E=o.now||0,I=this.value.possiblyEvaluate(o,c,y),N=this.prior;if(N){if(E>this.end)return this.prior=null,I;if(this.value.isDataDriven())return this.prior=null,I;if(E<this.begin)return N.possiblyEvaluate(o,c,y);{const F=(E-this.begin)/(this.end-this.begin);return this.property.interpolate(N.possiblyEvaluate(o,c,y),I,Ze(F))}}return I}}class ou{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,c,y){const E=new su(this._properties);for(const I of Object.keys(this._values))E._values[I]=this._values[I].possiblyEvaluate(o,c,y);return E}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class dm{constructor(o,c){this._properties=o,this._values=Object.create(o.defaultPropertyValues),this._globalState=c}hasValue(o){return this._values[o].value!==void 0}getValue(o){return Ge(this._values[o].value)}setValue(o,c){this._values[o]=new xf(this._values[o].property,c===null?void 0:Ge(c),this._globalState)}serialize(){const o={};for(const c of Object.keys(this._values)){const y=this.getValue(c);y!==void 0&&(o[c]=y)}return o}possiblyEvaluate(o,c,y){const E=new su(this._properties);for(const I of Object.keys(this._values))E._values[I]=this._values[I].possiblyEvaluate(o,c,y);return E}}class Es{constructor(o,c,y){this.property=o,this.value=c,this.parameters=y}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,c,y,E){return this.property.evaluate(this.value,this.parameters,o,c,y,E)}}class su{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Cr{constructor(o){this.specification=o}possiblyEvaluate(o,c){if(o.isDataDriven())throw new Error("Value should not be data driven");return o.expression.evaluate(c)}interpolate(o,c,y){const E=qa[this.specification.type];return E?E(o,c,y):o}}class Er{constructor(o,c){this.specification=o,this.overrides=c}possiblyEvaluate(o,c,y,E){return new Es(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(c,null,{},y,E)}:o.expression,c)}interpolate(o,c,y){if(o.value.kind!=="constant"||c.value.kind!=="constant")return o;if(o.value.value===void 0||c.value.value===void 0)return new Es(this,{kind:"constant",value:void 0},o.parameters);const E=qa[this.specification.type];if(E){const I=E(o.value.value,c.value.value,y);return new Es(this,{kind:"constant",value:I},o.parameters)}return o}evaluate(o,c,y,E,I,N){return o.kind==="constant"?o.value:o.evaluate(c,y,E,I,N)}}class td extends Er{possiblyEvaluate(o,c,y,E){if(o.value===void 0)return new Es(this,{kind:"constant",value:void 0},c);if(o.expression.kind==="constant"){const I=o.expression.evaluate(c,null,{},y,E),N=o.property.specification.type==="resolvedImage"&&typeof I!="string"?I.name:I,F=this._calculate(N,N,N,c);return new Es(this,{kind:"constant",value:F},c)}if(o.expression.kind==="camera"){const I=this._calculate(o.expression.evaluate({zoom:c.zoom-1}),o.expression.evaluate({zoom:c.zoom}),o.expression.evaluate({zoom:c.zoom+1}),c);return new Es(this,{kind:"constant",value:I},c)}return new Es(this,o.expression,c)}evaluate(o,c,y,E,I,N){if(o.kind==="source"){const F=o.evaluate(c,y,E,I,N);return this._calculate(F,F,F,c)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(c.zoom)-1},y,E),o.evaluate({zoom:Math.floor(c.zoom)},y,E),o.evaluate({zoom:Math.floor(c.zoom)+1},y,E),c):o.value}_calculate(o,c,y,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:y,to:c}}interpolate(o){return o}}class xl{constructor(o){this.specification=o}possiblyEvaluate(o,c,y,E){if(o.value!==void 0){if(o.expression.kind==="constant"){const I=o.expression.evaluate(c,null,{},y,E);return this._calculate(I,I,I,c)}return this._calculate(o.expression.evaluate(new Ra(Math.floor(c.zoom-1),c)),o.expression.evaluate(new Ra(Math.floor(c.zoom),c)),o.expression.evaluate(new Ra(Math.floor(c.zoom+1),c)),c)}}_calculate(o,c,y,E){return E.zoom>E.zoomHistory.lastIntegerZoom?{from:o,to:c}:{from:y,to:c}}interpolate(o){return o}}class ws{constructor(o){this.specification=o}possiblyEvaluate(o,c,y,E){return!!o.expression.evaluate(c,null,{},y,E)}interpolate(){return!1}}class fo{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const c in o){const y=o[c];y.specification.overridable&&this.overridableProperties.push(c);const E=this.defaultPropertyValues[c]=new xf(y,void 0,void 0),I=this.defaultTransitionablePropertyValues[c]=new Co(y,void 0);this.defaultTransitioningPropertyValues[c]=I.untransitioned(),this.defaultPossiblyEvaluatedValues[c]=E.possiblyEvaluate({})}}}or("DataDrivenProperty",Er),or("DataConstantProperty",Cr),or("CrossFadedDataDrivenProperty",td),or("CrossFadedProperty",xl),or("ColorRampProperty",ws);class Bs extends Qn{constructor(o,c,y){if(super(),this.id=o.id,this.type=o.type,this._globalState=y,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},o.type!=="custom"&&(this.metadata=o.metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter,this._featureFilter=al(o.filter,y)),c.layout&&(this._unevaluatedLayout=new dm(c.layout,y)),c.paint)){this._transitionablePaint=new Pd(c.paint,y);for(const E in o.paint)this.setPaintProperty(E,o.paint[E],{validate:!1});for(const E in o.layout)this.setLayoutProperty(E,o.layout[E],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new su(c.paint)}}setFilter(o){this.filter=o,this._featureFilter=al(o,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}getLayoutAffectingGlobalStateRefs(){const o=new Set;if(this._unevaluatedLayout)for(const c in this._unevaluatedLayout._values){const y=this._unevaluatedLayout._values[c];for(const E of y.getGlobalStateRefs())o.add(E)}for(const c of this._featureFilter.getGlobalStateRefs())o.add(c);return o}getPaintAffectingGlobalStateRefs(){var o;const c=new globalThis.Map;if(this._transitionablePaint)for(const y in this._transitionablePaint._values){const E=this._transitionablePaint._values[y].value;for(const I of E.getGlobalStateRefs()){const N=(o=c.get(I))!==null&&o!==void 0?o:[];N.push({name:y,value:E.value}),c.set(I,N)}}return c}setLayoutProperty(o,c,y={}){c!=null&&this._validate(mc,`layers.${this.id}.layout.${o}`,o,c,y)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,c):this.visibility=c)}getPaintProperty(o){return o.endsWith(_f)?this._transitionablePaint.getTransition(o.slice(0,-11)):this._transitionablePaint.getValue(o)}setPaintProperty(o,c,y={}){if(c!=null&&this._validate(Wi,`layers.${this.id}.paint.${o}`,o,c,y))return!1;if(o.endsWith(_f))return this._transitionablePaint.setTransition(o.slice(0,-11),c||void 0),!1;{const E=this._transitionablePaint._values[o],I=E.property.specification["property-type"]==="cross-faded-data-driven",N=E.value.isDataDriven(),F=E.value;this._transitionablePaint.setValue(o,c),this._handleSpecialPaintPropertyUpdate(o);const V=this._transitionablePaint._values[o].value;return V.isDataDriven()||N||I||this._handleOverridablePaintPropertyUpdate(o,F,V)}}_handleSpecialPaintPropertyUpdate(o){}_handleOverridablePaintPropertyUpdate(o,c,y){return!1}isHidden(o,c=!1){return!!(this.minzoom&&o<(c?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,c){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,c)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),rn(o,((c,y)=>!(c===void 0||y==="layout"&&!Object.keys(c).length||y==="paint"&&!Object.keys(c).length)))}_validate(o,c,y,E,I={}){return(!I||I.validate!==!1)&&sm(this,o.call(ku,{key:c,layerType:this.type,objectKey:y,value:E,styleSpec:Pt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const c=this.paint.get(o);if(c instanceof Es&&bs(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}}let Yy;var Mu={get paint(){return Yy=Yy||new fo({"raster-opacity":new Cr(Pt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Cr(Pt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Cr(Pt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Cr(Pt.paint_raster["raster-brightness-max"]),"raster-saturation":new Cr(Pt.paint_raster["raster-saturation"]),"raster-contrast":new Cr(Pt.paint_raster["raster-contrast"]),"raster-resampling":new Cr(Pt.paint_raster["raster-resampling"]),"raster-fade-duration":new Cr(Pt.paint_raster["raster-fade-duration"])})}};class El extends Bs{constructor(o,c){super(o,Mu,c)}}const ho={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Fd{constructor(o,c){this._structArray=o,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class Fa{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,c){return o._trim(),c&&(o.isTransferred=!0,c.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const c=Object.create(this.prototype);return c.arrayBuffer=o.arrayBuffer,c.length=o.length,c.capacity=o.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Lr(d,o=1){let c=0,y=0;return{members:d.map((E=>{const I=ho[E.type].BYTES_PER_ELEMENT,N=c=yi(c,Math.max(o,I)),F=E.components||1;return y=Math.max(y,I),c+=I*F,{name:E.name,type:E.type,components:F,offset:N}})),size:yi(c,Math.max(y,o)),alignment:o}}function yi(d,o){return Math.ceil(d/o)*o}class Pi extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c){const y=this.length;return this.resize(y+1),this.emplace(y,o,c)}emplace(o,c,y){const E=2*o;return this.int16[E+0]=c,this.int16[E+1]=y,o}}Pi.prototype.bytesPerElement=4,or("StructArrayLayout2i4",Pi);class Ef extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,y)}emplace(o,c,y,E){const I=3*o;return this.int16[I+0]=c,this.int16[I+1]=y,this.int16[I+2]=E,o}}Ef.prototype.bytesPerElement=6,or("StructArrayLayout3i6",Ef);class lu extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E){const I=this.length;return this.resize(I+1),this.emplace(I,o,c,y,E)}emplace(o,c,y,E,I){const N=4*o;return this.int16[N+0]=c,this.int16[N+1]=y,this.int16[N+2]=E,this.int16[N+3]=I,o}}lu.prototype.bytesPerElement=8,or("StructArrayLayout4i8",lu);class Bd extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N){const F=this.length;return this.resize(F+1),this.emplace(F,o,c,y,E,I,N)}emplace(o,c,y,E,I,N,F){const V=6*o;return this.int16[V+0]=c,this.int16[V+1]=y,this.int16[V+2]=E,this.int16[V+3]=I,this.int16[V+4]=N,this.int16[V+5]=F,o}}Bd.prototype.bytesPerElement=12,or("StructArrayLayout2i4i12",Bd);class ip extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N){const F=this.length;return this.resize(F+1),this.emplace(F,o,c,y,E,I,N)}emplace(o,c,y,E,I,N,F){const V=4*o,X=8*o;return this.int16[V+0]=c,this.int16[V+1]=y,this.uint8[X+4]=E,this.uint8[X+5]=I,this.uint8[X+6]=N,this.uint8[X+7]=F,o}}ip.prototype.bytesPerElement=8,or("StructArrayLayout2i4ub8",ip);class nd extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c){const y=this.length;return this.resize(y+1),this.emplace(y,o,c)}emplace(o,c,y){const E=2*o;return this.float32[E+0]=c,this.float32[E+1]=y,o}}nd.prototype.bytesPerElement=8,or("StructArrayLayout2f8",nd);class vc extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V,X,ae){const de=this.length;return this.resize(de+1),this.emplace(de,o,c,y,E,I,N,F,V,X,ae)}emplace(o,c,y,E,I,N,F,V,X,ae,de){const ge=10*o;return this.uint16[ge+0]=c,this.uint16[ge+1]=y,this.uint16[ge+2]=E,this.uint16[ge+3]=I,this.uint16[ge+4]=N,this.uint16[ge+5]=F,this.uint16[ge+6]=V,this.uint16[ge+7]=X,this.uint16[ge+8]=ae,this.uint16[ge+9]=de,o}}vc.prototype.bytesPerElement=20,or("StructArrayLayout10ui20",vc);class Wy extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V){const X=this.length;return this.resize(X+1),this.emplace(X,o,c,y,E,I,N,F,V)}emplace(o,c,y,E,I,N,F,V,X){const ae=8*o;return this.uint16[ae+0]=c,this.uint16[ae+1]=y,this.uint16[ae+2]=E,this.uint16[ae+3]=I,this.uint16[ae+4]=N,this.uint16[ae+5]=F,this.uint16[ae+6]=V,this.uint16[ae+7]=X,o}}Wy.prototype.bytesPerElement=16,or("StructArrayLayout8ui16",Wy);class Fi extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V,X,ae,de,ge){const be=this.length;return this.resize(be+1),this.emplace(be,o,c,y,E,I,N,F,V,X,ae,de,ge)}emplace(o,c,y,E,I,N,F,V,X,ae,de,ge,be){const Ae=12*o;return this.int16[Ae+0]=c,this.int16[Ae+1]=y,this.int16[Ae+2]=E,this.int16[Ae+3]=I,this.uint16[Ae+4]=N,this.uint16[Ae+5]=F,this.uint16[Ae+6]=V,this.uint16[Ae+7]=X,this.int16[Ae+8]=ae,this.int16[Ae+9]=de,this.int16[Ae+10]=ge,this.int16[Ae+11]=be,o}}Fi.prototype.bytesPerElement=24,or("StructArrayLayout4i4ui4i24",Fi);class Ou extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,y){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,y)}emplace(o,c,y,E){const I=3*o;return this.float32[I+0]=c,this.float32[I+1]=y,this.float32[I+2]=E,o}}Ou.prototype.bytesPerElement=12,or("StructArrayLayout3f12",Ou);class dh extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint32[1*o+0]=c,o}}dh.prototype.bytesPerElement=4,or("StructArrayLayout1ul4",dh);class fh extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V,X){const ae=this.length;return this.resize(ae+1),this.emplace(ae,o,c,y,E,I,N,F,V,X)}emplace(o,c,y,E,I,N,F,V,X,ae){const de=10*o,ge=5*o;return this.int16[de+0]=c,this.int16[de+1]=y,this.int16[de+2]=E,this.int16[de+3]=I,this.int16[de+4]=N,this.int16[de+5]=F,this.uint32[ge+3]=V,this.uint16[de+8]=X,this.uint16[de+9]=ae,o}}fh.prototype.bytesPerElement=20,or("StructArrayLayout6i1ul2ui20",fh);class wf extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N){const F=this.length;return this.resize(F+1),this.emplace(F,o,c,y,E,I,N)}emplace(o,c,y,E,I,N,F){const V=6*o;return this.int16[V+0]=c,this.int16[V+1]=y,this.int16[V+2]=E,this.int16[V+3]=I,this.int16[V+4]=N,this.int16[V+5]=F,o}}wf.prototype.bytesPerElement=12,or("StructArrayLayout2i2i2i12",wf);class fm extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I){const N=this.length;return this.resize(N+1),this.emplace(N,o,c,y,E,I)}emplace(o,c,y,E,I,N){const F=4*o,V=8*o;return this.float32[F+0]=c,this.float32[F+1]=y,this.float32[F+2]=E,this.int16[V+6]=I,this.int16[V+7]=N,o}}fm.prototype.bytesPerElement=16,or("StructArrayLayout2f1f2i16",fm);class op extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N){const F=this.length;return this.resize(F+1),this.emplace(F,o,c,y,E,I,N)}emplace(o,c,y,E,I,N,F){const V=16*o,X=4*o,ae=8*o;return this.uint8[V+0]=c,this.uint8[V+1]=y,this.float32[X+1]=E,this.float32[X+2]=I,this.int16[ae+6]=N,this.int16[ae+7]=F,o}}op.prototype.bytesPerElement=16,or("StructArrayLayout2ub2f2i16",op);class rd extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,y)}emplace(o,c,y,E){const I=3*o;return this.uint16[I+0]=c,this.uint16[I+1]=y,this.uint16[I+2]=E,o}}rd.prototype.bytesPerElement=6,or("StructArrayLayout3ui6",rd);class $d extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye){const vt=this.length;return this.resize(vt+1),this.emplace(vt,o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye)}emplace(o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye,vt){const Xe=24*o,at=12*o,Et=48*o;return this.int16[Xe+0]=c,this.int16[Xe+1]=y,this.uint16[Xe+2]=E,this.uint16[Xe+3]=I,this.uint32[at+2]=N,this.uint32[at+3]=F,this.uint32[at+4]=V,this.uint16[Xe+10]=X,this.uint16[Xe+11]=ae,this.uint16[Xe+12]=de,this.float32[at+7]=ge,this.float32[at+8]=be,this.uint8[Et+36]=Ae,this.uint8[Et+37]=De,this.uint8[Et+38]=Fe,this.uint32[at+10]=Ye,this.int16[Xe+22]=vt,o}}$d.prototype.bytesPerElement=48,or("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",$d);class Ss extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye,vt,Xe,at,Et,kt,tn,Sn,yn,Ln,ar,Un){const bn=this.length;return this.resize(bn+1),this.emplace(bn,o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye,vt,Xe,at,Et,kt,tn,Sn,yn,Ln,ar,Un)}emplace(o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae,De,Fe,Ye,vt,Xe,at,Et,kt,tn,Sn,yn,Ln,ar,Un,bn){const un=32*o,vr=16*o;return this.int16[un+0]=c,this.int16[un+1]=y,this.int16[un+2]=E,this.int16[un+3]=I,this.int16[un+4]=N,this.int16[un+5]=F,this.int16[un+6]=V,this.int16[un+7]=X,this.uint16[un+8]=ae,this.uint16[un+9]=de,this.uint16[un+10]=ge,this.uint16[un+11]=be,this.uint16[un+12]=Ae,this.uint16[un+13]=De,this.uint16[un+14]=Fe,this.uint16[un+15]=Ye,this.uint16[un+16]=vt,this.uint16[un+17]=Xe,this.uint16[un+18]=at,this.uint16[un+19]=Et,this.uint16[un+20]=kt,this.uint16[un+21]=tn,this.uint16[un+22]=Sn,this.uint32[vr+12]=yn,this.float32[vr+13]=Ln,this.float32[vr+14]=ar,this.uint16[un+30]=Un,this.uint16[un+31]=bn,o}}Ss.prototype.bytesPerElement=64,or("StructArrayLayout8i15ui1ul2f2ui64",Ss);class Ui extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.float32[1*o+0]=c,o}}Ui.prototype.bytesPerElement=4,or("StructArrayLayout1f4",Ui);class Du extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,y){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,y)}emplace(o,c,y,E){const I=3*o;return this.uint16[6*o+0]=c,this.float32[I+1]=y,this.float32[I+2]=E,o}}Du.prototype.bytesPerElement=12,or("StructArrayLayout1ui2f12",Du);class Sf extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c,y){const E=this.length;return this.resize(E+1),this.emplace(E,o,c,y)}emplace(o,c,y,E){const I=4*o;return this.uint32[2*o+0]=c,this.uint16[I+2]=y,this.uint16[I+3]=E,o}}Sf.prototype.bytesPerElement=8,or("StructArrayLayout1ul2ui8",Sf);class Tf extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,c){const y=this.length;return this.resize(y+1),this.emplace(y,o,c)}emplace(o,c,y){const E=2*o;return this.uint16[E+0]=c,this.uint16[E+1]=y,o}}Tf.prototype.bytesPerElement=4,or("StructArrayLayout2ui4",Tf);class sp extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const c=this.length;return this.resize(c+1),this.emplace(c,o)}emplace(o,c){return this.uint16[1*o+0]=c,o}}sp.prototype.bytesPerElement=2,or("StructArrayLayout1ui2",sp);class uu extends Fa{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,c,y,E){const I=this.length;return this.resize(I+1),this.emplace(I,o,c,y,E)}emplace(o,c,y,E,I){const N=4*o;return this.float32[N+0]=c,this.float32[N+1]=y,this.float32[N+2]=E,this.float32[N+3]=I,o}}uu.prototype.bytesPerElement=16,or("StructArrayLayout4f16",uu);class O extends Fd{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new m(this.anchorPointX,this.anchorPointY)}}O.prototype.size=20;class s extends fh{get(o){return new O(this,o)}}or("CollisionBoxArray",s);class h extends Fd{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}h.prototype.size=48;class x extends $d{get(o){return new h(this,o)}}or("PlacedSymbolArray",x);class k extends Fd{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}k.prototype.size=64;class L extends Ss{get(o){return new k(this,o)}}or("SymbolInstanceArray",L);class U extends Ui{getoffsetX(o){return this.float32[1*o+0]}}or("GlyphOffsetArray",U);class W extends Ef{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}or("SymbolLineVertexArray",W);class ee extends Fd{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ee.prototype.size=12;class ce extends Du{get(o){return new ee(this,o)}}or("TextAnchorOffsetArray",ce);class fe extends Fd{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}fe.prototype.size=8;class Ce extends Sf{get(o){return new fe(this,o)}}or("FeatureIndexArray",Ce);class Ee extends Pi{}class Le extends Pi{}class ze extends Pi{}class it extends Bd{}class ct extends ip{}class lt extends nd{}class pt extends vc{}class Tt extends Wy{}class gt extends Fi{}class At extends Ou{}class Rt extends dh{}class bt extends wf{}class jt extends op{}class Qt extends rd{}class Jt extends Tf{}const nn=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:an}=nn;class On{constructor(o=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=o}prepareSegment(o,c,y,E){const I=this.segments[this.segments.length-1];return o>On.MAX_VERTEX_ARRAY_LENGTH&&_n(`Max vertices per segment is ${On.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${On.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!I||I.vertexLength+o>On.MAX_VERTEX_ARRAY_LENGTH||I.sortKey!==E?this.createNewSegment(c,y,E):I}createNewSegment(o,c,y){const E={vertexOffset:o.length,primitiveOffset:c.length,vertexLength:0,primitiveLength:0,vaos:{}};return y!==void 0&&(E.sortKey=y),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(E),E}getOrCreateLatestSegment(o,c,y){return this.prepareSegment(0,o,c,y)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const o of this.segments)for(const c in o.vaos)o.vaos[c].destroy()}static simpleSegment(o,c,y,E){return new On([{vertexOffset:o,primitiveOffset:c,vertexLength:y,primitiveLength:E,vaos:{},sortKey:0}])}}function Zn(d,o){return 256*(d=St(Math.floor(d),0,255))+St(Math.floor(o),0,255)}On.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,or("SegmentVector",On);const Nn=Lr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),wr=Lr([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var oa,Qa,ci,Ja={exports:{}},Sa={exports:{}},Ta={exports:{}},Uo=(function(){if(ci)return Ja.exports;ci=1;var d=(oa||(oa=1,Sa.exports=function(c,y){var E,I,N,F,V,X,ae,de;for(I=c.length-(E=3&c.length),N=y,V=3432918353,X=461845907,de=0;de<I;)ae=255&c.charCodeAt(de)|(255&c.charCodeAt(++de))<<8|(255&c.charCodeAt(++de))<<16|(255&c.charCodeAt(++de))<<24,++de,N=27492+(65535&(F=5*(65535&(N=(N^=ae=(65535&(ae=(ae=(65535&ae)*V+(((ae>>>16)*V&65535)<<16)&4294967295)<<15|ae>>>17))*X+(((ae>>>16)*X&65535)<<16)&4294967295)<<13|N>>>19))+((5*(N>>>16)&65535)<<16)&4294967295))+((58964+(F>>>16)&65535)<<16);switch(ae=0,E){case 3:ae^=(255&c.charCodeAt(de+2))<<16;case 2:ae^=(255&c.charCodeAt(de+1))<<8;case 1:N^=ae=(65535&(ae=(ae=(65535&(ae^=255&c.charCodeAt(de)))*V+(((ae>>>16)*V&65535)<<16)&4294967295)<<15|ae>>>17))*X+(((ae>>>16)*X&65535)<<16)&4294967295}return N^=c.length,N=2246822507*(65535&(N^=N>>>16))+((2246822507*(N>>>16)&65535)<<16)&4294967295,N=3266489909*(65535&(N^=N>>>13))+((3266489909*(N>>>16)&65535)<<16)&4294967295,(N^=N>>>16)>>>0}),Sa.exports),o=(Qa||(Qa=1,Ta.exports=function(c,y){for(var E,I=c.length,N=y^I,F=0;I>=4;)E=1540483477*(65535&(E=255&c.charCodeAt(F)|(255&c.charCodeAt(++F))<<8|(255&c.charCodeAt(++F))<<16|(255&c.charCodeAt(++F))<<24))+((1540483477*(E>>>16)&65535)<<16),N=1540483477*(65535&N)+((1540483477*(N>>>16)&65535)<<16)^(E=1540483477*(65535&(E^=E>>>24))+((1540483477*(E>>>16)&65535)<<16)),I-=4,++F;switch(I){case 3:N^=(255&c.charCodeAt(F+2))<<16;case 2:N^=(255&c.charCodeAt(F+1))<<8;case 1:N=1540483477*(65535&(N^=255&c.charCodeAt(F)))+((1540483477*(N>>>16)&65535)<<16)}return N=1540483477*(65535&(N^=N>>>13))+((1540483477*(N>>>16)&65535)<<16),(N^=N>>>15)>>>0}),Ta.exports);return Ja.exports=d,Ja.exports.murmur3=d,Ja.exports.murmur2=o,Ja.exports})(),Ti=b(Uo);class ro{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,c,y,E){this.ids.push(vi(o)),this.positions.push(c,y,E)}getPositions(o){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const c=vi(o);let y=0,E=this.ids.length-1;for(;y<E;){const N=y+E>>1;this.ids[N]>=c?E=N:y=N+1}const I=[];for(;this.ids[y]===c;)I.push({index:this.positions[3*y],start:this.positions[3*y+1],end:this.positions[3*y+2]}),y++;return I}static serialize(o,c){const y=new Float64Array(o.ids),E=new Uint32Array(o.positions);return Zi(y,E,0,y.length-1),c&&c.push(y.buffer,E.buffer),{ids:y,positions:E}}static deserialize(o){const c=new ro;return c.ids=o.ids,c.positions=o.positions,c.indexed=!0,c}}function vi(d){const o=+d;return!isNaN(o)&&o<=Number.MAX_SAFE_INTEGER?o:Ti(String(d))}function Zi(d,o,c,y){for(;c<y;){const E=d[c+y>>1];let I=c-1,N=y+1;for(;;){do I++;while(d[I]<E);do N--;while(d[N]>E);if(I>=N)break;is(d,I,N),is(o,3*I,3*N),is(o,3*I+1,3*N+1),is(o,3*I+2,3*N+2)}N-c<y-N?(Zi(d,o,c,N),c=N+1):(Zi(d,o,N+1,y),y=N)}}function is(d,o,c){const y=d[o];d[o]=d[c],d[c]=y}or("FeaturePositionMap",ro);class $s{constructor(o,c){this.gl=o.gl,this.location=c}}class Lu extends $s{constructor(o,c){super(o,c),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class Fl extends $s{constructor(o,c){super(o,c),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class bc extends $s{constructor(o,c){super(o,c),this.current=Jr.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}const Ag=new Float32Array(16);function Cf(d){return[Zn(255*d.r,255*d.g),Zn(255*d.b,255*d.a)]}class wl{constructor(o,c,y){this.value=o,this.uniformNames=c.map((E=>`u_${E}`)),this.type=y}setUniform(o,c,y){o.set(y.constantOr(this.value))}getBinding(o,c,y){return this.type==="color"?new bc(o,c):new Lu(o,c)}}class ao{constructor(o,c){this.uniformNames=c.map((y=>`u_${y}`)),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,c){this.pixelRatioFrom=c.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=c.tlbr,this.patternTo=o.tlbr}setConstantDashPositions(o,c){this.dashTo=[0,o.y,o.height,o.width],this.dashFrom=[0,c.y,c.height,c.width]}setUniform(o,c,y,E){let I=null;E==="u_pattern_to"?I=this.patternTo:E==="u_pattern_from"?I=this.patternFrom:E==="u_dasharray_to"?I=this.dashTo:E==="u_dasharray_from"?I=this.dashFrom:E==="u_pixel_ratio_to"?I=this.pixelRatioTo:E==="u_pixel_ratio_from"&&(I=this.pixelRatioFrom),I!==null&&o.set(I)}getBinding(o,c,y){return y.substr(0,9)==="u_pattern"||y.substr(0,12)==="u_dasharray_"?new Fl(o,c):new Lu(o,c)}}class Go{constructor(o,c,y,E){this.expression=o,this.type=y,this.maxValue=0,this.paintVertexAttributes=c.map((I=>({name:`a_${I}`,type:"Float32",components:y==="color"?2:1,offset:0}))),this.paintVertexArray=new E}populatePaintArray(o,c,y){const E=this.paintVertexArray.length,I=this.expression.evaluate(new Ra(0,y),c,{},y.canonical,[],y.formattedSection);this.paintVertexArray.resize(o),this._setPaintValue(E,o,I)}updatePaintArray(o,c,y,E,I){const N=this.expression.evaluate(new Ra(0,I),y,E);this._setPaintValue(o,c,N)}_setPaintValue(o,c,y){if(this.type==="color"){const E=Cf(y);for(let I=o;I<c;I++)this.paintVertexArray.emplace(I,E[0],E[1])}else{for(let E=o;E<c;E++)this.paintVertexArray.emplace(E,y);this.maxValue=Math.max(this.maxValue,Math.abs(y))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Ao{constructor(o,c,y,E,I,N){this.expression=o,this.uniformNames=c.map((F=>`u_${F}_t`)),this.type=y,this.useIntegerZoom=E,this.zoom=I,this.maxValue=0,this.paintVertexAttributes=c.map((F=>({name:`a_${F}`,type:"Float32",components:y==="color"?4:2,offset:0}))),this.paintVertexArray=new N}populatePaintArray(o,c,y){const E=this.expression.evaluate(new Ra(this.zoom,y),c,{},y.canonical,[],y.formattedSection),I=this.expression.evaluate(new Ra(this.zoom+1,y),c,{},y.canonical,[],y.formattedSection),N=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(N,o,E,I)}updatePaintArray(o,c,y,E,I){const N=this.expression.evaluate(new Ra(this.zoom,I),y,E),F=this.expression.evaluate(new Ra(this.zoom+1,I),y,E);this._setPaintValue(o,c,N,F)}_setPaintValue(o,c,y,E){if(this.type==="color"){const I=Cf(y),N=Cf(E);for(let F=o;F<c;F++)this.paintVertexArray.emplace(F,I[0],I[1],N[0],N[1])}else{for(let I=o;I<c;I++)this.paintVertexArray.emplace(I,y,E);this.maxValue=Math.max(this.maxValue,Math.abs(y),Math.abs(E))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,c){const y=this.useIntegerZoom?Math.floor(c.zoom):c.zoom,E=St(this.expression.interpolationFactor(y,this.zoom,this.zoom+1),0,1);o.set(E)}getBinding(o,c,y){return new Lu(o,c)}}class Sl{constructor(o,c,y,E,I,N){this.expression=o,this.type=c,this.useIntegerZoom=y,this.zoom=E,this.layerId=N,this.zoomInPaintVertexArray=new I,this.zoomOutPaintVertexArray=new I}populatePaintArray(o,c,y){const E=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(E,o,this.getPositionIds(c),y)}updatePaintArray(o,c,y,E,I){this._setPaintValues(o,c,this.getPositionIds(y),I)}_setPaintValues(o,c,y,E){const I=this.getPositions(E);if(!I||!y)return;const N=I[y.min],F=I[y.mid],V=I[y.max];if(N&&F&&V)for(let X=o;X<c;X++)this.emplace(this.zoomInPaintVertexArray,X,F,N),this.emplace(this.zoomOutPaintVertexArray,X,F,V)}upload(o){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const c=this.getVertexAttributes();this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,c,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,c,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Ci extends Sl{getPositions(o){return o.imagePositions}getPositionIds(o){return o.patterns&&o.patterns[this.layerId]}getVertexAttributes(){return Nn.members}emplace(o,c,y,E){o.emplace(c,y.tlbr[0],y.tlbr[1],y.tlbr[2],y.tlbr[3],E.tlbr[0],E.tlbr[1],E.tlbr[2],E.tlbr[3],y.pixelRatio,E.pixelRatio)}}class Ho extends Sl{getPositions(o){return o.dashPositions}getPositionIds(o){return o.dashes&&o.dashes[this.layerId]}getVertexAttributes(){return wr.members}emplace(o,c,y,E){o.emplace(c,0,y.y,y.height,y.width,0,E.y,E.height,E.width)}}class ul{constructor(o,c,y){this.binders={},this._buffers=[];const E=[];for(const I in o.paint._values){if(!y(I))continue;const N=o.paint.get(I);if(!(N instanceof Es&&bs(N.property.specification)))continue;const F=kg(I,o.type),V=N.value,X=N.property.specification.type,ae=N.property.useIntegerZoom,de=N.property.specification["property-type"],ge=de==="cross-faded"||de==="cross-faded-data-driven";if(V.kind==="constant")this.binders[I]=ge?new ao(V.value,F):new wl(V.value,F,X),E.push(`/u_${I}`);else if(V.kind==="source"||ge){const be=lp(I,X,"source");this.binders[I]=ge?I==="line-dasharray"?new Ho(V,X,ae,c,be,o.id):new Ci(V,X,ae,c,be,o.id):new Go(V,F,X,be),E.push(`/a_${I}`)}else{const be=lp(I,X,"composite");this.binders[I]=new Ao(V,F,X,ae,c,be),E.push(`/z_${I}`)}}this.cacheKey=E.sort().join("")}getMaxValue(o){const c=this.binders[o];return c instanceof Go||c instanceof Ao?c.maxValue:0}populatePaintArrays(o,c,y){for(const E in this.binders){const I=this.binders[E];(I instanceof Go||I instanceof Ao||I instanceof Sl)&&I.populatePaintArray(o,c,y)}}setConstantPatternPositions(o,c){for(const y in this.binders){const E=this.binders[y];E instanceof ao&&E.setConstantPatternPositions(o,c)}}setConstantDashPositions(o,c){for(const y in this.binders){const E=this.binders[y];E instanceof ao&&E.setConstantDashPositions(o,c)}}updatePaintArrays(o,c,y,E,I){let N=!1;for(const F in o){const V=c.getPositions(F);for(const X of V){const ae=y.feature(X.index);for(const de in this.binders){const ge=this.binders[de];if((ge instanceof Go||ge instanceof Ao||ge instanceof Sl)&&ge.expression.isStateDependent===!0){const be=E.paint.get(de);ge.expression=be.value,ge.updatePaintArray(X.start,X.end,ae,o[F],I),N=!0}}}}return N}defines(){const o=[];for(const c in this.binders){const y=this.binders[c];(y instanceof wl||y instanceof ao)&&o.push(...y.uniformNames.map((E=>`#define HAS_UNIFORM_${E}`)))}return o}getBinderAttributes(){const o=[];for(const c in this.binders){const y=this.binders[c];if(y instanceof Go||y instanceof Ao)for(let E=0;E<y.paintVertexAttributes.length;E++)o.push(y.paintVertexAttributes[E].name);else if(y instanceof Sl){const E=y.getVertexAttributes();for(const I of E)o.push(I.name)}}return o}getBinderUniforms(){const o=[];for(const c in this.binders){const y=this.binders[c];if(y instanceof wl||y instanceof ao||y instanceof Ao)for(const E of y.uniformNames)o.push(E)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,c){const y=[];for(const E in this.binders){const I=this.binders[E];if(I instanceof wl||I instanceof ao||I instanceof Ao){for(const N of I.uniformNames)if(c[N]){const F=I.getBinding(o,c[N],N);y.push({name:N,property:E,binding:F})}}}return y}setUniforms(o,c,y,E){for(const{name:I,property:N,binding:F}of c)this.binders[N].setUniform(F,E,y.get(N),I)}updatePaintBuffers(o){this._buffers=[];for(const c in this.binders){const y=this.binders[c];if(o&&y instanceof Sl){const E=o.fromScale===2?y.zoomInPaintVertexBuffer:y.zoomOutPaintVertexBuffer;E&&this._buffers.push(E)}else(y instanceof Go||y instanceof Ao)&&y.paintVertexBuffer&&this._buffers.push(y.paintVertexBuffer)}}upload(o){for(const c in this.binders){const y=this.binders[c];(y instanceof Go||y instanceof Ao||y instanceof Sl)&&y.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const c=this.binders[o];(c instanceof Go||c instanceof Ao||c instanceof Sl)&&c.destroy()}}}class xi{constructor(o,c,y=()=>!0){this.programConfigurations={};for(const E of o)this.programConfigurations[E.id]=new ul(E,c,y);this.needsUpload=!1,this._featureMap=new ro,this._bufferOffset=0}populatePaintArrays(o,c,y,E){for(const I in this.programConfigurations)this.programConfigurations[I].populatePaintArrays(o,c,E);c.id!==void 0&&this._featureMap.add(c.id,y,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,c,y,E){for(const I of y)this.needsUpload=this.programConfigurations[I.id].updatePaintArrays(o,this._featureMap,c,I,E)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}function kg(d,o){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[d]||[d.replace(`${o}-`,"").replace(/-/g,"_")]}function lp(d,o,c){const y={color:{source:nd,composite:uu},number:{source:Ui,composite:nd}},E=(function(I){return{"line-pattern":{source:pt,composite:pt},"fill-pattern":{source:pt,composite:pt},"fill-extrusion-pattern":{source:pt,composite:pt},"line-dasharray":{source:Tt,composite:Tt}}[I]})(d);return E&&E[c]||y[o][c]}or("ConstantBinder",wl),or("CrossFadedConstantBinder",ao),or("SourceExpressionBinder",Go),or("CrossFadedPatternBinder",Ci),or("CrossFadedDasharrayBinder",Ho),or("CompositeExpressionBinder",Ao),or("ProgramConfiguration",ul,{omit:["_buffers"]}),or("ProgramConfigurationSet",xi);const Ig=Math.pow(2,14)-1,Ng=-Ig-1;function ko(d){const o=Be/d.extent,c=d.loadGeometry();for(let y=0;y<c.length;y++){const E=c[y];for(let I=0;I<E.length;I++){const N=E[I],F=Math.round(N.x*o),V=Math.round(N.y*o);N.x=St(F,Ng,Ig),N.y=St(V,Ng,Ig),(F<N.x||F>N.x+1||V<N.y||V>N.y+1)&&_n("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return c}function jd(d,o){return{type:d.type,id:d.id,properties:d.properties,geometry:o?ko(d):[]}}const ad=-32768;function Zy(d,o,c,y,E){d.emplaceBack(ad+8*o+y,ad+8*c+E)}class Af{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new Le,this.indexArray=new Qt,this.segments=new On,this.programConfigurations=new xi(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(o,c,y){const E=this.layers[0],I=[];let N=null,F=!1,V=E.type==="heatmap";if(E.type==="circle"){const ae=E;N=ae.layout.get("circle-sort-key"),F=!N.isConstant(),V=V||ae.paint.get("circle-pitch-alignment")==="map"}const X=V?c.subdivisionGranularity.circle:1;for(const{feature:ae,id:de,index:ge,sourceLayerIndex:be}of o){const Ae=this.layers[0]._featureFilter.needGeometry,De=jd(ae,Ae);if(!this.layers[0]._featureFilter.filter(new Ra(this.zoom),De,y))continue;const Fe=F?N.evaluate(De,{},y):void 0,Ye={id:de,properties:ae.properties,type:ae.type,sourceLayerIndex:be,index:ge,geometry:Ae?De.geometry:ko(ae),patterns:{},sortKey:Fe};I.push(Ye)}F&&I.sort(((ae,de)=>ae.sortKey-de.sortKey));for(const ae of I){const{geometry:de,index:ge,sourceLayerIndex:be}=ae,Ae=o[ge].feature;this.addFeature(ae,de,ge,y,X),c.featureIndex.insert(Ae,de,ge,be,this.index)}}update(o,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,{imagePositions:y})}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,an),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,c,y,E,I=1){let N;switch(I){case 1:N=[0,7];break;case 3:N=[0,2,5,7];break;case 5:N=[0,1,3,4,6,7];break;case 7:N=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${I}; valid values are 1, 3, 5, 7.`)}const F=N.length;for(const V of c)for(const X of V){const ae=X.x,de=X.y;if(ae<0||ae>=Be||de<0||de>=Be)continue;const ge=this.segments.prepareSegment(F*F,this.layoutVertexArray,this.indexArray,o.sortKey),be=ge.vertexLength;for(let Ae=0;Ae<F;Ae++)for(let De=0;De<F;De++)Zy(this.layoutVertexArray,ae,de,N[De],N[Ae]);for(let Ae=0;Ae<F-1;Ae++)for(let De=0;De<F-1;De++){const Fe=be+Ae*F+De,Ye=be+(Ae+1)*F+De;this.indexArray.emplaceBack(Fe,Ye+1,Fe+1),this.indexArray.emplaceBack(Fe,Ye,Ye+1)}ge.vertexLength+=F*F,ge.primitiveLength+=(F-1)*(F-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,y,{imagePositions:{},canonical:E})}}function Rg(d,o){for(let c=0;c<d.length;c++)if(If(o,d[c]))return!0;for(let c=0;c<o.length;c++)if(If(d,o[c]))return!0;return!!Xy(d,o)}function kf(d,o,c){return!!If(d,o)||!!io(o,d,c)}function Pu(d,o){if(d.length===1)return sa(o,d[0]);for(let c=0;c<o.length;c++){const y=o[c];for(let E=0;E<y.length;E++)if(If(d,y[E]))return!0}for(let c=0;c<d.length;c++)if(sa(o,d[c]))return!0;for(let c=0;c<o.length;c++)if(Xy(d,o[c]))return!0;return!1}function up(d,o,c){if(d.length>1){if(Xy(d,o))return!0;for(let y=0;y<o.length;y++)if(io(o[y],d,c))return!0}for(let y=0;y<d.length;y++)if(io(d[y],o,c))return!0;return!1}function Xy(d,o){if(d.length===0||o.length===0)return!1;for(let c=0;c<d.length-1;c++){const y=d[c],E=d[c+1];for(let I=0;I<o.length-1;I++)if(Ky(y,E,o[I],o[I+1]))return!0}return!1}function Ky(d,o,c,y){return Lt(d,c,y)!==Lt(o,c,y)&&Lt(d,o,c)!==Lt(d,o,y)}function io(d,o,c){const y=c*c;if(o.length===1)return d.distSqr(o[0])<y;for(let E=1;E<o.length;E++)if(Io(d,o[E-1],o[E])<y)return!0;return!1}function Io(d,o,c){const y=o.distSqr(c);if(y===0)return d.distSqr(o);const E=((d.x-o.x)*(c.x-o.x)+(d.y-o.y)*(c.y-o.y))/y;return d.distSqr(E<0?o:E>1?c:c.sub(o)._mult(E)._add(o))}function sa(d,o){let c,y,E,I=!1;for(let N=0;N<d.length;N++){c=d[N];for(let F=0,V=c.length-1;F<c.length;V=F++)y=c[F],E=c[V],y.y>o.y!=E.y>o.y&&o.x<(E.x-y.x)*(o.y-y.y)/(E.y-y.y)+y.x&&(I=!I)}return I}function If(d,o){let c=!1;for(let y=0,E=d.length-1;y<d.length;E=y++){const I=d[y],N=d[E];I.y>o.y!=N.y>o.y&&o.x<(N.x-I.x)*(o.y-I.y)/(N.y-I.y)+I.x&&(c=!c)}return c}function bv(d,o,c){const y=c[0],E=c[2];if(d.x<y.x&&o.x<y.x||d.x>E.x&&o.x>E.x||d.y<y.y&&o.y<y.y||d.y>E.y&&o.y>E.y)return!1;const I=Lt(d,o,c[0]);return I!==Lt(d,o,c[1])||I!==Lt(d,o,c[2])||I!==Lt(d,o,c[3])}function _c(d,o,c){const y=o.paint.get(d).value;return y.kind==="constant"?y.value:c.programConfigurations.get(o.id).getMaxValue(d)}function cp(d){return Math.sqrt(d[0]*d[0]+d[1]*d[1])}function hm(d,o,c,y,E){if(!o[0]&&!o[1])return d;const I=m.convert(o)._mult(E);c==="viewport"&&I._rotate(-y);const N=[];for(let F=0;F<d.length;F++)N.push(d[F].sub(I));return N}function Qy(d){const o=[];for(let c=0;c<d.length;c++){const y=d[c],E=o.at(-1);(c===0||E&&!y.equals(E))&&o.push(y)}return o}function Tl({queryGeometry:d,size:o},c){return kf(d,c,o)}function $w({queryGeometry:d,size:o,transform:c,unwrappedTileID:y,getElevation:E},I){return kf(d,I,o*(c.projectTileCoordinates(I.x,I.y,y,E).signedDistanceFromCamera/c.cameraToCenterDistance))}function _v({queryGeometry:d,size:o,transform:c,unwrappedTileID:y,getElevation:E},I){const N=c.projectTileCoordinates(I.x,I.y,y,E).signedDistanceFromCamera,F=o*(c.cameraToCenterDistance/N);return kf(d,Jy(I,c,y,E),F)}function xv({queryGeometry:d,size:o,transform:c,unwrappedTileID:y,getElevation:E},I){return kf(d,Jy(I,c,y,E),o)}function a_({queryGeometry:d,size:o,transform:c,unwrappedTileID:y,getElevation:E,pitchAlignment:I="map",pitchScale:N="map"},F){const V=I==="map"?N==="map"?Tl:$w:N==="map"?_v:xv,X={queryGeometry:d,size:o,transform:c,unwrappedTileID:y,getElevation:E};for(const ae of F)for(const de of ae)if(V(X,de))return!0;return!1}function Jy(d,o,c,y){const E=o.projectTileCoordinates(d.x,d.y,c,y).point;return new m((.5*E.x+.5)*o.width,(.5*-E.y+.5)*o.height)}let i_,Ev;or("CircleBucket",Af,{omit:["layers"]});var o_={get paint(){return Ev=Ev||new fo({"circle-radius":new Er(Pt.paint_circle["circle-radius"]),"circle-color":new Er(Pt.paint_circle["circle-color"]),"circle-blur":new Er(Pt.paint_circle["circle-blur"]),"circle-opacity":new Er(Pt.paint_circle["circle-opacity"]),"circle-translate":new Cr(Pt.paint_circle["circle-translate"]),"circle-translate-anchor":new Cr(Pt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Cr(Pt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Cr(Pt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Er(Pt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Er(Pt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Er(Pt.paint_circle["circle-stroke-opacity"])})},get layout(){return i_=i_||new fo({"circle-sort-key":new Er(Pt.layout_circle["circle-sort-key"])})}};class zd extends Bs{constructor(o,c){super(o,o_,c)}createBucket(o){return new Af(o)}queryRadius(o){const c=o;return _c("circle-radius",this,c)+_c("circle-stroke-width",this,c)+cp(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:o,feature:c,featureState:y,geometry:E,transform:I,pixelsToTileUnits:N,unwrappedTileID:F,getElevation:V}){const X=hm(o,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-I.bearingInRadians,N),ae=this.paint.get("circle-radius").evaluate(c,y)+this.paint.get("circle-stroke-width").evaluate(c,y),de=this.paint.get("circle-pitch-scale"),ge=this.paint.get("circle-pitch-alignment");let be,Ae;return ge==="map"?(be=X,Ae=ae*N):(be=(function(De,Fe,Ye,vt){return De.map((Xe=>Jy(Xe,Fe,Ye,vt)))})(X,I,F,V),Ae=ae),a_({queryGeometry:be,size:Ae,transform:I,unwrappedTileID:F,getElevation:V,pitchAlignment:ge,pitchScale:de},E)}}class Cl extends Af{}let Mg;or("HeatmapBucket",Cl,{omit:["layers"]});var wv={get paint(){return Mg=Mg||new fo({"heatmap-radius":new Er(Pt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Er(Pt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Cr(Pt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ws(Pt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Cr(Pt.paint_heatmap["heatmap-opacity"])})}};function pm(d,{width:o,height:c},y,E){if(E){if(E instanceof Uint8ClampedArray)E=new Uint8Array(E.buffer);else if(E.length!==o*c*y)throw new RangeError(`mismatched image size. expected: ${E.length} but got: ${o*c*y}`)}else E=new Uint8Array(o*c*y);return d.width=o,d.height=c,d.data=E,d}function s_(d,{width:o,height:c},y){if(o===d.width&&c===d.height)return;const E=pm({},{width:o,height:c},y);e0(d,E,{x:0,y:0},{x:0,y:0},{width:Math.min(d.width,o),height:Math.min(d.height,c)},y),d.width=o,d.height=c,d.data=E.data}function e0(d,o,c,y,E,I){if(E.width===0||E.height===0)return o;if(E.width>d.width||E.height>d.height||c.x>d.width-E.width||c.y>d.height-E.height)throw new RangeError("out of range source coordinates for image copy");if(E.width>o.width||E.height>o.height||y.x>o.width-E.width||y.y>o.height-E.height)throw new RangeError("out of range destination coordinates for image copy");const N=d.data,F=o.data;if(N===F)throw new Error("srcData equals dstData, so image is already copied");for(let V=0;V<E.height;V++){const X=((c.y+V)*d.width+c.x)*I,ae=((y.y+V)*o.width+y.x)*I;for(let de=0;de<E.width*I;de++)F[ae+de]=N[X+de]}return o}class Nf{constructor(o,c){pm(this,o,1,c)}resize(o){s_(this,o,1)}clone(){return new Nf({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,y,E,I){e0(o,c,y,E,I,1)}}class po{constructor(o,c){pm(this,o,4,c)}resize(o){s_(this,o,4)}replace(o,c){c?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new po({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,c,y,E,I){e0(o,c,y,E,I,4)}setPixel(o,c,y){const E=4*(o*this.width+c);this.data[E+0]=Math.round(255*y.r/y.a),this.data[E+1]=Math.round(255*y.g/y.a),this.data[E+2]=Math.round(255*y.b/y.a),this.data[E+3]=Math.round(255*y.a)}}function t0(d){const o={},c=d.resolution||256,y=d.clips?d.clips.length:1,E=d.image||new po({width:c,height:y});if(Math.log(c)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${c}`);const I=(N,F,V)=>{o[d.evaluationKey]=V;const X=d.expression.evaluate(o);E.setPixel(N/4/c,F/4,X)};if(d.clips)for(let N=0,F=0;N<y;++N,F+=4*c)for(let V=0,X=0;V<c;V++,X+=4){const ae=V/(c-1),{start:de,end:ge}=d.clips[N];I(F,X,de*(1-ae)+ge*ae)}else for(let N=0,F=0;N<c;N++,F+=4)I(0,F,N/(c-1));return E}or("AlphaImage",Nf),or("RGBAImage",po);const l_="big-fb";class ox extends Bs{createBucket(o){return new Cl(o)}constructor(o,c){super(o,wv,c),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(o){o==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=t0({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(l_)&&this.heatmapFbos.delete(l_)}queryRadius(o){return _c("heatmap-radius",this,o)}queryIntersectsFeature({queryGeometry:o,feature:c,featureState:y,geometry:E,transform:I,pixelsToTileUnits:N,unwrappedTileID:F,getElevation:V}){return a_({queryGeometry:o,size:this.paint.get("heatmap-radius").evaluate(c,y)*N,transform:I,unwrappedTileID:F,getElevation:V},E)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}}let Rf;var u_={get paint(){return Rf=Rf||new fo({"hillshade-illumination-direction":new Cr(Pt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new Cr(Pt.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new Cr(Pt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Cr(Pt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Cr(Pt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Cr(Pt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Cr(Pt.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new Cr(Pt.paint_hillshade["hillshade-method"])})}};class c_ extends Bs{constructor(o,c){super(o,u_,c),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let o=this.paint.get("hillshade-illumination-direction").values,c=this.paint.get("hillshade-illumination-altitude").values,y=this.paint.get("hillshade-highlight-color").values,E=this.paint.get("hillshade-shadow-color").values;const I=Math.max(o.length,c.length,y.length,E.length);o=o.concat(Array(I-o.length).fill(o.at(-1))),c=c.concat(Array(I-c.length).fill(c.at(-1))),y=y.concat(Array(I-y.length).fill(y.at(-1))),E=E.concat(Array(I-E.length).fill(E.at(-1)));const N=c.map(hn);return{directionRadians:o.map(hn),altitudeRadians:N,shadowColor:E,highlightColor:y}}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}}let Og;var n0={get paint(){return Og=Og||new fo({"color-relief-opacity":new Cr(Pt["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new ws(Pt["paint_color-relief"]["color-relief-color"])})}};class Ai{constructor(o,c,y,E){this.context=o,this.format=y,this.texture=o.gl.createTexture(),this.update(c,E)}update(o,c,y){const{width:E,height:I}=o,N=!(this.size&&this.size[0]===E&&this.size[1]===I||y),{context:F}=this,{gl:V}=F;if(this.useMipmap=!!(c&&c.useMipmap),V.bindTexture(V.TEXTURE_2D,this.texture),F.pixelStoreUnpackFlipY.set(!1),F.pixelStoreUnpack.set(1),F.pixelStoreUnpackPremultiplyAlpha.set(this.format===V.RGBA&&(!c||c.premultiply!==!1)),N)this.size=[E,I],o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||tr(o)?V.texImage2D(V.TEXTURE_2D,0,this.format,this.format,V.UNSIGNED_BYTE,o):V.texImage2D(V.TEXTURE_2D,0,this.format,E,I,0,this.format,V.UNSIGNED_BYTE,o.data);else{const{x:X,y:ae}=y||{x:0,y:0};o instanceof HTMLImageElement||o instanceof HTMLCanvasElement||o instanceof HTMLVideoElement||o instanceof ImageData||tr(o)?V.texSubImage2D(V.TEXTURE_2D,0,X,ae,V.RGBA,V.UNSIGNED_BYTE,o):V.texSubImage2D(V.TEXTURE_2D,0,X,ae,E,I,V.RGBA,V.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&V.generateMipmap(V.TEXTURE_2D),F.pixelStoreUnpackFlipY.setDefault(),F.pixelStoreUnpack.setDefault(),F.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(o,c,y){const{context:E}=this,{gl:I}=E;I.bindTexture(I.TEXTURE_2D,this.texture),y!==I.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(y=I.LINEAR),o!==this.filter&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,o),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,y||o),this.filter=o),c!==this.wrap&&(I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_S,c),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class d_{constructor(o,c,y,E=1,I=1,N=1,F=0){if(this.uid=o,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(y&&!["mapbox","terrarium","custom"].includes(y))return void _n(`"${y}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=c.height;const V=this.dim=c.height-2;switch(this.data=new Uint32Array(c.data.buffer),y){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=E,this.greenFactor=I,this.blueFactor=N,this.baseShift=F;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let X=0;X<V;X++)this.data[this._idx(-1,X)]=this.data[this._idx(0,X)],this.data[this._idx(V,X)]=this.data[this._idx(V-1,X)],this.data[this._idx(X,-1)]=this.data[this._idx(X,0)],this.data[this._idx(X,V)]=this.data[this._idx(X,V-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(V,-1)]=this.data[this._idx(V-1,0)],this.data[this._idx(-1,V)]=this.data[this._idx(0,V-1)],this.data[this._idx(V,V)]=this.data[this._idx(V-1,V-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let X=0;X<V;X++)for(let ae=0;ae<V;ae++){const de=this.get(X,ae);de>this.max&&(this.max=de),de<this.min&&(this.min=de)}}get(o,c){const y=new Uint8Array(this.data.buffer),E=4*this._idx(o,c);return this.unpack(y[E],y[E+1],y[E+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(o,c){if(o<-1||o>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(o+1)}unpack(o,c,y){return o*this.redFactor+c*this.greenFactor+y*this.blueFactor-this.baseShift}pack(o){return Dg(o,this.getUnpackVector())}getPixels(){return new po({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,c,y){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let E=c*this.dim,I=c*this.dim+this.dim,N=y*this.dim,F=y*this.dim+this.dim;switch(c){case-1:E=I-1;break;case 1:I=E+1}switch(y){case-1:N=F-1;break;case 1:F=N+1}const V=-c*this.dim,X=-y*this.dim;for(let ae=N;ae<F;ae++)for(let de=E;de<I;de++)this.data[this._idx(de,ae)]=o.data[this._idx(de+V,ae+X)]}}function Dg(d,o){const c=o[0],y=o[1],E=o[2],I=o[3],N=Math.min(c,y,E),F=Math.round((d+I)/N);return{r:Math.floor(F*N/c)%256,g:Math.floor(F*N/y)%256,b:Math.floor(F*N/E)%256}}or("DEMData",d_);class Sv extends Bs{constructor(o,c){super(o,n0,c)}_createColorRamp(o){const c={elevationStops:[],colorStops:[]},y=this._transitionablePaint._values["color-relief-color"].value.expression;if(y instanceof rl&&y._styleExpression.expression instanceof Os){this.colorRampExpression=y;const N=y._styleExpression.expression;c.elevationStops=N.labels,c.colorStops=[];for(const F of c.elevationStops)c.colorStops.push(N.evaluate({globals:{elevation:F}}))}if(c.elevationStops.length<1&&(c.elevationStops=[0],c.colorStops=[Jr.transparent]),c.elevationStops.length<2&&(c.elevationStops.push(c.elevationStops[0]+1),c.colorStops.push(c.colorStops[0])),c.elevationStops.length<=o)return c;const E={elevationStops:[],colorStops:[]},I=(c.elevationStops.length-1)/(o-1);for(let N=0;N<c.elevationStops.length-.5;N+=I)E.elevationStops.push(c.elevationStops[Math.round(N)]),E.colorStops.push(c.colorStops[Math.round(N)]);return _n(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${o}, provided: ${c.elevationStops.length}`),E}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(o,c,y){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const E=this._createColorRamp(c),I=new po({width:E.colorStops.length,height:1}),N=new po({width:E.colorStops.length,height:1});for(let F=0;F<E.elevationStops.length;F++){const V=Dg(E.elevationStops[F],y);N.setPixel(0,F,new Jr(V.r/255,V.g/255,V.b/255,1)),I.setPixel(0,F,E.colorStops[F])}return this.colorRampTextures={elevationTexture:new Ai(o,N,o.gl.RGBA),colorTexture:new Ai(o,I,o.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return this.visibility!=="none"&&!!this.colorRampTextures}}const Lg=Lr([{name:"a_pos",components:2,type:"Int16"}],4),{members:hh}=Lg;function dp(d,o,c){const y=c.patternDependencies;let E=!1;for(const I of o){const N=I.paint.get(`${d}-pattern`);N.isConstant()||(E=!0);const F=N.constantOr(null);F&&(E=!0,y[F.to]=!0,y[F.from]=!0)}return E}function r0(d,o,c,y,E){const{zoom:I}=y,N=E.patternDependencies;for(const F of o){const V=F.paint.get(`${d}-pattern`).value;if(V.kind!=="constant"){let X=V.evaluate({zoom:I-1},c,{},E.availableImages),ae=V.evaluate({zoom:I},c,{},E.availableImages),de=V.evaluate({zoom:I+1},c,{},E.availableImages);X=X&&X.name?X.name:X,ae=ae&&ae.name?ae.name:ae,de=de&&de.name?de.name:de,N[X]=!0,N[ae]=!0,N[de]=!0,c.patterns[F.id]={min:X,mid:ae,max:de}}}return c}function cu(d,o,c,y,E){let I;if(E===(function(N,F,V,X){let ae=0;for(let de=F,ge=V-X;de<V;de+=X)ae+=(N[ge]-N[de])*(N[de+1]+N[ge+1]),ge=de;return ae})(d,o,c,y)>0)for(let N=o;N<c;N+=y)I=g_(N/y|0,d[N],d[N+1],I);else for(let N=c-y;N>=o;N-=y)I=g_(N/y|0,d[N],d[N+1],I);return I&&fp(I,I.next)&&(a0(I),I=I.next),I}function Vo(d,o){if(!d)return d;o||(o=d);let c,y=d;do if(c=!1,y.steiner||!fp(y,y.next)&&oo(y.prev,y,y.next)!==0)y=y.next;else{if(a0(y),y=o=y.prev,y===y.next)break;c=!0}while(c||y!==o);return o}function Pg(d,o,c,y,E,I,N){if(!d)return;!N&&I&&(function(V,X,ae,de){let ge=V;do ge.z===0&&(ge.z=qo(ge.x,ge.y,X,ae,de)),ge.prevZ=ge.prev,ge.nextZ=ge.next,ge=ge.next;while(ge!==V);ge.prevZ.nextZ=null,ge.prevZ=null,(function(be){let Ae,De=1;do{let Fe,Ye=be;be=null;let vt=null;for(Ae=0;Ye;){Ae++;let Xe=Ye,at=0;for(let kt=0;kt<De&&(at++,Xe=Xe.nextZ,Xe);kt++);let Et=De;for(;at>0||Et>0&&Xe;)at!==0&&(Et===0||!Xe||Ye.z<=Xe.z)?(Fe=Ye,Ye=Ye.nextZ,at--):(Fe=Xe,Xe=Xe.nextZ,Et--),vt?vt.nextZ=Fe:be=Fe,Fe.prevZ=vt,vt=Fe;Ye=Xe}vt.nextZ=null,De*=2}while(Ae>1)})(ge)})(d,y,E,I);let F=d;for(;d.prev!==d.next;){const V=d.prev,X=d.next;if(I?sx(d,y,E,I):Tv(d))o.push(V.i,d.i,X.i),a0(d),d=X.next,F=X.next;else if((d=X)===F){N?N===1?Pg(d=f_(Vo(d),o),o,c,y,E,I,2):N===2&&h_(d,o,c,y,E,I):Pg(Vo(d),o,c,y,E,I,1);break}}}function Tv(d){const o=d.prev,c=d,y=d.next;if(oo(o,c,y)>=0)return!1;const E=o.x,I=c.x,N=y.x,F=o.y,V=c.y,X=y.y,ae=Math.min(E,I,N),de=Math.min(F,V,X),ge=Math.max(E,I,N),be=Math.max(F,V,X);let Ae=y.next;for(;Ae!==o;){if(Ae.x>=ae&&Ae.x<=ge&&Ae.y>=de&&Ae.y<=be&&Yo(E,F,I,V,N,X,Ae.x,Ae.y)&&oo(Ae.prev,Ae,Ae.next)>=0)return!1;Ae=Ae.next}return!0}function sx(d,o,c,y){const E=d.prev,I=d,N=d.next;if(oo(E,I,N)>=0)return!1;const F=E.x,V=I.x,X=N.x,ae=E.y,de=I.y,ge=N.y,be=Math.min(F,V,X),Ae=Math.min(ae,de,ge),De=Math.max(F,V,X),Fe=Math.max(ae,de,ge),Ye=qo(be,Ae,o,c,y),vt=qo(De,Fe,o,c,y);let Xe=d.prevZ,at=d.nextZ;for(;Xe&&Xe.z>=Ye&&at&&at.z<=vt;){if(Xe.x>=be&&Xe.x<=De&&Xe.y>=Ae&&Xe.y<=Fe&&Xe!==E&&Xe!==N&&Yo(F,ae,V,de,X,ge,Xe.x,Xe.y)&&oo(Xe.prev,Xe,Xe.next)>=0||(Xe=Xe.prevZ,at.x>=be&&at.x<=De&&at.y>=Ae&&at.y<=Fe&&at!==E&&at!==N&&Yo(F,ae,V,de,X,ge,at.x,at.y)&&oo(at.prev,at,at.next)>=0))return!1;at=at.nextZ}for(;Xe&&Xe.z>=Ye;){if(Xe.x>=be&&Xe.x<=De&&Xe.y>=Ae&&Xe.y<=Fe&&Xe!==E&&Xe!==N&&Yo(F,ae,V,de,X,ge,Xe.x,Xe.y)&&oo(Xe.prev,Xe,Xe.next)>=0)return!1;Xe=Xe.prevZ}for(;at&&at.z<=vt;){if(at.x>=be&&at.x<=De&&at.y>=Ae&&at.y<=Fe&&at!==E&&at!==N&&Yo(F,ae,V,de,X,ge,at.x,at.y)&&oo(at.prev,at,at.next)>=0)return!1;at=at.nextZ}return!0}function f_(d,o){let c=d;do{const y=c.prev,E=c.next.next;!fp(y,E)&&Xi(y,c,c.next,E)&&Fg(y,E)&&Fg(E,y)&&(o.push(y.i,c.i,E.i),a0(c),a0(c.next),c=d=E),c=c.next}while(c!==d);return Vo(c)}function h_(d,o,c,y,E,I){let N=d;do{let F=N.next.next;for(;F!==N.prev;){if(N.i!==F.i&&jw(N,F)){let V=Av(N,F);return N=Vo(N,N.next),V=Vo(V,V.next),Pg(N,o,c,y,E,I,0),void Pg(V,o,c,y,E,I,0)}F=F.next}N=N.next}while(N!==d)}function Cv(d,o){let c=d.x-o.x;return c===0&&(c=d.y-o.y,c===0)&&(c=(d.next.y-d.y)/(d.next.x-d.x)-(o.next.y-o.y)/(o.next.x-o.x)),c}function lx(d,o){const c=(function(E,I){let N=I;const F=E.x,V=E.y;let X,ae=-1/0;if(fp(E,N))return N;do{if(fp(E,N.next))return N.next;if(V<=N.y&&V>=N.next.y&&N.next.y!==N.y){const De=N.x+(V-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(De<=F&&De>ae&&(ae=De,X=N.x<N.next.x?N:N.next,De===F))return X}N=N.next}while(N!==I);if(!X)return null;const de=X,ge=X.x,be=X.y;let Ae=1/0;N=X;do{if(F>=N.x&&N.x>=ge&&F!==N.x&&m_(V<be?F:ae,V,ge,be,V<be?ae:F,V,N.x,N.y)){const De=Math.abs(V-N.y)/(F-N.x);Fg(N,E)&&(De<Ae||De===Ae&&(N.x>X.x||N.x===X.x&&ph(X,N)))&&(X=N,Ae=De)}N=N.next}while(N!==de);return X})(d,o);if(!c)return o;const y=Av(c,d);return Vo(y,y.next),Vo(c,c.next)}function ph(d,o){return oo(d.prev,d,o.prev)<0&&oo(o.next,d,d.next)<0}function qo(d,o,c,y,E){return(d=1431655765&((d=858993459&((d=252645135&((d=16711935&((d=(d-c)*E|0)|d<<8))|d<<4))|d<<2))|d<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=(o-y)*E|0)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function p_(d){let o=d,c=d;do(o.x<c.x||o.x===c.x&&o.y<c.y)&&(c=o),o=o.next;while(o!==d);return c}function m_(d,o,c,y,E,I,N,F){return(E-N)*(o-F)>=(d-N)*(I-F)&&(d-N)*(y-F)>=(c-N)*(o-F)&&(c-N)*(I-F)>=(E-N)*(y-F)}function Yo(d,o,c,y,E,I,N,F){return!(d===N&&o===F)&&m_(d,o,c,y,E,I,N,F)}function jw(d,o){return d.next.i!==o.i&&d.prev.i!==o.i&&!(function(c,y){let E=c;do{if(E.i!==c.i&&E.next.i!==c.i&&E.i!==y.i&&E.next.i!==y.i&&Xi(E,E.next,c,y))return!0;E=E.next}while(E!==c);return!1})(d,o)&&(Fg(d,o)&&Fg(o,d)&&(function(c,y){let E=c,I=!1;const N=(c.x+y.x)/2,F=(c.y+y.y)/2;do E.y>F!=E.next.y>F&&E.next.y!==E.y&&N<(E.next.x-E.x)*(F-E.y)/(E.next.y-E.y)+E.x&&(I=!I),E=E.next;while(E!==c);return I})(d,o)&&(oo(d.prev,d,o.prev)||oo(d,o.prev,o))||fp(d,o)&&oo(d.prev,d,d.next)>0&&oo(o.prev,o,o.next)>0)}function oo(d,o,c){return(o.y-d.y)*(c.x-o.x)-(o.x-d.x)*(c.y-o.y)}function fp(d,o){return d.x===o.x&&d.y===o.y}function Xi(d,o,c,y){const E=id(oo(d,o,c)),I=id(oo(d,o,y)),N=id(oo(c,y,d)),F=id(oo(c,y,o));return E!==I&&N!==F||!(E!==0||!Al(d,c,o))||!(I!==0||!Al(d,y,o))||!(N!==0||!Al(c,d,y))||!(F!==0||!Al(c,o,y))}function Al(d,o,c){return o.x<=Math.max(d.x,c.x)&&o.x>=Math.min(d.x,c.x)&&o.y<=Math.max(d.y,c.y)&&o.y>=Math.min(d.y,c.y)}function id(d){return d>0?1:d<0?-1:0}function Fg(d,o){return oo(d.prev,d,d.next)<0?oo(d,o,d.next)>=0&&oo(d,d.prev,o)>=0:oo(d,o,d.prev)<0||oo(d,d.next,o)<0}function Av(d,o){const c=Bg(d.i,d.x,d.y),y=Bg(o.i,o.x,o.y),E=d.next,I=o.prev;return d.next=o,o.prev=d,c.next=E,E.prev=c,y.next=c,c.prev=y,I.next=y,y.prev=I,y}function g_(d,o,c,y){const E=Bg(d,o,c);return y?(E.next=y.next,E.prev=y,y.next.prev=E,y.next=E):(E.prev=E,E.next=E),E}function a0(d){d.next.prev=d.prev,d.prev.next=d.next,d.prevZ&&(d.prevZ.nextZ=d.nextZ),d.nextZ&&(d.nextZ.prevZ=d.prevZ)}function Bg(d,o,c){return{i:d,x:o,y:c,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class js{constructor(o,c){if(c>o)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=o,this._minGranularity=c}getGranularityForZoomLevel(o){return Math.max(Math.floor(this._baseZoomGranularity/(1<<o)),this._minGranularity,1)}}class Fu{constructor(o){this.fill=o.fill,this.line=o.line,this.tile=o.tile,this.stencil=o.stencil,this.circle=o.circle}}Fu.noSubdivision=new Fu({fill:new js(0,0),line:new js(0,0),tile:new js(0,0),stencil:new js(0,0),circle:1}),or("SubdivisionGranularityExpression",js),or("SubdivisionGranularitySetting",Fu);const mm=-32768,ki=32767;class ux{constructor(o,c){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=o,this._granularityCellSize=Be/o,this._canonical=c}_getKey(o,c){return(o+=32768)<<16|c+32768}_vertexToIndex(o,c){if(o<-32768||c<-32768||o>32767||c>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const y=0|Math.round(o),E=0|Math.round(c),I=this._getKey(y,E);if(this._vertexDictionary.has(I))return this._vertexDictionary.get(I);const N=this._vertexBuffer.length/2;return this._vertexDictionary.set(I,N),this._vertexBuffer.push(y,E),N}_subdivideTrianglesScanline(o){if(this._granularity<2)return(function(E,I){const N=[];for(let F=0;F<I.length;F+=3){const V=I[F],X=I[F+1],ae=I[F+2],de=E[2*V],ge=E[2*V+1];(E[2*X]-de)*(E[2*ae+1]-ge)-(E[2*X+1]-ge)*(E[2*ae]-de)>0?(N.push(V),N.push(ae),N.push(X)):(N.push(V),N.push(X),N.push(ae))}return N})(this._vertexBuffer,o);const c=[],y=o.length;for(let E=0;E<y;E+=3){const I=[o[E+0],o[E+1],o[E+2]],N=[this._vertexBuffer[2*o[E+0]+0],this._vertexBuffer[2*o[E+0]+1],this._vertexBuffer[2*o[E+1]+0],this._vertexBuffer[2*o[E+1]+1],this._vertexBuffer[2*o[E+2]+0],this._vertexBuffer[2*o[E+2]+1]];let F=1/0,V=1/0,X=-1/0,ae=-1/0;for(let De=0;De<3;De++){const Fe=N[2*De],Ye=N[2*De+1];F=Math.min(F,Fe),X=Math.max(X,Fe),V=Math.min(V,Ye),ae=Math.max(ae,Ye)}if(F===X||V===ae)continue;const de=Math.floor(F/this._granularityCellSize),ge=Math.ceil(X/this._granularityCellSize),be=Math.floor(V/this._granularityCellSize),Ae=Math.ceil(ae/this._granularityCellSize);if(de!==ge||be!==Ae)for(let De=be;De<Ae;De++){const Fe=this._scanlineGenerateVertexRingForCellRow(De,N,I);Of(this._vertexBuffer,Fe,c)}else c.push(...I)}return c}_scanlineGenerateVertexRingForCellRow(o,c,y){const E=o*this._granularityCellSize,I=E+this._granularityCellSize,N=[];for(let F=0;F<3;F++){const V=c[2*F],X=c[2*F+1],ae=c[2*(F+1)%6],de=c[(2*(F+1)+1)%6],ge=c[2*(F+2)%6],be=c[(2*(F+2)+1)%6],Ae=ae-V,De=de-X,Fe=Ae===0,Ye=De===0,vt=(E-X)/De,Xe=(I-X)/De,at=Math.min(vt,Xe),Et=Math.max(vt,Xe);if(!Ye&&(at>=1||Et<=0)||Ye&&(X<E||X>I)){de>=E&&de<=I&&N.push(y[(F+1)%3]);continue}!Ye&&at>0&&N.push(this._vertexToIndex(V+Ae*at,X+De*at));const kt=V+Ae*Math.max(at,0),tn=V+Ae*Math.min(Et,1);Fe||this._generateIntraEdgeVertices(N,V,X,ae,de,kt,tn),!Ye&&Et<1&&N.push(this._vertexToIndex(V+Ae*Et,X+De*Et)),(Ye||de>=E&&de<=I)&&N.push(y[(F+1)%3]),!Ye&&(de<=E||de>=I)&&this._generateInterEdgeVertices(N,V,X,ae,de,ge,be,tn,E,I)}return N}_generateIntraEdgeVertices(o,c,y,E,I,N,F){const V=E-c,X=I-y,ae=X===0,de=ae?Math.min(c,E):Math.min(N,F),ge=ae?Math.max(c,E):Math.max(N,F),be=Math.floor(de/this._granularityCellSize)+1,Ae=Math.ceil(ge/this._granularityCellSize)-1;if(ae?c<E:N<F)for(let De=be;De<=Ae;De++){const Fe=De*this._granularityCellSize;o.push(this._vertexToIndex(Fe,y+X*(Fe-c)/V))}else for(let De=Ae;De>=be;De--){const Fe=De*this._granularityCellSize;o.push(this._vertexToIndex(Fe,y+X*(Fe-c)/V))}}_generateInterEdgeVertices(o,c,y,E,I,N,F,V,X,ae){const de=I-y,ge=N-E,be=F-I,Ae=(X-I)/be,De=(ae-I)/be,Fe=Math.min(Ae,De),Ye=Math.max(Ae,De),vt=E+ge*Fe;let Xe=Math.floor(Math.min(vt,V)/this._granularityCellSize)+1,at=Math.ceil(Math.max(vt,V)/this._granularityCellSize)-1,Et=V<vt;const kt=be===0;if(kt&&(F===X||F===ae))return;if(kt||Fe>=1||Ye<=0){const Sn=y-F,yn=N+(c-N)*Math.min((X-F)/Sn,(ae-F)/Sn);Xe=Math.floor(Math.min(yn,V)/this._granularityCellSize)+1,at=Math.ceil(Math.max(yn,V)/this._granularityCellSize)-1,Et=V<yn}const tn=de>0?ae:X;if(Et)for(let Sn=Xe;Sn<=at;Sn++)o.push(this._vertexToIndex(Sn*this._granularityCellSize,tn));else for(let Sn=at;Sn>=Xe;Sn--)o.push(this._vertexToIndex(Sn*this._granularityCellSize,tn))}_generateOutline(o){const c=[];for(const y of o){const E=xc(y,this._granularity,!0),I=this._pointArrayToIndices(E),N=[];for(let F=1;F<I.length;F++)N.push(I[F-1]),N.push(I[F]);c.push(N)}return c}_handlePoles(o){let c=!1,y=!1;this._canonical&&(this._canonical.y===0&&(c=!0),this._canonical.y===(1<<this._canonical.z)-1&&(y=!0)),(c||y)&&this._fillPoles(o,c,y)}_ensureNoPoleVertices(){const o=this._vertexBuffer;for(let c=0;c<o.length;c+=2){const y=o[c+1];y===mm&&(o[c+1]=-32767),y===ki&&(o[c+1]=32766)}}_generatePoleQuad(o,c,y,E,I,N){E>I!=(N===mm)?(o.push(c),o.push(y),o.push(this._vertexToIndex(E,N)),o.push(y),o.push(this._vertexToIndex(I,N)),o.push(this._vertexToIndex(E,N))):(o.push(y),o.push(c),o.push(this._vertexToIndex(E,N)),o.push(this._vertexToIndex(I,N)),o.push(y),o.push(this._vertexToIndex(E,N)))}_fillPoles(o,c,y){const E=this._vertexBuffer,I=Be,N=o.length;for(let F=2;F<N;F+=3){const V=o[F-2],X=o[F-1],ae=o[F],de=E[2*V],ge=E[2*V+1],be=E[2*X],Ae=E[2*X+1],De=E[2*ae],Fe=E[2*ae+1];c&&(ge===0&&Ae===0&&this._generatePoleQuad(o,V,X,de,be,mm),Ae===0&&Fe===0&&this._generatePoleQuad(o,X,ae,be,De,mm),Fe===0&&ge===0&&this._generatePoleQuad(o,ae,V,De,de,mm)),y&&(ge===I&&Ae===I&&this._generatePoleQuad(o,V,X,de,be,ki),Ae===I&&Fe===I&&this._generatePoleQuad(o,X,ae,be,De,ki),Fe===I&&ge===I&&this._generatePoleQuad(o,ae,V,De,de,ki))}}_initializeVertices(o){for(let c=0;c<o.length;c+=2)this._vertexToIndex(o[c],o[c+1])}subdividePolygonInternal(o,c){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:y,holeIndices:E}=(function(F){const V=[],X=[];for(const ae of F)if(ae.length!==0){ae!==F[0]&&V.push(X.length/2);for(let de=0;de<ae.length;de++)X.push(ae[de].x),X.push(ae[de].y)}return{flattened:X,holeIndices:V}})(o);let I;this._initializeVertices(y);try{const F=(function(X,ae,de=2){const ge=ae&&ae.length,be=ge?ae[0]*de:X.length;let Ae=cu(X,0,be,de,!0);const De=[];if(!Ae||Ae.next===Ae.prev)return De;let Fe,Ye,vt;if(ge&&(Ae=(function(Xe,at,Et,kt){const tn=[];for(let Sn=0,yn=at.length;Sn<yn;Sn++){const Ln=cu(Xe,at[Sn]*kt,Sn<yn-1?at[Sn+1]*kt:Xe.length,kt,!1);Ln===Ln.next&&(Ln.steiner=!0),tn.push(p_(Ln))}tn.sort(Cv);for(let Sn=0;Sn<tn.length;Sn++)Et=lx(tn[Sn],Et);return Et})(X,ae,Ae,de)),X.length>80*de){Fe=X[0],Ye=X[1];let Xe=Fe,at=Ye;for(let Et=de;Et<be;Et+=de){const kt=X[Et],tn=X[Et+1];kt<Fe&&(Fe=kt),tn<Ye&&(Ye=tn),kt>Xe&&(Xe=kt),tn>at&&(at=tn)}vt=Math.max(Xe-Fe,at-Ye),vt=vt!==0?32767/vt:0}return Pg(Ae,De,de,Fe,Ye,vt,0),De})(y,E),V=this._convertIndices(y,F);I=this._subdivideTrianglesScanline(V)}catch(F){console.error(F)}let N=[];return c&&(N=this._generateOutline(o)),this._ensureNoPoleVertices(),this._handlePoles(I),{verticesFlattened:this._vertexBuffer,indicesTriangles:I,indicesLineList:N}}_convertIndices(o,c){const y=[];for(let E=0;E<c.length;E++)y.push(this._vertexToIndex(o[2*c[E]],o[2*c[E]+1]));return y}_pointArrayToIndices(o){const c=[];for(let y=0;y<o.length;y++){const E=o[y];c.push(this._vertexToIndex(E.x,E.y))}return c}}function Mf(d,o,c,y=!0){return new ux(c,o).subdividePolygonInternal(d,y)}function xc(d,o,c=!1){if(!d||d.length<1)return[];if(d.length<2)return[];const y=d[0],E=d[d.length-1],I=c&&(y.x!==E.x||y.y!==E.y);if(o<2)return I?[...d,d[0]]:[...d];const N=Math.floor(Be/o),F=[];F.push(new m(d[0].x,d[0].y));const V=d.length,X=I?V:V-1;for(let ae=0;ae<X;ae++){const de=d[ae],ge=ae<V-1?d[ae+1]:d[0],be=de.x,Ae=de.y,De=ge.x,Fe=ge.y,Ye=be!==De,vt=Ae!==Fe;if(!Ye&&!vt)continue;const Xe=De-be,at=Fe-Ae,Et=Math.abs(Xe),kt=Math.abs(at);let tn=be,Sn=Ae;for(;;){const Ln=Xe>0?(Math.floor(tn/N)+1)*N:(Math.ceil(tn/N)-1)*N,ar=at>0?(Math.floor(Sn/N)+1)*N:(Math.ceil(Sn/N)-1)*N,Un=Math.abs(tn-Ln),bn=Math.abs(Sn-ar),un=Math.abs(tn-De),vr=Math.abs(Sn-Fe),mr=Ye?Un/Et:Number.POSITIVE_INFINITY,Sr=vt?bn/kt:Number.POSITIVE_INFINITY;if((un<=Un||!Ye)&&(vr<=bn||!vt))break;if(mr<Sr&&Ye||!vt){tn=Ln,Sn+=at*mr;const dr=new m(tn,Math.round(Sn));F[F.length-1].x===dr.x&&F[F.length-1].y===dr.y||F.push(dr)}else{tn+=Xe*Sr,Sn=ar;const dr=new m(Math.round(tn),Sn);F[F.length-1].x===dr.x&&F[F.length-1].y===dr.y||F.push(dr)}}const yn=new m(De,Fe);F[F.length-1].x===yn.x&&F[F.length-1].y===yn.y||F.push(yn)}return F}function Of(d,o,c){if(o.length===0)throw new Error("Subdivision vertex ring is empty.");let y=0,E=d[2*o[0]];for(let V=1;V<o.length;V++){const X=d[2*o[V]];X<E&&(E=X,y=V)}const I=o.length;let N=y,F=(N+1)%I;for(;;){const V=N-1>=0?N-1:I-1,X=(F+1)%I,ae=d[2*o[V]],de=d[2*o[X]],ge=d[2*o[N]],be=d[2*o[N]+1],Ae=d[2*o[F]+1];let De=!1;if(ae<de)De=!0;else if(ae>de)De=!1;else{const Fe=Ae-be,Ye=-(d[2*o[F]]-ge),vt=be<Ae?1:-1;((ae-ge)*Fe+(d[2*o[V]+1]-be)*Ye)*vt>((de-ge)*Fe+(d[2*o[X]+1]-be)*Ye)*vt&&(De=!0)}if(De){const Fe=o[V],Ye=o[N],vt=o[F];Fe!==Ye&&Fe!==vt&&Ye!==vt&&c.push(vt,Ye,Fe),N--,N<0&&(N=I-1)}else{const Fe=o[X],Ye=o[N],vt=o[F];Fe!==Ye&&Fe!==vt&&Ye!==vt&&c.push(vt,Ye,Fe),F++,F>=I&&(F=0)}if(V===X)break}}function kv(d,o,c,y,E,I,N,F,V){const X=E.length/2,ae=N&&F&&V;if(X<On.MAX_VERTEX_ARRAY_LENGTH){const de=o.prepareSegment(X,c,y),ge=de.vertexLength;for(let De=0;De<I.length;De+=3)y.emplaceBack(ge+I[De],ge+I[De+1],ge+I[De+2]);let be,Ae;de.vertexLength+=X,de.primitiveLength+=I.length/3,ae&&(Ae=N.prepareSegment(X,c,F),be=Ae.vertexLength,Ae.vertexLength+=X);for(let De=0;De<E.length;De+=2)d(E[De],E[De+1]);if(ae)for(let De=0;De<V.length;De++){const Fe=V[De];for(let Ye=1;Ye<Fe.length;Ye+=2)F.emplaceBack(be+Fe[Ye-1],be+Fe[Ye]);Ae.primitiveLength+=Fe.length/2}}else(function(de,ge,be,Ae,De,Fe){const Ye=[];for(let kt=0;kt<Ae.length/2;kt++)Ye.push(-1);const vt={count:0};let Xe=0,at=de.getOrCreateLatestSegment(ge,be),Et=at.vertexLength;for(let kt=2;kt<De.length;kt+=3){const tn=De[kt-2],Sn=De[kt-1],yn=De[kt];let Ln=Ye[tn]<Xe,ar=Ye[Sn]<Xe,Un=Ye[yn]<Xe;at.vertexLength+((Ln?1:0)+(ar?1:0)+(Un?1:0))>On.MAX_VERTEX_ARRAY_LENGTH&&(at=de.createNewSegment(ge,be),Xe=vt.count,Ln=!0,ar=!0,Un=!0,Et=0);const bn=gm(Ye,Ae,Fe,vt,tn,Ln,at),un=gm(Ye,Ae,Fe,vt,Sn,ar,at),vr=gm(Ye,Ae,Fe,vt,yn,Un,at);be.emplaceBack(Et+bn-Xe,Et+un-Xe,Et+vr-Xe),at.primitiveLength++}})(o,c,y,E,I,d),ae&&(function(de,ge,be,Ae,De,Fe){const Ye=[];for(let kt=0;kt<Ae.length/2;kt++)Ye.push(-1);const vt={count:0};let Xe=0,at=de.getOrCreateLatestSegment(ge,be),Et=at.vertexLength;for(let kt=0;kt<De.length;kt++){const tn=De[kt];for(let Sn=1;Sn<De[kt].length;Sn+=2){const yn=tn[Sn-1],Ln=tn[Sn];let ar=Ye[yn]<Xe,Un=Ye[Ln]<Xe;at.vertexLength+((ar?1:0)+(Un?1:0))>On.MAX_VERTEX_ARRAY_LENGTH&&(at=de.createNewSegment(ge,be),Xe=vt.count,ar=!0,Un=!0,Et=0);const bn=gm(Ye,Ae,Fe,vt,yn,ar,at),un=gm(Ye,Ae,Fe,vt,Ln,Un,at);be.emplaceBack(Et+bn-Xe,Et+un-Xe),at.primitiveLength++}}})(N,c,F,E,V,d),o.forceNewSegmentOnNextPrepare(),N?.forceNewSegmentOnNextPrepare()}function gm(d,o,c,y,E,I,N){if(I){const F=y.count;return c(o[2*E],o[2*E+1]),d[E]=y.count,y.count++,N.vertexLength++,F}return d[E]}class Ec{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new ze,this.indexArray=new Qt,this.indexArray2=new Jt,this.programConfigurations=new xi(o.layers,o.zoom),this.segments=new On,this.segments2=new On,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(o,c,y){this.hasDependencies=dp("fill",this.layers,c);const E=this.layers[0].layout.get("fill-sort-key"),I=!E.isConstant(),N=[];for(const{feature:F,id:V,index:X,sourceLayerIndex:ae}of o){const de=this.layers[0]._featureFilter.needGeometry,ge=jd(F,de);if(!this.layers[0]._featureFilter.filter(new Ra(this.zoom),ge,y))continue;const be=I?E.evaluate(ge,{},y,c.availableImages):void 0,Ae={id:V,properties:F.properties,type:F.type,sourceLayerIndex:ae,index:X,geometry:de?ge.geometry:ko(F),patterns:{},sortKey:be};N.push(Ae)}I&&N.sort(((F,V)=>F.sortKey-V.sortKey));for(const F of N){const{geometry:V,index:X,sourceLayerIndex:ae}=F;if(this.hasDependencies){const de=r0("fill",this.layers,F,{zoom:this.zoom},c);this.patternFeatures.push(de)}else this.addFeature(F,V,X,y,{},c.subdivisionGranularity);c.featureIndex.insert(o[X].feature,V,X,ae,this.index)}}update(o,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,{imagePositions:y})}addFeatures(o,c,y){for(const E of this.patternFeatures)this.addFeature(E,E.geometry,E.index,c,y,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,hh),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,c,y,E,I,N){for(const F of Nd(c,500)){const V=Mf(F,E,N.fill.getGranularityForZoomLevel(E.z)),X=this.layoutVertexArray;kv(((ae,de)=>{X.emplaceBack(ae,de)}),this.segments,this.layoutVertexArray,this.indexArray,V.verticesFlattened,V.indicesTriangles,this.segments2,this.indexArray2,V.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,y,{imagePositions:I,canonical:E})}}let y_,mh;or("FillBucket",Ec,{omit:["layers","patternFeatures"]});var i0={get paint(){return mh=mh||new fo({"fill-antialias":new Cr(Pt.paint_fill["fill-antialias"]),"fill-opacity":new Er(Pt.paint_fill["fill-opacity"]),"fill-color":new Er(Pt.paint_fill["fill-color"]),"fill-outline-color":new Er(Pt.paint_fill["fill-outline-color"]),"fill-translate":new Cr(Pt.paint_fill["fill-translate"]),"fill-translate-anchor":new Cr(Pt.paint_fill["fill-translate-anchor"]),"fill-pattern":new td(Pt.paint_fill["fill-pattern"])})},get layout(){return y_=y_||new fo({"fill-sort-key":new Er(Pt.layout_fill["fill-sort-key"])})}};class o0 extends Bs{constructor(o,c){super(o,i0,c)}recalculate(o,c){super.recalculate(o,c);const y=this.paint._values["fill-outline-color"];y.value.kind==="constant"&&y.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(o){return new Ec(o)}queryRadius(){return cp(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:o,geometry:c,transform:y,pixelsToTileUnits:E}){return Pu(hm(o,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-y.bearingInRadians,E),c)}isTileClipped(){return!0}}const $g=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),cx=Lr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:dx}=$g;class gh{constructor(o,c,y,E,I){this.properties={},this.extent=y,this.type=0,this.id=void 0,this._pbf=o,this._geometry=-1,this._keys=E,this._values=I,o.readFields(fx,this,c)}loadGeometry(){const o=this._pbf;o.pos=this._geometry;const c=o.readVarint()+o.pos,y=[];let E,I=1,N=0,F=0,V=0;for(;o.pos<c;){if(N<=0){const X=o.readVarint();I=7&X,N=X>>3}if(N--,I===1||I===2)F+=o.readSVarint(),V+=o.readSVarint(),I===1&&(E&&y.push(E),E=[]),E&&E.push(new m(F,V));else{if(I!==7)throw new Error(`unknown command ${I}`);E&&E.push(E[0].clone())}}return E&&y.push(E),y}bbox(){const o=this._pbf;o.pos=this._geometry;const c=o.readVarint()+o.pos;let y=1,E=0,I=0,N=0,F=1/0,V=-1/0,X=1/0,ae=-1/0;for(;o.pos<c;){if(E<=0){const de=o.readVarint();y=7&de,E=de>>3}if(E--,y===1||y===2)I+=o.readSVarint(),N+=o.readSVarint(),I<F&&(F=I),I>V&&(V=I),N<X&&(X=N),N>ae&&(ae=N);else if(y!==7)throw new Error(`unknown command ${y}`)}return[F,X,V,ae]}toGeoJSON(o,c,y){const E=this.extent*Math.pow(2,y),I=this.extent*o,N=this.extent*c,F=this.loadGeometry();function V(ge){return[360*(ge.x+I)/E-180,360/Math.PI*Math.atan(Math.exp((1-2*(ge.y+N)/E)*Math.PI))-90]}function X(ge){return ge.map(V)}let ae;if(this.type===1){const ge=[];for(const Ae of F)ge.push(Ae[0]);const be=X(ge);ae=ge.length===1?{type:"Point",coordinates:be[0]}:{type:"MultiPoint",coordinates:be}}else if(this.type===2){const ge=F.map(X);ae=ge.length===1?{type:"LineString",coordinates:ge[0]}:{type:"MultiLineString",coordinates:ge}}else{if(this.type!==3)throw new Error("unknown feature type");{const ge=s0(F),be=[];for(const Ae of ge)be.push(Ae.map(X));ae=be.length===1?{type:"Polygon",coordinates:be[0]}:{type:"MultiPolygon",coordinates:be}}}const de={type:"Feature",geometry:ae,properties:this.properties};return this.id!=null&&(de.id=this.id),de}}function fx(d,o,c){d===1?o.id=c.readVarint():d===2?(function(y,E){const I=y.readVarint()+y.pos;for(;y.pos<I;){const N=E._keys[y.readVarint()],F=E._values[y.readVarint()];E.properties[N]=F}})(c,o):d===3?o.type=c.readVarint():d===4&&(o._geometry=c.pos)}function s0(d){const o=d.length;if(o<=1)return[d];const c=[];let y,E;for(let I=0;I<o;I++){const N=hx(d[I]);N!==0&&(E===void 0&&(E=N<0),E===N<0?(y&&c.push(y),y=[d[I]]):y&&y.push(d[I]))}return y&&c.push(y),c}function hx(d){let o=0;for(let c,y,E=0,I=d.length,N=I-1;E<I;N=E++)c=d[E],y=d[N],o+=(y.x-c.x)*(c.y+y.y);return o}gh.types=["Unknown","Point","LineString","Polygon"];class zw{constructor(o,c){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(Uw,this,c),this.length=this._features.length}feature(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];const c=this._pbf.readVarint()+this._pbf.pos;return new gh(this._pbf,c,this.extent,this._keys,this._values)}}function Uw(d,o,c){d===15?o.version=c.readVarint():d===1?o.name=c.readString():d===5?o.extent=c.readVarint():d===2?o._features.push(c.pos):d===3?o._keys.push(c.readString()):d===4&&o._values.push((function(y){let E=null;const I=y.readVarint()+y.pos;for(;y.pos<I;){const N=y.readVarint()>>3;E=N===1?y.readString():N===2?y.readFloat():N===3?y.readDouble():N===4?y.readVarint64():N===5?y.readVarint():N===6?y.readSVarint():N===7?y.readBoolean():null}if(E==null)throw new Error("unknown feature value");return E})(c))}class di{constructor(o,c){this.layers=o.readFields(Gi,{},c)}}function Gi(d,o,c){if(d===3){const y=new zw(c,c.readVarint()+c.pos);y.length&&(o[y.name]=y)}}const Ma=Math.pow(2,13);function Ia(d,o,c,y,E,I,N,F){d.emplaceBack(o,c,2*Math.floor(y*Ma)+N,E*Ma*2,I*Ma*2,Math.round(F))}class bi{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=o.index,this.hasDependencies=!1,this.layoutVertexArray=new it,this.centroidVertexArray=new Ee,this.indexArray=new Qt,this.programConfigurations=new xi(o.layers,o.zoom),this.segments=new On,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(o,c,y){this.features=[],this.hasDependencies=dp("fill-extrusion",this.layers,c);for(const{feature:E,id:I,index:N,sourceLayerIndex:F}of o){const V=this.layers[0]._featureFilter.needGeometry,X=jd(E,V);if(!this.layers[0]._featureFilter.filter(new Ra(this.zoom),X,y))continue;const ae={id:I,sourceLayerIndex:F,index:N,geometry:V?X.geometry:ko(E),properties:E.properties,type:E.type,patterns:{}};this.hasDependencies?this.features.push(r0("fill-extrusion",this.layers,ae,{zoom:this.zoom},c)):this.addFeature(ae,ae.geometry,N,y,{},c.subdivisionGranularity),c.featureIndex.insert(E,ae.geometry,N,F,this.index,!0)}}addFeatures(o,c,y){for(const E of this.features){const{geometry:I}=E;this.addFeature(E,I,E.index,c,y,o.subdivisionGranularity)}}update(o,c,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,{imagePositions:y})}isEmpty(){return this.layoutVertexArray.length===0&&this.centroidVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,dx),this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,cx.members,!0),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(o,c,y,E,I,N){for(const F of Nd(c,500)){const V={x:0,y:0,sampleCount:0},X=this.layoutVertexArray.length;this.processPolygon(V,E,o,F,N);const ae=this.layoutVertexArray.length-X,de=Math.floor(V.x/V.sampleCount),ge=Math.floor(V.y/V.sampleCount);for(let be=0;be<ae;be++)this.centroidVertexArray.emplaceBack(de,ge)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,y,{imagePositions:I,canonical:E})}processPolygon(o,c,y,E,I){if(E.length<1||ym(E[0]))return;for(const de of E)de.length!==0&&wc(o,de);const N={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},F=I.fill.getGranularityForZoomLevel(c.z),V=gh.types[y.type]==="Polygon";for(const de of E){if(de.length===0||ym(de))continue;const ge=xc(de,F,V);this._generateSideFaces(ge,N)}if(!V)return;const X=Mf(E,c,F,!1),ae=this.layoutVertexArray;kv(((de,ge)=>{Ia(ae,de,ge,0,0,1,1,0)}),this.segments,this.layoutVertexArray,this.indexArray,X.verticesFlattened,X.indicesTriangles)}_generateSideFaces(o,c){let y=0;for(let E=1;E<o.length;E++){const I=o[E],N=o[E-1];if(hp(I,N))continue;c.segment.vertexLength+4>On.MAX_VERTEX_ARRAY_LENGTH&&(c.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const F=I.sub(N)._perp()._unit(),V=N.dist(I);y+V>32768&&(y=0),Ia(this.layoutVertexArray,I.x,I.y,F.x,F.y,0,0,y),Ia(this.layoutVertexArray,I.x,I.y,F.x,F.y,0,1,y),y+=V,Ia(this.layoutVertexArray,N.x,N.y,F.x,F.y,0,0,y),Ia(this.layoutVertexArray,N.x,N.y,F.x,F.y,0,1,y);const X=c.segment.vertexLength;this.indexArray.emplaceBack(X,X+2,X+1),this.indexArray.emplaceBack(X+1,X+2,X+3),c.segment.vertexLength+=4,c.segment.primitiveLength+=2}}}function wc(d,o){for(let c=0;c<o.length;c++){const y=o[c];c===o.length-1&&o[0].x===y.x&&o[0].y===y.y||(d.x+=y.x,d.y+=y.y,d.sampleCount++)}}function hp(d,o){return d.x===o.x&&(d.x<0||d.x>Be)||d.y===o.y&&(d.y<0||d.y>Be)}function ym(d){return d.every((o=>o.x<0))||d.every((o=>o.x>Be))||d.every((o=>o.y<0))||d.every((o=>o.y>Be))}let Iv;or("FillExtrusionBucket",bi,{omit:["layers","features"]});var Ud={get paint(){return Iv=Iv||new fo({"fill-extrusion-opacity":new Cr(Pt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Er(Pt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Cr(Pt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Cr(Pt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new td(Pt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Er(Pt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Er(Pt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Cr(Pt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class No extends Bs{constructor(o,c){super(o,Ud,c)}createBucket(o){return new bi(o)}queryRadius(){return cp(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:o,feature:c,featureState:y,geometry:E,transform:I,pixelsToTileUnits:N,pixelPosMatrix:F}){const V=hm(o,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-I.bearingInRadians,N),X=this.paint.get("fill-extrusion-height").evaluate(c,y),ae=this.paint.get("fill-extrusion-base").evaluate(c,y),de=(function(be,Ae){const De=[];for(const Fe of be){const Ye=[Fe.x,Fe.y,0,1];xe(Ye,Ye,Ae),De.push(new m(Ye[0]/Ye[3],Ye[1]/Ye[3]))}return De})(V,F),ge=(function(be,Ae,De,Fe){const Ye=[],vt=[],Xe=Fe[8]*Ae,at=Fe[9]*Ae,Et=Fe[10]*Ae,kt=Fe[11]*Ae,tn=Fe[8]*De,Sn=Fe[9]*De,yn=Fe[10]*De,Ln=Fe[11]*De;for(const ar of be){const Un=[],bn=[];for(const un of ar){const vr=un.x,mr=un.y,Sr=Fe[0]*vr+Fe[4]*mr+Fe[12],dr=Fe[1]*vr+Fe[5]*mr+Fe[13],$r=Fe[2]*vr+Fe[6]*mr+Fe[14],ai=Fe[3]*vr+Fe[7]*mr+Fe[15],Oa=$r+Et,Mo=ai+kt,zu=Sr+tn,fl=dr+Sn,Oo=$r+yn,go=ai+Ln,Ei=new m((Sr+Xe)/Mo,(dr+at)/Mo);Ei.z=Oa/Mo,Un.push(Ei);const ss=new m(zu/go,fl/go);ss.z=Oo/go,bn.push(ss)}Ye.push(Un),vt.push(bn)}return[Ye,vt]})(E,ae,X,F);return(function(be,Ae,De){let Fe=1/0;Pu(De,Ae)&&(Fe=pp(De,Ae[0]));for(let Ye=0;Ye<Ae.length;Ye++){const vt=Ae[Ye],Xe=be[Ye];for(let at=0;at<vt.length-1;at++){const Et=vt[at],kt=[Et,vt[at+1],Xe[at+1],Xe[at],Et];Rg(De,kt)&&(Fe=Math.min(Fe,pp(De,kt)))}}return Fe!==1/0&&Fe})(ge[0],ge[1],de)}}function od(d,o){return d.x*o.x+d.y*o.y}function pp(d,o){if(d.length===1){let c=0;const y=o[c++];let E;for(;!E||y.equals(E);)if(E=o[c++],!E)return 1/0;for(;c<o.length;c++){const I=o[c],N=d[0],F=E.sub(y),V=I.sub(y),X=N.sub(y),ae=od(F,F),de=od(F,V),ge=od(V,V),be=od(X,F),Ae=od(X,V),De=ae*ge-de*de,Fe=(ge*be-de*Ae)/De,Ye=(ae*Ae-de*be)/De,vt=y.z*(1-Fe-Ye)+E.z*Fe+I.z*Ye;if(isFinite(vt))return vt}return 1/0}{let c=1/0;for(const y of o)c=Math.min(c,y.z);return c}}const v_=Lr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Sc}=v_,jg=Lr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:l0}=jg,Bu=Math.cos(Math.PI/180*37.5),Nv=Math.pow(2,14)/.5;class vm{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map((c=>c.id)),this.index=o.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((c=>{this.gradients[c.id]={}})),this.layoutVertexArray=new ct,this.layoutVertexArray2=new lt,this.indexArray=new Qt,this.programConfigurations=new xi(o.layers,o.zoom),this.segments=new On,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((c=>c.isStateDependent())).map((c=>c.id))}populate(o,c,y){this.hasDependencies=dp("line",this.layers,c)||this.hasLineDasharray(this.layers);const E=this.layers[0].layout.get("line-sort-key"),I=!E.isConstant(),N=[];for(const{feature:F,id:V,index:X,sourceLayerIndex:ae}of o){const de=this.layers[0]._featureFilter.needGeometry,ge=jd(F,de);if(!this.layers[0]._featureFilter.filter(new Ra(this.zoom),ge,y))continue;const be=I?E.evaluate(ge,{},y):void 0,Ae={id:V,properties:F.properties,type:F.type,sourceLayerIndex:ae,index:X,geometry:de?ge.geometry:ko(F),patterns:{},dashes:{},sortKey:be};N.push(Ae)}I&&N.sort(((F,V)=>F.sortKey-V.sortKey));for(const F of N){const{geometry:V,index:X,sourceLayerIndex:ae}=F;this.hasDependencies?(dp("line",this.layers,c)?r0("line",this.layers,F,{zoom:this.zoom},c):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,F,this.zoom,c),this.patternFeatures.push(F)):this.addFeature(F,V,X,y,{},{},c.subdivisionGranularity),c.featureIndex.insert(o[X].feature,V,X,ae,this.index)}}update(o,c,y,E){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,c,this.stateDependentLayers,{imagePositions:y,dashPositions:E})}addFeatures(o,c,y,E){for(const I of this.patternFeatures)this.addFeature(I,I.geometry,I.index,c,y,E,o.subdivisionGranularity)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,l0)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Sc),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(o.properties,"mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}}addFeature(o,c,y,E,I,N,F){const V=this.layers[0].layout,X=V.get("line-join").evaluate(o,{}),ae=V.get("line-cap"),de=V.get("line-miter-limit"),ge=V.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const be of c)this.addLine(be,o,X,ae,de,ge,E,F);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,y,{imagePositions:I,dashPositions:N,canonical:E})}addLine(o,c,y,E,I,N,F,V){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,o=xc(o,F?V.line.getGranularityForZoomLevel(F.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Xe=0;Xe<o.length-1;Xe++)this.totalDistance+=o[Xe].dist(o[Xe+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const X=gh.types[c.type]==="Polygon";let ae=o.length;for(;ae>=2&&o[ae-1].equals(o[ae-2]);)ae--;let de=0;for(;de<ae-1&&o[de].equals(o[de+1]);)de++;if(ae<(X?3:2))return;y==="bevel"&&(I=1.05);const ge=this.overscaling<=16?122880/(512*this.overscaling):0,be=this.segments.prepareSegment(10*ae,this.layoutVertexArray,this.indexArray);let Ae,De,Fe,Ye,vt;this.e1=this.e2=-1,X&&(Ae=o[ae-2],vt=o[de].sub(Ae)._unit()._perp());for(let Xe=de;Xe<ae;Xe++){if(Fe=Xe===ae-1?X?o[de+1]:void 0:o[Xe+1],Fe&&o[Xe].equals(Fe))continue;vt&&(Ye=vt),Ae&&(De=Ae),Ae=o[Xe],vt=Fe?Fe.sub(Ae)._unit()._perp():Ye,Ye=Ye||vt;let at=Ye.add(vt);at.x===0&&at.y===0||at._unit();const Et=Ye.x*vt.x+Ye.y*vt.y,kt=at.x*vt.x+at.y*vt.y,tn=kt!==0?1/kt:1/0,Sn=2*Math.sqrt(2-2*kt),yn=kt<Bu&&De&&Fe,Ln=Ye.x*vt.y-Ye.y*vt.x>0;if(yn&&Xe>de){const bn=Ae.dist(De);if(bn>2*ge){const un=Ae.sub(Ae.sub(De)._mult(ge/bn)._round());this.updateDistance(De,un),this.addCurrentVertex(un,Ye,0,0,be),De=un}}const ar=De&&Fe;let Un=ar?y:X?"butt":E;if(ar&&Un==="round"&&(tn<N?Un="miter":tn<=2&&(Un="fakeround")),Un==="miter"&&tn>I&&(Un="bevel"),Un==="bevel"&&(tn>2&&(Un="flipbevel"),tn<I&&(Un="miter")),De&&this.updateDistance(De,Ae),Un==="miter")at._mult(tn),this.addCurrentVertex(Ae,at,0,0,be);else if(Un==="flipbevel"){if(tn>100)at=vt.mult(-1);else{const bn=tn*Ye.add(vt).mag()/Ye.sub(vt).mag();at._perp()._mult(bn*(Ln?-1:1))}this.addCurrentVertex(Ae,at,0,0,be),this.addCurrentVertex(Ae,at.mult(-1),0,0,be)}else if(Un==="bevel"||Un==="fakeround"){const bn=-Math.sqrt(tn*tn-1),un=Ln?bn:0,vr=Ln?0:bn;if(De&&this.addCurrentVertex(Ae,Ye,un,vr,be),Un==="fakeround"){const mr=Math.round(180*Sn/Math.PI/20);for(let Sr=1;Sr<mr;Sr++){let dr=Sr/mr;if(dr!==.5){const ai=dr-.5;dr+=dr*ai*(dr-1)*((1.0904+Et*(Et*(3.55645-1.43519*Et)-3.2452))*ai*ai+(.848013+Et*(.215638*Et-1.06021)))}const $r=vt.sub(Ye)._mult(dr)._add(Ye)._unit()._mult(Ln?-1:1);this.addHalfVertex(Ae,$r.x,$r.y,!1,Ln,0,be)}}Fe&&this.addCurrentVertex(Ae,vt,-un,-vr,be)}else if(Un==="butt")this.addCurrentVertex(Ae,at,0,0,be);else if(Un==="square"){const bn=De?1:-1;this.addCurrentVertex(Ae,at,bn,bn,be)}else Un==="round"&&(De&&(this.addCurrentVertex(Ae,Ye,0,0,be),this.addCurrentVertex(Ae,Ye,1,1,be,!0)),Fe&&(this.addCurrentVertex(Ae,vt,-1,-1,be,!0),this.addCurrentVertex(Ae,vt,0,0,be)));if(yn&&Xe<ae-1){const bn=Ae.dist(Fe);if(bn>2*ge){const un=Ae.add(Fe.sub(Ae)._mult(ge/bn)._round());this.updateDistance(Ae,un),this.addCurrentVertex(un,vt,0,0,be),Ae=un}}}}addCurrentVertex(o,c,y,E,I,N=!1){const F=c.y*E-c.x,V=-c.y-c.x*E;this.addHalfVertex(o,c.x+c.y*y,c.y-c.x*y,N,!1,y,I),this.addHalfVertex(o,F,V,N,!0,-E,I),this.distance>Nv/2&&this.totalDistance===0&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(o,c,y,E,I,N))}addHalfVertex({x:o,y:c},y,E,I,N,F,V){const X=.5*(this.lineClips?this.scaledDistance*(Nv-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(I?1:0),(c<<1)+(N?1:0),Math.round(63*y)+128,Math.round(63*E)+128,1+(F===0?0:F<0?-1:1)|(63&X)<<2,X>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const ae=V.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,ae,this.e2),V.primitiveLength++),N?this.e2=ae:this.e1=ae}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(o,c){this.distance+=o.dist(c),this.updateScaledDistance()}hasLineDasharray(o){for(const c of o){const y=c.paint.get("line-dasharray");if(y&&!y.isConstant())return!0}return!1}addLineDashDependencies(o,c,y,E){for(const I of o){const N=I.paint.get("line-dasharray");if(!N||N.value.kind==="constant")continue;const F=I.layout.get("line-cap")==="round",V={dasharray:N.value.evaluate({zoom:y-1},c,{}),round:F},X={dasharray:N.value.evaluate({zoom:y},c,{}),round:F},ae={dasharray:N.value.evaluate({zoom:y+1},c,{}),round:F},de=`${V.dasharray.join(",")},${V.round}`,ge=`${X.dasharray.join(",")},${X.round}`,be=`${ae.dasharray.join(",")},${ae.round}`;E.dashDependencies[de]=V,E.dashDependencies[ge]=X,E.dashDependencies[be]=ae,c.dashes[I.id]={min:de,mid:ge,max:be}}}}let b_,mp;or("LineBucket",vm,{omit:["layers","patternFeatures"]});var u0={get paint(){return mp=mp||new fo({"line-opacity":new Er(Pt.paint_line["line-opacity"]),"line-color":new Er(Pt.paint_line["line-color"]),"line-translate":new Cr(Pt.paint_line["line-translate"]),"line-translate-anchor":new Cr(Pt.paint_line["line-translate-anchor"]),"line-width":new Er(Pt.paint_line["line-width"]),"line-gap-width":new Er(Pt.paint_line["line-gap-width"]),"line-offset":new Er(Pt.paint_line["line-offset"]),"line-blur":new Er(Pt.paint_line["line-blur"]),"line-dasharray":new td(Pt.paint_line["line-dasharray"]),"line-pattern":new td(Pt.paint_line["line-pattern"]),"line-gradient":new ws(Pt.paint_line["line-gradient"])})},get layout(){return b_=b_||new fo({"line-cap":new Cr(Pt.layout_line["line-cap"]),"line-join":new Er(Pt.layout_line["line-join"]),"line-miter-limit":new Cr(Pt.layout_line["line-miter-limit"]),"line-round-limit":new Cr(Pt.layout_line["line-round-limit"]),"line-sort-key":new Er(Pt.layout_line["line-sort-key"])})}};class gp extends Er{possiblyEvaluate(o,c){return c=new Ra(Math.floor(c.zoom),{now:c.now,fadeDuration:c.fadeDuration,zoomHistory:c.zoomHistory,transition:c.transition}),super.possiblyEvaluate(o,c)}evaluate(o,c,y,E){return c=We({},c,{zoom:Math.floor(c.zoom)}),super.evaluate(o,c,y,E)}}let Wo;class yp extends Bs{constructor(o,c){super(o,u0,c),this.gradientVersion=0,Wo||(Wo=new gp(u0.paint.properties["line-width"].specification),Wo.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(o){if(o==="line-gradient"){const c=this.gradientExpression();this.stepInterpolant=!!(function(y){return y._styleExpression!==void 0})(c)&&c._styleExpression.expression instanceof $o,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(o,c){super.recalculate(o,c),this.paint._values["line-floorwidth"]=Wo.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,o)}createBucket(o){return new vm(o)}queryRadius(o){const c=o,y=bm(_c("line-width",this,c),_c("line-gap-width",this,c)),E=_c("line-offset",this,c);return y/2+Math.abs(E)+cp(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:o,feature:c,featureState:y,geometry:E,transform:I,pixelsToTileUnits:N}){const F=hm(o,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-I.bearingInRadians,N),V=N/2*bm(this.paint.get("line-width").evaluate(c,y),this.paint.get("line-gap-width").evaluate(c,y)),X=this.paint.get("line-offset").evaluate(c,y);return X&&(E=(function(ae,de){const ge=[];for(let be=0;be<ae.length;be++){const Ae=Qy(ae[be]),De=[];for(let Fe=0;Fe<Ae.length;Fe++){const Ye=Ae[Fe],vt=Ae[Fe-1],Xe=Ae[Fe+1],at=Fe===0?new m(0,0):Ye.sub(vt)._unit()._perp(),Et=Fe===Ae.length-1?new m(0,0):Xe.sub(Ye)._unit()._perp(),kt=at._add(Et)._unit(),tn=kt.x*Et.x+kt.y*Et.y;tn!==0&&kt._mult(1/tn),De.push(kt._mult(de)._add(Ye))}ge.push(De)}return ge})(E,X*N)),(function(ae,de,ge){for(let be=0;be<de.length;be++){const Ae=de[be];if(ae.length>=3){for(let De=0;De<Ae.length;De++)if(If(ae,Ae[De]))return!0}if(up(ae,Ae,ge))return!0}return!1})(F,E,V)}isTileClipped(){return!0}}function bm(d,o){return o>0?o+2*d:d}const yh=Lr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),__=Lr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Lr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const x_=Lr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);Lr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const E_=Lr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),c0=Lr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function w_(d,o,c){return d.sections.forEach((y=>{y.text=(function(E,I,N){const F=I.layout.get("text-transform").evaluate(N,{});return F==="uppercase"?E=E.toLocaleUpperCase():F==="lowercase"&&(E=E.toLocaleLowerCase()),Nu.applyArabicShaping&&(E=Nu.applyArabicShaping(E)),E})(y.text,o,c)})),d}Lr([{name:"triangle",components:3,type:"Uint16"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Lr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Lr([{type:"Float32",name:"offsetX"}]),Lr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Lr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var fi=24;const zg={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},$u={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},px={40:!0};function S_(d,o,c,y,E,I){if("fontStack"in o){const N=c[o.fontStack],F=N&&N[d];return F?F.metrics.advance*o.scale+E:0}{const N=y[o.imageName];return N?N.displaySize[0]*o.scale*fi/I+E:0}}function T_(d,o,c,y){const E=Math.pow(d-o,2);return y?d<o?E/2:2*E:E+Math.abs(c)*c}function vh(d,o,c){let y=0;return d===10&&(y-=1e4),c&&(y+=150),d!==40&&d!==65288||(y+=50),o!==41&&o!==65289||(y+=50),y}function d0(d,o,c,y,E,I){let N=null,F=T_(o,c,E,I);for(const V of y){const X=T_(o-V.x,c,E,I)+V.badness;X<=F&&(N=V,F=X)}return{index:d,x:o,priorBreak:N,badness:F}}function Rv(d){return d?Rv(d.priorBreak).concat(d.index):[]}class Gd{constructor(o="",c=[],y=[]){this.text=o,this.sections=c,this.sectionIndex=y,this.imageSectionID=null}static fromFeature(o,c){const y=new Gd;for(let E=0;E<o.sections.length;E++){const I=o.sections[E];I.image?y.addImageSection(I):y.addTextSection(I,c)}return y}length(){return[...this.text].length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}verticalizePunctuation(){this.text=(function(o){let c="",y={premature:!0,value:void 0};const E=o[Symbol.iterator]();let I=E.next();const N=o[Symbol.iterator]();N.next();let F=N.next();for(;!I.done;)c+=!F.done&&um(F.value.codePointAt(0))&&!zg[F.value]||!y.premature&&um(y.value.codePointAt(0))&&!zg[y.value]||!zg[I.value]?I.value:zg[I.value],y={value:I.value,premature:!1},I=E.next(),F=N.next();return c})(this.text)}hasZeroWidthSpaces(){return this.text.includes("")}trim(){const o=this.text.match(/^\s*/),c=o?o[0].length:0,y=this.text.match(/\S\s*$/),E=y?y[0].length-1:0;this.text=this.text.substring(c,this.text.length-E),this.sectionIndex=this.sectionIndex.slice(c,this.sectionIndex.length-E)}substring(o,c){const y=[...this.text].slice(o,c).join(""),E=this.sectionIndex.slice(o,c);return new Gd(y,this.sections,E)}toCodeUnitIndex(o){return[...this.text].slice(0,o).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((o,c)=>Math.max(o,this.sections[c].scale)),0)}getMaxImageSize(o){let c=0,y=0;for(let E=0;E<this.length();E++){const I=this.getSection(E);if("imageName"in I){const N=o[I.imageName];if(!N)continue;const F=N.displaySize;c=Math.max(c,F[0]),y=Math.max(y,F[1])}}return{maxImageWidth:c,maxImageHeight:y}}addTextSection(o,c){this.text+=o.text,this.sections.push({scale:o.scale||1,verticalAlign:o.verticalAlign||"bottom",fontStack:o.fontStack||c});const y=this.sections.length-1;this.sectionIndex.push(...[...o.text].map((()=>y)))}addImageSection(o){const c=o.image?o.image.name:"";if(c.length===0)return void _n("Can't add FormattedSection with an empty image.");const y=this.getNextImageSectionCharCode();y?(this.text+=String.fromCharCode(y),this.sections.push({scale:1,verticalAlign:o.verticalAlign||"bottom",imageName:c}),this.sectionIndex.push(this.sections.length-1)):_n("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(o,c,y,E,I){const N=[],F=this.determineAverageLineWidth(o,c,y,E,I),V=this.hasZeroWidthSpaces();let X=0,ae=0;const de=this.text[Symbol.iterator]();let ge=de.next();const be=this.text[Symbol.iterator]();be.next();let Ae=be.next();const De=this.text[Symbol.iterator]();De.next(),De.next();let Fe=De.next();for(;!ge.done;){const Ye=this.getSection(ae),vt=ge.value.codePointAt(0);if(Cg(vt)||(X+=S_(vt,Ye,y,E,o,I)),!Ae.done){const Xe=ed(vt),at=Ae.value.codePointAt(0);($u[vt]||Xe||"imageName"in Ye||!Fe.done&&px[at])&&N.push(d0(ae+1,X,F,N,vh(vt,at,Xe&&V),!1))}ae++,ge=de.next(),Ae=be.next(),Fe=De.next()}return Rv(d0(this.length(),X,F,N,0,!0))}determineAverageLineWidth(o,c,y,E,I){let N=0,F=0;for(const V of this.text){const X=this.getSection(F);N+=S_(V.codePointAt(0),X,y,E,o,I),F++}return N/Math.max(1,Math.ceil(N/c))}}const Mv=4294967296,Ug=1/Mv,C_=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");class f0{constructor(o=new Uint8Array(16)){this.buf=ArrayBuffer.isView(o)?o:new Uint8Array(o),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(o,c,y=this.length){for(;this.pos<y;){const E=this.readVarint(),I=E>>3,N=this.pos;this.type=7&E,o(I,c,this),this.pos===N&&this.skip(E)}return c}readMessage(o,c){return this.readFields(o,c,this.readVarint()+this.pos)}readFixed32(){const o=this.dataView.getUint32(this.pos,!0);return this.pos+=4,o}readSFixed32(){const o=this.dataView.getInt32(this.pos,!0);return this.pos+=4,o}readFixed64(){const o=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*Mv;return this.pos+=8,o}readSFixed64(){const o=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*Mv;return this.pos+=8,o}readFloat(){const o=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,o}readDouble(){const o=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,o}readVarint(o){const c=this.buf;let y,E;return E=c[this.pos++],y=127&E,E<128?y:(E=c[this.pos++],y|=(127&E)<<7,E<128?y:(E=c[this.pos++],y|=(127&E)<<14,E<128?y:(E=c[this.pos++],y|=(127&E)<<21,E<128?y:(E=c[this.pos],y|=(15&E)<<28,(function(I,N,F){const V=F.buf;let X,ae;if(ae=V[F.pos++],X=(112&ae)>>4,ae<128||(ae=V[F.pos++],X|=(127&ae)<<3,ae<128)||(ae=V[F.pos++],X|=(127&ae)<<10,ae<128)||(ae=V[F.pos++],X|=(127&ae)<<17,ae<128)||(ae=V[F.pos++],X|=(127&ae)<<24,ae<128)||(ae=V[F.pos++],X|=(1&ae)<<31,ae<128))return bh(I,X,N);throw new Error("Expected varint not more than 10 bytes")})(y,o,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const o=this.readVarint();return o%2==1?(o+1)/-2:o/2}readBoolean(){return!!this.readVarint()}readString(){const o=this.readVarint()+this.pos,c=this.pos;return this.pos=o,o-c>=12&&C_?C_.decode(this.buf.subarray(c,o)):(function(y,E,I){let N="",F=E;for(;F<I;){const V=y[F];let X,ae,de,ge=null,be=V>239?4:V>223?3:V>191?2:1;if(F+be>I)break;be===1?V<128&&(ge=V):be===2?(X=y[F+1],(192&X)==128&&(ge=(31&V)<<6|63&X,ge<=127&&(ge=null))):be===3?(X=y[F+1],ae=y[F+2],(192&X)==128&&(192&ae)==128&&(ge=(15&V)<<12|(63&X)<<6|63&ae,(ge<=2047||ge>=55296&&ge<=57343)&&(ge=null))):be===4&&(X=y[F+1],ae=y[F+2],de=y[F+3],(192&X)==128&&(192&ae)==128&&(192&de)==128&&(ge=(15&V)<<18|(63&X)<<12|(63&ae)<<6|63&de,(ge<=65535||ge>=1114112)&&(ge=null))),ge===null?(ge=65533,be=1):ge>65535&&(ge-=65536,N+=String.fromCharCode(ge>>>10&1023|55296),ge=56320|1023&ge),N+=String.fromCharCode(ge),F+=be}return N})(this.buf,c,o)}readBytes(){const o=this.readVarint()+this.pos,c=this.buf.subarray(this.pos,o);return this.pos=o,c}readPackedVarint(o=[],c){const y=this.readPackedEnd();for(;this.pos<y;)o.push(this.readVarint(c));return o}readPackedSVarint(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readSVarint());return o}readPackedBoolean(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readBoolean());return o}readPackedFloat(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readFloat());return o}readPackedDouble(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readDouble());return o}readPackedFixed32(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readFixed32());return o}readPackedSFixed32(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readSFixed32());return o}readPackedFixed64(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readFixed64());return o}readPackedSFixed64(o=[]){const c=this.readPackedEnd();for(;this.pos<c;)o.push(this.readSFixed64());return o}readPackedEnd(){return this.type===2?this.readVarint()+this.pos:this.pos+1}skip(o){const c=7&o;if(c===0)for(;this.buf[this.pos++]>127;);else if(c===2)this.pos=this.readVarint()+this.pos;else if(c===5)this.pos+=4;else{if(c!==1)throw new Error(`Unimplemented type: ${c}`);this.pos+=8}}writeTag(o,c){this.writeVarint(o<<3|c)}realloc(o){let c=this.length||16;for(;c<this.pos+o;)c*=2;if(c!==this.length){const y=new Uint8Array(c);y.set(this.buf),this.buf=y,this.dataView=new DataView(y.buffer),this.length=c}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeSFixed32(o){this.realloc(4),this.dataView.setInt32(this.pos,o,!0),this.pos+=4}writeFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*Ug),!0),this.pos+=8}writeSFixed64(o){this.realloc(8),this.dataView.setInt32(this.pos,-1&o,!0),this.dataView.setInt32(this.pos+4,Math.floor(o*Ug),!0),this.pos+=8}writeVarint(o){(o=+o||0)>268435455||o<0?(function(c,y){let E,I;if(c>=0?(E=c%4294967296|0,I=c/4294967296|0):(E=~(-c%4294967296),I=~(-c/4294967296),4294967295^E?E=E+1|0:(E=0,I=I+1|0)),c>=18446744073709552e3||c<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");y.realloc(10),(function(N,F,V){V.buf[V.pos++]=127&N|128,N>>>=7,V.buf[V.pos++]=127&N|128,N>>>=7,V.buf[V.pos++]=127&N|128,N>>>=7,V.buf[V.pos++]=127&N|128,V.buf[V.pos]=127&(N>>>=7)})(E,0,y),(function(N,F){const V=(7&N)<<4;F.buf[F.pos++]|=V|((N>>>=3)?128:0),N&&(F.buf[F.pos++]=127&N|((N>>>=7)?128:0),N&&(F.buf[F.pos++]=127&N|((N>>>=7)?128:0),N&&(F.buf[F.pos++]=127&N|((N>>>=7)?128:0),N&&(F.buf[F.pos++]=127&N|((N>>>=7)?128:0),N&&(F.buf[F.pos++]=127&N)))))})(I,y)})(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))}writeSVarint(o){this.writeVarint(o<0?2*-o-1:2*o)}writeBoolean(o){this.writeVarint(+o)}writeString(o){o=String(o),this.realloc(4*o.length),this.pos++;const c=this.pos;this.pos=(function(E,I,N){for(let F,V,X=0;X<I.length;X++){if(F=I.charCodeAt(X),F>55295&&F<57344){if(!V){F>56319||X+1===I.length?(E[N++]=239,E[N++]=191,E[N++]=189):V=F;continue}if(F<56320){E[N++]=239,E[N++]=191,E[N++]=189,V=F;continue}F=V-55296<<10|F-56320|65536,V=null}else V&&(E[N++]=239,E[N++]=191,E[N++]=189,V=null);F<128?E[N++]=F:(F<2048?E[N++]=F>>6|192:(F<65536?E[N++]=F>>12|224:(E[N++]=F>>18|240,E[N++]=F>>12&63|128),E[N++]=F>>6&63|128),E[N++]=63&F|128)}return N})(this.buf,o,this.pos);const y=this.pos-c;y>=128&&Ov(c,y,this),this.pos=c-1,this.writeVarint(y),this.pos+=y}writeFloat(o){this.realloc(4),this.dataView.setFloat32(this.pos,o,!0),this.pos+=4}writeDouble(o){this.realloc(8),this.dataView.setFloat64(this.pos,o,!0),this.pos+=8}writeBytes(o){const c=o.length;this.writeVarint(c),this.realloc(c);for(let y=0;y<c;y++)this.buf[this.pos++]=o[y]}writeRawMessage(o,c){this.pos++;const y=this.pos;o(c,this);const E=this.pos-y;E>=128&&Ov(y,E,this),this.pos=y-1,this.writeVarint(E),this.pos+=E}writeMessage(o,c,y){this.writeTag(o,2),this.writeRawMessage(c,y)}writePackedVarint(o,c){c.length&&this.writeMessage(o,Gw,c)}writePackedSVarint(o,c){c.length&&this.writeMessage(o,Hw,c)}writePackedBoolean(o,c){c.length&&this.writeMessage(o,gx,c)}writePackedFloat(o,c){c.length&&this.writeMessage(o,Vw,c)}writePackedDouble(o,c){c.length&&this.writeMessage(o,mx,c)}writePackedFixed32(o,c){c.length&&this.writeMessage(o,Gg,c)}writePackedSFixed32(o,c){c.length&&this.writeMessage(o,Dv,c)}writePackedFixed64(o,c){c.length&&this.writeMessage(o,h0,c)}writePackedSFixed64(o,c){c.length&&this.writeMessage(o,yx,c)}writeBytesField(o,c){this.writeTag(o,2),this.writeBytes(c)}writeFixed32Field(o,c){this.writeTag(o,5),this.writeFixed32(c)}writeSFixed32Field(o,c){this.writeTag(o,5),this.writeSFixed32(c)}writeFixed64Field(o,c){this.writeTag(o,1),this.writeFixed64(c)}writeSFixed64Field(o,c){this.writeTag(o,1),this.writeSFixed64(c)}writeVarintField(o,c){this.writeTag(o,0),this.writeVarint(c)}writeSVarintField(o,c){this.writeTag(o,0),this.writeSVarint(c)}writeStringField(o,c){this.writeTag(o,2),this.writeString(c)}writeFloatField(o,c){this.writeTag(o,5),this.writeFloat(c)}writeDoubleField(o,c){this.writeTag(o,1),this.writeDouble(c)}writeBooleanField(o,c){this.writeVarintField(o,+c)}}function bh(d,o,c){return c?4294967296*o+(d>>>0):4294967296*(o>>>0)+(d>>>0)}function Ov(d,o,c){const y=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));c.realloc(y);for(let E=c.pos-1;E>=d;E--)c.buf[E+y]=c.buf[E]}function Gw(d,o){for(let c=0;c<d.length;c++)o.writeVarint(d[c])}function Hw(d,o){for(let c=0;c<d.length;c++)o.writeSVarint(d[c])}function Vw(d,o){for(let c=0;c<d.length;c++)o.writeFloat(d[c])}function mx(d,o){for(let c=0;c<d.length;c++)o.writeDouble(d[c])}function gx(d,o){for(let c=0;c<d.length;c++)o.writeBoolean(d[c])}function Gg(d,o){for(let c=0;c<d.length;c++)o.writeFixed32(d[c])}function Dv(d,o){for(let c=0;c<d.length;c++)o.writeSFixed32(d[c])}function h0(d,o){for(let c=0;c<d.length;c++)o.writeFixed64(d[c])}function yx(d,o){for(let c=0;c<d.length;c++)o.writeSFixed64(d[c])}function A_(d,o,c){d===1&&c.readMessage(k_,o)}function k_(d,o,c){if(d===3){const{id:y,bitmap:E,width:I,height:N,left:F,top:V,advance:X}=c.readMessage(Lv,{});o.push({id:y,bitmap:new Nf({width:I+6,height:N+6},E),metrics:{width:I,height:N,left:F,top:V,advance:X}})}}function Lv(d,o,c){d===1?o.id=c.readVarint():d===2?o.bitmap=c.readBytes():d===3?o.width=c.readVarint():d===4?o.height=c.readVarint():d===5?o.left=c.readSVarint():d===6?o.top=c.readSVarint():d===7&&(o.advance=c.readVarint())}function Pv(d){let o=0,c=0;for(const N of d)o+=N.w*N.h,c=Math.max(c,N.w);d.sort(((N,F)=>F.h-N.h));const y=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),c),h:1/0}];let E=0,I=0;for(const N of d)for(let F=y.length-1;F>=0;F--){const V=y[F];if(!(N.w>V.w||N.h>V.h)){if(N.x=V.x,N.y=V.y,I=Math.max(I,N.y+N.h),E=Math.max(E,N.x+N.w),N.w===V.w&&N.h===V.h){const X=y.pop();X&&F<y.length&&(y[F]=X)}else N.h===V.h?(V.x+=N.w,V.w-=N.w):N.w===V.w?(V.y+=N.h,V.h-=N.h):(y.push({x:V.x+N.w,y:V.y,w:V.w-N.w,h:N.h}),V.y+=N.h,V.h-=N.h);break}}return{w:E,h:I,fill:o/(E*I)||0}}class _m{constructor(o,{pixelRatio:c,version:y,stretchX:E,stretchY:I,content:N,textFitWidth:F,textFitHeight:V}){this.paddedRect=o,this.pixelRatio=c,this.stretchX=E,this.stretchY=I,this.content=N,this.version=y,this.textFitWidth=F,this.textFitHeight=V}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Fv{constructor(o,c){const y={},E={};this.haveRenderCallbacks=[];const I=[];this.addImages(o,y,I),this.addImages(c,E,I);const{w:N,h:F}=Pv(I),V=new po({width:N||1,height:F||1});for(const X in o){const ae=o[X],de=y[X].paddedRect;po.copy(ae.data,V,{x:0,y:0},{x:de.x+1,y:de.y+1},ae.data)}for(const X in c){const ae=c[X],de=E[X].paddedRect,ge=de.x+1,be=de.y+1,Ae=ae.data.width,De=ae.data.height;po.copy(ae.data,V,{x:0,y:0},{x:ge,y:be},ae.data),po.copy(ae.data,V,{x:0,y:De-1},{x:ge,y:be-1},{width:Ae,height:1}),po.copy(ae.data,V,{x:0,y:0},{x:ge,y:be+De},{width:Ae,height:1}),po.copy(ae.data,V,{x:Ae-1,y:0},{x:ge-1,y:be},{width:1,height:De}),po.copy(ae.data,V,{x:0,y:0},{x:ge+Ae,y:be},{width:1,height:De})}this.image=V,this.iconPositions=y,this.patternPositions=E}addImages(o,c,y){for(const E in o){const I=o[E],N={x:0,y:0,w:I.data.width+2,h:I.data.height+2};y.push(N),c[E]=new _m(N,I),I.hasRenderCallback&&this.haveRenderCallbacks.push(E)}}patchUpdatedImages(o,c){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const y in o.updatedImages)this.patchUpdatedImage(this.iconPositions[y],o.getImage(y),c),this.patchUpdatedImage(this.patternPositions[y],o.getImage(y),c)}patchUpdatedImage(o,c,y){if(!o||!c||o.version===c.version)return;o.version=c.version;const[E,I]=o.tl;y.update(c.data,void 0,{x:E,y:I})}}var Df;function hi(d,o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae){const De=Gd.fromFeature(d,E);let Fe;de===u.aA.vertical&&De.verticalizePunctuation();let Ye=De.determineLineBreaks(X,I,o,y,be);const{processBidirectionalText:vt,processStyledBidirectionalText:Xe}=Nu;if(vt&&De.sections.length===1){Fe=[],Ye=Ye.map((tn=>De.toCodeUnitIndex(tn)));const kt=vt(De.toString(),Ye);for(const tn of kt){const Sn=[...tn].map((()=>0));Fe.push(new Gd(tn,De.sections,Sn))}}else if(Xe){Fe=[],Ye=Ye.map((yn=>De.toCodeUnitIndex(yn)));let kt=0;const tn=[];for(const yn of De.text)tn.push(...Array(yn.length).fill(De.sectionIndex[kt])),kt++;const Sn=Xe(De.text,tn,Ye);for(const yn of Sn){const Ln=[];let ar="";for(const Un of yn[0])Ln.push(yn[1][ar.length]),ar+=Un;Fe.push(new Gd(yn[0],De.sections,Ln))}}else Fe=(function(kt,tn){const Sn=[];let yn=0;for(const Ln of tn)Sn.push(kt.substring(yn,Ln)),yn=Ln;return yn<kt.length()&&Sn.push(kt.substring(yn,kt.length())),Sn})(De,Ye);const at=[],Et={positionedLines:at,text:De.toString(),top:ae[1],bottom:ae[1],left:ae[0],right:ae[0],writingMode:de,iconsInText:!1,verticalizable:!1};return(function(kt,tn,Sn,yn,Ln,ar,Un,bn,un,vr,mr,Sr){let dr=0,$r=0,ai=0,Oa=0;const Mo=bn==="right"?1:bn==="left"?0:.5,zu=fi/Sr;let fl=0;for(const Ei of Ln){Ei.trim();const ss=Ei.getMaxScale(),Cs={positionedGlyphs:[],lineOffset:0};kt.positionedLines[fl]=Cs;const so=Cs.positionedGlyphs;let Yd=0;if(!Ei.length()){$r+=ar,++fl;continue}const Uu=qw(yn,Ei,zu);let Wd=0;for(const Ul of Ei.text){const Xo=Ei.getSection(Wd),hl=Ul.codePointAt(0),ls=Bv(un,mr,hl),Gl={glyph:hl,imageName:null,x:dr,y:$r+-17,vertical:ls,scale:1,fontStack:"",sectionIndex:Ei.getSectionIndex(Wd),metrics:null,rect:null};let k0;if("fontStack"in Xo){if(k0=Yw(Xo,hl,ls,Uu,tn,Sn),!k0)continue;Gl.fontStack=Xo.fontStack}else{if(kt.iconsInText=!0,Xo.scale*=zu,k0=Ww(Xo,ls,ss,Uu,yn),!k0)continue;Yd=Math.max(Yd,k0.imageOffset),Gl.imageName=Xo.imageName}const{rect:Rm,metrics:t2,baselineOffset:sb}=k0;Gl.y+=sb,Gl.scale=Xo.scale,Gl.metrics=t2,Gl.rect=Rm,so.push(Gl),ls?(kt.verticalizable=!0,dr+=("imageName"in Xo?t2.advance:fi)*Xo.scale+vr):dr+=t2.advance*Xo.scale+vr,Wd++}so.length!==0&&(ai=Math.max(dr-vr,ai),Vg(so,0,so.length-1,Mo)),dr=0,Cs.lineOffset=Math.max(Yd,(ss-1)*fi);const Ap=ar*ss+Yd;$r+=Ap,Oa=Math.max(Ap,Oa),++fl}const{horizontalAlign:Oo,verticalAlign:go}=p0(Un);(function(Ei,ss,Cs,so,Yd,Uu,Wd,Ap,Ul){const Xo=(ss-Cs)*Yd;let hl=0;hl=Uu!==Wd?-Ap*so- -17:-so*Ul*Wd+.5*Wd;for(const ls of Ei)for(const Gl of ls.positionedGlyphs)Gl.x+=Xo,Gl.y+=hl})(kt.positionedLines,Mo,Oo,go,ai,Oa,ar,$r,Ln.length),kt.top+=-go*$r,kt.bottom=kt.top+$r,kt.left+=-Oo*ai,kt.right=kt.left+ai})(Et,o,c,y,Fe,N,F,V,de,X,ge,Ae),!(function(kt){for(const tn of kt)if(tn.positionedGlyphs.length!==0)return!1;return!0})(at)&&Et}function p0(d){let o=.5,c=.5;switch(d){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(d){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:o,verticalAlign:c}}function qw(d,o,c){const y=o.getMaxScale()*fi,{maxImageWidth:E,maxImageHeight:I}=o.getMaxImageSize(d),N=Math.max(y,I*c);return{verticalLineContentWidth:Math.max(y,E*c),horizontalLineContentHeight:N}}function Hg(d){switch(d){case"top":return 0;case"center":return .5;default:return 1}}function Bv(d,o,c){return!(d===u.aA.horizontal||!o&&!Tg(c)||o&&(Cg(c)||(y=c,new RegExp("\\p{sc=Arab}","u").test(String.fromCodePoint(y)))));var y}function Yw(d,o,c,y,E,I){const N=I[d.fontStack],F=(function(X,ae,de,ge){if(X&&X.rect)return X;const be=ae[de.fontStack],Ae=be&&be[ge];return Ae?{rect:null,metrics:Ae.metrics}:null})(N&&N[o],E,d,o);if(F===null)return null;let V;if(c)V=y.verticalLineContentWidth-d.scale*fi;else{const X=Hg(d.verticalAlign);V=(y.horizontalLineContentHeight-d.scale*fi)*X}return{rect:F.rect,metrics:F.metrics,baselineOffset:V}}function Ww(d,o,c,y,E){const I=E[d.imageName];if(!I)return null;const N=I.paddedRect,F=I.displaySize,V={width:F[0],height:F[1],left:1,top:-3,advance:o?F[1]:F[0]};let X;if(o)X=y.verticalLineContentWidth-F[1]*d.scale;else{const ae=Hg(d.verticalAlign);X=(y.horizontalLineContentHeight-F[1]*d.scale)*ae}return{rect:N,metrics:V,baselineOffset:X,imageOffset:(o?F[0]:F[1])*d.scale-fi*c}}function Vg(d,o,c,y){if(y===0)return;const E=d[c],I=(d[c].x+E.metrics.advance*E.scale)*y;for(let N=o;N<=c;N++)d[N].x-=I}function xm(d,o,c){const{horizontalAlign:y,verticalAlign:E}=p0(c),I=o[0]-d.displaySize[0]*y,N=o[1]-d.displaySize[1]*E;return{image:d,top:N,bottom:N+d.displaySize[1],left:I,right:I+d.displaySize[0]}}function $v(d){var o,c;let y=d.left,E=d.top,I=d.right-y,N=d.bottom-E;const F=(o=d.image.textFitWidth)!==null&&o!==void 0?o:"stretchOrShrink",V=(c=d.image.textFitHeight)!==null&&c!==void 0?c:"stretchOrShrink",X=(d.image.content[2]-d.image.content[0])/(d.image.content[3]-d.image.content[1]);if(V==="proportional"){if(F==="stretchOnly"&&I/N<X||F==="proportional"){const ae=Math.ceil(N*X);y*=ae/I,I=ae}}else if(F==="proportional"&&V==="stretchOnly"&&X!==0&&I/N>X){const ae=Math.ceil(I/X);E*=ae/N,N=ae}return{x1:y,y1:E,x2:y+I,y2:E+N}}function m0(d,o,c,y,E,I){const N=d.image;let F;if(N.content){const Fe=N.content,Ye=N.pixelRatio||1;F=[Fe[0]/Ye,Fe[1]/Ye,N.displaySize[0]-Fe[2]/Ye,N.displaySize[1]-Fe[3]/Ye]}const V=o.left*I,X=o.right*I;let ae,de,ge,be;c==="width"||c==="both"?(be=E[0]+V-y[3],de=E[0]+X+y[1]):(be=E[0]+(V+X-N.displaySize[0])/2,de=be+N.displaySize[0]);const Ae=o.top*I,De=o.bottom*I;return c==="height"||c==="both"?(ae=E[1]+Ae-y[0],ge=E[1]+De+y[2]):(ae=E[1]+(Ae+De-N.displaySize[1])/2,ge=ae+N.displaySize[1]),{image:N,top:ae,right:de,bottom:ge,left:be,collisionPadding:F}}or("ImagePosition",_m),or("ImageAtlas",Fv),u.aA=void 0,(Df=u.aA||(u.aA={}))[Df.none=0]="none",Df[Df.horizontal=1]="horizontal",Df[Df.vertical=2]="vertical",Df[Df.horizontalOnly=3]="horizontalOnly";const Hd=128,du=32640;function Vd(d,o){const{expression:c}=o;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new Ra(d+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:y,interpolationType:E}=c;let I=0;for(;I<y.length&&y[I]<=d;)I++;I=Math.max(0,I-1);let N=I;for(;N<y.length&&y[N]<d+1;)N++;N=Math.min(y.length-1,N);const F=y[I],V=y[N];return c.kind==="composite"?{kind:"composite",minZoom:F,maxZoom:V,interpolationType:E}:{kind:"camera",minZoom:F,maxZoom:V,minSize:c.evaluate(new Ra(F)),maxSize:c.evaluate(new Ra(V)),interpolationType:E}}}function Em(d,o,c){let y="never";const E=d.get(o);return E?y=E:d.get(c)&&(y="always"),y}const Zw=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function g0(d,o,c,y,E,I,N,F,V,X,ae,de,ge){const be=F?Math.min(du,Math.round(F[0])):0,Ae=F?Math.min(du,Math.round(F[1])):0;d.emplaceBack(o,c,Math.round(32*y),Math.round(32*E),I,N,(be<<1)+(V?1:0),Ae,16*X,16*ae,256*de,256*ge)}function jv(d,o,c){d.emplaceBack(o.x,o.y,c),d.emplaceBack(o.x,o.y,c),d.emplaceBack(o.x,o.y,c),d.emplaceBack(o.x,o.y,c)}function vx(d){for(const o of d.sections)if(yc(o.text))return!0;return!1}class zv{constructor(o){this.layoutVertexArray=new gt,this.indexArray=new Qt,this.programConfigurations=o,this.segments=new On,this.dynamicLayoutVertexArray=new At,this.opacityVertexArray=new Rt,this.hasVisibleVertices=!1,this.placedSymbolArray=new x}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,c,y,E){this.isEmpty()||(y&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,yh.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,__.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,Zw,!0),this.opacityVertexBuffer.itemSize=1),(y||E)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}or("SymbolBuffers",zv);class I_{constructor(o,c,y){this.layoutVertexArray=new o,this.layoutAttributes=c,this.indexArray=new y,this.segments=new On,this.collisionVertexArray=new jt}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,x_.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}or("CollisionBuffers",I_);class cl{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map((N=>N.id)),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Vd(this.zoom,c["text-size"]),this.iconSizeData=Vd(this.zoom,c["icon-size"]);const y=this.layers[0].layout,E=y.get("symbol-sort-key"),I=y.get("symbol-z-order");this.canOverlap=Em(y,"text-overlap","text-allow-overlap")!=="never"||Em(y,"icon-overlap","icon-allow-overlap")!=="never"||y.get("text-ignore-placement")||y.get("icon-ignore-placement"),this.sortFeaturesByKey=I!=="viewport-y"&&!E.isConstant(),this.sortFeaturesByY=(I==="viewport-y"||I==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,y.get("symbol-placement")==="point"&&(this.writingModes=y.get("text-writing-mode").map((N=>u.aA[N]))),this.stateDependentLayerIds=this.layers.filter((N=>N.isStateDependent())).map((N=>N.id)),this.sourceID=o.sourceID}createArrays(){this.text=new zv(new xi(this.layers,this.zoom,(o=>/^text/.test(o)))),this.icon=new zv(new xi(this.layers,this.zoom,(o=>/^icon/.test(o)))),this.glyphOffsetArray=new U,this.lineVertexArray=new W,this.symbolInstances=new L,this.textAnchorOffsets=new ce}calculateGlyphDependencies(o,c,y,E,I){for(const N of o)if(c[N.codePointAt(0)]=!0,(y||E)&&I){const F=zg[N];F&&(c[F.codePointAt(0)]=!0)}}populate(o,c,y){const E=this.layers[0],I=E.layout,N=I.get("text-font"),F=I.get("text-field"),V=I.get("icon-image"),X=(F.value.kind!=="constant"||F.value.value instanceof ji&&!F.value.value.isEmpty()||F.value.value.toString().length>0)&&(N.value.kind!=="constant"||N.value.value.length>0),ae=V.value.kind!=="constant"||!!V.value.value||Object.keys(V.parameters).length>0,de=I.get("symbol-sort-key");if(this.features=[],!X&&!ae)return;const ge=c.iconDependencies,be=c.glyphDependencies,Ae=c.availableImages,De=new Ra(this.zoom);for(const{feature:Fe,id:Ye,index:vt,sourceLayerIndex:Xe}of o){const at=E._featureFilter.needGeometry,Et=jd(Fe,at);if(!E._featureFilter.filter(De,Et,y))continue;let kt,tn;if(at||(Et.geometry=ko(Fe)),X){const yn=E.getValueAndResolveTokens("text-field",Et,y,Ae),Ln=ji.factory(yn),ar=this.hasRTLText=this.hasRTLText||vx(Ln);(!ar||Nu.getRTLTextPluginStatus()==="unavailable"||ar&&Nu.isParsed())&&(kt=w_(Ln,E,Et))}if(ae){const yn=E.getValueAndResolveTokens("icon-image",Et,y,Ae);tn=yn instanceof da?yn:da.fromString(yn)}if(!kt&&!tn)continue;const Sn=this.sortFeaturesByKey?de.evaluate(Et,{},y):void 0;if(this.features.push({id:Ye,text:kt,icon:tn,index:vt,sourceLayerIndex:Xe,geometry:Et.geometry,properties:Fe.properties,type:gh.types[Fe.type],sortKey:Sn}),tn&&(ge[tn.name]=!0),kt){const yn=N.evaluate(Et,{},y).join(","),Ln=I.get("text-rotation-alignment")!=="viewport"&&I.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(u.aA.vertical)>=0;for(const ar of kt.sections)if(ar.image)ge[ar.image.name]=!0;else{const Un=Iu(kt.toString()),bn=ar.fontStack||yn,un=be[bn]=be[bn]||{};this.calculateGlyphDependencies(ar.text,un,Ln,this.allowVerticalPlacement,Un)}}}I.get("symbol-placement")==="line"&&(this.features=(function(Fe){const Ye={},vt={},Xe=[];let at=0;function Et(yn){Xe.push(Fe[yn]),at++}function kt(yn,Ln,ar){const Un=vt[yn];return delete vt[yn],vt[Ln]=Un,Xe[Un].geometry[0].pop(),Xe[Un].geometry[0]=Xe[Un].geometry[0].concat(ar[0]),Un}function tn(yn,Ln,ar){const Un=Ye[Ln];return delete Ye[Ln],Ye[yn]=Un,Xe[Un].geometry[0].shift(),Xe[Un].geometry[0]=ar[0].concat(Xe[Un].geometry[0]),Un}function Sn(yn,Ln,ar){const Un=ar?Ln[0][Ln[0].length-1]:Ln[0][0];return`${yn}:${Un.x}:${Un.y}`}for(let yn=0;yn<Fe.length;yn++){const Ln=Fe[yn],ar=Ln.geometry,Un=Ln.text?Ln.text.toString():null;if(!Un){Et(yn);continue}const bn=Sn(Un,ar),un=Sn(Un,ar,!0);if(bn in vt&&un in Ye&&vt[bn]!==Ye[un]){const vr=tn(bn,un,ar),mr=kt(bn,un,Xe[vr].geometry);delete Ye[bn],delete vt[un],vt[Sn(Un,Xe[mr].geometry,!0)]=mr,Xe[vr].geometry=null}else bn in vt?kt(bn,un,ar):un in Ye?tn(bn,un,ar):(Et(yn),Ye[bn]=at-1,vt[un]=at-1)}return Xe.filter((yn=>yn.geometry))})(this.features)),this.sortFeaturesByKey&&this.features.sort(((Fe,Ye)=>Fe.sortKey-Ye.sortKey))}update(o,c,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,c,this.layers,{imagePositions:y}),this.icon.programConfigurations.updatePaintArrays(o,c,this.layers,{imagePositions:y}))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,c){const y=this.lineVertexArray.length;if(o.segment!==void 0){let E=o.dist(c[o.segment+1]),I=o.dist(c[o.segment]);const N={};for(let F=o.segment+1;F<c.length;F++)N[F]={x:c[F].x,y:c[F].y,tileUnitDistanceFromAnchor:E},F<c.length-1&&(E+=c[F+1].dist(c[F]));for(let F=o.segment||0;F>=0;F--)N[F]={x:c[F].x,y:c[F].y,tileUnitDistanceFromAnchor:I},F>0&&(I+=c[F-1].dist(c[F]));for(let F=0;F<c.length;F++){const V=N[F];this.lineVertexArray.emplaceBack(V.x,V.y,V.tileUnitDistanceFromAnchor)}}return{lineStartIndex:y,lineLength:this.lineVertexArray.length-y}}addSymbols(o,c,y,E,I,N,F,V,X,ae,de,ge){const be=o.indexArray,Ae=o.layoutVertexArray,De=o.segments.prepareSegment(4*c.length,Ae,be,this.canOverlap?N.sortKey:void 0),Fe=this.glyphOffsetArray.length,Ye=De.vertexLength,vt=this.allowVerticalPlacement&&F===u.aA.vertical?Math.PI/2:0,Xe=N.text&&N.text.sections;for(let at=0;at<c.length;at++){const{tl:Et,tr:kt,bl:tn,br:Sn,tex:yn,pixelOffsetTL:Ln,pixelOffsetBR:ar,minFontScaleX:Un,minFontScaleY:bn,glyphOffset:un,isSDF:vr,sectionIndex:mr}=c[at],Sr=De.vertexLength,dr=un[1];g0(Ae,V.x,V.y,Et.x,dr+Et.y,yn.x,yn.y,y,vr,Ln.x,Ln.y,Un,bn),g0(Ae,V.x,V.y,kt.x,dr+kt.y,yn.x+yn.w,yn.y,y,vr,ar.x,Ln.y,Un,bn),g0(Ae,V.x,V.y,tn.x,dr+tn.y,yn.x,yn.y+yn.h,y,vr,Ln.x,ar.y,Un,bn),g0(Ae,V.x,V.y,Sn.x,dr+Sn.y,yn.x+yn.w,yn.y+yn.h,y,vr,ar.x,ar.y,Un,bn),jv(o.dynamicLayoutVertexArray,V,vt),be.emplaceBack(Sr,Sr+2,Sr+1),be.emplaceBack(Sr+1,Sr+2,Sr+3),De.vertexLength+=4,De.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(un[0]),at!==c.length-1&&mr===c[at+1].sectionIndex||o.programConfigurations.populatePaintArrays(Ae.length,N,N.index,{imagePositions:{},canonical:ge,formattedSection:Xe&&Xe[mr]})}o.placedSymbolArray.emplaceBack(V.x,V.y,Fe,this.glyphOffsetArray.length-Fe,Ye,X,ae,V.segment,y?y[0]:0,y?y[1]:0,E[0],E[1],F,0,!1,0,de)}_addCollisionDebugVertex(o,c,y,E,I,N){return c.emplaceBack(0,0),o.emplaceBack(y.x,y.y,E,I,Math.round(N.x),Math.round(N.y))}addCollisionDebugVertices(o,c,y,E,I,N,F){const V=I.segments.prepareSegment(4,I.layoutVertexArray,I.indexArray),X=V.vertexLength,ae=I.layoutVertexArray,de=I.collisionVertexArray,ge=F.anchorX,be=F.anchorY;this._addCollisionDebugVertex(ae,de,N,ge,be,new m(o,c)),this._addCollisionDebugVertex(ae,de,N,ge,be,new m(y,c)),this._addCollisionDebugVertex(ae,de,N,ge,be,new m(y,E)),this._addCollisionDebugVertex(ae,de,N,ge,be,new m(o,E)),V.vertexLength+=4;const Ae=I.indexArray;Ae.emplaceBack(X,X+1),Ae.emplaceBack(X+1,X+2),Ae.emplaceBack(X+2,X+3),Ae.emplaceBack(X+3,X),V.primitiveLength+=4}addDebugCollisionBoxes(o,c,y,E){for(let I=o;I<c;I++){const N=this.collisionBoxArray.get(I);this.addCollisionDebugVertices(N.x1,N.y1,N.x2,N.y2,E?this.textCollisionBox:this.iconCollisionBox,N.anchorPoint,y)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new I_(bt,E_.members,Jt),this.iconCollisionBox=new I_(bt,E_.members,Jt);for(let o=0;o<this.symbolInstances.length;o++){const c=this.symbolInstances.get(o);this.addDebugCollisionBoxes(c.textBoxStartIndex,c.textBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.verticalTextBoxStartIndex,c.verticalTextBoxEndIndex,c,!0),this.addDebugCollisionBoxes(c.iconBoxStartIndex,c.iconBoxEndIndex,c,!1),this.addDebugCollisionBoxes(c.verticalIconBoxStartIndex,c.verticalIconBoxEndIndex,c,!1)}}_deserializeCollisionBoxesForSymbol(o,c,y,E,I,N,F,V,X){const ae={};for(let de=c;de<y;de++){const ge=o.get(de);ae.textBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},ae.textFeatureIndex=ge.featureIndex;break}for(let de=E;de<I;de++){const ge=o.get(de);ae.verticalTextBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},ae.verticalTextFeatureIndex=ge.featureIndex;break}for(let de=N;de<F;de++){const ge=o.get(de);ae.iconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},ae.iconFeatureIndex=ge.featureIndex;break}for(let de=V;de<X;de++){const ge=o.get(de);ae.verticalIconBox={x1:ge.x1,y1:ge.y1,x2:ge.x2,y2:ge.y2,anchorPointX:ge.anchorPointX,anchorPointY:ge.anchorPointY},ae.verticalIconFeatureIndex=ge.featureIndex;break}return ae}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const y=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,y.textBoxStartIndex,y.textBoxEndIndex,y.verticalTextBoxStartIndex,y.verticalTextBoxEndIndex,y.iconBoxStartIndex,y.iconBoxEndIndex,y.verticalIconBoxStartIndex,y.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,c){const y=o.placedSymbolArray.get(c),E=y.vertexStartIndex+4*y.numGlyphs;for(let I=y.vertexStartIndex;I<E;I+=4)o.indexArray.emplaceBack(I,I+2,I+1),o.indexArray.emplaceBack(I+1,I+2,I+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(o),y=Math.cos(o),E=[],I=[],N=[];for(let F=0;F<this.symbolInstances.length;++F){N.push(F);const V=this.symbolInstances.get(F);E.push(0|Math.round(c*V.anchorX+y*V.anchorY)),I.push(V.featureIndex)}return N.sort(((F,V)=>E[F]-E[V]||I[V]-I[F])),N}addToSortKeyRanges(o,c){const y=this.sortKeyRanges[this.sortKeyRanges.length-1];y&&y.sortKey===c?y.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const y=this.symbolInstances.get(c);this.featureSortOrder.push(y.featureIndex),[y.rightJustifiedTextSymbolIndex,y.centerJustifiedTextSymbolIndex,y.leftJustifiedTextSymbolIndex].forEach(((E,I,N)=>{E>=0&&N.indexOf(E)===I&&this.addIndicesForPlacedSymbol(this.text,E)})),y.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,y.verticalPlacedTextSymbolIndex),y.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.placedIconSymbolIndex),y.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,y.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let N_,R_;or("SymbolBucket",cl,{omit:["layers","collisionBoxArray","features","compareText"]}),cl.MAX_GLYPHS=65535,cl.addDynamicAttributes=jv;var _h={get paint(){return R_=R_||new fo({"icon-opacity":new Er(Pt.paint_symbol["icon-opacity"]),"icon-color":new Er(Pt.paint_symbol["icon-color"]),"icon-halo-color":new Er(Pt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Er(Pt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Er(Pt.paint_symbol["icon-halo-blur"]),"icon-translate":new Cr(Pt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Cr(Pt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Er(Pt.paint_symbol["text-opacity"]),"text-color":new Er(Pt.paint_symbol["text-color"],{runtimeType:hr,getOverride:d=>d.textColor,hasOverride:d=>!!d.textColor}),"text-halo-color":new Er(Pt.paint_symbol["text-halo-color"]),"text-halo-width":new Er(Pt.paint_symbol["text-halo-width"]),"text-halo-blur":new Er(Pt.paint_symbol["text-halo-blur"]),"text-translate":new Cr(Pt.paint_symbol["text-translate"]),"text-translate-anchor":new Cr(Pt.paint_symbol["text-translate-anchor"])})},get layout(){return N_=N_||new fo({"symbol-placement":new Cr(Pt.layout_symbol["symbol-placement"]),"symbol-spacing":new Cr(Pt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Cr(Pt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Er(Pt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Cr(Pt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Cr(Pt.layout_symbol["icon-allow-overlap"]),"icon-overlap":new Cr(Pt.layout_symbol["icon-overlap"]),"icon-ignore-placement":new Cr(Pt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Cr(Pt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Cr(Pt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Er(Pt.layout_symbol["icon-size"]),"icon-text-fit":new Cr(Pt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Cr(Pt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Er(Pt.layout_symbol["icon-image"]),"icon-rotate":new Er(Pt.layout_symbol["icon-rotate"]),"icon-padding":new Er(Pt.layout_symbol["icon-padding"]),"icon-keep-upright":new Cr(Pt.layout_symbol["icon-keep-upright"]),"icon-offset":new Er(Pt.layout_symbol["icon-offset"]),"icon-anchor":new Er(Pt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Cr(Pt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Cr(Pt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Cr(Pt.layout_symbol["text-rotation-alignment"]),"text-field":new Er(Pt.layout_symbol["text-field"]),"text-font":new Er(Pt.layout_symbol["text-font"]),"text-size":new Er(Pt.layout_symbol["text-size"]),"text-max-width":new Er(Pt.layout_symbol["text-max-width"]),"text-line-height":new Cr(Pt.layout_symbol["text-line-height"]),"text-letter-spacing":new Er(Pt.layout_symbol["text-letter-spacing"]),"text-justify":new Er(Pt.layout_symbol["text-justify"]),"text-radial-offset":new Er(Pt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Cr(Pt.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Er(Pt.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Er(Pt.layout_symbol["text-anchor"]),"text-max-angle":new Cr(Pt.layout_symbol["text-max-angle"]),"text-writing-mode":new Cr(Pt.layout_symbol["text-writing-mode"]),"text-rotate":new Er(Pt.layout_symbol["text-rotate"]),"text-padding":new Cr(Pt.layout_symbol["text-padding"]),"text-keep-upright":new Cr(Pt.layout_symbol["text-keep-upright"]),"text-transform":new Er(Pt.layout_symbol["text-transform"]),"text-offset":new Er(Pt.layout_symbol["text-offset"]),"text-allow-overlap":new Cr(Pt.layout_symbol["text-allow-overlap"]),"text-overlap":new Cr(Pt.layout_symbol["text-overlap"]),"text-ignore-placement":new Cr(Pt.layout_symbol["text-ignore-placement"]),"text-optional":new Cr(Pt.layout_symbol["text-optional"])})}};class ya{constructor(o){if(o.property.overrides===void 0)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=o.property.overrides?o.property.overrides.runtimeType:Jn,this.defaultValue=o}evaluate(o){if(o.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(o.formattedSection))return c.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}or("FormatSectionOverride",ya,{omit:["defaultValue"]});class qg extends Bs{constructor(o,c){super(o,_h,c)}recalculate(o,c){if(super.recalculate(o,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")==="map"?"map":"viewport"),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const y=this.layout.get("text-writing-mode");if(y){const E=[];for(const I of y)E.indexOf(I)<0&&E.push(I);this.layout._values["text-writing-mode"]=E}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,c,y,E){const I=this.layout.get(o).evaluate(c,{},y,E),N=this._unevaluatedLayout._values[o];return N.isDataDriven()||Yc(N.value)||!I?I:(function(F,V){return V.replace(/{([^{}]+)}/g,((X,ae)=>F&&ae in F?String(F[ae]):""))})(c.properties,I)}createBucket(o){return new cl(o)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const o of _h.paint.overridableProperties){if(!qg.hasPaintOverride(this.layout,o))continue;const c=this.paint.get(o),y=new ya(c),E=new sh(y,c.property.specification);let I=null;I=c.value.kind==="constant"||c.value.kind==="source"?new rl("source",E):new mf("composite",E,c.value.zoomStops),this.paint._values[o]=new Es(c.property,I,c.parameters)}}_handleOverridablePaintPropertyUpdate(o,c,y){return!(!this.layout||c.isDataDriven()||y.isDataDriven())&&qg.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,c){const y=o.get("text-field"),E=_h.paint.properties[c];let I=!1;const N=F=>{for(const V of F)if(E.overrides&&E.overrides.hasOverride(V))return void(I=!0)};if(y.value.kind==="constant"&&y.value.value instanceof ji)N(y.value.value.sections);else if(y.value.kind==="source"||y.value.kind==="composite"){const F=X=>{I||(X instanceof gi&&Qr(X.value)===mt?N(X.value.sections):X instanceof el?N(X.sections):X.eachChild(F))},V=y.value;V._styleExpression&&F(V._styleExpression.expression)}return I}}let fu;var os={get paint(){return fu=fu||new fo({"background-color":new Cr(Pt.paint_background["background-color"]),"background-pattern":new xl(Pt.paint_background["background-pattern"]),"background-opacity":new Cr(Pt.paint_background["background-opacity"])})}};class y0 extends Bs{constructor(o,c){super(o,os,c)}}class vp extends Bs{constructor(o,c){super(o,{},c),this.onAdd=y=>{this.implementation.onAdd&&this.implementation.onAdd(y,y.painter.context.gl)},this.onRemove=y=>{this.implementation.onRemove&&this.implementation.onRemove(y,y.painter.context.gl)},this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class bx{constructor(o){this._methodToThrottle=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._methodToThrottle()}),0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Ga={once:!0},v0=63710088e-1;class qd{constructor(o,c){if(isNaN(o)||isNaN(c))throw new Error(`Invalid LngLat object: (${o}, ${c})`);if(this.lng=+o,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new qd(Nt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const c=Math.PI/180,y=this.lat*c,E=o.lat*c,I=Math.sin(y)*Math.sin(E)+Math.cos(y)*Math.cos(E)*Math.cos((o.lng-this.lng)*c);return v0*Math.acos(Math.min(I,1))}static convert(o){if(o instanceof qd)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new qd(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new qd(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Uv=2*Math.PI*v0;function b0(d){return Uv*Math.cos(d*Math.PI/180)}function Gv(d){return(180+d)/360}function ju(d){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+d*Math.PI/360)))/360}function Yg(d,o){return d/b0(o)}function _0(d){return 360*d-180}function Hi(d){return 360/Math.PI*Math.atan(Math.exp((180-360*d)*Math.PI/180))-90}function Ro(d,o){return d*b0(Hi(o))}class Wg{constructor(o,c,y=0){this.x=+o,this.y=+c,this.z=+y}static fromLngLat(o,c=0){const y=qd.convert(o);return new Wg(Gv(y.lng),ju(y.lat),Yg(c,y.lat))}toLngLat(){return new qd(_0(this.x),Hi(this.y))}toAltitude(){return Ro(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Uv*(o=Hi(this.y),1/Math.cos(o*Math.PI/180));var o}}function M_(d,o,c){var y=2*Math.PI*6378137/256/Math.pow(2,c);return[d*y-2*Math.PI*6378137/2,o*y-2*Math.PI*6378137/2]}class Hv{constructor(o,c,y){if(!(function(E,I,N){return!(E<0||E>25||N<0||N>=Math.pow(2,E)||I<0||I>=Math.pow(2,E))})(o,c,y))throw new Error(`x=${c}, y=${y}, z=${o} outside of bounds. 0<=x<${Math.pow(2,o)}, 0<=y<${Math.pow(2,o)} 0<=z<=25 `);this.z=o,this.x=c,this.y=y,this.key=Zo(0,o,o,c,y)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,c,y){const E=(function(N,F,V){var X=M_(256*N,256*(F=Math.pow(2,V)-F-1),V),ae=M_(256*(N+1),256*(F+1),V);return X[0]+","+X[1]+","+ae[0]+","+ae[1]})(this.x,this.y,this.z),I=(function(N,F,V){let X,ae="";for(let de=N;de>0;de--)X=1<<de-1,ae+=(F&X?1:0)+(V&X?2:0);return ae})(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(y==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,c>1?"@2x":"").replace(/{quadkey}/g,I).replace(/{bbox-epsg-3857}/g,E)}isChildOf(o){const c=this.z-o.z;return c>0&&o.x===this.x>>c&&o.y===this.y>>c}getTilePoint(o){const c=Math.pow(2,this.z);return new m((o.x*c-this.x)*Be,(o.y*c-this.y)*Be)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Ii{constructor(o,c){this.wrap=o,this.canonical=c,this.key=Zo(o,c.z,c.z,c.x,c.y)}}class hu{constructor(o,c,y,E,I){if(this.terrainRttPosMatrix32f=null,o<y)throw new Error(`overscaledZ should be >= z; overscaledZ = ${o}; z = ${y}`);this.overscaledZ=o,this.wrap=c,this.canonical=new Hv(y,+E,+I),this.key=Zo(c,o,y,E,I)}clone(){return new hu(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const c=this.canonical.z-o;return o>this.canonical.z?new hu(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new hu(o,this.wrap,o,this.canonical.x>>c,this.canonical.y>>c)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(o,c){if(o>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${o}; overscaledZ = ${this.overscaledZ}`);const y=this.canonical.z-o;return o>this.canonical.z?Zo(this.wrap*+c,o,this.canonical.z,this.canonical.x,this.canonical.y):Zo(this.wrap*+c,o,o,this.canonical.x>>y,this.canonical.y>>y)}isChildOf(o){if(o.wrap!==this.wrap||this.overscaledZ-o.overscaledZ<=0)return!1;if(o.overscaledZ===0)return this.overscaledZ>0;const c=this.canonical.z-o.canonical.z;return!(c<0)&&o.canonical.x===this.canonical.x>>c&&o.canonical.y===this.canonical.y>>c}children(o){if(this.overscaledZ>=o)return[new hu(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,y=2*this.canonical.x,E=2*this.canonical.y;return[new hu(c,this.wrap,c,y,E),new hu(c,this.wrap,c,y+1,E),new hu(c,this.wrap,c,y,E+1),new hu(c,this.wrap,c,y+1,E+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new hu(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new hu(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Ii(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new Wg(o.x-this.wrap,o.y))}}function Zo(d,o,c,y,E){(d*=2)<0&&(d=-1*d-1);const I=1<<c;return(I*I*d+I*E+y).toString(36)+c.toString(36)+o.toString(36)}function x0(d,o){return o?d.properties[o]:d.id}function O_(d,o){const c={id:d.id};if(o.removeAllProperties&&(delete d.removeProperties,delete d.addOrUpdateProperties,delete o.removeProperties),o.removeProperties)for(const y of o.removeProperties){const E=d.addOrUpdateProperties.findIndex((I=>I.key===y));E>-1&&d.addOrUpdateProperties.splice(E,1)}return(d.removeAllProperties||o.removeAllProperties)&&(c.removeAllProperties=!0),(d.removeProperties||o.removeProperties)&&(c.removeProperties=[...d.removeProperties||[],...o.removeProperties||[]]),(d.addOrUpdateProperties||o.addOrUpdateProperties)&&(c.addOrUpdateProperties=[...d.addOrUpdateProperties||[],...o.addOrUpdateProperties||[]]),(d.newGeometry||o.newGeometry)&&(c.newGeometry=o.newGeometry||d.newGeometry),c}function Zg(d){var o,c;if(!d)return{};const y={};return y.removeAll=d.removeAll,y.remove=new Set(d.remove||[]),y.add=new Map((o=d.add)===null||o===void 0?void 0:o.map((E=>[E.id,E]))),y.update=new Map((c=d.update)===null||c===void 0?void 0:c.map((E=>[E.id,E]))),y}or("CanonicalTileID",Hv),or("OverscaledTileID",hu,{omit:["terrainRttPosMatrix32f"]});class Xg{constructor(o){this._stringToNumber={},this._numberToString=[];for(let c=0;c<o.length;c++){const y=o[c];this._stringToNumber[y]=c,this._numberToString[c]=y}}encode(o){return this._stringToNumber[o]}decode(o){if(o>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${o} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[o]}}class Vv{constructor(o,c,y,E,I){this.type="Feature",this._vectorTileFeature=o,this._x=y,this._y=E,this._z=c,this.properties=o.properties,this.id=I}projectPoint(o,c,y,E){return[360*(o.x+c)/E-180,360/Math.PI*Math.atan(Math.exp((1-2*(o.y+y)/E)*Math.PI))-90]}projectLine(o,c,y,E){return o.map((I=>this.projectPoint(I,c,y,E)))}get geometry(){if(this._geometry)return this._geometry;const o=this._vectorTileFeature,c=o.extent*Math.pow(2,this._z),y=o.extent*this._x,E=o.extent*this._y,I=o.loadGeometry();switch(o.type){case 1:{const N=[];for(const V of I)N.push(V[0]);const F=this.projectLine(N,y,E,c);this._geometry=N.length===1?{type:"Point",coordinates:F[0]}:{type:"MultiPoint",coordinates:F};break}case 2:{const N=I.map((F=>this.projectLine(F,y,E,c)));this._geometry=N.length===1?{type:"LineString",coordinates:N[0]}:{type:"MultiLineString",coordinates:N};break}case 3:{const N=s0(I),F=[];for(const V of N)F.push(V.map((X=>this.projectLine(X,y,E,c))));this._geometry=F.length===1?{type:"Polygon",coordinates:F[0]}:{type:"MultiPolygon",coordinates:F};break}default:throw new Error(`unknown feature type: ${o.type}`)}return this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={geometry:this.geometry};for(const c in this)c!=="_geometry"&&c!=="_vectorTileFeature"&&c!=="_x"&&c!=="_y"&&c!=="_z"&&(o[c]=this[c]);return o}}class Lf{_name;dataBuffer;nullabilityBuffer;_size;constructor(o,c,y){this._name=o,this.dataBuffer=c,typeof y=="number"?this._size=y:(this.nullabilityBuffer=y,this._size=y.size())}getValue(o){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(o)?null:this.getValueFromBuffer(o)}has(o){return this.nullabilityBuffer&&this.nullabilityBuffer.get(o)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class bp extends Lf{}class Bl extends bp{getValueFromBuffer(o){return this.dataBuffer[o]}}class Pf extends bp{getValueFromBuffer(o){return this.dataBuffer[o]}}class qv extends Lf{delta;constructor(o,c,y,E){super(o,c,E),this.delta=y}}class D_ extends qv{constructor(o,c,y,E){super(o,Int32Array.of(c),y,E)}getValueFromBuffer(o){return this.dataBuffer[0]+o*this.delta}}class Yv extends Lf{constructor(o,c,y){super(o,Int32Array.of(c),y)}getValueFromBuffer(o){return this.dataBuffer[0]}}class Xw{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(o,c,y,E,I=4096){this._name=o,this._geometryVector=c,this._idVector=y,this._propertyVectors=E,this._extent=I}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(o){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map((c=>[c.name,c])))),this.propertyVectorsMap.get(o)}*[Symbol.iterator](){const o=this.geometryVector[Symbol.iterator]();let c=0;for(;c<this.numFeatures;){let y;this.idVector&&(y=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(c)):this.idVector.getValue(c));const E=o?.next().value,I={};for(const N of this.propertyVectors){if(!N)continue;const F=N.name,V=N.getValue(c);V!==null&&(I[F]=V)}c++,yield{id:y,geometry:E,properties:I}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const o=[],c=this.geometryVector.getGeometries();for(let y=0;y<this.numFeatures;y++){let E;this.idVector&&(E=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(y)):this.idVector.getValue(y));const I={coordinates:c[y],type:this.geometryVector.geometryType(y)},N={};for(const F of this.propertyVectors){if(!F)continue;const V=F.name,X=F.getValue(y);X!==null&&(N[V]=X)}o.push({id:E,geometry:I,properties:N})}return o}containsMaxSaveIntegerValues(o){return o instanceof Bl||o instanceof Yv&&o instanceof D_||o instanceof Pf}}class _x{value;constructor(o){this.value=o}get(){return this.value}set(o){this.value=o}increment(){return this.value++}add(o){this.value+=o}}var ba,kl,Pr,Tc,zs,Il,Ts,ha,L_,$l;function mo(d,o,c){const y=new Int32Array(c);let E=0,I=o.get();for(let N=0;N<y.length;N++){let F=d[I++],V=127&F;F<128||(F=d[I++],V|=(127&F)<<7,F<128||(F=d[I++],V|=(127&F)<<14,F<128||(F=d[I++],V|=(127&F)<<21,F<128||(F=d[I++],V|=(15&F)<<28)))),y[E++]=V}return o.set(I),y}function Wv(d,o,c){const y=new BigInt64Array(c);for(let E=0;E<y.length;E++)y[E]=xx(d,o);return y}function sd(d,o){let c,y;return y=d[o.get()],o.increment(),c=127&y,y<128?c:(y=d[o.get()],o.increment(),c|=(127&y)<<7,y<128?c:(y=d[o.get()],o.increment(),c|=(127&y)<<14,y<128?c:(y=d[o.get()],o.increment(),c|=(127&y)<<21,y<128?c:(y=d[o.get()],c|=(15&y)<<28,(function(E,I,N){let F,V;if(V=I[N.get()],N.increment(),F=(112&V)>>4,V<128||(V=I[N.get()],N.increment(),F|=(127&V)<<3,V<128)||(V=I[N.get()],N.increment(),F|=(127&V)<<10,V<128)||(V=I[N.get()],N.increment(),F|=(127&V)<<17,V<128)||(V=I[N.get()],N.increment(),F|=(127&V)<<24,V<128)||(V=I[N.get()],N.increment(),F|=(1&V)<<31,V<128))return 4294967296*F+(E>>>0);throw new Error("Expected varint not more than 10 bytes")})(c,d,o)))))}function Zv(d,o,c,y){throw new Error("FastPFor is not implemented yet.")}function _p(d){return d>>>1^-(1&d)}function wm(d){return d>>1n^-(1n&d)}function xx(d,o){let c=0n,y=0,E=o.get();for(;E<d.length;){const I=d[E++];if(c|=BigInt(127&I)<<BigInt(y),!(128&I))break;if(y+=7,y>=64)throw new Error("Varint too long")}return o.set(E),c}function Kg(d,o,c){const y=new Int32Array(c);let E=0;for(let I=0;I<o;I++){const N=d[I];y.fill(d[I+o],E,E+N),E+=N}return y}function Cc(d,o,c){const y=new BigInt64Array(c);let E=0;for(let I=0;I<o;I++){const N=Number(d[I]);y.fill(d[I+o],E,E+N),E+=N}return y}function P_(d,o,c){const y=new Float64Array(c);let E=0;for(let I=0;I<o;I++){const N=d[I];y.fill(d[I+o],E,E+N),E+=N}return y}function Qg(d){const o=d.length/4*4;let c=1;if(o>=4)for(let y=d[0];c<o-4;c+=4)y=d[c]+=y,y=d[c+1]+=y,y=d[c+2]+=y,y=d[c+3]+=y;for(;c!=d.length;)d[c]+=d[c-1],++c}function Ff(d){d[0]=d[0]>>>1^-(1&d[0]),d[1]=d[1]>>>1^-(1&d[1]);const o=d.length/4*4;let c=2;if(o>=4)for(;c<o-4;c+=4){const y=d[c],E=d[c+1],I=d[c+2],N=d[c+3];d[c]=(y>>>1^-(1&y))+d[c-2],d[c+1]=(E>>>1^-(1&E))+d[c-1],d[c+2]=(I>>>1^-(1&I))+d[c],d[c+3]=(N>>>1^-(1&N))+d[c+1]}for(;c!=d.length;c+=2)d[c]=(d[c]>>>1^-(1&d[c]))+d[c-2],d[c+1]=(d[c+1]>>>1^-(1&d[c+1]))+d[c-1]}(function(d){d.NONE="NONE",d.DELTA="DELTA",d.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",d.RLE="RLE",d.MORTON="MORTON",d.PDE="PDE"})(ba||(ba={})),(function(d){d.NONE="NONE",d.FAST_PFOR="FAST_PFOR",d.VARINT="VARINT",d.ALP="ALP"})(kl||(kl={})),(function(d){d.PRESENT="PRESENT",d.DATA="DATA",d.OFFSET="OFFSET",d.LENGTH="LENGTH"})(Pr||(Pr={}));class F_{_dictionaryType;_offsetType;_lengthType;constructor(o,c,y){this._dictionaryType=o,this._offsetType=c,this._lengthType=y}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function jl(d,o){const c=(function(y,E){const I=y[E.get()],N=Object.values(Pr)[I>>4];let F=null;switch(N){case Pr.DATA:F=new F_(Object.values(Tc)[15&I]);break;case Pr.OFFSET:F=new F_(null,Object.values(zs)[15&I]);break;case Pr.LENGTH:F=new F_(null,null,Object.values(Il)[15&I])}E.increment();const V=y[E.get()],X=Object.values(ba)[V>>5],ae=Object.values(ba)[V>>2&7],de=Object.values(kl)[3&V];E.increment();const ge=mo(y,E,2),be=ge[0];return{physicalStreamType:N,logicalStreamType:F,logicalLevelTechnique1:X,logicalLevelTechnique2:ae,physicalLevelTechnique:de,numValues:be,byteLength:ge[1],decompressedCount:be}})(d,o);return c.logicalLevelTechnique1===ba.MORTON?(function(y,E,I){const N=mo(E,I,2);return{physicalStreamType:y.physicalStreamType,logicalStreamType:y.logicalStreamType,logicalLevelTechnique1:y.logicalLevelTechnique1,logicalLevelTechnique2:y.logicalLevelTechnique2,physicalLevelTechnique:y.physicalLevelTechnique,numValues:y.numValues,byteLength:y.byteLength,decompressedCount:y.decompressedCount,numBits:N[0],coordinateShift:N[1]}})(c,d,o):ba.RLE!==c.logicalLevelTechnique1&&ba.RLE!==c.logicalLevelTechnique2||kl.NONE===c.physicalLevelTechnique?c:(function(y,E,I){const N=mo(E,I,2);return{physicalStreamType:y.physicalStreamType,logicalStreamType:y.logicalStreamType,logicalLevelTechnique1:y.logicalLevelTechnique1,logicalLevelTechnique2:y.logicalLevelTechnique2,physicalLevelTechnique:y.physicalLevelTechnique,numValues:y.numValues,byteLength:y.byteLength,decompressedCount:N[1],runs:N[0],numRleValues:N[1]}})(c,d,o)}(function(d){d.NONE="NONE",d.SINGLE="SINGLE",d.SHARED="SHARED",d.VERTEX="VERTEX",d.MORTON="MORTON",d.FSST="FSST"})(Tc||(Tc={})),(function(d){d.VERTEX="VERTEX",d.INDEX="INDEX",d.STRING="STRING",d.KEY="KEY"})(zs||(zs={})),(function(d){d.VAR_BINARY="VAR_BINARY",d.GEOMETRIES="GEOMETRIES",d.PARTS="PARTS",d.RINGS="RINGS",d.TRIANGLES="TRIANGLES",d.SYMBOL="SYMBOL",d.DICTIONARY="DICTIONARY"})(Il||(Il={})),(function(d){d[d.FLAT=0]="FLAT",d[d.CONST=1]="CONST",d[d.SEQUENCE=2]="SEQUENCE",d[d.DICTIONARY=3]="DICTIONARY",d[d.FSST_DICTIONARY=4]="FSST_DICTIONARY"})(Ts||(Ts={}));class dl{values;_size;constructor(o,c){this.values=o,this._size=c}get(o){const c=Math.floor(o/8);return(this.values[c]>>o%8&1)==1}set(o,c){const y=Math.floor(o/8);this.values[y]=this.values[y]|(c?1:0)<<o%8}getInt(o){const c=Math.floor(o/8);return this.values[c]>>o%8&1}size(){return this._size}getBuffer(){return this.values}}function Nl(d,o,c,y,E){return(function(I,N,F){switch(N.logicalLevelTechnique1){case ba.DELTA:return N.logicalLevelTechnique2===ba.RLE?(function(V,X,ae){const de=new Int32Array(ae);let ge=0,be=0;for(let Ae=0;Ae<X;Ae++){const De=V[Ae],Fe=_p(V[Ae+X]);for(let Ye=0;Ye<De;Ye++)be+=Fe,de[ge++]=be}return de})(I,N.runs,N.numRleValues):((function(V){V[0]=V[0]>>>1^-(1&V[0]);const X=V.length/4*4;let ae=1;if(X>=4)for(;ae<X-4;ae+=4){const de=V[ae],ge=V[ae+1],be=V[ae+2],Ae=V[ae+3];V[ae]=(de>>>1^-(1&de))+V[ae-1],V[ae+1]=(ge>>>1^-(1&ge))+V[ae],V[ae+2]=(be>>>1^-(1&be))+V[ae+1],V[ae+3]=(Ae>>>1^-(1&Ae))+V[ae+2]}for(;ae!=V.length;++ae)V[ae]=(V[ae]>>>1^-(1&V[ae]))+V[ae-1]})(I),I);case ba.RLE:return(function(V,X,ae){return ae?(function(de,ge,be){const Ae=new Int32Array(be);let De=0;for(let Fe=0;Fe<ge;Fe++){const Ye=de[Fe];let vt=de[Fe+ge];vt=vt>>>1^-(1&vt),Ae.fill(vt,De,De+Ye),De+=Ye}return Ae})(V,X.runs,X.numRleValues):Kg(V,X.runs,X.numRleValues)})(I,N,F);case ba.MORTON:return Qg(I),I;case ba.COMPONENTWISE_DELTA:return Ff(I),I;case ba.NONE:return F&&(function(V){for(let X=0;X<V.length;X++){const ae=V[X];V[X]=ae>>>1^-(1&ae)}})(I),I;default:throw new Error(`The specified Logical level technique is not supported: ${N.logicalLevelTechnique1}`)}})(Xv(d,o,c),c,y)}function Bf(d,o,c){return(function(y,E){if(E.logicalLevelTechnique1===ba.DELTA&&E.logicalLevelTechnique2===ba.NONE)return(function(N){const F=new Int32Array(N.length+1);F[0]=0,F[1]=_p(N[0]);let V=F[1],X=2;for(;X!=F.length;++X){const ae=N[X-1];V+=ae>>>1^-(1&ae),F[X]=F[X-1]+V}return F})(y);if(E.logicalLevelTechnique1===ba.RLE&&E.logicalLevelTechnique2===ba.NONE)return(function(N,F,V){const X=new Int32Array(V+1);X[0]=0;let ae=1,de=X[0];for(let ge=0;ge<F;ge++){const be=N[ge],Ae=N[ge+F];for(let De=ae;De<ae+be;De++)X[De]=Ae+de,de=X[De];ae+=be}return X})(y,E.runs,E.numRleValues);if(E.logicalLevelTechnique1===ba.NONE&&E.logicalLevelTechnique2===ba.NONE){(function(N){let F=0;for(let V=0;V<N.length;V++)N[V]+=F,F=N[V]})(y);const I=new Int32Array(E.numValues+1);return I[0]=0,I.set(y,1),I}if(E.logicalLevelTechnique1===ba.DELTA&&E.logicalLevelTechnique2===ba.RLE){const I=(function(N,F,V){const X=new Int32Array(V+1);X[0]=0;let ae=1,de=X[0];for(let ge=0;ge<F;ge++){const be=N[ge];let Ae=N[ge+F];Ae=Ae>>>1^-(1&Ae);for(let De=ae;De<ae+be;De++)X[De]=Ae+de,de=X[De];ae+=be}return X})(y,E.runs,E.numRleValues);return Qg(I),I}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")})(Xv(d,o,c),c)}function Xv(d,o,c){const y=c.physicalLevelTechnique;if(y===kl.FAST_PFOR)return Zv();if(y===kl.VARINT)return mo(d,o,c.numValues);if(y===kl.NONE){const E=o.get();o.add(c.byteLength);const I=d.subarray(E,o.get());return new Int32Array(I)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function B_(d,o,c,y){const E=Xv(d,o,c);if(E.length===1){const I=E[0];return y?_p(I):I}return y?(function(I){return _p(I[1])})(E):(function(I){return I[1]})(E)}function Ex(d,o,c){return(function(y){if(y.length==2){const E=_p(y[1]);return[E,E]}return[_p(y[2]),_p(y[3])]})(Xv(d,o,c))}function Us(d,o,c){return(function(y){if(y.length==2){const E=wm(y[1]);return[E,E]}return[wm(y[2]),wm(y[3])]})(Wv(d,o,c.numValues))}function pu(d,o,c,y){return(function(E,I,N){switch(I.logicalLevelTechnique1){case ba.DELTA:return I.logicalLevelTechnique2===ba.RLE?(function(F,V,X){const ae=new BigInt64Array(X);let de=0,ge=0n;for(let be=0;be<V;be++){const Ae=Number(F[be]),De=wm(F[be+V]);for(let Fe=0;Fe<Ae;Fe++)ge+=De,ae[de++]=ge}return ae})(E,I.runs,I.numRleValues):((function(F){F[0]=F[0]>>1n^-(1n&F[0]);const V=F.length/4*4;let X=1;if(V>=4)for(;X<V-4;X+=4){const ae=F[X],de=F[X+1],ge=F[X+2],be=F[X+3];F[X]=(ae>>1n^-(1n&ae))+F[X-1],F[X+1]=(de>>1n^-(1n&de))+F[X],F[X+2]=(ge>>1n^-(1n&ge))+F[X+1],F[X+3]=(be>>1n^-(1n&be))+F[X+2]}for(;X!=F.length;++X)F[X]=(F[X]>>1n^-(1n&F[X]))+F[X-1]})(E),E);case ba.RLE:return(function(F,V,X){return X?(function(ae,de,ge){const be=new BigInt64Array(ge);let Ae=0;for(let De=0;De<de;De++){const Fe=Number(ae[De]);let Ye=ae[De+de];Ye=Ye>>1n^-(1n&Ye),be.fill(Ye,Ae,Ae+Fe),Ae+=Fe}return be})(F,V.runs,V.numRleValues):Cc(F,V.runs,V.numRleValues)})(E,I,N);case ba.NONE:return N&&(function(F){for(let V=0;V<F.length;V++){const X=F[V];F[V]=X>>1n^-(1n&X)}})(E),E;default:throw new Error(`The specified Logical level technique is not supported: ${I.logicalLevelTechnique1}`)}})(Wv(d,o,c.numValues),c,y)}function wx(d,o,c,y){const E=Wv(d,o,c.numValues);if(E.length===1){const I=E[0];return y?wm(I):I}return y?(function(I){return wm(I[1])})(E):(function(I){return I[1]})(E)}function Kv(d,o,c,y,E){return(function(I,N,F,V){switch(N.logicalLevelTechnique1){case ba.DELTA:return N.logicalLevelTechnique2===ba.RLE&&(I=Kg(I,N.runs,N.numRleValues)),(function(X,ae){const de=new Int32Array(X.size());let ge=0;X.get(0)?(de[0]=X.get(0)?ae[0]>>>1^-(1&ae[0]):0,ge=1):de[0]=0;let be=1;for(;be!=de.length;++be)de[be]=X.get(be)?de[be-1]+(ae[ge]>>>1^-(1&ae[ge++])):de[be-1];return de})(V,I);case ba.RLE:return(function(X,ae,de,ge){const be=ae;return de?(function(Ae,De,Fe){const Ye=new Int32Array(Ae.size());let vt=0;for(let Xe=0;Xe<Fe;Xe++){const at=De[Xe];let Et=De[Xe+Fe];Et=Et>>>1^-(1&Et);for(let kt=vt;kt<vt+at;kt++)Ae.get(kt)?Ye[kt]=Et:(Ye[kt]=0,vt++);vt+=at}return Ye})(ge,X,be.runs):(function(Ae,De,Fe){const Ye=new Int32Array(Ae.size());let vt=0;for(let Xe=0;Xe<Fe;Xe++){const at=De[Xe],Et=De[Xe+Fe];for(let kt=vt;kt<vt+at;kt++)Ae.get(kt)?Ye[kt]=Et:(Ye[kt]=0,vt++);vt+=at}return Ye})(ge,X,be.runs)})(I,N,F,V);case ba.MORTON:return Qg(I),I;case ba.COMPONENTWISE_DELTA:return Ff(I),I;case ba.NONE:return I=F?(function(X,ae){const de=new Int32Array(X.size());let ge=0,be=0;for(;be!=de.length;++be)if(X.get(be)){const Ae=ae[ge++];de[be]=Ae>>>1^-(1&Ae)}else de[be]=0;return de})(V,I):(function(X,ae){const de=new Int32Array(X.size());let ge=0,be=0;for(;be!=de.length;++be)de[be]=X.get(be)?ae[ge++]:0;return de})(V,I),I;default:throw new Error("The specified Logical level technique is not supported")}})(c.physicalLevelTechnique===kl.FAST_PFOR?Zv():mo(d,o,c.numValues),c,y,E)}function xh(d,o,c,y){const E=d.logicalLevelTechnique1;if(E===ba.RLE)return d.runs===1?Ts.CONST:Ts.FLAT;const I=o instanceof dl?o.size():o;if(E===ba.DELTA&&d.logicalLevelTechnique2===ba.RLE){const N=d.runs,F=2;if(d.numRleValues!==I)return Ts.FLAT;if(N===1)return Ts.SEQUENCE;if(N===2){const V=y.get();let X;if(d.physicalLevelTechnique===kl.VARINT)X=mo(c,y,4);else{const ae=y.get();X=new Int32Array(c.buffer,c.byteOffset+ae,4)}if(y.set(V),X[2]===F&&X[3]===F)return Ts.SEQUENCE}}return d.numValues===1?Ts.CONST:Ts.FLAT}class Sm extends bp{getValueFromBuffer(o){return this.dataBuffer[o]}}class $_ extends qv{constructor(o,c,y,E){super(o,BigInt64Array.of(c),y,E)}getValueFromBuffer(o){return this.dataBuffer[0]+BigInt(o)*this.delta}}class Jg{_geometryOffsets;_partOffsets;_ringOffsets;constructor(o,c,y){this._geometryOffsets=o,this._partOffsets=c,this._ringOffsets=y}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function xp(d,o,c){return{x:Tm(d,o)-c,y:Tm(d>>1,o)-c}}function Tm(d,o){let c=0;for(let y=0;y<o;y++)c|=(d&1<<2*y)>>y;return c}(function(d){d[d.POINT=0]="POINT",d[d.LINESTRING=1]="LINESTRING",d[d.POLYGON=2]="POLYGON",d[d.MULTIPOINT=3]="MULTIPOINT",d[d.MULTILINESTRING=4]="MULTILINESTRING",d[d.MULTIPOLYGON=5]="MULTIPOLYGON"})(ha||(ha={})),(function(d){d[d.POINT=0]="POINT",d[d.LINESTRING=1]="LINESTRING",d[d.POLYGON=2]="POLYGON"})(L_||(L_={})),(function(d){d[d.MORTON=0]="MORTON",d[d.VEC_2=1]="VEC_2",d[d.VEC_3=2]="VEC_3"})($l||($l={}));class Sx{createPoint(o){return[[o]]}createMultiPoint(o){return o.map((c=>[c]))}createLineString(o){return[o]}createMultiLineString(o){return o}createPolygon(o,c){return[o].concat(c)}createMultiPolygon(o){return o.flat()}}function E0(d){const o=new Array(d.numGeometries);let c=1,y=1,E=1,I=0;const N=new Sx;let F=0,V=0;const X=d.mortonSettings,ae=d.topologyVector,de=ae.geometryOffsets,ge=ae.partOffsets,be=ae.ringOffsets,Ae=d.vertexOffsets,De=d.containsPolygonGeometry(),Fe=d.vertexBuffer;for(let Ye=0;Ye<d.numGeometries;Ye++){const vt=d.geometryType(Ye);if(vt===ha.POINT){if(Ae&&Ae.length!==0)if(d.vertexBufferType===$l.VEC_2){const Xe=2*Ae[V++],at=new m(Fe[Xe],Fe[Xe+1]);o[I++]=N.createPoint(at)}else{const Xe=xp(Fe[Ae[V++]],X.numBits,X.coordinateShift),at=new m(Xe.x,Xe.y);o[I++]=N.createPoint(at)}else{const Xe=new m(Fe[F++],Fe[F++]);o[I++]=N.createPoint(Xe)}de&&E++,ge&&c++,be&&y++}else if(vt===ha.MULTIPOINT){const Xe=de[E]-de[E-1];E++;const at=new Array(Xe);if(Ae&&Ae.length!==0){for(let Et=0;Et<Xe;Et++){const kt=2*Ae[V++];at[Et]=new m(Fe[kt],Fe[kt+1])}o[I++]=N.createMultiPoint(at)}else{for(let Et=0;Et<Xe;Et++){const kt=Fe[F++],tn=Fe[F++];at[Et]=new m(kt,tn)}o[I++]=N.createMultiPoint(at)}}else if(vt===ha.LINESTRING){let Xe,at=0;De?(at=be[y]-be[y-1],y++):at=ge[c]-ge[c-1],c++,Ae&&Ae.length!==0?(Xe=d.vertexBufferType===$l.VEC_2?Jv(Fe,Ae,V,at,!1):j_(Fe,Ae,V,at,!1,X),V+=at):(Xe=Qv(Fe,F,at,!1),F+=2*at),o[I++]=N.createLineString(Xe),de&&E++}else if(vt===ha.POLYGON){const Xe=ge[c]-ge[c-1];c++;const at=new Array(Xe-1);let Et=be[y]-be[y-1];if(y++,Ae&&Ae.length!==0){const kt=d.vertexBufferType===$l.VEC_2?Cm(Fe,Ae,V,Et):Ep(Fe,Ae,V,Et,0,X);V+=Et;for(let tn=0;tn<at.length;tn++)Et=be[y]-be[y-1],y++,at[tn]=d.vertexBufferType===$l.VEC_2?Cm(Fe,Ae,V,Et):Ep(Fe,Ae,V,Et,0,X),V+=Et;o[I++]=N.createPolygon(kt,at)}else{const kt=ey(Fe,F,Et);F+=2*Et;for(let tn=0;tn<at.length;tn++)Et=be[y]-be[y-1],y++,at[tn]=ey(Fe,F,Et),F+=2*Et;o[I++]=N.createPolygon(kt,at)}de&&E++}else if(vt===ha.MULTILINESTRING){const Xe=de[E]-de[E-1];E++;const at=new Array(Xe);if(Ae&&Ae.length!==0){for(let Et=0;Et<Xe;Et++){let kt=0;De?(kt=be[y]-be[y-1],y++):kt=ge[c]-ge[c-1],c++;const tn=d.vertexBufferType===$l.VEC_2?Jv(Fe,Ae,V,kt,!1):j_(Fe,Ae,V,kt,!1,X);at[Et]=tn,V+=kt}o[I++]=N.createMultiLineString(at)}else{for(let Et=0;Et<Xe;Et++){let kt=0;De?(kt=be[y]-be[y-1],y++):kt=ge[c]-ge[c-1],c++,at[Et]=Qv(Fe,F,kt,!1),F+=2*kt}o[I++]=N.createMultiLineString(at)}}else{if(vt!==ha.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const Xe=de[E]-de[E-1];E++;const at=new Array(Xe);let Et=0;if(Ae&&Ae.length!==0){for(let kt=0;kt<Xe;kt++){const tn=ge[c]-ge[c-1];c++;const Sn=new Array(tn-1);Et=be[y]-be[y-1],y++;const yn=d.vertexBufferType===$l.VEC_2?Cm(Fe,Ae,V,Et):Ep(Fe,Ae,V,Et,0,X);V+=Et;for(let Ln=0;Ln<Sn.length;Ln++)Et=be[y]-be[y-1],y++,Sn[Ln]=d.vertexBufferType===$l.VEC_2?Cm(Fe,Ae,V,Et):Ep(Fe,Ae,V,Et,0,X),V+=Et;at[kt]=N.createPolygon(yn,Sn)}o[I++]=N.createMultiPolygon(at)}else{for(let kt=0;kt<Xe;kt++){const tn=ge[c]-ge[c-1];c++;const Sn=new Array(tn-1);Et=be[y]-be[y-1],y++;const yn=ey(Fe,F,Et);F+=2*Et;for(let Ln=0;Ln<Sn.length;Ln++){const ar=be[y]-be[y-1];y++,Sn[Ln]=ey(Fe,F,ar),F+=2*ar}at[kt]=N.createPolygon(yn,Sn)}o[I++]=N.createMultiPolygon(at)}}}}return o}function ey(d,o,c){return Qv(d,o,c,!0)}function Cm(d,o,c,y){return Jv(d,o,c,y,!0)}function Ep(d,o,c,y,E,I){return j_(d,o,c,y,!0,I)}function Qv(d,o,c,y){const E=new Array(y?c+1:c);for(let I=0;I<2*c;I+=2)E[I/2]=new m(d[o+I],d[o+I+1]);return y&&(E[E.length-1]=E[0]),E}function Jv(d,o,c,y,E){const I=new Array(E?y+1:y);for(let N=0;N<2*y;N+=2){const F=2*o[c+N/2];I[N/2]=new m(d[F],d[F+1])}return E&&(I[I.length-1]=I[0]),I}function j_(d,o,c,y,E,I){const N=new Array(E?y+1:y);for(let F=0;F<y;F++){const V=xp(d[o[c+F]],I.numBits,I.coordinateShift);N[F]=new m(V.x,V.y)}return E&&(N[N.length-1]=N[0]),N}class z_{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(o,c,y,E,I){this._vertexBufferType=o,this._topologyVector=c,this._vertexOffsets=y,this._vertexBuffer=E,this._mortonSettings=I}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const o=E0(this);let c=0;for(;c<this.numGeometries;)yield{coordinates:o[c],type:this.geometryType(c)},c++}getSimpleEncodedVertex(o){const c=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[c],this.vertexBuffer[c+1]]}getVertex(o){if(this.vertexOffsets&&this.mortonSettings){const y=xp(this.vertexBuffer[this.vertexOffsets[o]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[y.x,y.y]}const c=this.vertexOffsets?2*this.vertexOffsets[o]:2*o;return[this.vertexBuffer[c],this.vertexBuffer[c+1]]}getGeometries(){return E0(this)}get mortonSettings(){return this._mortonSettings}}class Am extends z_{_numGeometries;_geometryType;constructor(o,c,y,E,I,N,F){super(y,E,I,N,F),this._numGeometries=o,this._geometryType=c}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===ha.POLYGON||this._geometryType===ha.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class eb extends z_{_geometryTypes;constructor(o,c,y,E,I,N){super(o,y,E,I,N),this._geometryTypes=c}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let o=0;o<this.numGeometries;o++)if(this.geometryType(o)===ha.POLYGON||this.geometryType(o)===ha.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class Tx{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(o,c,y,E){this._triangleOffsets=o,this._indexBuffer=c,this._vertexBuffer=y,this._topologyVector=E}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const o=new Array(this.numGeometries),c=this._topologyVector,y=c.partOffsets,E=c.ringOffsets,I=c.geometryOffsets;let N=0,F=1,V=1,X=1;for(let ae=0;ae<this.numGeometries;ae++)switch(this.geometryType(ae)){case ha.POLYGON:{const de=y[F]-y[F-1];F++;const ge=[];for(let be=0;be<de;be++){const Ae=E[V]-E[V-1];V++;const De=[];for(let Fe=0;Fe<Ae;Fe++){const Ye=this._vertexBuffer[N++],vt=this._vertexBuffer[N++];De.push(new m(Ye,vt))}De.length>0&&De.push(De[0]),ge.push(De)}o[ae]=ge,I&&X++}break;case ha.MULTIPOLYGON:{const de=I[X]-I[X-1];X++;const ge=[];for(let be=0;be<de;be++){const Ae=y[F]-y[F-1];F++;for(let De=0;De<Ae;De++){const Fe=E[V]-E[V-1];V++;const Ye=[];for(let vt=0;vt<Fe;vt++){const Xe=this._vertexBuffer[N++],at=this._vertexBuffer[N++];Ye.push(new m(Xe,at))}Ye.length>0&&Ye.push(Ye[0]),ge.push(Ye)}}o[ae]=ge}}return o}[Symbol.iterator](){return null}}function w0(d,o,c,y,E,I){return new tb(d,o,c,y,E,I)}class tb extends Tx{_numGeometries;_geometryType;constructor(o,c,y,E,I,N){super(y,E,I,N),this._numGeometries=o,this._geometryType=c}geometryType(o){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function S0(d,o,c,y,E){return new Cx(d,o,c,y,E)}class Cx extends Tx{_geometryTypes;constructor(o,c,y,E,I){super(c,y,E,I),this._geometryTypes=o}geometryType(o){return this._geometryTypes[o]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function ty(d,o,c,y,E){const I=jl(d,c);let N=null,F=null,V=null,X=null,ae=null,de=null,ge=null,be=null;if(xh(I,y,d,c)===Ts.CONST){const De=B_(d,c,I,!1);for(let Fe=0;Fe<o-1;Fe++){const Ye=jl(d,c);switch(Ye.physicalStreamType){case Pr.LENGTH:switch(Ye.logicalStreamType.lengthType){case Il.GEOMETRIES:N=Bf(d,c,Ye);break;case Il.PARTS:F=Bf(d,c,Ye);break;case Il.RINGS:V=Bf(d,c,Ye);break;case Il.TRIANGLES:ge=Bf(d,c,Ye)}break;case Pr.OFFSET:switch(Ye.logicalStreamType.offsetType){case zs.VERTEX:X=Nl(d,c,Ye,!1);break;case zs.INDEX:be=Nl(d,c,Ye,!1)}break;case Pr.DATA:Tc.VERTEX===Ye.logicalStreamType.dictionaryType?ae=Nl(d,c,Ye,!0):(de={numBits:Ye.numBits,coordinateShift:Ye.coordinateShift},ae=Nl(d,c,Ye,!1))}}return be!==null?N!=null||F!=null?w0(y,De,ge,be,ae,new Jg(N,F,V)):w0(y,De,ge,be,ae):de===null?(function(Fe,Ye,vt,Xe,at){return new Am(Fe,Ye,$l.VEC_2,vt,Xe,at)})(y,De,new Jg(N,F,V),X,ae):(function(Fe,Ye,vt,Xe,at,Et){return new Am(Fe,Ye,$l.MORTON,vt,Xe,at,Et)})(y,De,new Jg(N,F,V),X,ae,de)}const Ae=Nl(d,c,I,!1);for(let De=0;De<o-1;De++){const Fe=jl(d,c);switch(Fe.physicalStreamType){case Pr.LENGTH:switch(Fe.logicalStreamType.lengthType){case Il.GEOMETRIES:N=Nl(d,c,Fe,!1);break;case Il.PARTS:F=Nl(d,c,Fe,!1);break;case Il.RINGS:V=Nl(d,c,Fe,!1);break;case Il.TRIANGLES:ge=Bf(d,c,Fe)}break;case Pr.OFFSET:switch(Fe.logicalStreamType.offsetType){case zs.VERTEX:X=Nl(d,c,Fe,!1);break;case zs.INDEX:be=Nl(d,c,Fe,!1)}break;case Pr.DATA:Tc.VERTEX===Fe.logicalStreamType.dictionaryType?ae=Nl(d,c,Fe,!0):(de={numBits:Fe.numBits,coordinateShift:Fe.coordinateShift},ae=Nl(d,c,Fe,!1))}}return be!==null&&F===null?S0(Ae,ge,be,ae):(N!==null?(N=U_(Ae,N,2),F!==null&&V!==null?(F=G_(Ae,N,F,!1),V=(function(De,Fe,Ye,vt){const Xe=new Int32Array(Ye[Ye.length-1]+1);let at=0;Xe[0]=at;let Et=1,kt=1,tn=0;for(let Sn=0;Sn<De.length;Sn++){const yn=De[Sn],Ln=Fe[Sn+1]-Fe[Sn];if(yn!==0&&yn!==3)for(let ar=0;ar<Ln;ar++){const Un=Ye[Et]-Ye[Et-1];Et++;for(let bn=0;bn<Un;bn++)at=Xe[kt++]=at+vt[tn++]}else for(let ar=0;ar<Ln;ar++)Xe[kt++]=++at,Et++}return Xe})(Ae,N,F,V)):F!==null&&(F=(function(De,Fe,Ye){const vt=new Int32Array(Fe[Fe.length-1]+1);let Xe=0;vt[0]=Xe;let at=1,Et=0;for(let kt=0;kt<De.length;kt++){const tn=De[kt],Sn=Fe[kt+1]-Fe[kt];if(tn===4||tn===1)for(let yn=0;yn<Sn;yn++)Xe=vt[at++]=Xe+Ye[Et++];else for(let yn=0;yn<Sn;yn++)vt[at++]=++Xe}return vt})(Ae,N,F))):F!==null&&V!==null?(F=U_(Ae,F,1),V=G_(Ae,F,V,!0)):F!==null&&(F=U_(Ae,F,0)),be!==null?S0(Ae,ge,be,ae,new Jg(N,F,V)):de===null?(function(De,Fe,Ye,vt){return new eb($l.VEC_2,De,Fe,Ye,vt)})(Ae,new Jg(N,F,V),X,ae):(function(De,Fe,Ye,vt,Xe){return new eb($l.MORTON,De,Fe,Ye,vt,Xe)})(Ae,new Jg(N,F,V),X,ae,de))}function U_(d,o,c){const y=new Int32Array(d.length+1);let E=0;y[0]=E;let I=0;for(let N=0;N<d.length;N++)E=y[N+1]=E+(d[N]>c?o[I++]:1);return y}function G_(d,o,c,y){const E=new Int32Array(o[o.length-1]+1);let I=0;E[0]=I;let N=1,F=0;for(let V=0;V<d.length;V++){const X=d[V],ae=o[V+1]-o[V];if(X===5||X===2||y&&(X===4||X===1))for(let de=0;de<ae;de++)I=E[N++]=I+c[F++];else for(let de=0;de<ae;de++)E[N++]=++I}return E}class Ax extends Lf{dataVector;constructor(o,c,y){super(o,c.getBuffer(),y),this.dataVector=c}getValueFromBuffer(o){return this.dataVector.get(o)}}class kx extends bp{getValueFromBuffer(o){return this.dataBuffer[o]}}class H_ extends Lf{constructor(o,c,y){super(o,BigInt64Array.of(c),y)}getValueFromBuffer(o){return this.dataBuffer[0]}}function km(d,o,c){return V_(d,Math.ceil(o/8),c)}function V_(d,o,c){const y=new Uint8Array(o);let E=0;for(;E<o;){const I=d[c.increment()];if(I<=127){const N=I+3,F=d[c.increment()],V=E+N;y.fill(F,E,V),E=V}else{const N=256-I;for(let F=0;F<N;F++)y[E++]=d[c.increment()]}}return y}const Ix=new TextDecoder;function ny(d,o,c){return c-o>=12?Ix.decode(d.subarray(o,c)):(function(y,E,I){let N="",F=E;for(;F<I;){const V=y[F];let X,ae,de,ge=null,be=V>239?4:V>223?3:V>191?2:1;if(F+be>I)break;be===1?V<128&&(ge=V):be===2?(X=y[F+1],(192&X)==128&&(ge=(31&V)<<6|63&X,ge<=127&&(ge=null))):be===3?(X=y[F+1],ae=y[F+2],(192&X)==128&&(192&ae)==128&&(ge=(15&V)<<12|(63&X)<<6|63&ae,(ge<=2047||ge>=55296&&ge<=57343)&&(ge=null))):be===4&&(X=y[F+1],ae=y[F+2],de=y[F+3],(192&X)==128&&(192&ae)==128&&(192&de)==128&&(ge=(15&V)<<18|(63&X)<<12|(63&ae)<<6|63&de,(ge<=65535||ge>=1114112)&&(ge=null))),ge===null?(ge=65533,be=1):ge>65535&&(ge-=65536,N+=String.fromCharCode(ge>>>10&1023|55296),ge=56320|1023&ge),N+=String.fromCharCode(ge),F+=be}return N})(d,o,c)}class q_ extends Lf{offsetBuffer;constructor(o,c,y,E){super(o,y,E),this.offsetBuffer=c}}class Nx extends q_{textEncoder;constructor(o,c,y,E){super(o,c,y,E??c.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(o){return ny(this.dataBuffer,this.offsetBuffer[o],this.offsetBuffer[o+1])}}class wp extends q_{indexBuffer;textEncoder;constructor(o,c,y,E,I){super(o,y,E,I??c.length),this.indexBuffer=c,this.indexBuffer=c,this.textEncoder=new TextEncoder}getValueFromBuffer(o){const c=this.indexBuffer[o];return ny(this.dataBuffer,this.offsetBuffer[c],this.offsetBuffer[c+1])}}class nb extends q_{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(o,c,y,E,I,N,F){super(o,y,E,F),this.indexBuffer=c,this.symbolOffsetBuffer=I,this.symbolTableBuffer=N,this.textEncoder=new TextEncoder}getValueFromBuffer(o){this.decodedDictionary==null&&(this.symbolLengthBuffer==null&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=(function(y,E,I){const N=[],F=new Array(E.length).fill(0);for(let V=1;V<E.length;V++)F[V]=F[V-1]+E[V-1];for(let V=0;V<I.length;V++)if(I[V]===255)N.push(I[++V]);else{const X=E[I[V]],ae=F[I[V]];for(let de=0;de<X;de++)N.push(y[ae+de])}return new Uint8Array(N)})(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const c=this.indexBuffer[o];return ny(this.decodedDictionary,this.offsetBuffer[c],this.offsetBuffer[c+1])}offsetToLengthBuffer(o){const c=new Uint32Array(o.length-1);let y=o[0];for(let E=1;E<o.length;E++){const I=o[E];c[E-1]=I-y,y=I}return c}}function rb(d,o,c,y,E,I){return c.type==="scalarType"?(function(N,F,V,X,ae,de){let ge=null,be=0;if(N===0)return null;if(de.nullable){const De=jl(F,V);be=De.numValues;const Fe=V.get(),Ye=km(F,be,V);V.set(Fe+De.byteLength),ge=new dl(Ye,De.numValues)}const Ae=ge??X;switch(ae.physicalType){case 4:case 3:return(function(De,Fe,Ye,vt,Xe){const at=jl(De,Fe),Et=xh(at,Xe,De,Fe),kt=vt.physicalType===3;if(Et===Ts.FLAT){const tn=Im(Xe)?Kv(De,Fe,at,kt,Xe):Nl(De,Fe,at,kt);return new Bl(Ye.name,tn,Xe)}if(Et===Ts.SEQUENCE){const tn=Ex(De,Fe,at);return new D_(Ye.name,tn[0],tn[1],at.numRleValues)}{const tn=B_(De,Fe,at,kt);return new Yv(Ye.name,tn,Xe)}})(F,V,de,ae,Ae);case 9:return(function(De,Fe,Ye,vt,Xe){let at=null,Et=null,kt=null,tn=null,Sn=null,yn=null,Ln=null,ar=null;for(let Un=0;Un<vt;Un++){const bn=jl(Fe,Ye);if(bn.byteLength!==0)switch(bn.physicalStreamType){case Pr.PRESENT:{const un=km(Fe,bn.numValues,Ye);yn=new dl(un,bn.numValues);break}case Pr.OFFSET:Et=Xe!=null||yn!=null?Kv(Fe,Ye,bn,!1,Xe??yn):Nl(Fe,Ye,bn,!1);break;case Pr.LENGTH:{const un=Bf(Fe,Ye,bn);Il.DICTIONARY===bn.logicalStreamType.lengthType?at=un:Il.SYMBOL===bn.logicalStreamType.lengthType?tn=un:Ln=un;break}case Pr.DATA:{const un=Fe.subarray(Ye.get(),Ye.get()+bn.byteLength);Ye.add(bn.byteLength);const vr=bn.logicalStreamType.dictionaryType;Tc.FSST===vr?Sn=un:Tc.SINGLE===vr||Tc.SHARED===vr?kt=un:Tc.NONE===vr&&(ar=un);break}}}return(function(Un,bn,un,vr,mr,Sr,dr){return bn?new nb(Un,un,vr,mr,Sr,bn,dr):null})(De,Sn,Et,at,kt,tn,Xe??yn)??(function(Un,bn,un,vr,mr){return bn?mr?new wp(Un,un,vr,bn,mr):new wp(Un,un,vr,bn):null})(De,kt,Et,at,Xe??yn)??(function(Un,bn,un,vr,mr){if(!bn||!un)return null;if(vr)return mr?new wp(Un,vr,bn,un,mr):new wp(Un,vr,bn,un);if(mr&&mr.size()!==bn.length-1){const Sr=new Int32Array(mr.size());let dr=0;for(let $r=0;$r<mr.size();$r++)Sr[$r]=mr.get($r)?dr++:0;return new wp(Un,Sr,bn,un,mr)}return mr?new Nx(Un,bn,un,mr):new Nx(Un,bn,un)})(De,Ln,ar,Et,Xe??yn)})(de.name,F,V,de.nullable?N-1:N,ge);case 0:return(function(De,Fe,Ye,vt,Xe){const at=jl(De,Fe),Et=at.numValues,kt=Fe.get(),tn=Im(Xe)?(function(yn,Ln,ar,Un){const bn=V_(yn,Math.ceil(Ln/8),ar),un=new dl(bn,Ln),vr=Un.size(),mr=new dl(new Uint8Array(vr),vr);let Sr=0;for(let dr=0;dr<Un.size();dr++){const $r=!!Un.get(dr)&&un.get(Sr++);mr.set(dr,$r)}return mr.getBuffer()})(De,Et,Fe,Xe):km(De,Et,Fe);Fe.set(kt+at.byteLength);const Sn=new dl(tn,Et);return new Ax(Ye.name,Sn,Xe)})(F,V,de,0,Ae);case 6:case 5:return(function(De,Fe,Ye,vt,Xe){const at=jl(De,Fe),Et=xh(at,vt,De,Fe),kt=Xe.physicalType===5;if(Et===Ts.FLAT){const tn=Im(vt)?(function(Sn,yn,Ln,ar,Un){return(function(bn,un,vr,mr){switch(un.logicalLevelTechnique1){case ba.DELTA:return un.logicalLevelTechnique2===ba.RLE&&(bn=Cc(bn,un.runs,un.numRleValues)),(function(Sr,dr){const $r=new BigInt64Array(Sr.size());let ai=0;Sr.get(0)?($r[0]=Sr.get(0)?dr[0]>>1n^-(1n&dr[0]):0n,ai=1):$r[0]=0n;let Oa=1;for(;Oa!=$r.length;++Oa)$r[Oa]=Sr.get(Oa)?$r[Oa-1]+(dr[ai]>>1n^-(1n&dr[ai++])):$r[Oa-1];return $r})(mr,bn);case ba.RLE:return(function(Sr,dr,$r,ai){const Oa=dr;return $r?(function(Mo,zu,fl){const Oo=new BigInt64Array(Mo.size());let go=0;for(let Ei=0;Ei<fl;Ei++){const ss=Number(zu[Ei]);let Cs=zu[Ei+fl];Cs=Cs>>1n^-(1n&Cs);for(let so=go;so<go+ss;so++)Mo.get(so)?Oo[so]=Cs:(Oo[so]=0n,go++);go+=ss}return Oo})(ai,Sr,Oa.runs):(function(Mo,zu,fl){const Oo=new BigInt64Array(Mo.size());let go=0;for(let Ei=0;Ei<fl;Ei++){const ss=Number(zu[Ei]),Cs=zu[Ei+fl];for(let so=go;so<go+ss;so++)Mo.get(so)?Oo[so]=Cs:(Oo[so]=0n,go++);go+=ss}return Oo})(ai,Sr,Oa.runs)})(bn,un,vr,mr);case ba.NONE:return bn=vr?(function(Sr,dr){const $r=new BigInt64Array(Sr.size());let ai=0,Oa=0;for(;Oa!=$r.length;++Oa)if(Sr.get(Oa)){const Mo=dr[ai++];$r[Oa]=Mo>>1n^-(1n&Mo)}else $r[Oa]=0n;return $r})(mr,bn):(function(Sr,dr){const $r=new BigInt64Array(Sr.size());let ai=0,Oa=0;for(;Oa!=$r.length;++Oa)$r[Oa]=Sr.get(Oa)?dr[ai++]:0n;return $r})(mr,bn),bn;default:throw new Error("The specified Logical level technique is not supported")}})(Wv(Sn,yn,Ln.numValues),Ln,ar,Un)})(De,Fe,at,kt,vt):pu(De,Fe,at,kt);return new Sm(Ye.name,tn,vt)}if(Et===Ts.SEQUENCE){const tn=Us(De,Fe,at);return new $_(Ye.name,tn[0],tn[1],at.numRleValues)}{const tn=wx(De,Fe,at,kt);return new H_(Ye.name,tn,vt)}})(F,V,de,Ae,ae);case 7:return(function(De,Fe,Ye,vt){const Xe=jl(De,Fe),at=Im(vt)?(function(Et,kt,tn,Sn){const yn=kt.get(),Ln=yn+Sn*Float32Array.BYTES_PER_ELEMENT,ar=new Uint8Array(Et.subarray(yn,Ln)).buffer,Un=new Float32Array(ar);kt.set(Ln);const bn=tn.size(),un=new Float32Array(bn);let vr=0;for(let mr=0;mr<bn;mr++)un[mr]=tn.get(mr)?Un[vr++]:0;return un})(De,Fe,vt,Xe.numValues):(function(Et,kt,tn){const Sn=kt.get(),yn=Sn+tn*Float32Array.BYTES_PER_ELEMENT,Ln=new Uint8Array(Et.subarray(Sn,yn)).buffer,ar=new Float32Array(Ln);return kt.set(yn),ar})(De,Fe,Xe.numValues);return new kx(Ye.name,at,vt)})(F,V,de,Ae);case 8:return(function(De,Fe,Ye,vt){const Xe=jl(De,Fe),at=Im(vt)?(function(Et,kt,tn,Sn){const yn=kt.get(),Ln=yn+Sn*Float64Array.BYTES_PER_ELEMENT,ar=new Uint8Array(Et.subarray(yn,Ln)).buffer,Un=new Float64Array(ar);kt.set(Ln);const bn=tn.size(),un=new Float64Array(bn);let vr=0;for(let mr=0;mr<bn;mr++)un[mr]=tn.get(mr)?Un[vr++]:0;return un})(De,Fe,vt,Xe.numValues):(function(Et,kt,tn){const Sn=kt.get(),yn=Sn+tn*Float64Array.BYTES_PER_ELEMENT,Ln=new Uint8Array(Et.subarray(Sn,yn)).buffer,ar=new Float64Array(Ln);return kt.set(yn),ar})(De,Fe,Xe.numValues);return new Pf(Ye.name,at,vt)})(F,V,de,Ae);default:throw new Error(`The specified data type for the field is currently not supported: ${ae}`)}})(y,d,o,E,c.scalarType,c):y!=1?null:(function(N,F,V,X){let ae=null,de=null,ge=null,be=null,Ae=!1;for(;!Ae;){const vt=jl(N,F);switch(vt.physicalStreamType){case Pr.LENGTH:Il.DICTIONARY===vt.logicalStreamType.lengthType?ae=Bf(N,F,vt):ge=Bf(N,F,vt);break;case Pr.DATA:Tc.SINGLE===vt.logicalStreamType.dictionaryType||Tc.SHARED===vt.logicalStreamType.dictionaryType?(de=N.subarray(F.get(),F.get()+vt.byteLength),Ae=!0):be=N.subarray(F.get(),F.get()+vt.byteLength),F.add(vt.byteLength)}}const De=V.complexType.children,Fe=[];let Ye=0;for(const vt of De){const Xe=mo(N,F,1)[0];if(Xe==0)continue;const at=`${V.name}${vt.name==="default"?"":":"+vt.name}`;if(Xe!==2||vt.type!=="scalarField"||vt.scalarField.physicalType!==9)throw new Error("Currently only optional string fields are implemented for a struct.");const Et=jl(N,F),kt=km(N,Et.numValues,F),tn=jl(N,F),Sn=tn.decompressedCount!==X?Kv(N,F,tn,!1,new dl(kt,Et.numValues)):Nl(N,F,tn,!1);Fe[Ye++]=be?new nb(at,Sn,ae,de,ge,be,new dl(kt,Et.numValues)):new wp(at,Sn,ae,de,new dl(kt,Et.numValues))}return Fe})(d,o,c,E)}function Im(d){return d instanceof dl}function Rx(d){if(d.name==="id")return!1;if(d.type==="scalarType"){const o=d.scalarType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if(o.type==="logicalType")return!1}else if(d.type==="complexType"){const o=d.complexType;if(o.type==="physicalType")switch(o.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",d),!1}const Y_=new TextDecoder;function Eh(d,o){const c=mo(d,o,1)[0];if(c===0)return"";const y=o.get(),E=d.subarray(y,y+c);return o.add(c),Y_.decode(E)}function wh(d,o){const c=mo(d,o,1)[0]>>>0,y=!!(4&c),E=!!(2&c),I=mo(d,o,1)[0]>>>0,N={};if(1&c&&(N.nullable=!0),E){const F={};if(y?(F.type="logicalType",F.logicalType=I):(F.type="physicalType",F.physicalType=I),8&c){const V=mo(d,o,1)[0]>>>0;F.children=new Array(V);for(let X=0;X<V;X++)F.children[X]=wh(d,o)}N.type="complexField",N.complexField=F}else{const F={};y?(F.type="logicalType",F.logicalType=I):(F.type="physicalType",F.physicalType=I),N.type="scalarField",N.scalarField=F}return N}function Sp(d,o){const c=mo(d,o,1)[0]>>>0,y=(function(E){switch(E){case 0:case 1:case 2:case 3:{const I={};I.nullable=!!(1&E),I.columnScope=0;const N={};return N.physicalType=E>1?6:4,N.type="physicalType",I.scalarType=N,I.type="scalarType",I}case 4:{const I={nullable:!1,columnScope:0},N={type:"physicalType",physicalType:0};return I.type="complexType",I.complexType=N,I}case 30:{const I={nullable:!1,columnScope:0},N={type:"physicalType",physicalType:1};return I.type="complexType",I.complexType=N,I}default:return(function(I){let N=null;switch(I){case 10:case 11:N=0;break;case 12:case 13:N=1;break;case 14:case 15:N=2;break;case 16:case 17:N=3;break;case 18:case 19:N=4;break;case 20:case 21:N=5;break;case 22:case 23:N=6;break;case 24:case 25:N=7;break;case 26:case 27:N=8;break;case 28:case 29:N=9;break;default:return null}const F={};F.nullable=!!(1&I),F.columnScope=0;const V={type:"physicalType"};return V.physicalType=N,F.type="scalarType",F.scalarType=V,F})(E)}})(c);if(!y)throw new Error(`Unsupported column type code: ${c}`);if((function(E){return E>=10})(c)?y.name=Eh(d,o):c>=0&&c<=3?y.name="id":c===4&&(y.name="geometry"),(function(E){return E===30})(c)){const E=mo(d,o,1)[0]>>>0,I=y.complexType;I.children=new Array(E);for(let N=0;N<E;N++)I.children[N]=wh(d,o)}return y}function T0(d,o){const c={featureTables:[]},y={};y.name=Eh(d,o);const E=mo(d,o,1)[0]>>>0,I=mo(d,o,1)[0]>>>0;y.columns=new Array(I);for(let N=0;N<I;N++)y.columns[N]=Sp(d,o);return c.featureTables.push(y),[c,E]}function C0(d,o,c,y,E,I,N=!1){const F=o.scalarType.physicalType,V=xh(E,I,d,c);if(F===4)switch(V){case Ts.FLAT:{const X=Nl(d,c,E,!1);return new Bl(y,X,I)}case Ts.SEQUENCE:{const X=Ex(d,c,E);return new D_(y,X[0],X[1],E.numRleValues)}case Ts.CONST:{const X=B_(d,c,E,!1);return new Yv(y,X,I)}}else switch(V){case Ts.FLAT:{if(N){const ae=(function(de,ge,be,Ae){const De=(function(Fe,Ye,vt){const Xe=new Float64Array(Ye);for(let at=0;at<Ye;at++)Xe[at]=sd(Fe,vt);return Xe})(de,be.numValues,ge);return(function(Fe,Ye,vt){switch(Ye.logicalLevelTechnique1){case ba.DELTA:return Ye.logicalLevelTechnique2===ba.RLE&&(Fe=P_(Fe,Ye.runs,Ye.numRleValues)),(function(Xe){Xe[0]=Xe[0]%2==1?(Xe[0]+1)/-2:Xe[0]/2;const at=Xe.length/4*4;let Et=1;if(at>=4)for(;Et<at-4;Et+=4){const kt=Xe[Et],tn=Xe[Et+1],Sn=Xe[Et+2],yn=Xe[Et+3];Xe[Et]=(kt%2==1?(kt+1)/-2:kt/2)+Xe[Et-1],Xe[Et+1]=(tn%2==1?(tn+1)/-2:tn/2)+Xe[Et],Xe[Et+2]=(Sn%2==1?(Sn+1)/-2:Sn/2)+Xe[Et+1],Xe[Et+3]=(yn%2==1?(yn+1)/-2:yn/2)+Xe[Et+2]}for(;Et!=Xe.length;++Et)Xe[Et]=(Xe[Et]%2==1?(Xe[Et]+1)/-2:Xe[Et]/2)+Xe[Et-1]})(Fe),Fe;case ba.RLE:return(function(Xe,at,Et){return P_(Xe,at.runs,at.numRleValues)})(Fe,Ye);case ba.NONE:return Fe;default:throw new Error(`The specified Logical level technique is not supported: ${Ye.logicalLevelTechnique1}`)}})(De,be)})(d,c,E);return new Pf(y,ae,I)}const X=pu(d,c,E,!1);return new Sm(y,X,I)}case Ts.SEQUENCE:{const X=Us(d,c,E);return new $_(y,X[0],X[1],E.numRleValues)}case Ts.CONST:{const X=wx(d,c,E,!1);return new H_(y,X,I)}}throw new Error("Vector type not supported for id column.")}class Tp{constructor(o,c){var y;switch(this._featureData=o,this.properties=this._featureData.properties||{},(y=this._featureData.geometry)===null||y===void 0?void 0:y.type){case ha.POINT:case ha.MULTIPOINT:this.type=1;break;case ha.LINESTRING:case ha.MULTILINESTRING:this.type=2;break;case ha.POLYGON:case ha.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=c,this.id=Number(this._featureData.id)}loadGeometry(){const o=[];for(const c of this._featureData.geometry.coordinates){const y=[];for(const E of c)y.push(new m(E.x,E.y));o.push(y)}return o}}class Kw{constructor(o){this.features=[],this.featureTable=o,this.name=o.name,this.extent=o.extent,this.version=2,this.features=o.getFeatures(),this.length=this.features.length}feature(o){return new Tp(this.features[o],this.extent)}}class W_{constructor(o){this.layers={};const c=(function(y,E,I=!0){const N=new _x(0),F=[];for(;N.get()<y.length;){const V=mo(y,N,1)[0]>>>0,X=N.get()+V;if(X>y.length)throw new Error(`Block overruns tile: ${X} > ${y.length}`);if(mo(y,N,1)[0]>>>0!=1){N.set(X);continue}const ae=T0(y,N),de=ae[1],ge=ae[0].featureTables[0];let be=null,Ae=null;const De=[];let Fe=0;for(const vt of ge.columns){const Xe=vt.name;if(Xe==="id"){let at=null;if(vt.nullable){const kt=jl(y,N),tn=N.get(),Sn=km(y,kt.numValues,N);N.set(tn+kt.byteLength),at=new dl(Sn,kt.numValues)}const Et=jl(y,N);Fe=Et.decompressedCount,be=C0(y,vt,N,Xe,Et,at??Fe,I)}else if(Xe==="geometry"){const at=mo(y,N,1)[0];if(Fe===0){const Et=N.get();Fe=jl(y,N).decompressedCount,N.set(Et)}Ae=ty(y,at,N,Fe)}else{const at=Rx(vt)?mo(y,N,1)[0]:1;if(at===0&&vt.type==="scalarType")continue;const Et=rb(y,N,vt,at,Fe);if(Et)if(Array.isArray(Et))for(const kt of Et)De.push(kt);else De.push(Et)}}const Ye=new Xw(ge.name,Ae,be,De,de);F.push(Ye),N.set(X)}return F})(new Uint8Array(o));this.layers=c.reduce(((y,E)=>Object.assign(Object.assign({},y),{[E.name]:new Kw(E)})),{})}}class Ac{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(o){return this.minX=Math.min(this.minX,o.x),this.minY=Math.min(this.minY,o.y),this.maxX=Math.max(this.maxX,o.x),this.maxY=Math.max(this.maxY,o.y),this}expandBy(o){return this.minX-=o,this.minY-=o,this.maxX+=o,this.maxY+=o,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(o){return this.expandBy(-o)}map(o){const c=new Ac;return c.extend(o(new m(this.minX,this.minY))),c.extend(o(new m(this.maxX,this.minY))),c.extend(o(new m(this.minX,this.maxY))),c.extend(o(new m(this.maxX,this.maxY))),c}static fromPoints(o){const c=new Ac;for(const y of o)c.extend(y);return c}contains(o){return o.x>=this.minX&&o.x<=this.maxX&&o.y>=this.minY&&o.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(o){return!this.empty()&&!o.empty()&&o.minX>=this.minX&&o.maxX<=this.maxX&&o.minY>=this.minY&&o.maxY<=this.maxY}intersects(o){return!this.empty()&&!o.empty()&&o.minX<=this.maxX&&o.maxX>=this.minX&&o.minY<=this.maxY&&o.maxY>=this.minY}}class Mx{constructor(o,c){this.feature=o,this.type=o.type,this.properties=o.tags?o.tags:{},this.extent=c,"id"in o&&(typeof o.id=="string"?this.id=parseInt(o.id,10):typeof o.id!="number"||isNaN(o.id)||(this.id=o.id))}loadGeometry(){const o=[],c=this.feature.type===1?[this.feature.geometry]:this.feature.geometry;for(const y of c){const E=[];for(const I of y)E.push(new m(I[0],I[1]));o.push(E)}return o}}const Nm="_geojsonTileLayer";function ab(d,o){o.writeVarintField(15,d.version||1),o.writeStringField(1,d.name||""),o.writeVarintField(5,d.extent||4096);const c={keys:[],values:[],keycache:{},valuecache:{}};for(let I=0;I<d.length;I++)c.feature=d.feature(I),o.writeMessage(2,Ox,c);const y=c.keys;for(const I of y)o.writeStringField(3,I);const E=c.values;for(const I of E)o.writeMessage(4,ry,I)}function Ox(d,o){if(!d.feature)return;const c=d.feature;c.id!==void 0&&o.writeVarintField(1,c.id),o.writeMessage(2,Qw,d),o.writeVarintField(3,c.type),o.writeMessage(4,Dx,c)}function Qw(d,o){for(const c in d.feature?.properties){let y=d.feature.properties[c],E=d.keycache[c];if(y===null)continue;E===void 0&&(d.keys.push(c),E=d.keys.length-1,d.keycache[c]=E),o.writeVarint(E),typeof y!="string"&&typeof y!="boolean"&&typeof y!="number"&&(y=JSON.stringify(y));const I=typeof y+":"+y;let N=d.valuecache[I];N===void 0&&(d.values.push(y),N=d.values.length-1,d.valuecache[I]=N),o.writeVarint(N)}}function Cp(d,o){return(o<<3)+(7&d)}function A0(d){return d<<1^d>>31}function Dx(d,o){const c=d.loadGeometry(),y=d.type;let E=0,I=0;for(const N of c){let F=1;y===1&&(F=N.length),o.writeVarint(Cp(1,F));const V=y===3?N.length-1:N.length;for(let X=0;X<V;X++){X===1&&y!==1&&o.writeVarint(Cp(2,V-1));const ae=N[X].x-E,de=N[X].y-I;o.writeVarint(A0(ae)),o.writeVarint(A0(de)),E+=ae,I+=de}d.type===3&&o.writeVarint(Cp(7,1))}}function ry(d,o){const c=typeof d;c==="string"?o.writeStringField(1,d):c==="boolean"?o.writeBooleanField(7,d):c==="number"&&(d%1!=0?o.writeDoubleField(3,d):d<0?o.writeSVarintField(6,d):o.writeVarintField(5,d))}class zl{constructor(o,c){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new yf(Be,16,0),this.grid3D=new yf(Be,16,0),this.featureIndexArray=new Ce,this.promoteId=c}insert(o,c,y,E,I,N){const F=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(y,E,I);const V=N?this.grid3D:this.grid;for(let X=0;X<c.length;X++){const ae=c[X],de=[1/0,1/0,-1/0,-1/0];for(let ge=0;ge<ae.length;ge++){const be=ae[ge];de[0]=Math.min(de[0],be.x),de[1]=Math.min(de[1],be.y),de[2]=Math.max(de[2],be.x),de[3]=Math.max(de[3],be.y)}de[0]<Be&&de[1]<Be&&de[2]>=0&&de[3]>=0&&V.insert(F,de[0],de[1],de[2],de[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=this.encoding!=="mlt"?new di(new f0(this.rawTileData)).layers:new W_(this.rawTileData).layers,this.sourceLayerCoder=new Xg(this.vtLayers?Object.keys(this.vtLayers).sort():[Nm])),this.vtLayers}query(o,c,y,E){this.loadVTLayers();const I=o.params,N=Be/o.tileSize/o.scale,F=al(I.filter,I.globalState),V=o.queryGeometry,X=o.queryPadding*N,ae=Ac.fromPoints(V),de=this.grid.query(ae.minX-X,ae.minY-X,ae.maxX+X,ae.maxY+X),ge=Ac.fromPoints(o.cameraQueryGeometry).expandBy(X),be=this.grid3D.query(ge.minX,ge.minY,ge.maxX,ge.maxY,((Fe,Ye,vt,Xe)=>(function(at,Et,kt,tn,Sn){for(const Ln of at)if(Et<=Ln.x&&kt<=Ln.y&&tn>=Ln.x&&Sn>=Ln.y)return!0;const yn=[new m(Et,kt),new m(Et,Sn),new m(tn,Sn),new m(tn,kt)];if(at.length>2){for(const Ln of yn)if(If(at,Ln))return!0}for(let Ln=0;Ln<at.length-1;Ln++)if(bv(at[Ln],at[Ln+1],yn))return!0;return!1})(o.cameraQueryGeometry,Fe-X,Ye-X,vt+X,Xe+X)));for(const Fe of be)de.push(Fe);de.sort(ib);const Ae={};let De;for(let Fe=0;Fe<de.length;Fe++){const Ye=de[Fe];if(Ye===De)continue;De=Ye;const vt=this.featureIndexArray.get(Ye);let Xe=null;this.loadMatchingFeature(Ae,vt.bucketIndex,vt.sourceLayerIndex,vt.featureIndex,F,I.layers,I.availableImages,c,y,E,((at,Et,kt)=>(Xe||(Xe=ko(at)),Et.queryIntersectsFeature({queryGeometry:V,feature:at,featureState:kt,geometry:Xe,zoom:this.z,transform:o.transform,pixelsToTileUnits:N,pixelPosMatrix:o.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:o.getElevation}))))}return Ae}loadMatchingFeature(o,c,y,E,I,N,F,V,X,ae,de){const ge=this.bucketLayerIDs[c];if(N&&!ge.some((Fe=>N.has(Fe))))return;const be=this.sourceLayerCoder.decode(y),Ae=this.vtLayers[be].feature(E);if(I.needGeometry){const Fe=jd(Ae,!0);if(!I.filter(new Ra(this.tileID.overscaledZ),Fe,this.tileID.canonical))return}else if(!I.filter(new Ra(this.tileID.overscaledZ),Ae))return;const De=this.getId(Ae,be);for(let Fe=0;Fe<ge.length;Fe++){const Ye=ge[Fe];if(N&&!N.has(Ye))continue;const vt=V[Ye];if(!vt)continue;let Xe={};De&&ae&&(Xe=ae.getState(vt.sourceLayer||Nm,De));const at=We({},X[Ye]);at.paint=ay(at.paint,vt.paint,Ae,Xe,F),at.layout=ay(at.layout,vt.layout,Ae,Xe,F);const Et=!de||de(Ae,vt,Xe);if(!Et)continue;const kt=new Vv(Ae,this.z,this.x,this.y,De);kt.layer=at;let tn=o[Ye];tn===void 0&&(tn=o[Ye]=[]),tn.push({featureIndex:E,feature:kt,intersectionZ:Et})}}lookupSymbolFeatures(o,c,y,E,I,N,F,V){const X={};this.loadVTLayers();const ae=al(I.filterSpec,I.globalState);for(const de of o)this.loadMatchingFeature(X,y,E,de,ae,N,F,V,c);return X}hasLayer(o){for(const c of this.bucketLayerIDs)for(const y of c)if(o===y)return!0;return!1}getId(o,c){var y;let E=o.id;return this.promoteId&&(E=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[c]],typeof E=="boolean"&&(E=Number(E)),E===void 0&&(!((y=o.properties)===null||y===void 0)&&y.cluster)&&this.promoteId&&(E=Number(o.properties.cluster_id))),E}}function ay(d,o,c,y,E){return zt(d,((I,N)=>{const F=o instanceof su?o.get(N):null;return F&&F.evaluate?F.evaluate(c,y,E):F}))}function ib(d,o){return o-d}function Z_(d,o,c,y,E){const I=[];for(let N=0;N<d.length;N++){const F=d[N];let V;for(let X=0;X<F.length-1;X++){let ae=F[X],de=F[X+1];ae.x<o&&de.x<o||(ae.x<o?ae=new m(o,ae.y+(o-ae.x)/(de.x-ae.x)*(de.y-ae.y))._round():de.x<o&&(de=new m(o,ae.y+(o-ae.x)/(de.x-ae.x)*(de.y-ae.y))._round()),ae.y<c&&de.y<c||(ae.y<c?ae=new m(ae.x+(c-ae.y)/(de.y-ae.y)*(de.x-ae.x),c)._round():de.y<c&&(de=new m(ae.x+(c-ae.y)/(de.y-ae.y)*(de.x-ae.x),c)._round()),ae.x>=y&&de.x>=y||(ae.x>=y?ae=new m(y,ae.y+(y-ae.x)/(de.x-ae.x)*(de.y-ae.y))._round():de.x>=y&&(de=new m(y,ae.y+(y-ae.x)/(de.x-ae.x)*(de.y-ae.y))._round()),ae.y>=E&&de.y>=E||(ae.y>=E?ae=new m(ae.x+(E-ae.y)/(de.y-ae.y)*(de.x-ae.x),E)._round():de.y>=E&&(de=new m(ae.x+(E-ae.y)/(de.y-ae.y)*(de.x-ae.x),E)._round()),V&&ae.equals(V[V.length-1])||(V=[ae],I.push(V)),V.push(de)))))}}return I}function Lx(d,o,c,y,E){switch(o){case 1:return(function(I,N,F,V){const X=[];for(const ae of I)for(const de of ae){const ge=V===0?de.x:de.y;ge>=N&&ge<=F&&X.push([de])}return X})(d,c,y,E);case 2:return f(d,c,y,E,!1);case 3:return f(d,c,y,E,!0)}return[]}function ob(d,o,c,y,E){const I=y===0?g:T;let N=[];const F=[];for(let ae=0;ae<d.length-1;ae++){const de=d[ae],ge=d[ae+1],be=y===0?de.x:de.y,Ae=y===0?ge.x:ge.y;let De=!1;be<o?Ae>o&&N.push(I(de,ge,o)):be>c?Ae<c&&N.push(I(de,ge,c)):N.push(de),Ae<o&&be>=o&&(N.push(I(de,ge,o)),De=!0),Ae>c&&be<=c&&(N.push(I(de,ge,c)),De=!0),!E&&De&&(F.push(N),N=[])}const V=d.length-1,X=y===0?d[V].x:d[V].y;return X>=o&&X<=c&&N.push(d[V]),E&&N.length>0&&!N[0].equals(N[N.length-1])&&N.push(new m(N[0].x,N[0].y)),N.length>0&&F.push(N),F}function f(d,o,c,y,E){const I=[];for(const N of d){const F=ob(N,o,c,y,E);F.length>0&&I.push(...F)}return I}function g(d,o,c){return new m(c,d.y+(c-d.x)/(o.x-d.x)*(o.y-d.y))}function T(d,o,c){return new m(d.x+(c-d.y)/(o.y-d.y)*(o.x-d.x),c)}or("FeatureIndex",zl,{omit:["rawTileData","sourceLayerCoder"]});class D extends m{constructor(o,c,y,E){super(o,c),this.angle=y,E!==void 0&&(this.segment=E)}clone(){return new D(this.x,this.y,this.angle,this.segment)}}function Z(d,o,c,y,E){if(o.segment===void 0||c===0)return!0;let I=o,N=o.segment+1,F=0;for(;F>-c/2;){if(N--,N<0)return!1;F-=d[N].dist(I),I=d[N]}F+=d[N].dist(d[N+1]),N++;const V=[];let X=0;for(;F<c/2;){const ae=d[N],de=d[N+1];if(!de)return!1;let ge=d[N-1].angleTo(ae)-ae.angleTo(de);for(ge=Math.abs((ge+3*Math.PI)%(2*Math.PI)-Math.PI),V.push({distance:F,angleDelta:ge}),X+=ge;F-V[0].distance>y;)X-=V.shift().angleDelta;if(X>E)return!1;N++,F+=ae.dist(de)}return!0}function re(d){let o=0;for(let c=0;c<d.length-1;c++)o+=d[c].dist(d[c+1]);return o}function Ne(d,o,c){return d?.6*o*c:0}function et(d,o){return Math.max(d?d.right-d.left:0,o?o.right-o.left:0)}function Dt(d,o,c,y,E,I){const N=Ne(c,E,I),F=et(c,y)*I;let V=0;const X=re(d)/2;for(let ae=0;ae<d.length-1;ae++){const de=d[ae],ge=d[ae+1],be=de.dist(ge);if(V+be>X){const Ae=(X-V)/be,De=qa.number(de.x,ge.x,Ae),Fe=qa.number(de.y,ge.y,Ae),Ye=new D(De,Fe,ge.angleTo(de),ae);return Ye._round(),!N||Z(d,Ye,F,N,o)?Ye:void 0}V+=be}}function dn(d,o,c,y,E,I,N,F,V){const X=Ne(y,I,N),ae=et(y,E),de=ae*N,ge=d[0].x===0||d[0].x===V||d[0].y===0||d[0].y===V;return o-de<o/4&&(o=de+o/4),In(d,ge?o/2*F%o:(ae/2+2*I)*N*F%o,o,X,c,de,ge,!1,V)}function In(d,o,c,y,E,I,N,F,V){const X=I/2,ae=re(d);let de=0,ge=o-c,be=[];for(let Ae=0;Ae<d.length-1;Ae++){const De=d[Ae],Fe=d[Ae+1],Ye=De.dist(Fe),vt=Fe.angleTo(De);for(;ge+c<de+Ye;){ge+=c;const Xe=(ge-de)/Ye,at=qa.number(De.x,Fe.x,Xe),Et=qa.number(De.y,Fe.y,Xe);if(at>=0&&at<V&&Et>=0&&Et<V&&ge-X>=0&&ge+X<=ae){const kt=new D(at,Et,vt,Ae);kt._round(),y&&!Z(d,kt,I,y,E)||be.push(kt)}}de+=Ye}return F||be.length||N||(be=In(d,de/2,c,y,E,I,N,!0,V)),be}function $n(d,o,c,y){const E=[],I=d.image,N=I.pixelRatio,F=I.paddedRect.w-2,V=I.paddedRect.h-2;let X={x1:d.left,y1:d.top,x2:d.right,y2:d.bottom};const ae=I.stretchX||[[0,F]],de=I.stretchY||[[0,V]],ge=(un,vr)=>un+vr[1]-vr[0],be=ae.reduce(ge,0),Ae=de.reduce(ge,0),De=F-be,Fe=V-Ae;let Ye=0,vt=be,Xe=0,at=Ae,Et=0,kt=De,tn=0,Sn=Fe;if(I.content&&y){const un=I.content,vr=un[2]-un[0],mr=un[3]-un[1];(I.textFitWidth||I.textFitHeight)&&(X=$v(d)),Ye=fn(ae,0,un[0]),Xe=fn(de,0,un[1]),vt=fn(ae,un[0],un[2]),at=fn(de,un[1],un[3]),Et=un[0]-Ye,tn=un[1]-Xe,kt=vr-vt,Sn=mr-at}const yn=X.x1,Ln=X.y1,ar=X.x2-yn,Un=X.y2-Ln,bn=(un,vr,mr,Sr)=>{const dr=Rr(un.stretch-Ye,vt,ar,yn),$r=ta(un.fixed-Et,kt,un.stretch,be),ai=Rr(vr.stretch-Xe,at,Un,Ln),Oa=ta(vr.fixed-tn,Sn,vr.stretch,Ae),Mo=Rr(mr.stretch-Ye,vt,ar,yn),zu=ta(mr.fixed-Et,kt,mr.stretch,be),fl=Rr(Sr.stretch-Xe,at,Un,Ln),Oo=ta(Sr.fixed-tn,Sn,Sr.stretch,Ae),go=new m(dr,ai),Ei=new m(Mo,ai),ss=new m(Mo,fl),Cs=new m(dr,fl),so=new m($r/N,Oa/N),Yd=new m(zu/N,Oo/N),Uu=o*Math.PI/180;if(Uu){const Ul=Math.sin(Uu),Xo=Math.cos(Uu),hl=[Xo,-Ul,Ul,Xo];go._matMult(hl),Ei._matMult(hl),Cs._matMult(hl),ss._matMult(hl)}const Wd=un.stretch+un.fixed,Ap=vr.stretch+vr.fixed;return{tl:go,tr:Ei,bl:Cs,br:ss,tex:{x:I.paddedRect.x+1+Wd,y:I.paddedRect.y+1+Ap,w:mr.stretch+mr.fixed-Wd,h:Sr.stretch+Sr.fixed-Ap},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:so,pixelOffsetBR:Yd,minFontScaleX:kt/N/ar,minFontScaleY:Sn/N/Un,isSDF:c}};if(y&&(I.stretchX||I.stretchY)){const un=vn(ae,De,be),vr=vn(de,Fe,Ae);for(let mr=0;mr<un.length-1;mr++){const Sr=un[mr],dr=un[mr+1];for(let $r=0;$r<vr.length-1;$r++)E.push(bn(Sr,vr[$r],dr,vr[$r+1]))}}else E.push(bn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:F+1},{fixed:0,stretch:V+1}));return E}function fn(d,o,c){let y=0;for(const E of d)y+=Math.max(o,Math.min(c,E[1]))-Math.max(o,Math.min(c,E[0]));return y}function vn(d,o,c){const y=[{fixed:-1,stretch:0}];for(const[E,I]of d){const N=y[y.length-1];y.push({fixed:E-N.stretch,stretch:N.stretch}),y.push({fixed:E-N.stretch,stretch:N.stretch+(I-E)})}return y.push({fixed:o+1,stretch:c}),y}function Rr(d,o,c,y){return d/o*c+y}function ta(d,o,c,y){return d-o*c/y}or("Anchor",D);class _i{constructor(o,c,y,E,I,N,F,V,X,ae){var de;if(this.boxStartIndex=o.length,X){let ge=N.top,be=N.bottom;const Ae=N.collisionPadding;Ae&&(ge-=Ae[1],be+=Ae[3]);let De=be-ge;De>0&&(De=Math.max(10,De),this.circleDiameter=De)}else{const ge=!((de=N.image)===null||de===void 0)&&de.content&&(N.image.textFitWidth||N.image.textFitHeight)?$v(N):{x1:N.left,y1:N.top,x2:N.right,y2:N.bottom};ge.y1=ge.y1*F-V[0],ge.y2=ge.y2*F+V[2],ge.x1=ge.x1*F-V[3],ge.x2=ge.x2*F+V[1];const be=N.collisionPadding;if(be&&(ge.x1-=be[0]*F,ge.y1-=be[1]*F,ge.x2+=be[2]*F,ge.y2+=be[3]*F),ae){const Ae=new m(ge.x1,ge.y1),De=new m(ge.x2,ge.y1),Fe=new m(ge.x1,ge.y2),Ye=new m(ge.x2,ge.y2),vt=ae*Math.PI/180;Ae._rotate(vt),De._rotate(vt),Fe._rotate(vt),Ye._rotate(vt),ge.x1=Math.min(Ae.x,De.x,Fe.x,Ye.x),ge.x2=Math.max(Ae.x,De.x,Fe.x,Ye.x),ge.y1=Math.min(Ae.y,De.y,Fe.y,Ye.y),ge.y2=Math.max(Ae.y,De.y,Fe.y,Ye.y)}o.emplaceBack(c.x,c.y,ge.x1,ge.y1,ge.x2,ge.y2,y,E,I)}this.boxEndIndex=o.length}}class Zt{constructor(o=[],c=(y,E)=>y<E?-1:y>E?1:0){if(this.data=o,this.length=this.data.length,this.compare=c,this.length>0)for(let y=(this.length>>1)-1;y>=0;y--)this._down(y)}push(o){this.data.push(o),this._up(this.length++)}pop(){if(this.length===0)return;const o=this.data[0],c=this.data.pop();return--this.length>0&&(this.data[0]=c,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:c,compare:y}=this,E=c[o];for(;o>0;){const I=o-1>>1,N=c[I];if(y(E,N)>=0)break;c[o]=N,o=I}c[o]=E}_down(o){const{data:c,compare:y}=this,E=this.length>>1,I=c[o];for(;o<E;){let N=1+(o<<1);const F=N+1;if(F<this.length&&y(c[F],c[N])<0&&(N=F),y(c[N],I)>=0)break;c[o]=c[N],o=N}c[o]=I}}function Gt(d,o=1,c=!1){const y=Ac.fromPoints(d[0]),E=Math.min(y.width(),y.height());let I=E/2;const N=new Zt([],ln),{minX:F,minY:V,maxX:X,maxY:ae}=y;if(E===0)return new m(F,V);for(let be=F;be<X;be+=E)for(let Ae=V;Ae<ae;Ae+=E)N.push(new Rn(be+I,Ae+I,I,d));let de=(function(be){let Ae=0,De=0,Fe=0;const Ye=be[0];for(let vt=0,Xe=Ye.length,at=Xe-1;vt<Xe;at=vt++){const Et=Ye[vt],kt=Ye[at],tn=Et.x*kt.y-kt.x*Et.y;De+=(Et.x+kt.x)*tn,Fe+=(Et.y+kt.y)*tn,Ae+=3*tn}return new Rn(De/Ae,Fe/Ae,0,be)})(d),ge=N.length;for(;N.length;){const be=N.pop();(be.d>de.d||!de.d)&&(de=be,c&&console.log("found best %d after %d probes",Math.round(1e4*be.d)/1e4,ge)),be.max-de.d<=o||(I=be.h/2,N.push(new Rn(be.p.x-I,be.p.y-I,I,d)),N.push(new Rn(be.p.x+I,be.p.y-I,I,d)),N.push(new Rn(be.p.x-I,be.p.y+I,I,d)),N.push(new Rn(be.p.x+I,be.p.y+I,I,d)),ge+=4)}return c&&(console.log(`num probes: ${ge}`),console.log(`best distance: ${de.d}`)),de.p}function ln(d,o){return o.max-d.max}function Rn(d,o,c,y){this.p=new m(d,o),this.h=c,this.d=(function(E,I){let N=!1,F=1/0;for(let V=0;V<I.length;V++){const X=I[V];for(let ae=0,de=X.length,ge=de-1;ae<de;ge=ae++){const be=X[ae],Ae=X[ge];be.y>E.y!=Ae.y>E.y&&E.x<(Ae.x-be.x)*(E.y-be.y)/(Ae.y-be.y)+be.x&&(N=!N),F=Math.min(F,Io(E,be,Ae))}}return(N?1:-1)*Math.sqrt(F)})(this.p,y),this.max=this.d+this.h*Math.SQRT2}var Ar;u.aQ=void 0,(Ar=u.aQ||(u.aQ={}))[Ar.center=1]="center",Ar[Ar.left=2]="left",Ar[Ar.right=3]="right",Ar[Ar.top=4]="top",Ar[Ar.bottom=5]="bottom",Ar[Ar["top-left"]=6]="top-left",Ar[Ar["top-right"]=7]="top-right",Ar[Ar["bottom-left"]=8]="bottom-left",Ar[Ar["bottom-right"]=9]="bottom-right";const ri=Number.POSITIVE_INFINITY;function Hr(d,o){return o[1]!==ri?(function(c,y,E){let I=0,N=0;switch(y=Math.abs(y),E=Math.abs(E),c){case"top-right":case"top-left":case"top":N=E-7;break;case"bottom-right":case"bottom-left":case"bottom":N=7-E}switch(c){case"top-right":case"bottom-right":case"right":I=-y;break;case"top-left":case"bottom-left":case"left":I=y}return[I,N]})(d,o[0],o[1]):(function(c,y){let E=0,I=0;y<0&&(y=0);const N=y/Math.SQRT2;switch(c){case"top-right":case"top-left":I=N-7;break;case"bottom-right":case"bottom-left":I=7-N;break;case"bottom":I=7-y;break;case"top":I=y-7}switch(c){case"top-right":case"bottom-right":E=-N;break;case"top-left":case"bottom-left":E=N;break;case"left":E=y;break;case"right":E=-y}return[E,I]})(d,o[0])}function Ea(d,o,c){var y;const E=d.layout,I=(y=E.get("text-variable-anchor-offset"))===null||y===void 0?void 0:y.evaluate(o,{},c);if(I){const F=I.values,V=[];for(let X=0;X<F.length;X+=2){const ae=V[X]=F[X],de=F[X+1].map((ge=>ge*fi));ae.startsWith("top")?de[1]-=7:ae.startsWith("bottom")&&(de[1]+=7),V[X+1]=de}return new Oi(V)}const N=E.get("text-variable-anchor");if(N){let F;F=d._unevaluatedLayout.getValue("text-radial-offset")!==void 0?[E.get("text-radial-offset").evaluate(o,{},c)*fi,ri]:E.get("text-offset").evaluate(o,{},c).map((X=>X*fi));const V=[];for(const X of N)V.push(X,Hr(X,F));return new Oi(V)}return null}function Ba(d){switch(d){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function pi(d,o,c,y,E,I,N,F,V,X,ae,de){let ge=I.textMaxSize.evaluate(o,{});ge===void 0&&(ge=N);const be=d.layers[0].layout,Ae=be.get("icon-offset").evaluate(o,{},ae),De=Px(c.horizontal),Fe=N/24,Ye=d.tilePixelRatio*Fe,vt=d.tilePixelRatio*ge/24,Xe=d.tilePixelRatio*F,at=d.tilePixelRatio*be.get("symbol-spacing"),Et=be.get("text-padding")*d.tilePixelRatio,kt=(function(mr,Sr,dr,$r=1){const ai=mr.get("icon-padding").evaluate(Sr,{},dr),Oa=ai&&ai.values;return[Oa[0]*$r,Oa[1]*$r,Oa[2]*$r,Oa[3]*$r]})(be,o,ae,d.tilePixelRatio),tn=be.get("text-max-angle")/180*Math.PI,Sn=be.get("text-rotation-alignment")!=="viewport"&&be.get("symbol-placement")!=="point",yn=be.get("icon-rotation-alignment")==="map"&&be.get("symbol-placement")!=="point",Ln=be.get("symbol-placement"),ar=at/2,Un=be.get("icon-text-fit");let bn;y&&Un!=="none"&&(d.allowVerticalPlacement&&c.vertical&&(bn=m0(y,c.vertical,Un,be.get("icon-text-fit-padding"),Ae,Fe)),De&&(y=m0(y,De,Un,be.get("icon-text-fit-padding"),Ae,Fe)));const un=ae?de.line.getGranularityForZoomLevel(ae.z):1,vr=(mr,Sr)=>{Sr.x<0||Sr.x>=Be||Sr.y<0||Sr.y>=Be||(function(dr,$r,ai,Oa,Mo,zu,fl,Oo,go,Ei,ss,Cs,so,Yd,Uu,Wd,Ap,Ul,Xo,hl,ls,Gl,k0,Rm,t2){const sb=dr.addToLineVertexArray($r,ai);let X_,Fx,Bx,$x,LB=0,PB=0,FB=0,BB=0,JN=-1,eR=-1;const I0={};let $B=Ti("");if(dr.allowVerticalPlacement&&Oa.vertical){const kc=Oo.layout.get("text-rotate").evaluate(ls,{},Rm)+90;Bx=new _i(go,$r,Ei,ss,Cs,Oa.vertical,so,Yd,Uu,kc),fl&&($x=new _i(go,$r,Ei,ss,Cs,fl,Ap,Ul,Uu,kc))}if(Mo){const kc=Oo.layout.get("icon-rotate").evaluate(ls,{}),Th=Oo.layout.get("icon-text-fit")!=="none",K_=$n(Mo,kc,k0,Th),Om=fl?$n(fl,kc,k0,Th):void 0;Fx=new _i(go,$r,Ei,ss,Cs,Mo,Ap,Ul,!1,kc),LB=4*K_.length;const Q_=dr.iconSizeData;let iy=null;Q_.kind==="source"?(iy=[Hd*Oo.layout.get("icon-size").evaluate(ls,{})],iy[0]>du&&_n(`${dr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):Q_.kind==="composite"&&(iy=[Hd*Gl.compositeIconSizes[0].evaluate(ls,{},Rm),Hd*Gl.compositeIconSizes[1].evaluate(ls,{},Rm)],(iy[0]>du||iy[1]>du)&&_n(`${dr.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),dr.addSymbols(dr.icon,K_,iy,hl,Xo,ls,u.aA.none,$r,sb.lineStartIndex,sb.lineLength,-1,Rm),JN=dr.icon.placedSymbolArray.length-1,Om&&(PB=4*Om.length,dr.addSymbols(dr.icon,Om,iy,hl,Xo,ls,u.aA.vertical,$r,sb.lineStartIndex,sb.lineLength,-1,Rm),eR=dr.icon.placedSymbolArray.length-1)}const jB=Object.keys(Oa.horizontal);for(const kc of jB){const Th=Oa.horizontal[kc];if(!X_){$B=Ti(Th.text);const Om=Oo.layout.get("text-rotate").evaluate(ls,{},Rm);X_=new _i(go,$r,Ei,ss,Cs,Th,so,Yd,Uu,Om)}const K_=Th.positionedLines.length===1;if(FB+=Sh(dr,$r,Th,zu,Oo,Uu,ls,Wd,sb,Oa.vertical?u.aA.horizontal:u.aA.horizontalOnly,K_?jB:[kc],I0,JN,Gl,Rm),K_)break}Oa.vertical&&(BB+=Sh(dr,$r,Oa.vertical,zu,Oo,Uu,ls,Wd,sb,u.aA.vertical,["vertical"],I0,eR,Gl,Rm));const yre=X_?X_.boxStartIndex:dr.collisionBoxArray.length,vre=X_?X_.boxEndIndex:dr.collisionBoxArray.length,bre=Bx?Bx.boxStartIndex:dr.collisionBoxArray.length,_re=Bx?Bx.boxEndIndex:dr.collisionBoxArray.length,xre=Fx?Fx.boxStartIndex:dr.collisionBoxArray.length,Ere=Fx?Fx.boxEndIndex:dr.collisionBoxArray.length,wre=$x?$x.boxStartIndex:dr.collisionBoxArray.length,Sre=$x?$x.boxEndIndex:dr.collisionBoxArray.length;let Mm=-1;const bC=(kc,Th)=>kc&&kc.circleDiameter?Math.max(kc.circleDiameter,Th):Th;Mm=bC(X_,Mm),Mm=bC(Bx,Mm),Mm=bC(Fx,Mm),Mm=bC($x,Mm);const zB=Mm>-1?1:0;zB&&(Mm*=t2/fi),dr.glyphOffsetArray.length>=cl.MAX_GLYPHS&&_n("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),ls.sortKey!==void 0&&dr.addToSortKeyRanges(dr.symbolInstances.length,ls.sortKey);const Tre=Ea(Oo,ls,Rm),[Cre,Are]=(function(kc,Th){const K_=kc.length,Om=Th?.values;if(Om?.length>0)for(let Q_=0;Q_<Om.length;Q_+=2){const iy=Om[Q_+1];kc.emplaceBack(u.aQ[Om[Q_]],iy[0],iy[1])}return[K_,kc.length]})(dr.textAnchorOffsets,Tre);dr.symbolInstances.emplaceBack($r.x,$r.y,I0.right>=0?I0.right:-1,I0.center>=0?I0.center:-1,I0.left>=0?I0.left:-1,I0.vertical||-1,JN,eR,$B,yre,vre,bre,_re,xre,Ere,wre,Sre,Ei,FB,BB,LB,PB,zB,0,so,Mm,Cre,Are)})(d,Sr,mr,c,y,E,bn,d.layers[0],d.collisionBoxArray,o.index,o.sourceLayerIndex,d.index,Ye,[Et,Et,Et,Et],Sn,V,Xe,kt,yn,Ae,o,I,X,ae,N)};if(Ln==="line")for(const mr of Z_(o.geometry,0,0,Be,Be)){const Sr=xc(mr,un),dr=dn(Sr,at,tn,c.vertical||De,y,24,vt,d.overscaling,Be);for(const $r of dr)De&&QN(d,De.text,ar,$r)||vr(Sr,$r)}else if(Ln==="line-center"){for(const mr of o.geometry)if(mr.length>1){const Sr=xc(mr,un),dr=Dt(Sr,tn,c.vertical||De,y,24,vt);dr&&vr(Sr,dr)}}else if(o.type==="Polygon")for(const mr of Nd(o.geometry,0)){const Sr=Gt(mr,16);vr(xc(mr[0],un,!0),new D(Sr.x,Sr.y,0))}else if(o.type==="LineString")for(const mr of o.geometry){const Sr=xc(mr,un);vr(Sr,new D(Sr[0].x,Sr[0].y,0))}else if(o.type==="Point")for(const mr of o.geometry)for(const Sr of mr)vr([Sr],new D(Sr.x,Sr.y,0))}function Sh(d,o,c,y,E,I,N,F,V,X,ae,de,ge,be,Ae){const De=(function(vt,Xe,at,Et,kt,tn,Sn,yn){const Ln=Et.layout.get("text-rotate").evaluate(tn,{})*Math.PI/180,ar=[];for(const Un of Xe.positionedLines)for(const bn of Un.positionedGlyphs){if(!bn.rect)continue;const un=bn.rect||{};let vr=4,mr=!0,Sr=1,dr=0;const $r=(kt||yn)&&bn.vertical,ai=bn.metrics.advance*bn.scale/2;if(yn&&Xe.verticalizable&&(dr=Un.lineOffset/2-(bn.imageName?-(fi-bn.metrics.width*bn.scale)/2:(bn.scale-1)*fi)),bn.imageName){const Ul=Sn[bn.imageName];mr=Ul.sdf,Sr=Ul.pixelRatio,vr=1/Sr}const Oa=kt?[bn.x+ai,bn.y]:[0,0];let Mo=kt?[0,0]:[bn.x+ai+at[0],bn.y+at[1]-dr],zu=[0,0];$r&&(zu=Mo,Mo=[0,0]);const fl=bn.metrics.isDoubleResolution?2:1,Oo=(bn.metrics.left-vr)*bn.scale-ai+Mo[0],go=(-bn.metrics.top-vr)*bn.scale+Mo[1],Ei=Oo+un.w/fl*bn.scale/Sr,ss=go+un.h/fl*bn.scale/Sr,Cs=new m(Oo,go),so=new m(Ei,go),Yd=new m(Oo,ss),Uu=new m(Ei,ss);if($r){const Ul=new m(-ai,ai- -17),Xo=-Math.PI/2,hl=12-ai,ls=new m(22-hl,-(bn.imageName?hl:0)),Gl=new m(...zu);Cs._rotateAround(Xo,Ul)._add(ls)._add(Gl),so._rotateAround(Xo,Ul)._add(ls)._add(Gl),Yd._rotateAround(Xo,Ul)._add(ls)._add(Gl),Uu._rotateAround(Xo,Ul)._add(ls)._add(Gl)}if(Ln){const Ul=Math.sin(Ln),Xo=Math.cos(Ln),hl=[Xo,-Ul,Ul,Xo];Cs._matMult(hl),so._matMult(hl),Yd._matMult(hl),Uu._matMult(hl)}const Wd=new m(0,0),Ap=new m(0,0);ar.push({tl:Cs,tr:so,bl:Yd,br:Uu,tex:un,writingMode:Xe.writingMode,glyphOffset:Oa,sectionIndex:bn.sectionIndex,isSDF:mr,pixelOffsetTL:Wd,pixelOffsetBR:Ap,minFontScaleX:0,minFontScaleY:0})}return ar})(0,c,F,E,I,N,y,d.allowVerticalPlacement),Fe=d.textSizeData;let Ye=null;Fe.kind==="source"?(Ye=[Hd*E.layout.get("text-size").evaluate(N,{})],Ye[0]>du&&_n(`${d.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Fe.kind==="composite"&&(Ye=[Hd*be.compositeTextSizes[0].evaluate(N,{},Ae),Hd*be.compositeTextSizes[1].evaluate(N,{},Ae)],(Ye[0]>du||Ye[1]>du)&&_n(`${d.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),d.addSymbols(d.text,De,Ye,F,I,N,X,o,V.lineStartIndex,V.lineLength,ge,Ae);for(const vt of ae)de[vt]=d.text.placedSymbolArray.length-1;return 4*De.length}function Px(d){for(const o in d)return d[o];return null}function QN(d,o,c,y){const E=d.compareText;if(o in E){const I=E[o];for(let N=I.length-1;N>=0;N--)if(y.dist(I[N])<c)return!0}else E[o]=[];return E[o].push(y),!1}const yC=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Jw{static from(o){if(!(o instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,y]=new Uint8Array(o,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const E=y>>4;if(E!==1)throw new Error(`Got v${E} data when expected v1.`);const I=yC[15&y];if(!I)throw new Error("Unrecognized array type.");const[N]=new Uint16Array(o,2,1),[F]=new Uint32Array(o,4,1);return new Jw(F,N,I,o)}constructor(o,c=64,y=Float64Array,E){if(isNaN(o)||o<0)throw new Error(`Unpexpected numItems value: ${o}.`);this.numItems=+o,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=y,this.IndexArrayType=o<65536?Uint16Array:Uint32Array;const I=yC.indexOf(this.ArrayType),N=2*o*this.ArrayType.BYTES_PER_ELEMENT,F=o*this.IndexArrayType.BYTES_PER_ELEMENT,V=(8-F%8)%8;if(I<0)throw new Error(`Unexpected typed array class: ${y}.`);E&&E instanceof ArrayBuffer?(this.data=E,this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+F+V,2*o),this._pos=2*o,this._finished=!0):(this.data=new ArrayBuffer(8+N+F+V),this.ids=new this.IndexArrayType(this.data,8,o),this.coords=new this.ArrayType(this.data,8+F+V,2*o),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+I]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=o)}add(o,c){const y=this._pos>>1;return this.ids[y]=y,this.coords[this._pos++]=o,this.coords[this._pos++]=c,y}finish(){const o=this._pos>>1;if(o!==this.numItems)throw new Error(`Added ${o} items when expected ${this.numItems}.`);return e2(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(o,c,y,E){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:I,coords:N,nodeSize:F}=this,V=[0,I.length-1,0],X=[];for(;V.length;){const ae=V.pop()||0,de=V.pop()||0,ge=V.pop()||0;if(de-ge<=F){for(let Fe=ge;Fe<=de;Fe++){const Ye=N[2*Fe],vt=N[2*Fe+1];Ye>=o&&Ye<=y&&vt>=c&&vt<=E&&X.push(I[Fe])}continue}const be=ge+de>>1,Ae=N[2*be],De=N[2*be+1];Ae>=o&&Ae<=y&&De>=c&&De<=E&&X.push(I[be]),(ae===0?o<=Ae:c<=De)&&(V.push(ge),V.push(be-1),V.push(1-ae)),(ae===0?y>=Ae:E>=De)&&(V.push(be+1),V.push(de),V.push(1-ae))}return X}within(o,c,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:E,coords:I,nodeSize:N}=this,F=[0,E.length-1,0],V=[],X=y*y;for(;F.length;){const ae=F.pop()||0,de=F.pop()||0,ge=F.pop()||0;if(de-ge<=N){for(let Fe=ge;Fe<=de;Fe++)Q(I[2*Fe],I[2*Fe+1],o,c)<=X&&V.push(E[Fe]);continue}const be=ge+de>>1,Ae=I[2*be],De=I[2*be+1];Q(Ae,De,o,c)<=X&&V.push(E[be]),(ae===0?o-y<=Ae:c-y<=De)&&(F.push(ge),F.push(be-1),F.push(1-ae)),(ae===0?o+y>=Ae:c+y>=De)&&(F.push(be+1),F.push(de),F.push(1-ae))}return V}}function e2(d,o,c,y,E,I){if(E-y<=c)return;const N=y+E>>1;vC(d,o,N,y,E,I),e2(d,o,c,y,N-1,1-I),e2(d,o,c,N+1,E,1-I)}function vC(d,o,c,y,E,I){for(;E>y;){if(E-y>600){const X=E-y+1,ae=c-y+1,de=Math.log(X),ge=.5*Math.exp(2*de/3),be=.5*Math.sqrt(de*ge*(X-ge)/X)*(ae-X/2<0?-1:1);vC(d,o,c,Math.max(y,Math.floor(c-ae*ge/X+be)),Math.min(E,Math.floor(c+(X-ae)*ge/X+be)),I)}const N=o[2*c+I];let F=y,V=E;for(C(d,o,y,c),o[2*E+I]>N&&C(d,o,y,E);F<V;){for(C(d,o,F,V),F++,V--;o[2*F+I]<N;)F++;for(;o[2*V+I]>N;)V--}o[2*y+I]===N?C(d,o,y,V):(V++,C(d,o,V,E)),V<=c&&(y=V+1),c<=V&&(E=V-1)}}function C(d,o,c,y){B(d,c,y),B(o,2*c,2*y),B(o,2*c+1,2*y+1)}function B(d,o,c){const y=d[o];d[o]=d[c],d[c]=y}function Q(d,o,c,y){const E=d-c,I=o-y;return E*E+I*I}var ye;u.cI=void 0,(ye=u.cI||(u.cI={})).create="create",ye.load="load",ye.fullLoad="fullLoad";let $e=null,st=[];const It=1e3/60,$t="loadTime",Kt="fullLoadTime",Hn={mark(d){performance.mark(d)},frame(d){const o=d;$e!=null&&st.push(o-$e),$e=o},clearMetrics(){$e=null,st=[],performance.clearMeasures($t),performance.clearMeasures(Kt);for(const d in u.cI)performance.clearMarks(u.cI[d])},getPerformanceMetrics(){performance.measure($t,u.cI.create,u.cI.load),performance.measure(Kt,u.cI.create,u.cI.fullLoad);const d=performance.getEntriesByName($t)[0].duration,o=performance.getEntriesByName(Kt)[0].duration,c=st.length,y=1/(st.reduce(((I,N)=>I+N),0)/c/1e3),E=st.filter((I=>I>It)).reduce(((I,N)=>I+(N-It)/It),0);return{loadTime:d,fullLoadTime:o,fps:y,percentDroppedFrames:E/(c+E)*100,totalFrames:c}}};u.$=z,u.A=J,u.B=sm,u.C=ku,u.D=Cr,u.E=Qn,u.F=function([d,o,c]){return o+=90,o*=Math.PI/180,c*=Math.PI/180,{x:d*Math.cos(o)*Math.sin(c),y:d*Math.sin(o)*Math.sin(c),z:d*Math.cos(c)}},u.G=qa,u.H=Ra,u.I=_m,u.J=om,u.K=function(d){if(Tn==null){const o=d.navigator?d.navigator.userAgent:null;Tn=!!d.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Tn},u.L=class{constructor(d,o){this.target=d,this.mapId=o,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new bx((()=>this.process())),this.subscription=En(this.target,"message",(c=>this.receive(c)),!1),this.globalScope=pn(self)?d:window}registerMessageHandler(d,o){this.messageHandlers[d]=o}unregisterMessageHandler(d){delete this.messageHandlers[d]}sendAsync(d,o){return new Promise(((c,y)=>{const E=Math.round(1e18*Math.random()).toString(36).substring(0,10),I=o?En(o.signal,"abort",(()=>{I?.unsubscribe(),delete this.resolveRejects[E];const V={id:E,type:"<cancel>",origin:location.origin,targetMapId:d.targetMapId,sourceMapId:this.mapId};this.target.postMessage(V)}),Ga):null;this.resolveRejects[E]={resolve:V=>{I?.unsubscribe(),c(V)},reject:V=>{I?.unsubscribe(),y(V)}};const N=[],F=Object.assign(Object.assign({},d),{id:E,sourceMapId:this.mapId,origin:location.origin,data:vf(d.data,N)});this.target.postMessage(F,{transfer:N})}))}receive(d){const o=d.data,c=o.id;if(!(o.origin!=="file://"&&location.origin!=="file://"&&o.origin!=="resource://android"&&location.origin!=="resource://android"&&o.origin!==location.origin||o.targetMapId&&this.mapId!==o.targetMapId)){if(o.type==="<cancel>"){delete this.tasks[c];const y=this.abortControllers[c];return delete this.abortControllers[c],void(y&&y.abort())}if(pn(self)||o.mustQueue)return this.tasks[c]=o,this.taskQueue.push(c),void this.invoker.trigger();this.processTask(c,o)}}process(){if(this.taskQueue.length===0)return;const d=this.taskQueue.shift(),o=this.tasks[d];delete this.tasks[d],this.taskQueue.length>0&&this.invoker.trigger(),o&&this.processTask(d,o)}processTask(d,o){return i(this,void 0,void 0,(function*(){if(o.type==="<response>"){const E=this.resolveRejects[d];return delete this.resolveRejects[d],E?void(o.error?E.reject(bf(o.error)):E.resolve(bf(o.data))):void 0}if(!this.messageHandlers[o.type])return void this.completeTask(d,new Error(`Could not find a registered handler for ${o.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const c=bf(o.data),y=new AbortController;this.abortControllers[d]=y;try{const E=yield this.messageHandlers[o.type](o.sourceMapId,c,y);this.completeTask(d,null,E)}catch(E){this.completeTask(d,E)}}))}completeTask(d,o,c){const y=[];delete this.abortControllers[d];const E={id:d,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:o?vf(o):null,data:vf(c,y)};this.target.postMessage(E,{transfer:y})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},u.M=Bt,u.N=function(){var d=new J(16);return J!=Float32Array&&(d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=0,d[12]=0,d[13]=0,d[14]=0),d[0]=1,d[5]=1,d[10]=1,d[15]=1,d},u.O=function(d,o,c){var y,E,I,N,F,V,X,ae,de,ge,be,Ae,De=c[0],Fe=c[1],Ye=c[2];return o===d?(d[12]=o[0]*De+o[4]*Fe+o[8]*Ye+o[12],d[13]=o[1]*De+o[5]*Fe+o[9]*Ye+o[13],d[14]=o[2]*De+o[6]*Fe+o[10]*Ye+o[14],d[15]=o[3]*De+o[7]*Fe+o[11]*Ye+o[15]):(E=o[1],I=o[2],N=o[3],F=o[4],V=o[5],X=o[6],ae=o[7],de=o[8],ge=o[9],be=o[10],Ae=o[11],d[0]=y=o[0],d[1]=E,d[2]=I,d[3]=N,d[4]=F,d[5]=V,d[6]=X,d[7]=ae,d[8]=de,d[9]=ge,d[10]=be,d[11]=Ae,d[12]=y*De+F*Fe+de*Ye+o[12],d[13]=E*De+V*Fe+ge*Ye+o[13],d[14]=I*De+X*Fe+be*Ye+o[14],d[15]=N*De+ae*Fe+Ae*Ye+o[15]),d},u.P=m,u.Q=function(d,o,c){var y=c[0],E=c[1],I=c[2];return d[0]=o[0]*y,d[1]=o[1]*y,d[2]=o[2]*y,d[3]=o[3]*y,d[4]=o[4]*E,d[5]=o[5]*E,d[6]=o[6]*E,d[7]=o[7]*E,d[8]=o[8]*I,d[9]=o[9]*I,d[10]=o[10]*I,d[11]=o[11]*I,d[12]=o[12],d[13]=o[13],d[14]=o[14],d[15]=o[15],d},u.R=po,u.S=function(d,o,c){var y=o[0],E=o[1],I=o[2],N=o[3],F=o[4],V=o[5],X=o[6],ae=o[7],de=o[8],ge=o[9],be=o[10],Ae=o[11],De=o[12],Fe=o[13],Ye=o[14],vt=o[15],Xe=c[0],at=c[1],Et=c[2],kt=c[3];return d[0]=Xe*y+at*F+Et*de+kt*De,d[1]=Xe*E+at*V+Et*ge+kt*Fe,d[2]=Xe*I+at*X+Et*be+kt*Ye,d[3]=Xe*N+at*ae+Et*Ae+kt*vt,d[4]=(Xe=c[4])*y+(at=c[5])*F+(Et=c[6])*de+(kt=c[7])*De,d[5]=Xe*E+at*V+Et*ge+kt*Fe,d[6]=Xe*I+at*X+Et*be+kt*Ye,d[7]=Xe*N+at*ae+Et*Ae+kt*vt,d[8]=(Xe=c[8])*y+(at=c[9])*F+(Et=c[10])*de+(kt=c[11])*De,d[9]=Xe*E+at*V+Et*ge+kt*Fe,d[10]=Xe*I+at*X+Et*be+kt*Ye,d[11]=Xe*N+at*ae+Et*Ae+kt*vt,d[12]=(Xe=c[12])*y+(at=c[13])*F+(Et=c[14])*de+(kt=c[15])*De,d[13]=Xe*E+at*V+Et*ge+kt*Fe,d[14]=Xe*I+at*X+Et*be+kt*Ye,d[15]=Xe*N+at*ae+Et*Ae+kt*vt,d},u.T=Ai,u.U=function(d,o){const c={};for(let y=0;y<o.length;y++){const E=o[y];E in d&&(c[E]=d[E])}return c},u.V=qd,u.W=Nt,u.X=ju,u.Y=Gv,u.Z=ut,u._=i,u.a=qe,u.a$=Ro,u.a0=q,u.a1=lr,u.a2=hu,u.a3=_0,u.a4=Hi,u.a5=Be,u.a6=function(d,o,c){if(!d)return o||{};if(!o)return d||{};const y=Zg(d),E=Zg(o);(function(N,F){F.removeAll&&(N.add.clear(),N.update.clear(),N.remove.clear(),F.remove.clear());for(const V of F.remove)N.add.delete(V),N.update.delete(V);for(const[V,X]of F.update){const ae=N.update.get(V);ae&&(F.update.set(V,O_(ae,X)),N.update.delete(V))}})(y,E);const I={};if((y.removeAll||E.removeAll)&&(I.removeAll=!0),I.remove=new Set([...y.remove,...E.remove]),I.add=new Map([...y.add,...E.add]),I.update=new Map([...y.update,...E.update]),I.remove.size&&I.add.size)for(const N of I.add.keys())I.remove.delete(N);return(function(N){const F={};return N.removeAll&&(F.removeAll=N.removeAll),N.remove&&(F.remove=Array.from(N.remove)),N.add&&(F.add=Array.from(N.add.values())),N.update&&(F.update=Array.from(N.update.values())),F})(I)},u.a7=function(d,o){if(d==null||d.type==null)return!0;if(d.type==="Feature")return x0(d,o)!=null;if(d.type==="FeatureCollection"){const c=new Set;for(const y of d.features){const E=x0(y,o);if(E==null||c.has(E))return!1;c.add(E)}return!0}return!1},u.a8=function(d,o){const c=new Map;if(!(d==null||d.type==null))if(d.type==="Feature")c.set(x0(d,o),d);else for(const y of d.features)c.set(x0(y,o),y);return c},u.a9=function(d,o,c){var y,E;if(o.removeAll)d.clear();else if(o.remove)for(const I of o.remove)d.delete(I);if(o.add)for(const I of o.add){const N=x0(I,c);N!=null&&d.set(N,I)}if(o.update)for(const I of o.update){let N=d.get(I.id);if(!N)continue;const F=!!I.newGeometry,V=I.removeAllProperties||((y=I.removeProperties)===null||y===void 0?void 0:y.length)>0||((E=I.addOrUpdateProperties)===null||E===void 0?void 0:E.length)>0;if((F||V)&&(N=Object.assign({},N),d.set(I.id,N),F&&(N.geometry=I.newGeometry),V)){if(N.properties=I.removeAllProperties?{}:Object.assign({},N.properties||{}),I.removeProperties)for(const X of I.removeProperties)delete N.properties[X];if(I.addOrUpdateProperties)for(const{key:X,value:ae}of I.addOrUpdateProperties)N.properties[X]=ae}}},u.aB=function(d,{uSize:o,uSizeT:c},{lowerSize:y,upperSize:E}){return d.kind==="source"?y/Hd:d.kind==="composite"?qa.number(y/Hd,E/Hd,c):o},u.aC=function(d,o){var c=o[0],y=o[1],E=o[2],I=o[3],N=o[4],F=o[5],V=o[6],X=o[7],ae=o[8],de=o[9],ge=o[10],be=o[11],Ae=o[12],De=o[13],Fe=o[14],Ye=o[15],vt=c*F-y*N,Xe=c*V-E*N,at=c*X-I*N,Et=y*V-E*F,kt=y*X-I*F,tn=E*X-I*V,Sn=ae*De-de*Ae,yn=ae*Fe-ge*Ae,Ln=ae*Ye-be*Ae,ar=de*Fe-ge*De,Un=de*Ye-be*De,bn=ge*Ye-be*Fe,un=vt*bn-Xe*Un+at*ar+Et*Ln-kt*yn+tn*Sn;return un?(d[0]=(F*bn-V*Un+X*ar)*(un=1/un),d[1]=(E*Un-y*bn-I*ar)*un,d[2]=(De*tn-Fe*kt+Ye*Et)*un,d[3]=(ge*kt-de*tn-be*Et)*un,d[4]=(V*Ln-N*bn-X*yn)*un,d[5]=(c*bn-E*Ln+I*yn)*un,d[6]=(Fe*at-Ae*tn-Ye*Xe)*un,d[7]=(ae*tn-ge*at+be*Xe)*un,d[8]=(N*Un-F*Ln+X*Sn)*un,d[9]=(y*Ln-c*Un-I*Sn)*un,d[10]=(Ae*kt-De*at+Ye*vt)*un,d[11]=(de*at-ae*kt-be*vt)*un,d[12]=(F*yn-N*ar-V*Sn)*un,d[13]=(c*ar-y*yn+E*Sn)*un,d[14]=(De*Xe-Ae*Et-Fe*vt)*un,d[15]=(ae*Et-de*Xe+ge*vt)*un,d):null},u.aD=we,u.aE=function(d){var o=d[0],c=d[1];return Math.sqrt(o*o+c*c)},u.aF=function(d){return d[0]=0,d[1]=0,d},u.aG=function(d,o,c){return d[0]=o[0]*c,d[1]=o[1]*c,d},u.aH=jv,u.aI=xe,u.aJ=function(d,o,c,y){const E=o.y-d.y,I=o.x-d.x,N=y.y-c.y,F=y.x-c.x,V=N*I-F*E;if(V===0)return null;const X=(F*(d.y-c.y)-N*(d.x-c.x))/V;return new m(d.x+X*I,d.y+X*E)},u.aK=Z_,u.aL=Rg,u.aM=function(d){let o=1/0,c=1/0,y=-1/0,E=-1/0;for(const I of d)o=Math.min(o,I.x),c=Math.min(c,I.y),y=Math.max(y,I.x),E=Math.max(E,I.y);return[o,c,y,E]},u.aN=fi,u.aO=He,u.aP=function(d,o,c,y,E=!1){if(!c[0]&&!c[1])return[0,0];const I=E?y==="map"?-d.bearingInRadians:0:y==="viewport"?d.bearingInRadians:0;if(I){const N=Math.sin(I),F=Math.cos(I);c=[c[0]*F-c[1]*N,c[0]*N+c[1]*F]}return[E?c[0]:He(o,c[0],d.zoom),E?c[1]:He(o,c[1],d.zoom)]},u.aR=Em,u.aS=Ba,u.aT=p0,u.aU=Jw,u.aV=Lr,u.aW=Fu,u.aX=Ee,u.aY=On,u.aZ=Qt,u.a_=jn,u.aa=Nm,u.ab=Wg,u.ac=Ac,u.ad=25,u.ae=Hv,u.af=d=>{const o=window.document.createElement("video");return o.muted=!0,new Promise((c=>{o.onloadstart=()=>{c(o)};for(const y of d){const E=window.document.createElement("source");mn(y)||(o.crossOrigin="Anonymous"),E.src=y,o.appendChild(E)}}))},u.ag=Ot,u.ah=function(){return en++},u.ai=s,u.aj=cl,u.ak=al,u.al=jd,u.am=Vv,u.an=function(d){const o={};if(d.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((c,y,E,I)=>{const N=E||I;return o[y]=!N||N.toLowerCase(),""})),o["max-age"]){const c=parseInt(o["max-age"],10);isNaN(c)?delete o["max-age"]:o["max-age"]=c}return o},u.ao=St,u.ap=85.051129,u.aq=hn,u.ar=function(d){return Math.pow(2,d)},u.as=ie,u.at=Yg,u.au=function(d){return Math.log(d)/Math.LN2},u.av=function(d){var o=d[0],c=d[1];return o*o+c*c},u.aw=function(d){if(!d.length)return new Set;const o=Math.max(...d.map((V=>V.canonical.z)));let c=1/0,y=-1/0,E=1/0,I=-1/0;const N=[];for(const V of d){const{x:X,y:ae,z:de}=V.canonical,ge=Math.pow(2,o-de),be=X*ge,Ae=ae*ge;N.push({id:V,x:be,y:Ae}),be<c&&(c=be),be>y&&(y=be),Ae<E&&(E=Ae),Ae>I&&(I=Ae)}const F=new Set;for(const V of N)V.x!==c&&V.x!==y&&V.y!==E&&V.y!==I||F.add(V.id);return F},u.ax=function(d,o){const c=Math.abs(2*d.wrap)-+(d.wrap<0),y=Math.abs(2*o.wrap)-+(o.wrap<0);return d.overscaledZ-o.overscaledZ||y-c||o.canonical.y-d.canonical.y||o.canonical.x-d.canonical.x},u.ay=class{constructor(d,o){this.max=d,this.onRemove=o,this.reset()}reset(){for(const d in this.data)for(const o of this.data[d])o.timeout&&clearTimeout(o.timeout),this.onRemove(o.value);return this.data={},this.order=[],this}add(d,o,c){const y=d.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const E={value:o,timeout:void 0};if(c!==void 0&&(E.timeout=setTimeout((()=>{this.remove(d,E)}),c)),this.data[y].push(E),this.order.push(y),this.order.length>this.max){const I=this._getAndRemoveByKey(this.order[0]);I&&this.onRemove(I)}return this}has(d){return d.wrapped().key in this.data}getAndRemove(d){return this.has(d)?this._getAndRemoveByKey(d.wrapped().key):null}_getAndRemoveByKey(d){const o=this.data[d].shift();return o.timeout&&clearTimeout(o.timeout),this.data[d].length===0&&delete this.data[d],this.order.splice(this.order.indexOf(d),1),o.value}getByKey(d){const o=this.data[d];return o?o[0].value:null}get(d){return this.has(d)?this.data[d.wrapped().key][0].value:null}remove(d,o){if(!this.has(d))return this;const c=d.wrapped().key,y=o===void 0?0:this.data[c].indexOf(o),E=this.data[c][y];return this.data[c].splice(y,1),E.timeout&&clearTimeout(E.timeout),this.data[c].length===0&&delete this.data[c],this.onRemove(E.value),this.order.splice(this.order.indexOf(c),1),this}setMaxSize(d){for(this.max=d;this.order.length>this.max;){const o=this._getAndRemoveByKey(this.order[0]);o&&this.onRemove(o)}return this}filter(d){const o=[];for(const c in this.data)for(const y of this.data[c])d(y.value)||o.push(y);for(const c of o)this.remove(c.value.tileID,c)}},u.az=function(d,o){let c=0,y=0;if(d.kind==="constant")y=d.layoutSize;else if(d.kind!=="source"){const{interpolationType:E,minZoom:I,maxZoom:N}=d,F=E?St(Os.interpolationFactor(E,o,I,N),0,1):0;d.kind==="camera"?y=qa.number(d.minSize,d.maxSize,F):c=F}return{uSizeT:c,uSize:y}},u.b=tr,u.b$=class extends $s{constructor(d,o){super(d,o),this.current=0}set(d){this.current!==d&&(this.current=d,this.gl.uniform1i(this.location,d))}},u.b0=pe,u.b1=se,u.b2=function(d){var o=new J(3);return o[0]=d[0],o[1]=d[1],o[2]=d[2],o},u.b3=function(d,o,c){return d[0]=o[0]-c[0],d[1]=o[1]-c[1],d[2]=o[2]-c[2],d},u.b4=function(d,o){var c=o[0],y=o[1],E=o[2],I=c*c+y*y+E*E;return I>0&&(I=1/Math.sqrt(I)),d[0]=o[0]*I,d[1]=o[1]*I,d[2]=o[2]*I,d},u.b5=ve,u.b6=function(d,o){return d[0]*o[0]+d[1]*o[1]+d[2]*o[2]},u.b7=function(d,o,c){return d[0]=o[0]*c[0],d[1]=o[1]*c[1],d[2]=o[2]*c[2],d[3]=o[3]*c[3],d},u.b8=oe,u.b9=function(d,o,c){const y=o[0]*c[0]+o[1]*c[1]+o[2]*c[2];return y===0?null:(-(d[0]*c[0]+d[1]*c[1]+d[2]*c[2])-c[3])/y},u.bA=function(){return new Float64Array(3)},u.bB=function(d,o,c,y){return d[0]=o[0]+c[0]*y,d[1]=o[1]+c[1]*y,d[2]=o[2]+c[2]*y,d},u.bC=he,u.bD=function(d,o,c){var y=c[0],E=c[1],I=c[2],N=c[3],F=o[0],V=o[1],X=o[2],ae=E*X-I*V,de=I*F-y*X,ge=y*V-E*F;return d[0]=F+N*(ae+=ae)+E*(ge+=ge)-I*(de+=de),d[1]=V+N*de+I*ae-y*ge,d[2]=X+N*ge+y*de-E*ae,d},u.bE=function(d,o,c){const y=(function(V){var X=V[3],ae=V[4],de=V[5],ge=V[6],be=V[7],Ae=V[8];return V[0]*(Ae*ae-de*be)+V[1]*(-Ae*X+de*ge)+V[2]*(be*X-ae*ge)})([d[0],d[1],d[2],o[0],o[1],o[2],c[0],c[1],c[2]]);if(y===0)return null;const E=ve([],[o[0],o[1],o[2]],[c[0],c[1],c[2]]),I=ve([],[c[0],c[1],c[2]],[d[0],d[1],d[2]]),N=ve([],[d[0],d[1],d[2]],[o[0],o[1],o[2]]),F=pe([],E,-d[3]);return se(F,F,pe([],I,-o[3])),se(F,F,pe([],N,-c[3])),pe(F,F,1/y),F},u.bF=v0,u.bG=function(){return new Float64Array(4)},u.bH=function(d,o,c,y){var E=[],I=[];return E[0]=o[0]-c[0],E[1]=o[1]-c[1],E[2]=o[2]-c[2],I[0]=E[0]*Math.cos(y)-E[1]*Math.sin(y),I[1]=E[0]*Math.sin(y)+E[1]*Math.cos(y),I[2]=E[2],d[0]=I[0]+c[0],d[1]=I[1]+c[1],d[2]=I[2]+c[2],d},u.bI=function(d,o,c,y){var E=[],I=[];return E[0]=o[0]-c[0],E[1]=o[1]-c[1],E[2]=o[2]-c[2],I[0]=E[0],I[1]=E[1]*Math.cos(y)-E[2]*Math.sin(y),I[2]=E[1]*Math.sin(y)+E[2]*Math.cos(y),d[0]=I[0]+c[0],d[1]=I[1]+c[1],d[2]=I[2]+c[2],d},u.bJ=function(d,o,c,y){var E=[],I=[];return E[0]=o[0]-c[0],E[1]=o[1]-c[1],E[2]=o[2]-c[2],I[0]=E[2]*Math.sin(y)+E[0]*Math.cos(y),I[1]=E[1],I[2]=E[2]*Math.cos(y)-E[0]*Math.sin(y),d[0]=I[0]+c[0],d[1]=I[1]+c[1],d[2]=I[2]+c[2],d},u.bK=function(d,o,c){var y=Math.sin(c),E=Math.cos(c),I=o[0],N=o[1],F=o[2],V=o[3],X=o[8],ae=o[9],de=o[10],ge=o[11];return o!==d&&(d[4]=o[4],d[5]=o[5],d[6]=o[6],d[7]=o[7],d[12]=o[12],d[13]=o[13],d[14]=o[14],d[15]=o[15]),d[0]=I*E-X*y,d[1]=N*E-ae*y,d[2]=F*E-de*y,d[3]=V*E-ge*y,d[8]=I*y+X*E,d[9]=N*y+ae*E,d[10]=F*y+de*E,d[11]=V*y+ge*E,d},u.bL=function(d,o){const c=Re(d,360),y=Re(o,360),E=y-c,I=y>c?E-360:E+360;return Math.abs(E)<Math.abs(I)?E:I},u.bM=function(d){return d[0]=0,d[1]=0,d[2]=0,d},u.bN=function(d,o,c,y){const E=Math.sqrt(d*d+o*o),I=Math.sqrt(c*c+y*y);d/=E,o/=E,c/=I,y/=I;const N=Math.acos(d*c+o*y);return-o*c+d*y>0?N:-N},u.bO=function(d,o){const c=Re(d,2*Math.PI),y=Re(o,2*Math.PI);return Math.min(Math.abs(c-y),Math.abs(c-y+2*Math.PI),Math.abs(c-y-2*Math.PI))},u.bP=function(){const d={},o=Pt.$version;for(const c in Pt.$root){const y=Pt.$root[c];if(y.required){let E=null;E=c==="version"?o:y.type==="array"?[]:{},E!=null&&(d[c]=E)}}return d},u.bQ=Ct,u.bR=Fs,u.bS=function d(o,c){if(Array.isArray(o)){if(!Array.isArray(c)||o.length!==c.length)return!1;for(let y=0;y<o.length;y++)if(!d(o[y],c[y]))return!1;return!0}if(typeof o=="object"&&o!==null&&c!==null){if(typeof c!="object"||Object.keys(o).length!==Object.keys(c).length)return!1;for(const y in o)if(!d(o[y],c[y]))return!1;return!0}return o===c},u.bT=function(d){d=d.slice();const o=Object.create(null);for(let c=0;c<d.length;c++)o[d[c].id]=d[c];for(let c=0;c<d.length;c++)"ref"in d[c]&&(d[c]=Mr(d[c],o[d[c].ref]));return d},u.bU=function(d,o){if(d.type==="custom")return new vp(d,o);switch(d.type){case"background":return new y0(d,o);case"circle":return new zd(d,o);case"color-relief":return new Sv(d,o);case"fill":return new o0(d,o);case"fill-extrusion":return new No(d,o);case"heatmap":return new ox(d,o);case"hillshade":return new c_(d,o);case"line":return new yp(d,o);case"raster":return new El(d,o);case"symbol":return new qg(d,o)}},u.bV=d=>d.type==="raster",u.bW=Ge,u.bX=function(d,o){if(!d)return[{command:"setStyle",args:[o]}];let c=[];try{if(!Mn(d.version,o.version))return[{command:"setStyle",args:[o]}];Mn(d.center,o.center)||c.push({command:"setCenter",args:[o.center]}),Mn(d.state,o.state)||c.push({command:"setGlobalState",args:[o.state]}),Mn(d.centerAltitude,o.centerAltitude)||c.push({command:"setCenterAltitude",args:[o.centerAltitude]}),Mn(d.zoom,o.zoom)||c.push({command:"setZoom",args:[o.zoom]}),Mn(d.bearing,o.bearing)||c.push({command:"setBearing",args:[o.bearing]}),Mn(d.pitch,o.pitch)||c.push({command:"setPitch",args:[o.pitch]}),Mn(d.roll,o.roll)||c.push({command:"setRoll",args:[o.roll]}),Mn(d.sprite,o.sprite)||c.push({command:"setSprite",args:[o.sprite]}),Mn(d.glyphs,o.glyphs)||c.push({command:"setGlyphs",args:[o.glyphs]}),Mn(d.transition,o.transition)||c.push({command:"setTransition",args:[o.transition]}),Mn(d.light,o.light)||c.push({command:"setLight",args:[o.light]}),Mn(d.terrain,o.terrain)||c.push({command:"setTerrain",args:[o.terrain]}),Mn(d.sky,o.sky)||c.push({command:"setSky",args:[o.sky]}),Mn(d.projection,o.projection)||c.push({command:"setProjection",args:[o.projection]});const y={},E=[];(function(N,F,V,X){let ae;for(ae in F=F||{},N=N||{})Object.prototype.hasOwnProperty.call(N,ae)&&(Object.prototype.hasOwnProperty.call(F,ae)||Tr(ae,V,X));for(ae in F)Object.prototype.hasOwnProperty.call(F,ae)&&(Object.prototype.hasOwnProperty.call(N,ae)?Mn(N[ae],F[ae])||(N[ae].type==="geojson"&&F[ae].type==="geojson"&&Xr(N,F,ae)?on(V,{command:"setGeoJSONSourceData",args:[ae,F[ae].data]}):Ir(ae,F,V,X)):Wr(ae,F,V))})(d.sources,o.sources,E,y);const I=[];d.layers&&d.layers.forEach((N=>{"source"in N&&y[N.source]?c.push({command:"removeLayer",args:[N.id]}):I.push(N)})),c=c.concat(E),(function(N,F,V){F=F||[];const X=(N=N||[]).map(Ft),ae=F.map(Ft),de=N.reduce(Yt,{}),ge=F.reduce(Yt,{}),be=X.slice(),Ae=Object.create(null);let De,Fe,Ye,vt,Xe;for(let at=0,Et=0;at<X.length;at++)De=X[at],Object.prototype.hasOwnProperty.call(ge,De)?Et++:(on(V,{command:"removeLayer",args:[De]}),be.splice(be.indexOf(De,Et),1));for(let at=0,Et=0;at<ae.length;at++)De=ae[ae.length-1-at],be[be.length-1-at]!==De&&(Object.prototype.hasOwnProperty.call(de,De)?(on(V,{command:"removeLayer",args:[De]}),be.splice(be.lastIndexOf(De,be.length-Et),1)):Et++,vt=be[be.length-at],on(V,{command:"addLayer",args:[ge[De],vt]}),be.splice(be.length-at,0,De),Ae[De]=!0);for(let at=0;at<ae.length;at++)if(De=ae[at],Fe=de[De],Ye=ge[De],!Ae[De]&&!Mn(Fe,Ye))if(Mn(Fe.source,Ye.source)&&Mn(Fe["source-layer"],Ye["source-layer"])&&Mn(Fe.type,Ye.type)){for(Xe in yt(Fe.layout,Ye.layout,V,De,null,"setLayoutProperty"),yt(Fe.paint,Ye.paint,V,De,null,"setPaintProperty"),Mn(Fe.filter,Ye.filter)||on(V,{command:"setFilter",args:[De,Ye.filter]}),Mn(Fe.minzoom,Ye.minzoom)&&Mn(Fe.maxzoom,Ye.maxzoom)||on(V,{command:"setLayerZoomRange",args:[De,Ye.minzoom,Ye.maxzoom]}),Fe)Object.prototype.hasOwnProperty.call(Fe,Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&(Xe.indexOf("paint.")===0?yt(Fe[Xe],Ye[Xe],V,De,Xe.slice(6),"setPaintProperty"):Mn(Fe[Xe],Ye[Xe])||on(V,{command:"setLayerProperty",args:[De,Xe,Ye[Xe]]}));for(Xe in Ye)Object.prototype.hasOwnProperty.call(Ye,Xe)&&!Object.prototype.hasOwnProperty.call(Fe,Xe)&&Xe!=="layout"&&Xe!=="paint"&&Xe!=="filter"&&Xe!=="metadata"&&Xe!=="minzoom"&&Xe!=="maxzoom"&&(Xe.indexOf("paint.")===0?yt(Fe[Xe],Ye[Xe],V,De,Xe.slice(6),"setPaintProperty"):Mn(Fe[Xe],Ye[Xe])||on(V,{command:"setLayerProperty",args:[De,Xe,Ye[Xe]]}))}else on(V,{command:"removeLayer",args:[De]}),vt=be[be.lastIndexOf(De)+1],on(V,{command:"addLayer",args:[Ye,vt]})})(I,o.layers,c)}catch(y){console.warn("Unable to compute style diff:",y),c=[{command:"setStyle",args:[o]}]}return c},u.bY=function(d){const o=[],c=d.id;return c===void 0&&o.push({message:`layers.${c}: missing required property "id"`}),d.render===void 0&&o.push({message:`layers.${c}: missing required method "render"`}),d.renderingMode&&d.renderingMode!=="2d"&&d.renderingMode!=="3d"&&o.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),o},u.bZ=zt,u.b_=rn,u.ba=Me,u.bb=function(d,o,c){return d[0]=o[0]*c,d[1]=o[1]*c,d[2]=o[2]*c,d[3]=o[3]*c,d},u.bc=function(d,o){return d[0]*o[0]+d[1]*o[1]+d[2]*o[2]+d[3]},u.bd=Ii,u.be=Zo,u.bf=function(d,o,c,y,E){var I=1/Math.tan(o/2);if(d[0]=I/c,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=I,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[11]=-1,d[12]=0,d[13]=0,d[15]=0,E!=null&&E!==1/0){var N=1/(y-E);d[10]=(E+y)*N,d[14]=2*E*y*N}else d[10]=-1,d[14]=-2*y;return d},u.bg=function(d){var o=new J(16);return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o[4]=d[4],o[5]=d[5],o[6]=d[6],o[7]=d[7],o[8]=d[8],o[9]=d[9],o[10]=d[10],o[11]=d[11],o[12]=d[12],o[13]=d[13],o[14]=d[14],o[15]=d[15],o},u.bh=function(d,o,c){var y=Math.sin(c),E=Math.cos(c),I=o[0],N=o[1],F=o[2],V=o[3],X=o[4],ae=o[5],de=o[6],ge=o[7];return o!==d&&(d[8]=o[8],d[9]=o[9],d[10]=o[10],d[11]=o[11],d[12]=o[12],d[13]=o[13],d[14]=o[14],d[15]=o[15]),d[0]=I*E+X*y,d[1]=N*E+ae*y,d[2]=F*E+de*y,d[3]=V*E+ge*y,d[4]=X*E-I*y,d[5]=ae*E-N*y,d[6]=de*E-F*y,d[7]=ge*E-V*y,d},u.bi=function(d,o,c){var y=Math.sin(c),E=Math.cos(c),I=o[4],N=o[5],F=o[6],V=o[7],X=o[8],ae=o[9],de=o[10],ge=o[11];return o!==d&&(d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],d[12]=o[12],d[13]=o[13],d[14]=o[14],d[15]=o[15]),d[4]=I*E+X*y,d[5]=N*E+ae*y,d[6]=F*E+de*y,d[7]=V*E+ge*y,d[8]=X*E-I*y,d[9]=ae*E-N*y,d[10]=de*E-F*y,d[11]=ge*E-V*y,d},u.bj=function(){const d=new Float32Array(16);return ie(d),d},u.bk=function(){const d=new Float64Array(16);return ie(d),d},u.bl=function(){return new Float64Array(16)},u.bm=function(d,o,c){const y=new Float64Array(4);return he(y,d,o-90,c),y},u.bn=function(d,o,c,y){var E,I,N,F,V,X=o[0],ae=o[1],de=o[2],ge=o[3],be=c[0],Ae=c[1],De=c[2],Fe=c[3];return(I=X*be+ae*Ae+de*De+ge*Fe)<0&&(I=-I,be=-be,Ae=-Ae,De=-De,Fe=-Fe),1-I>Y?(E=Math.acos(I),N=Math.sin(E),F=Math.sin((1-y)*E)/N,V=Math.sin(y*E)/N):(F=1-y,V=y),d[0]=F*X+V*be,d[1]=F*ae+V*Ae,d[2]=F*de+V*De,d[3]=F*ge+V*Fe,d},u.bo=function(d){const o=new Float64Array(9);(function(I,N){var F=N[0],V=N[1],X=N[2],ae=N[3],de=F+F,ge=V+V,be=X+X,Ae=F*de,De=V*de,Fe=V*ge,Ye=X*de,vt=X*ge,Xe=X*be,at=ae*de,Et=ae*ge,kt=ae*be;I[0]=1-Fe-Xe,I[3]=De-kt,I[6]=Ye+Et,I[1]=De+kt,I[4]=1-Ae-Xe,I[7]=vt-at,I[2]=Ye-Et,I[5]=vt+at,I[8]=1-Ae-Fe})(o,d);const c=jn(-Math.asin(St(o[2],-1,1)));let y,E;return Math.hypot(o[5],o[8])<.001?(y=0,E=-jn(Math.atan2(o[3],o[4]))):(y=jn(o[5]===0&&o[8]===0?0:Math.atan2(o[5],o[8])),E=jn(o[1]===0&&o[0]===0?0:Math.atan2(o[1],o[0]))),{roll:y,pitch:c+90,bearing:E}},u.bp=function(d,o){return d.roll==o.roll&&d.pitch==o.pitch&&d.bearing==o.bearing},u.bq=Jr,u.br=Lu,u.bs=mm,u.bt=ki,u.bu=js,u.bv=je,u.bw=Ze,u.bx=li,u.by=function(d,o,c,y,E){return je(y,E,St((d-o)/(c-o),0,1))},u.bz=Re,u.c=dt,u.c$=class{constructor(d){this._marks={start:[d.url,"start"].join("#"),end:[d.url,"end"].join("#"),measure:d.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let d=performance.getEntriesByName(this._marks.measure);return d.length===0&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),d=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),d}},u.c0=bc,u.c1=class extends $s{constructor(d,o){super(d,o),this.current=Ag}set(d){if(d[12]!==this.current[12]||d[0]!==this.current[0])return this.current=d,void this.gl.uniformMatrix4fv(this.location,!1,d);for(let o=1;o<16;o++)if(d[o]!==this.current[o]){this.current=d,this.gl.uniformMatrix4fv(this.location,!1,d);break}}},u.c2=Fl,u.c3=class extends $s{constructor(d,o){super(d,o),this.current=[0,0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]&&d[2]===this.current[2]||(this.current=d,this.gl.uniform3f(this.location,d[0],d[1],d[2]))}},u.c4=class extends $s{constructor(d,o){super(d,o),this.current=[0,0]}set(d){d[0]===this.current[0]&&d[1]===this.current[1]||(this.current=d,this.gl.uniform2f(this.location,d[0],d[1]))}},u.c5=ne,u.c6=function(d,o){var c=Math.sin(o),y=Math.cos(o);return d[0]=y,d[1]=c,d[2]=0,d[3]=-c,d[4]=y,d[5]=0,d[6]=0,d[7]=0,d[8]=1,d},u.c7=function(d,o,c){var y=o[0],E=o[1],I=o[2];return d[0]=y*c[0]+E*c[3]+I*c[6],d[1]=y*c[1]+E*c[4]+I*c[7],d[2]=y*c[2]+E*c[5]+I*c[8],d},u.c8=function(d,o,c,y,E,I,N){var F=1/(o-c),V=1/(y-E),X=1/(I-N);return d[0]=-2*F,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=-2*V,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=2*X,d[11]=0,d[12]=(o+c)*F,d[13]=(E+y)*V,d[14]=(N+I)*X,d[15]=1,d},u.c9=class extends $s{constructor(d,o){super(d,o),this.current=new Array}set(d){if(d!=this.current){this.current=d;const o=new Float32Array(4*d.length);for(let c=0;c<d.length;c++)o[4*c]=d[c].r,o[4*c+1]=d[c].g,o[4*c+2]=d[c].b,o[4*c+3]=d[c].a;this.gl.uniform4fv(this.location,o)}}},u.cA=function(d,o){return Oe[o]&&(d instanceof MouseEvent||d instanceof WheelEvent)},u.cB=function(d,o){return _t[o]&&"touches"in d},u.cC=function(d){return _t[d]||Oe[d]},u.cD=function(d,o,c){var y=o[0],E=o[1];return d[0]=c[0]*y+c[4]*E+c[12],d[1]=c[1]*y+c[5]*E+c[13],d},u.cE=function(d,o){const{x:c,y}=Wg.fromLngLat(o);return!(d<0||d>25||y<0||y>=1||c<0||c>=1)},u.cF=function(d,o){return d[0]=o[0],d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=o[1],d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=o[2],d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1,d},u.cG=class extends Ef{},u.cH=Hn,u.cJ=xt,u.cK=function(d,o){dt.REGISTERED_PROTOCOLS[d]=o},u.cL=function(d){delete dt.REGISTERED_PROTOCOLS[d]},u.cM=function(d,o){const c={};for(let E=0;E<d.length;E++){const I=o&&o[d[E].id]||Rd(d[E]);o&&(o[d[E].id]=I);let N=c[I];N||(N=c[I]=[]),N.push(d[E])}const y=[];for(const E in c)y.push(c[E]);return y},u.cN=or,u.cO=Xg,u.cP=zl,u.cQ=Fv,u.cR=function(d){d.bucket.createArrays(),d.bucket.tilePixelRatio=Be/(512*d.bucket.overscaling),d.bucket.compareText={},d.bucket.iconsNeedLinear=!1;const o=d.bucket.layers[0],c=o.layout,y=o._unevaluatedLayout._values,E={layoutIconSize:y["icon-size"].possiblyEvaluate(new Ra(d.bucket.zoom+1),d.canonical),layoutTextSize:y["text-size"].possiblyEvaluate(new Ra(d.bucket.zoom+1),d.canonical),textMaxSize:y["text-size"].possiblyEvaluate(new Ra(18))};if(d.bucket.textSizeData.kind==="composite"){const{minZoom:X,maxZoom:ae}=d.bucket.textSizeData;E.compositeTextSizes=[y["text-size"].possiblyEvaluate(new Ra(X),d.canonical),y["text-size"].possiblyEvaluate(new Ra(ae),d.canonical)]}if(d.bucket.iconSizeData.kind==="composite"){const{minZoom:X,maxZoom:ae}=d.bucket.iconSizeData;E.compositeIconSizes=[y["icon-size"].possiblyEvaluate(new Ra(X),d.canonical),y["icon-size"].possiblyEvaluate(new Ra(ae),d.canonical)]}const I=c.get("text-line-height")*fi,N=c.get("text-rotation-alignment")!=="viewport"&&c.get("symbol-placement")!=="point",F=c.get("text-keep-upright"),V=c.get("text-size");for(const X of d.bucket.features){const ae=c.get("text-font").evaluate(X,{},d.canonical).join(","),de=V.evaluate(X,{},d.canonical),ge=E.layoutTextSize.evaluate(X,{},d.canonical),be=E.layoutIconSize.evaluate(X,{},d.canonical),Ae={horizontal:{},vertical:void 0},De=X.text;let Fe,Ye=[0,0];if(De){const at=De.toString(),Et=c.get("text-letter-spacing").evaluate(X,{},d.canonical)*fi,kt=au(at)?Et:0,tn=c.get("text-anchor").evaluate(X,{},d.canonical),Sn=Ea(o,X,d.canonical);if(!Sn){const Un=c.get("text-radial-offset").evaluate(X,{},d.canonical);Ye=Un?Hr(tn,[Un*fi,ri]):c.get("text-offset").evaluate(X,{},d.canonical).map((bn=>bn*fi))}let yn=N?"center":c.get("text-justify").evaluate(X,{},d.canonical);const Ln=c.get("symbol-placement")==="point"?c.get("text-max-width").evaluate(X,{},d.canonical)*fi:1/0,ar=()=>{d.bucket.allowVerticalPlacement&&Iu(at)&&(Ae.vertical=hi(De,d.glyphMap,d.glyphPositions,d.imagePositions,ae,Ln,I,tn,"left",kt,Ye,u.aA.vertical,!0,ge,de))};if(!N&&Sn){const Un=new Set;if(yn==="auto")for(let un=0;un<Sn.values.length;un+=2)Un.add(Ba(Sn.values[un]));else Un.add(yn);let bn=!1;for(const un of Un)if(!Ae.horizontal[un])if(bn)Ae.horizontal[un]=Ae.horizontal[0];else{const vr=hi(De,d.glyphMap,d.glyphPositions,d.imagePositions,ae,Ln,I,"center",un,kt,Ye,u.aA.horizontal,!1,ge,de);vr&&(Ae.horizontal[un]=vr,bn=vr.positionedLines.length===1)}ar()}else{yn==="auto"&&(yn=Ba(tn));const Un=hi(De,d.glyphMap,d.glyphPositions,d.imagePositions,ae,Ln,I,tn,yn,kt,Ye,u.aA.horizontal,!1,ge,de);Un&&(Ae.horizontal[yn]=Un),ar(),Iu(at)&&N&&F&&(Ae.vertical=hi(De,d.glyphMap,d.glyphPositions,d.imagePositions,ae,Ln,I,tn,yn,kt,Ye,u.aA.vertical,!1,ge,de))}}let vt=!1;if(X.icon&&X.icon.name){const at=d.imageMap[X.icon.name];at&&(Fe=xm(d.imagePositions[X.icon.name],c.get("icon-offset").evaluate(X,{},d.canonical),c.get("icon-anchor").evaluate(X,{},d.canonical)),vt=!!at.sdf,d.bucket.sdfIcons===void 0?d.bucket.sdfIcons=vt:d.bucket.sdfIcons!==vt&&_n("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(at.pixelRatio!==d.bucket.pixelRatio||c.get("icon-rotate").constantOr(1)!==0)&&(d.bucket.iconsNeedLinear=!0))}const Xe=Px(Ae.horizontal)||Ae.vertical;d.bucket.iconsInText=!!Xe&&Xe.iconsInText,(Xe||Fe)&&pi(d.bucket,X,Ae,Fe,d.imageMap,E,ge,be,Ye,vt,d.canonical,d.subdivisionGranularity)}d.showCollisionBoxes&&d.bucket.generateCollisionDebugBuffers()},u.cS=Ec,u.cT=bi,u.cU=vm,u.cV=function(d){const o=new f0;return(function(c,y){for(const E in c.layers)y.writeMessage(3,ab,c.layers[E])})(d,o),o.finish()},u.cW=function(d,o,c,y,E,I){let N=Lx(d,o,c,E,0);return N=Lx(N,o,y,I,1),N},u.cX=class{constructor(d){this.maxEntries=d,this.map=new Map}get(d){const o=this.map.get(d);return o!==void 0&&(this.map.delete(d),this.map.set(d,o)),o}set(d,o){if(this.map.has(d))this.map.delete(d);else if(this.map.size>=this.maxEntries){const c=this.map.keys().next().value;this.map.delete(c)}this.map.set(d,o)}clear(){this.map.clear()}},u.cY=di,u.cZ=f0,u.c_=W_,u.ca=class extends $s{constructor(d,o){super(d,o),this.current=new Array}set(d){if(d!=this.current){this.current=d;const o=new Float32Array(d);this.gl.uniform1fv(this.location,o)}}},u.cb=class extends fm{},u.cc=c0,u.cd=class extends rd{},u.ce=l_,u.cf=function(d){return d<=1?1:Math.pow(2,Math.ceil(Math.log(d)/Math.LN2))},u.cg=t0,u.ch=function(d,o,c){var y=o[0],E=o[1],I=o[2],N=c[3]*y+c[7]*E+c[11]*I+c[15];return d[0]=(c[0]*y+c[4]*E+c[8]*I+c[12])/(N=N||1),d[1]=(c[1]*y+c[5]*E+c[9]*I+c[13])/N,d[2]=(c[2]*y+c[6]*E+c[10]*I+c[14])/N,d},u.ci=class extends lu{},u.cj=class extends sp{},u.ck=function(d,o){return d[0]===o[0]&&d[1]===o[1]&&d[2]===o[2]&&d[3]===o[3]&&d[4]===o[4]&&d[5]===o[5]&&d[6]===o[6]&&d[7]===o[7]&&d[8]===o[8]&&d[9]===o[9]&&d[10]===o[10]&&d[11]===o[11]&&d[12]===o[12]&&d[13]===o[13]&&d[14]===o[14]&&d[15]===o[15]},u.cl=function(d,o){var c=d[0],y=d[1],E=d[2],I=d[3],N=d[4],F=d[5],V=d[6],X=d[7],ae=d[8],de=d[9],ge=d[10],be=d[11],Ae=d[12],De=d[13],Fe=d[14],Ye=d[15],vt=o[0],Xe=o[1],at=o[2],Et=o[3],kt=o[4],tn=o[5],Sn=o[6],yn=o[7],Ln=o[8],ar=o[9],Un=o[10],bn=o[11],un=o[12],vr=o[13],mr=o[14],Sr=o[15];return Math.abs(c-vt)<=Y*Math.max(1,Math.abs(c),Math.abs(vt))&&Math.abs(y-Xe)<=Y*Math.max(1,Math.abs(y),Math.abs(Xe))&&Math.abs(E-at)<=Y*Math.max(1,Math.abs(E),Math.abs(at))&&Math.abs(I-Et)<=Y*Math.max(1,Math.abs(I),Math.abs(Et))&&Math.abs(N-kt)<=Y*Math.max(1,Math.abs(N),Math.abs(kt))&&Math.abs(F-tn)<=Y*Math.max(1,Math.abs(F),Math.abs(tn))&&Math.abs(V-Sn)<=Y*Math.max(1,Math.abs(V),Math.abs(Sn))&&Math.abs(X-yn)<=Y*Math.max(1,Math.abs(X),Math.abs(yn))&&Math.abs(ae-Ln)<=Y*Math.max(1,Math.abs(ae),Math.abs(Ln))&&Math.abs(de-ar)<=Y*Math.max(1,Math.abs(de),Math.abs(ar))&&Math.abs(ge-Un)<=Y*Math.max(1,Math.abs(ge),Math.abs(Un))&&Math.abs(be-bn)<=Y*Math.max(1,Math.abs(be),Math.abs(bn))&&Math.abs(Ae-un)<=Y*Math.max(1,Math.abs(Ae),Math.abs(un))&&Math.abs(De-vr)<=Y*Math.max(1,Math.abs(De),Math.abs(vr))&&Math.abs(Fe-mr)<=Y*Math.max(1,Math.abs(Fe),Math.abs(mr))&&Math.abs(Ye-Sr)<=Y*Math.max(1,Math.abs(Ye),Math.abs(Sr))},u.cm=function(d,o){return d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],d[4]=o[4],d[5]=o[5],d[6]=o[6],d[7]=o[7],d[8]=o[8],d[9]=o[9],d[10]=o[10],d[11]=o[11],d[12]=o[12],d[13]=o[13],d[14]=o[14],d[15]=o[15],d},u.cn=d=>d.type==="symbol",u.co=d=>d.type==="circle",u.cp=d=>d.type==="heatmap",u.cq=d=>d.type==="line",u.cr=d=>d.type==="fill",u.cs=d=>d.type==="fill-extrusion",u.ct=d=>d.type==="hillshade",u.cu=d=>d.type==="color-relief",u.cv=d=>d.type==="background",u.cw=d=>d.type==="custom",u.cx=Qe,u.cy=function(d,o,c){const y=_e(o.x-c.x,o.y-c.y),E=_e(d.x-c.x,d.y-c.y),I=Math.atan2(y[0]*E[1]-y[1]*E[0],(function(N,F){return N[0]*F[0]+N[1]*F[1]})(y,E));return jn(I)},u.cz=Pe,u.d=mn,u.d0=function(d,o,c,y,E){return i(this,void 0,void 0,(function*(){if(q())try{return yield lr(d,o,c,y,E)}catch{}return(function(I,N,F,V,X){const ae=I.width,de=I.height;sr&&xn||(sr=new OffscreenCanvas(ae,de),xn=sr.getContext("2d",{willReadFrequently:!0})),sr.width=ae,sr.height=de,xn.drawImage(I,0,0,ae,de);const ge=xn.getImageData(N,F,V,X);return xn.clearRect(0,0,ae,de),ge.data})(d,o,c,y,E)}))},u.d1=d_,u.d2=b,u.d3=class{constructor(d,o){this.layers={[Nm]:this},this.name=Nm,this.version=o?o.version:1,this.extent=o?o.extent:4096,this.length=d.length,this.features=d}feature(d){return new Mx(this.features[d],this.extent)}},u.d4=am,u.d5=Nu,u.e=We,u.f=d=>i(void 0,void 0,void 0,(function*(){if(d.byteLength===0)return createImageBitmap(new ImageData(1,1));const o=new Blob([new Uint8Array(d)],{type:"image/png"});try{return createImageBitmap(o)}catch(c){throw new Error(`Could not load image because of ${c.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}})),u.g=Ut,u.h=d=>new Promise(((o,c)=>{const y=new Image;y.onload=()=>{o(y),URL.revokeObjectURL(y.src),y.onload=null,window.requestAnimationFrame((()=>{y.src=Vt}))},y.onerror=()=>c(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const E=new Blob([new Uint8Array(d)],{type:"image/png"});y.src=d.byteLength?URL.createObjectURL(E):Vt})),u.i=pn,u.j=(d,o)=>sn(We(d,{type:"json"}),o),u.k=Xn,u.l=qn,u.m=sn,u.n=(d,o)=>sn(We(d,{type:"arrayBuffer"}),o),u.o=function(d){return new f0(d).readFields(A_,[])},u.p=Pv,u.q=function(d){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(d))},u.r=Nf,u.s=En,u.t=fo,u.u=Pt,u.v=np,u.w=_n,u.x=Pd,u.y=rp,u.z=_f})),a("worker",["./shared"],(function(u){class i{constructor(Oe,ke){this.keyCache={},Oe&&this.replace(Oe,ke)}replace(Oe,ke){this._layerConfigs={},this._layers={},this.update(Oe,[],ke)}update(Oe,ke,qe){for(const dt of Oe){this._layerConfigs[dt.id]=dt;const Ut=this._layers[dt.id]=u.bU(dt,qe);Ut._featureFilter=u.ak(Ut.filter,qe),this.keyCache[dt.id]&&delete this.keyCache[dt.id]}for(const dt of ke)delete this.keyCache[dt],delete this._layerConfigs[dt],delete this._layers[dt];this.familiesBySource={};const ut=u.cM(Object.values(this._layerConfigs),this.keyCache);for(const dt of ut){const Ut=dt.map((Vn=>this._layers[Vn.id])),Bt=Ut[0];if(Bt.visibility==="none")continue;const xt=Bt.source||"";let Ct=this.familiesBySource[xt];Ct||(Ct=this.familiesBySource[xt]={});const sn=Bt.sourceLayer||u.aa;let mn=Ct[sn];mn||(mn=Ct[sn]=[]),mn.push(Ut)}}}class m{constructor(Oe){const ke={},qe=[];for(const Bt in Oe){const xt=Oe[Bt],Ct=ke[Bt]={};for(const sn in xt){const mn=xt[+sn];if(!mn||mn.bitmap.width===0||mn.bitmap.height===0)continue;const Vn={x:0,y:0,w:mn.bitmap.width+2,h:mn.bitmap.height+2};qe.push(Vn),Ct[sn]={rect:Vn,metrics:mn.metrics}}}const{w:ut,h:dt}=u.p(qe),Ut=new u.r({width:ut||1,height:dt||1});for(const Bt in Oe){const xt=Oe[Bt];for(const Ct in xt){const sn=xt[+Ct];if(!sn||sn.bitmap.width===0||sn.bitmap.height===0)continue;const mn=ke[Bt][Ct].rect;u.r.copy(sn.bitmap,Ut,{x:0,y:0},{x:mn.x+1,y:mn.y+1},sn.bitmap)}}this.image=Ut,this.positions=ke}}u.cN("GlyphAtlas",m);class b{constructor(Oe){this.tileID=new u.a2(Oe.tileID.overscaledZ,Oe.tileID.wrap,Oe.tileID.canonical.z,Oe.tileID.canonical.x,Oe.tileID.canonical.y),this.uid=Oe.uid,this.zoom=Oe.zoom,this.pixelRatio=Oe.pixelRatio,this.tileSize=Oe.tileSize,this.source=Oe.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Oe.showCollisionBoxes,this.collectResourceTiming=!!Oe.collectResourceTiming,this.returnDependencies=!!Oe.returnDependencies,this.promoteId=Oe.promoteId,this.inFlightDependencies=[]}parse(Oe,ke,qe,ut,dt){return u._(this,void 0,void 0,(function*(){this.status="parsing",this.data=Oe,this.collisionBoxArray=new u.ai;const Ut=new u.cO(Object.keys(Oe.layers).sort()),Bt=new u.cP(this.tileID,this.promoteId);Bt.bucketLayerIDs=[];const xt={},Ct={featureIndex:Bt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:qe,subdivisionGranularity:dt},sn=ke.familiesBySource[this.source];for(const Xr in sn){const yt=Oe.layers[Xr];if(!yt)continue;yt.version===1&&u.w(`Vector tile source "${this.source}" layer "${Xr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ft=Ut.encode(Xr),Yt=[];for(let Ot=0;Ot<yt.length;Ot++){const Pn=yt.feature(Ot),nr=Bt.getId(Pn,Xr);Yt.push({feature:Pn,id:nr,index:Ot,sourceLayerIndex:Ft})}for(const Ot of sn[Xr]){const Pn=Ot[0];Pn.source!==this.source&&u.w(`layer.source = ${Pn.source} does not equal this.source = ${this.source}`),Pn.isHidden(this.zoom,!0)||(_(Ot,this.zoom,qe),(xt[Pn.id]=Pn.createBucket({index:Bt.bucketLayerIDs.length,layers:Ot,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ft,sourceID:this.source})).populate(Yt,Ct,this.tileID.canonical),Bt.bucketLayerIDs.push(Ot.map((nr=>nr.id))))}}const mn=u.bZ(Ct.glyphDependencies,(Xr=>Object.keys(Xr).map(Number)));this.inFlightDependencies.forEach((Xr=>Xr?.abort())),this.inFlightDependencies=[];let Vn=Promise.resolve({});if(Object.keys(mn).length){const Xr=new AbortController;this.inFlightDependencies.push(Xr),Vn=ut.sendAsync({type:"GG",data:{stacks:mn,source:this.source,tileID:this.tileID,type:"glyphs"}},Xr)}const gn=Object.keys(Ct.iconDependencies);let qn=Promise.resolve({});if(gn.length){const Xr=new AbortController;this.inFlightDependencies.push(Xr),qn=ut.sendAsync({type:"GI",data:{icons:gn,source:this.source,tileID:this.tileID,type:"icons"}},Xr)}const Xn=Object.keys(Ct.patternDependencies);let Qn=Promise.resolve({});if(Xn.length){const Xr=new AbortController;this.inFlightDependencies.push(Xr),Qn=ut.sendAsync({type:"GI",data:{icons:Xn,source:this.source,tileID:this.tileID,type:"patterns"}},Xr)}const Pt=Ct.dashDependencies;let wn=Promise.resolve({});if(Object.keys(Pt).length){const Xr=new AbortController;this.inFlightDependencies.push(Xr),wn=ut.sendAsync({type:"GDA",data:{dashes:Pt}},Xr)}const[Mr,Mn,on,Wr]=yield Promise.all([Vn,qn,Qn,wn]),Tr=new m(Mr),Ir=new u.cQ(Mn,on);for(const Xr in xt){const yt=xt[Xr];yt instanceof u.aj?(_(yt.layers,this.zoom,qe),u.cR({bucket:yt,glyphMap:Mr,glyphPositions:Tr.positions,imageMap:Mn,imagePositions:Ir.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:Ct.subdivisionGranularity})):yt.hasDependencies&&(yt instanceof u.cS||yt instanceof u.cT||yt instanceof u.cU)&&(_(yt.layers,this.zoom,qe),yt.addFeatures(Ct,this.tileID.canonical,Ir.patternPositions,Wr))}return this.status="done",{buckets:Object.values(xt).filter((Xr=>!Xr.isEmpty())),featureIndex:Bt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Tr.image,imageAtlas:Ir,dashPositions:Wr,glyphMap:this.returnDependencies?Mr:null,iconMap:this.returnDependencies?Mn:null,glyphPositions:this.returnDependencies?Tr.positions:null}}))}}function _(_t,Oe,ke){const qe=new u.H(Oe);for(const ut of _t)ut.recalculate(qe,ke)}class w{constructor(Oe,ke,qe,ut,dt){this.type=Oe,this.properties=qe||{},this.extent=dt,this.pointsArray=ke,this.id=ut}loadGeometry(){return this.pointsArray.map((Oe=>Oe.map((ke=>new u.P(ke.x,ke.y)))))}}class M{constructor(Oe,ke,qe){this.version=2,this._myFeatures=Oe,this.name=ke,this.length=Oe.length,this.extent=qe}feature(Oe){return this._myFeatures[Oe]}}class P{constructor(){this.layers={}}addLayer(Oe){this.layers[Oe.name]=Oe}}function j(_t){let Oe=u.cV(_t);return Oe.byteOffset===0&&Oe.byteLength===Oe.buffer.byteLength||(Oe=new Uint8Array(Oe)),{vectorTile:_t,rawData:Oe.buffer}}function G(_t,Oe,ke){const{extent:qe}=_t,ut=Math.pow(2,ke.z-Oe.z),dt=(ke.x-Oe.x*ut)*qe,Ut=(ke.y-Oe.y*ut)*qe,Bt=[];for(let xt=0;xt<_t.length;xt++){const Ct=_t.feature(xt);let sn=Ct.loadGeometry();for(const Vn of sn)for(const gn of Vn)gn.x=gn.x*ut-dt,gn.y=gn.y*ut-Ut;const mn=128;sn=u.cW(sn,Ct.type,-mn,-mn,qe+mn,qe+mn),sn.length!==0&&Bt.push(new w(Ct.type,sn,Ct.properties,Ct.id,qe))}return new M(Bt,_t.name,qe)}class z{constructor(Oe,ke,qe){this.actor=Oe,this.layerIndex=ke,this.availableImages=qe,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new u.cX(1e3)}loadVectorTile(Oe,ke){return u._(this,void 0,void 0,(function*(){const qe=yield u.n(Oe.request,ke);try{return{vectorTile:Oe.encoding!=="mlt"?new u.cY(new u.cZ(qe.data)):new u.c_(qe.data),rawData:qe.data,cacheControl:qe.cacheControl,expires:qe.expires}}catch(ut){const dt=new Uint8Array(qe.data);let Ut=`Unable to parse the tile at ${Oe.request.url}, `;throw Ut+=dt[0]===31&&dt[1]===139?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${ut.message}`,new Error(Ut)}}))}loadTile(Oe){return u._(this,void 0,void 0,(function*(){const{uid:ke,overzoomParameters:qe}=Oe;qe&&(Oe.request=qe.overzoomRequest);const ut=!!(Oe&&Oe.request&&Oe.request.collectResourceTiming)&&new u.c$(Oe.request),dt=new b(Oe);this.loading[ke]=dt;const Ut=new AbortController;dt.abort=Ut;try{const Bt=yield this.loadVectorTile(Oe,Ut);if(delete this.loading[ke],!Bt)return null;if(qe){const Vn=this._getOverzoomTile(Oe,Bt.vectorTile);Bt.rawData=Vn.rawData,Bt.vectorTile=Vn.vectorTile}const xt=Bt.rawData,Ct={};Bt.expires&&(Ct.expires=Bt.expires),Bt.cacheControl&&(Ct.cacheControl=Bt.cacheControl);const sn={};if(ut){const Vn=ut.finish();Vn&&(sn.resourceTiming=JSON.parse(JSON.stringify(Vn)))}dt.vectorTile=Bt.vectorTile;const mn=dt.parse(Bt.vectorTile,this.layerIndex,this.availableImages,this.actor,Oe.subdivisionGranularity);this.loaded[ke]=dt,this.fetching[ke]={rawTileData:xt,cacheControl:Ct,resourceTiming:sn};try{const Vn=yield mn;return u.e({rawTileData:xt.slice(0),encoding:Oe.encoding},Vn,Ct,sn)}finally{delete this.fetching[ke]}}catch(Bt){throw delete this.loading[ke],dt.status="done",this.loaded[ke]=dt,Bt}}))}_getOverzoomTile(Oe,ke){const{tileID:qe,source:ut,overzoomParameters:dt}=Oe,{maxZoomTileID:Ut}=dt,Bt=`${Ut.key}_${qe.key}`,xt=this.overzoomedTileResultCache.get(Bt);if(xt)return xt;const Ct=new P,sn=this.layerIndex.familiesBySource[ut];for(const Vn in sn){const gn=ke.layers[Vn];if(!gn)continue;const qn=G(gn,Ut,qe.canonical);qn.length>0&&Ct.addLayer(qn)}const mn=j(Ct);return this.overzoomedTileResultCache.set(Bt,mn),mn}reloadTile(Oe){return u._(this,void 0,void 0,(function*(){const ke=Oe.uid;if(!this.loaded||!this.loaded[ke])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const qe=this.loaded[ke];if(qe.showCollisionBoxes=Oe.showCollisionBoxes,qe.status==="parsing"){const ut=yield qe.parse(qe.vectorTile,this.layerIndex,this.availableImages,this.actor,Oe.subdivisionGranularity);let dt;if(this.fetching[ke]){const{rawTileData:Ut,cacheControl:Bt,resourceTiming:xt}=this.fetching[ke];delete this.fetching[ke],dt=u.e({rawTileData:Ut.slice(0),encoding:Oe.encoding},ut,Bt,xt)}else dt=ut;return dt}if(qe.status==="done"&&qe.vectorTile)return qe.parse(qe.vectorTile,this.layerIndex,this.availableImages,this.actor,Oe.subdivisionGranularity)}))}abortTile(Oe){return u._(this,void 0,void 0,(function*(){const ke=this.loading,qe=Oe.uid;ke&&ke[qe]&&ke[qe].abort&&(ke[qe].abort.abort(),delete ke[qe])}))}removeTile(Oe){return u._(this,void 0,void 0,(function*(){this.loaded&&this.loaded[Oe.uid]&&delete this.loaded[Oe.uid]}))}}class q{constructor(){this.loaded={}}loadTile(Oe){return u._(this,void 0,void 0,(function*(){const{uid:ke,encoding:qe,rawImageData:ut,redFactor:dt,greenFactor:Ut,blueFactor:Bt,baseShift:xt}=Oe,Ct=ut.width+2,sn=ut.height+2,mn=u.b(ut)?new u.R({width:Ct,height:sn},yield u.d0(ut,-1,-1,Ct,sn)):ut,Vn=new u.d1(ke,mn,qe,dt,Ut,Bt,xt);return this.loaded=this.loaded||{},this.loaded[ke]=Vn,Vn}))}removeTile(Oe){const ke=this.loaded,qe=Oe.uid;ke&&ke[qe]&&delete ke[qe]}}var Y,J,ne=(function(){if(J)return Y;function _t(ke,qe){if(ke.length!==0){Oe(ke[0],qe);for(var ut=1;ut<ke.length;ut++)Oe(ke[ut],!qe)}}function Oe(ke,qe){for(var ut=0,dt=0,Ut=0,Bt=ke.length,xt=Bt-1;Ut<Bt;xt=Ut++){var Ct=(ke[Ut][0]-ke[xt][0])*(ke[xt][1]+ke[Ut][1]),sn=ut+Ct;dt+=Math.abs(ut)>=Math.abs(Ct)?ut-sn+Ct:Ct-sn+ut,ut=sn}ut+dt>=0!=!!qe&&ke.reverse()}return J=1,Y=function ke(qe,ut){var dt,Ut=qe&&qe.type;if(Ut==="FeatureCollection")for(dt=0;dt<qe.features.length;dt++)ke(qe.features[dt],ut);else if(Ut==="GeometryCollection")for(dt=0;dt<qe.geometries.length;dt++)ke(qe.geometries[dt],ut);else if(Ut==="Feature")ke(qe.geometry,ut);else if(Ut==="Polygon")_t(qe.coordinates,ut);else if(Ut==="MultiPolygon")for(dt=0;dt<qe.coordinates.length;dt++)_t(qe.coordinates[dt],ut);return qe}})(),ie=u.d2(ne);const ue={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:_t=>_t},oe=Math.fround||(K=new Float32Array(1),_t=>(K[0]=+_t,K[0]));var K;class se{constructor(Oe){this.options=Object.assign(Object.create(ue),Oe),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(Oe){const{log:ke,minZoom:qe,maxZoom:ut}=this.options;ke&&console.time("total time");const dt=`prepare ${Oe.length} points`;ke&&console.time(dt),this.points=Oe;const Ut=[];for(let xt=0;xt<Oe.length;xt++){const Ct=Oe[xt];if(!Ct.geometry)continue;const[sn,mn]=Ct.geometry.coordinates,Vn=oe(Te(sn)),gn=oe(Me(mn));Ut.push(Vn,gn,1/0,xt,-1,1),this.options.reduce&&Ut.push(0)}let Bt=this.trees[ut+1]=this._createTree(Ut);ke&&console.timeEnd(dt);for(let xt=ut;xt>=qe;xt--){const Ct=+Date.now();Bt=this.trees[xt]=this._createTree(this._cluster(Bt,xt)),ke&&console.log("z%d: %d clusters in %dms",xt,Bt.numItems,+Date.now()-Ct)}return ke&&console.timeEnd("total time"),this}getClusters(Oe,ke){let qe=((Oe[0]+180)%360+360)%360-180;const ut=Math.max(-90,Math.min(90,Oe[1]));let dt=Oe[2]===180?180:((Oe[2]+180)%360+360)%360-180;const Ut=Math.max(-90,Math.min(90,Oe[3]));if(Oe[2]-Oe[0]>=360)qe=-180,dt=180;else if(qe>dt){const mn=this.getClusters([qe,ut,180,Ut],ke),Vn=this.getClusters([-180,ut,dt,Ut],ke);return mn.concat(Vn)}const Bt=this.trees[this._limitZoom(ke)],xt=Bt.range(Te(qe),Me(Ut),Te(dt),Me(ut)),Ct=Bt.data,sn=[];for(const mn of xt){const Vn=this.stride*mn;sn.push(Ct[Vn+5]>1?pe(Ct,Vn,this.clusterProps):this.points[Ct[Vn+3]])}return sn}getChildren(Oe){const ke=this._getOriginId(Oe),qe=this._getOriginZoom(Oe),ut="No cluster with the specified id.",dt=this.trees[qe];if(!dt)throw new Error(ut);const Ut=dt.data;if(ke*this.stride>=Ut.length)throw new Error(ut);const Bt=this.options.radius/(this.options.extent*Math.pow(2,qe-1)),xt=dt.within(Ut[ke*this.stride],Ut[ke*this.stride+1],Bt),Ct=[];for(const sn of xt){const mn=sn*this.stride;Ut[mn+4]===Oe&&Ct.push(Ut[mn+5]>1?pe(Ut,mn,this.clusterProps):this.points[Ut[mn+3]])}if(Ct.length===0)throw new Error(ut);return Ct}getLeaves(Oe,ke,qe){const ut=[];return this._appendLeaves(ut,Oe,ke=ke||10,qe=qe||0,0),ut}getTile(Oe,ke,qe){const ut=this.trees[this._limitZoom(Oe)],dt=Math.pow(2,Oe),{extent:Ut,radius:Bt}=this.options,xt=Bt/Ut,Ct=(qe-xt)/dt,sn=(qe+1+xt)/dt,mn={features:[]};return this._addTileFeatures(ut.range((ke-xt)/dt,Ct,(ke+1+xt)/dt,sn),ut.data,ke,qe,dt,mn),ke===0&&this._addTileFeatures(ut.range(1-xt/dt,Ct,1,sn),ut.data,dt,qe,dt,mn),ke===dt-1&&this._addTileFeatures(ut.range(0,Ct,xt/dt,sn),ut.data,-1,qe,dt,mn),mn.features.length?mn:null}getClusterExpansionZoom(Oe){let ke=this._getOriginZoom(Oe)-1;for(;ke<=this.options.maxZoom;){const qe=this.getChildren(Oe);if(ke++,qe.length!==1)break;Oe=qe[0].properties.cluster_id}return ke}_appendLeaves(Oe,ke,qe,ut,dt){const Ut=this.getChildren(ke);for(const Bt of Ut){const xt=Bt.properties;if(xt&&xt.cluster?dt+xt.point_count<=ut?dt+=xt.point_count:dt=this._appendLeaves(Oe,xt.cluster_id,qe,ut,dt):dt<ut?dt++:Oe.push(Bt),Oe.length===qe)break}return dt}_createTree(Oe){const ke=new u.aU(Oe.length/this.stride|0,this.options.nodeSize,Float32Array);for(let qe=0;qe<Oe.length;qe+=this.stride)ke.add(Oe[qe],Oe[qe+1]);return ke.finish(),ke.data=Oe,ke}_addTileFeatures(Oe,ke,qe,ut,dt,Ut){for(const Bt of Oe){const xt=Bt*this.stride,Ct=ke[xt+5]>1;let sn,mn,Vn;if(Ct)sn=ve(ke,xt,this.clusterProps),mn=ke[xt],Vn=ke[xt+1];else{const Xn=this.points[ke[xt+3]];sn=Xn.properties;const[Qn,Pt]=Xn.geometry.coordinates;mn=Te(Qn),Vn=Me(Pt)}const gn={type:1,geometry:[[Math.round(this.options.extent*(mn*dt-qe)),Math.round(this.options.extent*(Vn*dt-ut))]],tags:sn};let qn;qn=Ct||this.options.generateId?ke[xt+3]:this.points[ke[xt+3]].id,qn!==void 0&&(gn.id=qn),Ut.features.push(gn)}}_limitZoom(Oe){return Math.max(this.options.minZoom,Math.min(Math.floor(+Oe),this.options.maxZoom+1))}_cluster(Oe,ke){const{radius:qe,extent:ut,reduce:dt,minPoints:Ut}=this.options,Bt=qe/(ut*Math.pow(2,ke)),xt=Oe.data,Ct=[],sn=this.stride;for(let mn=0;mn<xt.length;mn+=sn){if(xt[mn+2]<=ke)continue;xt[mn+2]=ke;const Vn=xt[mn],gn=xt[mn+1],qn=Oe.within(xt[mn],xt[mn+1],Bt),Xn=xt[mn+5];let Qn=Xn;for(const Pt of qn){const wn=Pt*sn;xt[wn+2]>ke&&(Qn+=xt[wn+5])}if(Qn>Xn&&Qn>=Ut){let Pt,wn=Vn*Xn,Mr=gn*Xn,Mn=-1;const on=(mn/sn<<5)+(ke+1)+this.points.length;for(const Wr of qn){const Tr=Wr*sn;if(xt[Tr+2]<=ke)continue;xt[Tr+2]=ke;const Ir=xt[Tr+5];wn+=xt[Tr]*Ir,Mr+=xt[Tr+1]*Ir,xt[Tr+4]=on,dt&&(Pt||(Pt=this._map(xt,mn,!0),Mn=this.clusterProps.length,this.clusterProps.push(Pt)),dt(Pt,this._map(xt,Tr)))}xt[mn+4]=on,Ct.push(wn/Qn,Mr/Qn,1/0,on,-1,Qn),dt&&Ct.push(Mn)}else{for(let Pt=0;Pt<sn;Pt++)Ct.push(xt[mn+Pt]);if(Qn>1)for(const Pt of qn){const wn=Pt*sn;if(!(xt[wn+2]<=ke)){xt[wn+2]=ke;for(let Mr=0;Mr<sn;Mr++)Ct.push(xt[wn+Mr])}}}}return Ct}_getOriginId(Oe){return Oe-this.points.length>>5}_getOriginZoom(Oe){return(Oe-this.points.length)%32}_map(Oe,ke,qe){if(Oe[ke+5]>1){const Ut=this.clusterProps[Oe[ke+6]];return qe?Object.assign({},Ut):Ut}const ut=this.points[Oe[ke+3]].properties,dt=this.options.map(ut);return qe&&dt===ut?Object.assign({},dt):dt}}function pe(_t,Oe,ke){return{type:"Feature",id:_t[Oe+3],properties:ve(_t,Oe,ke),geometry:{type:"Point",coordinates:[(qe=_t[Oe],360*(qe-.5)),xe(_t[Oe+1])]}};var qe}function ve(_t,Oe,ke){const qe=_t[Oe+5],ut=qe>=1e4?`${Math.round(qe/1e3)}k`:qe>=1e3?Math.round(qe/100)/10+"k":qe,dt=_t[Oe+6],Ut=dt===-1?{}:Object.assign({},ke[dt]);return Object.assign(Ut,{cluster:!0,cluster_id:_t[Oe+3],point_count:qe,point_count_abbreviated:ut})}function Te(_t){return _t/360+.5}function Me(_t){const Oe=Math.sin(_t*Math.PI/180),ke=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return ke<0?0:ke>1?1:ke}function xe(_t){const Oe=(180-360*_t)*Math.PI/180;return 360*Math.atan(Math.exp(Oe))/Math.PI-90}function Se(_t,Oe,ke,qe){let ut=qe;const dt=Oe+(ke-Oe>>1);let Ut,Bt=ke-Oe;const xt=_t[Oe],Ct=_t[Oe+1],sn=_t[ke],mn=_t[ke+1];for(let Vn=Oe+3;Vn<ke;Vn+=3){const gn=he(_t[Vn],_t[Vn+1],xt,Ct,sn,mn);if(gn>ut)Ut=Vn,ut=gn;else if(gn===ut){const qn=Math.abs(Vn-dt);qn<Bt&&(Ut=Vn,Bt=qn)}}ut>qe&&(Ut-Oe>3&&Se(_t,Oe,Ut,qe),_t[Ut+2]=ut,ke-Ut>3&&Se(_t,Ut,ke,qe))}function he(_t,Oe,ke,qe,ut,dt){let Ut=ut-ke,Bt=dt-qe;if(Ut!==0||Bt!==0){const xt=((_t-ke)*Ut+(Oe-qe)*Bt)/(Ut*Ut+Bt*Bt);xt>1?(ke=ut,qe=dt):xt>0&&(ke+=Ut*xt,qe+=Bt*xt)}return Ut=_t-ke,Bt=Oe-qe,Ut*Ut+Bt*Bt}function we(_t,Oe,ke,qe){const ut={id:_t??null,type:Oe,geometry:ke,tags:qe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(Oe==="Point"||Oe==="MultiPoint"||Oe==="LineString")_e(ut,ke);else if(Oe==="Polygon")_e(ut,ke[0]);else if(Oe==="MultiLineString")for(const dt of ke)_e(ut,dt);else if(Oe==="MultiPolygon")for(const dt of ke)_e(ut,dt[0]);return ut}function _e(_t,Oe){for(let ke=0;ke<Oe.length;ke+=3)_t.minX=Math.min(_t.minX,Oe[ke]),_t.minY=Math.min(_t.minY,Oe[ke+1]),_t.maxX=Math.max(_t.maxX,Oe[ke]),_t.maxY=Math.max(_t.maxY,Oe[ke+1])}function Be(_t,Oe,ke,qe){if(!Oe.geometry)return;const ut=Oe.geometry.coordinates;if(ut&&ut.length===0)return;const dt=Oe.geometry.type,Ut=Math.pow(ke.tolerance/((1<<ke.maxZoom)*ke.extent),2);let Bt=[],xt=Oe.id;if(ke.promoteId?xt=Oe.properties[ke.promoteId]:ke.generateId&&(xt=qe||0),dt==="Point")He(ut,Bt);else if(dt==="MultiPoint")for(const Ct of ut)He(Ct,Bt);else if(dt==="LineString")Re(ut,Bt,Ut,!1);else if(dt==="MultiLineString"){if(ke.lineMetrics){for(const Ct of ut)Bt=[],Re(Ct,Bt,Ut,!1),_t.push(we(xt,"LineString",Bt,Oe.properties));return}je(ut,Bt,Ut,!1)}else if(dt==="Polygon")je(ut,Bt,Ut,!0);else{if(dt!=="MultiPolygon"){if(dt==="GeometryCollection"){for(const Ct of Oe.geometry.geometries)Be(_t,{id:xt,geometry:Ct,properties:Oe.properties},ke,qe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const Ct of ut){const sn=[];je(Ct,sn,Ut,!0),Bt.push(sn)}}_t.push(we(xt,dt,Bt,Oe.properties))}function He(_t,Oe){Oe.push(Ze(_t[0]),Qe(_t[1]),0)}function Re(_t,Oe,ke,qe){let ut,dt,Ut=0;for(let xt=0;xt<_t.length;xt++){const Ct=Ze(_t[xt][0]),sn=Qe(_t[xt][1]);Oe.push(Ct,sn,0),xt>0&&(Ut+=qe?(ut*sn-Ct*dt)/2:Math.sqrt(Math.pow(Ct-ut,2)+Math.pow(sn-dt,2))),ut=Ct,dt=sn}const Bt=Oe.length-3;Oe[2]=1,Se(Oe,0,Bt,ke),Oe[Bt+2]=1,Oe.size=Math.abs(Ut),Oe.start=0,Oe.end=Oe.size}function je(_t,Oe,ke,qe){for(let ut=0;ut<_t.length;ut++){const dt=[];Re(_t[ut],dt,ke,qe),Oe.push(dt)}}function Ze(_t){return _t/360+.5}function Qe(_t){const Oe=Math.sin(_t*Math.PI/180),ke=.5-.25*Math.log((1+Oe)/(1-Oe))/Math.PI;return ke<0?0:ke>1?1:ke}function Pe(_t,Oe,ke,qe,ut,dt,Ut,Bt){if(qe/=Oe,dt>=(ke/=Oe)&&Ut<qe)return _t;if(Ut<ke||dt>=qe)return null;const xt=[];for(const Ct of _t){const sn=Ct.geometry;let mn=Ct.type;const Vn=ut===0?Ct.minX:Ct.minY,gn=ut===0?Ct.maxX:Ct.maxY;if(Vn>=ke&&gn<qe){xt.push(Ct);continue}if(gn<ke||Vn>=qe)continue;let qn=[];if(mn==="Point"||mn==="MultiPoint")St(sn,qn,ke,qe,ut);else if(mn==="LineString")Nt(sn,qn,ke,qe,ut,!1,Bt.lineMetrics);else if(mn==="MultiLineString")en(sn,qn,ke,qe,ut,!1);else if(mn==="Polygon")en(sn,qn,ke,qe,ut,!0);else if(mn==="MultiPolygon")for(const Xn of sn){const Qn=[];en(Xn,Qn,ke,qe,ut,!0),Qn.length&&qn.push(Qn)}if(qn.length){if(Bt.lineMetrics&&mn==="LineString"){for(const Xn of qn)xt.push(we(Ct.id,mn,Xn,Ct.tags));continue}mn!=="LineString"&&mn!=="MultiLineString"||(qn.length===1?(mn="LineString",qn=qn[0]):mn="MultiLineString"),mn!=="Point"&&mn!=="MultiPoint"||(mn=qn.length===3?"Point":"MultiPoint"),xt.push(we(Ct.id,mn,qn,Ct.tags))}}return xt.length?xt:null}function St(_t,Oe,ke,qe,ut){for(let dt=0;dt<_t.length;dt+=3){const Ut=_t[dt+ut];Ut>=ke&&Ut<=qe&&zt(Oe,_t[dt],_t[dt+1],_t[dt+2])}}function Nt(_t,Oe,ke,qe,ut,dt,Ut){let Bt=We(_t);const xt=ut===0?rn:Ge;let Ct,sn,mn=_t.start;for(let Qn=0;Qn<_t.length-3;Qn+=3){const Pt=_t[Qn],wn=_t[Qn+1],Mr=_t[Qn+2],Mn=_t[Qn+3],on=_t[Qn+4],Wr=ut===0?Pt:wn,Tr=ut===0?Mn:on;let Ir=!1;Ut&&(Ct=Math.sqrt(Math.pow(Pt-Mn,2)+Math.pow(wn-on,2))),Wr<ke?Tr>ke&&(sn=xt(Bt,Pt,wn,Mn,on,ke),Ut&&(Bt.start=mn+Ct*sn)):Wr>qe?Tr<qe&&(sn=xt(Bt,Pt,wn,Mn,on,qe),Ut&&(Bt.start=mn+Ct*sn)):zt(Bt,Pt,wn,Mr),Tr<ke&&Wr>=ke&&(sn=xt(Bt,Pt,wn,Mn,on,ke),Ir=!0),Tr>qe&&Wr<=qe&&(sn=xt(Bt,Pt,wn,Mn,on,qe),Ir=!0),!dt&&Ir&&(Ut&&(Bt.end=mn+Ct*sn),Oe.push(Bt),Bt=We(_t)),Ut&&(mn+=Ct)}let Vn=_t.length-3;const gn=_t[Vn],qn=_t[Vn+1],Xn=ut===0?gn:qn;Xn>=ke&&Xn<=qe&&zt(Bt,gn,qn,_t[Vn+2]),Vn=Bt.length-3,dt&&Vn>=3&&(Bt[Vn]!==Bt[0]||Bt[Vn+1]!==Bt[1])&&zt(Bt,Bt[0],Bt[1],Bt[2]),Bt.length&&Oe.push(Bt)}function We(_t){const Oe=[];return Oe.size=_t.size,Oe.start=_t.start,Oe.end=_t.end,Oe}function en(_t,Oe,ke,qe,ut,dt){for(const Ut of _t)Nt(Ut,Oe,ke,qe,ut,dt,!1)}function zt(_t,Oe,ke,qe){_t.push(Oe,ke,qe)}function rn(_t,Oe,ke,qe,ut,dt){const Ut=(dt-Oe)/(qe-Oe);return zt(_t,dt,ke+(ut-ke)*Ut,1),Ut}function Ge(_t,Oe,ke,qe,ut,dt){const Ut=(dt-ke)/(ut-ke);return zt(_t,Oe+(qe-Oe)*Ut,dt,1),Ut}function kn(_t,Oe){const ke=[];for(let qe=0;qe<_t.length;qe++){const ut=_t[qe],dt=ut.type;let Ut;if(dt==="Point"||dt==="MultiPoint"||dt==="LineString")Ut=_n(ut.geometry,Oe);else if(dt==="MultiLineString"||dt==="Polygon"){Ut=[];for(const Bt of ut.geometry)Ut.push(_n(Bt,Oe))}else if(dt==="MultiPolygon"){Ut=[];for(const Bt of ut.geometry){const xt=[];for(const Ct of Bt)xt.push(_n(Ct,Oe));Ut.push(xt)}}ke.push(we(ut.id,dt,Ut,ut.tags))}return ke}function _n(_t,Oe){const ke=[];ke.size=_t.size,_t.start!==void 0&&(ke.start=_t.start,ke.end=_t.end);for(let qe=0;qe<_t.length;qe+=3)ke.push(_t[qe]+Oe,_t[qe+1],_t[qe+2]);return ke}function Lt(_t,Oe){if(_t.transformed)return _t;const ke=1<<_t.z,qe=_t.x,ut=_t.y;for(const dt of _t.features){const Ut=dt.geometry,Bt=dt.type;if(dt.geometry=[],Bt===1)for(let xt=0;xt<Ut.length;xt+=2)dt.geometry.push(pn(Ut[xt],Ut[xt+1],Oe,ke,qe,ut));else for(let xt=0;xt<Ut.length;xt++){const Ct=[];for(let sn=0;sn<Ut[xt].length;sn+=2)Ct.push(pn(Ut[xt][sn],Ut[xt][sn+1],Oe,ke,qe,ut));dt.geometry.push(Ct)}}return _t.transformed=!0,_t}function pn(_t,Oe,ke,qe,ut,dt){return[Math.round(ke*(_t*qe-ut)),Math.round(ke*(Oe*qe-dt))]}function Tn(_t,Oe,ke,qe,ut){const dt=Oe===ut.maxZoom?0:ut.tolerance/((1<<Oe)*ut.extent),Ut={features:[],numPoints:0,numSimplified:0,numFeatures:_t.length,source:null,x:ke,y:qe,z:Oe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const Bt of _t)tr(Ut,Bt,dt,ut);return Ut}function tr(_t,Oe,ke,qe){const ut=Oe.geometry,dt=Oe.type,Ut=[];if(_t.minX=Math.min(_t.minX,Oe.minX),_t.minY=Math.min(_t.minY,Oe.minY),_t.maxX=Math.max(_t.maxX,Oe.maxX),_t.maxY=Math.max(_t.maxY,Oe.maxY),dt==="Point"||dt==="MultiPoint")for(let Bt=0;Bt<ut.length;Bt+=3)Ut.push(ut[Bt],ut[Bt+1]),_t.numPoints++,_t.numSimplified++;else if(dt==="LineString")Vt(Ut,ut,_t,ke,!1,!1);else if(dt==="MultiLineString"||dt==="Polygon")for(let Bt=0;Bt<ut.length;Bt++)Vt(Ut,ut[Bt],_t,ke,dt==="Polygon",Bt===0);else if(dt==="MultiPolygon")for(let Bt=0;Bt<ut.length;Bt++){const xt=ut[Bt];for(let Ct=0;Ct<xt.length;Ct++)Vt(Ut,xt[Ct],_t,ke,!0,Ct===0)}if(Ut.length){let Bt=Oe.tags||null;if(dt==="LineString"&&qe.lineMetrics){Bt={};for(const Ct in Oe.tags)Bt[Ct]=Oe.tags[Ct];Bt.mapbox_clip_start=ut.start/ut.size,Bt.mapbox_clip_end=ut.end/ut.size}const xt={geometry:Ut,type:dt==="Polygon"||dt==="MultiPolygon"?3:dt==="LineString"||dt==="MultiLineString"?2:1,tags:Bt};Oe.id!==null&&(xt.id=Oe.id),_t.features.push(xt)}}function Vt(_t,Oe,ke,qe,ut,dt){const Ut=qe*qe;if(qe>0&&Oe.size<(ut?Ut:qe))return void(ke.numPoints+=Oe.length/3);const Bt=[];for(let xt=0;xt<Oe.length;xt+=3)(qe===0||Oe[xt+2]>Ut)&&(ke.numSimplified++,Bt.push(Oe[xt],Oe[xt+1])),ke.numPoints++;ut&&(function(xt,Ct){let sn=0;for(let mn=0,Vn=xt.length,gn=Vn-2;mn<Vn;gn=mn,mn+=2)sn+=(xt[mn]-xt[gn])*(xt[mn+1]+xt[gn+1]);if(sn>0===Ct)for(let mn=0,Vn=xt.length;mn<Vn/2;mn+=2){const gn=xt[mn],qn=xt[mn+1];xt[mn]=xt[Vn-2-mn],xt[mn+1]=xt[Vn-1-mn],xt[Vn-2-mn]=gn,xt[Vn-1-mn]=qn}})(Bt,dt),_t.push(Bt)}const lr={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class sr{constructor(Oe,ke){const qe=(ke=this.options=(function(dt,Ut){for(const Bt in Ut)dt[Bt]=Ut[Bt];return dt})(Object.create(lr),ke)).debug;if(qe&&console.time("preprocess data"),ke.maxZoom<0||ke.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(ke.promoteId&&ke.generateId)throw new Error("promoteId and generateId cannot be used together.");let ut=(function(dt,Ut){const Bt=[];if(dt.type==="FeatureCollection")for(let xt=0;xt<dt.features.length;xt++)Be(Bt,dt.features[xt],Ut,xt);else Be(Bt,dt.type==="Feature"?dt:{geometry:dt},Ut);return Bt})(Oe,ke);this.tiles={},this.tileCoords=[],qe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",ke.indexMaxZoom,ke.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),ut=(function(dt,Ut){const Bt=Ut.buffer/Ut.extent;let xt=dt;const Ct=Pe(dt,1,-1-Bt,Bt,0,-1,2,Ut),sn=Pe(dt,1,1-Bt,2+Bt,0,-1,2,Ut);return(Ct||sn)&&(xt=Pe(dt,1,-Bt,1+Bt,0,-1,2,Ut)||[],Ct&&(xt=kn(Ct,1).concat(xt)),sn&&(xt=xt.concat(kn(sn,-1)))),xt})(ut,ke),ut.length&&this.splitTile(ut,0,0,0),qe&&(ut.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(Oe,ke,qe,ut,dt,Ut,Bt){const xt=[Oe,ke,qe,ut],Ct=this.options,sn=Ct.debug;for(;xt.length;){ut=xt.pop(),qe=xt.pop(),ke=xt.pop(),Oe=xt.pop();const mn=1<<ke,Vn=xn(ke,qe,ut);let gn=this.tiles[Vn];if(!gn&&(sn>1&&console.time("creation"),gn=this.tiles[Vn]=Tn(Oe,ke,qe,ut,Ct),this.tileCoords.push({z:ke,x:qe,y:ut}),sn)){sn>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",ke,qe,ut,gn.numFeatures,gn.numPoints,gn.numSimplified),console.timeEnd("creation"));const Ir=`z${ke}`;this.stats[Ir]=(this.stats[Ir]||0)+1,this.total++}if(gn.source=Oe,dt==null){if(ke===Ct.indexMaxZoom||gn.numPoints<=Ct.indexMaxPoints)continue}else{if(ke===Ct.maxZoom||ke===dt)continue;if(dt!=null){const Ir=dt-ke;if(qe!==Ut>>Ir||ut!==Bt>>Ir)continue}}if(gn.source=null,Oe.length===0)continue;sn>1&&console.time("clipping");const qn=.5*Ct.buffer/Ct.extent,Xn=.5-qn,Qn=.5+qn,Pt=1+qn;let wn=null,Mr=null,Mn=null,on=null,Wr=Pe(Oe,mn,qe-qn,qe+Qn,0,gn.minX,gn.maxX,Ct),Tr=Pe(Oe,mn,qe+Xn,qe+Pt,0,gn.minX,gn.maxX,Ct);Oe=null,Wr&&(wn=Pe(Wr,mn,ut-qn,ut+Qn,1,gn.minY,gn.maxY,Ct),Mr=Pe(Wr,mn,ut+Xn,ut+Pt,1,gn.minY,gn.maxY,Ct),Wr=null),Tr&&(Mn=Pe(Tr,mn,ut-qn,ut+Qn,1,gn.minY,gn.maxY,Ct),on=Pe(Tr,mn,ut+Xn,ut+Pt,1,gn.minY,gn.maxY,Ct),Tr=null),sn>1&&console.timeEnd("clipping"),xt.push(wn||[],ke+1,2*qe,2*ut),xt.push(Mr||[],ke+1,2*qe,2*ut+1),xt.push(Mn||[],ke+1,2*qe+1,2*ut),xt.push(on||[],ke+1,2*qe+1,2*ut+1)}}getTile(Oe,ke,qe){Oe=+Oe,ke=+ke,qe=+qe;const ut=this.options,{extent:dt,debug:Ut}=ut;if(Oe<0||Oe>24)return null;const Bt=1<<Oe,xt=xn(Oe,ke=ke+Bt&Bt-1,qe);if(this.tiles[xt])return Lt(this.tiles[xt],dt);Ut>1&&console.log("drilling down to z%d-%d-%d",Oe,ke,qe);let Ct,sn=Oe,mn=ke,Vn=qe;for(;!Ct&&sn>0;)sn--,mn>>=1,Vn>>=1,Ct=this.tiles[xn(sn,mn,Vn)];return Ct&&Ct.source?(Ut>1&&(console.log("found parent tile z%d-%d-%d",sn,mn,Vn),console.time("drilling down")),this.splitTile(Ct.source,sn,mn,Vn,Oe,ke,qe),Ut>1&&console.timeEnd("drilling down"),this.tiles[xt]?Lt(this.tiles[xt],dt):null):null}}function xn(_t,Oe,ke){return 32*((1<<_t)*ke+Oe)+_t}class En extends z{constructor(Oe,ke,qe,ut=hn){super(Oe,ke,qe),this._dataUpdateable=new Map,this._createGeoJSONIndex=ut}loadVectorTile(Oe,ke){return u._(this,void 0,void 0,(function*(){const qe=Oe.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const ut=this._geoJSONIndex.getTile(qe.z,qe.x,qe.y);return ut?j(new u.d3(ut.features,{version:2,extent:u.a5})):null}))}loadData(Oe){return u._(this,void 0,void 0,(function*(){var ke;(ke=this._pendingRequest)===null||ke===void 0||ke.abort();const qe=this._startPerformance(Oe);this._pendingRequest=new AbortController;try{(!this._pendingData||Oe.request||Oe.data||Oe.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(Oe,this._pendingRequest));const ut=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(ut,Oe),this.loaded={};const dt={};return this._finishPerformance(qe,Oe,dt),dt}catch(ut){if(delete this._pendingRequest,u.Z(ut))return{abandoned:!0};throw ut}}))}_startPerformance(Oe){var ke;if(!((ke=Oe?.request)===null||ke===void 0)&&ke.collectResourceTiming)return new u.c$(Oe.request)}_finishPerformance(Oe,ke,qe){if(!Oe)return;const ut=Oe.finish();ut&&(qe.resourceTiming={},qe.resourceTiming[ke.source]=JSON.parse(JSON.stringify(ut)))}getData(){return u._(this,void 0,void 0,(function*(){return this._pendingData}))}reloadTile(Oe){const ke=this.loaded;return ke&&ke[Oe.uid]?super.reloadTile(Oe):this.loadTile(Oe)}loadAndProcessGeoJSON(Oe,ke){return u._(this,void 0,void 0,(function*(){let qe;if(Oe.request?qe=yield this.loadGeoJSONFromUrl(Oe.request,Oe.promoteId,ke):Oe.data?qe=this._loadGeoJSONFromObject(Oe.data,Oe.promoteId):Oe.dataDiff&&(qe=this._loadGeoJSONFromDiff(Oe.dataDiff,Oe.promoteId,Oe.source)),delete this._pendingRequest,typeof qe!="object")throw new Error(`Input data given to '${Oe.source}' is not a valid GeoJSON object.`);return ie(qe,!0),Oe.filter&&(qe=this._filterGeoJSON(qe,Oe.filter)),qe}))}loadGeoJSONFromUrl(Oe,ke,qe){return u._(this,void 0,void 0,(function*(){const ut=yield u.j(Oe,qe);return this._dataUpdateable=u.a7(ut.data,ke)?u.a8(ut.data,ke):void 0,ut.data}))}_loadGeoJSONFromObject(Oe,ke){return this._dataUpdateable=u.a7(Oe,ke)?u.a8(Oe,ke):void 0,Oe}_loadGeoJSONFromDiff(Oe,ke,qe){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${qe}`);u.a9(this._dataUpdateable,Oe,ke);const ut=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(ut)}_filterGeoJSON(Oe,ke){const qe=u.d4(ke,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(qe.result==="error")throw new Error(qe.value.map((dt=>`${dt.key}: ${dt.message}`)).join(", "));const ut=Oe.features.filter((dt=>qe.value.evaluate({zoom:0},dt)));return this._toFeatureCollection(ut)}_toFeatureCollection(Oe){return{type:"FeatureCollection",features:Oe}}removeSource(Oe){return u._(this,void 0,void 0,(function*(){this._pendingRequest&&this._pendingRequest.abort()}))}getClusterExpansionZoom(Oe){return this._geoJSONIndex.getClusterExpansionZoom(Oe.clusterId)}getClusterChildren(Oe){return this._geoJSONIndex.getChildren(Oe.clusterId)}getClusterLeaves(Oe){return this._geoJSONIndex.getLeaves(Oe.clusterId,Oe.limit,Oe.offset)}}function hn(_t,Oe){return Oe.cluster?new se((function({superclusterOptions:ke,clusterProperties:qe}){if(!qe||!ke)return ke;const ut={},dt={},Ut={accumulated:null,zoom:0},Bt={properties:null},xt=Object.keys(qe);for(const Ct of xt){const[sn,mn]=qe[Ct],Vn=u.d4(mn),gn=u.d4(typeof sn=="string"?[sn,["accumulated"],["get",Ct]]:sn);ut[Ct]=Vn.value,dt[Ct]=gn.value}return ke.map=Ct=>{Bt.properties=Ct;const sn={};for(const mn of xt)sn[mn]=ut[mn].evaluate(Ut,Bt);return sn},ke.reduce=(Ct,sn)=>{Bt.properties=sn;for(const mn of xt)Ut.accumulated=Ct[mn],Ct[mn]=dt[mn].evaluate(Ut,Bt)},ke})(Oe)).load(_t.features):(function(ke,qe){return new sr(ke,qe)})(_t,Oe.geojsonVtOptions)}class jn{constructor(Oe){this.self=Oe,this.actor=new u.L(Oe),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(ke,qe)=>{if(this.externalWorkerSourceTypes[ke])throw new Error(`Worker source with name "${ke}" already registered.`);this.externalWorkerSourceTypes[ke]=qe},this.self.addProtocol=u.cK,this.self.removeProtocol=u.cL,this.self.registerRTLTextPlugin=ke=>{u.d5.setMethods(ke)},this.actor.registerMessageHandler("LDT",((ke,qe)=>this._getDEMWorkerSource(ke,qe.source).loadTile(qe))),this.actor.registerMessageHandler("RDT",((ke,qe)=>u._(this,void 0,void 0,(function*(){this._getDEMWorkerSource(ke,qe.source).removeTile(qe)})))),this.actor.registerMessageHandler("GCEZ",((ke,qe)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(ke,qe.type,qe.source).getClusterExpansionZoom(qe)})))),this.actor.registerMessageHandler("GCC",((ke,qe)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(ke,qe.type,qe.source).getClusterChildren(qe)})))),this.actor.registerMessageHandler("GCL",((ke,qe)=>u._(this,void 0,void 0,(function*(){return this._getWorkerSource(ke,qe.type,qe.source).getClusterLeaves(qe)})))),this.actor.registerMessageHandler("LD",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).loadData(qe))),this.actor.registerMessageHandler("GD",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).getData())),this.actor.registerMessageHandler("LT",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).loadTile(qe))),this.actor.registerMessageHandler("RT",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).reloadTile(qe))),this.actor.registerMessageHandler("AT",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).abortTile(qe))),this.actor.registerMessageHandler("RMT",((ke,qe)=>this._getWorkerSource(ke,qe.type,qe.source).removeTile(qe))),this.actor.registerMessageHandler("RS",((ke,qe)=>u._(this,void 0,void 0,(function*(){if(!this.workerSources[ke]||!this.workerSources[ke][qe.type]||!this.workerSources[ke][qe.type][qe.source])return;const ut=this.workerSources[ke][qe.type][qe.source];delete this.workerSources[ke][qe.type][qe.source],ut.removeSource!==void 0&&ut.removeSource(qe)})))),this.actor.registerMessageHandler("RM",(ke=>u._(this,void 0,void 0,(function*(){delete this.layerIndexes[ke],delete this.availableImages[ke],delete this.workerSources[ke],delete this.demWorkerSources[ke],this.globalStates.delete(ke)})))),this.actor.registerMessageHandler("SR",((ke,qe)=>u._(this,void 0,void 0,(function*(){this.referrer=qe})))),this.actor.registerMessageHandler("SRPS",((ke,qe)=>this._syncRTLPluginState(ke,qe))),this.actor.registerMessageHandler("IS",((ke,qe)=>u._(this,void 0,void 0,(function*(){this.self.importScripts(qe)})))),this.actor.registerMessageHandler("SI",((ke,qe)=>this._setImages(ke,qe))),this.actor.registerMessageHandler("UL",((ke,qe)=>u._(this,void 0,void 0,(function*(){this._getLayerIndex(ke).update(qe.layers,qe.removedIds,this._getGlobalState(ke))})))),this.actor.registerMessageHandler("UGS",((ke,qe)=>u._(this,void 0,void 0,(function*(){const ut=this._getGlobalState(ke);for(const dt in qe)ut[dt]=qe[dt]})))),this.actor.registerMessageHandler("SL",((ke,qe)=>u._(this,void 0,void 0,(function*(){this._getLayerIndex(ke).replace(qe,this._getGlobalState(ke))}))))}_getGlobalState(Oe){let ke=this.globalStates.get(Oe);return ke||(ke={},this.globalStates.set(Oe,ke)),ke}_setImages(Oe,ke){return u._(this,void 0,void 0,(function*(){this.availableImages[Oe]=ke;for(const qe in this.workerSources[Oe]){const ut=this.workerSources[Oe][qe];for(const dt in ut)ut[dt].availableImages=ke}}))}_syncRTLPluginState(Oe,ke){return u._(this,void 0,void 0,(function*(){return yield u.d5.syncState(ke,this.self.importScripts)}))}_getAvailableImages(Oe){let ke=this.availableImages[Oe];return ke||(ke=[]),ke}_getLayerIndex(Oe){let ke=this.layerIndexes[Oe];return ke||(ke=this.layerIndexes[Oe]=new i),ke}_getWorkerSource(Oe,ke,qe){if(this.workerSources[Oe]||(this.workerSources[Oe]={}),this.workerSources[Oe][ke]||(this.workerSources[Oe][ke]={}),!this.workerSources[Oe][ke][qe]){const ut={sendAsync:(dt,Ut)=>(dt.targetMapId=Oe,this.actor.sendAsync(dt,Ut))};switch(ke){case"vector":this.workerSources[Oe][ke][qe]=new z(ut,this._getLayerIndex(Oe),this._getAvailableImages(Oe));break;case"geojson":this.workerSources[Oe][ke][qe]=new En(ut,this._getLayerIndex(Oe),this._getAvailableImages(Oe));break;default:this.workerSources[Oe][ke][qe]=new this.externalWorkerSourceTypes[ke](ut,this._getLayerIndex(Oe),this._getAvailableImages(Oe))}}return this.workerSources[Oe][ke][qe]}_getDEMWorkerSource(Oe,ke){return this.demWorkerSources[Oe]||(this.demWorkerSources[Oe]={}),this.demWorkerSources[Oe][ke]||(this.demWorkerSources[Oe][ke]=new q),this.demWorkerSources[Oe][ke]}}return u.i(self)&&(self.worker=new jn(self)),jn})),a("index",["exports","./shared"],(function(u,i){var m="5.14.0";function b(){var O=new i.A(4);return i.A!=Float32Array&&(O[1]=0,O[2]=0),O[0]=1,O[3]=1,O}let _,w,M;const P={frame(O,s,h){const x=requestAnimationFrame((L=>{k(),s(L)})),{unsubscribe:k}=i.s(O.signal,"abort",(()=>{k(),cancelAnimationFrame(x),h(new i.a(O.signal.reason))}),!1)},frameAsync(O){return new Promise(((s,h)=>{this.frame(O,s,h)}))},getImageData(O,s=0){return this.getImageCanvasContext(O).getImageData(-s,-s,O.width+2*s,O.height+2*s)},getImageCanvasContext(O){const s=window.document.createElement("canvas"),h=s.getContext("2d",{willReadFrequently:!0});if(!h)throw new Error("failed to create canvas 2d context");return s.width=O.width,s.height=O.height,h.drawImage(O,0,0,O.width,O.height),h},resolveURL:O=>(_||(_=document.createElement("a")),_.href=O,_.href),hardwareConcurrency:typeof navigator<"u"&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return M!==void 0?M:!!matchMedia&&(w==null&&(w=matchMedia("(prefers-reduced-motion: reduce)")),w.matches)},set prefersReducedMotion(O){M=O}},j=new class{constructor(){this._realTime=typeof performance<"u"&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return this._frozenAt!==null?this._frozenAt:this._realTime()}setNow(O){this._frozenAt=O}restoreNow(){this._frozenAt=null}isFrozen(){return this._frozenAt!==null}};function G(){return j.getCurrentTime()}class z{static testProp(s){if(!z.docStyle)return s[0];for(let h=0;h<s.length;h++)if(s[h]in z.docStyle)return s[h];return s[0]}static create(s,h,x){const k=window.document.createElement(s);return h!==void 0&&(k.className=h),x&&x.appendChild(k),k}static createNS(s,h){return window.document.createElementNS(s,h)}static disableDrag(){z.docStyle&&z.selectProp&&(z.userSelect=z.docStyle[z.selectProp],z.docStyle[z.selectProp]="none")}static enableDrag(){z.docStyle&&z.selectProp&&(z.docStyle[z.selectProp]=z.userSelect)}static setTransform(s,h){s.style[z.transformProp]=h}static addEventListener(s,h,x,k={}){s.addEventListener(h,x,"passive"in k?k:k.capture)}static removeEventListener(s,h,x,k={}){s.removeEventListener(h,x,"passive"in k?k:k.capture)}static suppressClickInternal(s){s.preventDefault(),s.stopPropagation(),window.removeEventListener("click",z.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",z.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",z.suppressClickInternal,!0)}),0)}static getScale(s){const h=s.getBoundingClientRect();return{x:h.width/s.offsetWidth||1,y:h.height/s.offsetHeight||1,boundingClientRect:h}}static getPoint(s,h,x){const k=h.boundingClientRect;return new i.P((x.clientX-k.left)/h.x-s.clientLeft,(x.clientY-k.top)/h.y-s.clientTop)}static mousePos(s,h){const x=z.getScale(s);return z.getPoint(s,x,h)}static touchPos(s,h){const x=[],k=z.getScale(s);for(let L=0;L<h.length;L++)x.push(z.getPoint(s,k,h[L]));return x}static mouseButton(s){return s.button}static remove(s){s.parentNode&&s.parentNode.removeChild(s)}static sanitize(s){const h=new DOMParser().parseFromString(s,"text/html").body||document.createElement("body"),x=h.querySelectorAll("script");for(const k of x)k.remove();return z.clean(h),h.innerHTML}static isPossiblyDangerous(s,h){const x=h.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(s)||!x.includes("javascript:")&&!x.includes("data:"))||!!s.startsWith("on")||void 0}static clean(s){const h=s.children;for(const x of h)z.removeAttributes(x),z.clean(x)}static removeAttributes(s){for(const{name:h,value:x}of s.attributes)z.isPossiblyDangerous(h,x)&&s.removeAttribute(h)}}z.docStyle=typeof window<"u"&&window.document&&window.document.documentElement.style,z.selectProp=z.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),z.transformProp=z.testProp(["transform","WebkitTransform"]);const q={supported:!1,testSupport:function(O){!ne&&J&&(ie?ue(O):Y=O)}};let Y,J,ne=!1,ie=!1;function ue(O){const s=O.createTexture();O.bindTexture(O.TEXTURE_2D,s);try{if(O.texImage2D(O.TEXTURE_2D,0,O.RGBA,O.RGBA,O.UNSIGNED_BYTE,J),O.isContextLost())return;q.supported=!0}catch{}O.deleteTexture(s),ne=!0}var oe;typeof document<"u"&&(J=document.createElement("img"),J.onload=()=>{Y&&ue(Y),Y=null,ie=!0},J.onerror=()=>{ne=!0,Y=null},J.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),(function(O){let s,h,x,k;O.resetRequestQueue=()=>{s=[],h=0,x=0,k={}},O.addThrottleControl=ee=>{const ce=x++;return k[ce]=ee,ce},O.removeThrottleControl=ee=>{delete k[ee],U()},O.getImage=(ee,ce,fe=!0)=>new Promise(((Ce,Ee)=>{q.supported&&(ee.headers||(ee.headers={}),ee.headers.accept="image/webp,*/*"),i.e(ee,{type:"image"}),s.push({abortController:ce,requestParameters:ee,supportImageRefresh:fe,state:"queued",onError:Le=>{Ee(Le)},onSuccess:Le=>{Ce(Le)}}),U()}));const L=ee=>i._(this,void 0,void 0,(function*(){ee.state="running";const{requestParameters:ce,supportImageRefresh:fe,onError:Ce,onSuccess:Ee,abortController:Le}=ee,ze=fe===!1&&!i.i(self)&&!i.g(ce.url)&&(!ce.headers||Object.keys(ce.headers).reduce(((lt,pt)=>lt&&pt==="accept"),!0));h++;const it=ze?W(ce,Le):i.m(ce,Le);try{const lt=yield it;delete ee.abortController,ee.state="completed",lt.data instanceof HTMLImageElement||i.b(lt.data)?Ee(lt):lt.data&&Ee({data:yield(ct=lt.data,typeof createImageBitmap=="function"?i.f(ct):i.h(ct)),cacheControl:lt.cacheControl,expires:lt.expires})}catch(lt){delete ee.abortController,Ce(lt)}finally{h--,U()}var ct})),U=()=>{const ee=(()=>{for(const ce of Object.keys(k))if(k[ce]())return!0;return!1})()?i.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:i.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let ce=h;ce<ee&&s.length>0;ce++){const fe=s.shift();fe.abortController.signal.aborted?ce--:L(fe)}},W=(ee,ce)=>new Promise(((fe,Ce)=>{const Ee=new Image,Le=ee.url,ze=ee.credentials;ze&&ze==="include"?Ee.crossOrigin="use-credentials":(ze&&ze==="same-origin"||!i.d(Le))&&(Ee.crossOrigin="anonymous"),ce.signal.addEventListener("abort",(()=>{Ee.src="",Ce(new i.a(ce.signal.reason))})),Ee.fetchPriority="high",Ee.onload=()=>{Ee.onerror=Ee.onload=null,fe({data:Ee})},Ee.onerror=()=>{Ee.onerror=Ee.onload=null,ce.signal.aborted||Ce(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},Ee.src=Le}))})(oe||(oe={})),oe.resetRequestQueue();class K{constructor(s){this._transformRequestFn=s??null}transformRequest(s,h){return this._transformRequestFn&&this._transformRequestFn(s,h)||{url:s}}setTransformRequest(s){this._transformRequestFn=s}}function se(O){const s=[];if(typeof O=="string")s.push({id:"default",url:O});else if(O&&O.length>0){const h=[];for(const{id:x,url:k}of O){const L=`${x}${k}`;h.indexOf(L)===-1&&(h.push(L),s.push({id:x,url:k}))}}return s}function pe(O,s,h){try{const x=new URL(O);return x.pathname+=`${s}${h}`,x.toString()}catch{throw new Error(`Invalid sprite URL "${O}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function ve(O){const{userImage:s}=O;return!!(s&&s.render&&s.render())&&(O.data.replace(new Uint8Array(s.data.buffer)),!0)}class Te extends i.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new i.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const s of Object.keys(this.images))this.removeImage(s);this.patterns={},this.atlasImage=new i.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(s){if(this.loaded!==s&&(this.loaded=s,s)){for(const{ids:h,promiseResolve:x}of this.requestors)x(this._getImagesForIds(h));this.requestors=[]}}getImage(s){const h=this.images[s];if(h&&!h.data&&h.spriteData){const x=h.spriteData;h.data=new i.R({width:x.width,height:x.height},x.context.getImageData(x.x,x.y,x.width,x.height).data),h.spriteData=null}return h}addImage(s,h){if(this.images[s])throw new Error(`Image id ${s} already exist, use updateImage instead`);this._validate(s,h)&&(this.images[s]=h)}_validate(s,h){let x=!0;const k=h.data||h.spriteData;return this._validateStretch(h.stretchX,k&&k.width)||(this.fire(new i.k(new Error(`Image "${s}" has invalid "stretchX" value`))),x=!1),this._validateStretch(h.stretchY,k&&k.height)||(this.fire(new i.k(new Error(`Image "${s}" has invalid "stretchY" value`))),x=!1),this._validateContent(h.content,h)||(this.fire(new i.k(new Error(`Image "${s}" has invalid "content" value`))),x=!1),x}_validateStretch(s,h){if(!s)return!0;let x=0;for(const k of s){if(k[0]<x||k[1]<k[0]||h<k[1])return!1;x=k[1]}return!0}_validateContent(s,h){if(!s)return!0;if(s.length!==4)return!1;const x=h.spriteData,k=x&&x.width||h.data.width,L=x&&x.height||h.data.height;return!(s[0]<0||k<s[0]||s[1]<0||L<s[1]||s[2]<0||k<s[2]||s[3]<0||L<s[3]||s[2]<s[0]||s[3]<s[1])}updateImage(s,h,x=!0){const k=this.getImage(s);if(x&&(k.data.width!==h.data.width||k.data.height!==h.data.height))throw new Error(`size mismatch between old image (${k.data.width}x${k.data.height}) and new image (${h.data.width}x${h.data.height}).`);h.version=k.version+1,this.images[s]=h,this.updatedImages[s]=!0}removeImage(s){const h=this.images[s];delete this.images[s],delete this.patterns[s],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(s){return new Promise(((h,x)=>{let k=!0;if(!this.isLoaded())for(const L of s)this.images[L]||(k=!1);this.isLoaded()||k?h(this._getImagesForIds(s)):this.requestors.push({ids:s,promiseResolve:h})}))}_getImagesForIds(s){const h={};for(const x of s){let k=this.getImage(x);k||(this.fire(new i.l("styleimagemissing",{id:x})),k=this.getImage(x)),k?h[x]={data:k.data.clone(),pixelRatio:k.pixelRatio,sdf:k.sdf,version:k.version,stretchX:k.stretchX,stretchY:k.stretchY,content:k.content,textFitWidth:k.textFitWidth,textFitHeight:k.textFitHeight,hasRenderCallback:!!(k.userImage&&k.userImage.render)}:i.w(`Image "${x}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return h}getPixelSize(){const{width:s,height:h}=this.atlasImage;return{width:s,height:h}}getPattern(s){const h=this.patterns[s],x=this.getImage(s);if(!x)return null;if(h&&h.position.version===x.version)return h.position;if(h)h.position.version=x.version;else{const k={w:x.data.width+2,h:x.data.height+2,x:0,y:0},L=new i.I(k,x);this.patterns[s]={bin:k,position:L}}return this._updatePatternAtlas(),this.patterns[s].position}bind(s){const h=s.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new i.T(s,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)}_updatePatternAtlas(){const s=[];for(const L in this.patterns)s.push(this.patterns[L].bin);const{w:h,h:x}=i.p(s),k=this.atlasImage;k.resize({width:h||1,height:x||1});for(const L in this.patterns){const{bin:U}=this.patterns[L],W=U.x+1,ee=U.y+1,ce=this.getImage(L).data,fe=ce.width,Ce=ce.height;i.R.copy(ce,k,{x:0,y:0},{x:W,y:ee},{width:fe,height:Ce}),i.R.copy(ce,k,{x:0,y:Ce-1},{x:W,y:ee-1},{width:fe,height:1}),i.R.copy(ce,k,{x:0,y:0},{x:W,y:ee+Ce},{width:fe,height:1}),i.R.copy(ce,k,{x:fe-1,y:0},{x:W-1,y:ee},{width:1,height:Ce}),i.R.copy(ce,k,{x:0,y:0},{x:W+fe,y:ee},{width:1,height:Ce})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(s){for(const h of s){if(this.callbackDispatchedThisFrame[h])continue;this.callbackDispatchedThisFrame[h]=!0;const x=this.getImage(h);x||i.w(`Image with ID: "${h}" was not found`),ve(x)&&this.updateImage(h,x)}}cloneImages(){const s={};for(const h in this.images){const x=this.images[h];s[h]=Object.assign(Object.assign({},x),{data:x.data?x.data.clone():null})}return s}}const Me=1e20;function xe(O,s,h,x,k,L,U,W,ee){for(let ce=s;ce<s+x;ce++)Se(O,h*L+ce,L,k,U,W,ee);for(let ce=h;ce<h+k;ce++)Se(O,ce*L+s,1,x,U,W,ee)}function Se(O,s,h,x,k,L,U){L[0]=0,U[0]=-Me,U[1]=Me,k[0]=O[s];for(let W=1,ee=0,ce=0;W<x;W++){k[W]=O[s+W*h];const fe=W*W;do{const Ce=L[ee];ce=(k[W]-k[Ce]+fe-Ce*Ce)/(W-Ce)/2}while(ce<=U[ee]&&--ee>-1);ee++,L[ee]=W,U[ee]=ce,U[ee+1]=Me}for(let W=0,ee=0;W<x;W++){for(;U[ee+1]<W;)ee++;const ce=L[ee],fe=W-ce;O[s+W*h]=k[ce]+fe*fe}}const he=i.v.layout_symbol["text-font"].default.join(",");class we{constructor(s,h,x){this.requestManager=s,this.localIdeographFontFamily=h,this.entries={},this.lang=x}setURL(s){this.url=s}getGlyphs(s){return i._(this,void 0,void 0,(function*(){const h=[];for(const L in s)for(const U of s[L])h.push(this._getAndCacheGlyphsPromise(L,U));const x=yield Promise.all(h),k={};for(const{stack:L,id:U,glyph:W}of x)k[L]||(k[L]={}),k[L][U]=W&&{id:W.id,bitmap:W.bitmap.clone(),metrics:W.metrics};return k}))}_getAndCacheGlyphsPromise(s,h){return i._(this,void 0,void 0,(function*(){let x=this.entries[s];x||(x=this.entries[s]={glyphs:{},requests:{},ranges:{}});let k=x.glyphs[h];return k!==void 0?{stack:s,id:h,glyph:k}:!this.url||this._charUsesLocalIdeographFontFamily(h)?(k=x.glyphs[h]=this._drawGlyph(x,s,h),{stack:s,id:h,glyph:k}):yield this._downloadAndCacheRangePromise(s,h)}))}_downloadAndCacheRangePromise(s,h){return i._(this,void 0,void 0,(function*(){const x=this.entries[s],k=Math.floor(h/256);if(x.ranges[k])return{stack:s,id:h,glyph:null};if(!x.requests[k]){const L=we.loadGlyphRange(s,k,this.url,this.requestManager);x.requests[k]=L}try{const L=yield x.requests[k];for(const U in L)x.glyphs[+U]=L[+U];return x.ranges[k]=!0,{stack:s,id:h,glyph:L[h]||null}}catch(L){const U=x.glyphs[h]=this._drawGlyph(x,s,h);return this._warnOnMissingGlyphRange(U,k,h,L),{stack:s,id:h,glyph:U}}}))}_warnOnMissingGlyphRange(s,h,x,k){const L=256*h,U=L+255,W=x.toString(16).padStart(4,"0").toUpperCase();i.w(`Unable to load glyph range ${h}, ${L}-${U}. Rendering codepoint U+${W} locally instead. ${k}`)}_charUsesLocalIdeographFontFamily(s){return!!this.localIdeographFontFamily&&i.q(s)}_drawGlyph(s,h,x){const k=h===he&&this.localIdeographFontFamily!==""&&this._charUsesLocalIdeographFontFamily(x),L=k?"ideographTinySDF":"tinySDF";s[L]||(s[L]=this._createTinySDF(k?this.localIdeographFontFamily:h));const U=s[L].draw(String.fromCodePoint(x));return{id:x,bitmap:new i.r({width:U.width||60,height:U.height||60},U.data),metrics:{width:U.glyphWidth/2||24,height:U.glyphHeight/2||24,left:U.glyphLeft/2+.5||0,top:U.glyphTop/2-27.5||-8,advance:U.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(s){const h=s?s.split(","):[];h.push("sans-serif");const x=h.map((k=>/[-\w]+/.test(k)?k:`'${CSS.escape(k)}'`)).join(",");return new we.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:x,fontWeight:this._fontWeight(h[0]),fontStyle:this._fontStyle(h[0]),lang:this.lang})}_fontStyle(s){return/italic/i.test(s)?"italic":/oblique/i.test(s)?"oblique":"normal"}_fontWeight(s){const h={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let x;for(const[k,L]of Object.entries(h))new RegExp(`\\b${k}\\b`,"i").test(s)&&(x=`${L}`);return x}destroy(){for(const s in this.entries){const h=this.entries[s];h.tinySDF&&(h.tinySDF=null),h.ideographTinySDF&&(h.ideographTinySDF=null),h.glyphs={},h.requests={},h.ranges={}}this.entries={}}}we.loadGlyphRange=function(O,s,h,x){return i._(this,void 0,void 0,(function*(){const k=256*s,L=k+255,U=x.transformRequest(h.replace("{fontstack}",O).replace("{range}",`${k}-${L}`),"Glyphs"),W=yield i.n(U,new AbortController);if(!W||!W.data)throw new Error(`Could not load glyph range. range: ${s}, ${k}-${L}`);const ee={};for(const ce of i.o(W.data))ee[ce.id]=ce;return ee}))},we.TinySDF=class{constructor({fontSize:O=24,buffer:s=3,radius:h=8,cutoff:x=.25,fontFamily:k="sans-serif",fontWeight:L="normal",fontStyle:U="normal",lang:W=null}={}){this.buffer=s,this.cutoff=x,this.radius=h,this.lang=W;const ee=this.size=O+4*s,ce=this._createCanvas(ee),fe=this.ctx=ce.getContext("2d",{willReadFrequently:!0});fe.font=`${U} ${L} ${O}px ${k}`,fe.textBaseline="alphabetic",fe.textAlign="left",fe.fillStyle="black",this.gridOuter=new Float64Array(ee*ee),this.gridInner=new Float64Array(ee*ee),this.f=new Float64Array(ee),this.z=new Float64Array(ee+1),this.v=new Uint16Array(ee)}_createCanvas(O){const s=document.createElement("canvas");return s.width=s.height=O,s}draw(O){const{width:s,actualBoundingBoxAscent:h,actualBoundingBoxDescent:x,actualBoundingBoxLeft:k,actualBoundingBoxRight:L}=this.ctx.measureText(O),U=Math.ceil(h),W=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(L-k))),ee=Math.min(this.size-this.buffer,U+Math.ceil(x)),ce=W+2*this.buffer,fe=ee+2*this.buffer,Ce=Math.max(ce*fe,0),Ee=new Uint8ClampedArray(Ce),Le={data:Ee,width:ce,height:fe,glyphWidth:W,glyphHeight:ee,glyphTop:U,glyphLeft:0,glyphAdvance:s};if(W===0||ee===0)return Le;const{ctx:ze,buffer:it,gridInner:ct,gridOuter:lt}=this;this.lang&&(ze.lang=this.lang),ze.clearRect(it,it,W,ee),ze.fillText(O,it,it+U);const pt=ze.getImageData(it,it,W,ee);lt.fill(Me,0,Ce),ct.fill(0,0,Ce);for(let Tt=0;Tt<ee;Tt++)for(let gt=0;gt<W;gt++){const At=pt.data[4*(Tt*W+gt)+3]/255;if(At===0)continue;const Rt=(Tt+it)*ce+gt+it;if(At===1)lt[Rt]=0,ct[Rt]=Me;else{const bt=.5-At;lt[Rt]=bt>0?bt*bt:0,ct[Rt]=bt<0?bt*bt:0}}xe(lt,0,0,ce,fe,ce,this.f,this.v,this.z),xe(ct,it,it,W,ee,ce,this.f,this.v,this.z);for(let Tt=0;Tt<Ce;Tt++){const gt=Math.sqrt(lt[Tt])-Math.sqrt(ct[Tt]);Ee[Tt]=Math.round(255-255*(gt/this.radius+this.cutoff))}return Le}};class _e{constructor(){this.specification=i.u.light.position}possiblyEvaluate(s,h){return i.F(s.expression.evaluate(h))}interpolate(s,h,x){return{x:i.G.number(s.x,h.x,x),y:i.G.number(s.y,h.y,x),z:i.G.number(s.z,h.z,x)}}}let Be;class He extends i.E{constructor(s){super(),Be=Be||new i.t({anchor:new i.D(i.u.light.anchor),position:new _e,color:new i.D(i.u.light.color),intensity:new i.D(i.u.light.intensity)}),this._transitionable=new i.x(Be,void 0),this.setLight(s),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(s,h={}){if(!this._validate(i.y,s,h))for(const x in s){const k=s[x];x.endsWith(i.z)?this._transitionable.setTransition(x.slice(0,-i.z.length),k):this._transitionable.setValue(x,k)}}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,h,x){return(!x||x.validate!==!1)&&i.B(this,s.call(i.C,{value:h,style:{glyphs:!0,sprite:!0},styleSpec:i.u}))}}const Re=new i.t({"sky-color":new i.D(i.u.sky["sky-color"]),"horizon-color":new i.D(i.u.sky["horizon-color"]),"fog-color":new i.D(i.u.sky["fog-color"]),"fog-ground-blend":new i.D(i.u.sky["fog-ground-blend"]),"horizon-fog-blend":new i.D(i.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new i.D(i.u.sky["sky-horizon-blend"]),"atmosphere-blend":new i.D(i.u.sky["atmosphere-blend"])});class je extends i.E{constructor(s){super(),this._transitionable=new i.x(Re,void 0),this.setSky(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new i.H(0))}setSky(s,h={}){if(!this._validate(i.J,s,h)){s||(s={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const x in s){const k=s[x];x.endsWith(i.z)?this._transitionable.setTransition(x.slice(0,-i.z.length),k):this._transitionable.setValue(x,k)}}}getSky(){return this._transitionable.serialize()}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}_validate(s,h,x={}){return x?.validate!==!1&&i.B(this,s.call(i.C,i.e({value:h,style:{glyphs:!0,sprite:!0},styleSpec:i.u})))}calculateFogBlendOpacity(s){return s<60?0:s<70?(s-60)/10:1}}class Ze{constructor(s,h){this.width=s,this.height=h,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(s,h){const x=s.join(",")+String(h);return this.dashEntry[x]||(this.dashEntry[x]=this.addDash(s,h)),this.dashEntry[x]}getDashRanges(s,h,x){const k=[];let L=s.length%2==1?-s[s.length-1]*x:0,U=s[0]*x,W=!0;k.push({left:L,right:U,isDash:W,zeroLength:s[0]===0});let ee=s[0];for(let ce=1;ce<s.length;ce++){W=!W;const fe=s[ce];L=ee*x,ee+=fe,U=ee*x,k.push({left:L,right:U,isDash:W,zeroLength:fe===0})}return k}addRoundDash(s,h,x){const k=h/2;for(let L=-x;L<=x;L++){const U=this.width*(this.nextRow+x+L);let W=0,ee=s[W];for(let ce=0;ce<this.width;ce++){ce/ee.right>1&&(ee=s[++W]);const fe=Math.abs(ce-ee.left),Ce=Math.abs(ce-ee.right),Ee=Math.min(fe,Ce);let Le;const ze=L/x*(k+1);if(ee.isDash){const it=k-Math.abs(ze);Le=Math.sqrt(Ee*Ee+it*it)}else Le=k-Math.sqrt(Ee*Ee+ze*ze);this.data[U+ce]=Math.max(0,Math.min(255,Le+128))}}}addRegularDash(s){for(let W=s.length-1;W>=0;--W){const ee=s[W],ce=s[W+1];ee.zeroLength?s.splice(W,1):ce&&ce.isDash===ee.isDash&&(ce.left=ee.left,s.splice(W,1))}const h=s[0],x=s[s.length-1];h.isDash===x.isDash&&(h.left=x.left-this.width,x.right=h.right+this.width);const k=this.width*this.nextRow;let L=0,U=s[L];for(let W=0;W<this.width;W++){W/U.right>1&&(U=s[++L]);const ee=Math.abs(W-U.left),ce=Math.abs(W-U.right),fe=Math.min(ee,ce);this.data[k+W]=Math.max(0,Math.min(255,(U.isDash?fe:-fe)+128))}}addDash(s,h){const x=h?7:0,k=2*x+1;if(this.nextRow+k>this.height)return i.w("LineAtlas out of space"),null;let L=0;for(let W=0;W<s.length;W++)L+=s[W];if(L!==0){const W=this.width/L,ee=this.getDashRanges(s,this.width,W);h?this.addRoundDash(ee,W,x):this.addRegularDash(ee)}const U={y:this.nextRow+x,height:2*x,width:L};return this.nextRow+=k,this.dirty=!0,U}bind(s){const h=s.gl;this.texture?(h.bindTexture(h.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,h.texSubImage2D(h.TEXTURE_2D,0,0,0,this.width,this.height,h.ALPHA,h.UNSIGNED_BYTE,this.data))):(this.texture=h.createTexture(),h.bindTexture(h.TEXTURE_2D,this.texture),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.REPEAT),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.LINEAR),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.LINEAR),h.texImage2D(h.TEXTURE_2D,0,h.ALPHA,this.width,this.height,0,h.ALPHA,h.UNSIGNED_BYTE,this.data))}}const Qe="maplibre_preloaded_worker_pool";class Pe{constructor(){this.active={}}acquire(s){if(!this.workers)for(this.workers=[];this.workers.length<Pe.workerCount;)this.workers.push(new Worker(i.c.WORKER_URL));return this.active[s]=!0,this.workers.slice()}release(s){delete this.active[s],this.numActive()===0&&(this.workers.forEach((h=>{h.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[Qe]}numActive(){return Object.keys(this.active).length}}const St=Math.floor(P.hardwareConcurrency/2);let Nt,We;function en(){return Nt||(Nt=new Pe),Nt}Pe.workerCount=i.K(globalThis)?Math.max(Math.min(St,3),1):1;class zt{constructor(s,h){this.workerPool=s,this.actors=[],this.currentActor=0,this.id=h;const x=this.workerPool.acquire(h);for(let k=0;k<x.length;k++){const L=new i.L(x[k],h);L.name=`Worker ${k}`,this.actors.push(L)}if(!this.actors.length)throw new Error("No actors found")}broadcast(s,h){const x=[];for(const k of this.actors)x.push(k.sendAsync({type:s,data:h}));return Promise.all(x)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(s=!0){this.actors.forEach((h=>{h.remove()})),this.actors=[],s&&this.workerPool.release(this.id)}registerMessageHandler(s,h){for(const x of this.actors)x.registerMessageHandler(s,h)}unregisterMessageHandler(s){for(const h of this.actors)h.unregisterMessageHandler(s)}}function rn(){return We||(We=new zt(en(),i.M),We.registerMessageHandler("GR",((O,s,h)=>i.m(s,h)))),We}function Ge(O,s){const h=i.N();return i.O(h,h,[1,1,0]),i.Q(h,h,[.5*O.width,.5*O.height,1]),O.calculatePosMatrix?i.S(h,h,O.calculatePosMatrix(s.toUnwrapped())):h}function kn(O,s,h,x,k,L,U){var W;const ee=(function(Ee,Le,ze){if(Ee)for(const it of Ee){const ct=Le[it];if(ct&&ct.source===ze&&ct.type==="fill-extrusion")return!0}else for(const it in Le){const ct=Le[it];if(ct.source===ze&&ct.type==="fill-extrusion")return!0}return!1})((W=k?.layers)!==null&&W!==void 0?W:null,s,O.id),ce=L.maxPitchScaleFactor(),fe=O.tilesIn(x,ce,ee);fe.sort(_n);const Ce=[];for(const Ee of fe)Ce.push({wrappedTileID:Ee.tileID.wrapped().key,queryResults:Ee.tile.queryRenderedFeatures(s,h,O.getState(),Ee.queryGeometry,Ee.cameraQueryGeometry,Ee.scale,k,L,ce,Ge(L,Ee.tileID),U?(Le,ze)=>U(Ee.tileID,Le,ze):void 0)});return(function(Ee,Le){for(const ze in Ee)for(const it of Ee[ze])Lt(it,Le);return Ee})((function(Ee){const Le={},ze={};for(const it of Ee){const ct=it.queryResults,lt=it.wrappedTileID,pt=ze[lt]=ze[lt]||{};for(const Tt in ct){const gt=ct[Tt],At=pt[Tt]=pt[Tt]||{},Rt=Le[Tt]=Le[Tt]||[];for(const bt of gt)At[bt.featureIndex]||(At[bt.featureIndex]=!0,Rt.push(bt))}}return Le})(Ce),O)}function _n(O,s){const h=O.tileID,x=s.tileID;return h.overscaledZ-x.overscaledZ||h.canonical.y-x.canonical.y||h.wrap-x.wrap||h.canonical.x-x.canonical.x}function Lt(O,s){const h=O.feature,x=s.getFeatureState(h.layer["source-layer"],h.id);h.source=h.layer.source,h.layer["source-layer"]&&(h.sourceLayer=h.layer["source-layer"]),h.state=x}function pn(O,s,h){return i._(this,void 0,void 0,(function*(){let x=O;if(O.url?x=(yield i.j(s.transformRequest(O.url,"Source"),h)).data:yield P.frameAsync(h),!x)return null;const k=i.U(i.e(x,O),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in x&&x.vector_layers&&(k.vectorLayerIds=x.vector_layers.map((L=>L.id))),k}))}class Tn{constructor(s,h){s&&(h?this.setSouthWest(s).setNorthEast(h):Array.isArray(s)&&(s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1])))}setNorthEast(s){return this._ne=s instanceof i.V?new i.V(s.lng,s.lat):i.V.convert(s),this}setSouthWest(s){return this._sw=s instanceof i.V?new i.V(s.lng,s.lat):i.V.convert(s),this}extend(s){const h=this._sw,x=this._ne;let k,L;if(s instanceof i.V)k=s,L=s;else{if(!(s instanceof Tn))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend(Tn.convert(s)):this.extend(i.V.convert(s)):s&&("lng"in s||"lon"in s)&&"lat"in s?this.extend(i.V.convert(s)):this;if(k=s._sw,L=s._ne,!k||!L)return this}return h||x?(h.lng=Math.min(k.lng,h.lng),h.lat=Math.min(k.lat,h.lat),x.lng=Math.max(L.lng,x.lng),x.lat=Math.max(L.lat,x.lat)):(this._sw=new i.V(k.lng,k.lat),this._ne=new i.V(L.lng,L.lat)),this}getCenter(){return new i.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new i.V(this.getWest(),this.getNorth())}getSouthEast(){return new i.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:h,lat:x}=i.V.convert(s);let k=this._sw.lng<=h&&h<=this._ne.lng;return this._sw.lng>this._ne.lng&&(k=this._sw.lng>=h&&h>=this._ne.lng),this._sw.lat<=x&&x<=this._ne.lat&&k}intersects(s){if(!((s=Tn.convert(s)).getNorth()>=this.getSouth()&&s.getSouth()<=this.getNorth()))return!1;const h=i.W(this.getWest(),-180,180),x=i.W(this.getEast(),-180,180),k=i.W(s.getWest(),-180,180),L=i.W(s.getEast(),-180,180),U=h>=x,W=k>=L;return!(!U||!W)||(U?L>=h||k<=x:W?x>=k||h<=L:k<=x&&L>=h)}static convert(s){return s instanceof Tn?s:s&&new Tn(s)}static fromLngLat(s,h=0){const x=360*h/40075017,k=x/Math.cos(Math.PI/180*s.lat);return new Tn(new i.V(s.lng-k,s.lat-x),new i.V(s.lng+k,s.lat+x))}adjustAntiMeridian(){const s=new i.V(this._sw.lng,this._sw.lat),h=new i.V(this._ne.lng,this._ne.lat);return new Tn(s,s.lng>h.lng?new i.V(h.lng+360,h.lat):h)}}class tr{constructor(s,h,x){this.bounds=Tn.convert(this.validateBounds(s)),this.minzoom=h||0,this.maxzoom=x||24}validateBounds(s){return Array.isArray(s)&&s.length===4?[Math.max(-180,s[0]),Math.max(-90,s[1]),Math.min(180,s[2]),Math.min(90,s[3])]:[-180,-90,180,90]}contains(s){const h=Math.pow(2,s.z),x=Math.floor(i.Y(this.bounds.getWest())*h),k=Math.floor(i.X(this.bounds.getNorth())*h),L=Math.ceil(i.Y(this.bounds.getEast())*h),U=Math.ceil(i.X(this.bounds.getSouth())*h);return s.x>=x&&s.x<L&&s.y>=k&&s.y<U}}class Vt extends i.E{constructor(s,h,x,k){if(super(),this.id=s,this.dispatcher=x,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,i.e(this,i.U(h,["url","scheme","tileSize","promoteId","encoding"])),this._options=i.e({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(k)}load(){return i._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const s=yield pn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),s&&(i.e(this,s),s.bounds&&(this.tileBounds=new tr(s.bounds,this.minzoom,this.maxzoom)),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.l("data",{dataType:"source",sourceDataType:"content"})))}catch(s){this._tileJSONRequest=null,this._loaded=!0,i.Z(s)||this.fire(new i.k(s))}}))}loaded(){return this._loaded}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}onAdd(s){this.map=s,this.load()}setSourceProperty(s){this._tileJSONRequest&&this._tileJSONRequest.abort(),s(),this.load()}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return i.e({},this._options)}loadTile(s){return i._(this,void 0,void 0,(function*(){const h=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),x={request:this.map._requestManager.transformRequest(h,"Tile"),uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,tileSize:this.tileSize*s.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(s)};x.request.collectResourceTiming=this._collectResourceTiming;let k="RT";if(s.actor&&s.state!=="expired"){if(s.state==="loading")return new Promise(((L,U)=>{s.reloadPromise={resolve:L,reject:U}}))}else s.actor=this.dispatcher.getActor(),k="LT";s.abortController=new AbortController;try{const L=yield s.actor.sendAsync({type:k,data:x},s.abortController);if(delete s.abortController,s.aborted)return;this._afterTileLoadWorkerResponse(s,L)}catch(L){if(delete s.abortController,s.aborted)return;if(L&&L.status!==404)throw L;this._afterTileLoadWorkerResponse(s,null)}}))}_getOverzoomParameters(s){if(s.tileID.canonical.z<=this.maxzoom||this.map._zoomLevelsToOverscale===void 0)return;const h=s.tileID.scaledTo(this.maxzoom).canonical,x=h.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:h,overzoomRequest:this.map._requestManager.transformRequest(x,"Tile")}}_afterTileLoadWorkerResponse(s,h){if(h&&h.resourceTiming&&(s.resourceTiming=h.resourceTiming),h&&this.map._refreshExpiredTiles&&s.setExpiryData(h),s.loadVectorData(h,this.map.painter),s.reloadPromise){const x=s.reloadPromise;s.reloadPromise=null,this.loadTile(s).then(x.resolve).catch(x.reject)}}abortTile(s){return i._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.actor&&(yield s.actor.sendAsync({type:"AT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}unloadTile(s){return i._(this,void 0,void 0,(function*(){s.unloadVectorData(),s.actor&&(yield s.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}}))}))}hasTransition(){return!1}}class lr extends i.E{constructor(s,h,x,k){super(),this.id=s,this.dispatcher=x,this.setEventedParent(k),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=i.e({type:"raster"},h),i.e(this,i.U(h,["url","scheme","tileSize"]))}load(){return i._(this,arguments,void 0,(function*(s=!1){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const h=yield pn(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,h&&(i.e(this,h),h.bounds&&(this.tileBounds=new tr(h.bounds,this.minzoom,this.maxzoom)),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new i.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:s})))}catch(h){this._tileJSONRequest=null,this._loaded=!0,i.Z(h)||this.fire(new i.k(h))}}))}loaded(){return this._loaded}onAdd(s){this.map=s,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(s){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),s(),this.load(!0)}setTiles(s){return this.setSourceProperty((()=>{this._options.tiles=s})),this}setUrl(s){return this.setSourceProperty((()=>{this.url=s,this._options.url=s})),this}serialize(){return i.e({},this._options)}hasTile(s){return!this.tileBounds||this.tileBounds.contains(s.canonical)}loadTile(s){return i._(this,void 0,void 0,(function*(){const h=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);s.abortController=new AbortController;try{const x=yield oe.getImage(this.map._requestManager.transformRequest(h,"Tile"),s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(x&&x.data){this.map._refreshExpiredTiles&&(x.cacheControl||x.expires)&&s.setExpiryData({cacheControl:x.cacheControl,expires:x.expires});const k=this.map.painter.context,L=k.gl,U=x.data;s.texture=this.map.painter.getTileTexture(U.width),s.texture?s.texture.update(U,{useMipmap:!0}):(s.texture=new i.T(k,U,L.RGBA,{useMipmap:!0}),s.texture.bind(L.LINEAR,L.CLAMP_TO_EDGE,L.LINEAR_MIPMAP_NEAREST)),s.state="loaded"}}catch(x){if(delete s.abortController,s.aborted)s.state="unloaded";else if(x)throw s.state="errored",x}}))}abortTile(s){return i._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController)}))}unloadTile(s){return i._(this,void 0,void 0,(function*(){s.texture&&this.map.painter.saveTileTexture(s.texture)}))}hasTransition(){return!1}}class sr extends lr{constructor(s,h,x,k){super(s,h,x,k),this.type="raster-dem",this.maxzoom=22,this._options=i.e({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox",this.redFactor=h.redFactor,this.greenFactor=h.greenFactor,this.blueFactor=h.blueFactor,this.baseShift=h.baseShift}loadTile(s){return i._(this,void 0,void 0,(function*(){const h=s.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),x=this.map._requestManager.transformRequest(h,"Tile");s.neighboringTiles=this._getNeighboringTiles(s.tileID),s.abortController=new AbortController;try{const k=yield oe.getImage(x,s.abortController,this.map._refreshExpiredTiles);if(delete s.abortController,s.aborted)return void(s.state="unloaded");if(k&&k.data){const L=k.data;this.map._refreshExpiredTiles&&(k.cacheControl||k.expires)&&s.setExpiryData({cacheControl:k.cacheControl,expires:k.expires});const U=i.b(L)&&i.$()?L:yield this.readImageNow(L),W={type:this.type,uid:s.uid,source:this.id,rawImageData:U,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!s.actor||s.state==="expired"){s.actor=this.dispatcher.getActor();const ee=yield s.actor.sendAsync({type:"LDT",data:W});s.dem=ee,s.needsHillshadePrepare=!0,s.needsTerrainPrepare=!0,s.state="loaded"}}}catch(k){if(delete s.abortController,s.aborted)s.state="unloaded";else if(k)throw s.state="errored",k}}))}readImageNow(s){return i._(this,void 0,void 0,(function*(){if(typeof VideoFrame<"u"&&i.a0()){const h=s.width+2,x=s.height+2;try{return new i.R({width:h,height:x},yield i.a1(s,-1,-1,h,x))}catch{}}return P.getImageData(s,1)}))}_getNeighboringTiles(s){const h=s.canonical,x=Math.pow(2,h.z),k=(h.x-1+x)%x,L=h.x===0?s.wrap-1:s.wrap,U=(h.x+1+x)%x,W=h.x+1===x?s.wrap+1:s.wrap,ee={};return ee[new i.a2(s.overscaledZ,L,h.z,k,h.y).key]={backfilled:!1},ee[new i.a2(s.overscaledZ,W,h.z,U,h.y).key]={backfilled:!1},h.y>0&&(ee[new i.a2(s.overscaledZ,L,h.z,k,h.y-1).key]={backfilled:!1},ee[new i.a2(s.overscaledZ,s.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},ee[new i.a2(s.overscaledZ,W,h.z,U,h.y-1).key]={backfilled:!1}),h.y+1<x&&(ee[new i.a2(s.overscaledZ,L,h.z,k,h.y+1).key]={backfilled:!1},ee[new i.a2(s.overscaledZ,s.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},ee[new i.a2(s.overscaledZ,W,h.z,U,h.y+1).key]={backfilled:!1}),ee}unloadTile(s){return i._(this,void 0,void 0,(function*(){s.demTexture&&this.map.painter.saveTileTexture(s.demTexture),s.fbo&&(s.fbo.destroy(),delete s.fbo),s.dem&&delete s.dem,delete s.neighboringTiles,s.state="unloaded",s.actor&&(yield s.actor.sendAsync({type:"RDT",data:{type:this.type,uid:s.uid,source:this.id}}))}))}}function xn(O){return O.type==="GeometryCollection"?O.geometries.map((s=>s.coordinates)).flat(1/0):O.coordinates.flat(1/0)}function En(O){const s=new Tn;let h;switch(O.type){case"FeatureCollection":h=O.features.map((x=>xn(x.geometry))).flat(1/0);break;case"Feature":h=xn(O.geometry);break;default:h=xn(O)}if(h.length==0)return s;for(let x=0;x<h.length-1;x+=2)s.extend([h[x],h[x+1]]);return s}class hn extends i.E{constructor(s,h,x,k){super(),this.id=s,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:h.data},this.actor=x.getActor(),this.setEventedParent(k),this._data=typeof h.data=="string"?{url:h.data}:{geojson:h.data},this._options=i.e({},h),this._collectResourceTiming=h.collectResourceTiming,h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId,h.clusterMaxZoom!==void 0&&this.maxzoom<=h.clusterMaxZoom&&i.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${h.clusterMaxZoom}".`),this.workerOptions=i.e({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(h.buffer!==void 0?h.buffer:128),tolerance:this._pixelsToTileUnits(h.tolerance!==void 0?h.tolerance:.375),extent:i.a5,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(h.clusterMaxZoom),minPoints:Math.max(2,h.clusterMinPoints||2),extent:i.a5,radius:this._pixelsToTileUnits(h.clusterRadius||50),log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions),typeof this.promoteId=="string"&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return this._pendingWorkerUpdate.data!==void 0||this._pendingWorkerUpdate.diff!==void 0||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(s){return s*(i.a5/this.tileSize)}_getClusterMaxZoom(s){const h=s?Math.round(s):this.maxzoom-1;return Number.isInteger(s)||s===void 0||i.w(`Integer expected for option 'clusterMaxZoom': provided value "${s}" rounded to "${h}"`),h}load(){return i._(this,void 0,void 0,(function*(){yield this._updateWorkerData()}))}onAdd(s){this.map=s,this.load()}setData(s,h){this._data=typeof s=="string"?{url:s}:{geojson:s},this._pendingWorkerUpdate={data:s};const x=this._updateWorkerData();return h?x:this}updateData(s,h){this._pendingWorkerUpdate.diff=i.a6(this._pendingWorkerUpdate.diff,s);const x=this._updateWorkerData();return h?x:this}getData(){return i._(this,void 0,void 0,(function*(){const s=i.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:s})}))}getBounds(){return i._(this,void 0,void 0,(function*(){return En(yield this.getData())}))}setClusterOptions(s){return this.workerOptions.cluster=s.cluster,s.clusterRadius!==void 0&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(s.clusterRadius)),s.clusterMaxZoom!==void 0&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(s.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(s){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:s,source:this.id}})}getClusterChildren(s){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:s,source:this.id}})}getClusterLeaves(s,h,x){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:s,limit:h,offset:x}})}_updateWorkerData(){return i._(this,void 0,void 0,(function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void i.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:s,diff:h}=this._pendingWorkerUpdate,x=i.e({type:this.type},this.workerOptions);s!==void 0?(typeof s=="string"?(x.request=this.map._requestManager.transformRequest(P.resolveURL(s),"Source"),x.request.collectResourceTiming=this._collectResourceTiming):x.data=s,this._pendingWorkerUpdate.data=void 0):h&&(x.dataDiff=h,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new i.l("dataloading",{dataType:"source"}));try{const k=yield this.actor.sendAsync({type:"LD",data:x});if(this._isUpdatingWorker=!1,this._removed||k.abandoned)return void this.fire(new i.l("dataabort",{dataType:"source"}));h&&this._applyDiff(h);let L=null;k.resourceTiming&&k.resourceTiming[this.id]&&(L=k.resourceTiming[this.id].slice(0));const U={dataType:"source"};this._collectResourceTiming&&L&&L.length>0&&i.e(U,{resourceTiming:L}),this.fire(new i.l("data",Object.assign(Object.assign({},U),{sourceDataType:"metadata"}))),this.fire(new i.l("data",Object.assign(Object.assign({},U),{sourceDataType:"content",shouldReloadTileOptions:this._getShouldReloadTileOptions(h)})))}catch(k){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new i.l("dataabort",{dataType:"source"}));this.fire(new i.k(k))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}}))}_applyDiff(s){const h=typeof this.promoteId=="string"?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){if(!i.a7(this._data.geojson,h))throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:i.a8(this._data.geojson,h)}}this._data.updateable&&i.a9(this._data.updateable,s,h)}_getShouldReloadTileOptions(s){if(this._options.cluster||!s||s.removeAll)return;const{add:h=[],update:x=[],remove:k=[]}=s||{},L=new Set([...x.map((U=>U.id)),...k]);for(const U of L.values())if(typeof U!="number"&&this.promoteId==null)return void i.w(`GeoJSONSource "${this.id}": updateData is slower when using string GeoJSON feature IDs. Consider using promoteId or numeric IDs for better performance.`);return{nextBounds:[...x.map((U=>U.newGeometry)),...h.map((U=>U.geometry))].filter(Boolean).map((U=>En(U))),prevIds:L}}shouldReloadTile(s,{nextBounds:h,prevIds:x}){if(!s.latestFeatureIndex)return s.state!=="unloaded";const k=s.latestFeatureIndex.loadVTLayers();for(let ee=0;ee<s.latestFeatureIndex.featureIndexArray.length;ee++){const ce=s.latestFeatureIndex.featureIndexArray.get(ee),fe=k[i.aa].feature(ce.featureIndex),Ce=s.latestFeatureIndex.getId(fe,i.aa);if(x.has(Ce))return!0}const{buffer:L,extent:U}=this.workerOptions.geojsonVtOptions,W=(function({x:ee,y:ce,z:fe},Ce=0){const Ee=i.a3((ee-Ce)/Math.pow(2,fe)),Le=i.a4((ce+1+Ce)/Math.pow(2,fe)),ze=i.a3((ee+1+Ce)/Math.pow(2,fe)),it=i.a4((ce-Ce)/Math.pow(2,fe));return new Tn([Ee,Le],[ze,it])})(s.tileID.canonical,L/U);for(const ee of h)if(W.intersects(ee))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(s){return i._(this,void 0,void 0,(function*(){const h=s.actor?"RT":"LT";s.actor=this.actor;const x={type:this.type,uid:s.uid,tileID:s.tileID,zoom:s.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};s.abortController=new AbortController;const k=yield this.actor.sendAsync({type:h,data:x},s.abortController);delete s.abortController,s.unloadVectorData(),s.aborted||s.loadVectorData(k,this.map.painter,h==="RT")}))}abortTile(s){return i._(this,void 0,void 0,(function*(){s.abortController&&(s.abortController.abort(),delete s.abortController),s.aborted=!0}))}unloadTile(s){return i._(this,void 0,void 0,(function*(){s.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:s.uid,type:this.type,source:this.id}})}))}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return i.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class jn extends i.E{constructor(s,h,x,k){super(),this.flippedWindingOrder=!1,this.id=s,this.dispatcher=x,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(k),this.options=h}load(s){return i._(this,void 0,void 0,(function*(){this._loaded=!1,this.fire(new i.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const h=yield oe.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,h&&h.data&&(this.image=h.data,s&&(this.coordinates=s),this._finishLoading())}catch(h){this._request=null,this._loaded=!0,i.Z(h)||this.fire(new i.k(h))}}))}loaded(){return this._loaded}updateImage(s){return s.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=s.url,this.load(s.coordinates).finally((()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new i.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(s){this.map=s,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(s){this.coordinates=s;const h=s.map(i.ab.fromLngLat);var x;return this.tileID=(function(k){const L=i.ac.fromPoints(k),U=L.width(),W=L.height(),ee=Math.max(U,W),ce=Math.max(0,Math.floor(-Math.log(ee)/Math.LN2)),fe=Math.pow(2,ce);return new i.ae(ce,Math.floor((L.minX+L.maxX)/2*fe),Math.floor((L.minY+L.maxY)/2*fe))})(h),this.terrainTileRanges=this._getOverlappingTileRanges(h),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=h.map((k=>this.tileID.getTilePoint(k)._round())),this.flippedWindingOrder=((x=this.tileCoords)[1].x-x[0].x)*(x[2].y-x[0].y)-(x[1].y-x[0].y)*(x[2].x-x[0].x)<0,this.fire(new i.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const s=this.map.painter.context,h=s.gl;this.texture||(this.texture=new i.T(s,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let x=!1;for(const k in this.tiles){const L=this.tiles[k];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,x=!0)}x&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(s){return i._(this,void 0,void 0,(function*(){this.tileID&&this.tileID.equals(s.tileID.canonical)?(this.tiles[String(s.tileID.wrap)]=s,s.buckets={}):s.state="errored"}))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(s){const{minX:h,minY:x,maxX:k,maxY:L}=i.ac.fromPoints(s),U={};for(let W=0;W<=i.ad;W++){const ee=Math.pow(2,W),ce=Math.floor(h*ee),fe=Math.floor(x*ee),Ce=Math.floor(k*ee),Ee=Math.floor(L*ee);U[W]={minTileX:ce,minTileY:fe,maxTileX:Ce,maxTileY:Ee}}return U}}class _t extends jn{constructor(s,h,x,k){super(s,h,x,k),this.roundZoom=!0,this.type="video",this.options=h}load(){return i._(this,void 0,void 0,(function*(){this._loaded=!1;const s=this.options;this.urls=[];for(const h of s.urls)this.urls.push(this.map._requestManager.transformRequest(h,"Source").url);try{const h=yield i.af(this.urls);if(this._loaded=!0,!h)return;this.video=h,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading()}catch(h){this.fire(new i.k(h))}}))}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(s){if(this.video){const h=this.video.seekable;s<h.start(0)||s>h.end(0)?this.fire(new i.k(new i.ag(`sources.${this.id}`,null,`Playback for this video can be set only between the ${h.start(0)} and ${h.end(0)}-second mark.`))):this.video.currentTime=s}}getVideo(){return this.video}onAdd(s){this.map||(this.map=s,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const s=this.map.painter.context,h=s.gl;this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new i.T(s,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE));let x=!1;for(const k in this.tiles){const L=this.tiles[k];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture,x=!0)}x&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class Oe extends jn{constructor(s,h,x,k){super(s,h,x,k),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some((L=>!Array.isArray(L)||L.length!==2||L.some((U=>typeof U!="number"))))||this.fire(new i.k(new i.ag(`sources.${s}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new i.k(new i.ag(`sources.${s}`,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new i.k(new i.ag(`sources.${s}`,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof HTMLCanvasElement||this.fire(new i.k(new i.ag(`sources.${s}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new i.k(new i.ag(`sources.${s}`,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}load(){return i._(this,void 0,void 0,(function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new i.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}))}getCanvas(){return this.canvas}onAdd(s){this.map=s,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let s=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,s=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,s=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const h=this.map.painter.context,x=h.gl;this.texture?(s||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new i.T(h,this.canvas,x.RGBA,{premultiply:!0}),this.texture.bind(x.LINEAR,x.CLAMP_TO_EDGE));let k=!1;for(const L in this.tiles){const U=this.tiles[L];U.state!=="loaded"&&(U.state="loaded",U.texture=this.texture,k=!0)}k&&this.fire(new i.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const s of[this.canvas.width,this.canvas.height])if(isNaN(s)||s<=0)return!0;return!1}}const ke={},qe=O=>{switch(O){case"geojson":return hn;case"image":return jn;case"raster":return lr;case"raster-dem":return sr;case"vector":return Vt;case"video":return _t;case"canvas":return Oe}return ke[O]},ut="RTLPluginLoaded";class dt extends i.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=rn()}_syncState(s){return this.status=s,this.dispatcher.broadcast("SRPS",{pluginStatus:s,pluginURL:this.url}).catch((h=>{throw this.status="error",h}))}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(s){return i._(this,arguments,void 0,(function*(h,x=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=P.resolveURL(h),!this.url)throw new Error(`requested url ${h} is invalid`);if(this.status==="unavailable"){if(!x)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if(this.status==="requested")return this._requestImport()}))}_requestImport(){return i._(this,void 0,void 0,(function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new i.l(ut))}))}lazyLoad(){this.status==="unavailable"?this.status="requested":this.status==="deferred"&&this._requestImport()}}let Ut=null;function Bt(){return Ut||(Ut=new dt),Ut}var xt,Ct;(function(O){O[O.Base=0]="Base",O[O.Parent=1]="Parent"})(xt||(xt={})),(function(O){O[O.Departing=0]="Departing",O[O.Incoming=1]="Incoming"})(Ct||(Ct={}));class sn{constructor(s,h){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=s,this.uid=i.ah(),this.uses=0,this.tileSize=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(s){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(s||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:s,fadingDirection:h,fadingParentID:x,fadeEndTime:k}){this.resetFadeLogic(),this.fadingRole=s,this.fadingDirection=h,this.fadingParentID=x,this.fadeEndTime=k}setSelfFadeLogic(s){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=s}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=G(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}clearTextures(s){this.demTexture&&s.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(s,h,x){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData,this.latestFeatureIndex.encoding=s.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=(function(k,L){const U={};if(!L)return U;for(const W of k){const ee=W.layerIds.map((ce=>L.getLayer(ce))).filter(Boolean);if(ee.length!==0){W.layers=ee,W.stateDependentLayerIds&&(W.stateDependentLayers=W.stateDependentLayerIds.map((ce=>ee.filter((fe=>fe.id===ce))[0])));for(const ce of ee)U[ce.id]=W}}return U})(s.buckets,h?.style),this.hasSymbolBuckets=!1;for(const k in this.buckets){const L=this.buckets[k];if(L instanceof i.aj){if(this.hasSymbolBuckets=!0,!x)break;L.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const k in this.buckets){const L=this.buckets[k];if(L instanceof i.aj&&L.hasRTLText){this.hasRTLText=!0,Bt().lazyLoad();break}}this.queryPadding=0;for(const k in this.buckets){const L=this.buckets[k];this.queryPadding=Math.max(this.queryPadding,h.style.getLayer(k).queryRadius(L))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage),this.dashPositions=s.dashPositions}else this.collisionBoxArray=new i.ai}unloadVectorData(){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(s){return this.buckets[s.id]}upload(s){for(const x in this.buckets){const k=this.buckets[x];k.uploadPending()&&k.upload(s)}const h=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new i.T(s,this.imageAtlas.image,h.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new i.T(s,this.glyphAtlasImage,h.ALPHA),this.glyphAtlasImage=null)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,h,x,k,L,U,W,ee,ce,fe,Ce){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:k,cameraQueryGeometry:L,scale:U,tileSize:this.tileSize,pixelPosMatrix:fe,transform:ee,params:W,queryPadding:this.queryPadding*ce,getElevation:Ce},s,h,x):{}}querySourceFeatures(s,h){const x=this.latestFeatureIndex;if(!x||!x.rawTileData)return;const k=x.loadVTLayers(),L=h&&h.sourceLayer?h.sourceLayer:"",U=k[i.aa]||k[L];if(!U)return;const W=i.ak(h?.filter,h?.globalState),{z:ee,x:ce,y:fe}=this.tileID.canonical,Ce={z:ee,x:ce,y:fe};for(let Ee=0;Ee<U.length;Ee++){const Le=U.feature(Ee);if(W.needGeometry){const ct=i.al(Le,!0);if(!W.filter(new i.H(this.tileID.overscaledZ),ct,this.tileID.canonical))continue}else if(!W.filter(new i.H(this.tileID.overscaledZ),Le))continue;const ze=x.getId(Le,L),it=new i.am(Le,ee,ce,fe,ze);it.tile=Ce,s.push(it)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const h=this.expirationTime;if(s.cacheControl){const x=i.an(s.cacheControl);x["max-age"]&&(this.expirationTime=Date.now()+1e3*x["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const x=Date.now();let k=!1;if(this.expirationTime>x)k=!1;else if(h)if(this.expirationTime<h)k=!0;else{const L=this.expirationTime-h;L?this.expirationTime=x+Math.max(L,3e4):k=!0}else k=!0;k?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,h){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0)return;const x=this.latestFeatureIndex.loadVTLayers();for(const k in this.buckets){if(!h.style.hasLayer(k))continue;const L=this.buckets[k],U=L.layers[0].sourceLayer||i.aa,W=x[U],ee=s[U];if(!W||!ee||Object.keys(ee).length===0)continue;L.update(ee,W,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const ce=h&&h.style&&h.style.getLayer(k);ce&&(this.queryPadding=Math.max(this.queryPadding,ce.queryRadius(L)))}}holdingForSymbolFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<G()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(s){this.symbolFadeHoldUntil=G()+s}setDependencies(s,h){const x={};for(const k of h)x[k]=!0;this.dependencies[s]=x}hasDependency(s,h){for(const x of s){const k=this.dependencies[x];if(k){for(const L of h)if(k[L])return!0}}return!1}}class mn{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,h,x){const k=String(h);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][k]=this.stateChanges[s][k]||{},i.e(this.stateChanges[s][k],x),this.deletedStates[s]===null){this.deletedStates[s]={};for(const L in this.state[s])L!==k&&(this.deletedStates[s][L]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][k]===null){this.deletedStates[s][k]={};for(const L in this.state[s][k])x[L]||(this.deletedStates[s][k][L]=null)}else for(const L in x)this.deletedStates[s]&&this.deletedStates[s][k]&&this.deletedStates[s][k][L]===null&&delete this.deletedStates[s][k][L]}removeFeatureState(s,h,x){if(this.deletedStates[s]===null)return;const k=String(h);if(this.deletedStates[s]=this.deletedStates[s]||{},x&&h!==void 0)this.deletedStates[s][k]!==null&&(this.deletedStates[s][k]=this.deletedStates[s][k]||{},this.deletedStates[s][k][x]=null);else if(h!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][k])for(x in this.deletedStates[s][k]={},this.stateChanges[s][k])this.deletedStates[s][k][x]=null;else this.deletedStates[s][k]=null;else this.deletedStates[s]=null}getState(s,h){const x=String(h),k=i.e({},(this.state[s]||{})[x],(this.stateChanges[s]||{})[x]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const L=this.deletedStates[s][h];if(L===null)return{};for(const U in L)delete k[U]}return k}initializeTileState(s,h){s.setFeatureState(this.state,h)}coalesceChanges(s,h){const x={};for(const k in this.stateChanges){this.state[k]=this.state[k]||{};const L={};for(const U in this.stateChanges[k])this.state[k][U]||(this.state[k][U]={}),i.e(this.state[k][U],this.stateChanges[k][U]),L[U]=this.state[k][U];x[k]=L}for(const k in this.deletedStates){this.state[k]=this.state[k]||{};const L={};if(this.deletedStates[k]===null)for(const U in this.state[k])L[U]={},this.state[k][U]={};else for(const U in this.deletedStates[k]){if(this.deletedStates[k][U]===null)this.state[k][U]={};else for(const W of Object.keys(this.deletedStates[k][U]))delete this.state[k][U][W];L[U]=this.state[k][U]}x[k]=x[k]||{},i.e(x[k],L)}this.stateChanges={},this.deletedStates={},Object.keys(x).length!==0&&s.setFeatureState(x,h)}}const Vn=89.25;function gn(O,s){const h=i.ao(s.lat,-i.ap,i.ap);return new i.P(i.Y(s.lng)*O,i.X(h)*O)}function qn(O,s){return new i.ab(s.x/O,s.y/O).toLngLat()}function Xn(O){return O.cameraToCenterDistance*Math.min(.85*Math.tan(i.aq(90-O.pitch)),Math.tan(i.aq(Vn-O.pitch)))}function Qn(O,s){const h=O.canonical,x=s/i.ar(h.z),k=h.x+Math.pow(2,h.z)*O.wrap,L=i.as(new Float64Array(16));return i.O(L,L,[k*x,h.y*x,0]),i.Q(L,L,[x/i.a5,x/i.a5,1]),L}function Pt(O,s,h,x,k){const L=i.ab.fromLngLat(O,s),U=k*i.at(1,O.lat),{x:W,y:ee,z:ce}=wn(h,x);return new i.ab(L.x+U*-W,L.y+U*-ee,L.z+U*-ce)}function wn(O,s){const h=i.aq(O),x=i.aq(s),k=Math.cos(-h),L=Math.sin(h);return{x:L*Math.sin(x),y:-L*Math.cos(x),z:k}}function Mr(O,s,h){const x=s.intersectsFrustum(O);if(!h||x===0)return x;const k=s.intersectsPlane(h);return k===0?0:x===2&&k===2?2:1}function Mn(O,s,h){let x=0;const k=(h-s)/10;for(let L=0;L<10;L++)x+=k*Math.pow(Math.cos(s+(L+.5)/10*(h-s)),O);return x}function on(O,s){return function(h,x,k,L,U){const W=2*((O-1)/i.au(Math.cos(i.aq(Vn-U))/Math.cos(i.aq(Vn)))-1),ee=Math.acos(k/L),ce=2*Mn(W-1,0,i.aq(U/2)),fe=Math.min(i.aq(Vn),ee+i.aq(U/2)),Ce=Mn(W-1,Math.min(fe,ee-i.aq(U/2)),fe),Ee=Math.atan(x/k),Le=Math.hypot(x,k);let ze=h;return ze+=i.au(L/Le/Math.max(.5,Math.cos(i.aq(U/2)))),ze+=W*i.au(Math.cos(Ee))/2,ze-=i.au(Math.max(1,Ce/ce/s))/2,ze}}const Wr=on(9.314,3);function Tr(O,s){const h=(s.roundZoom?Math.round:Math.floor)(O.zoom+i.au(O.tileSize/s.tileSize));return Math.max(0,h)}function Ir(O,s){const h=O.getCameraFrustum(),x=O.getClippingPlane(),k=O.screenPointToMercatorCoordinate(O.getCameraPoint()),L=i.ab.fromLngLat(O.center,O.elevation);k.z=L.z+Math.cos(O.pitchInRadians)*O.cameraToCenterDistance/O.worldSize;const U=O.getCoveringTilesDetailsProvider(),W=U.allowVariableZoom(O,s),ee=Tr(O,s),ce=s.minzoom||0,fe=s.maxzoom!==void 0?s.maxzoom:O.maxZoom,Ce=Math.min(Math.max(0,ee),fe),Ee=Math.pow(2,Ce),Le=[Ee*k.x,Ee*k.y,0],ze=[Ee*L.x,Ee*L.y,0],it=Math.hypot(L.x-k.x,L.y-k.y),ct=Math.abs(L.z-k.z),lt=Math.hypot(it,ct),pt=At=>({zoom:0,x:0,y:0,wrap:At,fullyVisible:!1}),Tt=[],gt=[];if(O.renderWorldCopies&&U.allowWorldCopies())for(let At=1;At<=3;At++)Tt.push(pt(-At)),Tt.push(pt(At));for(Tt.push(pt(0));Tt.length>0;){const At=Tt.pop(),Rt=At.x,bt=At.y;let jt=At.fullyVisible;const Qt={x:Rt,y:bt,z:At.zoom},Jt=U.getTileBoundingVolume(Qt,At.wrap,O.elevation,s);if(!jt){const Zn=Mr(h,Jt,x);if(Zn===0)continue;jt=Zn===2}const nn=U.distanceToTile2d(k.x,k.y,Qt,Jt);let an=ee;W&&(an=(s.calculateTileZoom||Wr)(O.zoom+i.au(O.tileSize/s.tileSize),nn,ct,lt,O.fov)),an=(s.roundZoom?Math.round:Math.floor)(an),an=Math.max(0,an);const On=Math.min(an,fe);if(At.wrap=U.getWrap(L,Qt,At.wrap),At.zoom>=On){if(At.zoom<ce)continue;const Zn=Ce-At.zoom,Nn=Le[0]-.5-(Rt<<Zn),wr=Le[1]-.5-(bt<<Zn),oa=s.reparseOverscaled?Math.max(At.zoom,an):At.zoom;gt.push({tileID:new i.a2(At.zoom===fe?oa:At.zoom,At.wrap,At.zoom,Rt,bt),distanceSq:i.av([ze[0]-.5-Rt,ze[1]-.5-bt]),tileDistanceToCamera:Math.sqrt(Nn*Nn+wr*wr)})}else for(let Zn=0;Zn<4;Zn++)Tt.push({zoom:At.zoom+1,x:(Rt<<1)+Zn%2,y:(bt<<1)+(Zn>>1),wrap:At.wrap,fullyVisible:jt})}return gt.sort(((At,Rt)=>At.distanceSq-Rt.distanceSq)).map((At=>At.tileID))}const Xr=i.ac.fromPoints([new i.P(0,0),new i.P(i.a5,i.a5)]);function yt(O){return O==="raster"||O==="image"||O==="video"}function Ft(O,s,h,x,k,L,U){if(!s.hasData())return!1;const{tileID:W,fadingRole:ee,fadingDirection:ce,fadingParentID:fe}=s;if(ee===xt.Base&&ce===Ct.Incoming&&fe)return h[fe.key]=fe,!0;const Ce=Math.max(W.overscaledZ-k,L);for(let Ee=W.overscaledZ-1;Ee>=Ce;Ee--){const Le=W.scaledTo(Ee),ze=O.getLoadedTile(Le);if(ze)return s.setCrossFadeLogic({fadingRole:xt.Base,fadingDirection:Ct.Incoming,fadingParentID:ze.tileID,fadeEndTime:x+U}),ze.setCrossFadeLogic({fadingRole:xt.Parent,fadingDirection:Ct.Departing,fadeEndTime:x+U}),h[Le.key]=Le,!0}return!1}function Yt(O,s,h,x,k,L){if(!s.hasData())return!1;const U=s.tileID.children(k);let W=Ot(O,s,U,h,x,k,L);if(W)return!0;for(const ee of U)Ot(O,s,ee.children(k),h,x,k,L)&&(W=!0);return W}function Ot(O,s,h,x,k,L,U){if(h[0].overscaledZ>=L)return!1;let W=!1;for(const ee of h){const ce=O.getLoadedTile(ee);if(!ce)continue;const{fadingRole:fe,fadingDirection:Ce,fadingParentID:Ee}=ce;fe===xt.Base&&Ce===Ct.Departing&&Ee||(ce.setCrossFadeLogic({fadingRole:xt.Base,fadingDirection:Ct.Departing,fadingParentID:s.tileID,fadeEndTime:k+U}),s.setCrossFadeLogic({fadingRole:xt.Parent,fadingDirection:Ct.Incoming,fadeEndTime:k+U})),x[ee.key]=ee,W=!0}return W}function Pn(O,s,h,x){const k=O.tileID;return!!O.selfFading||!O.hasData()&&!!s.has(k)&&(O.setSelfFadeLogic(h+x),!0)}function nr(O,s){var h;O.needsHillshadePrepare=!0,O.needsTerrainPrepare=!0;let x=s.tileID.canonical.x-O.tileID.canonical.x;const k=s.tileID.canonical.y-O.tileID.canonical.y,L=Math.pow(2,O.tileID.canonical.z),U=s.tileID.key;x===0&&k===0||Math.abs(k)>1||(Math.abs(x)>1&&(Math.abs(x+L)===1?x+=L:Math.abs(x-L)===1&&(x-=L)),s.dem&&O.dem&&(O.dem.backfillBorder(s.dem,x,k),!((h=O.neighboringTiles)===null||h===void 0)&&h[U]&&(O.neighboringTiles[U].backfilled=!0)))}class fr{constructor(){this._tiles={}}handleWrapJump(s){const h={};for(const x in this._tiles){const k=this._tiles[x];k.tileID=k.tileID.unwrapTo(k.tileID.wrap+s),h[k.tileID.key]=k}this._tiles=h}setFeatureState(s,h){for(const x in this._tiles)this._tiles[x].setFeatureState(s,h)}getAllTiles(){return Object.values(this._tiles)}getAllIds(s=!1){return s?Object.values(this._tiles).map((h=>h.tileID)).sort(i.ax).map((h=>h.key)):Object.keys(this._tiles)}getTileById(s){return this._tiles[s]}setTile(s,h){this._tiles[s]=h}deleteTileById(s){delete this._tiles[s]}getLoadedTile(s){const h=this.getTileById(s.key);return h?.hasData()?h:null}isIdRenderable(s,h=!1){var x;return(x=this.getTileById(s))===null||x===void 0?void 0:x.isRenderable(h)}getRenderableIds(s=0,h){const x=[];for(const k of this.getAllIds())this.isIdRenderable(k,h)&&x.push(this.getTileById(k));return h?x.sort(((k,L)=>{const U=k.tileID,W=L.tileID,ee=new i.P(U.canonical.x,U.canonical.y)._rotate(-s),ce=new i.P(W.canonical.x,W.canonical.y)._rotate(-s);return U.overscaledZ-W.overscaledZ||ce.y-ee.y||ce.x-ee.x})).map((k=>k.tileID.key)):x.map((k=>k.tileID)).sort(i.ax).map((k=>k.key))}}class Jn extends i.E{constructor(s,h,x){super(),this.id=s,this.dispatcher=x,this.on("data",(k=>this._dataHandler(k))),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((k,L,U,W)=>{const ee=new(qe(L.type))(k,L,U,W);if(ee.id!==k)throw new Error(`Expected Source id to be ${k} instead of ${ee.id}`);return ee})(s,h,x,this),this._inViewTiles=new fr,this._outOfViewCache=new i.ay(0,(k=>this._unloadTile(k))),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new mn,this._didEmitContent=!1,this._updated=!1}onAdd(s){this.map=s,this._maxTileCacheSize=s?s._maxTileCacheSize:null,this._maxTileCacheZoomLevels=s?s._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(s)}onRemove(s){for(const h of this._inViewTiles.getAllTiles())h.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(s),this._inViewTiles=new fr}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;if(!(this.used===void 0&&this.usedForTerrain===void 0||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const s of this._inViewTiles.getAllTiles())if(s.state!=="loaded"&&s.state!=="errored")return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(s,h,x){return i._(this,void 0,void 0,(function*(){try{yield this._source.loadTile(s),this._tileLoaded(s,h,x)}catch(k){s.state="errored",k.status!==404?this._source.fire(new i.k(k,{tile:s})):this.update(this.transform,this.terrain)}}))}_unloadTile(s){this._source.unloadTile&&this._source.unloadTile(s)}_abortTile(s){this._source.abortTile&&this._source.abortTile(s),this._source.fire(new i.l("dataabort",{tile:s,coord:s.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const h of this._inViewTiles.getAllTiles())h.upload(s),h.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(s){var h;return this._inViewTiles.getRenderableIds((h=this.transform)===null||h===void 0?void 0:h.bearingInRadians,s)}hasRenderableParent(s){const h=s.overscaledZ-1;if(h>=this._source.minzoom){const x=this.getLoadedTile(s.scaledTo(h));if(x)return this._inViewTiles.isIdRenderable(x.tileID.key)}return!1}reload(s,h=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const x of this._inViewTiles.getAllIds()){const k=this._inViewTiles.getTileById(x);h&&!this._source.shouldReloadTile(k,h)||(s?this._reloadTile(x,"expired"):k.state!=="errored"&&this._reloadTile(x,"reloading"))}}}_reloadTile(s,h){return i._(this,void 0,void 0,(function*(){const x=this._inViewTiles.getTileById(s);x&&(x.state!=="loading"&&(x.state=h),yield this._loadTile(x,s,h))}))}_tileLoaded(s,h,x){s.timeAdded=G(),s.selfFading&&(s.fadeEndTime=s.timeAdded+this._rasterFadeDuration),x==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(h,s),this.getSource().type==="raster-dem"&&s.dem&&(function(k,L){var U,W;const ee=L.getRenderableIds();for(const ce of ee){if(!k.neighboringTiles||!k.neighboringTiles[ce])continue;const fe=L.getTileById(ce);k.neighboringTiles[ce].backfilled||nr(k,fe),!((W=(U=fe.neighboringTiles)===null||U===void 0?void 0:U[k.tileID.key])===null||W===void 0)&&W.backfilled||nr(fe,k)}})(s,this._inViewTiles),this._state.initializeTileState(s,this.map?this.map.painter:null),s.aborted||this._source.fire(new i.l("data",{dataType:"source",tile:s,coord:s.tileID}))}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._inViewTiles.getTileById(s)}_retainLoadedChildren(s,h){const x=this._getLoadedDescendents(h),k=new Set;for(const L of h){const U=x[L.key];if(!U?.length){k.add(L);continue}const W=L.overscaledZ+Jn.maxOverzooming,ee=U.filter((Ce=>Ce.tileID.overscaledZ<=W));if(!ee.length){k.add(L);continue}const ce=Math.min(...ee.map((Ce=>Ce.tileID.overscaledZ))),fe=ee.filter((Ce=>Ce.tileID.overscaledZ===ce)).map((Ce=>Ce.tileID));for(const Ce of fe)s[Ce.key]=Ce;this._areDescendentsComplete(fe,ce,L.overscaledZ)||k.add(L)}return k}_getLoadedDescendents(s){var h;const x={};for(const k of this._inViewTiles.getAllTiles().filter((L=>L.hasData())))for(const L of s)k.tileID.isChildOf(L)&&(x[h=L.key]||(x[h]=[])).push(k);return x}_areDescendentsComplete(s,h,x){return s.length===1&&s[0].isOverscaled()?s[0].overscaledZ===h:Math.pow(4,h-x)===s.length}getLoadedTile(s){return this._inViewTiles.getLoadedTile(s)}updateCacheSize(s){const h=Math.ceil(s.width/this._source.tileSize)+1,x=Math.ceil(s.height/this._source.tileSize)+1,k=Math.floor(h*x*(this._maxTileCacheZoomLevels===null?i.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),L=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,k):k;this._outOfViewCache.setMaxSize(L)}handleWrapJump(s){const h=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);this._prevLng=s,h&&(this._inViewTiles.handleWrapJump(h),this._resetTileReloadTimers())}update(s,h){if(!this._sourceLoaded||this._paused)return;let x;this.transform=s,this.terrain=h,this.updateCacheSize(s),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?x=s.getVisibleUnwrappedCoordinates(this._source.tileID).map((ee=>new i.a2(ee.canonical.z,ee.wrap,ee.canonical.z,ee.canonical.x,ee.canonical.y))):(x=Ir(s,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.type==="vector"&&this.map._zoomLevelsToOverscale!==void 0?s.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:h,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(x=x.filter((ee=>this._source.hasTile(ee))))):x=[],this.usedForTerrain&&(x=this._addTerrainIdealTiles(x));const k=x.length===0&&!this._updated&&this._didEmitContent;this._updated=!0,k&&this.fire(new i.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const L=Tr(s,this._source),U=this._updateRetainedTiles(x,L),W=yt(this._source.type);W&&this._rasterFadeDuration>0&&!h&&(function(ee,ce,fe,Ce,Ee,Le,ze){const it=G(),ct=i.aw(ce);for(const lt of ce){const pt=ee.getTileById(lt.key);pt.fadingDirection!==Ct.Departing&&pt.fadeOpacity!==0||pt.resetFadeLogic(),Ft(ee,pt,fe,it,Ce,Ee,ze)||Yt(ee,pt,fe,it,Le,ze)||Pn(pt,ct,it,ze)||pt.resetFadeLogic()}})(this._inViewTiles,x,U,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),W?this._cleanUpRasterTiles(U):this._cleanUpVectorTiles(U)}_cleanUpRasterTiles(s){for(const h of this._inViewTiles.getAllIds())s[h]||this._removeTile(h)}_cleanUpVectorTiles(s){for(const h of this._inViewTiles.getAllIds()){const x=this._inViewTiles.getTileById(h);s[h]?x.clearSymbolFadeHold():x.hasSymbolBuckets?x.holdingForSymbolFade()?x.symbolFadeFinished()&&this._removeTile(h):x.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(h)}}_addTerrainIdealTiles(s){const h=[];for(const x of s)if(x.canonical.z>this._source.minzoom){const k=x.scaledTo(x.canonical.z-1);h.push(k);const L=x.scaledTo(Math.max(this._source.minzoom,Math.min(x.canonical.z,5)));h.push(L)}return s.concat(h)}releaseSymbolFadeTiles(){for(const s of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(s).holdingForSymbolFade()&&this._removeTile(s)}_updateRetainedTiles(s,h){var x;const k=new Set;for(const ce of s)this._addTile(ce).hasData()||k.add(ce);const L=s.reduce(((ce,fe)=>(ce[fe.key]=fe,ce)),{}),U=this._retainLoadedChildren(L,k),W={},ee=Math.max(h-Jn.maxUnderzooming,this._source.minzoom);for(const ce of U){let fe=this._inViewTiles.getTileById(ce.key),Ce=fe?.wasRequested();for(let Ee=ce.overscaledZ-1;Ee>=ee;--Ee){const Le=ce.scaledTo(Ee);if(W[Le.key])break;if(W[Le.key]=!0,fe=this.getTile(Le),!fe&&Ce&&(fe=this._addTile(Le)),fe){const ze=fe.hasData();if((ze||!(!((x=this.map)===null||x===void 0)&&x.cancelPendingTileRequestsWhileZooming)||Ce)&&(L[Le.key]=Le),Ce=fe.wasRequested(),ze)break}}}return L}_addTile(s){let h=this._inViewTiles.getTileById(s.key);if(h)return h;h=this._outOfViewCache.getAndRemove(s),h&&(h.resetFadeLogic(),this._setTileReloadTimer(s.key,h),h.tileID=s,this._state.initializeTileState(h,this.map?this.map.painter:null));const x=h;return h||(h=new sn(s,this._source.tileSize*s.overscaleFactor()),this._loadTile(h,s.key,h.state)),h.uses++,this._inViewTiles.setTile(s.key,h),x||this._source.fire(new i.l("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h}_setTileReloadTimer(s,h){this._clearTileReloadTimer(s);const x=h.getExpiryTimeout();x&&(this._timers[s]=setTimeout((()=>{this._reloadTile(s,"expired"),delete this._timers[s]}),x))}_clearTileReloadTimer(s){const h=this._timers[s];h&&(clearTimeout(h),delete this._timers[s])}_resetTileReloadTimers(){for(const s in this._timers)clearTimeout(this._timers[s]),delete this._timers[s];for(const s of this._inViewTiles.getAllIds()){const h=this._inViewTiles.getTileById(s);this._setTileReloadTimer(s,h)}}refreshTiles(s){for(const h of this._inViewTiles.getAllIds()){const x=this._inViewTiles.getTileById(h);(this._inViewTiles.isIdRenderable(h)||x.state=="errored")&&s.some((k=>k.equals(x.tileID.canonical)))&&this._reloadTile(h,"expired")}}_removeTile(s){const h=this._inViewTiles.getTileById(s);h&&(h.uses--,this._inViewTiles.deleteTileById(s),this._clearTileReloadTimer(s),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._outOfViewCache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))}_dataHandler(s){s.dataType==="source"&&(s.sourceDataType!=="metadata"?s.sourceDataType==="content"&&this._sourceLoaded&&!this._paused&&(this.reload(s.sourceDataChanged,s.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s of this._inViewTiles.getAllIds())this._removeTile(s);this._outOfViewCache.reset()}tilesIn(s,h,x){const k=[],L=this.transform;if(!L)return k;const U=L.getCoveringTilesDetailsProvider().allowWorldCopies(),W=x?L.getCameraQueryGeometry(s):s,ee=Le=>L.screenPointToMercatorCoordinate(Le,this.terrain),ce=this.transformBbox(s,ee,!U),fe=this.transformBbox(W,ee,!U),Ce=this.getIds(),Ee=i.ac.fromPoints(fe);for(let Le=0;Le<Ce.length;Le++){const ze=this._inViewTiles.getTileById(Ce[Le]);if(ze.holdingForSymbolFade())continue;const it=U?[ze.tileID]:[ze.tileID.unwrapTo(-1),ze.tileID.unwrapTo(0)],ct=Math.pow(2,L.zoom-ze.tileID.overscaledZ),lt=h*ze.queryPadding*i.a5/ze.tileSize/ct;for(const pt of it){const Tt=Ee.map((gt=>pt.getTilePoint(new i.ab(gt.x,gt.y))));if(Tt.expandBy(lt),Tt.intersects(Xr)){const gt=ce.map((Rt=>pt.getTilePoint(Rt))),At=fe.map((Rt=>pt.getTilePoint(Rt)));k.push({tile:ze,tileID:U?pt:pt.unwrapTo(0),queryGeometry:gt,cameraQueryGeometry:At,scale:ct})}}}return k}transformBbox(s,h,x){let k=s.map(h);if(x){const L=i.ac.fromPoints(s);L.shrinkBy(.001*Math.min(L.width(),L.height()));const U=L.map(h);i.ac.fromPoints(k).covers(U)||(k=k.map((W=>W.x>.5?new i.ab(W.x-1,W.y,W.z):W)))}return k}getVisibleCoordinates(s){const h=this.getRenderableIds(s).map((x=>this._inViewTiles.getTileById(x).tileID));return this.transform&&this.transform.populateCache(h),h}hasTransition(){return!!this._source.hasTransition()||!(!yt(this._source.type)||!(function(s,h){if(h<=0)return!1;const x=G();for(const k of s.getAllTiles())if(k.fadeEndTime>=x)return!0;return!1})(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(s){this._rasterFadeDuration=s}setFeatureState(s,h,x){this._state.updateState(s=s||i.aa,h,x)}removeFeatureState(s,h,x){this._state.removeFeatureState(s=s||i.aa,h,x)}getFeatureState(s,h){return this._state.getState(s=s||i.aa,h)}setDependencies(s,h,x){const k=this._inViewTiles.getTileById(s);k&&k.setDependencies(h,x)}reloadTilesForDependencies(s,h){for(const x of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(x).hasDependency(s,h)&&this._reloadTile(x,"reloading");this._outOfViewCache.filter((x=>!x.hasDependency(s,h)))}areTilesLoaded(){for(const s of this._inViewTiles.getAllTiles())if(s.state!=="loaded"&&s.state!=="errored")return!1;return!0}}Jn.maxUnderzooming=10,Jn.maxOverzooming=3;class qt{constructor(s,h){this.reset(s,h)}reset(s,h){this.points=s||[],this._distances=[0];for(let x=1;x<this.points.length;x++)this._distances[x]=this._distances[x-1]+this.points[x].dist(this.points[x-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(h||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(s){if(this.points.length===1)return this.points[0];s=i.ao(s,0,1);let h=1,x=this._distances[h];const k=s*this.paddedLength+this.padding;for(;x<k&&h<this._distances.length;)x=this._distances[++h];const L=h-1,U=this._distances[L],W=x-U,ee=W>0?(k-U)/W:0;return this.points[L].mult(1-ee).add(this.points[h].mult(ee))}}function Gn(O,s){let h=!0;return O==="always"||O!=="never"&&s!=="never"||(h=!1),h}class zn{constructor(s,h,x){const k=this.boxCells=[],L=this.circleCells=[];this.xCellCount=Math.ceil(s/x),this.yCellCount=Math.ceil(h/x);for(let U=0;U<this.xCellCount*this.yCellCount;U++)k.push([]),L.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=s,this.height=h,this.xScale=this.xCellCount/s,this.yScale=this.yCellCount/h,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(s,h,x,k,L){this._forEachCell(h,x,k,L,this._insertBoxCell,this.boxUid++),this.boxKeys.push(s),this.bboxes.push(h),this.bboxes.push(x),this.bboxes.push(k),this.bboxes.push(L)}insertCircle(s,h,x,k){this._forEachCell(h-k,x-k,h+k,x+k,this._insertCircleCell,this.circleUid++),this.circleKeys.push(s),this.circles.push(h),this.circles.push(x),this.circles.push(k)}_insertBoxCell(s,h,x,k,L,U){this.boxCells[L].push(U)}_insertCircleCell(s,h,x,k,L,U){this.circleCells[L].push(U)}_query(s,h,x,k,L,U,W){if(x<0||s>this.width||k<0||h>this.height)return[];const ee=[];if(s<=0&&h<=0&&this.width<=x&&this.height<=k){if(L)return[{key:null,x1:s,y1:h,x2:x,y2:k}];for(let ce=0;ce<this.boxKeys.length;ce++)ee.push({key:this.boxKeys[ce],x1:this.bboxes[4*ce],y1:this.bboxes[4*ce+1],x2:this.bboxes[4*ce+2],y2:this.bboxes[4*ce+3]});for(let ce=0;ce<this.circleKeys.length;ce++){const fe=this.circles[3*ce],Ce=this.circles[3*ce+1],Ee=this.circles[3*ce+2];ee.push({key:this.circleKeys[ce],x1:fe-Ee,y1:Ce-Ee,x2:fe+Ee,y2:Ce+Ee})}}else this._forEachCell(s,h,x,k,this._queryCell,ee,{hitTest:L,overlapMode:U,seenUids:{box:{},circle:{}}},W);return ee}query(s,h,x,k){return this._query(s,h,x,k,!1,null)}hitTest(s,h,x,k,L,U){return this._query(s,h,x,k,!0,L,U).length>0}hitTestCircle(s,h,x,k,L){const U=s-x,W=s+x,ee=h-x,ce=h+x;if(W<0||U>this.width||ce<0||ee>this.height)return!1;const fe=[];return this._forEachCell(U,ee,W,ce,this._queryCellCircle,fe,{hitTest:!0,overlapMode:k,circle:{x:s,y:h,radius:x},seenUids:{box:{},circle:{}}},L),fe.length>0}_queryCell(s,h,x,k,L,U,W,ee){const{seenUids:ce,hitTest:fe,overlapMode:Ce}=W,Ee=this.boxCells[L];if(Ee!==null){const ze=this.bboxes;for(const it of Ee)if(!ce.box[it]){ce.box[it]=!0;const ct=4*it,lt=this.boxKeys[it];if(s<=ze[ct+2]&&h<=ze[ct+3]&&x>=ze[ct+0]&&k>=ze[ct+1]&&(!ee||ee(lt))&&(!fe||!Gn(Ce,lt.overlapMode))&&(U.push({key:lt,x1:ze[ct],y1:ze[ct+1],x2:ze[ct+2],y2:ze[ct+3]}),fe))return!0}}const Le=this.circleCells[L];if(Le!==null){const ze=this.circles;for(const it of Le)if(!ce.circle[it]){ce.circle[it]=!0;const ct=3*it,lt=this.circleKeys[it];if(this._circleAndRectCollide(ze[ct],ze[ct+1],ze[ct+2],s,h,x,k)&&(!ee||ee(lt))&&(!fe||!Gn(Ce,lt.overlapMode))){const pt=ze[ct],Tt=ze[ct+1],gt=ze[ct+2];if(U.push({key:lt,x1:pt-gt,y1:Tt-gt,x2:pt+gt,y2:Tt+gt}),fe)return!0}}}return!1}_queryCellCircle(s,h,x,k,L,U,W,ee){const{circle:ce,seenUids:fe,overlapMode:Ce}=W,Ee=this.boxCells[L];if(Ee!==null){const ze=this.bboxes;for(const it of Ee)if(!fe.box[it]){fe.box[it]=!0;const ct=4*it,lt=this.boxKeys[it];if(this._circleAndRectCollide(ce.x,ce.y,ce.radius,ze[ct+0],ze[ct+1],ze[ct+2],ze[ct+3])&&(!ee||ee(lt))&&!Gn(Ce,lt.overlapMode))return U.push(!0),!0}}const Le=this.circleCells[L];if(Le!==null){const ze=this.circles;for(const it of Le)if(!fe.circle[it]){fe.circle[it]=!0;const ct=3*it,lt=this.circleKeys[it];if(this._circlesCollide(ze[ct],ze[ct+1],ze[ct+2],ce.x,ce.y,ce.radius)&&(!ee||ee(lt))&&!Gn(Ce,lt.overlapMode))return U.push(!0),!0}}}_forEachCell(s,h,x,k,L,U,W,ee){const ce=this._convertToXCellCoord(s),fe=this._convertToYCellCoord(h),Ce=this._convertToXCellCoord(x),Ee=this._convertToYCellCoord(k);for(let Le=ce;Le<=Ce;Le++)for(let ze=fe;ze<=Ee;ze++)if(L.call(this,s,h,x,k,this.xCellCount*ze+Le,U,W,ee))return}_convertToXCellCoord(s){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(s*this.xScale)))}_convertToYCellCoord(s){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(s*this.yScale)))}_circlesCollide(s,h,x,k,L,U){const W=k-s,ee=L-h,ce=x+U;return ce*ce>W*W+ee*ee}_circleAndRectCollide(s,h,x,k,L,U,W){const ee=(U-k)/2,ce=Math.abs(s-(k+ee));if(ce>ee+x)return!1;const fe=(W-L)/2,Ce=Math.abs(h-(L+fe));if(Ce>fe+x)return!1;if(ce<=ee||Ce<=fe)return!0;const Ee=ce-ee,Le=Ce-fe;return Ee*Ee+Le*Le<=x*x}}function hr(O,s,h){const x=i.N();if(!O){const{vecSouth:Ce,vecEast:Ee}=ua(s),Le=b();Le[0]=Ee[0],Le[1]=Ee[1],Le[2]=Ce[0],Le[3]=Ce[1],k=Le,(fe=(U=(L=Le)[0])*(ce=L[3])-(ee=L[2])*(W=L[1]))&&(k[0]=ce*(fe=1/fe),k[1]=-W*fe,k[2]=-ee*fe,k[3]=U*fe),x[0]=Le[0],x[1]=Le[1],x[4]=Le[2],x[5]=Le[3]}var k,L,U,W,ee,ce,fe;return i.Q(x,x,[1/h,1/h,1]),x}function ra(O,s,h,x){if(O){const k=i.N();if(!s){const{vecSouth:L,vecEast:U}=ua(h);k[0]=U[0],k[1]=U[1],k[4]=L[0],k[5]=L[1]}return i.Q(k,k,[x,x,1]),k}return h.pixelsToClipSpaceMatrix}function ua(O){const s=Math.cos(O.rollInRadians),h=Math.sin(O.rollInRadians),x=Math.cos(O.pitchInRadians),k=Math.cos(O.bearingInRadians),L=Math.sin(O.bearingInRadians),U=i.aD();U[0]=-k*x*h-L*s,U[1]=-L*x*h+k*s;const W=i.aE(U);W<1e-9?i.aF(U):i.aG(U,U,1/W);const ee=i.aD();ee[0]=k*x*s-L*h,ee[1]=L*x*s+k*h;const ce=i.aE(ee);return ce<1e-9?i.aF(ee):i.aG(ee,ee,1/ce),{vecEast:ee,vecSouth:U}}function ft(O,s,h,x){let k;x?(k=[O,s,x(O,s),1],i.aI(k,k,h)):(k=[O,s,0,1],pa(k,k,h));const L=k[3];return{point:new i.P(k[0]/L,k[1]/L),signedDistanceFromCamera:L,isOccluded:!1}}function Ke(O,s){return .5+O/s*.5}function mt(O,s){return O.x>=-s[0]&&O.x<=s[0]&&O.y>=-s[1]&&O.y<=s[1]}function Xt(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee){const Le=h?O.textSizeData:O.iconSizeData,ze=i.az(Le,s.transform.zoom),it=[256/s.width*2+1,256/s.height*2+1],ct=h?O.text.dynamicLayoutVertexArray:O.icon.dynamicLayoutVertexArray;ct.clear();const lt=O.lineVertexArray,pt=h?O.text.placedSymbolArray:O.icon.placedSymbolArray,Tt=s.transform.width/s.transform.height;let gt=!1;for(let At=0;At<pt.length;At++){const Rt=pt.get(At);if(Rt.hidden||Rt.writingMode===i.aA.vertical&&!gt){Za(Rt.numGlyphs,ct);continue}gt=!1;const bt=new i.P(Rt.anchorX,Rt.anchorY),jt={getElevation:Ee,pitchedLabelPlaneMatrix:x,lineVertexArray:lt,pitchWithMap:L,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:s.transform,tileAnchorPoint:bt,unwrappedTileID:ee,width:ce,height:fe,translation:Ce},Qt=Ur(Rt.anchorX,Rt.anchorY,jt);if(!mt(Qt.point,it)){Za(Rt.numGlyphs,ct);continue}const Jt=Ke(s.transform.cameraToCenterDistance,Qt.signedDistanceFromCamera),nn=i.aB(Le,ze,Rt),an=L?nn*s.transform.getPitchedTextCorrection(Rt.anchorX,Rt.anchorY,ee)/Jt:nn*Jt,On=Wn({projectionContext:jt,pitchedLabelPlaneMatrixInverse:k,symbol:Rt,fontSize:an,flip:!1,keepUpright:U,glyphOffsetArray:O.glyphOffsetArray,dynamicLayoutVertexArray:ct,aspectRatio:Tt,rotateToLine:W});gt=On.useVertical,(On.notEnoughRoom||gt||On.needsFlipping&&Wn({projectionContext:jt,pitchedLabelPlaneMatrixInverse:k,symbol:Rt,fontSize:an,flip:!0,keepUpright:U,glyphOffsetArray:O.glyphOffsetArray,dynamicLayoutVertexArray:ct,aspectRatio:Tt,rotateToLine:W}).notEnoughRoom)&&Za(Rt.numGlyphs,ct)}h?O.text.dynamicLayoutVertexBuffer.updateData(ct):O.icon.dynamicLayoutVertexBuffer.updateData(ct)}function Cn(O,s,h,x,k,L,U,W){const ee=L.glyphStartIndex+L.numGlyphs,ce=L.lineStartIndex,fe=L.lineStartIndex+L.lineLength,Ce=s.getoffsetX(L.glyphStartIndex),Ee=s.getoffsetX(ee-1),Le=Kr(O*Ce,h,x,k,L.segment,ce,fe,W,U);if(!Le)return null;const ze=Kr(O*Ee,h,x,k,L.segment,ce,fe,W,U);return ze?W.projectionCache.anyProjectionOccluded?null:{first:Le,last:ze}:null}function Yn(O,s,h,x){return O===i.aA.horizontal&&Math.abs(h.y-s.y)>Math.abs(h.x-s.x)*x?{useVertical:!0}:(O===i.aA.vertical?s.y<h.y:s.x>h.x)?{needsFlipping:!0}:null}function Wn(O){const{projectionContext:s,pitchedLabelPlaneMatrixInverse:h,symbol:x,fontSize:k,flip:L,keepUpright:U,glyphOffsetArray:W,dynamicLayoutVertexArray:ee,aspectRatio:ce,rotateToLine:fe}=O,Ce=k/24,Ee=x.lineOffsetX*Ce,Le=x.lineOffsetY*Ce;let ze;if(x.numGlyphs>1){const it=x.glyphStartIndex+x.numGlyphs,ct=x.lineStartIndex,lt=x.lineStartIndex+x.lineLength,pt=Cn(Ce,W,Ee,Le,L,x,fe,s);if(!pt)return{notEnoughRoom:!0};const Tt=Nr(pt.first.point.x,pt.first.point.y,s,h),gt=Nr(pt.last.point.x,pt.last.point.y,s,h);if(U&&!L){const At=Yn(x.writingMode,Tt,gt,ce);if(At)return At}ze=[pt.first];for(let At=x.glyphStartIndex+1;At<it-1;At++){const Rt=Kr(Ce*W.getoffsetX(At),Ee,Le,L,x.segment,ct,lt,s,fe);if(!Rt)return{notEnoughRoom:!0};ze.push(Rt)}ze.push(pt.last)}else{if(U&&!L){const ct=_r(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,lt=x.lineStartIndex+x.segment+1,pt=new i.P(s.lineVertexArray.getx(lt),s.lineVertexArray.gety(lt)),Tt=_r(pt.x,pt.y,s),gt=Tt.signedDistanceFromCamera>0?Tt.point:br(s.tileAnchorPoint,pt,ct,1,s),At=Nr(ct.x,ct.y,s,h),Rt=Nr(gt.x,gt.y,s,h),bt=Yn(x.writingMode,At,Rt,ce);if(bt)return bt}const it=Kr(Ce*W.getoffsetX(x.glyphStartIndex),Ee,Le,L,x.segment,x.lineStartIndex,x.lineStartIndex+x.lineLength,s,fe);if(!it||s.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};ze=[it]}for(const it of ze)i.aH(ee,it.point,it.angle);return{}}function br(O,s,h,x,k){const L=O.add(O.sub(s)._unit()),U=_r(L.x,L.y,k).point,W=h.sub(U);return h.add(W._mult(x/W.mag()))}function Br(O,s,h){const x=s.projectionCache;if(x.projections[O])return x.projections[O];const k=new i.P(s.lineVertexArray.getx(O),s.lineVertexArray.gety(O)),L=_r(k.x,k.y,s);if(L.signedDistanceFromCamera>0)return x.projections[O]=L.point,x.anyProjectionOccluded=x.anyProjectionOccluded||L.isOccluded,L.point;const U=O-h.direction;return br(h.distanceFromAnchor===0?s.tileAnchorPoint:new i.P(s.lineVertexArray.getx(U),s.lineVertexArray.gety(U)),k,h.previousVertex,h.absOffsetX-h.distanceFromAnchor+1,s)}function _r(O,s,h){const x=O+h.translation[0],k=s+h.translation[1];let L;return h.pitchWithMap?(L=ft(x,k,h.pitchedLabelPlaneMatrix,h.getElevation),L.isOccluded=!1):(L=h.transform.projectTileCoordinates(x,k,h.unwrappedTileID,h.getElevation),L.point.x=(.5*L.point.x+.5)*h.width,L.point.y=(.5*-L.point.y+.5)*h.height),L}function Nr(O,s,h,x){if(h.pitchWithMap){const k=[O,s,0,1];return i.aI(k,k,x),h.transform.projectTileCoordinates(k[0]/k[3],k[1]/k[3],h.unwrappedTileID,h.getElevation).point}return{x:O/h.width*2-1,y:1-s/h.height*2}}function Ur(O,s,h){return h.transform.projectTileCoordinates(O,s,h.unwrappedTileID,h.getElevation)}function Wa(O,s,h){return O._unit()._perp()._mult(s*h)}function Or(O,s,h,x,k,L,U,W,ee){if(W.projectionCache.offsets[O])return W.projectionCache.offsets[O];const ce=h.add(s);if(O+ee.direction<x||O+ee.direction>=k)return W.projectionCache.offsets[O]=ce,ce;const fe=Br(O+ee.direction,W,ee),Ce=Wa(fe.sub(h),U,ee.direction),Ee=h.add(Ce),Le=fe.add(Ce);return W.projectionCache.offsets[O]=i.aJ(L,ce,Ee,Le)||ce,W.projectionCache.offsets[O]}function Kr(O,s,h,x,k,L,U,W,ee){const ce=x?O-s:O+s;let fe=ce>0?1:-1,Ce=0;x&&(fe*=-1,Ce=Math.PI),fe<0&&(Ce+=Math.PI);let Ee,Le=fe>0?L+k:L+k+1;W.projectionCache.cachedAnchorPoint?Ee=W.projectionCache.cachedAnchorPoint:(Ee=_r(W.tileAnchorPoint.x,W.tileAnchorPoint.y,W).point,W.projectionCache.cachedAnchorPoint=Ee);let ze,it,ct=Ee,lt=Ee,pt=0,Tt=0;const gt=Math.abs(ce),At=[];let Rt;for(;pt+Tt<=gt;){if(Le+=fe,Le<L||Le>=U)return null;pt+=Tt,lt=ct,it=ze;const Qt={absOffsetX:gt,direction:fe,distanceFromAnchor:pt,previousVertex:lt};if(ct=Br(Le,W,Qt),h===0)At.push(lt),Rt=ct.sub(lt);else{let Jt;const nn=ct.sub(lt);Jt=nn.mag()===0?Wa(Br(Le+fe,W,Qt).sub(ct),h,fe):Wa(nn,h,fe),it||(it=lt.add(Jt)),ze=Or(Le,Jt,ct,L,U,it,h,W,Qt),At.push(it),Rt=ze.sub(it)}Tt=Rt.mag()}const bt=Rt._mult((gt-pt)/Tt)._add(it||lt),jt=Ce+Math.atan2(ct.y-lt.y,ct.x-lt.x);return At.push(bt),{point:bt,angle:ee?jt:0,path:At}}const za=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Za(O,s){for(let h=0;h<O;h++){const x=s.length;s.resize(x+4),s.float32.set(za,3*x)}}function pa(O,s,h){const x=s[0],k=s[1];return O[0]=h[0]*x+h[4]*k+h[12],O[1]=h[1]*x+h[5]*k+h[13],O[3]=h[3]*x+h[7]*k+h[15],O}const aa=100;class Ol{constructor(s,h=new zn(s.width+200,s.height+200,25),x=new zn(s.width+200,s.height+200,25)){this.transform=s,this.grid=h,this.ignoredGrid=x,this.pitchFactor=Math.cos(s.pitch*Math.PI/180)*s.cameraToCenterDistance,this.screenRightBoundary=s.width+aa,this.screenBottomBoundary=s.height+aa,this.gridRightBoundary=s.width+200,this.gridBottomBoundary=s.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee){const Le=this.projectAndGetPerspectiveRatio(s.anchorPointX+ee[0],s.anchorPointY+ee[1],L,fe,Ee),ze=x*Le.perspectiveRatio;let it;if(U||W)it=this._projectCollisionBox(s,ze,k,L,U,W,ee,Le,fe,Ce,Ee);else{const Rt=Le.x+(Ce?Ce.x*ze:0),bt=Le.y+(Ce?Ce.y*ze:0);it={allPointsOccluded:!1,box:[Rt+s.x1*ze,bt+s.y1*ze,Rt+s.x2*ze,bt+s.y2*ze]}}const[ct,lt,pt,Tt]=it.box,gt=U?it.allPointsOccluded:Le.isOccluded;let At=gt;return At||(At=Le.perspectiveRatio<this.perspectiveRatioCutoff),At||(At=!this.isInsideGrid(ct,lt,pt,Tt)),At||h!=="always"&&this.grid.hitTest(ct,lt,pt,Tt,h,ce)?{box:[ct,lt,pt,Tt],placeable:!1,offscreen:!1,occluded:gt}:{box:[ct,lt,pt,Tt],placeable:!0,offscreen:this.isOffscreen(ct,lt,pt,Tt),occluded:gt}}placeCollisionCircles(s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee,Le,ze){const it=[],ct=new i.P(h.anchorX,h.anchorY),lt=this.getPerspectiveRatio(ct.x,ct.y,U,ze),pt=(ce?L*this.transform.getPitchedTextCorrection(h.anchorX,h.anchorY,U)/lt:L*lt)/i.aN,Tt={getElevation:ze,pitchedLabelPlaneMatrix:W,lineVertexArray:x,pitchWithMap:ce,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:ct,unwrappedTileID:U,width:this.transform.width,height:this.transform.height,translation:Le},gt=Cn(pt,k,h.lineOffsetX*pt,h.lineOffsetY*pt,!1,h,!1,Tt);let At=!1,Rt=!1,bt=!0;if(gt){const jt=.5*Ce*lt+Ee,Qt=new i.P(-100,-100),Jt=new i.P(this.screenRightBoundary,this.screenBottomBoundary),nn=new qt,an=gt.first,On=gt.last;let Zn=[];for(let oa=an.path.length-1;oa>=1;oa--)Zn.push(an.path[oa]);for(let oa=1;oa<On.path.length;oa++)Zn.push(On.path[oa]);const Nn=2.5*jt;if(ce){const oa=this.projectPathToScreenSpace(Zn,Tt);Zn=oa.some((Qa=>Qa.signedDistanceFromCamera<=0))?[]:oa.map((Qa=>Qa.point))}let wr=[];if(Zn.length>0){const oa=Zn[0].clone(),Qa=Zn[0].clone();for(let ci=1;ci<Zn.length;ci++)oa.x=Math.min(oa.x,Zn[ci].x),oa.y=Math.min(oa.y,Zn[ci].y),Qa.x=Math.max(Qa.x,Zn[ci].x),Qa.y=Math.max(Qa.y,Zn[ci].y);wr=oa.x>=Qt.x&&Qa.x<=Jt.x&&oa.y>=Qt.y&&Qa.y<=Jt.y?[Zn]:Qa.x<Qt.x||oa.x>Jt.x||Qa.y<Qt.y||oa.y>Jt.y?[]:i.aK([Zn],Qt.x,Qt.y,Jt.x,Jt.y)}for(const oa of wr){nn.reset(oa,.25*jt);let Qa=0;Qa=nn.length<=.5*jt?1:Math.ceil(nn.paddedLength/Nn)+1;for(let ci=0;ci<Qa;ci++){const Ja=ci/Math.max(Qa-1,1),Sa=nn.lerp(Ja),Ta=Sa.x+aa,Uo=Sa.y+aa;it.push(Ta,Uo,jt,0);const Ti=Ta-jt,ro=Uo-jt,vi=Ta+jt,Zi=Uo+jt;if(bt=bt&&this.isOffscreen(Ti,ro,vi,Zi),Rt=Rt||this.isInsideGrid(Ti,ro,vi,Zi),s!=="always"&&this.grid.hitTestCircle(Ta,Uo,jt,s,fe)&&(At=!0,!ee))return{circles:[],offscreen:!1,collisionDetected:At}}}}return{circles:!ee&&At||!Rt||lt<this.perspectiveRatioCutoff?[]:it,offscreen:bt,collisionDetected:At}}projectPathToScreenSpace(s,h){const x=(function(k,L){const U=i.N();return i.aC(U,L.pitchedLabelPlaneMatrix),k.map((W=>{const ee=ft(W.x,W.y,U,L.getElevation),ce=L.transform.projectTileCoordinates(ee.point.x,ee.point.y,L.unwrappedTileID,L.getElevation);return ce.point.x=(.5*ce.point.x+.5)*L.width,ce.point.y=(.5*-ce.point.y+.5)*L.height,ce}))})(s,h);return(function(k){let L=0,U=0,W=0,ee=0;for(let ce=0;ce<k.length;ce++)k[ce].isOccluded?(W=ce+1,ee=0):(ee++,ee>U&&(U=ee,L=W));return k.slice(L,L+U)})(x)}queryRenderedSymbols(s){if(s.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const h=[],x=new i.ac;for(const Ce of s){const Ee=new i.P(Ce.x+aa,Ce.y+aa);x.extend(Ee),h.push(Ee)}const{minX:k,minY:L,maxX:U,maxY:W}=x,ee=this.grid.query(k,L,U,W).concat(this.ignoredGrid.query(k,L,U,W)),ce={},fe={};for(const Ce of ee){const Ee=Ce.key;if(ce[Ee.bucketInstanceId]===void 0&&(ce[Ee.bucketInstanceId]={}),ce[Ee.bucketInstanceId][Ee.featureIndex])continue;const Le=[new i.P(Ce.x1,Ce.y1),new i.P(Ce.x2,Ce.y1),new i.P(Ce.x2,Ce.y2),new i.P(Ce.x1,Ce.y2)];i.aL(h,Le)&&(ce[Ee.bucketInstanceId][Ee.featureIndex]=!0,fe[Ee.bucketInstanceId]===void 0&&(fe[Ee.bucketInstanceId]=[]),fe[Ee.bucketInstanceId].push(Ee.featureIndex))}return fe}insertCollisionBox(s,h,x,k,L,U){(x?this.ignoredGrid:this.grid).insert({bucketInstanceId:k,featureIndex:L,collisionGroupID:U,overlapMode:h},s[0],s[1],s[2],s[3])}insertCollisionCircles(s,h,x,k,L,U){const W=x?this.ignoredGrid:this.grid,ee={bucketInstanceId:k,featureIndex:L,collisionGroupID:U,overlapMode:h};for(let ce=0;ce<s.length;ce+=4)W.insertCircle(ee,s[ce],s[ce+1],s[ce+2])}projectAndGetPerspectiveRatio(s,h,x,k,L){if(L){let U;k?(U=[s,h,k(s,h),1],i.aI(U,U,L)):(U=[s,h,0,1],pa(U,U,L));const W=U[3];return{x:(U[0]/W+1)/2*this.transform.width+aa,y:(-U[1]/W+1)/2*this.transform.height+aa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/W*.5,isOccluded:!1,signedDistanceFromCamera:W}}{const U=this.transform.projectTileCoordinates(s,h,x,k);return{x:(U.point.x+1)/2*this.transform.width+aa,y:(1-U.point.y)/2*this.transform.height+aa,perspectiveRatio:.5+this.transform.cameraToCenterDistance/U.signedDistanceFromCamera*.5,isOccluded:U.isOccluded,signedDistanceFromCamera:U.signedDistanceFromCamera}}}getPerspectiveRatio(s,h,x,k){const L=this.transform.projectTileCoordinates(s,h,x,k);return .5+this.transform.cameraToCenterDistance/L.signedDistanceFromCamera*.5}isOffscreen(s,h,x,k){return x<aa||s>=this.screenRightBoundary||k<aa||h>this.screenBottomBoundary}isInsideGrid(s,h,x,k){return x>=0&&s<this.gridRightBoundary&&k>=0&&h<this.gridBottomBoundary}getViewportMatrix(){const s=i.as([]);return i.O(s,s,[-100,-100,0]),s}_projectCollisionBox(s,h,x,k,L,U,W,ee,ce,fe,Ce){let Ee=1,Le=0,ze=0,it=1;const ct=s.anchorPointX+W[0],lt=s.anchorPointY+W[1];if(U&&!L){const Zn=this.projectAndGetPerspectiveRatio(ct+1,lt,k,ce,Ce),Nn=Zn.x-ee.x,wr=Math.atan((Zn.y-ee.y)/Nn)+(Nn<0?Math.PI:0),oa=Math.sin(wr),Qa=Math.cos(wr);Ee=Qa,Le=oa,ze=-oa,it=Qa}else if(!U&&L){const Zn=ua(this.transform);Ee=Zn.vecEast[0],Le=Zn.vecEast[1],ze=Zn.vecSouth[0],it=Zn.vecSouth[1]}let pt=ee.x,Tt=ee.y,gt=h;L&&(pt=ct,Tt=lt,gt=Math.pow(2,-(this.transform.zoom-x.overscaledZ)),gt*=this.transform.getPitchedTextCorrection(ct,lt,k),fe||(gt*=i.ao(.5+ee.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),fe&&(pt+=Ee*fe.x*gt+ze*fe.y*gt,Tt+=Le*fe.x*gt+it*fe.y*gt);const At=s.x1*gt,Rt=s.x2*gt,bt=(At+Rt)/2,jt=s.y1*gt,Qt=s.y2*gt,Jt=(jt+Qt)/2,nn=[{offsetX:At,offsetY:jt},{offsetX:bt,offsetY:jt},{offsetX:Rt,offsetY:jt},{offsetX:Rt,offsetY:Jt},{offsetX:Rt,offsetY:Qt},{offsetX:bt,offsetY:Qt},{offsetX:At,offsetY:Qt},{offsetX:At,offsetY:Jt}];let an=[];for(const{offsetX:Zn,offsetY:Nn}of nn)an.push(new i.P(pt+Ee*Zn+ze*Nn,Tt+Le*Zn+it*Nn));let On=!1;if(L){const Zn=an.map((Nn=>this.projectAndGetPerspectiveRatio(Nn.x,Nn.y,k,ce,Ce)));On=Zn.some((Nn=>!Nn.isOccluded)),an=Zn.map((Nn=>new i.P(Nn.x,Nn.y)))}else On=!0;return{box:i.aM(an),allPointsOccluded:!On}}}class $c{constructor(s,h,x,k){this.opacity=s?Math.max(0,Math.min(1,s.opacity+(s.placed?h:-h))):k&&x?1:0,this.placed=x}isHidden(){return this.opacity===0&&!this.placed}}class yl{constructor(s,h,x,k,L){this.text=new $c(s?s.text:null,h,x,L),this.icon=new $c(s?s.icon:null,h,k,L)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class hs{constructor(s,h,x){this.text=s,this.icon=h,this.skipFade=x}}class va{constructor(s,h,x,k,L){this.bucketInstanceId=s,this.featureIndex=h,this.sourceLayerIndex=x,this.bucketIndex=k,this.tileID=L}}class Ua{constructor(s){this.crossSourceCollisions=s,this.maxGroupID=0,this.collisionGroups={}}get(s){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[s]){const h=++this.maxGroupID;this.collisionGroups[s]={ID:h,predicate:x=>x.collisionGroupID===h}}return this.collisionGroups[s]}}function wi(O,s,h,x,k){const{horizontalAlign:L,verticalAlign:U}=i.aT(O);return new i.P(-(L-.5)*s+x[0]*k,-(U-.5)*h+x[1]*k)}class Zs{constructor(s,h,x,k,L){this.transform=s.clone(),this.terrain=h,this.collisionIndex=new Ol(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=x,this.retainedQueryData={},this.collisionGroups=new Ua(k),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=L,L&&(L.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(s){const h=this.terrain;return h?(x,k)=>h.getElevation(s,x,k):null}getBucketParts(s,h,x,k){const L=x.getBucket(h),U=x.latestFeatureIndex;if(!L||!U||h.id!==L.layerIds[0])return;const W=x.collisionBoxArray,ee=L.layers[0].layout,ce=L.layers[0].paint,fe=Math.pow(2,this.transform.zoom-x.tileID.overscaledZ),Ce=x.tileSize/i.a5,Ee=x.tileID.toUnwrapped(),Le=ee.get("text-rotation-alignment")==="map",ze=i.aO(x,1,this.transform.zoom),it=i.aP(this.collisionIndex.transform,x,ce.get("text-translate"),ce.get("text-translate-anchor")),ct=i.aP(this.collisionIndex.transform,x,ce.get("icon-translate"),ce.get("icon-translate-anchor")),lt=hr(Le,this.transform,ze);this.retainedQueryData[L.bucketInstanceId]=new va(L.bucketInstanceId,U,L.sourceLayerIndex,L.index,x.tileID);const pt={bucket:L,layout:ee,translationText:it,translationIcon:ct,unwrappedTileID:Ee,pitchedLabelPlaneMatrix:lt,scale:fe,textPixelRatio:Ce,holdingForFade:x.holdingForSymbolFade(),collisionBoxArray:W,partiallyEvaluatedTextSize:i.az(L.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(L.sourceID)};if(k)for(const Tt of L.sortKeyRanges){const{sortKey:gt,symbolInstanceStart:At,symbolInstanceEnd:Rt}=Tt;s.push({sortKey:gt,symbolInstanceStart:At,symbolInstanceEnd:Rt,parameters:pt})}else s.push({symbolInstanceStart:0,symbolInstanceEnd:L.symbolInstances.length,parameters:pt})}attemptAnchorPlacement(s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee,Le,ze,it,ct,lt,pt,Tt,gt){const At=i.aQ[s.textAnchor],Rt=[s.textOffset0,s.textOffset1],bt=wi(At,x,k,Rt,L),jt=this.collisionIndex.placeCollisionBox(h,Ee,ee,ce,fe,W,U,ct,Ce.predicate,Tt,bt,gt);if((!pt||this.collisionIndex.placeCollisionBox(pt,Ee,ee,ce,fe,W,U,lt,Ce.predicate,Tt,bt,gt).placeable)&&jt.placeable){let Qt;if(this.prevPlacement&&this.prevPlacement.variableOffsets[Le.crossTileID]&&this.prevPlacement.placements[Le.crossTileID]&&this.prevPlacement.placements[Le.crossTileID].text&&(Qt=this.prevPlacement.variableOffsets[Le.crossTileID].anchor),Le.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[Le.crossTileID]={textOffset:Rt,width:x,height:k,anchor:At,textBoxScale:L,prevAnchor:Qt},this.markUsedJustification(ze,At,Le,it),ze.allowVerticalPlacement&&(this.markUsedOrientation(ze,it,Le),this.placedOrientations[Le.crossTileID]=it),{shift:bt,placedGlyphBoxes:jt}}}placeLayerBucketPart(s,h,x){const{bucket:k,layout:L,translationText:U,translationIcon:W,unwrappedTileID:ee,pitchedLabelPlaneMatrix:ce,textPixelRatio:fe,holdingForFade:Ce,collisionBoxArray:Ee,partiallyEvaluatedTextSize:Le,collisionGroup:ze}=s.parameters,it=L.get("text-optional"),ct=L.get("icon-optional"),lt=i.aR(L,"text-overlap","text-allow-overlap"),pt=lt==="always",Tt=i.aR(L,"icon-overlap","icon-allow-overlap"),gt=Tt==="always",At=L.get("text-rotation-alignment")==="map",Rt=L.get("text-pitch-alignment")==="map",bt=L.get("icon-text-fit")!=="none",jt=L.get("symbol-z-order")==="viewport-y",Qt=pt&&(gt||!k.hasIconData()||ct),Jt=gt&&(pt||!k.hasTextData()||it);!k.collisionArrays&&Ee&&k.deserializeCollisionBoxes(Ee);const nn=this.retainedQueryData[k.bucketInstanceId].tileID,an=this._getTerrainElevationFunc(nn),On=this.transform.getFastPathSimpleProjectionMatrix(nn),Zn=(Nn,wr,oa)=>{var Qa,ci;if(h[Nn.crossTileID])return;if(Ce)return void(this.placements[Nn.crossTileID]=new hs(!1,!1,!1));let Ja=!1,Sa=!1,Ta=!0,Uo=null,Ti={box:null,placeable:!1,offscreen:null,occluded:!1},ro={placeable:!1},vi=null,Zi=null,is=null,$s=0,Lu=0,Fl=0;wr.textFeatureIndex?$s=wr.textFeatureIndex:Nn.useRuntimeCollisionCircles&&($s=Nn.featureIndex),wr.verticalTextFeatureIndex&&(Lu=wr.verticalTextFeatureIndex);const bc=wr.textBox;if(bc){const ao=Ci=>{let Ho=i.aA.horizontal;if(k.allowVerticalPlacement&&!Ci&&this.prevPlacement){const ul=this.prevPlacement.placedOrientations[Nn.crossTileID];ul&&(this.placedOrientations[Nn.crossTileID]=ul,Ho=ul,this.markUsedOrientation(k,Ho,Nn))}return Ho},Go=(Ci,Ho)=>{if(k.allowVerticalPlacement&&Nn.numVerticalGlyphVertices>0&&wr.verticalTextBox){for(const ul of k.writingModes)if(ul===i.aA.vertical?(Ti=Ho(),ro=Ti):Ti=Ci(),Ti&&Ti.placeable)break}else Ti=Ci()},Ao=Nn.textAnchorOffsetStartIndex,Sl=Nn.textAnchorOffsetEndIndex;if(Sl===Ao){const Ci=(Ho,ul)=>{const xi=this.collisionIndex.placeCollisionBox(Ho,lt,fe,nn,ee,Rt,At,U,ze.predicate,an,void 0,On);return xi&&xi.placeable&&(this.markUsedOrientation(k,ul,Nn),this.placedOrientations[Nn.crossTileID]=ul),xi};Go((()=>Ci(bc,i.aA.horizontal)),(()=>{const Ho=wr.verticalTextBox;return k.allowVerticalPlacement&&Nn.numVerticalGlyphVertices>0&&Ho?Ci(Ho,i.aA.vertical):{box:null,offscreen:null}})),ao(Ti&&Ti.placeable)}else{let Ci=i.aQ[(ci=(Qa=this.prevPlacement)===null||Qa===void 0?void 0:Qa.variableOffsets[Nn.crossTileID])===null||ci===void 0?void 0:ci.anchor];const Ho=(xi,kg,lp)=>{const Ig=xi.x2-xi.x1,Ng=xi.y2-xi.y1,ko=Nn.textBoxScale,jd=bt&&Tt==="never"?kg:null;let ad=null,Zy=lt==="never"?1:2,Af="never";Ci&&Zy++;for(let Rg=0;Rg<Zy;Rg++){for(let kf=Ao;kf<Sl;kf++){const Pu=k.textAnchorOffsets.get(kf);if(Ci&&Pu.textAnchor!==Ci)continue;const up=this.attemptAnchorPlacement(Pu,xi,Ig,Ng,ko,At,Rt,fe,nn,ee,ze,Af,Nn,k,lp,U,W,jd,an);if(up&&(ad=up.placedGlyphBoxes,ad&&ad.placeable))return Ja=!0,Uo=up.shift,ad}Ci?Ci=null:Af=lt}return x&&!ad&&(ad={box:this.collisionIndex.placeCollisionBox(bc,"always",fe,nn,ee,Rt,At,U,ze.predicate,an,void 0,On).box,offscreen:!1,placeable:!1,occluded:!1}),ad};Go((()=>Ho(bc,wr.iconBox,i.aA.horizontal)),(()=>{const xi=wr.verticalTextBox;return k.allowVerticalPlacement&&(!Ti||!Ti.placeable)&&Nn.numVerticalGlyphVertices>0&&xi?Ho(xi,wr.verticalIconBox,i.aA.vertical):{box:null,occluded:!0,offscreen:null}})),Ti&&(Ja=Ti.placeable,Ta=Ti.offscreen);const ul=ao(Ti&&Ti.placeable);if(!Ja&&this.prevPlacement){const xi=this.prevPlacement.variableOffsets[Nn.crossTileID];xi&&(this.variableOffsets[Nn.crossTileID]=xi,this.markUsedJustification(k,xi.anchor,Nn,ul))}}}if(vi=Ti,Ja=vi&&vi.placeable,Ta=vi&&vi.offscreen,Nn.useRuntimeCollisionCircles&&Nn.centerJustifiedTextSymbolIndex>=0){const ao=k.text.placedSymbolArray.get(Nn.centerJustifiedTextSymbolIndex),Go=i.aB(k.textSizeData,Le,ao),Ao=L.get("text-padding");Zi=this.collisionIndex.placeCollisionCircles(lt,ao,k.lineVertexArray,k.glyphOffsetArray,Go,ee,ce,x,Rt,ze.predicate,Nn.collisionCircleDiameter,Ao,U,an),Zi.circles.length&&Zi.collisionDetected&&!x&&i.w("Collisions detected, but collision boxes are not shown"),Ja=pt||Zi.circles.length>0&&!Zi.collisionDetected,Ta=Ta&&Zi.offscreen}if(wr.iconFeatureIndex&&(Fl=wr.iconFeatureIndex),wr.iconBox){const ao=Go=>this.collisionIndex.placeCollisionBox(Go,Tt,fe,nn,ee,Rt,At,W,ze.predicate,an,bt&&Uo?Uo:void 0,On);ro&&ro.placeable&&wr.verticalIconBox?(is=ao(wr.verticalIconBox),Sa=is.placeable):(is=ao(wr.iconBox),Sa=is.placeable),Ta=Ta&&is.offscreen}const Ag=it||Nn.numHorizontalGlyphVertices===0&&Nn.numVerticalGlyphVertices===0,Cf=ct||Nn.numIconVertices===0;Ag||Cf?Cf?Ag||(Sa=Sa&&Ja):Ja=Sa&&Ja:Sa=Ja=Sa&&Ja;const wl=Sa&&is.placeable;if(Ja&&vi.placeable&&this.collisionIndex.insertCollisionBox(vi.box,lt,L.get("text-ignore-placement"),k.bucketInstanceId,ro&&ro.placeable&&Lu?Lu:$s,ze.ID),wl&&this.collisionIndex.insertCollisionBox(is.box,Tt,L.get("icon-ignore-placement"),k.bucketInstanceId,Fl,ze.ID),Zi&&Ja&&this.collisionIndex.insertCollisionCircles(Zi.circles,lt,L.get("text-ignore-placement"),k.bucketInstanceId,$s,ze.ID),x&&this.storeCollisionData(k.bucketInstanceId,oa,wr,vi,is,Zi),Nn.crossTileID===0)throw new Error("symbolInstance.crossTileID can't be 0");if(k.bucketInstanceId===0)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[Nn.crossTileID]=new hs((Ja||Qt)&&!vi?.occluded,(Sa||Jt)&&!is?.occluded,Ta||k.justReloaded),h[Nn.crossTileID]=!0};if(jt){if(s.symbolInstanceStart!==0)throw new Error("bucket.bucketInstanceId should be 0");const Nn=k.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let wr=Nn.length-1;wr>=0;--wr){const oa=Nn[wr];Zn(k.symbolInstances.get(oa),k.collisionArrays[oa],oa)}}else for(let Nn=s.symbolInstanceStart;Nn<s.symbolInstanceEnd;Nn++)Zn(k.symbolInstances.get(Nn),k.collisionArrays[Nn],Nn);k.justReloaded=!1}storeCollisionData(s,h,x,k,L,U){if(x.textBox||x.iconBox){let W,ee;this.collisionBoxArrays.has(s)?W=this.collisionBoxArrays.get(s):(W=new Map,this.collisionBoxArrays.set(s,W)),W.has(h)?ee=W.get(h):(ee={text:null,icon:null},W.set(h,ee)),x.textBox&&(ee.text=k.box),x.iconBox&&(ee.icon=L.box)}if(U){let W=this.collisionCircleArrays[s];W===void 0&&(W=this.collisionCircleArrays[s]=[]);for(let ee=0;ee<U.circles.length;ee+=4)W.push(U.circles[ee+0]-aa),W.push(U.circles[ee+1]-aa),W.push(U.circles[ee+2]),W.push(U.collisionDetected?1:0)}}markUsedJustification(s,h,x,k){let L;L=k===i.aA.vertical?x.verticalPlacedTextSymbolIndex:{left:x.leftJustifiedTextSymbolIndex,center:x.centerJustifiedTextSymbolIndex,right:x.rightJustifiedTextSymbolIndex}[i.aS(h)];const U=[x.leftJustifiedTextSymbolIndex,x.centerJustifiedTextSymbolIndex,x.rightJustifiedTextSymbolIndex,x.verticalPlacedTextSymbolIndex];for(const W of U)W>=0&&(s.text.placedSymbolArray.get(W).crossTileID=L>=0&&W!==L?0:x.crossTileID)}markUsedOrientation(s,h,x){const k=h===i.aA.horizontal||h===i.aA.horizontalOnly?h:0,L=h===i.aA.vertical?h:0,U=[x.leftJustifiedTextSymbolIndex,x.centerJustifiedTextSymbolIndex,x.rightJustifiedTextSymbolIndex];for(const W of U)s.text.placedSymbolArray.get(W).placedOrientation=k;x.verticalPlacedTextSymbolIndex&&(s.text.placedSymbolArray.get(x.verticalPlacedTextSymbolIndex).placedOrientation=L)}commit(s){this.commitTime=s,this.zoomAtLastRecencyCheck=this.transform.zoom;const h=this.prevPlacement;let x=!1;this.prevZoomAdjustment=h?h.zoomAdjustment(this.transform.zoom):0;const k=h?h.symbolFadeChange(s):1,L=h?h.opacities:{},U=h?h.variableOffsets:{},W=h?h.placedOrientations:{};for(const ee in this.placements){const ce=this.placements[ee],fe=L[ee];fe?(this.opacities[ee]=new yl(fe,k,ce.text,ce.icon),x=x||ce.text!==fe.text.placed||ce.icon!==fe.icon.placed):(this.opacities[ee]=new yl(null,k,ce.text,ce.icon,ce.skipFade),x=x||ce.text||ce.icon)}for(const ee in L){const ce=L[ee];if(!this.opacities[ee]){const fe=new yl(ce,k,!1,!1);fe.isHidden()||(this.opacities[ee]=fe,x=x||ce.text.placed||ce.icon.placed)}}for(const ee in U)this.variableOffsets[ee]||!this.opacities[ee]||this.opacities[ee].isHidden()||(this.variableOffsets[ee]=U[ee]);for(const ee in W)this.placedOrientations[ee]||!this.opacities[ee]||this.opacities[ee].isHidden()||(this.placedOrientations[ee]=W[ee]);if(h&&h.lastPlacementChangeTime===void 0)throw new Error("Last placement time for previous placement is not defined");x?this.lastPlacementChangeTime=s:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=h?h.lastPlacementChangeTime:s)}updateLayerOpacities(s,h){const x={};for(const k of h){const L=k.getBucket(s);L&&k.latestFeatureIndex&&s.id===L.layerIds[0]&&this.updateBucketOpacities(L,k.tileID,x,k.collisionBoxArray)}}updateBucketOpacities(s,h,x,k){s.hasTextData()&&(s.text.opacityVertexArray.clear(),s.text.hasVisibleVertices=!1),s.hasIconData()&&(s.icon.opacityVertexArray.clear(),s.icon.hasVisibleVertices=!1),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexArray.clear(),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexArray.clear();const L=s.layers[0],U=L.layout,W=new yl(null,0,!1,!1,!0),ee=U.get("text-allow-overlap"),ce=U.get("icon-allow-overlap"),fe=L._unevaluatedLayout.hasValue("text-variable-anchor")||L._unevaluatedLayout.hasValue("text-variable-anchor-offset"),Ce=U.get("text-rotation-alignment")==="map",Ee=U.get("text-pitch-alignment")==="map",Le=U.get("icon-text-fit")!=="none",ze=new yl(null,0,ee&&(ce||!s.hasIconData()||U.get("icon-optional")),ce&&(ee||!s.hasTextData()||U.get("text-optional")),!0);!s.collisionArrays&&k&&(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData())&&s.deserializeCollisionBoxes(k);const it=(lt,pt,Tt)=>{for(let gt=0;gt<pt/4;gt++)lt.opacityVertexArray.emplaceBack(Tt);lt.hasVisibleVertices=lt.hasVisibleVertices||Tt!==Is},ct=this.collisionBoxArrays.get(s.bucketInstanceId);for(let lt=0;lt<s.symbolInstances.length;lt++){const pt=s.symbolInstances.get(lt),{numHorizontalGlyphVertices:Tt,numVerticalGlyphVertices:gt,crossTileID:At}=pt;let Rt=this.opacities[At];x[At]?Rt=W:Rt||(Rt=ze,this.opacities[At]=Rt),x[At]=!0;const bt=pt.numIconVertices>0,jt=this.placedOrientations[pt.crossTileID],Qt=jt===i.aA.vertical,Jt=jt===i.aA.horizontal||jt===i.aA.horizontalOnly;if(Tt>0||gt>0){const an=wd(Rt.text);it(s.text,Tt,Qt?Is:an),it(s.text,gt,Jt?Is:an);const On=Rt.text.isHidden();[pt.rightJustifiedTextSymbolIndex,pt.centerJustifiedTextSymbolIndex,pt.leftJustifiedTextSymbolIndex].forEach((wr=>{wr>=0&&(s.text.placedSymbolArray.get(wr).hidden=On||Qt?1:0)})),pt.verticalPlacedTextSymbolIndex>=0&&(s.text.placedSymbolArray.get(pt.verticalPlacedTextSymbolIndex).hidden=On||Jt?1:0);const Zn=this.variableOffsets[pt.crossTileID];Zn&&this.markUsedJustification(s,Zn.anchor,pt,jt);const Nn=this.placedOrientations[pt.crossTileID];Nn&&(this.markUsedJustification(s,"left",pt,Nn),this.markUsedOrientation(s,Nn,pt))}if(bt){const an=wd(Rt.icon),On=!(Le&&pt.verticalPlacedIconSymbolIndex&&Qt);pt.placedIconSymbolIndex>=0&&(it(s.icon,pt.numIconVertices,On?an:Is),s.icon.placedSymbolArray.get(pt.placedIconSymbolIndex).hidden=Rt.icon.isHidden()),pt.verticalPlacedIconSymbolIndex>=0&&(it(s.icon,pt.numVerticalIconVertices,On?Is:an),s.icon.placedSymbolArray.get(pt.verticalPlacedIconSymbolIndex).hidden=Rt.icon.isHidden())}const nn=ct&&ct.has(lt)?ct.get(lt):{text:null,icon:null};if(s.hasIconCollisionBoxData()||s.hasTextCollisionBoxData()){const an=s.collisionArrays[lt];if(an){let On=new i.P(0,0);if(an.textBox||an.verticalTextBox){let Zn=!0;if(fe){const Nn=this.variableOffsets[At];Nn?(On=wi(Nn.anchor,Nn.width,Nn.height,Nn.textOffset,Nn.textBoxScale),Ce&&On._rotate(Ee?-this.transform.bearingInRadians:this.transform.bearingInRadians)):Zn=!1}if(an.textBox||an.verticalTextBox){let Nn;an.textBox&&(Nn=Qt),an.verticalTextBox&&(Nn=Jt),Kl(s.textCollisionBox.collisionVertexArray,Rt.text.placed,!Zn||Nn,nn.text,On.x,On.y)}}if(an.iconBox||an.verticalIconBox){const Zn=!!(!Jt&&an.verticalIconBox);let Nn;an.iconBox&&(Nn=Zn),an.verticalIconBox&&(Nn=!Zn),Kl(s.iconCollisionBox.collisionVertexArray,Rt.icon.placed,Nn,nn.icon,Le?On.x:0,Le?On.y:0)}}}}if(s.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[s.bucketInstanceId]&&(this.retainedQueryData[s.bucketInstanceId].featureSortOrder=s.featureSortOrder),s.hasTextData()&&s.text.opacityVertexBuffer&&s.text.opacityVertexBuffer.updateData(s.text.opacityVertexArray),s.hasIconData()&&s.icon.opacityVertexBuffer&&s.icon.opacityVertexBuffer.updateData(s.icon.opacityVertexArray),s.hasIconCollisionBoxData()&&s.iconCollisionBox.collisionVertexBuffer&&s.iconCollisionBox.collisionVertexBuffer.updateData(s.iconCollisionBox.collisionVertexArray),s.hasTextCollisionBoxData()&&s.textCollisionBox.collisionVertexBuffer&&s.textCollisionBox.collisionVertexBuffer.updateData(s.textCollisionBox.collisionVertexArray),s.text.opacityVertexArray.length!==s.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${s.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${s.text.layoutVertexArray.length}) / 4`);if(s.icon.opacityVertexArray.length!==s.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${s.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${s.icon.layoutVertexArray.length}) / 4`);s.bucketInstanceId in this.collisionCircleArrays&&(s.collisionCircleArray=this.collisionCircleArrays[s.bucketInstanceId],delete this.collisionCircleArrays[s.bucketInstanceId])}symbolFadeChange(s){return this.fadeDuration===0?1:(s-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(s){return Math.max(0,(this.transform.zoom-s)/1.5)}hasTransitions(s){return this.stale||s-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(s,h){const x=this.zoomAtLastRecencyCheck===h?1-this.zoomAdjustment(h):1;return this.zoomAtLastRecencyCheck=h,this.commitTime+this.fadeDuration*x>s}setStale(){this.stale=!0}}function Kl(O,s,h,x,k,L){x&&x.length!==0||(x=[0,0,0,0]);const U=x[0]-aa,W=x[1]-aa,ee=x[2]-aa,ce=x[3]-aa;O.emplaceBack(s?1:0,h?1:0,k||0,L||0,U,W),O.emplaceBack(s?1:0,h?1:0,k||0,L||0,ee,W),O.emplaceBack(s?1:0,h?1:0,k||0,L||0,ee,ce),O.emplaceBack(s?1:0,h?1:0,k||0,L||0,U,ce)}const bo=Math.pow(2,25),_o=Math.pow(2,24),Xs=Math.pow(2,17),Lo=Math.pow(2,16),co=Math.pow(2,9),_u=Math.pow(2,8),Po=Math.pow(2,1);function wd(O){if(O.opacity===0&&!O.placed)return 0;if(O.opacity===1&&O.placed)return 4294967295;const s=O.placed?1:0,h=Math.floor(127*O.opacity);return h*bo+s*_o+h*Xs+s*Lo+h*co+s*_u+h*Po+s}const Is=0;class Aa{constructor(s){this._sortAcrossTiles=s.layout.get("symbol-z-order")!=="viewport-y"&&!s.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(s,h,x,k,L){const U=this._bucketParts;for(;this._currentTileIndex<s.length;)if(h.getBucketParts(U,k,s[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,L())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,U.sort(((W,ee)=>W.sortKey-ee.sortKey)));this._currentPartIndex<U.length;)if(h.placeLayerBucketPart(U[this._currentPartIndex],this._seenCrossTileIDs,x),this._currentPartIndex++,L())return!0;return!1}}class Fo{constructor(s,h,x,k,L,U,W,ee){this.placement=new Zs(s,h,U,W,ee),this._currentPlacementIndex=x.length-1,this._forceFullPlacement=k,this._showCollisionBoxes=L,this._done=!1}isDone(){return this._done}continuePlacement(s,h,x){const k=G(),L=()=>!this._forceFullPlacement&&G()-k>2;for(;this._currentPlacementIndex>=0;){const U=h[s[this._currentPlacementIndex]],W=this.placement.collisionIndex.transform.zoom;if(U.type==="symbol"&&(!U.minzoom||U.minzoom<=W)&&(!U.maxzoom||U.maxzoom>W)){if(this._inProgressLayer||(this._inProgressLayer=new Aa(U)),this._inProgressLayer.continuePlacement(x[U.source],this.placement,this._showCollisionBoxes,U,L))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(s){return this.placement.commit(s),this.placement}}const Jr=512/i.a5/2;class ps{constructor(s,h,x){this.tileID=s,this.bucketInstanceId=x,this._symbolsByKey={};const k=new Map;for(let L=0;L<h.length;L++){const U=h.get(L),W=U.key,ee=k.get(W);ee?ee.push(U):k.set(W,[U])}for(const[L,U]of k){const W={positions:U.map((ee=>({x:Math.floor(ee.anchorX*Jr),y:Math.floor(ee.anchorY*Jr)}))),crossTileIDs:U.map((ee=>ee.crossTileID))};if(W.positions.length>128){const ee=new i.aU(W.positions.length,16,Uint16Array);for(const{x:ce,y:fe}of W.positions)ee.add(ce,fe);ee.finish(),delete W.positions,W.index=ee}this._symbolsByKey[L]=W}}getScaledCoordinates(s,h){const{x,y:k,z:L}=this.tileID.canonical,{x:U,y:W,z:ee}=h.canonical,ce=Jr/Math.pow(2,ee-L),fe=(W*i.a5+s.anchorY)*ce,Ce=k*i.a5*Jr;return{x:Math.floor((U*i.a5+s.anchorX)*ce-x*i.a5*Jr),y:Math.floor(fe-Ce)}}findMatches(s,h,x){const k=this.tileID.canonical.z<h.canonical.z?1:Math.pow(2,this.tileID.canonical.z-h.canonical.z);for(let L=0;L<s.length;L++){const U=s.get(L);if(U.crossTileID)continue;const W=this._symbolsByKey[U.key];if(!W)continue;const ee=this.getScaledCoordinates(U,h);if(W.index){const ce=W.index.range(ee.x-k,ee.y-k,ee.x+k,ee.y+k).sort();for(const fe of ce){const Ce=W.crossTileIDs[fe];if(!x[Ce]){x[Ce]=!0,U.crossTileID=Ce;break}}}else if(W.positions)for(let ce=0;ce<W.positions.length;ce++){const fe=W.positions[ce],Ce=W.crossTileIDs[ce];if(Math.abs(fe.x-ee.x)<=k&&Math.abs(fe.y-ee.y)<=k&&!x[Ce]){x[Ce]=!0,U.crossTileID=Ce;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((({crossTileIDs:s})=>s))}}class xo{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Qi{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(s){const h=Math.round((s-this.lng)/360);if(h!==0)for(const x in this.indexes){const k=this.indexes[x],L={};for(const U in k){const W=k[U];W.tileID=W.tileID.unwrapTo(W.tileID.wrap+h),L[W.tileID.key]=W}this.indexes[x]=L}this.lng=s}addBucket(s,h,x){if(this.indexes[s.overscaledZ]&&this.indexes[s.overscaledZ][s.key]){if(this.indexes[s.overscaledZ][s.key].bucketInstanceId===h.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(s.overscaledZ,this.indexes[s.overscaledZ][s.key])}for(let L=0;L<h.symbolInstances.length;L++)h.symbolInstances.get(L).crossTileID=0;this.usedCrossTileIDs[s.overscaledZ]||(this.usedCrossTileIDs[s.overscaledZ]={});const k=this.usedCrossTileIDs[s.overscaledZ];for(const L in this.indexes){const U=this.indexes[L];if(Number(L)>s.overscaledZ)for(const W in U){const ee=U[W];ee.tileID.isChildOf(s)&&ee.findMatches(h.symbolInstances,s,k)}else{const W=U[s.scaledTo(Number(L)).key];W&&W.findMatches(h.symbolInstances,s,k)}}for(let L=0;L<h.symbolInstances.length;L++){const U=h.symbolInstances.get(L);U.crossTileID||(U.crossTileID=x.generate(),k[U.crossTileID]=!0)}return this.indexes[s.overscaledZ]===void 0&&(this.indexes[s.overscaledZ]={}),this.indexes[s.overscaledZ][s.key]=new ps(s,h.symbolInstances,h.bucketInstanceId),!0}removeBucketCrossTileIDs(s,h){for(const x of h.getCrossTileIDsLists())for(const k of x)delete this.usedCrossTileIDs[s][k]}removeStaleBuckets(s){let h=!1;for(const x in this.indexes){const k=this.indexes[x];for(const L in k)s[k[L].bucketInstanceId]||(this.removeBucketCrossTileIDs(x,k[L]),delete k[L],h=!0)}return h}}class ji{constructor(){this.layerIndexes={},this.crossTileIDs=new xo,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(s,h,x){let k=this.layerIndexes[s.id];k===void 0&&(k=this.layerIndexes[s.id]=new Qi);let L=!1;const U={};k.handleWrapJump(x);for(const W of h){const ee=W.getBucket(s);ee&&s.id===ee.layerIds[0]&&(ee.bucketInstanceId||(ee.bucketInstanceId=++this.maxBucketInstanceId),k.addBucket(W.tileID,ee,this.crossTileIDs)&&(L=!0),U[ee.bucketInstanceId]=!0)}return k.removeStaleBuckets(U)&&(L=!0),L}pruneUnusedLayers(s){const h={};s.forEach((x=>{h[x]=!0}));for(const x in this.layerIndexes)h[x]||delete this.layerIndexes[x]}}var Ji="void main() {fragColor=vec4(1.0);}";const Si={prelude:Vr(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
out highp vec4 fragColor;`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c
);}
#ifdef TERRAIN3D
uniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;
#endif
const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {
#ifdef TERRAIN3D
highp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));
#else
return 1.0;
#endif
}float calculate_visibility(vec4 pos) {
#ifdef TERRAIN3D
vec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;
#else
return 1.0;
#endif
}float ele(vec2 pos) {
#ifdef TERRAIN3D
vec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;
#else
return 0.0;
#endif
}float get_elevation(vec2 pos) {
#ifdef TERRAIN3D
#ifdef GLOBE
if ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}
#endif
vec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;
#else
return 0.0;
#endif
}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;`),projectionMercator:Vr("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Vr("",`#define GLOBE_RADIUS 6371008.8
uniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos
);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); 
if (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len
);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}`),background:Vr(`uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Vr(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Vr(`in vec3 v_data;in float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {
#ifdef GLOBE
vec3 center_vector=projectToSphere(circle_center);
#endif
float angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {
#ifdef GLOBE
vec4 projected_center=interpolateProjection(circle_center,center_vector,ele);
#else
vec4 projected_center=projectTileWithElevation(circle_center,ele);
#endif
corner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}
#ifdef GLOBE
vec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);
#else
gl_Position=projectTileWithElevation(corner_position,ele);
#endif
} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),clippingMask:Vr(Ji,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Vr(`uniform highp float u_intensity;in vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);
#ifdef GLOBE
vec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);
#else
gl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));
#endif
}`),heatmapTexture:Vr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Vr("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Vr("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Vr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else
{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Vr("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Vr(Ji,`in vec2 a_pos;void main() {
#ifdef GLOBE
gl_Position=projectTileFor3D(a_pos,0.0);
#else
gl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);
#endif
}`),fill:Vr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
fragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_fill_translate;in vec2 a_pos;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);}`),fillOutline:Vr(`in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillOutlinePattern:Vr(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
}`),fillPattern:Vr(`#ifdef GL_ES
precision highp float;
#endif
uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),fillExtrusion:Vr(`in vec4 v_color;void main() {fragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
out vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);
#ifdef GLOBE
mat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);
#endif
directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),fillExtrusionPattern:Vr(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;
#ifdef TERRAIN3D
in vec2 a_centroid;
#endif
#ifdef GLOBE
out vec3 v_sphere_pos;
#endif
out vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;
#ifdef TERRAIN3D
float height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);
#else
float height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;
#endif
base=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;
#ifdef GLOBE
vec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);
#else
gl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);
#endif
vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),hillshadePrepare:Vr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Vr(`uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];
#define PI 3.141592653589793
#define STANDARD 0
#define COMBINED 1
#define IGOR 2
#define MULTIDIRECTIONAL 3
#define BASIC 4
float get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else
{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else
{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Vr(`uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),lineGradient:Vr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_width2=vec2(outset,inset);}`),linePattern:Vr(`#ifdef GL_ES
precision highp float;
#endif
uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),lineSDF:Vr(`uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),lineGradientSDF:Vr(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;
#ifdef GLOBE
in float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);
#ifdef GLOBE
if (v_depth > 1.0) {discard;}
#endif
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
in vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;
#ifdef GLOBE
out float v_depth;
#endif
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define mediump vec4 dasharray_from
#pragma mapbox: define mediump vec4 dasharray_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 dasharray_from
#pragma mapbox: initialize mediump vec4 dasharray_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;
#ifdef GLOBE
v_depth=gl_Position.z/gl_Position.w;
#endif
#ifdef TERRAIN3D
v_gamma_scale=1.0;
#else
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#endif
float u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}`),raster:Vr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;
#ifdef GLOBE
if (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}
#endif
v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}`),symbolIcon:Vr(`uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}`),symbolSDF:Vr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Vr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
fragColor=vec4(1.0);
#endif
}`,`in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;
#ifdef GLOBE
if(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}
#endif
vec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrain:Vr("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Vr("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Vr("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Vr("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Vr(`in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758
);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}`,"in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Vr("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Vr(O,s){const h=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,x=s.match(/in ([\w]+) ([\w]+)/g),k=O.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),L=s.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),U=L?L.concat(k):k,W={};return{fragmentSource:O=O.replace(h,((ee,ce,fe,Ce,Ee)=>(W[Ee]=!0,ce==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
in ${fe} ${Ce} ${Ee};
#else
uniform ${fe} ${Ce} u_${Ee};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ee}
    ${fe} ${Ce} ${Ee} = u_${Ee};
#endif
`))),vertexSource:s=s.replace(h,((ee,ce,fe,Ce,Ee)=>{const Le=Ce==="float"?"vec2":"vec4",ze=Ee.match(/color/)?"color":Le;return W[Ee]?ce==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
in ${fe} ${Le} a_${Ee};
out ${fe} ${Ce} ${Ee};
#else
uniform ${fe} ${Ce} u_${Ee};
#endif
`:ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = a_${Ee};
#else
    ${fe} ${Ce} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${Ee} = unpack_mix_${ze}(a_${Ee}, u_${Ee}_t);
#else
    ${fe} ${Ce} ${Ee} = u_${Ee};
#endif
`:ce==="define"?`
#ifndef HAS_UNIFORM_u_${Ee}
uniform lowp float u_${Ee}_t;
in ${fe} ${Le} a_${Ee};
#else
uniform ${fe} ${Ce} u_${Ee};
#endif
`:ze==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ee}
    ${fe} ${Ce} ${Ee} = a_${Ee};
#else
    ${fe} ${Ce} ${Ee} = u_${Ee};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ee}
    ${fe} ${Ce} ${Ee} = unpack_mix_${ze}(a_${Ee}, u_${Ee}_t);
#else
    ${fe} ${Ce} ${Ee} = u_${Ee};
#endif
`})),staticAttributes:x,staticUniforms:U}}class Va{constructor(s,h,x){this.vertexBuffer=s,this.indexBuffer=h,this.segments=x}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Ks=i.aV([{name:"a_pos",type:"Int16",components:2}]);const Oi="#define PROJECTION_MERCATOR",da="mercator";class li{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return da}get shaderDefine(){return Oi}get shaderPreludeCode(){return Si.projectionMercator}get vertexShaderPreludeCode(){return Si.projectionMercator.vertexSource}get subdivisionGranularity(){return i.aW.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(s){}getMeshFromTileID(s,h,x,k,L){if(this._cachedMesh)return this._cachedMesh;const U=new i.aX;U.emplaceBack(0,0),U.emplaceBack(i.a5,0),U.emplaceBack(0,i.a5),U.emplaceBack(i.a5,i.a5);const W=s.createVertexBuffer(U,Ks.members),ee=i.aY.simpleSegment(0,0,4,2),ce=new i.aZ;ce.emplaceBack(1,0,2),ce.emplaceBack(1,2,3);const fe=s.createIndexBuffer(ce);return this._cachedMesh=new Va(W,fe,ee),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(s){}}class Ns{constructor(s=0,h=0,x=0,k=0){if(isNaN(s)||s<0||isNaN(h)||h<0||isNaN(x)||x<0||isNaN(k)||k<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=s,this.bottom=h,this.left=x,this.right=k}interpolate(s,h,x){return h.top!=null&&s.top!=null&&(this.top=i.G.number(s.top,h.top,x)),h.bottom!=null&&s.bottom!=null&&(this.bottom=i.G.number(s.bottom,h.bottom,x)),h.left!=null&&s.left!=null&&(this.left=i.G.number(s.left,h.left,x)),h.right!=null&&s.right!=null&&(this.right=i.G.number(s.right,h.right,x)),this}getCenter(s,h){const x=i.ao((this.left+s-this.right)/2,0,s),k=i.ao((this.top+h-this.bottom)/2,0,h);return new i.P(x,k)}equals(s){return this.top===s.top&&this.bottom===s.bottom&&this.left===s.left&&this.right===s.right}clone(){return new Ns(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ql(O,s){if(!O.renderWorldCopies||O.lngRange)return;const h=s.lng-O.center.lng;s.lng+=h>180?-360:h<-180?360:0}function Qr(O){return Math.max(0,Math.floor(O))}class Pa{constructor(s,h){var x;this.applyConstrain=(k,L)=>this._constrainOverride!==null?this._constrainOverride(k,L):this._callbacks.defaultConstrain(k,L),this._callbacks=s,this._tileSize=512,this._renderWorldCopies=h?.renderWorldCopies===void 0||!!h?.renderWorldCopies,this._minZoom=h?.minZoom||0,this._maxZoom=h?.maxZoom||22,this._minPitch=h?.minPitch==null?0:h?.minPitch,this._maxPitch=h?.maxPitch==null?60:h?.maxPitch,this._constrainOverride=(x=h?.constrainOverride)!==null&&x!==void 0?x:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new i.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Qr(this._zoom),this._scale=i.ar(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Ns,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(s,h,x){this._constrainOverride=s.constrainOverride,this._latRange=s.latRange,this._lngRange=s.lngRange,this._width=s.width,this._height=s.height,this._center=s.center,this._elevation=s.elevation,this._minElevationForCurrentTile=s.minElevationForCurrentTile,this._zoom=s.zoom,this._tileZoom=Qr(this._zoom),this._scale=i.ar(this._zoom),this._bearingInRadians=s.bearingInRadians,this._fovInRadians=s.fovInRadians,this._pitchInRadians=s.pitchInRadians,this._rollInRadians=s.rollInRadians,this._unmodified=s.unmodified,this._edgeInsets=new Ns(s.padding.top,s.padding.bottom,s.padding.left,s.padding.right),this._minZoom=s.minZoom,this._maxZoom=s.maxZoom,this._minPitch=s.minPitch,this._maxPitch=s.maxPitch,this._renderWorldCopies=s.renderWorldCopies,this._cameraToCenterDistance=s.cameraToCenterDistance,this._nearZ=s.nearZ,this._farZ=s.farZ,this._autoCalculateNearFarZ=!x&&s.autoCalculateNearFarZ,h&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(s){this._minElevationForCurrentTile=s}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(s){this._minZoom!==s&&(this._minZoom=s,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(s){this._maxZoom!==s&&(this._maxZoom=s,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(s){this._minPitch!==s&&(this._minPitch=s,this.setPitch(Math.max(this.pitch,s)))}get maxPitch(){return this._maxPitch}setMaxPitch(s){this._maxPitch!==s&&(this._maxPitch=s,this.setPitch(Math.min(this.pitch,s)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(s){s===void 0?s=!0:s===null&&(s=!1),this._renderWorldCopies=s}get constrainOverride(){return this._constrainOverride}setConstrainOverride(s){s===void 0&&(s=null),this._constrainOverride!==s&&(this._constrainOverride=s,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new i.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(s){const h=i.W(s,-180,180)*Math.PI/180;var x,k,L,U,W,ee,ce,fe,Ce;this._bearingInRadians!==h&&(this._unmodified=!1,this._bearingInRadians=h,this._calcMatrices(),this._rotationMatrix=b(),x=this._rotationMatrix,L=-this._bearingInRadians,U=(k=this._rotationMatrix)[0],W=k[1],ee=k[2],ce=k[3],fe=Math.sin(L),Ce=Math.cos(L),x[0]=U*Ce+ee*fe,x[1]=W*Ce+ce*fe,x[2]=U*-fe+ee*Ce,x[3]=W*-fe+ce*Ce)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(s){const h=i.ao(s,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==h&&(this._unmodified=!1,this._pitchInRadians=h,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(s){const h=s/180*Math.PI;this._rollInRadians!==h&&(this._unmodified=!1,this._rollInRadians=h,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return i.a_(this._fovInRadians)}setFov(s){s=i.ao(s,.1,150),this.fov!==s&&(this._unmodified=!1,this._fovInRadians=i.aq(s),this._calcMatrices())}get zoom(){return this._zoom}setZoom(s){const h=this.applyConstrain(this._center,s).zoom;this._zoom!==h&&(this._unmodified=!1,this._zoom=h,this._tileZoom=Math.max(0,Math.floor(h)),this._scale=i.ar(h),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(s){s.lat===this._center.lat&&s.lng===this._center.lng||(this._unmodified=!1,this._center=s,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(s){s!==this._elevation&&(this._elevation=s,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(s){this._edgeInsets.equals(s)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,s,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(s,h){this._autoCalculateNearFarZ=!1,this._nearZ=s,this._farZ=h,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(s){return this._edgeInsets.equals(s)}interpolatePadding(s,h,x){this._unmodified=!1,this._edgeInsets.interpolate(s,h,x),this.constrainInternal(),this._calcMatrices()}resize(s,h,x=!0){this._width=s,this._height=h,x&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&this._latRange.length===2&&this._lngRange&&this._lngRange.length===2?new Tn([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(s){s?(this._lngRange=[s.getWest(),s.getEast()],this._latRange=[s.getSouth(),s.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-i.ap,i.ap])}getCameraQueryGeometry(s,h){if(h.length===1)return[h[0],s];{const{minX:x,minY:k,maxX:L,maxY:U}=i.ac.fromPoints(h).extend(s);return[new i.P(x,k),new i.P(L,k),new i.P(L,U),new i.P(x,U),new i.P(x,k)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const s=this._unmodified,{center:h,zoom:x}=this.applyConstrain(this.center,this.zoom);this.setCenter(h),this.setZoom(x),this._unmodified=s,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let s=i.as(new Float64Array(16));i.Q(s,s,[this._width/2,-this._height/2,1]),i.O(s,s,[1,-1,0]),this._clipSpaceToPixelsMatrix=s,s=i.as(new Float64Array(16)),i.Q(s,s,[1,-1,1]),i.O(s,s,[-1,-1,0]),i.Q(s,s,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=s,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(s,h,x,k){const L=x!==void 0?x:this.bearing,U=k=k!==void 0?k:this.pitch,{distanceToCenter:W,clampedElevation:ee}=this._distanceToCenterFromAltElevationPitch(h,this.elevation,U),{x:ce,y:fe}=wn(U,L),Ce=i.ab.fromLngLat(s,h);let Ee,Le,ze=i.a$(1,Ce.y),it=0;do{if(it+=1,it>10)break;Le=W/ze,Ee=new i.ab(Ce.x+ce*Le,Ce.y+fe*Le),ze=1/Ee.meterInMercatorCoordinateUnits()}while(Math.abs(W-Le*ze)>1e-12);return{center:Ee.toLngLat(),elevation:ee,zoom:i.au(this.height/2/Math.tan(this.fovInRadians/2)/Le/this.tileSize)}}recalculateZoomAndCenter(s){if(this.elevation-s==0)return;const h=1/this.worldSize,x=i.at(1,this.center.lat)*this.worldSize,k=i.ab.fromLngLat(this.center,this.elevation),L=k.x/h,U=k.y/h,W=k.z/h,ee=this.pitch,ce=this.bearing,{x:fe,y:Ce,z:Ee}=wn(ee,ce),Le=this.cameraToCenterDistance,ze=L+Le*-fe,it=U+Le*-Ce,ct=W+Le*Ee,{distanceToCenter:lt,clampedElevation:pt}=this._distanceToCenterFromAltElevationPitch(ct/x,s,ee),Tt=lt*x,gt=new i.ab((ze+fe*Tt)*h,(it+Ce*Tt)*h,0).toLngLat(),At=i.at(1,gt.lat),Rt=i.au(this.height/2/Math.tan(this.fovInRadians/2)/lt/At/this.tileSize);this._elevation=pt,this._center=gt,this.setZoom(Rt)}_distanceToCenterFromAltElevationPitch(s,h,x){const k=-Math.cos(i.aq(x)),L=s-h;let U,W=h;return k*L>=0||Math.abs(k)<.1?(U=1e4,W=s+U*k):U=-L/k,{distanceToCenter:U,clampedElevation:W}}getCameraPoint(){const s=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new i.P(s*Math.sin(this.rollInRadians),s*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const s=i.at(1,this.center.lat)*this.worldSize;return Pt(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/s).toLngLat()}getMercatorTileCoordinates(s){if(!s)return[0,0,1,1];const h=s.canonical.z>=0?1<<s.canonical.z:Math.pow(2,s.canonical.z);return[s.canonical.x/h,s.canonical.y/h,1/h/i.a5,1/h/i.a5]}}class gi{constructor(s,h){this.min=s,this.max=h,this.center=i.b0([],i.b1([],this.min,this.max),.5)}quadrant(s){const h=[s%2==0,s<2],x=i.b2(this.min),k=i.b2(this.max);for(let L=0;L<h.length;L++)x[L]=h[L]?this.min[L]:this.center[L],k[L]=h[L]?this.center[L]:this.max[L];return k[2]=this.max[2],new gi(x,k)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}intersectsFrustum(s){let h=!0;for(let x=0;x<s.planes.length;x++){const k=this.intersectsPlane(s.planes[x]);if(k===0)return 0;k===1&&(h=!1)}return h?2:s.aabb.min[0]>this.max[0]||s.aabb.min[1]>this.max[1]||s.aabb.min[2]>this.max[2]||s.aabb.max[0]<this.min[0]||s.aabb.max[1]<this.min[1]||s.aabb.max[2]<this.min[2]?0:1}intersectsPlane(s){let h=s[3],x=s[3];for(let k=0;k<3;k++)s[k]>0?(h+=s[k]*this.min[k],x+=s[k]*this.max[k]):(x+=s[k]*this.min[k],h+=s[k]*this.max[k]);return h>=0?2:x<0?0:1}}class jc{distanceToTile2d(s,h,x,k){const L=k.distanceX([s,h]),U=k.distanceY([s,h]);return Math.hypot(L,U)}getWrap(s,h,x){return x}getTileBoundingVolume(s,h,x,k){var L,U;let W=0,ee=0;if(k?.terrain){const fe=new i.a2(s.z,h,s.z,s.x,s.y),Ce=k.terrain.getMinMaxElevation(fe);W=(L=Ce.minElevation)!==null&&L!==void 0?L:Math.min(0,x),ee=(U=Ce.maxElevation)!==null&&U!==void 0?U:Math.max(0,x)}const ce=1<<s.z;return new gi([h+s.x/ce,s.y/ce,W],[h+(s.x+1)/ce,(s.y+1)/ce,ee])}allowVariableZoom(s,h){const x=s.fov*(Math.abs(Math.cos(s.rollInRadians))*s.height+Math.abs(Math.sin(s.rollInRadians))*s.width)/s.height,k=i.ao(78.5-x/2,0,60);return!!h.terrain||s.pitch>k}allowWorldCopies(){return!0}prepareNextFrame(){}}class rs{constructor(s,h,x){this.points=s,this.planes=h,this.aabb=x}static fromInvProjectionMatrix(s,h=1,x=0,k,L){const U=L?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],W=Math.pow(2,x),ee=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((Ee=>(function(Le,ze,it,ct){const lt=i.aI([],Le,ze),pt=1/lt[3]/it*ct;return i.b7(lt,lt,[pt,pt,1/lt[3],pt])})(Ee,s,h,W)));k&&(function(Ee,Le,ze,it){const ct=it?4:0,lt=it?0:4;let pt=0;const Tt=[],gt=[];for(let bt=0;bt<4;bt++){const jt=i.b3([],Ee[bt+lt],Ee[bt+ct]),Qt=i.b8(jt);i.b0(jt,jt,1/Qt),Tt.push(Qt),gt.push(jt)}for(let bt=0;bt<4;bt++){const jt=i.b9(Ee[bt+ct],gt[bt],ze);pt=jt!==null&&jt>=0?Math.max(pt,jt):Math.max(pt,Tt[bt])}const At=(function(bt,jt){const Qt=i.b3([],bt[jt[0]],bt[jt[1]]),Jt=i.b3([],bt[jt[2]],bt[jt[1]]),nn=[0,0,0,0];return i.b4(nn,i.b5([],Qt,Jt)),nn[3]=-i.b6(nn,bt[jt[0]]),nn})(Ee,Le),Rt=(function(bt,jt){const Qt=i.ba(bt),Jt=i.bb([],bt,1/Qt),nn=i.b3([],jt,i.b0([],Jt,i.b6(jt,Jt))),an=i.ba(nn);if(an>0){const On=Math.sqrt(1-Jt[3]*Jt[3]),Zn=i.b0([],Jt,-Jt[3]),Nn=i.b1([],Zn,i.b0([],nn,On/an));return i.bc(jt,Nn)}return null})(ze,At);if(Rt!==null){const bt=Rt/i.b6(gt[0],At);pt=Math.min(pt,bt)}for(let bt=0;bt<4;bt++){const jt=Math.min(pt,Tt[bt]);Ee[bt+lt]=[Ee[bt+ct][0]+gt[bt][0]*jt,Ee[bt+ct][1]+gt[bt][1]*jt,Ee[bt+ct][2]+gt[bt][2]*jt,1]}})(ee,U[0],k,L);const ce=U.map((Ee=>{const Le=i.b3([],ee[Ee[0]],ee[Ee[1]]),ze=i.b3([],ee[Ee[2]],ee[Ee[1]]),it=i.b4([],i.b5([],Le,ze)),ct=-i.b6(it,ee[Ee[1]]);return it.concat(ct)})),fe=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],Ce=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const Ee of ee)for(let Le=0;Le<3;Le++)fe[Le]=Math.min(fe[Le],Ee[Le]),Ce[Le]=Math.max(Ce[Le],Ee[Le]);return new rs(ee,ce,new gi(fe,Ce))}}class eo{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,h,x){return this._helper.interpolatePadding(s,h,x)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,h,x=!0){this._helper.resize(s,h,x)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}setConstrainOverride(s){this._helper.setConstrainOverride(s)}overrideNearFarZ(s,h){this._helper.overrideNearFarZ(s,h)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s,h){}constructor(s){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(h,x)=>{x=i.ao(+x,this.minZoom,this.maxZoom);const k={center:new i.V(h.lng,h.lat),zoom:x};let L=this._helper._lngRange;if(!this._helper._renderWorldCopies&&L===null){const gt=179.9999999999;L=[-gt,gt]}const U=this.tileSize*i.ar(k.zoom);let W=0,ee=U,ce=0,fe=U,Ce=0,Ee=0;const{x:Le,y:ze}=this.size;if(this._helper._latRange){const gt=this._helper._latRange;W=i.X(gt[1])*U,ee=i.X(gt[0])*U,ee-W<ze&&(Ce=ze/(ee-W))}L&&(ce=i.W(i.Y(L[0])*U,0,U),fe=i.W(i.Y(L[1])*U,0,U),fe<ce&&(fe+=U),fe-ce<Le&&(Ee=Le/(fe-ce)));const{x:it,y:ct}=gn(U,h);let lt,pt;const Tt=Math.max(Ee||0,Ce||0);if(Tt){const gt=new i.P(Ee?(fe+ce)/2:it,Ce?(ee+W)/2:ct);return k.center=qn(U,gt).wrap(),k.zoom+=i.au(Tt),k}if(this._helper._latRange){const gt=ze/2;ct-gt<W&&(pt=W+gt),ct+gt>ee&&(pt=ee-gt)}if(L){const gt=(ce+fe)/2;let At=it;this._helper._renderWorldCopies&&(At=i.W(it,gt-U/2,gt+U/2));const Rt=Le/2;At-Rt<ce&&(lt=ce+Rt),At+Rt>fe&&(lt=fe-Rt)}if(lt!==void 0||pt!==void 0){const gt=new i.P(lt??it,pt??ct);k.center=qn(U,gt).wrap()}return k},this.applyConstrain=(h,x)=>this._helper.applyConstrain(h,x),this._helper=new Pa({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(h,x)=>this.defaultConstrain(h,x)},s),this._coveringTilesDetailsProvider=new jc}clone(){const s=new eo;return s.apply(this),s}apply(s,h,x){this._helper.apply(s,h,x)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(s){const h=[new i.bd(0,s)];if(this._helper._renderWorldCopies){const x=this.screenPointToMercatorCoordinate(new i.P(0,0)),k=this.screenPointToMercatorCoordinate(new i.P(this._helper._width,0)),L=this.screenPointToMercatorCoordinate(new i.P(this._helper._width,this._helper._height)),U=this.screenPointToMercatorCoordinate(new i.P(0,this._helper._height)),W=Math.floor(Math.min(x.x,k.x,L.x,U.x)),ee=Math.floor(Math.max(x.x,k.x,L.x,U.x)),ce=1;for(let fe=W-ce;fe<=ee+ce;fe++)fe!==0&&h.push(new i.bd(fe,s))}return h}getCameraFrustum(){return rs.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){const h=this.screenPointToLocation(this.centerPoint,s),x=s?s.getElevationForLngLatZoom(h,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(x)}setLocationAtPoint(s,h){const x=i.at(this.elevation,this.center.lat),k=this.screenPointToMercatorCoordinateAtZ(h,x),L=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,x),U=i.ab.fromLngLat(s),W=new i.ab(U.x-(k.x-L.x),U.y-(k.y-L.y));this.setCenter(W?.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(s,h){return h?this.coordinatePoint(i.ab.fromLngLat(s),h.getElevationForLngLat(s),this._pixelMatrix3D):this.coordinatePoint(i.ab.fromLngLat(s))}screenPointToLocation(s,h){var x;return(x=this.screenPointToMercatorCoordinate(s,h))===null||x===void 0?void 0:x.toLngLat()}screenPointToMercatorCoordinate(s,h){if(h){const x=h.pointCoordinate(s);if(x!=null)return x}return this.screenPointToMercatorCoordinateAtZ(s)}screenPointToMercatorCoordinateAtZ(s,h){const x=h||0,k=[s.x,s.y,0,1],L=[s.x,s.y,1,1];i.aI(k,k,this._pixelMatrixInverse),i.aI(L,L,this._pixelMatrixInverse);const U=k[3],W=L[3],ee=k[1]/U,ce=L[1]/W,fe=k[2]/U,Ce=L[2]/W,Ee=fe===Ce?0:(x-fe)/(Ce-fe);return new i.ab(i.G.number(k[0]/U,L[0]/W,Ee)/this.worldSize,i.G.number(ee,ce,Ee)/this.worldSize,x)}coordinatePoint(s,h=0,x=this._pixelMatrix){const k=[s.x*this.worldSize,s.y*this.worldSize,h,1];return i.aI(k,k,x),new i.P(k[0]/k[3],k[1]/k[3])}getBounds(){const s=Math.max(0,this._helper._height/2-Xn(this));return new Tn().extend(this.screenPointToLocation(new i.P(0,s))).extend(this.screenPointToLocation(new i.P(this._helper._width,s))).extend(this.screenPointToLocation(new i.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new i.P(0,this._helper._height)))}isPointOnMapSurface(s,h){return h?h.pointCoordinate(s)!=null:s.y>this.height/2-Xn(this)}calculatePosMatrix(s,h=!1,x){var k;const L=(k=s.key)!==null&&k!==void 0?k:i.be(s.wrap,s.canonical.z,s.canonical.z,s.canonical.x,s.canonical.y),U=h?this._alignedPosMatrixCache:this._posMatrixCache;if(U.has(L)){const ce=U.get(L);return x?ce.f32:ce.f64}const W=Qn(s,this.worldSize);i.S(W,h?this._alignedProjMatrix:this._viewProjMatrix,W);const ee={f64:W,f32:new Float32Array(W)};return U.set(L,ee),x?ee.f32:ee.f64}calculateFogMatrix(s){const h=s.key,x=this._fogMatrixCacheF32;if(x.has(h))return x.get(h);const k=Qn(s,this.worldSize);return i.S(k,this._fogMatrix,k),x.set(h,new Float32Array(k)),x.get(h)}calculateCenterFromCameraLngLatAlt(s,h,x,k){return this._helper.calculateCenterFromCameraLngLatAlt(s,h,x,k)}_calculateNearFarZIfNeeded(s,h,x){if(!this._helper.autoCalculateNearFarZ)return;const k=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),L=s-k*this._helper._pixelPerMeter/Math.cos(h),U=k<0?L:s,W=Math.PI/2+this.pitchInRadians,ee=i.aq(this.fov)*(Math.abs(Math.cos(i.aq(this.roll)))*this.height+Math.abs(Math.sin(i.aq(this.roll)))*this.width)/this.height*(.5+x.y/this.height),ce=Math.sin(ee)*U/Math.sin(i.ao(Math.PI-W-ee,.01,Math.PI-.01)),fe=Xn(this),Ce=Math.atan(fe/this._helper.cameraToCenterDistance),Ee=i.aq(.75),Le=Ce>Ee?2*Ce*(.5+x.y/(2*fe)):Ee,ze=Math.sin(Le)*U/Math.sin(i.ao(Math.PI-W-Le,.01,Math.PI-.01)),it=Math.min(ce,ze);this._helper._farZ=1.01*(Math.cos(Math.PI/2-h)*it+U),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const s=this.centerOffset,h=gn(this.worldSize,this.center),x=h.x,k=h.y;this._helper._pixelPerMeter=i.at(1,this.center.lat)*this.worldSize;const L=i.aq(Math.min(this.pitch,Vn)),U=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(L));let W;this._calculateNearFarZIfNeeded(U,L,s),W=new Float64Array(16),i.bf(W,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),i.aC(this._invProjMatrix,W),W[8]=2*-s.x/this._helper._width,W[9]=2*s.y/this._helper._height,this._projectionMatrix=i.bg(W),i.Q(W,W,[1,-1,1]),i.O(W,W,[0,0,-this._helper.cameraToCenterDistance]),i.bh(W,W,-this.rollInRadians),i.bi(W,W,this.pitchInRadians),i.bh(W,W,-this.bearingInRadians),i.O(W,W,[-x,-k,0]),this._mercatorMatrix=i.Q([],W,[this.worldSize,this.worldSize,this.worldSize]),i.Q(W,W,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=i.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,W),i.O(W,W,[0,0,-this.elevation]),this._viewProjMatrix=W,this._invViewProjMatrix=i.aC([],W);const ee=[0,0,-1,1];i.aI(ee,ee,this._invViewProjMatrix),this._cameraPosition=[ee[0]/ee[3],ee[1]/ee[3],ee[2]/ee[3]],this._fogMatrix=new Float64Array(16),i.bf(this._fogMatrix,this.fovInRadians,this.width/this.height,U,this._helper._farZ),this._fogMatrix[8]=2*-s.x/this.width,this._fogMatrix[9]=2*s.y/this.height,i.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),i.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),i.bh(this._fogMatrix,this._fogMatrix,-this.rollInRadians),i.bi(this._fogMatrix,this._fogMatrix,this.pitchInRadians),i.bh(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),i.O(this._fogMatrix,this._fogMatrix,[-x,-k,0]),i.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),i.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=i.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,W);const ce=this._helper._width%2/2,fe=this._helper._height%2/2,Ce=Math.cos(this.bearingInRadians),Ee=Math.sin(-this.bearingInRadians),Le=x-Math.round(x)+Ce*ce+Ee*fe,ze=k-Math.round(k)+Ce*fe+Ee*ce,it=new Float64Array(W);if(i.O(it,it,[Le>.5?Le-1:Le,ze>.5?ze-1:ze,0]),this._alignedProjMatrix=it,W=i.aC(new Float64Array(16),this._pixelMatrix),!W)throw new Error("failed to invert matrix");this._pixelMatrixInverse=W,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const s=this.screenPointToMercatorCoordinate(new i.P(0,0)),h=[s.x*this.worldSize,s.y*this.worldSize,0,1];return i.aI(h,h,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const s=i.at(1,this.center.lat)*this.worldSize;return Pt(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/s).toLngLat()}lngLatToCameraDepth(s,h){const x=i.ab.fromLngLat(s),k=[x.x*this.worldSize,x.y*this.worldSize,h,1];return i.aI(k,k,this._viewProjMatrix),k[2]/k[3]}getProjectionData(s){const{overscaledTileID:h,aligned:x,applyTerrainMatrix:k}=s,L=this._helper.getMercatorTileCoordinates(h),U=h?this.calculatePosMatrix(h,x,!0):null;let W;return W=h&&h.terrainRttPosMatrix32f&&k?h.terrainRttPosMatrix32f:U||i.bj(),{mainMatrix:W,tileMercatorCoords:L,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:W}}isLocationOccluded(s){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(s,h,x){return 1}transformLightDirection(s){return i.b2(s)}getRayDirectionFromPixel(s){throw new Error("Not implemented.")}projectTileCoordinates(s,h,x,k){const L=this.calculatePosMatrix(x);let U;k?(U=[s,h,k(s,h),1],i.aI(U,U,L)):(U=[s,h,0,1],pa(U,U,L));const W=U[3];return{point:new i.P(U[0]/W,U[1]/W),signedDistanceFromCamera:W,isOccluded:!1}}populateCache(s){for(const h of s)this.calculatePosMatrix(h)}getMatrixForModel(s,h){const x=i.ab.fromLngLat(s,h),k=x.meterInMercatorCoordinateUnits(),L=i.bk();return i.O(L,L,[x.x,x.y,x.z]),i.bh(L,L,Math.PI),i.bi(L,L,Math.PI/2),i.Q(L,L,[-k,k,k]),L}getProjectionDataForCustomLayer(s=!0){const h=new i.a2(0,0,0,0,0),x=this.getProjectionData({overscaledTileID:h,applyGlobeMatrix:s}),k=Qn(h,this.worldSize);i.S(k,this._viewProjMatrix,k),x.tileMercatorCoords=[0,0,1,1];const L=[i.a5,i.a5,this.worldSize/this._helper.pixelsPerMeter],U=i.bl();return i.Q(U,k,L),x.fallbackMatrix=U,x.mainMatrix=U,x}getFastPathSimpleProjectionMatrix(s){return this.calculatePosMatrix(s)}}function ms(){i.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Qf(O){if(O.useSlerp)if(O.k<1){const s=i.bm(O.startEulerAngles.roll,O.startEulerAngles.pitch,O.startEulerAngles.bearing),h=i.bm(O.endEulerAngles.roll,O.endEulerAngles.pitch,O.endEulerAngles.bearing),x=new Float64Array(4);i.bn(x,s,h,O.k);const k=i.bo(x);O.tr.setRoll(k.roll),O.tr.setPitch(k.pitch),O.tr.setBearing(k.bearing)}else O.tr.setRoll(O.endEulerAngles.roll),O.tr.setPitch(O.endEulerAngles.pitch),O.tr.setBearing(O.endEulerAngles.bearing);else O.tr.setRoll(i.G.number(O.startEulerAngles.roll,O.endEulerAngles.roll,O.k)),O.tr.setPitch(i.G.number(O.startEulerAngles.pitch,O.endEulerAngles.pitch,O.k)),O.tr.setBearing(i.G.number(O.startEulerAngles.bearing,O.endEulerAngles.bearing,O.k))}function rc(O,s,h,x,k){const L=k.padding,U=gn(k.worldSize,h.getNorthWest()),W=gn(k.worldSize,h.getNorthEast()),ee=gn(k.worldSize,h.getSouthEast()),ce=gn(k.worldSize,h.getSouthWest()),fe=i.aq(-x),Ce=U.rotate(fe),Ee=W.rotate(fe),Le=ee.rotate(fe),ze=ce.rotate(fe),it=new i.P(Math.max(Ce.x,Ee.x,ze.x,Le.x),Math.max(Ce.y,Ee.y,ze.y,Le.y)),ct=new i.P(Math.min(Ce.x,Ee.x,ze.x,Le.x),Math.min(Ce.y,Ee.y,ze.y,Le.y)),lt=it.sub(ct),pt=(k.width-(L.left+L.right+s.left+s.right))/lt.x,Tt=(k.height-(L.top+L.bottom+s.top+s.bottom))/lt.y;if(Tt<0||pt<0)return void ms();const gt=Math.min(i.au(k.scale*Math.min(pt,Tt)),O.maxZoom),At=i.P.convert(O.offset),Rt=new i.P((s.left-s.right)/2,(s.top-s.bottom)/2).rotate(i.aq(x)),bt=At.add(Rt).mult(k.scale/i.ar(gt));return{center:qn(k.worldSize,U.add(ee).div(2).sub(bt)),zoom:gt,bearing:x}}class Rs{get useGlobeControls(){return!1}handlePanInertia(s,h){const x=s.mag(),k=Math.abs(Xn(h));return{easingOffset:s.mult(Math.min(.75*k/x,1)),easingCenter:h.center}}handleMapControlsRollPitchBearingZoom(s,h){s.bearingDelta&&h.setBearing(h.bearing+s.bearingDelta),s.pitchDelta&&h.setPitch(h.pitch+s.pitchDelta),s.rollDelta&&h.setRoll(h.roll+s.rollDelta),s.zoomDelta&&h.setZoom(h.zoom+s.zoomDelta)}handleMapControlsPan(s,h,x){s.around.distSqr(h.centerPoint)<.01||h.setLocationAtPoint(x,s.around)}cameraForBoxAndBearing(s,h,x,k,L){return rc(s,h,x,k,L)}handleJumpToCenterZoom(s,h){s.zoom!==(h.zoom!==void 0?+h.zoom:s.zoom)&&s.setZoom(+h.zoom),h.center!==void 0&&s.setCenter(i.V.convert(h.center))}handleEaseTo(s,h){const x=s.zoom,k=s.padding,L={roll:s.roll,pitch:s.pitch,bearing:s.bearing},U={roll:h.roll===void 0?s.roll:h.roll,pitch:h.pitch===void 0?s.pitch:h.pitch,bearing:h.bearing===void 0?s.bearing:h.bearing},W=h.zoom!==void 0,ee=!s.isPaddingEqual(h.padding);let ce=!1;const fe=W?+h.zoom:s.zoom;let Ce=s.centerPoint.add(h.offsetAsPoint);const Ee=s.screenPointToLocation(Ce),{center:Le,zoom:ze}=s.applyConstrain(i.V.convert(h.center||Ee),fe??x);Ql(s,Le);const it=gn(s.worldSize,Ee),ct=gn(s.worldSize,Le).sub(it),lt=i.ar(ze-x);return ce=ze!==x,{easeFunc:pt=>{if(ce&&s.setZoom(i.G.number(x,ze,pt)),i.bp(L,U)||Qf({startEulerAngles:L,endEulerAngles:U,tr:s,k:pt,useSlerp:L.roll!=U.roll}),ee&&(s.interpolatePadding(k,h.padding,pt),Ce=s.centerPoint.add(h.offsetAsPoint)),h.around)s.setLocationAtPoint(h.around,h.aroundPoint);else{const Tt=i.ar(s.zoom-x),gt=ze>x?Math.min(2,lt):Math.max(.5,lt),At=Math.pow(gt,1-pt),Rt=qn(s.worldSize,it.add(ct.mult(pt*At)).mult(Tt));s.setLocationAtPoint(s.renderWorldCopies?Rt.wrap():Rt,Ce)}},isZooming:ce,elevationCenter:Le}}handleFlyTo(s,h){const x=h.zoom!==void 0,k=s.zoom,L=s.applyConstrain(i.V.convert(h.center||h.locationAtOffset),x?+h.zoom:k),U=L.center,W=L.zoom;Ql(s,U);const ee=gn(s.worldSize,h.locationAtOffset),ce=gn(s.worldSize,U).sub(ee),fe=ce.mag(),Ce=i.ar(W-k);let Ee;if(h.minZoom!==void 0){const Le=Math.min(+h.minZoom,k,W),ze=s.applyConstrain(U,Le).zoom;Ee=i.ar(ze-k)}return{easeFunc:(Le,ze,it,ct)=>{s.setZoom(Le===1?W:k+i.au(ze));const lt=Le===1?U:qn(s.worldSize,ee.add(ce.mult(it)).mult(ze));s.setLocationAtPoint(s.renderWorldCopies?lt.wrap():lt,ct)},scaleOfZoom:Ce,targetCenter:U,scaleOfMinZoom:Ee,pixelPathLength:fe}}}class ia{constructor(s,h,x){this.blendFunction=s,this.blendColor=h,this.mask=x}}ia.Replace=[1,0],ia.disabled=new ia(ia.Replace,i.bq.transparent,[!1,!1,!1,!1]),ia.unblended=new ia(ia.Replace,i.bq.transparent,[!0,!0,!0,!0]),ia.alphaBlended=new ia([1,771],i.bq.transparent,[!0,!0,!0,!0]);const xu=2305;class Gr{constructor(s,h,x){this.enable=s,this.mode=h,this.frontFace=x}}Gr.disabled=new Gr(!1,1029,xu),Gr.backCCW=new Gr(!0,1029,xu),Gr.frontCCW=new Gr(!0,1028,xu);class Zr{constructor(s,h,x){this.func=s,this.mask=h,this.range=x}}Zr.ReadOnly=!1,Zr.ReadWrite=!0,Zr.disabled=new Zr(519,Zr.ReadOnly,[0,1]);const ac=7680;class ea{constructor(s,h,x,k,L,U){this.test=s,this.ref=h,this.mask=x,this.fail=k,this.depthFail=L,this.pass=U}}ea.disabled=new ea({func:519,mask:0},0,0,ac,ac,ac);const Sd=new WeakMap;function Bo(O){var s;if(Sd.has(O))return Sd.get(O);{const h=(s=O.getParameter(O.VERSION))===null||s===void 0?void 0:s.startsWith("WebGL 2.0");return Sd.set(O,h),h}}class ic{get awaitingQuery(){return!!this._readbackQueue}constructor(s){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=s;const h=s.context,x=h.gl;this._texFormat=x.RGBA,this._texType=x.UNSIGNED_BYTE;const k=new i.aX;k.emplaceBack(-1,-1),k.emplaceBack(2,-1),k.emplaceBack(-1,2);const L=new i.aZ;L.emplaceBack(0,1,2),this._fullscreenTriangle=new Va(h.createVertexBuffer(k,Ks.members),h.createIndexBuffer(L),i.aY.simpleSegment(0,0,k.length,L.length)),this._resultBuffer=new Uint8Array(4),h.activeTexture.set(x.TEXTURE1);const U=x.createTexture();x.bindTexture(x.TEXTURE_2D,U),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_S,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_WRAP_T,x.CLAMP_TO_EDGE),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MIN_FILTER,x.NEAREST),x.texParameteri(x.TEXTURE_2D,x.TEXTURE_MAG_FILTER,x.NEAREST),x.texImage2D(x.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=h.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(U),Bo(x)&&(this._pbo=x.createBuffer(),x.bindBuffer(x.PIXEL_PACK_BUFFER,this._pbo),x.bufferData(x.PIXEL_PACK_BUFFER,4,x.STREAM_READ),x.bindBuffer(x.PIXEL_PACK_BUFFER,null))}destroy(){const s=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),s.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(s,h){const x=this._updateCount;return this._readbackQueue?x>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():x>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(s,h),this._updateCount++,this._measuredError}_bindFramebuffer(){const s=this._cachedRenderContext.context,h=s.gl;s.activeTexture.set(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,this._fbo.colorAttachment.get()),s.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(s,h){const x=this._cachedRenderContext.context,k=x.gl;if(this._bindFramebuffer(),x.viewport.set([0,0,this._texWidth,this._texHeight]),x.clear({color:i.bq.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(x,k.TRIANGLES,Zr.disabled,ea.disabled,ia.unblended,Gr.disabled,((L,U)=>({u_input:L,u_output_expected:U}))(s,h),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&Bo(k)){k.bindBuffer(k.PIXEL_PACK_BUFFER,this._pbo),k.readBuffer(k.COLOR_ATTACHMENT0),k.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),k.bindBuffer(k.PIXEL_PACK_BUFFER,null);const L=k.fenceSync(k.SYNC_GPU_COMMANDS_COMPLETE,0);k.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:L}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const s=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&Bo(s)){const h=s.clientWaitSync(this._readbackQueue.sync,0,0);if(h===s.WAIT_FAILED)return i.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(h===s.TIMEOUT_EXPIRED)return;s.bindBuffer(s.PIXEL_PACK_BUFFER,this._pbo),s.getBufferSubData(s.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),s.bindBuffer(s.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),s.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=ic._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(s){let h=0;return h+=s[0]/256,h+=s[1]/65536,h+=s[2]/16777216,s[3]<127&&(h=-h),h/128}}const $o=i.a5/128;function Zh(O,s){const h=O.granularity!==void 0?Math.max(O.granularity,1):1,x=h+(O.generateBorders?2:0),k=h+(O.extendToNorthPole||O.generateBorders?1:0)+(O.extendToSouthPole||O.generateBorders?1:0),L=x+1,U=k+1,W=O.generateBorders?-1:0,ee=O.generateBorders||O.extendToNorthPole?-1:0,ce=h+(O.generateBorders?1:0),fe=h+(O.generateBorders||O.extendToSouthPole?1:0),Ce=L*U,Ee=x*k*6,Le=L*U>65536;if(Le&&s==="16bit")throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const ze=Le||s==="32bit",it=new Int16Array(2*Ce);let ct=0;for(let Tt=ee;Tt<=fe;Tt++)for(let gt=W;gt<=ce;gt++){let At=gt/h*i.a5;gt===-1&&(At=-$o),gt===h+1&&(At=i.a5+$o);let Rt=Tt/h*i.a5;Tt===-1&&(Rt=O.extendToNorthPole?i.bs:-$o),Tt===h+1&&(Rt=O.extendToSouthPole?i.bt:i.a5+$o),it[ct++]=At,it[ct++]=Rt}const lt=ze?new Uint32Array(Ee):new Uint16Array(Ee);let pt=0;for(let Tt=0;Tt<k;Tt++)for(let gt=0;gt<x;gt++){const At=gt+1+Tt*L,Rt=gt+(Tt+1)*L,bt=gt+1+(Tt+1)*L;lt[pt++]=gt+Tt*L,lt[pt++]=Rt,lt[pt++]=At,lt[pt++]=At,lt[pt++]=Rt,lt[pt++]=bt}return{vertices:it.buffer.slice(0),indices:lt.buffer.slice(0),uses32bitIndices:ze}}const sf=new i.aW({fill:new i.bu(128,2),line:new i.bu(512,0),tile:new i.bu(128,32),stencil:new i.bu(128,1),circle:3});class Ms{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Si.projectionGlobe}get vertexShaderPreludeCode(){return Si.projectionMercator.vertexSource}get subdivisionGranularity(){return sf}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(s){this._errorMeasurement||(this._errorMeasurement=new ic(s));const h=i.X(this._errorQueryLatitudeDegrees),x=2*Math.atan(Math.exp(Math.PI-h*Math.PI*2))-.5*Math.PI,k=this._errorMeasurement.updateErrorLoop(h,x),L=G();k!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=k,this._errorMeasurementLastChangeTime=L);const U=Math.min(Math.max((L-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=i.bv(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,i.bw(U))}_getMeshKey(s){return`${s.granularity.toString(36)}_${s.generateBorders?"b":""}${s.extendToNorthPole?"n":""}${s.extendToSouthPole?"s":""}`}getMeshFromTileID(s,h,x,k,L){const U=(L==="stencil"?sf.stencil:sf.tile).getGranularityForZoomLevel(h.z);return this._getMesh(s,{granularity:U,generateBorders:x,extendToNorthPole:h.y===0&&k,extendToSouthPole:h.y===(1<<h.z)-1&&k})}_getMesh(s,h){const x=this._getMeshKey(h);if(x in this._tileMeshCache)return this._tileMeshCache[x];const k=(function(L,U){const W=Zh(U,"16bit"),ee=i.aX.deserialize({arrayBuffer:W.vertices,length:W.vertices.byteLength/2/2}),ce=i.aZ.deserialize({arrayBuffer:W.indices,length:W.indices.byteLength/2/3});return new Va(L.createVertexBuffer(ee,Ks.members),L.createIndexBuffer(ce),i.aY.simpleSegment(0,0,ee.length,ce.length))})(s,h);return this._tileMeshCache[x]=k,k}recalculate(s){}hasTransition(){const s=G();let h=!1;return h=h||(s-this._errorMeasurementLastChangeTime)/1e3<.7,h=h||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,h}setErrorQueryLatitudeDegrees(s){this._errorQueryLatitudeDegrees=s}}const Hy=new i.t({type:new i.D(i.u.projection.type)});class Qs extends i.E{constructor(s){super(),this._transitionable=new i.x(Hy,void 0),this.setProjection(s),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new i.H(0)),this._mercatorProjection=new li,this._verticalPerspectiveProjection=new Ms}get transitionState(){const s=this.properties.get("type");if(typeof s=="string"&&s==="mercator")return 0;if(typeof s=="string"&&s==="vertical-perspective")return 1;if(s instanceof i.bx){if(s.from==="vertical-perspective"&&s.to==="mercator")return 1-s.transition;if(s.from==="mercator"&&s.to==="vertical-perspective")return s.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(s){this._mercatorProjection.updateGPUdependent(s),this._verticalPerspectiveProjection.updateGPUdependent(s)}getMeshFromTileID(s,h,x,k,L){return this.currentProjection.getMeshFromTileID(s,h,x,k,L)}setProjection(s){this._transitionable.setValue("type",s?.type||"mercator")}updateTransitions(s){this._transitioning=this._transitionable.transitioned(s,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(s){this.properties=this._transitioning.possiblyEvaluate(s)}setErrorQueryLatitudeDegrees(s){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(s),this._mercatorProjection.setErrorQueryLatitudeDegrees(s)}}function Os(O){const s=gs(O.worldSize,O.center.lat);return 2*Math.PI*s}function Jl(O,s,h,x,k){const L=1/(1<<k),U=s/i.a5*L+x*L,W=i.bz((O/i.a5*L+h*L)*Math.PI*2+Math.PI,2*Math.PI),ee=2*Math.atan(Math.exp(Math.PI-U*Math.PI*2))-.5*Math.PI,ce=Math.cos(ee),fe=new Float64Array(3);return fe[0]=Math.sin(W)*ce,fe[1]=Math.sin(ee),fe[2]=Math.cos(W)*ce,fe}function qa(O){return(function(s,h){const x=Math.cos(h),k=new Float64Array(3);return k[0]=Math.sin(s)*x,k[1]=Math.sin(h),k[2]=Math.cos(s)*x,k})(O.lng*Math.PI/180,O.lat*Math.PI/180)}function gs(O,s){return O/(2*Math.PI)/Math.cos(s*Math.PI/180)}function Eo(O){const s=Math.asin(O[1])/Math.PI*180,h=Math.sqrt(O[0]*O[0]+O[2]*O[2]);if(h>1e-6){const x=O[0]/h,k=Math.acos(O[2]/h),L=(x>0?k:-k)/Math.PI*180;return new i.V(i.W(L,-180,180),s)}return new i.V(0,s)}function ui(O){return Math.cos(O*Math.PI/180)}function Xa(O,s){const h=ui(O),x=ui(s);return i.au(x/h)}function Xh(O,s){const h=O.rotate(s.bearingInRadians),x=s.zoom+Xa(s.center.lat,0),k=i.bv(1/ui(s.center.lat),1/ui(Math.min(Math.abs(s.center.lat),60)),i.by(x,7,3,0,1)),L=360/Os({worldSize:s.worldSize,center:{lat:s.center.lat}});return new i.V(s.center.lng-h.x*L*k,i.ao(s.center.lat+h.y*L,-i.ap,i.ap))}function lf(O){const s=.5*O,h=Math.sin(s),x=Math.cos(s);return Math.log(h+x)-Math.log(x-h)}function Jf(O,s,h,x){const k=O.lat+h*x;if(Math.abs(h)>1){const L=(Math.sign(O.lat+h)!==Math.sign(O.lat)?-Math.abs(O.lat):Math.abs(O.lat))*Math.PI/180,U=Math.abs(O.lat+h)*Math.PI/180,W=lf(L+x*(U-L)),ee=lf(L),ce=lf(U);return new i.V(O.lng+s*((W-ee)/(ce-ee)),k)}return new i.V(O.lng+s*x,k)}class tm{constructor(s){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=s}swapBuffers(){if(!this._hadAnyChanges)return;const s=this._cachePrevious;this._cachePrevious=this._cache,this._cache=s,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(s,h,x,k){const L=`${s.z}_${s.x}_${s.y}_${k?.terrain?"t":""}`,U=this._cache.get(L);if(U)return U;const W=this._cachePrevious.get(L);if(W)return this._cache.set(L,W),W;const ee=this._boundingVolumeFactory(s,h,x,k);return this._cache.set(L,ee),this._hadAnyChanges=!0,ee}}class Td{constructor(s,h,x,k){this.min=x,this.max=k,this.points=s,this.planes=h}static fromAabb(s,h){const x=[];for(let k=0;k<8;k++)x.push([1&~k?s[0]:h[0],(k>>1&1)==1?h[1]:s[1],(k>>2&1)==1?h[2]:s[2]]);return new Td(x,[[-1,0,0,h[0]],[1,0,0,-s[0]],[0,-1,0,h[1]],[0,1,0,-s[1]],[0,0,-1,h[2]],[0,0,1,-s[2]]],s,h)}static fromCenterSizeAngles(s,h,x){const k=i.bC([],x[0],x[1],x[2]),L=i.bD([],[h[0],0,0],k),U=i.bD([],[0,h[1],0],k),W=i.bD([],[0,0,h[2]],k),ee=[...s],ce=[...s];for(let Ce=0;Ce<8;Ce++)for(let Ee=0;Ee<3;Ee++){const Le=s[Ee]+L[Ee]*(1&~Ce?-1:1)+U[Ee]*((Ce>>1&1)==1?1:-1)+W[Ee]*((Ce>>2&1)==1?1:-1);ee[Ee]=Math.min(ee[Ee],Le),ce[Ee]=Math.max(ce[Ee],Le)}const fe=[];for(let Ce=0;Ce<8;Ce++){const Ee=[...s];i.b1(Ee,Ee,i.b0([],L,1&~Ce?-1:1)),i.b1(Ee,Ee,i.b0([],U,(Ce>>1&1)==1?1:-1)),i.b1(Ee,Ee,i.b0([],W,(Ce>>2&1)==1?1:-1)),fe.push(Ee)}return new Td(fe,[[...L,-i.b6(L,fe[0])],[...U,-i.b6(U,fe[0])],[...W,-i.b6(W,fe[0])],[-L[0],-L[1],-L[2],-i.b6(L,fe[7])],[-U[0],-U[1],-U[2],-i.b6(U,fe[7])],[-W[0],-W[1],-W[2],-i.b6(W,fe[7])]],ee,ce)}intersectsFrustum(s){let h=!0;const x=this.points.length,k=this.planes.length,L=s.planes.length,U=s.points.length;for(let W=0;W<L;W++){const ee=s.planes[W];let ce=0;for(let fe=0;fe<x;fe++){const Ce=this.points[fe];ee[0]*Ce[0]+ee[1]*Ce[1]+ee[2]*Ce[2]+ee[3]>=0&&ce++}if(ce===0)return 0;ce<x&&(h=!1)}if(h)return 2;for(let W=0;W<k;W++){const ee=this.planes[W];let ce=0;for(let fe=0;fe<U;fe++){const Ce=s.points[fe];ee[0]*Ce[0]+ee[1]*Ce[1]+ee[2]*Ce[2]+ee[3]>=0&&ce++}if(ce===0)return 0}return 1}intersectsPlane(s){const h=this.points.length;let x=0;for(let k=0;k<h;k++){const L=this.points[k];s[0]*L[0]+s[1]*L[1]+s[2]*L[2]+s[3]>=0&&x++}return x===h?2:x===0?0:1}}function Js(O,s,h){const x=O-s;return x<0?-x:Math.max(0,x-h)}function zc(O,s,h,x,k){const L=O-h;let U;return U=L<0?Math.min(-L,1+L-k):L>1?Math.min(Math.max(L-k,0),1-L):0,Math.max(U,Js(s,x,k))}class jo{constructor(){this._boundingVolumeCache=new tm(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(s,h,x,k){const L=1<<x.z,U=1/L,W=x.x/L,ee=x.y/L;let ce=2;return ce=Math.min(ce,zc(s,h,W,ee,U)),ce=Math.min(ce,zc(s,h,W+.5,-ee-U,U)),ce=Math.min(ce,zc(s,h,W+.5,2-ee-U,U)),ce}getWrap(s,h,x){const k=1<<h.z,L=1/k,U=h.x/k,W=Js(s.x,U,L),ee=Js(s.x,U-1,L),ce=Js(s.x,U+1,L),fe=Math.min(W,ee,ce);return fe===ce?1:fe===ee?-1:0}allowVariableZoom(s,h){return Tr(s,h)>4}allowWorldCopies(){return!1}getTileBoundingVolume(s,h,x,k){return this._boundingVolumeCache.getTileBoundingVolume(s,h,x,k)}_computeTileBoundingVolume(s,h,x,k){var L,U;let W=0,ee=0;if(k?.terrain){const ce=new i.a2(s.z,h,s.z,s.x,s.y),fe=k.terrain.getMinMaxElevation(ce);W=(L=fe.minElevation)!==null&&L!==void 0?L:Math.min(0,x),ee=(U=fe.maxElevation)!==null&&U!==void 0?U:Math.max(0,x)}if(W/=i.bF,ee/=i.bF,W+=1,ee+=1,s.z<=0)return Td.fromAabb([-ee,-ee,-ee],[ee,ee,ee]);if(s.z===1)return Td.fromAabb([s.x===0?-ee:0,s.y===0?0:-ee,-ee],[s.x===0?0:ee,s.y===0?ee:0,ee]);{const ce=[Jl(0,0,s.x,s.y,s.z),Jl(i.a5,0,s.x,s.y,s.z),Jl(i.a5,i.a5,s.x,s.y,s.z),Jl(0,i.a5,s.x,s.y,s.z)],fe=[];for(const nn of ce)fe.push(i.b0([],nn,ee));if(ee!==W)for(const nn of ce)fe.push(i.b0([],nn,W));s.y===0&&fe.push([0,1,0]),s.y===(1<<s.z)-1&&fe.push([0,-1,0]);const Ce=[1,1,1],Ee=[-1,-1,-1];for(const nn of fe)for(let an=0;an<3;an++)Ce[an]=Math.min(Ce[an],nn[an]),Ee[an]=Math.max(Ee[an],nn[an]);const Le=Jl(i.a5/2,i.a5/2,s.x,s.y,s.z),ze=i.b5([],[0,1,0],Le);i.b4(ze,ze);const it=i.b5([],Le,ze);i.b4(it,it);const ct=i.b5([],ce[2],ce[1]);i.b4(ct,ct);const lt=i.b5([],ce[0],ce[3]);i.b4(lt,lt),fe.push(i.b0([],Le,ee)),s.y>=(1<<s.z)/2&&fe.push(i.b0([],Jl(i.a5/2,0,s.x,s.y,s.z),ee)),s.y<(1<<s.z)/2&&fe.push(i.b0([],Jl(i.a5/2,i.a5,s.x,s.y,s.z),ee));const pt=el(Le,fe),Tt=el(it,fe),gt=[-Le[0],-Le[1],-Le[2],pt.max],At=[Le[0],Le[1],Le[2],-pt.min],Rt=[-it[0],-it[1],-it[2],Tt.max],bt=[it[0],it[1],it[2],-Tt.min],jt=[...ct,0],Qt=[...lt,0],Jt=[];return s.y===0?Jt.push(i.bE(Qt,jt,gt),i.bE(Qt,jt,At)):Jt.push(i.bE(Rt,jt,gt),i.bE(Rt,jt,At),i.bE(Rt,Qt,gt),i.bE(Rt,Qt,At)),s.y===(1<<s.z)-1?Jt.push(i.bE(Qt,jt,gt),i.bE(Qt,jt,At)):Jt.push(i.bE(bt,jt,gt),i.bE(bt,jt,At),i.bE(bt,Qt,gt),i.bE(bt,Qt,At)),new Td(Jt,[gt,At,Rt,bt,jt,Qt],Ce,Ee)}}}function el(O,s){let h=1/0,x=-1/0;for(const k of s){const L=i.b6(O,k);h=Math.min(h,L),x=Math.max(x,L)}return{min:h,max:x}}class uf{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,h,x){return this._helper.interpolatePadding(s,h,x)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,h){this._helper.resize(s,h)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}setConstrainOverride(s){this._helper.setConstrainOverride(s)}overrideNearFarZ(s,h){this._helper.overrideNearFarZ(s,h)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(s){}constructor(s){this._cachedClippingPlane=i.bG(),this._projectionMatrix=i.bk(),this._globeViewProjMatrix32f=i.bj(),this._globeViewProjMatrixNoCorrection=i.bk(),this._globeViewProjMatrixNoCorrectionInverted=i.bk(),this._globeProjMatrixInverted=i.bk(),this._cameraPosition=i.bA(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(h,x)=>{const k=i.ao(h.lat,-i.ap,i.ap),L=i.ao(+x,this.minZoom+Xa(0,k),this.maxZoom);return{center:new i.V(h.lng,k),zoom:L}},this.applyConstrain=(h,x)=>this._helper.applyConstrain(h,x),this._helper=new Pa({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(h,x)=>this.defaultConstrain(h,x)},s),this._coveringTilesDetailsProvider=new jo}clone(){const s=new uf;return s.apply(this),s}apply(s,h){this._globeLatitudeErrorCorrectionRadians=h||0,this._helper.apply(s)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const s=i.bA();return s[0]=this._cameraPosition[0],s[1]=this._cameraPosition[1],s[2]=this._cameraPosition[2],s}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(s){const{overscaledTileID:h,applyGlobeMatrix:x}=s,k=this._helper.getMercatorTileCoordinates(h);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:k,clippingPlane:this._cachedClippingPlane,projectionTransition:x?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(s){const h=this.pitchInRadians,x=this.cameraToCenterDistance/s,k=Math.sin(h)*x,L=Math.cos(h)*x+1,U=1/Math.sqrt(k*k+L*L)*1;let W=-k,ee=L;const ce=Math.sqrt(W*W+ee*ee);W/=ce,ee/=ce;const fe=[0,W,ee];i.bH(fe,fe,[0,0,0],-this.bearingInRadians),i.bI(fe,fe,[0,0,0],-1*this.center.lat*Math.PI/180),i.bJ(fe,fe,[0,0,0],this.center.lng*Math.PI/180);const Ce=1/i.b8(fe);return i.b0(fe,fe,Ce),[...fe,-U*Ce]}isLocationOccluded(s){return!this.isSurfacePointVisible(qa(s))}transformLightDirection(s){const h=this._helper._center.lng*Math.PI/180,x=this._helper._center.lat*Math.PI/180,k=Math.cos(x),L=[Math.sin(h)*k,Math.sin(x),Math.cos(h)*k],U=[L[2],0,-L[0]],W=[0,0,0];i.b5(W,U,L),i.b4(U,U),i.b4(W,W);const ee=[0,0,0];return i.b4(ee,[U[0]*s[0]+W[0]*s[1]+L[0]*s[2],U[1]*s[0]+W[1]*s[1]+L[1]*s[2],U[2]*s[0]+W[2]*s[1]+L[2]*s[2]]),ee}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(s,h,x){const k=(function(W,ee,ce){const fe=1/(1<<ce.z);return new i.ab(W/i.a5*fe+ce.x*fe,ee/i.a5*fe+ce.y*fe)})(s,h,x.canonical),L=(U=k.y,[i.bz(k.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-U*Math.PI*2))-.5*Math.PI]);var U;return this.getCircleRadiusCorrection()/Math.cos(L[1])}projectTileCoordinates(s,h,x,k){const L=x.canonical,U=Jl(s,h,L.x,L.y,L.z),W=1+(k?k(s,h):0)/i.bF,ee=[U[0]*W,U[1]*W,U[2]*W,1];i.aI(ee,ee,this._globeViewProjMatrixNoCorrection);const ce=this._cachedClippingPlane,fe=ce[0]*U[0]+ce[1]*U[1]+ce[2]*U[2]+ce[3]<0;return{point:new i.P(ee[0]/ee[3],ee[1]/ee[3]),signedDistanceFromCamera:ee[3],isOccluded:fe}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const s=gs(this.worldSize,this.center.lat),h=i.bl(),x=i.bl();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*s),i.bf(h,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const k=this.centerOffset;h[8]=2*-k.x/this._helper._width,h[9]=2*k.y/this._helper._height,this._projectionMatrix=i.bg(h),this._globeProjMatrixInverted=i.bl(),i.aC(this._globeProjMatrixInverted,h),i.O(h,h,[0,0,-this.cameraToCenterDistance]),i.bh(h,h,this.rollInRadians),i.bi(h,h,-this.pitchInRadians),i.bh(h,h,this.bearingInRadians),i.O(h,h,[0,0,-s]);const L=i.bA();L[0]=s,L[1]=s,L[2]=s,i.bi(x,h,this.center.lat*Math.PI/180),i.bK(x,x,-this.center.lng*Math.PI/180),i.Q(x,x,L),this._globeViewProjMatrixNoCorrection=x,i.bi(h,h,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),i.bK(h,h,-this.center.lng*Math.PI/180),i.Q(h,h,L),this._globeViewProjMatrix32f=new Float32Array(h),this._globeViewProjMatrixNoCorrectionInverted=i.bl(),i.aC(this._globeViewProjMatrixNoCorrectionInverted,x);const U=i.bA();this._cameraPosition=i.bA(),this._cameraPosition[2]=this.cameraToCenterDistance/s,i.bH(this._cameraPosition,this._cameraPosition,U,-this.rollInRadians),i.bI(this._cameraPosition,this._cameraPosition,U,this.pitchInRadians),i.bH(this._cameraPosition,this._cameraPosition,U,-this.bearingInRadians),i.b1(this._cameraPosition,this._cameraPosition,[0,0,1]),i.bI(this._cameraPosition,this._cameraPosition,U,-this.center.lat*Math.PI/180),i.bJ(this._cameraPosition,this._cameraPosition,U,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(s);const W=i.bg(this._globeViewProjMatrixNoCorrectionInverted);i.Q(W,W,[1,1,-1]),this._cachedFrustum=rs.fromInvProjectionMatrix(W,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(s){i.w("calculateFogMatrix is not supported on globe projection.");const h=i.bl();return i.as(h),h}getVisibleUnwrappedCoordinates(s){return[new i.bd(0,s)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(s){s&&i.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,h){if(!this._globeViewProjMatrixNoCorrection)return 1;const x=qa(s);i.b0(x,x,1+h/i.bF);const k=i.bG();return i.aI(k,[x[0],x[1],x[2],1],this._globeViewProjMatrixNoCorrection),k[2]/k[3]}populateCache(s){}getBounds(){const s=.5*this.width,h=.5*this.height,x=[new i.P(0,0),new i.P(s,0),new i.P(this.width,0),new i.P(this.width,h),new i.P(this.width,this.height),new i.P(s,this.height),new i.P(0,this.height),new i.P(0,h)],k=[];for(const Ce of x)k.push(this.unprojectScreenPoint(Ce));let L=0,U=0,W=0,ee=0;const ce=this.center;for(const Ce of k){const Ee=i.bL(ce.lng,Ce.lng),Le=i.bL(ce.lat,Ce.lat);Ee<U&&(U=Ee),Ee>L&&(L=Ee),Le<ee&&(ee=Le),Le>W&&(W=Le)}const fe=[ce.lng+U,ce.lat+ee,ce.lng+L,ce.lat+W];return this.isSurfacePointOnScreen([0,1,0])&&(fe[3]=90,fe[0]=-180,fe[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(fe[1]=-90,fe[0]=-180,fe[2]=180),new Tn(fe)}calculateCenterFromCameraLngLatAlt(s,h,x,k){return this._helper.calculateCenterFromCameraLngLatAlt(s,h,x,k)}setLocationAtPoint(s,h){const x=qa(this.unprojectScreenPoint(h)),k=qa(s),L=i.bA();i.bM(L);const U=i.bA();i.bJ(U,x,L,-this.center.lng*Math.PI/180),i.bI(U,U,L,this.center.lat*Math.PI/180);const W=k[0]*k[0]+k[2]*k[2],ee=U[0]*U[0];if(W<ee)return;const ce=Math.sqrt(W-ee),fe=-ce,Ce=i.bN(k[0],k[2],U[0],ce),Ee=i.bN(k[0],k[2],U[0],fe),Le=i.bA();i.bJ(Le,k,L,-Ce);const ze=i.bN(Le[1],Le[2],U[1],U[2]),it=i.bA();i.bJ(it,k,L,-Ee);const ct=i.bN(it[1],it[2],U[1],U[2]),lt=.5*Math.PI,pt=ze>=-lt&&ze<=lt,Tt=ct>=-lt&&ct<=lt;let gt,At;if(pt&&Tt){const Qt=this.center.lng*Math.PI/180,Jt=this.center.lat*Math.PI/180;i.bO(Ce,Qt)+i.bO(ze,Jt)<i.bO(Ee,Qt)+i.bO(ct,Jt)?(gt=Ce,At=ze):(gt=Ee,At=ct)}else if(pt)gt=Ce,At=ze;else{if(!Tt)return;gt=Ee,At=ct}const Rt=gt/Math.PI*180,bt=At/Math.PI*180,jt=this.center.lat;this.setCenter(new i.V(Rt,i.ao(bt,-90,90))),this.setZoom(this.zoom+Xa(jt,this.center.lat))}locationToScreenPoint(s,h){const x=qa(s);if(h){const k=h.getElevationForLngLatZoom(s,this._helper._tileZoom);i.b0(x,x,1+k/i.bF)}return this._projectSurfacePointToScreen(x)}_projectSurfacePointToScreen(s){const h=i.bG();return i.aI(h,[...s,1],this._globeViewProjMatrixNoCorrection),h[0]/=h[3],h[1]/=h[3],new i.P((.5*h[0]+.5)*this.width,(.5*-h[1]+.5)*this.height)}screenPointToMercatorCoordinate(s,h){if(h){const x=h.pointCoordinate(s);if(x)return x}return i.ab.fromLngLat(this.unprojectScreenPoint(s))}screenPointToLocation(s,h){var x;return(x=this.screenPointToMercatorCoordinate(s,h))===null||x===void 0?void 0:x.toLngLat()}isPointOnMapSurface(s,h){const x=this._cameraPosition,k=this.getRayDirectionFromPixel(s);return!!this.rayPlanetIntersection(x,k)}getRayDirectionFromPixel(s){const h=i.bG();h[0]=s.x/this.width*2-1,h[1]=-1*(s.y/this.height*2-1),h[2]=1,h[3]=1,i.aI(h,h,this._globeViewProjMatrixNoCorrectionInverted),h[0]/=h[3],h[1]/=h[3],h[2]/=h[3];const x=i.bA();x[0]=h[0]-this._cameraPosition[0],x[1]=h[1]-this._cameraPosition[1],x[2]=h[2]-this._cameraPosition[2];const k=i.bA();return i.b4(k,x),k}isSurfacePointVisible(s){const h=this._cachedClippingPlane;return h[0]*s[0]+h[1]*s[1]+h[2]*s[2]+h[3]>=0}isSurfacePointOnScreen(s){if(!this.isSurfacePointVisible(s))return!1;const h=i.bG();return i.aI(h,[...s,1],this._globeViewProjMatrixNoCorrection),h[0]/=h[3],h[1]/=h[3],h[2]/=h[3],h[0]>-1&&h[0]<1&&h[1]>-1&&h[1]<1&&h[2]>-1&&h[2]<1}rayPlanetIntersection(s,h){const x=i.b6(s,h),k=i.bA(),L=i.bA();i.b0(L,h,x),i.b3(k,s,L);const U=1-i.b6(k,k);if(U<0)return null;const W=i.b6(s,s)-1,ee=-x+(x<0?1:-1)*Math.sqrt(U),ce=W/ee,fe=ee;return{tMin:Math.min(ce,fe),tMax:Math.max(ce,fe)}}unprojectScreenPoint(s){const h=this._cameraPosition,x=this.getRayDirectionFromPixel(s),k=this.rayPlanetIntersection(h,x);if(k){const fe=i.bA();i.b1(fe,h,[x[0]*k.tMin,x[1]*k.tMin,x[2]*k.tMin]);const Ce=i.bA();return i.b4(Ce,fe),Eo(Ce)}const L=this._cachedClippingPlane,U=L[0]*x[0]+L[1]*x[1]+L[2]*x[2],W=-i.bc(L,h)/U,ee=i.bA();if(W>0)i.b1(ee,h,[x[0]*W,x[1]*W,x[2]*W]);else{const fe=i.bA();i.b1(fe,h,[2*x[0],2*x[1],2*x[2]]);const Ce=i.bc(this._cachedClippingPlane,fe);i.b3(ee,fe,[this._cachedClippingPlane[0]*Ce,this._cachedClippingPlane[1]*Ce,this._cachedClippingPlane[2]*Ce])}const ce=(function(fe){const Ce=i.bA();return Ce[0]=fe[0]*-fe[3],Ce[1]=fe[1]*-fe[3],Ce[2]=fe[2]*-fe[3],{center:Ce,radius:Math.sqrt(1-fe[3]*fe[3])}})(L);return Eo((function(fe,Ce,Ee){const Le=i.bA();i.b3(Le,Ee,fe);const ze=i.bA();return i.bB(ze,fe,Le,Ce/i.ba(Le)),ze})(ce.center,ce.radius,ee))}getMatrixForModel(s,h){const x=i.V.convert(s),k=1/i.bF,L=i.bk();return i.bK(L,L,x.lng/180*Math.PI),i.bi(L,L,-x.lat/180*Math.PI),i.O(L,L,[0,0,1+h/i.bF]),i.bi(L,L,.5*Math.PI),i.Q(L,L,[k,k,k]),L}getProjectionDataForCustomLayer(s=!0){const h=this.getProjectionData({overscaledTileID:new i.a2(0,0,0,0,0),applyGlobeMatrix:s});return h.tileMercatorCoords=[0,0,1,1],h}getFastPathSimpleProjectionMatrix(s){}}class Uc{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(s){this._helper.setMinZoom(s)}setMaxZoom(s){this._helper.setMaxZoom(s)}setMinPitch(s){this._helper.setMinPitch(s)}setMaxPitch(s){this._helper.setMaxPitch(s)}setRenderWorldCopies(s){this._helper.setRenderWorldCopies(s)}setBearing(s){this._helper.setBearing(s)}setPitch(s){this._helper.setPitch(s)}setRoll(s){this._helper.setRoll(s)}setFov(s){this._helper.setFov(s)}setZoom(s){this._helper.setZoom(s)}setCenter(s){this._helper.setCenter(s)}setElevation(s){this._helper.setElevation(s)}setMinElevationForCurrentTile(s){this._helper.setMinElevationForCurrentTile(s)}setPadding(s){this._helper.setPadding(s)}interpolatePadding(s,h,x){return this._helper.interpolatePadding(s,h,x)}isPaddingEqual(s){return this._helper.isPaddingEqual(s)}resize(s,h,x=!0){this._helper.resize(s,h,x)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(s){this._helper.setMaxBounds(s)}setConstrainOverride(s){this._helper.setConstrainOverride(s)}overrideNearFarZ(s,h){this._helper.overrideNearFarZ(s,h)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(s){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),s)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(s,h){this._globeness=s,this._globeLatitudeErrorCorrectionRadians=h,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(s){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(h,x)=>this.currentTransform.defaultConstrain(h,x),this.applyConstrain=(h,x)=>this._helper.applyConstrain(h,x),this._helper=new Pa({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(h,x)=>this.defaultConstrain(h,x)},s),this._globeness=1,this._mercatorTransform=new eo,this._verticalPerspectiveTransform=new uf}clone(){const s=new Uc;return s._globeness=this._globeness,s._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,s.apply(this),s}apply(s){this._helper.apply(s),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(s){const h=this._mercatorTransform.getProjectionData(s),x=this._verticalPerspectiveTransform.getProjectionData(s);return{mainMatrix:this.isGlobeRendering?x.mainMatrix:h.mainMatrix,clippingPlane:x.clippingPlane,tileMercatorCoords:x.tileMercatorCoords,projectionTransition:s.applyGlobeMatrix?this._globeness:0,fallbackMatrix:h.fallbackMatrix}}isLocationOccluded(s){return this.currentTransform.isLocationOccluded(s)}transformLightDirection(s){return this.currentTransform.transformLightDirection(s)}getPixelScale(){return i.bv(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return i.bv(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(s,h,x){const k=this._mercatorTransform.getPitchedTextCorrection(s,h,x),L=this._verticalPerspectiveTransform.getPitchedTextCorrection(s,h,x);return i.bv(k,L,this._globeness)}projectTileCoordinates(s,h,x,k){return this.currentTransform.projectTileCoordinates(s,h,x,k)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(s){return this.currentTransform.calculateFogMatrix(s)}getVisibleUnwrappedCoordinates(s){return this.currentTransform.getVisibleUnwrappedCoordinates(s)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(s){this._mercatorTransform.recalculateZoomAndCenter(s),this._verticalPerspectiveTransform.recalculateZoomAndCenter(s)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(s,h){return this.currentTransform.lngLatToCameraDepth(s,h)}populateCache(s){this._mercatorTransform.populateCache(s),this._verticalPerspectiveTransform.populateCache(s)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(s,h,x,k){return this._helper.calculateCenterFromCameraLngLatAlt(s,h,x,k)}setLocationAtPoint(s,h){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(s,h),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(s,h),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(s,h){return this.currentTransform.locationToScreenPoint(s,h)}screenPointToMercatorCoordinate(s,h){return this.currentTransform.screenPointToMercatorCoordinate(s,h)}screenPointToLocation(s,h){return this.currentTransform.screenPointToLocation(s,h)}isPointOnMapSurface(s,h){return this.currentTransform.isPointOnMapSurface(s,h)}getRayDirectionFromPixel(s){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(s)}getMatrixForModel(s,h){return this.currentTransform.getMatrixForModel(s,h)}getProjectionDataForCustomLayer(s=!0){const h=this._mercatorTransform.getProjectionDataForCustomLayer(s);if(!this.isGlobeRendering)return h;const x=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(s);return x.fallbackMatrix=h.mainMatrix,x}getFastPathSimpleProjectionMatrix(s){return this.currentTransform.getFastPathSimpleProjectionMatrix(s)}}class Di{get useGlobeControls(){return!0}handlePanInertia(s,h){const x=Xh(s,h);return Math.abs(x.lng-h.center.lng)>180&&(x.lng=h.center.lng+179.5*Math.sign(x.lng-h.center.lng)),{easingCenter:x,easingOffset:new i.P(0,0)}}handleMapControlsRollPitchBearingZoom(s,h){const x=s.around,k=h.screenPointToLocation(x);s.bearingDelta&&h.setBearing(h.bearing+s.bearingDelta),s.pitchDelta&&h.setPitch(h.pitch+s.pitchDelta),s.rollDelta&&h.setRoll(h.roll+s.rollDelta);const L=h.zoom;s.zoomDelta&&h.setZoom(h.zoom+s.zoomDelta);const U=h.zoom-L;if(U===0)return;const W=i.bL(h.center.lng,k.lng),ee=W/(Math.abs(W/180)+1),ce=i.bL(h.center.lat,k.lat),fe=h.getRayDirectionFromPixel(x),Ce=h.cameraPosition,Ee=-1*i.b6(Ce,fe),Le=i.bA();i.b1(Le,Ce,[fe[0]*Ee,fe[1]*Ee,fe[2]*Ee]);const ze=i.b8(Le)-1,it=Math.exp(.5*-Math.max(ze-.3,0)),ct=gs(h.worldSize,h.center.lat)/Math.min(h.width,h.height),lt=i.by(ct,.9,.5,1,.25),pt=(1-i.ar(-U))*Math.min(it,lt),Tt=h.center.lat,gt=h.zoom,At=new i.V(h.center.lng+ee*pt,i.ao(h.center.lat+ce*pt,-i.ap,i.ap));h.setLocationAtPoint(k,x);const Rt=h.center,bt=i.by(Math.abs(W),45,85,0,1),jt=i.by(ct,.75,.35,0,1),Qt=Math.pow(Math.max(bt,jt),.25),Jt=i.bL(Rt.lng,At.lng),nn=i.bL(Rt.lat,At.lat);h.setCenter(new i.V(Rt.lng+Jt*Qt,Rt.lat+nn*Qt).wrap()),h.setZoom(gt+Xa(Tt,h.center.lat))}handleMapControlsPan(s,h,x){if(!s.panDelta)return;const k=h.center.lat,L=h.zoom;h.setCenter(Xh(s.panDelta,h).wrap()),h.setZoom(L+Xa(k,h.center.lat))}cameraForBoxAndBearing(s,h,x,k,L){const U=rc(s,h,x,k,L),W=h.left/L.width*2-1,ee=(L.width-h.right)/L.width*2-1,ce=h.top/L.height*-2+1,fe=(L.height-h.bottom)/L.height*-2+1,Ce=i.bL(x.getWest(),x.getEast())<0,Ee=Ce?x.getEast():x.getWest(),Le=Ce?x.getWest():x.getEast(),ze=Math.max(x.getNorth(),x.getSouth()),it=Math.min(x.getNorth(),x.getSouth()),ct=Ee+.5*i.bL(Ee,Le),lt=ze+.5*i.bL(ze,it),pt=L.clone();pt.setCenter(U.center),pt.setBearing(U.bearing),pt.setPitch(0),pt.setRoll(0),pt.setZoom(U.zoom);const Tt=pt.modelViewProjectionMatrix,gt=[qa(x.getNorthWest()),qa(x.getNorthEast()),qa(x.getSouthWest()),qa(x.getSouthEast()),qa(new i.V(Le,lt)),qa(new i.V(Ee,lt)),qa(new i.V(ct,ze)),qa(new i.V(ct,it))],At=qa(U.center);let Rt=Number.POSITIVE_INFINITY;for(const bt of gt)W<0&&(Rt=Di.getLesserNonNegativeNonNull(Rt,Di.solveVectorScale(bt,At,Tt,"x",W))),ee>0&&(Rt=Di.getLesserNonNegativeNonNull(Rt,Di.solveVectorScale(bt,At,Tt,"x",ee))),ce>0&&(Rt=Di.getLesserNonNegativeNonNull(Rt,Di.solveVectorScale(bt,At,Tt,"y",ce))),fe<0&&(Rt=Di.getLesserNonNegativeNonNull(Rt,Di.solveVectorScale(bt,At,Tt,"y",fe)));if(Number.isFinite(Rt)&&Rt!==0)return U.zoom=pt.zoom+i.au(Rt),U;ms()}handleJumpToCenterZoom(s,h){const x=s.center.lat,k=s.applyConstrain(h.center?i.V.convert(h.center):s.center,s.zoom).center;s.setCenter(k.wrap());const L=h.zoom!==void 0?+h.zoom:s.zoom+Xa(x,k.lat);s.zoom!==L&&s.setZoom(L)}handleEaseTo(s,h){const x=s.zoom,k=s.center,L=s.padding,U={roll:s.roll,pitch:s.pitch,bearing:s.bearing},W={roll:h.roll===void 0?s.roll:h.roll,pitch:h.pitch===void 0?s.pitch:h.pitch,bearing:h.bearing===void 0?s.bearing:h.bearing},ee=h.zoom!==void 0,ce=!s.isPaddingEqual(h.padding);let fe=!1;const Ce=h.center?i.V.convert(h.center):k,Ee=s.applyConstrain(Ce,x).center;Ql(s,Ee);const Le=s.clone();Le.setCenter(Ee),Le.setZoom(ee?+h.zoom:x+Xa(k.lat,Ce.lat)),Le.setBearing(h.bearing);const ze=new i.P(i.ao(s.centerPoint.x+h.offsetAsPoint.x,0,s.width),i.ao(s.centerPoint.y+h.offsetAsPoint.y,0,s.height));Le.setLocationAtPoint(Ee,ze);const it=(h.offset&&h.offsetAsPoint.mag())>0?Le.center:Ee,ct=ee?+h.zoom:x+Xa(k.lat,it.lat),lt=x+Xa(k.lat,0),pt=ct+Xa(it.lat,0),Tt=i.bL(k.lng,it.lng),gt=i.bL(k.lat,it.lat),At=i.ar(pt-lt);return fe=ct!==x,{easeFunc:Rt=>{if(i.bp(U,W)||Qf({startEulerAngles:U,endEulerAngles:W,tr:s,k:Rt,useSlerp:U.roll!=W.roll}),ce&&s.interpolatePadding(L,h.padding,Rt),h.around)i.w("Easing around a point is not supported under globe projection."),s.setLocationAtPoint(h.around,h.aroundPoint);else{const bt=pt>lt?Math.min(2,At):Math.max(.5,At),jt=Math.pow(bt,1-Rt),Qt=Jf(k,Tt,gt,Rt*jt);s.setCenter(Qt.wrap())}if(fe){const bt=i.G.number(lt,pt,Rt)+Xa(0,s.center.lat);s.setZoom(bt)}},isZooming:fe,elevationCenter:it}}handleFlyTo(s,h){const x=h.zoom!==void 0,k=s.center,L=s.zoom,U=s.padding,W=!s.isPaddingEqual(h.padding),ee=s.applyConstrain(i.V.convert(h.center||h.locationAtOffset),L).center,ce=x?+h.zoom:s.zoom+Xa(s.center.lat,ee.lat),fe=s.clone();fe.setCenter(ee),fe.setZoom(ce),fe.setBearing(h.bearing);const Ce=new i.P(i.ao(s.centerPoint.x+h.offsetAsPoint.x,0,s.width),i.ao(s.centerPoint.y+h.offsetAsPoint.y,0,s.height));fe.setLocationAtPoint(ee,Ce);const Ee=fe.center;Ql(s,Ee);const Le=(function(gt,At,Rt){const bt=qa(At),jt=qa(Rt),Qt=i.b6(bt,jt),Jt=Math.acos(Qt),nn=Os(gt);return Jt/(2*Math.PI)*nn})(s,k,Ee),ze=L+Xa(k.lat,0),it=ce+Xa(Ee.lat,0),ct=i.ar(it-ze);let lt;if(typeof h.minZoom=="number"){const gt=+h.minZoom+Xa(Ee.lat,0),At=Math.min(gt,ze,it)+Xa(0,Ee.lat),Rt=s.applyConstrain(Ee,At).zoom+Xa(Ee.lat,0);lt=i.ar(Rt-ze)}const pt=i.bL(k.lng,Ee.lng),Tt=i.bL(k.lat,Ee.lat);return{easeFunc:(gt,At,Rt,bt)=>{const jt=Jf(k,pt,Tt,Rt);W&&s.interpolatePadding(U,h.padding,gt);const Qt=gt===1?Ee:jt;s.setCenter(Qt.wrap());const Jt=ze+i.au(At);s.setZoom(gt===1?ce:Jt+Xa(0,Qt.lat))},scaleOfZoom:ct,targetCenter:Ee,scaleOfMinZoom:lt,pixelPathLength:Le}}static solveVectorScale(s,h,x,k,L){const U=k==="x"?[x[0],x[4],x[8],x[12]]:[x[1],x[5],x[9],x[13]],W=[x[3],x[7],x[11],x[15]],ee=s[0]*U[0]+s[1]*U[1]+s[2]*U[2],ce=s[0]*W[0]+s[1]*W[1]+s[2]*W[2],fe=h[0]*U[0]+h[1]*U[1]+h[2]*U[2],Ce=h[0]*W[0]+h[1]*W[1]+h[2]*W[2];return fe+L*ce===ee+L*Ce||W[3]*(ee-fe)+U[3]*(Ce-ce)+ee*Ce==fe*ce?null:(fe+U[3]-L*Ce-L*W[3])/(fe-ee-L*Ce+L*ce)}static getLesserNonNegativeNonNull(s,h){return h!==null&&h>=0&&h<s?h:s}}class oc{constructor(s){this._globe=s,this._mercatorCameraHelper=new Rs,this._verticalPerspectiveCameraHelper=new Di}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(s,h){return this.currentHelper.handlePanInertia(s,h)}handleMapControlsRollPitchBearingZoom(s,h){return this.currentHelper.handleMapControlsRollPitchBearingZoom(s,h)}handleMapControlsPan(s,h,x){this.currentHelper.handleMapControlsPan(s,h,x)}cameraForBoxAndBearing(s,h,x,k,L){return this.currentHelper.cameraForBoxAndBearing(s,h,x,k,L)}handleJumpToCenterZoom(s,h){this.currentHelper.handleJumpToCenterZoom(s,h)}handleEaseTo(s,h){return this.currentHelper.handleEaseTo(s,h)}handleFlyTo(s,h){return this.currentHelper.handleFlyTo(s,h)}}const Eu=(O,s)=>i.B(O,s&&s.filter((h=>h.identifier!=="source.canvas"))),Cd=i.bP();class Gc extends i.E{constructor(s,h={}){var x,k;super(),this._rtlPluginLoaded=()=>{for(const U in this.tileManagers){const W=this.tileManagers[U].getSource().type;W!=="vector"&&W!=="geojson"||this.tileManagers[U].reload()}},this.map=s,this.dispatcher=new zt(en(),s._getMapId()),this.dispatcher.registerMessageHandler("GG",((U,W)=>this.getGlyphs(U,W))),this.dispatcher.registerMessageHandler("GI",((U,W)=>this.getImages(U,W))),this.dispatcher.registerMessageHandler("GDA",((U,W)=>this.getDashes(U,W))),this.imageManager=new Te,this.imageManager.setEventedParent(this);const L=((x=s._container)===null||x===void 0?void 0:x.lang)||typeof document<"u"&&((k=document.documentElement)===null||k===void 0?void 0:k.lang)||void 0;this.glyphManager=new we(s._requestManager,h.localIdeographFontFamily,L),this.lineAtlas=new Ze(256,512),this.crossTileSymbolIndex=new ji,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",i.bQ()),Bt().on(ut,this._rtlPluginLoaded),this.on("data",(U=>{if(U.dataType!=="source"||U.sourceDataType!=="metadata")return;const W=this.tileManagers[U.sourceId];if(!W)return;const ee=W.getSource();if(ee&&ee.vectorLayerIds)for(const ce in this._layers){const fe=this._layers[ce];fe.source===ee.id&&this._validateLayer(fe)}}))}_setInitialValues(){var s;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new i.bR,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new(((s=this.crossTileSymbolIndex)===null||s===void 0?void 0:s.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(s,h){var x,k,L;this._checkLoaded();const U=h===null?(L=(k=(x=this.stylesheet.state)===null||x===void 0?void 0:x[s])===null||k===void 0?void 0:k.default)!==null&&L!==void 0?L:null:h;if(i.bS(U,this._globalState[s]))return this;this._globalState[s]=U,this._applyGlobalStateChanges([s])}getGlobalState(){return this._globalState}setGlobalState(s){this._checkLoaded();const h=[];for(const x in s)!i.bS(this._globalState[x],s[x].default)&&(h.push(x),this._globalState[x]=s[x].default);this._applyGlobalStateChanges(h)}_applyGlobalStateChanges(s){if(s.length===0)return;const h=new Set,x={};for(const k of s){x[k]=this._globalState[k];for(const L in this._layers){const U=this._layers[L],W=U.getLayoutAffectingGlobalStateRefs(),ee=U.getPaintAffectingGlobalStateRefs();if(W.has(k)&&h.add(U.source),ee.has(k))for(const{name:ce,value:fe}of ee.get(k))this._updatePaintProperty(U,ce,fe)}}this.dispatcher.broadcast("UGS",x);for(const k in this.tileManagers)h.has(k)&&(this._reloadSource(k),this._changed=!0)}loadURL(s,h={},x){this.fire(new i.l("dataloading",{dataType:"style"})),h.validate=typeof h.validate!="boolean"||h.validate;const k=this.map._requestManager.transformRequest(s,"Style");this._loadStyleRequest=new AbortController;const L=this._loadStyleRequest;i.j(k,this._loadStyleRequest).then((U=>{this._loadStyleRequest=null,this._load(U.data,h,x)})).catch((U=>{this._loadStyleRequest=null,U&&!L.signal.aborted&&this.fire(new i.k(U))}))}loadJSON(s,h={},x){this.fire(new i.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,P.frameAsync(this._frameRequest).then((()=>{this._frameRequest=null,h.validate=h.validate!==!1,this._load(s,h,x)})).catch((()=>{}))}loadEmpty(){this.fire(new i.l("dataloading",{dataType:"style"})),this._load(Cd,{validate:!1})}_load(s,h,x){var k,L;let U=h.transformStyle?h.transformStyle(x,s):s;if(!h.validate||!Eu(this,i.C(U))){U=Object.assign({},U),this._loaded=!0,this.stylesheet=U;for(const W in U.sources)this.addSource(W,U.sources[W],{validate:!1});U.sprite?this._loadSprite(U.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(U.glyphs),this._createLayers(),this.light=new He(this.stylesheet.light),this._setProjectionInternal(((k=this.stylesheet.projection)===null||k===void 0?void 0:k.type)||"mercator"),this.sky=new je(this.stylesheet.sky),this.map.setTerrain((L=this.stylesheet.terrain)!==null&&L!==void 0?L:null),this.fire(new i.l("data",{dataType:"style"})),this.fire(new i.l("style.load"))}}_createLayers(){var s,h,x;const k=i.bT(this.stylesheet.layers);this.setGlobalState((s=this.stylesheet.state)!==null&&s!==void 0?s:null),this.dispatcher.broadcast("SL",k),this._order=k.map((L=>L.id)),this._layers={},this._serializedLayers=null;for(const L of k){const U=i.bU(L,this._globalState);if(U.setEventedParent(this,{layer:{id:L.id}}),this._layers[L.id]=U,i.bV(U)&&this.tileManagers[U.source]){const W=(x=(h=L.paint)===null||h===void 0?void 0:h["raster-fade-duration"])!==null&&x!==void 0?x:U.paint.get("raster-fade-duration");this.tileManagers[U.source].setRasterFadeDuration(W)}}}_loadSprite(s,h=!1,x=void 0){this.imageManager.setLoaded(!1);const k=new AbortController;let L;this._spriteRequest=k,(function(U,W,ee,ce){return i._(this,void 0,void 0,(function*(){const fe=se(U),Ce=ee>1?"@2x":"",Ee={},Le={};for(const{id:ze,url:it}of fe){const ct=W.transformRequest(pe(it,Ce,".json"),"SpriteJSON");Ee[ze]=i.j(ct,ce);const lt=W.transformRequest(pe(it,Ce,".png"),"SpriteImage");Le[ze]=oe.getImage(lt,ce)}return yield Promise.all([...Object.values(Ee),...Object.values(Le)]),(function(ze,it){return i._(this,void 0,void 0,(function*(){const ct={};for(const lt in ze){ct[lt]={};const pt=P.getImageCanvasContext((yield it[lt]).data),Tt=(yield ze[lt]).data;for(const gt in Tt){const{width:At,height:Rt,x:bt,y:jt,sdf:Qt,pixelRatio:Jt,stretchX:nn,stretchY:an,content:On,textFitWidth:Zn,textFitHeight:Nn}=Tt[gt];ct[lt][gt]={data:null,pixelRatio:Jt,sdf:Qt,stretchX:nn,stretchY:an,content:On,textFitWidth:Zn,textFitHeight:Nn,spriteData:{width:At,height:Rt,x:bt,y:jt,context:pt}}}}return ct}))})(Ee,Le)}))})(s,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then((U=>{if(this._spriteRequest=null,U)for(const W in U){this._spritesImagesIds[W]=[];const ee=this._spritesImagesIds[W]?this._spritesImagesIds[W].filter((ce=>!(ce in U))):[];for(const ce of ee)this.imageManager.removeImage(ce),this._changedImages[ce]=!0;for(const ce in U[W]){const fe=W==="default"?ce:`${W}:${ce}`;this._spritesImagesIds[W].push(fe),fe in this.imageManager.images?this.imageManager.updateImage(fe,U[W][ce],!1):this.imageManager.addImage(fe,U[W][ce]),h&&(this._changedImages[fe]=!0)}}})).catch((U=>{this._spriteRequest=null,L=U,k.signal.aborted||this.fire(new i.k(L))})).finally((()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),h&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"})),x&&x(L)}))}_unloadSprite(){for(const s of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(s),this._changedImages[s]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}_validateLayer(s){const h=this.tileManagers[s.source];if(!h)return;const x=s.sourceLayer;if(!x)return;const k=h.getSource();(k.type==="geojson"||k.vectorLayerIds&&k.vectorLayerIds.indexOf(x)===-1)&&this.fire(new i.k(new Error(`Source layer "${x}" does not exist on source "${k.id}" as specified by style layer "${s.id}".`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const s in this.tileManagers)if(!this.tileManagers[s].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(s,h=!1){const x=this._serializedAllLayers();if(!s||s.length===0)return Object.values(h?i.bW(x):x);const k=[];for(const L of s)if(x[L]){const U=h?i.bW(x[L]):x[L];k.push(U)}return k}_serializedAllLayers(){let s=this._serializedLayers;if(s)return s;s=this._serializedLayers={};const h=Object.keys(this._layers);for(const x of h){const k=this._layers[x];k.type!=="custom"&&(s[x]=k.serialize())}return s}hasTransitions(){var s,h,x;if(!((s=this.light)===null||s===void 0)&&s.hasTransition()||!((h=this.sky)===null||h===void 0)&&h.hasTransition()||!((x=this.projection)===null||x===void 0)&&x.hasTransition())return!0;for(const k in this.tileManagers)if(this.tileManagers[k].hasTransition())return!0;for(const k in this._layers)if(this._layers[k].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(s){if(!this._loaded)return;const h=this._changed;if(h){const k=Object.keys(this._updatedLayers),L=Object.keys(this._removedLayers);(k.length||L.length)&&this._updateWorkerLayers(k,L);for(const U in this._updatedSources){const W=this._updatedSources[U];if(W==="reload")this._reloadSource(U);else{if(W!=="clear")throw new Error(`Invalid action ${W}`);this._clearSource(U)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const U in this._updatedPaintProps)this._layers[U].updateTransitions(s);this.light.updateTransitions(s),this.sky.updateTransitions(s),this._resetUpdates()}const x={};for(const k in this.tileManagers){const L=this.tileManagers[k];x[k]=L.used,L.used=!1}for(const k of this._order){const L=this._layers[k];L.recalculate(s,this._availableImages),!L.isHidden(s.zoom)&&L.source&&(this.tileManagers[L.source].used=!0)}for(const k in x){const L=this.tileManagers[k];!!x[k]!=!!L.used&&L.fire(new i.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:k}))}this.light.recalculate(s),this.sky.recalculate(s),this.projection.recalculate(s),this.z=s.zoom,h&&this.fire(new i.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const s=Object.keys(this._changedImages);if(s.length){for(const h in this.tileManagers)this.tileManagers[h].reloadTilesForDependencies(["icons","patterns"],s);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const s in this.tileManagers)this.tileManagers[s].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(s,h){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(s,!1),removedIds:h})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(s,h={}){var x;this._checkLoaded();const k=this.serialize();if(s=h.transformStyle?h.transformStyle(k,s):s,((x=h.validate)===null||x===void 0||x)&&Eu(this,i.C(s)))return!1;(s=i.bW(s)).layers=i.bT(s.layers);const L=i.bX(k,s),U=this._getOperationsToPerform(L);if(U.unimplemented.length>0)throw new Error(`Unimplemented: ${U.unimplemented.join(", ")}.`);if(U.operations.length===0)return!1;for(const W of U.operations)W();return this.stylesheet=s,this._serializedLayers=null,!0}_getOperationsToPerform(s){const h=[],x=[];for(const k of s)switch(k.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":h.push((()=>this.addLayer.apply(this,k.args)));break;case"removeLayer":h.push((()=>this.removeLayer.apply(this,k.args)));break;case"setPaintProperty":h.push((()=>this.setPaintProperty.apply(this,k.args)));break;case"setLayoutProperty":h.push((()=>this.setLayoutProperty.apply(this,k.args)));break;case"setFilter":h.push((()=>this.setFilter.apply(this,k.args)));break;case"addSource":h.push((()=>this.addSource.apply(this,k.args)));break;case"removeSource":h.push((()=>this.removeSource.apply(this,k.args)));break;case"setLayerZoomRange":h.push((()=>this.setLayerZoomRange.apply(this,k.args)));break;case"setLight":h.push((()=>this.setLight.apply(this,k.args)));break;case"setGeoJSONSourceData":h.push((()=>this.setGeoJSONSourceData.apply(this,k.args)));break;case"setGlyphs":h.push((()=>this.setGlyphs.apply(this,k.args)));break;case"setSprite":h.push((()=>this.setSprite.apply(this,k.args)));break;case"setTerrain":h.push((()=>this.map.setTerrain.apply(this,k.args)));break;case"setSky":h.push((()=>this.setSky.apply(this,k.args)));break;case"setProjection":this.setProjection.apply(this,k.args);break;case"setGlobalState":h.push((()=>this.setGlobalState.apply(this,k.args)));break;case"setTransition":h.push((()=>{}));break;default:x.push(k.command)}return{operations:h,unimplemented:x}}addImage(s,h){if(this.getImage(s))return this.fire(new i.k(new Error(`An image named "${s}" already exists.`)));this.imageManager.addImage(s,h),this._afterImageUpdated(s)}updateImage(s,h){this.imageManager.updateImage(s,h)}getImage(s){return this.imageManager.getImage(s)}removeImage(s){if(!this.getImage(s))return this.fire(new i.k(new Error(`An image named "${s}" does not exist.`)));this.imageManager.removeImage(s),this._afterImageUpdated(s)}_afterImageUpdated(s){this._availableImages=this.imageManager.listImages(),this._changedImages[s]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(s,h,x={}){if(this._checkLoaded(),this.tileManagers[s]!==void 0)throw new Error(`Source "${s}" already exists.`);if(!h.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(h).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(i.C.source,`sources.${s}`,h,null,x))return;this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);const k=this.tileManagers[s]=new Jn(s,h,this.dispatcher);k.style=this,k.setEventedParent(this,(()=>({isSourceLoaded:k.loaded(),source:k.serialize(),sourceId:s}))),k.onAdd(this.map),this._changed=!0}removeSource(s){if(this._checkLoaded(),this.tileManagers[s]===void 0)throw new Error("There is no source with this ID");for(const x in this._layers)if(this._layers[x].source===s)return this.fire(new i.k(new Error(`Source "${s}" cannot be removed while layer "${x}" is using it.`)));const h=this.tileManagers[s];delete this.tileManagers[s],delete this._updatedSources[s],h.fire(new i.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:s})),h.setEventedParent(null),h.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(s,h){if(this._checkLoaded(),this.tileManagers[s]===void 0)throw new Error(`There is no source with this ID=${s}`);const x=this.tileManagers[s].getSource();if(x.type!=="geojson")throw new Error(`geojsonSource.type is ${x.type}, which is !== 'geojson`);x.setData(h),this._changed=!0}getSource(s){return this.tileManagers[s]&&this.tileManagers[s].getSource()}addLayer(s,h,x={}){this._checkLoaded();const k=s.id;if(this.getLayer(k))return void this.fire(new i.k(new Error(`Layer "${k}" already exists on this map.`)));let L;if(s.type==="custom"){if(Eu(this,i.bY(s)))return;L=i.bU(s,this._globalState)}else{if("source"in s&&typeof s.source=="object"&&(this.addSource(k,s.source),s=i.bW(s),s=i.e(s,{source:k})),this._validate(i.C.layer,`layers.${k}`,s,{arrayIndex:-1},x))return;L=i.bU(s,this._globalState),this._validateLayer(L),L.setEventedParent(this,{layer:{id:k}})}const U=h?this._order.indexOf(h):this._order.length;if(h&&U===-1)this.fire(new i.k(new Error(`Cannot add layer "${k}" before non-existing layer "${h}".`)));else{if(this._order.splice(U,0,k),this._layerOrderChanged=!0,this._layers[k]=L,this._removedLayers[k]&&L.source&&L.type!=="custom"){const W=this._removedLayers[k];delete this._removedLayers[k],W.type!==L.type?this._updatedSources[L.source]="clear":(this._updatedSources[L.source]="reload",this.tileManagers[L.source].pause())}this._updateLayer(L),L.onAdd&&L.onAdd(this.map)}}moveLayer(s,h){if(this._checkLoaded(),this._changed=!0,!this._layers[s])return void this.fire(new i.k(new Error(`The layer '${s}' does not exist in the map's style and cannot be moved.`)));if(s===h)return;const x=this._order.indexOf(s);this._order.splice(x,1);const k=h?this._order.indexOf(h):this._order.length;h&&k===-1?this.fire(new i.k(new Error(`Cannot move layer "${s}" before non-existing layer "${h}".`))):(this._order.splice(k,0,s),this._layerOrderChanged=!0)}removeLayer(s){this._checkLoaded();const h=this._layers[s];if(!h)return void this.fire(new i.k(new Error(`Cannot remove non-existing layer "${s}".`)));h.setEventedParent(null);const x=this._order.indexOf(s);this._order.splice(x,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[s]=h,delete this._layers[s],this._serializedLayers&&delete this._serializedLayers[s],delete this._updatedLayers[s],delete this._updatedPaintProps[s],h.onRemove&&h.onRemove(this.map)}getLayer(s){return this._layers[s]}getLayersOrder(){return[...this._order]}hasLayer(s){return s in this._layers}setLayerZoomRange(s,h,x){this._checkLoaded();const k=this.getLayer(s);k?k.minzoom===h&&k.maxzoom===x||(h!=null&&(k.minzoom=h),x!=null&&(k.maxzoom=x),this._updateLayer(k)):this.fire(new i.k(new Error(`Cannot set the zoom range of non-existing layer "${s}".`)))}setFilter(s,h,x={}){this._checkLoaded();const k=this.getLayer(s);if(k){if(!i.bS(k.filter,h))return h==null?(k.setFilter(void 0),void this._updateLayer(k)):void(this._validate(i.C.filter,`layers.${k.id}.filter`,h,null,x)||(k.setFilter(i.bW(h)),this._updateLayer(k)))}else this.fire(new i.k(new Error(`Cannot filter non-existing layer "${s}".`)))}getFilter(s){return i.bW(this.getLayer(s).filter)}setLayoutProperty(s,h,x,k={}){this._checkLoaded();const L=this.getLayer(s);L?i.bS(L.getLayoutProperty(h),x)||(L.setLayoutProperty(h,x,k),this._updateLayer(L)):this.fire(new i.k(new Error(`Cannot style non-existing layer "${s}".`)))}getLayoutProperty(s,h){const x=this.getLayer(s);if(x)return x.getLayoutProperty(h);this.fire(new i.k(new Error(`Cannot get style of non-existing layer "${s}".`)))}setPaintProperty(s,h,x,k={}){this._checkLoaded();const L=this.getLayer(s);L?i.bS(L.getPaintProperty(h),x)||this._updatePaintProperty(L,h,x,k):this.fire(new i.k(new Error(`Cannot style non-existing layer "${s}".`)))}_updatePaintProperty(s,h,x,k={}){s.setPaintProperty(h,x,k)&&this._updateLayer(s),i.bV(s)&&h==="raster-fade-duration"&&this.tileManagers[s.source].setRasterFadeDuration(x),this._changed=!0,this._updatedPaintProps[s.id]=!0,this._serializedLayers=null}getPaintProperty(s,h){return this.getLayer(s).getPaintProperty(h)}setFeatureState(s,h){this._checkLoaded();const x=s.source,k=s.sourceLayer,L=this.tileManagers[x];if(L===void 0)return void this.fire(new i.k(new Error(`The source '${x}' does not exist in the map's style.`)));const U=L.getSource().type;U==="geojson"&&k?this.fire(new i.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):U!=="vector"||k?(s.id===void 0&&this.fire(new i.k(new Error("The feature id parameter must be provided."))),L.setFeatureState(k,s.id,h)):this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(s,h){this._checkLoaded();const x=s.source,k=this.tileManagers[x];if(k===void 0)return void this.fire(new i.k(new Error(`The source '${x}' does not exist in the map's style.`)));const L=k.getSource().type,U=L==="vector"?s.sourceLayer:void 0;L!=="vector"||U?h&&typeof s.id!="string"&&typeof s.id!="number"?this.fire(new i.k(new Error("A feature id is required to remove its specific state property."))):k.removeFeatureState(U,s.id,h):this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(s){this._checkLoaded();const h=s.source,x=s.sourceLayer,k=this.tileManagers[h];if(k!==void 0)return k.getSource().type!=="vector"||x?(s.id===void 0&&this.fire(new i.k(new Error("The feature id parameter must be provided."))),k.getFeatureState(x,s.id)):void this.fire(new i.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new i.k(new Error(`The source '${h}' does not exist in the map's style.`)))}getTransition(){return i.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const s=i.bZ(this.tileManagers,(L=>L.serialize())),h=this._serializeByIds(this._order,!0),x=this.map.getTerrain()||void 0,k=this.stylesheet;return i.b_({version:k.version,name:k.name,metadata:k.metadata,light:k.light,sky:k.sky,center:k.center,zoom:k.zoom,bearing:k.bearing,pitch:k.pitch,sprite:k.sprite,glyphs:k.glyphs,transition:k.transition,projection:k.projection,sources:s,layers:h,terrain:x},(L=>L!==void 0))}_updateLayer(s){this._updatedLayers[s.id]=!0,s.source&&!this._updatedSources[s.source]&&this.tileManagers[s.source].getSource().type!=="raster"&&(this._updatedSources[s.source]="reload",this.tileManagers[s.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(s){const h=U=>this._layers[U].type==="fill-extrusion",x={},k=[];for(let U=this._order.length-1;U>=0;U--){const W=this._order[U];if(h(W)){x[W]=U;for(const ee of s){const ce=ee[W];if(ce)for(const fe of ce)k.push(fe)}}}k.sort(((U,W)=>W.intersectionZ-U.intersectionZ));const L=[];for(let U=this._order.length-1;U>=0;U--){const W=this._order[U];if(h(W))for(let ee=k.length-1;ee>=0;ee--){const ce=k[ee].feature;if(x[ce.layer.id]<U)break;L.push(ce),k.pop()}else for(const ee of s){const ce=ee[W];if(ce)for(const fe of ce)L.push(fe.feature)}}return L}queryRenderedFeatures(s,h,x){h&&h.filter&&this._validate(i.C.filter,"queryRenderedFeatures.filter",h.filter,null,h);const k={};if(h&&h.layers){if(!(Array.isArray(h.layers)||h.layers instanceof Set))return this.fire(new i.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const ce of h.layers){const fe=this._layers[ce];if(!fe)return this.fire(new i.k(new Error(`The layer '${ce}' does not exist in the map's style and cannot be queried for features.`))),[];k[fe.source]=!0}}const L=[];h.availableImages=this._availableImages;const U=this._serializedAllLayers(),W=h.layers instanceof Set?h.layers:Array.isArray(h.layers)?new Set(h.layers):null,ee=Object.assign(Object.assign({},h),{layers:W,globalState:this._globalState});for(const ce in this.tileManagers)h.layers&&!k[ce]||L.push(kn(this.tileManagers[ce],this._layers,U,s,ee,x,this.map.terrain?(fe,Ce,Ee)=>this.map.terrain.getElevation(fe,Ce,Ee):void 0));return this.placement&&L.push((function(ce,fe,Ce,Ee,Le,ze,it){const ct={},lt=ze.queryRenderedSymbols(Ee),pt=[];for(const Tt of Object.keys(lt).map(Number))pt.push(it[Tt]);pt.sort(_n);for(const Tt of pt){const gt=Tt.featureIndex.lookupSymbolFeatures(lt[Tt.bucketInstanceId],fe,Tt.bucketIndex,Tt.sourceLayerIndex,{filterSpec:Le.filter,globalState:Le.globalState},Le.layers,Le.availableImages,ce);for(const At in gt){const Rt=ct[At]=ct[At]||[],bt=gt[At];bt.sort(((jt,Qt)=>{const Jt=Tt.featureSortOrder;if(Jt){const nn=Jt.indexOf(jt.featureIndex);return Jt.indexOf(Qt.featureIndex)-nn}return Qt.featureIndex-jt.featureIndex}));for(const jt of bt)Rt.push(jt)}}return(function(Tt,gt,At){for(const Rt in Tt)for(const bt of Tt[Rt])Lt(bt,At[gt[Rt].source]);return Tt})(ct,ce,Ce)})(this._layers,U,this.tileManagers,s,ee,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(L)}querySourceFeatures(s,h){h?.filter&&this._validate(i.C.filter,"querySourceFeatures.filter",h.filter,null,h);const x=this.tileManagers[s];return x?(function(k,L){const U=k.getRenderableIds().map((ce=>k.getTileByID(ce))),W=[],ee={};for(let ce=0;ce<U.length;ce++){const fe=U[ce],Ce=fe.tileID.canonical.key;ee[Ce]||(ee[Ce]=!0,fe.querySourceFeatures(W,L))}return W})(x,h?Object.assign(Object.assign({},h),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(s,h={}){this._checkLoaded();const x=this.light.getLight();let k=!1;for(const U in s)if(!i.bS(s[U],x[U])){k=!0;break}if(!k)return;const L={now:G(),transition:i.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(s,h),this.light.updateTransitions(L)}getProjection(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.projection}setProjection(s){if(this._checkLoaded(),this.projection){if(this.projection.name===s.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=s,this._setProjectionInternal(s.type)}getSky(){var s;return(s=this.stylesheet)===null||s===void 0?void 0:s.sky}setSky(s,h={}){this._checkLoaded();const x=this.getSky();let k=!1;if(!s&&!x)return;if(s&&!x)k=!0;else if(!s&&x)k=!0;else for(const U in s)if(!i.bS(s[U],x[U])){k=!0;break}if(!k)return;const L={now:G(),transition:i.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=s,this.sky.setSky(s,h),this.sky.updateTransitions(L)}_setProjectionInternal(s){const h=(function(x,k){const L={constrainOverride:k};if(Array.isArray(x)){const U=new Qs({type:x});return{projection:U,transform:new Uc(L),cameraHelper:new oc(U)}}switch(x){case"mercator":return{projection:new li,transform:new eo(L),cameraHelper:new Rs};case"globe":{const U=new Qs({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:U,transform:new Uc(L),cameraHelper:new oc(U)}}case"vertical-perspective":return{projection:new Ms,transform:new uf(L),cameraHelper:new Di};default:return i.w(`Unknown projection name: ${x}. Falling back to mercator projection.`),{projection:new li,transform:new eo(L),cameraHelper:new Rs}}})(s,this.map.transformConstrain);this.projection=h.projection,this.map.migrateProjection(h.transform,h.cameraHelper);for(const x in this.tileManagers)this.tileManagers[x].reload()}_validate(s,h,x,k,L={}){return(!L||L.validate!==!1)&&Eu(this,s.call(i.C,i.e({key:h,style:this.serialize(),value:x,styleSpec:i.u},k)))}_remove(s=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),Bt().off(ut,this._rtlPluginLoaded);for(const h in this._layers)this._layers[h].setEventedParent(null);for(const h in this.tileManagers){const x=this.tileManagers[h];x.setEventedParent(null),x.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),s&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(s)}_clearSource(s){this.tileManagers[s].clearTiles()}_reloadSource(s){this.tileManagers[s].resume(),this.tileManagers[s].reload()}_updateSources(s){for(const h in this.tileManagers)this.tileManagers[h].update(s,this.map.terrain)}_generateCollisionBoxes(){for(const s in this.tileManagers)this._reloadSource(s)}_updatePlacement(s,h,x,k,L=!1){let U=!1,W=!1;const ee={};for(const ce of this._order){const fe=this._layers[ce];if(fe.type!=="symbol")continue;if(!ee[fe.source]){const Ee=this.tileManagers[fe.source];ee[fe.source]=Ee.getRenderableIds(!0).map((Le=>Ee.getTileByID(Le))).sort(((Le,ze)=>ze.tileID.overscaledZ-Le.tileID.overscaledZ||(Le.tileID.isLessThan(ze.tileID)?-1:1)))}const Ce=this.crossTileSymbolIndex.addLayer(fe,ee[fe.source],s.center.lng);U=U||Ce}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((L=L||this._layerOrderChanged||x===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(G(),s.zoom))&&(this.pauseablePlacement=new Fo(s,this.map.terrain,this._order,L,h,x,k,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ee),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(G()),W=!0),U&&this.pauseablePlacement.placement.setStale()),W||U)for(const ce of this._order){const fe=this._layers[ce];fe.type==="symbol"&&this.placement.updateLayerOpacities(fe,ee[fe.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(G())}_releaseSymbolFadeTiles(){for(const s in this.tileManagers)this.tileManagers[s].releaseSymbolFadeTiles()}getImages(s,h){return i._(this,void 0,void 0,(function*(){const x=yield this.imageManager.getImages(h.icons);this._updateTilesForChangedImages();const k=this.tileManagers[h.source];return k&&k.setDependencies(h.tileID.key,h.type,h.icons),x}))}getGlyphs(s,h){return i._(this,void 0,void 0,(function*(){const x=yield this.glyphManager.getGlyphs(h.stacks),k=this.tileManagers[h.source];return k&&k.setDependencies(h.tileID.key,h.type,[""]),x}))}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(s,h={}){this._checkLoaded(),s&&this._validate(i.C.glyphs,"glyphs",s,null,h)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=s,this.glyphManager.entries={},this.glyphManager.setURL(s))}getDashes(s,h){return i._(this,void 0,void 0,(function*(){const x={};for(const[k,L]of Object.entries(h.dashes))x[k]=this.lineAtlas.getDash(L.dasharray,L.round);return x}))}addSprite(s,h,x={},k){this._checkLoaded();const L=[{id:s,url:h}],U=[...se(this.stylesheet.sprite),...L];this._validate(i.C.sprite,"sprite",U,null,x)||(this.stylesheet.sprite=U,this._loadSprite(L,!0,k))}removeSprite(s){this._checkLoaded();const h=se(this.stylesheet.sprite);if(h.find((x=>x.id===s))){if(this._spritesImagesIds[s])for(const x of this._spritesImagesIds[s])this.imageManager.removeImage(x),this._changedImages[x]=!0;h.splice(h.findIndex((x=>x.id===s)),1),this.stylesheet.sprite=h.length>0?h:void 0,delete this._spritesImagesIds[s],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new i.l("data",{dataType:"style"}))}else this.fire(new i.k(new Error(`Sprite "${s}" doesn't exists on this map.`)))}getSprite(){return se(this.stylesheet.sprite)}setSprite(s,h={},x){this._checkLoaded(),s&&this._validate(i.C.sprite,"sprite",s,null,h)||(this.stylesheet.sprite=s,s?this._loadSprite(s,!0,x):(this._unloadSprite(),x&&x(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const s in this.tileManagers){const h=this.tileManagers[s];h.setEventedParent(null),h.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const s in this._layers){const h=this._layers[s];h.setEventedParent(null),h.onRemove&&h.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var Kh=i.aV([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ad{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(s,h,x,k,L,U,W,ee,ce){this.context=s;let fe=this.boundPaintVertexBuffers.length!==k.length;for(let Ce=0;!fe&&Ce<k.length;Ce++)this.boundPaintVertexBuffers[Ce]!==k[Ce]&&(fe=!0);!this.vao||this.boundProgram!==h||this.boundLayoutVertexBuffer!==x||fe||this.boundIndexBuffer!==L||this.boundVertexOffset!==U||this.boundDynamicVertexBuffer!==W||this.boundDynamicVertexBuffer2!==ee||this.boundDynamicVertexBuffer3!==ce?this.freshBind(h,x,k,L,U,W,ee,ce):(s.bindVertexArray.set(this.vao),W&&W.bind(),L&&L.dynamicDraw&&L.bind(),ee&&ee.bind(),ce&&ce.bind())}freshBind(s,h,x,k,L,U,W,ee){const ce=s.numAttributes,fe=this.context,Ce=fe.gl;this.vao&&this.destroy(),this.vao=fe.createVertexArray(),fe.bindVertexArray.set(this.vao),this.boundProgram=s,this.boundLayoutVertexBuffer=h,this.boundPaintVertexBuffers=x,this.boundIndexBuffer=k,this.boundVertexOffset=L,this.boundDynamicVertexBuffer=U,this.boundDynamicVertexBuffer2=W,this.boundDynamicVertexBuffer3=ee,h.enableAttributes(Ce,s);for(const Ee of x)Ee.enableAttributes(Ce,s);U&&U.enableAttributes(Ce,s),W&&W.enableAttributes(Ce,s),ee&&ee.enableAttributes(Ce,s),h.bind(),h.setVertexAttribPointers(Ce,s,L);for(const Ee of x)Ee.bind(),Ee.setVertexAttribPointers(Ce,s,L);U&&(U.bind(),U.setVertexAttribPointers(Ce,s,L)),k&&k.bind(),W&&(W.bind(),W.setVertexAttribPointers(Ce,s,L)),ee&&(ee.bind(),ee.setVertexAttribPointers(Ce,s,L)),fe.currentNumAttributes=ce}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const bg=(O,s,h,x,k)=>({u_texture:0,u_ele_delta:O,u_fog_matrix:s,u_fog_color:h?h.properties.get("fog-color"):i.bq.white,u_fog_ground_blend:h?h.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:k?0:h?h.calculateFogBlendOpacity(x):0,u_horizon_color:h?h.properties.get("horizon-color"):i.bq.white,u_horizon_fog_blend:h?h.properties.get("horizon-fog-blend"):1,u_is_globe_mode:k?1:0}),Dl={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function ys(O){const s=[];for(let h=0;h<O.length;h++){if(O[h]===null)continue;const x=O[h].split(" ");s.push(x.pop())}return s}class Qh{constructor(s,h,x,k,L,U,W,ee,ce=[]){const fe=s.gl;this.program=fe.createProgram();const Ce=ys(h.staticAttributes),Ee=x?x.getBinderAttributes():[],Le=Ce.concat(Ee),ze=Si.prelude.staticUniforms?ys(Si.prelude.staticUniforms):[],it=W.staticUniforms?ys(W.staticUniforms):[],ct=h.staticUniforms?ys(h.staticUniforms):[],lt=x?x.getBinderUniforms():[],pt=ze.concat(it).concat(ct).concat(lt),Tt=[];for(const Jt of pt)Tt.indexOf(Jt)<0&&Tt.push(Jt);const gt=x?x.defines():[];Bo(fe)&&gt.unshift("#version 300 es"),L&&gt.push("#define OVERDRAW_INSPECTOR;"),U&&gt.push("#define TERRAIN3D;"),ee&&gt.push(ee),ce&&gt.push(...ce);let At=gt.concat(Si.prelude.fragmentSource,W.fragmentSource,h.fragmentSource).join(`
`),Rt=gt.concat(Si.prelude.vertexSource,W.vertexSource,h.vertexSource).join(`
`);Bo(fe)||(At=(function(Jt){return Jt.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")})(At),Rt=(function(Jt){return Jt.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")})(Rt));const bt=fe.createShader(fe.FRAGMENT_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);if(fe.shaderSource(bt,At),fe.compileShader(bt),!fe.getShaderParameter(bt,fe.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${fe.getShaderInfoLog(bt)}`);fe.attachShader(this.program,bt);const jt=fe.createShader(fe.VERTEX_SHADER);if(fe.isContextLost())return void(this.failedToCreate=!0);if(fe.shaderSource(jt,Rt),fe.compileShader(jt),!fe.getShaderParameter(jt,fe.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${fe.getShaderInfoLog(jt)}`);fe.attachShader(this.program,jt),this.attributes={};const Qt={};this.numAttributes=Le.length;for(let Jt=0;Jt<this.numAttributes;Jt++)Le[Jt]&&(fe.bindAttribLocation(this.program,Jt,Le[Jt]),this.attributes[Le[Jt]]=Jt);if(fe.linkProgram(this.program),!fe.getProgramParameter(this.program,fe.LINK_STATUS))throw new Error(`Program failed to link: ${fe.getProgramInfoLog(this.program)}`);fe.deleteShader(jt),fe.deleteShader(bt);for(let Jt=0;Jt<Tt.length;Jt++){const nn=Tt[Jt];if(nn&&!Qt[nn]){const an=fe.getUniformLocation(this.program,nn);an&&(Qt[nn]=an)}}this.fixedUniforms=k(s,Qt),this.terrainUniforms=((Jt,nn)=>({u_depth:new i.b$(Jt,nn.u_depth),u_terrain:new i.b$(Jt,nn.u_terrain),u_terrain_dim:new i.br(Jt,nn.u_terrain_dim),u_terrain_matrix:new i.c1(Jt,nn.u_terrain_matrix),u_terrain_unpack:new i.c2(Jt,nn.u_terrain_unpack),u_terrain_exaggeration:new i.br(Jt,nn.u_terrain_exaggeration)}))(s,Qt),this.projectionUniforms=((Jt,nn)=>({u_projection_matrix:new i.c1(Jt,nn.u_projection_matrix),u_projection_tile_mercator_coords:new i.c2(Jt,nn.u_projection_tile_mercator_coords),u_projection_clipping_plane:new i.c2(Jt,nn.u_projection_clipping_plane),u_projection_transition:new i.br(Jt,nn.u_projection_transition),u_projection_fallback_matrix:new i.c1(Jt,nn.u_projection_fallback_matrix)}))(s,Qt),this.binderUniforms=x?x.getUniforms(s,Qt):[]}draw(s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee,Le,ze,it,ct,lt,pt,Tt){const gt=s.gl;if(this.failedToCreate)return;if(s.program.set(this.program),s.setDepthMode(x),s.setStencilMode(k),s.setColorMode(L),s.setCullFace(U),ee){s.activeTexture.set(gt.TEXTURE2),gt.bindTexture(gt.TEXTURE_2D,ee.depthTexture),s.activeTexture.set(gt.TEXTURE3),gt.bindTexture(gt.TEXTURE_2D,ee.texture);for(const Rt in this.terrainUniforms)this.terrainUniforms[Rt].set(ee[Rt])}if(ce)for(const Rt in ce)this.projectionUniforms[Dl[Rt]].set(ce[Rt]);if(W)for(const Rt in this.fixedUniforms)this.fixedUniforms[Rt].set(W[Rt]);ct&&ct.setUniforms(s,this.binderUniforms,ze,{zoom:it});let At=0;switch(h){case gt.LINES:At=2;break;case gt.TRIANGLES:At=3;break;case gt.LINE_STRIP:At=1}for(const Rt of Le.get()){const bt=Rt.vaos||(Rt.vaos={});(bt[fe]||(bt[fe]=new Ad)).bind(s,this,Ce,ct?ct.getPaintVertexBuffers():[],Ee,Rt.vertexOffset,lt,pt,Tt),gt.drawElements(h,Rt.primitiveLength*At,gt.UNSIGNED_SHORT,Rt.primitiveOffset*At*2)}}}function kd(O,s,h){const x=1/i.aO(h,1,s.transform.tileZoom),k=Math.pow(2,h.tileID.overscaledZ),L=h.tileSize*Math.pow(2,s.transform.tileZoom)/k,U=L*(h.tileID.canonical.x+h.tileID.wrap*k),W=L*h.tileID.canonical.y;return{u_image:0,u_texsize:h.imageAtlasTexture.size,u_scale:[x,O.fromScale,O.toScale],u_fade:O.t,u_pixel_coord_upper:[U>>16,W>>16],u_pixel_coord_lower:[65535&U,65535&W]}}const eh=(O,s,h,x)=>{const k=O.style.light,L=k.properties.get("position"),U=[L.x,L.y,L.z],W=i.c5();k.properties.get("anchor")==="viewport"&&i.c6(W,O.transform.bearingInRadians),i.c7(U,U,W);const ee=O.transform.transformLightDirection(U),ce=k.properties.get("color");return{u_lightpos:U,u_lightpos_globe:ee,u_lightintensity:k.properties.get("intensity"),u_lightcolor:[ce.r,ce.g,ce.b],u_vertical_gradient:+s,u_opacity:h,u_fill_translate:x}},cf=(O,s,h,x,k,L,U)=>i.e(eh(O,s,h,x),kd(L,O,U),{u_height_factor:-Math.pow(2,k.overscaledZ)/U.tileSize/8}),Id=(O,s,h,x)=>i.e(kd(s,O,h),{u_fill_translate:x}),df=(O,s)=>({u_world:O,u_fill_translate:s}),_g=(O,s,h,x,k)=>i.e(Id(O,s,h,k),{u_world:x}),th=(O,s,h,x,k)=>{const L=O.transform;let U,W,ee=0;if(h.paint.get("circle-pitch-alignment")==="map"){const ce=i.aO(s,1,L.zoom);U=!0,W=[ce,ce],ee=ce/(i.a5*Math.pow(2,s.tileID.overscaledZ))*2*Math.PI*k}else U=!1,W=L.pixelsToGLUnits;return{u_camera_to_center_distance:L.cameraToCenterDistance,u_scale_with_map:+(h.paint.get("circle-pitch-scale")==="map"),u_pitch_with_map:+U,u_device_pixel_ratio:O.pixelRatio,u_extrude_scale:W,u_globe_extrude_scale:ee,u_translate:x}},Hc=O=>({u_pixel_extrude_scale:[1/O.width,1/O.height]}),Vc=O=>({u_viewport_size:[O.width,O.height]}),nh=(O,s=1)=>({u_color:O,u_overlay:0,u_overlay_scale:s}),sc=(O,s,h,x)=>{const k=i.aO(O,1,s)/(i.a5*Math.pow(2,O.tileID.overscaledZ))*2*Math.PI*x;return{u_extrude_scale:i.aO(O,1,s),u_intensity:h,u_globe_extrude_scale:k}},ff=(O,s,h,x)=>{const k=i.N();i.c8(k,0,O.width,O.height,0,0,1);const L=O.context.gl;return{u_matrix:k,u_world:[L.drawingBufferWidth,L.drawingBufferHeight],u_image:h,u_color_ramp:x,u_opacity:s.paint.get("heatmap-opacity")}},Nd=(O,s,h)=>{const x=h.paint.get("hillshade-accent-color");let k;switch(h.paint.get("hillshade-method")){case"basic":k=4;break;case"combined":k=1;break;case"igor":k=2;break;case"multidirectional":k=3;break;default:k=0}const L=h.getIlluminationProperties();for(let U=0;U<L.directionRadians.length;U++)h.paint.get("hillshade-illumination-anchor")==="viewport"&&(L.directionRadians[U]+=O.transform.bearingInRadians);return{u_image:0,u_latrange:rh(0,s.tileID),u_exaggeration:h.paint.get("hillshade-exaggeration"),u_altitudes:L.altitudeRadians,u_azimuths:L.directionRadians,u_accent:x,u_method:k,u_highlights:L.highlightColor,u_shadows:L.shadowColor}},lc=(O,s)=>{const h=s.stride,x=i.N();return i.c8(x,0,i.a5,-i.a5,0,0,1),i.O(x,x,[0,-i.a5,0]),{u_matrix:x,u_image:1,u_dimension:[h,h],u_zoom:O.overscaledZ,u_unpack:s.getUnpackVector()}};function rh(O,s){const h=Math.pow(2,s.canonical.z),x=s.canonical.y;return[new i.ab(0,x/h).toLngLat().lat,new i.ab(0,(x+1)/h).toLngLat().lat]}const Jh=(O,s,h=0)=>({u_image:0,u_unpack:s.getUnpackVector(),u_dimension:[s.stride,s.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:h,u_opacity:O.paint.get("color-relief-opacity")}),ah=(O,s,h,x)=>{const k=O.transform;return{u_translation:ih(O,s,h),u_ratio:x/i.aO(s,1,k.zoom),u_device_pixel_ratio:O.pixelRatio,u_units_to_pixels:[1/k.pixelsToGLUnits[0],1/k.pixelsToGLUnits[1]]}},nm=(O,s,h,x,k)=>i.e(ah(O,s,h,x),{u_image:0,u_image_height:k}),uc=(O,s,h,x,k)=>{const L=O.transform,U=as(s,L);return{u_translation:ih(O,s,h),u_texsize:s.imageAtlasTexture.size,u_ratio:x/i.aO(s,1,L.zoom),u_device_pixel_ratio:O.pixelRatio,u_image:0,u_scale:[U,k.fromScale,k.toScale],u_fade:k.t,u_units_to_pixels:[1/L.pixelsToGLUnits[0],1/L.pixelsToGLUnits[1]]}},Li=(O,s,h,x,k)=>{const L=as(s,O.transform);return i.e(ah(O,s,h,x),{u_tileratio:L,u_crossfade_from:k.fromScale,u_crossfade_to:k.toScale,u_image:0,u_mix:k.t,u_lineatlas_width:O.lineAtlas.width,u_lineatlas_height:O.lineAtlas.height})},cc=(O,s,h,x,k,L)=>{const U=as(s,O.transform);return i.e(ah(O,s,h,x),{u_image:0,u_image_height:L,u_tileratio:U,u_crossfade_from:k.fromScale,u_crossfade_to:k.toScale,u_image_dash:1,u_mix:k.t,u_lineatlas_width:O.lineAtlas.width,u_lineatlas_height:O.lineAtlas.height})};function as(O,s){return 1/i.aO(O,1,s.tileZoom)}function ih(O,s,h){return i.aP(O.transform,s,h.paint.get("line-translate"),h.paint.get("line-translate-anchor"))}const oh=(O,s,h,x,k)=>{return{u_tl_parent:O,u_scale_parent:s,u_buffer_scale:1,u_fade_t:h.mix,u_opacity:h.opacity*x.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:x.paint.get("raster-brightness-min"),u_brightness_high:x.paint.get("raster-brightness-max"),u_saturation_factor:(U=x.paint.get("raster-saturation"),U>0?1-1/(1.001-U):-U),u_contrast_factor:(L=x.paint.get("raster-contrast"),L>0?1/(1-L):1+L),u_spin_weights:Ds(x.paint.get("raster-hue-rotate")),u_coords_top:[k[0].x,k[0].y,k[1].x,k[1].y],u_coords_bottom:[k[3].x,k[3].y,k[2].x,k[2].y]};var L,U};function Ds(O){O*=Math.PI/180;const s=Math.sin(O),h=Math.cos(O);return[(2*h+1)/3,(-Math.sqrt(3)*s-h+1)/3,(Math.sqrt(3)*s-h+1)/3]}const tl=(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee)=>{const Le=U.transform;return{u_is_size_zoom_constant:+(O==="constant"||O==="source"),u_is_size_feature_constant:+(O==="constant"||O==="camera"),u_size_t:s?s.uSizeT:0,u_size:s?s.uSize:0,u_camera_to_center_distance:Le.cameraToCenterDistance,u_pitch:Le.pitch/360*2*Math.PI,u_rotate_symbol:+h,u_aspect_ratio:Le.width/Le.height,u_fade_change:U.options.fadeDuration?U.symbolFadeChange:1,u_label_plane_matrix:W,u_coord_matrix:ee,u_is_text:+fe,u_pitch_with_map:+x,u_is_along_line:k,u_is_variable_anchor:L,u_texsize:Ce,u_texture:0,u_translation:ce,u_pitched_scale:Ee}},R=(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee,Le)=>{const ze=U.transform;return i.e(tl(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Le),{u_gamma_scale:x?Math.cos(ze.pitch*Math.PI/180)*ze.cameraToCenterDistance:1,u_device_pixel_ratio:U.pixelRatio,u_is_halo:1})},p=(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee)=>i.e(R(O,s,h,x,k,L,U,W,ee,ce,!0,fe,0,Ee),{u_texsize_icon:Ce,u_texture_icon:1}),v=(O,s)=>({u_opacity:O,u_color:s}),A=(O,s,h,x,k)=>i.e((function(L,U,W,ee){const ce=W.imageManager.getPattern(L.from.toString()),fe=W.imageManager.getPattern(L.to.toString()),{width:Ce,height:Ee}=W.imageManager.getPixelSize(),Le=Math.pow(2,ee.tileID.overscaledZ),ze=ee.tileSize*Math.pow(2,W.transform.tileZoom)/Le,it=ze*(ee.tileID.canonical.x+ee.tileID.wrap*Le),ct=ze*ee.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:ce.tl,u_pattern_br_a:ce.br,u_pattern_tl_b:fe.tl,u_pattern_br_b:fe.br,u_texsize:[Ce,Ee],u_mix:U.t,u_pattern_size_a:ce.displaySize,u_pattern_size_b:fe.displaySize,u_scale_a:U.fromScale,u_scale_b:U.toScale,u_tile_units_to_pixels:1/i.aO(ee,1,W.transform.tileZoom),u_pixel_coord_upper:[it>>16,ct>>16],u_pixel_coord_lower:[65535&it,65535&ct]}})(h,k,s,x),{u_opacity:O}),H=(O,s)=>{},te={fillExtrusion:(O,s)=>({u_lightpos:new i.c3(O,s.u_lightpos),u_lightpos_globe:new i.c3(O,s.u_lightpos_globe),u_lightintensity:new i.br(O,s.u_lightintensity),u_lightcolor:new i.c3(O,s.u_lightcolor),u_vertical_gradient:new i.br(O,s.u_vertical_gradient),u_opacity:new i.br(O,s.u_opacity),u_fill_translate:new i.c4(O,s.u_fill_translate)}),fillExtrusionPattern:(O,s)=>({u_lightpos:new i.c3(O,s.u_lightpos),u_lightpos_globe:new i.c3(O,s.u_lightpos_globe),u_lightintensity:new i.br(O,s.u_lightintensity),u_lightcolor:new i.c3(O,s.u_lightcolor),u_vertical_gradient:new i.br(O,s.u_vertical_gradient),u_height_factor:new i.br(O,s.u_height_factor),u_opacity:new i.br(O,s.u_opacity),u_fill_translate:new i.c4(O,s.u_fill_translate),u_image:new i.b$(O,s.u_image),u_texsize:new i.c4(O,s.u_texsize),u_pixel_coord_upper:new i.c4(O,s.u_pixel_coord_upper),u_pixel_coord_lower:new i.c4(O,s.u_pixel_coord_lower),u_scale:new i.c3(O,s.u_scale),u_fade:new i.br(O,s.u_fade)}),fill:(O,s)=>({u_fill_translate:new i.c4(O,s.u_fill_translate)}),fillPattern:(O,s)=>({u_image:new i.b$(O,s.u_image),u_texsize:new i.c4(O,s.u_texsize),u_pixel_coord_upper:new i.c4(O,s.u_pixel_coord_upper),u_pixel_coord_lower:new i.c4(O,s.u_pixel_coord_lower),u_scale:new i.c3(O,s.u_scale),u_fade:new i.br(O,s.u_fade),u_fill_translate:new i.c4(O,s.u_fill_translate)}),fillOutline:(O,s)=>({u_world:new i.c4(O,s.u_world),u_fill_translate:new i.c4(O,s.u_fill_translate)}),fillOutlinePattern:(O,s)=>({u_world:new i.c4(O,s.u_world),u_image:new i.b$(O,s.u_image),u_texsize:new i.c4(O,s.u_texsize),u_pixel_coord_upper:new i.c4(O,s.u_pixel_coord_upper),u_pixel_coord_lower:new i.c4(O,s.u_pixel_coord_lower),u_scale:new i.c3(O,s.u_scale),u_fade:new i.br(O,s.u_fade),u_fill_translate:new i.c4(O,s.u_fill_translate)}),circle:(O,s)=>({u_camera_to_center_distance:new i.br(O,s.u_camera_to_center_distance),u_scale_with_map:new i.b$(O,s.u_scale_with_map),u_pitch_with_map:new i.b$(O,s.u_pitch_with_map),u_extrude_scale:new i.c4(O,s.u_extrude_scale),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_globe_extrude_scale:new i.br(O,s.u_globe_extrude_scale),u_translate:new i.c4(O,s.u_translate)}),collisionBox:(O,s)=>({u_pixel_extrude_scale:new i.c4(O,s.u_pixel_extrude_scale)}),collisionCircle:(O,s)=>({u_viewport_size:new i.c4(O,s.u_viewport_size)}),debug:(O,s)=>({u_color:new i.c0(O,s.u_color),u_overlay:new i.b$(O,s.u_overlay),u_overlay_scale:new i.br(O,s.u_overlay_scale)}),depth:H,clippingMask:H,heatmap:(O,s)=>({u_extrude_scale:new i.br(O,s.u_extrude_scale),u_intensity:new i.br(O,s.u_intensity),u_globe_extrude_scale:new i.br(O,s.u_globe_extrude_scale)}),heatmapTexture:(O,s)=>({u_matrix:new i.c1(O,s.u_matrix),u_world:new i.c4(O,s.u_world),u_image:new i.b$(O,s.u_image),u_color_ramp:new i.b$(O,s.u_color_ramp),u_opacity:new i.br(O,s.u_opacity)}),hillshade:(O,s)=>({u_image:new i.b$(O,s.u_image),u_latrange:new i.c4(O,s.u_latrange),u_exaggeration:new i.br(O,s.u_exaggeration),u_altitudes:new i.ca(O,s.u_altitudes),u_azimuths:new i.ca(O,s.u_azimuths),u_accent:new i.c0(O,s.u_accent),u_method:new i.b$(O,s.u_method),u_shadows:new i.c9(O,s.u_shadows),u_highlights:new i.c9(O,s.u_highlights)}),hillshadePrepare:(O,s)=>({u_matrix:new i.c1(O,s.u_matrix),u_image:new i.b$(O,s.u_image),u_dimension:new i.c4(O,s.u_dimension),u_zoom:new i.br(O,s.u_zoom),u_unpack:new i.c2(O,s.u_unpack)}),colorRelief:(O,s)=>({u_image:new i.b$(O,s.u_image),u_unpack:new i.c2(O,s.u_unpack),u_dimension:new i.c4(O,s.u_dimension),u_elevation_stops:new i.b$(O,s.u_elevation_stops),u_color_stops:new i.b$(O,s.u_color_stops),u_color_ramp_size:new i.b$(O,s.u_color_ramp_size),u_opacity:new i.br(O,s.u_opacity)}),line:(O,s)=>({u_translation:new i.c4(O,s.u_translation),u_ratio:new i.br(O,s.u_ratio),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_units_to_pixels:new i.c4(O,s.u_units_to_pixels)}),lineGradient:(O,s)=>({u_translation:new i.c4(O,s.u_translation),u_ratio:new i.br(O,s.u_ratio),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_units_to_pixels:new i.c4(O,s.u_units_to_pixels),u_image:new i.b$(O,s.u_image),u_image_height:new i.br(O,s.u_image_height)}),linePattern:(O,s)=>({u_translation:new i.c4(O,s.u_translation),u_texsize:new i.c4(O,s.u_texsize),u_ratio:new i.br(O,s.u_ratio),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_image:new i.b$(O,s.u_image),u_units_to_pixels:new i.c4(O,s.u_units_to_pixels),u_scale:new i.c3(O,s.u_scale),u_fade:new i.br(O,s.u_fade)}),lineSDF:(O,s)=>({u_translation:new i.c4(O,s.u_translation),u_ratio:new i.br(O,s.u_ratio),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_units_to_pixels:new i.c4(O,s.u_units_to_pixels),u_image:new i.b$(O,s.u_image),u_mix:new i.br(O,s.u_mix),u_tileratio:new i.br(O,s.u_tileratio),u_crossfade_from:new i.br(O,s.u_crossfade_from),u_crossfade_to:new i.br(O,s.u_crossfade_to),u_lineatlas_width:new i.br(O,s.u_lineatlas_width),u_lineatlas_height:new i.br(O,s.u_lineatlas_height)}),lineGradientSDF:(O,s)=>({u_translation:new i.c4(O,s.u_translation),u_ratio:new i.br(O,s.u_ratio),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_units_to_pixels:new i.c4(O,s.u_units_to_pixels),u_image:new i.b$(O,s.u_image),u_image_height:new i.br(O,s.u_image_height),u_tileratio:new i.br(O,s.u_tileratio),u_crossfade_from:new i.br(O,s.u_crossfade_from),u_crossfade_to:new i.br(O,s.u_crossfade_to),u_image_dash:new i.b$(O,s.u_image_dash),u_mix:new i.br(O,s.u_mix),u_lineatlas_width:new i.br(O,s.u_lineatlas_width),u_lineatlas_height:new i.br(O,s.u_lineatlas_height)}),raster:(O,s)=>({u_tl_parent:new i.c4(O,s.u_tl_parent),u_scale_parent:new i.br(O,s.u_scale_parent),u_buffer_scale:new i.br(O,s.u_buffer_scale),u_fade_t:new i.br(O,s.u_fade_t),u_opacity:new i.br(O,s.u_opacity),u_image0:new i.b$(O,s.u_image0),u_image1:new i.b$(O,s.u_image1),u_brightness_low:new i.br(O,s.u_brightness_low),u_brightness_high:new i.br(O,s.u_brightness_high),u_saturation_factor:new i.br(O,s.u_saturation_factor),u_contrast_factor:new i.br(O,s.u_contrast_factor),u_spin_weights:new i.c3(O,s.u_spin_weights),u_coords_top:new i.c2(O,s.u_coords_top),u_coords_bottom:new i.c2(O,s.u_coords_bottom)}),symbolIcon:(O,s)=>({u_is_size_zoom_constant:new i.b$(O,s.u_is_size_zoom_constant),u_is_size_feature_constant:new i.b$(O,s.u_is_size_feature_constant),u_size_t:new i.br(O,s.u_size_t),u_size:new i.br(O,s.u_size),u_camera_to_center_distance:new i.br(O,s.u_camera_to_center_distance),u_pitch:new i.br(O,s.u_pitch),u_rotate_symbol:new i.b$(O,s.u_rotate_symbol),u_aspect_ratio:new i.br(O,s.u_aspect_ratio),u_fade_change:new i.br(O,s.u_fade_change),u_label_plane_matrix:new i.c1(O,s.u_label_plane_matrix),u_coord_matrix:new i.c1(O,s.u_coord_matrix),u_is_text:new i.b$(O,s.u_is_text),u_pitch_with_map:new i.b$(O,s.u_pitch_with_map),u_is_along_line:new i.b$(O,s.u_is_along_line),u_is_variable_anchor:new i.b$(O,s.u_is_variable_anchor),u_texsize:new i.c4(O,s.u_texsize),u_texture:new i.b$(O,s.u_texture),u_translation:new i.c4(O,s.u_translation),u_pitched_scale:new i.br(O,s.u_pitched_scale)}),symbolSDF:(O,s)=>({u_is_size_zoom_constant:new i.b$(O,s.u_is_size_zoom_constant),u_is_size_feature_constant:new i.b$(O,s.u_is_size_feature_constant),u_size_t:new i.br(O,s.u_size_t),u_size:new i.br(O,s.u_size),u_camera_to_center_distance:new i.br(O,s.u_camera_to_center_distance),u_pitch:new i.br(O,s.u_pitch),u_rotate_symbol:new i.b$(O,s.u_rotate_symbol),u_aspect_ratio:new i.br(O,s.u_aspect_ratio),u_fade_change:new i.br(O,s.u_fade_change),u_label_plane_matrix:new i.c1(O,s.u_label_plane_matrix),u_coord_matrix:new i.c1(O,s.u_coord_matrix),u_is_text:new i.b$(O,s.u_is_text),u_pitch_with_map:new i.b$(O,s.u_pitch_with_map),u_is_along_line:new i.b$(O,s.u_is_along_line),u_is_variable_anchor:new i.b$(O,s.u_is_variable_anchor),u_texsize:new i.c4(O,s.u_texsize),u_texture:new i.b$(O,s.u_texture),u_gamma_scale:new i.br(O,s.u_gamma_scale),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_is_halo:new i.b$(O,s.u_is_halo),u_translation:new i.c4(O,s.u_translation),u_pitched_scale:new i.br(O,s.u_pitched_scale)}),symbolTextAndIcon:(O,s)=>({u_is_size_zoom_constant:new i.b$(O,s.u_is_size_zoom_constant),u_is_size_feature_constant:new i.b$(O,s.u_is_size_feature_constant),u_size_t:new i.br(O,s.u_size_t),u_size:new i.br(O,s.u_size),u_camera_to_center_distance:new i.br(O,s.u_camera_to_center_distance),u_pitch:new i.br(O,s.u_pitch),u_rotate_symbol:new i.b$(O,s.u_rotate_symbol),u_aspect_ratio:new i.br(O,s.u_aspect_ratio),u_fade_change:new i.br(O,s.u_fade_change),u_label_plane_matrix:new i.c1(O,s.u_label_plane_matrix),u_coord_matrix:new i.c1(O,s.u_coord_matrix),u_is_text:new i.b$(O,s.u_is_text),u_pitch_with_map:new i.b$(O,s.u_pitch_with_map),u_is_along_line:new i.b$(O,s.u_is_along_line),u_is_variable_anchor:new i.b$(O,s.u_is_variable_anchor),u_texsize:new i.c4(O,s.u_texsize),u_texsize_icon:new i.c4(O,s.u_texsize_icon),u_texture:new i.b$(O,s.u_texture),u_texture_icon:new i.b$(O,s.u_texture_icon),u_gamma_scale:new i.br(O,s.u_gamma_scale),u_device_pixel_ratio:new i.br(O,s.u_device_pixel_ratio),u_is_halo:new i.b$(O,s.u_is_halo),u_translation:new i.c4(O,s.u_translation),u_pitched_scale:new i.br(O,s.u_pitched_scale)}),background:(O,s)=>({u_opacity:new i.br(O,s.u_opacity),u_color:new i.c0(O,s.u_color)}),backgroundPattern:(O,s)=>({u_opacity:new i.br(O,s.u_opacity),u_image:new i.b$(O,s.u_image),u_pattern_tl_a:new i.c4(O,s.u_pattern_tl_a),u_pattern_br_a:new i.c4(O,s.u_pattern_br_a),u_pattern_tl_b:new i.c4(O,s.u_pattern_tl_b),u_pattern_br_b:new i.c4(O,s.u_pattern_br_b),u_texsize:new i.c4(O,s.u_texsize),u_mix:new i.br(O,s.u_mix),u_pattern_size_a:new i.c4(O,s.u_pattern_size_a),u_pattern_size_b:new i.c4(O,s.u_pattern_size_b),u_scale_a:new i.br(O,s.u_scale_a),u_scale_b:new i.br(O,s.u_scale_b),u_pixel_coord_upper:new i.c4(O,s.u_pixel_coord_upper),u_pixel_coord_lower:new i.c4(O,s.u_pixel_coord_lower),u_tile_units_to_pixels:new i.br(O,s.u_tile_units_to_pixels)}),terrain:(O,s)=>({u_texture:new i.b$(O,s.u_texture),u_ele_delta:new i.br(O,s.u_ele_delta),u_fog_matrix:new i.c1(O,s.u_fog_matrix),u_fog_color:new i.c0(O,s.u_fog_color),u_fog_ground_blend:new i.br(O,s.u_fog_ground_blend),u_fog_ground_blend_opacity:new i.br(O,s.u_fog_ground_blend_opacity),u_horizon_color:new i.c0(O,s.u_horizon_color),u_horizon_fog_blend:new i.br(O,s.u_horizon_fog_blend),u_is_globe_mode:new i.br(O,s.u_is_globe_mode)}),terrainDepth:(O,s)=>({u_ele_delta:new i.br(O,s.u_ele_delta)}),terrainCoords:(O,s)=>({u_texture:new i.b$(O,s.u_texture),u_terrain_coords_id:new i.br(O,s.u_terrain_coords_id),u_ele_delta:new i.br(O,s.u_ele_delta)}),projectionErrorMeasurement:(O,s)=>({u_input:new i.br(O,s.u_input),u_output_expected:new i.br(O,s.u_output_expected)}),atmosphere:(O,s)=>({u_sun_pos:new i.c3(O,s.u_sun_pos),u_atmosphere_blend:new i.br(O,s.u_atmosphere_blend),u_globe_position:new i.c3(O,s.u_globe_position),u_globe_radius:new i.br(O,s.u_globe_radius),u_inv_proj_matrix:new i.c1(O,s.u_inv_proj_matrix)}),sky:(O,s)=>({u_sky_color:new i.c0(O,s.u_sky_color),u_horizon_color:new i.c0(O,s.u_horizon_color),u_horizon:new i.c4(O,s.u_horizon),u_horizon_normal:new i.c4(O,s.u_horizon_normal),u_sky_horizon_blend:new i.br(O,s.u_sky_horizon_blend),u_sky_blend:new i.br(O,s.u_sky_blend)})};class me{constructor(s,h,x){this.context=s;const k=s.gl;this.buffer=k.createBuffer(),this.dynamicDraw=!!x,this.context.unbindVAO(),s.bindElementBuffer.set(this.buffer),k.bufferData(k.ELEMENT_ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?k.DYNAMIC_DRAW:k.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(s){const h=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),h.bufferSubData(h.ELEMENT_ARRAY_BUFFER,0,s.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ie={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ue{constructor(s,h,x,k){this.length=h.length,this.attributes=x,this.itemSize=h.bytesPerElement,this.dynamicDraw=k,this.context=s;const L=s.gl;this.buffer=L.createBuffer(),s.bindVertexBuffer.set(this.buffer),L.bufferData(L.ARRAY_BUFFER,h.arrayBuffer,this.dynamicDraw?L.DYNAMIC_DRAW:L.STATIC_DRAW),this.dynamicDraw||delete h.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(s){if(s.length!==this.length)throw new Error(`Length of new data is ${s.length}, which doesn't match current length of ${this.length}`);const h=this.context.gl;this.bind(),h.bufferSubData(h.ARRAY_BUFFER,0,s.arrayBuffer)}enableAttributes(s,h){for(let x=0;x<this.attributes.length;x++){const k=h.attributes[this.attributes[x].name];k!==void 0&&s.enableVertexAttribArray(k)}}setVertexAttribPointers(s,h,x){for(let k=0;k<this.attributes.length;k++){const L=this.attributes[k],U=h.attributes[L.name];U!==void 0&&s.vertexAttribPointer(U,L.components,s[Ie[L.type]],!1,this.itemSize,L.offset+this.itemSize*(x||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class ot{constructor(s){this.gl=s.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(s){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ht extends ot{getDefault(){return i.bq.transparent}set(s){const h=this.current;(s.r!==h.r||s.g!==h.g||s.b!==h.b||s.a!==h.a||this.dirty)&&(this.gl.clearColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Wt extends ot{getDefault(){return 1}set(s){(s!==this.current||this.dirty)&&(this.gl.clearDepth(s),this.current=s,this.dirty=!1)}}class Fn extends ot{getDefault(){return 0}set(s){(s!==this.current||this.dirty)&&(this.gl.clearStencil(s),this.current=s,this.dirty=!1)}}class pr extends ot{getDefault(){return[!0,!0,!0,!0]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||s[3]!==h[3]||this.dirty)&&(this.gl.colorMask(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class xr extends ot{getDefault(){return!0}set(s){(s!==this.current||this.dirty)&&(this.gl.depthMask(s),this.current=s,this.dirty=!1)}}class Dr extends ot{getDefault(){return 255}set(s){(s!==this.current||this.dirty)&&(this.gl.stencilMask(s),this.current=s,this.dirty=!1)}}class ga extends ot{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(s){const h=this.current;(s.func!==h.func||s.ref!==h.ref||s.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(s.func,s.ref,s.mask),this.current=s,this.dirty=!1)}}class yr extends ot{getDefault(){const s=this.gl;return[s.KEEP,s.KEEP,s.KEEP]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(s[0],s[1],s[2]),this.current=s,this.dirty=!1)}}class oi extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=s,this.dirty=!1}}class to extends ot{getDefault(){return[0,1]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||this.dirty)&&(this.gl.depthRange(s[0],s[1]),this.current=s,this.dirty=!1)}}class Ka extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=s,this.dirty=!1}}class vs extends ot{getDefault(){return this.gl.LESS}set(s){(s!==this.current||this.dirty)&&(this.gl.depthFunc(s),this.current=s,this.dirty=!1)}}class wo extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.BLEND):h.disable(h.BLEND),this.current=s,this.dirty=!1}}class wu extends ot{getDefault(){const s=this.gl;return[s.ONE,s.ZERO]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(s[0],s[1]),this.current=s,this.dirty=!1)}}class eu extends ot{getDefault(){return i.bq.transparent}set(s){const h=this.current;(s.r!==h.r||s.g!==h.g||s.b!==h.b||s.a!==h.a||this.dirty)&&(this.gl.blendColor(s.r,s.g,s.b,s.a),this.current=s,this.dirty=!1)}}class Ls extends ot{getDefault(){return this.gl.FUNC_ADD}set(s){(s!==this.current||this.dirty)&&(this.gl.blendEquation(s),this.current=s,this.dirty=!1)}}class dc extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;s?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=s,this.dirty=!1}}class Su extends ot{getDefault(){return this.gl.BACK}set(s){(s!==this.current||this.dirty)&&(this.gl.cullFace(s),this.current=s,this.dirty=!1)}}class bs extends ot{getDefault(){return this.gl.CCW}set(s){(s!==this.current||this.dirty)&&(this.gl.frontFace(s),this.current=s,this.dirty=!1)}}class hf extends ot{getDefault(){return null}set(s){(s!==this.current||this.dirty)&&(this.gl.useProgram(s),this.current=s,this.dirty=!1)}}class fc extends ot{getDefault(){return this.gl.TEXTURE0}set(s){(s!==this.current||this.dirty)&&(this.gl.activeTexture(s),this.current=s,this.dirty=!1)}}class ca extends ot{getDefault(){const s=this.gl;return[0,0,s.drawingBufferWidth,s.drawingBufferHeight]}set(s){const h=this.current;(s[0]!==h[0]||s[1]!==h[1]||s[2]!==h[2]||s[3]!==h[3]||this.dirty)&&(this.gl.viewport(s[0],s[1],s[2],s[3]),this.current=s,this.dirty=!1)}}class rm extends ot{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,s),this.current=s,this.dirty=!1}}class Ps extends ot{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class qc extends ot{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindTexture(h.TEXTURE_2D,s),this.current=s,this.dirty=!1}}class nl extends ot{getDefault(){return null}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class yv extends ot{getDefault(){return null}set(s){const h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,s),this.current=s,this.dirty=!1}}class xg extends ot{getDefault(){return null}set(s){var h;if(s===this.current&&!this.dirty)return;const x=this.gl;Bo(x)?x.bindVertexArray(s):(h=x.getExtension("OES_vertex_array_object"))===null||h===void 0||h.bindVertexArrayOES(s),this.current=s,this.dirty=!1}}class pf extends ot{getDefault(){return 4}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,s),this.current=s,this.dirty=!1}}class ep extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s),this.current=s,this.dirty=!1}}class sh extends ot{getDefault(){return!1}set(s){if(s===this.current&&!this.dirty)return;const h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,s),this.current=s,this.dirty=!1}}class Yc extends ot{constructor(s,h){super(s),this.context=s,this.parent=h}getDefault(){return null}}class am extends Yc{setDirty(){this.dirty=!0}set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,s,0),this.current=s,this.dirty=!1}}class rl extends Yc{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}class mf extends Yc{set(s){if(s===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,s),this.current=s,this.dirty=!1}}const gf="Framebuffer is not complete";class zi{constructor(s,h,x,k,L){this.context=s,this.width=h,this.height=x;const U=s.gl,W=this.framebuffer=U.createFramebuffer();if(this.colorAttachment=new am(s,W),k)this.depthAttachment=L?new mf(s,W):new rl(s,W);else if(L)throw new Error("Stencil cannot be set without depth");if(U.checkFramebufferStatus(U.FRAMEBUFFER)!==U.FRAMEBUFFER_COMPLETE)throw new Error(gf)}destroy(){const s=this.context.gl,h=this.colorAttachment.get();if(h&&s.deleteTexture(h),this.depthAttachment){const x=this.depthAttachment.get();x&&s.deleteRenderbuffer(x)}s.deleteFramebuffer(this.framebuffer)}}class no{constructor(s){var h,x;if(this.gl=s,this.clearColor=new Ht(this),this.clearDepth=new Wt(this),this.clearStencil=new Fn(this),this.colorMask=new pr(this),this.depthMask=new xr(this),this.stencilMask=new Dr(this),this.stencilFunc=new ga(this),this.stencilOp=new yr(this),this.stencilTest=new oi(this),this.depthRange=new to(this),this.depthTest=new Ka(this),this.depthFunc=new vs(this),this.blend=new wo(this),this.blendFunc=new wu(this),this.blendColor=new eu(this),this.blendEquation=new Ls(this),this.cullFace=new dc(this),this.cullFaceSide=new Su(this),this.frontFace=new bs(this),this.program=new hf(this),this.activeTexture=new fc(this),this.viewport=new ca(this),this.bindFramebuffer=new rm(this),this.bindRenderbuffer=new Ps(this),this.bindTexture=new qc(this),this.bindVertexBuffer=new nl(this),this.bindElementBuffer=new yv(this),this.bindVertexArray=new xg(this),this.pixelStoreUnpack=new pf(this),this.pixelStoreUnpackPremultiplyAlpha=new ep(this),this.pixelStoreUnpackFlipY=new sh(this),this.extTextureFilterAnisotropic=s.getExtension("EXT_texture_filter_anisotropic")||s.getExtension("MOZ_EXT_texture_filter_anisotropic")||s.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=s.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),Bo(s)){this.HALF_FLOAT=s.HALF_FLOAT;const k=s.getExtension("EXT_color_buffer_half_float");this.RGBA16F=(h=s.RGBA16F)!==null&&h!==void 0?h:k?.RGBA16F_EXT,this.RGB16F=(x=s.RGB16F)!==null&&x!==void 0?x:k?.RGB16F_EXT,s.getExtension("EXT_color_buffer_float")}else{s.getExtension("EXT_color_buffer_half_float"),s.getExtension("OES_texture_half_float_linear");const k=s.getExtension("OES_texture_half_float");this.HALF_FLOAT=k?.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(s,h){return new me(this,s,h)}createVertexBuffer(s,h,x){return new Ue(this,s,h,x)}createRenderbuffer(s,h,x){const k=this.gl,L=k.createRenderbuffer();return this.bindRenderbuffer.set(L),k.renderbufferStorage(k.RENDERBUFFER,s,h,x),this.bindRenderbuffer.set(null),L}createFramebuffer(s,h,x,k){return new zi(this,s,h,x,k)}clear({color:s,depth:h,stencil:x}){const k=this.gl;let L=0;s&&(L|=k.COLOR_BUFFER_BIT,this.clearColor.set(s),this.colorMask.set([!0,!0,!0,!0])),h!==void 0&&(L|=k.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(h),this.depthMask.set(!0)),x!==void 0&&(L|=k.STENCIL_BUFFER_BIT,this.clearStencil.set(x),this.stencilMask.set(255)),k.clear(L)}setCullFace(s){s.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(s.mode),this.frontFace.set(s.frontFace))}setDepthMode(s){s.func!==this.gl.ALWAYS||s.mask?(this.depthTest.set(!0),this.depthFunc.set(s.func),this.depthMask.set(s.mask),this.depthRange.set(s.range)):this.depthTest.set(!1)}setStencilMode(s){s.test.func!==this.gl.ALWAYS||s.mask?(this.stencilTest.set(!0),this.stencilMask.set(s.mask),this.stencilOp.set([s.fail,s.depthFail,s.pass]),this.stencilFunc.set({func:s.test.func,ref:s.ref,mask:s.test.mask})):this.stencilTest.set(!1)}setColorMode(s){i.bS(s.blendFunction,ia.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(s.blendFunction),this.blendColor.set(s.blendColor)),this.colorMask.set(s.mask)}createVertexArray(){var s;return Bo(this.gl)?this.gl.createVertexArray():(s=this.gl.getExtension("OES_vertex_array_object"))===null||s===void 0?void 0:s.createVertexArrayOES()}deleteVertexArray(s){var h;return Bo(this.gl)?this.gl.deleteVertexArray(s):(h=this.gl.getExtension("OES_vertex_array_object"))===null||h===void 0?void 0:h.deleteVertexArrayOES(s)}unbindVAO(){this.bindVertexArray.set(null)}}let _s;function xs(O,s,h,x,k){const L=O.context,U=O.transform,W=L.gl,ee=O.useProgram("collisionBox"),ce=[];let fe=0,Ce=0;for(let lt=0;lt<x.length;lt++){const pt=x[lt],Tt=s.getTile(pt).getBucket(h);if(!Tt)continue;const gt=k?Tt.textCollisionBox:Tt.iconCollisionBox,At=Tt.collisionCircleArray;At.length>0&&(ce.push({circleArray:At,circleOffset:Ce,coord:pt}),fe+=At.length/4,Ce=fe),gt&&ee.draw(L,W.LINES,Zr.disabled,ea.disabled,O.colorModeForRenderPass(),Gr.disabled,Hc(O.transform),O.style.map.terrain&&O.style.map.terrain.getTerrainData(pt),U.getProjectionData({overscaledTileID:pt,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),h.id,gt.layoutVertexBuffer,gt.indexBuffer,gt.segments,null,O.transform.zoom,null,null,gt.collisionVertexBuffer)}if(!k||!ce.length)return;const Ee=O.useProgram("collisionCircle"),Le=new i.cb;Le.resize(4*fe),Le._trim();let ze=0;for(const lt of ce)for(let pt=0;pt<lt.circleArray.length/4;pt++){const Tt=4*pt,gt=lt.circleArray[Tt+0],At=lt.circleArray[Tt+1],Rt=lt.circleArray[Tt+2],bt=lt.circleArray[Tt+3];Le.emplace(ze++,gt,At,Rt,bt,0),Le.emplace(ze++,gt,At,Rt,bt,1),Le.emplace(ze++,gt,At,Rt,bt,2),Le.emplace(ze++,gt,At,Rt,bt,3)}(!_s||_s.length<2*fe)&&(_s=(function(lt){const pt=2*lt,Tt=new i.cd;Tt.resize(pt),Tt._trim();for(let gt=0;gt<pt;gt++){const At=6*gt;Tt.uint16[At+0]=4*gt+0,Tt.uint16[At+1]=4*gt+1,Tt.uint16[At+2]=4*gt+2,Tt.uint16[At+3]=4*gt+2,Tt.uint16[At+4]=4*gt+3,Tt.uint16[At+5]=4*gt+0}return Tt})(fe));const it=L.createIndexBuffer(_s,!0),ct=L.createVertexBuffer(Le,i.cc.members,!0);for(const lt of ce){const pt=Vc(O.transform);Ee.draw(L,W.TRIANGLES,Zr.disabled,ea.disabled,O.colorModeForRenderPass(),Gr.disabled,pt,O.style.map.terrain&&O.style.map.terrain.getTerrainData(lt.coord),null,h.id,ct,it,i.aY.simpleSegment(0,2*lt.circleOffset,lt.circleArray.length,lt.circleArray.length/2),null,O.transform.zoom,null,null,null)}ct.destroy(),it.destroy()}const hc=i.as(new Float32Array(16));function Wc(O,s,h,x,k,L){const{horizontalAlign:U,verticalAlign:W}=i.aT(O);return new i.P((-(U-.5)*s/k+x[0])*L,(-(W-.5)*h/k+x[1])*L)}function al(O,s,h,x,k,L){const U=s.tileAnchorPoint.add(new i.P(s.translation[0],s.translation[1]));if(s.pitchWithMap){let W=x.mult(L);h||(W=W.rotate(-k));const ee=U.add(W);return ft(ee.x,ee.y,s.pitchedLabelPlaneMatrix,s.getElevation).point}if(h){const W=_r(s.tileAnchorPoint.x+1,s.tileAnchorPoint.y,s).point.sub(O),ee=Math.atan(W.y/W.x)+(W.x<0?Math.PI:0);return O.add(x.rotate(ee))}return O.add(x)}function tu(O,s,h,x,k,L,U,W,ee,ce,fe,Ce){const Ee=O.text.placedSymbolArray,Le=O.text.dynamicLayoutVertexArray,ze=O.icon.dynamicLayoutVertexArray,it={};Le.clear();for(let ct=0;ct<Ee.length;ct++){const lt=Ee.get(ct),pt=lt.hidden||!lt.crossTileID||O.allowVerticalPlacement&&!lt.placedOrientation?null:x[lt.crossTileID];if(pt){const Tt=new i.P(lt.anchorX,lt.anchorY),gt={getElevation:Ce,width:k.width,height:k.height,pitchedLabelPlaneMatrix:L,pitchWithMap:h,transform:k,tileAnchorPoint:Tt,translation:ce,unwrappedTileID:fe},At=h?Ur(Tt.x,Tt.y,gt):_r(Tt.x,Tt.y,gt),Rt=Ke(k.cameraToCenterDistance,At.signedDistanceFromCamera);let bt=i.aB(O.textSizeData,W,lt)*Rt/i.aN;h&&(bt*=O.tilePixelRatio/U);const{width:jt,height:Qt,anchor:Jt,textOffset:nn,textBoxScale:an}=pt,On=Wc(Jt,jt,Qt,nn,an,bt),Zn=k.getPitchedTextCorrection(Tt.x+ce[0],Tt.y+ce[1],fe),Nn=al(At.point,gt,s,On,-k.bearingInRadians,Zn),wr=O.allowVerticalPlacement&&lt.placedOrientation===i.aA.vertical?Math.PI/2:0;for(let oa=0;oa<lt.numGlyphs;oa++)i.aH(Le,Nn,wr);ee&&lt.associatedIconIndex>=0&&(it[lt.associatedIconIndex]={shiftedAnchor:Nn,angle:wr})}else Za(lt.numGlyphs,Le)}if(ee){ze.clear();const ct=O.icon.placedSymbolArray;for(let lt=0;lt<ct.length;lt++){const pt=ct.get(lt);if(pt.hidden)Za(pt.numGlyphs,ze);else{const Tt=it[lt];if(Tt)for(let gt=0;gt<pt.numGlyphs;gt++)i.aH(ze,Tt.shiftedAnchor,Tt.angle);else Za(pt.numGlyphs,ze)}}O.icon.dynamicLayoutVertexBuffer.updateData(ze)}O.text.dynamicLayoutVertexBuffer.updateData(Le)}function im(O,s,h){return h.iconsInText&&s?"symbolTextAndIcon":O?"symbolSDF":"symbolIcon"}function Tu(O,s,h,x,k,L,U,W,ee,ce,fe,Ce,Ee){const Le=O.context,ze=Le.gl,it=O.transform,ct=W==="map",lt=ee==="map",pt=W!=="viewport"&&h.layout.get("symbol-placement")!=="point",Tt=ct&&!lt&&!pt,gt=!h.layout.get("symbol-sort-key").isConstant();let At=!1;const Rt=O.getDepthModeForSublayer(0,Zr.ReadOnly),bt=h._unevaluatedLayout.hasValue("text-variable-anchor")||h._unevaluatedLayout.hasValue("text-variable-anchor-offset"),jt=[],Qt=it.getCircleRadiusCorrection();for(const Jt of x){const nn=s.getTile(Jt),an=nn.getBucket(h);if(!an)continue;const On=k?an.text:an.icon;if(!On||!On.segments.get().length||!On.hasVisibleVertices)continue;const Zn=On.programConfigurations.get(h.id),Nn=k||an.sdfIcons,wr=k?an.textSizeData:an.iconSizeData,oa=lt||it.pitch!==0,Qa=O.useProgram(im(Nn,k,an),Zn),ci=i.az(wr,it.zoom),Ja=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Jt);let Sa,Ta,Uo,Ti,ro=[0,0],vi=null;if(k)Ta=nn.glyphAtlasTexture,Uo=ze.LINEAR,Sa=nn.glyphAtlasTexture.size,an.iconsInText&&(ro=nn.imageAtlasTexture.size,vi=nn.imageAtlasTexture,Ti=oa||O.options.rotating||O.options.zooming||wr.kind==="composite"||wr.kind==="camera"?ze.LINEAR:ze.NEAREST);else{const Ci=h.layout.get("icon-size").constantOr(0)!==1||an.iconsNeedLinear;Ta=nn.imageAtlasTexture,Uo=Nn||O.options.rotating||O.options.zooming||Ci||oa?ze.LINEAR:ze.NEAREST,Sa=nn.imageAtlasTexture.size}const Zi=i.aO(nn,1,O.transform.zoom),is=hr(ct,O.transform,Zi),$s=i.N();i.aC($s,is);const Lu=ra(lt,ct,O.transform,Zi),Fl=i.aP(it,nn,L,U),bc=it.getProjectionData({overscaledTileID:Jt,applyGlobeMatrix:!Ee,applyTerrainMatrix:!0}),Ag=bt&&an.hasTextData(),Cf=h.layout.get("icon-text-fit")!=="none"&&Ag&&an.hasIconData();if(pt){const Ci=O.style.map.terrain?(ul,xi)=>O.style.map.terrain.getElevation(Jt,ul,xi):null,Ho=h.layout.get("text-rotation-alignment")==="map";Xt(an,O,k,is,$s,lt,ce,Ho,Jt.toUnwrapped(),it.width,it.height,Fl,Ci)}const wl=k&&bt||Cf,ao=pt||wl?hc:lt?is:O.transform.clipSpaceToPixelsMatrix,Go=Nn&&h.paint.get(k?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Ao;Ao=Nn?an.iconsInText?p(wr.kind,ci,Tt,lt,pt,wl,O,ao,Lu,Fl,Sa,ro,Qt):R(wr.kind,ci,Tt,lt,pt,wl,O,ao,Lu,Fl,k,Sa,0,Qt):tl(wr.kind,ci,Tt,lt,pt,wl,O,ao,Lu,Fl,k,Sa,Qt);const Sl={program:Qa,buffers:On,uniformValues:Ao,projectionData:bc,atlasTexture:Ta,atlasTextureIcon:vi,atlasInterpolation:Uo,atlasInterpolationIcon:Ti,isSDF:Nn,hasHalo:Go};if(gt&&an.canOverlap){At=!0;const Ci=On.segments.get();for(const Ho of Ci)jt.push({segments:new i.aY([Ho]),sortKey:Ho.sortKey,state:Sl,terrainData:Ja})}else jt.push({segments:On.segments,sortKey:0,state:Sl,terrainData:Ja})}At&&jt.sort(((Jt,nn)=>Jt.sortKey-nn.sortKey));for(const Jt of jt){const nn=Jt.state;if(Le.activeTexture.set(ze.TEXTURE0),nn.atlasTexture.bind(nn.atlasInterpolation,ze.CLAMP_TO_EDGE),nn.atlasTextureIcon&&(Le.activeTexture.set(ze.TEXTURE1),nn.atlasTextureIcon&&nn.atlasTextureIcon.bind(nn.atlasInterpolationIcon,ze.CLAMP_TO_EDGE)),nn.isSDF){const an=nn.uniformValues;nn.hasHalo&&(an.u_is_halo=1,Zc(nn.buffers,Jt.segments,h,O,nn.program,Rt,fe,Ce,an,nn.projectionData,Jt.terrainData)),an.u_is_halo=0}Zc(nn.buffers,Jt.segments,h,O,nn.program,Rt,fe,Ce,nn.uniformValues,nn.projectionData,Jt.terrainData)}}function Zc(O,s,h,x,k,L,U,W,ee,ce,fe){const Ce=x.context;k.draw(Ce,Ce.gl.TRIANGLES,L,U,W,Gr.backCCW,ee,fe,ce,h.id,O.layoutVertexBuffer,O.indexBuffer,s,h.paint,x.transform.zoom,O.programConfigurations.get(h.id),O.dynamicLayoutVertexBuffer,O.opacityVertexBuffer)}function lh(O,s,h,x,k){const L=O.context,U=L.gl,W=ea.disabled,ee=new ia([U.ONE,U.ONE],i.bq.transparent,[!0,!0,!0,!0]),ce=s.getBucket(h);if(!ce)return;const fe=x.key;let Ce=h.heatmapFbos.get(fe);Ce||(Ce=Ya(L,s.tileSize,s.tileSize),h.heatmapFbos.set(fe,Ce)),L.bindFramebuffer.set(Ce.framebuffer),L.viewport.set([0,0,s.tileSize,s.tileSize]),L.clear({color:i.bq.transparent});const Ee=ce.programConfigurations.get(h.id),Le=O.useProgram("heatmap",Ee,!k),ze=O.transform.getProjectionData({overscaledTileID:s.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),it=O.style.map.terrain.getTerrainData(x);Le.draw(L,U.TRIANGLES,Zr.disabled,W,ee,Gr.disabled,sc(s,O.transform.zoom,h.paint.get("heatmap-intensity"),1),it,ze,h.id,ce.layoutVertexBuffer,ce.indexBuffer,ce.segments,h.paint,O.transform.zoom,Ee)}function So(O,s,h,x,k){const L=O.context,U=L.gl,W=O.transform;L.setColorMode(O.colorModeForRenderPass());const ee=ka(L,s),ce=h.key,fe=s.heatmapFbos.get(ce);if(!fe)return;L.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,fe.colorAttachment.get()),L.activeTexture.set(U.TEXTURE1),ee.bind(U.LINEAR,U.CLAMP_TO_EDGE);const Ce=W.getProjectionData({overscaledTileID:h,applyTerrainMatrix:k,applyGlobeMatrix:!x});O.useProgram("heatmapTexture").draw(L,U.TRIANGLES,Zr.disabled,ea.disabled,O.colorModeForRenderPass(),Gr.disabled,ff(O,s,0,1),null,Ce,s.id,O.rasterBoundsBuffer,O.quadTriangleIndexBuffer,O.rasterBoundsSegments,s.paint,W.zoom),fe.destroy(),s.heatmapFbos.delete(ce)}function Ya(O,s,h){var x,k;const L=O.gl,U=L.createTexture();L.bindTexture(L.TEXTURE_2D,U),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_S,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_WRAP_T,L.CLAMP_TO_EDGE),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MIN_FILTER,L.LINEAR),L.texParameteri(L.TEXTURE_2D,L.TEXTURE_MAG_FILTER,L.LINEAR);const W=(x=O.HALF_FLOAT)!==null&&x!==void 0?x:L.UNSIGNED_BYTE,ee=(k=O.RGBA16F)!==null&&k!==void 0?k:L.RGBA;L.texImage2D(L.TEXTURE_2D,0,ee,s,h,0,L.RGBA,W,null);const ce=O.createFramebuffer(s,h,!1,!1);return ce.colorAttachment.set(U),ce}function ka(O,s){return s.colorRampTexture||(s.colorRampTexture=new i.T(O,s.colorRamp,O.gl.RGBA)),s.colorRampTexture}function Rd(O,s,h,x,k,L,U,W){let ee=256;if(k.stepInterpolant){const ce=s.getSource().maxzoom,fe=U.canonical.z===ce?Math.ceil(1<<O.transform.maxZoom-U.canonical.z):1;ee=i.ao(i.cf(L.maxLineLength/i.a5*1024*fe),256,h.maxTextureSize)}return W.gradient=i.cg({expression:k.gradientExpression(),evaluationKey:"lineProgress",resolution:ee,image:W.gradient||void 0,clips:L.lineClipsArray}),W.texture?W.texture.update(W.gradient):W.texture=new i.T(h,W.gradient,x.RGBA),W.version=k.gradientVersion,W.texture}function nu(O,s,h,x,k){O.activeTexture.set(s.TEXTURE0),h.imageAtlasTexture.bind(s.LINEAR,s.CLAMP_TO_EDGE),x.updatePaintBuffers(k)}function qi(O,s,h,x,k,L){(k||O.lineAtlas.dirty)&&(s.activeTexture.set(h.TEXTURE0),O.lineAtlas.bind(s)),x.updatePaintBuffers(L)}function Ll(O,s,h,x,k,L,U){const W=L.gradients[k.id];let ee=W.texture;k.gradientVersion!==W.version&&(ee=Rd(O,s,h,x,k,L,U,W)),h.activeTexture.set(x.TEXTURE0),ee.bind(k.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE)}function il(O,s,h,x,k,L,U,W,ee){const ce=L.gradients[k.id];let fe=ce.texture;k.gradientVersion!==ce.version&&(fe=Rd(O,s,h,x,k,L,U,ce)),h.activeTexture.set(x.TEXTURE0),fe.bind(k.stepInterpolant?x.NEAREST:x.LINEAR,x.CLAMP_TO_EDGE),h.activeTexture.set(x.TEXTURE1),O.lineAtlas.bind(h),W.updatePaintBuffers(ee)}function Md(O,s,h,x,k){if(!h||!x||!x.imageAtlas)return;const L=x.imageAtlas.patternPositions;let U=L[h.to.toString()],W=L[h.from.toString()];if(!U&&W&&(U=W),!W&&U&&(W=U),!U||!W){const ee=k.getPaintProperty(s);U=L[ee],W=L[ee]}U&&W&&O.setConstantPatternPositions(U,W)}function pc(O,s,h,x,k,L,U,W){const ee=O.context.gl,ce="fill-pattern",fe=h.paint.get(ce),Ce=fe&&fe.constantOr(1),Ee=h.getCrossfadeParameters();let Le,ze,it,ct,lt;const pt=O.transform,Tt=h.paint.get("fill-translate"),gt=h.paint.get("fill-translate-anchor");U?(ze=Ce&&!h.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Le=ee.LINES):(ze=Ce?"fillPattern":"fill",Le=ee.TRIANGLES);const At=fe.constantOr(null);for(const Rt of x){const bt=s.getTile(Rt);if(Ce&&!bt.patternsLoaded())continue;const jt=bt.getBucket(h);if(!jt)continue;const Qt=jt.programConfigurations.get(h.id),Jt=O.useProgram(ze,Qt),nn=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Rt);Ce&&(O.context.activeTexture.set(ee.TEXTURE0),bt.imageAtlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),Qt.updatePaintBuffers(Ee)),Md(Qt,ce,At,bt,h);const an=pt.getProjectionData({overscaledTileID:Rt,applyGlobeMatrix:!W,applyTerrainMatrix:!0}),On=i.aP(pt,bt,Tt,gt);if(U){ct=jt.indexBuffer2,lt=jt.segments2;const Nn=[ee.drawingBufferWidth,ee.drawingBufferHeight];it=ze==="fillOutlinePattern"&&Ce?_g(O,Ee,bt,Nn,On):df(Nn,On)}else ct=jt.indexBuffer,lt=jt.segments,it=Ce?Id(O,Ee,bt,On):{u_fill_translate:On};const Zn=O.stencilModeForClipping(Rt);Jt.draw(O.context,Le,k,Zn,L,Gr.backCCW,it,nn,an,h.id,jt.layoutVertexBuffer,ct,lt,h.paint,O.transform.zoom,Qt)}}function Je(O,s,h,x,k,L,U,W){const ee=O.context,ce=ee.gl,fe="fill-extrusion-pattern",Ce=h.paint.get(fe),Ee=Ce.constantOr(1),Le=h.getCrossfadeParameters(),ze=h.paint.get("fill-extrusion-opacity"),it=Ce.constantOr(null),ct=O.transform;for(const lt of x){const pt=s.getTile(lt),Tt=pt.getBucket(h);if(!Tt)continue;const gt=O.style.map.terrain&&O.style.map.terrain.getTerrainData(lt),At=Tt.programConfigurations.get(h.id),Rt=O.useProgram(Ee?"fillExtrusionPattern":"fillExtrusion",At);Ee&&(O.context.activeTexture.set(ce.TEXTURE0),pt.imageAtlasTexture.bind(ce.LINEAR,ce.CLAMP_TO_EDGE),At.updatePaintBuffers(Le));const bt=ct.getProjectionData({overscaledTileID:lt,applyGlobeMatrix:!W,applyTerrainMatrix:!0});Md(At,fe,it,pt,h);const jt=i.aP(ct,pt,h.paint.get("fill-extrusion-translate"),h.paint.get("fill-extrusion-translate-anchor")),Qt=h.paint.get("fill-extrusion-vertical-gradient"),Jt=Ee?cf(O,Qt,ze,jt,lt,Le,pt):eh(O,Qt,ze,jt);Rt.draw(ee,ee.gl.TRIANGLES,k,L,U,Gr.backCCW,Jt,gt,bt,h.id,Tt.layoutVertexBuffer,Tt.indexBuffer,Tt.segments,h.paint,O.transform.zoom,At,O.style.map.terrain&&Tt.centroidVertexBuffer)}}function vl(O,s,h,x,k,L,U,W,ee){var ce;const fe=O.style.projection,Ce=O.context,Ee=O.transform,Le=Ce.gl,ze=[`#define NUM_ILLUMINATION_SOURCES ${h.paint.get("hillshade-highlight-color").values.length}`],it=O.useProgram("hillshade",null,!1,ze),ct=!O.options.moving;for(const lt of x){const pt=s.getTile(lt),Tt=pt.fbo;if(!Tt)continue;const gt=fe.getMeshFromTileID(Ce,lt.canonical,W,!0,"raster"),At=(ce=O.style.map.terrain)===null||ce===void 0?void 0:ce.getTerrainData(lt);Ce.activeTexture.set(Le.TEXTURE0),Le.bindTexture(Le.TEXTURE_2D,Tt.colorAttachment.get());const Rt=Ee.getProjectionData({overscaledTileID:lt,aligned:ct,applyGlobeMatrix:!ee,applyTerrainMatrix:!0});it.draw(Ce,Le.TRIANGLES,L,k[lt.overscaledZ],U,Gr.backCCW,Nd(O,pt,h),At,Rt,h.id,gt.vertexBuffer,gt.indexBuffer,gt.segments)}}function Cu(O,s,h,x,k,L,U,W,ee){var ce;const fe=O.style.projection,Ce=O.context,Ee=O.transform,Le=Ce.gl,ze=O.useProgram("colorRelief"),it=!O.options.moving;let ct=!0,lt=0;for(const pt of x){const Tt=s.getTile(pt),gt=Tt.dem;if(ct){const Jt=Le.getParameter(Le.MAX_TEXTURE_SIZE),{elevationTexture:nn,colorTexture:an}=h.getColorRampTextures(Ce,Jt,gt.getUnpackVector());Ce.activeTexture.set(Le.TEXTURE1),nn.bind(Le.NEAREST,Le.CLAMP_TO_EDGE),Ce.activeTexture.set(Le.TEXTURE4),an.bind(Le.LINEAR,Le.CLAMP_TO_EDGE),ct=!1,lt=nn.size[0]}if(!gt||!gt.data)continue;const At=gt.stride,Rt=gt.getPixels();if(Ce.activeTexture.set(Le.TEXTURE0),Ce.pixelStoreUnpackPremultiplyAlpha.set(!1),Tt.demTexture=Tt.demTexture||O.getTileTexture(At),Tt.demTexture){const Jt=Tt.demTexture;Jt.update(Rt,{premultiply:!1}),Jt.bind(Le.LINEAR,Le.CLAMP_TO_EDGE)}else Tt.demTexture=new i.T(Ce,Rt,Le.RGBA,{premultiply:!1}),Tt.demTexture.bind(Le.LINEAR,Le.CLAMP_TO_EDGE);const bt=fe.getMeshFromTileID(Ce,pt.canonical,W,!0,"raster"),jt=(ce=O.style.map.terrain)===null||ce===void 0?void 0:ce.getTerrainData(pt),Qt=Ee.getProjectionData({overscaledTileID:pt,aligned:it,applyGlobeMatrix:!ee,applyTerrainMatrix:!0});ze.draw(Ce,Le.TRIANGLES,L,k[pt.overscaledZ],U,Gr.backCCW,Jh(h,Tt.dem,lt),jt,Qt,h.id,bt.vertexBuffer,bt.indexBuffer,bt.segments)}}const zo=[new i.P(0,0),new i.P(i.a5,0),new i.P(i.a5,i.a5),new i.P(0,i.a5)];function fa(O,s,h,x,k,L,U,W,ee=!1,ce=!1){const fe=x[x.length-1].overscaledZ,Ce=O.context,Ee=Ce.gl,Le=O.useProgram("raster"),ze=O.transform,it=O.style.projection,ct=O.colorModeForRenderPass(),lt=!O.options.moving,pt=h.paint.get("raster-opacity"),Tt=h.paint.get("raster-resampling"),gt=h.paint.get("raster-fade-duration"),At=!!O.style.map.terrain;for(const Rt of x){const bt=O.getDepthModeForSublayer(Rt.overscaledZ-fe,pt===1?Zr.ReadWrite:Zr.ReadOnly,Ee.LESS),jt=s.getTile(Rt),Qt=Tt==="nearest"?Ee.NEAREST:Ee.LINEAR;Ce.activeTexture.set(Ee.TEXTURE0),jt.texture.bind(Qt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST),Ce.activeTexture.set(Ee.TEXTURE1);const{parentTile:Jt,parentScaleBy:nn,parentTopLeft:an,fadeValues:On}=Xc(jt,s,gt,At);jt.fadeOpacity=On.tileOpacity,Jt?(Jt.fadeOpacity=On.parentTileOpacity,Jt.texture.bind(Qt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST)):jt.texture.bind(Qt,Ee.CLAMP_TO_EDGE,Ee.LINEAR_MIPMAP_NEAREST),jt.texture.useMipmap&&Ce.extTextureFilterAnisotropic&&O.transform.pitch>20&&Ee.texParameterf(Ee.TEXTURE_2D,Ce.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,Ce.extTextureFilterAnisotropicMax);const Zn=O.style.map.terrain&&O.style.map.terrain.getTerrainData(Rt),Nn=ze.getProjectionData({overscaledTileID:Rt,aligned:lt,applyGlobeMatrix:!ce,applyTerrainMatrix:!0}),wr=oh(an,nn,On.fadeMix,h,W),oa=it.getMeshFromTileID(Ce,Rt.canonical,L,U,"raster");Le.draw(Ce,Ee.TRIANGLES,bt,k?k[Rt.overscaledZ]:ea.disabled,ct,ee?Gr.frontCCW:Gr.backCCW,wr,Zn,Nn,h.id,oa.vertexBuffer,oa.indexBuffer,oa.segments)}}function Xc(O,s,h,x){const k={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(h===0||x)return k;if(O.fadingParentID){const L=s.getLoadedTile(O.fadingParentID);if(!L)return k;const U=Math.pow(2,L.tileID.overscaledZ-O.tileID.overscaledZ),W=[O.tileID.canonical.x*U%1,O.tileID.canonical.y*U%1],ee=(function(ce,fe,Ce){const Ee=G(),Le=(Ee-fe.timeAdded)/Ce,ze=ce.fadingDirection===Ct.Incoming,it=i.ao((Ee-ce.timeAdded)/Ce,0,1),ct=i.ao(1-Le,0,1),lt=ze?it:ct;return{tileOpacity:lt,parentTileOpacity:ze?ct:it,fadeMix:{opacity:1,mix:1-lt}}})(O,L,h);return{parentTile:L,parentScaleBy:U,parentTopLeft:W,fadeValues:ee}}if(O.selfFading){const L=(function(U,W){const ee=(G()-U.timeAdded)/W,ce=i.ao(ee,0,1);return{tileOpacity:ce,fadeMix:{opacity:ce,mix:0}}})(O,h);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:L}}return k}const Od=new i.bq(1,0,0,1),Kc=new i.bq(0,1,0,1),Qc=new i.bq(0,0,1,1),Eg=new i.bq(1,0,1,1),Au=new i.bq(0,1,1,1);function tp(O,s,h,x){To(O,0,s+h/2,O.transform.width,h,x)}function Dd(O,s,h,x){To(O,s-h/2,0,h,O.transform.height,x)}function To(O,s,h,x,k,L){const U=O.context,W=U.gl;W.enable(W.SCISSOR_TEST),W.scissor(s*O.pixelRatio,h*O.pixelRatio,x*O.pixelRatio,k*O.pixelRatio),U.clear({color:L}),W.disable(W.SCISSOR_TEST)}function ru(O,s,h){const x=O.context,k=x.gl,L=O.useProgram("debug"),U=Zr.disabled,W=ea.disabled,ee=O.colorModeForRenderPass(),ce="$debug",fe=O.style.map.terrain&&O.style.map.terrain.getTerrainData(h);x.activeTexture.set(k.TEXTURE0);const Ce=s.getTileByID(h.key).latestRawTileData,Ee=Math.floor((Ce&&Ce.byteLength||0)/1024),Le=s.getTile(h).tileSize,ze=512/Math.min(Le,512)*(h.overscaledZ/O.transform.zoom)*.5;let it=h.canonical.toString();h.overscaledZ!==h.canonical.z&&(it+=` => ${h.overscaledZ}`),(function(lt,pt){lt.initDebugOverlayCanvas();const Tt=lt.debugOverlayCanvas,gt=lt.context.gl,At=lt.debugOverlayCanvas.getContext("2d");At.clearRect(0,0,Tt.width,Tt.height),At.shadowColor="white",At.shadowBlur=2,At.lineWidth=1.5,At.strokeStyle="white",At.textBaseline="top",At.font="bold 36px Open Sans, sans-serif",At.fillText(pt,5,5),At.strokeText(pt,5,5),lt.debugOverlayTexture.update(Tt),lt.debugOverlayTexture.bind(gt.LINEAR,gt.CLAMP_TO_EDGE)})(O,`${it} ${Ee}kB`);const ct=O.transform.getProjectionData({overscaledTileID:h,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(x,k.TRIANGLES,U,W,ia.alphaBlended,Gr.disabled,nh(i.bq.transparent,ze),null,ct,ce,O.debugBuffer,O.quadTriangleIndexBuffer,O.debugSegments),L.draw(x,k.LINE_STRIP,U,W,ee,Gr.disabled,nh(i.bq.red),fe,ct,ce,O.debugBuffer,O.tileBorderIndexBuffer,O.debugSegments)}function wg(O,s,h,x){const{isRenderingGlobe:k}=x,L=O.context,U=L.gl,W=O.transform,ee=O.colorModeForRenderPass(),ce=O.getDepthModeFor3D(),fe=O.useProgram("terrain");L.bindFramebuffer.set(null),L.viewport.set([0,0,O.width,O.height]);for(const Ce of h){const Ee=s.getTerrainMesh(Ce.tileID),Le=O.renderToTexture.getTexture(Ce),ze=s.getTerrainData(Ce.tileID);L.activeTexture.set(U.TEXTURE0),U.bindTexture(U.TEXTURE_2D,Le.texture);const it=s.getMeshFrameDelta(W.zoom),ct=W.calculateFogMatrix(Ce.tileID.toUnwrapped()),lt=bg(it,ct,O.style.sky,W.pitch,k),pt=W.getProjectionData({overscaledTileID:Ce.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});fe.draw(L,U.TRIANGLES,ce,ea.disabled,ee,Gr.backCCW,lt,ze,pt,"terrain",Ee.vertexBuffer,Ee.indexBuffer,Ee.segments)}}function Vy(O,s){if(!s.mesh){const h=new i.aX;h.emplaceBack(-1,-1),h.emplaceBack(1,-1),h.emplaceBack(1,1),h.emplaceBack(-1,1);const x=new i.aZ;x.emplaceBack(0,1,2),x.emplaceBack(0,2,3),s.mesh=new Va(O.createVertexBuffer(h,Ks.members),O.createIndexBuffer(x),i.aY.simpleSegment(0,0,h.length,x.length))}return s.mesh}class vv{constructor(s,h){this.context=new no(s),this.transform=h,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:i.as(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Jn.maxOverzooming+Jn.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new ji}resize(s,h,x){if(this.width=Math.floor(s*x),this.height=Math.floor(h*x),this.pixelRatio=x,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const k of this.style._order)this.style._layers[k].resize()}setup(){const s=this.context,h=new i.aX;h.emplaceBack(0,0),h.emplaceBack(i.a5,0),h.emplaceBack(0,i.a5),h.emplaceBack(i.a5,i.a5),this.tileExtentBuffer=s.createVertexBuffer(h,Ks.members),this.tileExtentSegments=i.aY.simpleSegment(0,0,4,2);const x=new i.aX;x.emplaceBack(0,0),x.emplaceBack(i.a5,0),x.emplaceBack(0,i.a5),x.emplaceBack(i.a5,i.a5),this.debugBuffer=s.createVertexBuffer(x,Ks.members),this.debugSegments=i.aY.simpleSegment(0,0,4,5);const k=new i.ci;k.emplaceBack(0,0,0,0),k.emplaceBack(i.a5,0,i.a5,0),k.emplaceBack(0,i.a5,0,i.a5),k.emplaceBack(i.a5,i.a5,i.a5,i.a5),this.rasterBoundsBuffer=s.createVertexBuffer(k,Kh.members),this.rasterBoundsSegments=i.aY.simpleSegment(0,0,4,2);const L=new i.aX;L.emplaceBack(0,0),L.emplaceBack(i.a5,0),L.emplaceBack(0,i.a5),L.emplaceBack(i.a5,i.a5),this.rasterBoundsBufferPosOnly=s.createVertexBuffer(L,Ks.members),this.rasterBoundsSegmentsPosOnly=i.aY.simpleSegment(0,0,4,5);const U=new i.aX;U.emplaceBack(0,0),U.emplaceBack(1,0),U.emplaceBack(0,1),U.emplaceBack(1,1),this.viewportBuffer=s.createVertexBuffer(U,Ks.members),this.viewportSegments=i.aY.simpleSegment(0,0,4,2);const W=new i.cj;W.emplaceBack(0),W.emplaceBack(1),W.emplaceBack(3),W.emplaceBack(2),W.emplaceBack(0),this.tileBorderIndexBuffer=s.createIndexBuffer(W);const ee=new i.aZ;ee.emplaceBack(1,0,2),ee.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=s.createIndexBuffer(ee);const ce=this.context.gl;this.stencilClearMode=new ea({func:ce.ALWAYS,mask:0},0,255,ce.ZERO,ce.ZERO,ce.ZERO),this.tileExtentMesh=new Va(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const s=this.context,h=s.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const x=i.N();i.c8(x,0,this.width,this.height,0,0,1),i.Q(x,x,[h.drawingBufferWidth,h.drawingBufferHeight,0]);const k={mainMatrix:x,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:x};this.useProgram("clippingMask",null,!0).draw(s,h.TRIANGLES,Zr.disabled,this.stencilClearMode,ia.disabled,Gr.disabled,null,null,k,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(s,h,x){if(this.currentStencilSource===s.source||!s.isTileClipped()||!h||!h.length)return;this.currentStencilSource=s.source,this.nextStencilID+h.length>256&&this.clearStencil();const k=this.context;k.setColorMode(ia.disabled),k.setDepthMode(Zr.disabled);const L={};for(const U of h)L[U.key]=this.nextStencilID++;this._renderTileMasks(L,h,x,!0),this._renderTileMasks(L,h,x,!1),this._tileClippingMaskIDs=L}_renderTileMasks(s,h,x,k){const L=this.context,U=L.gl,W=this.style.projection,ee=this.transform,ce=this.useProgram("clippingMask");for(const fe of h){const Ce=s[fe.key],Ee=this.style.map.terrain&&this.style.map.terrain.getTerrainData(fe),Le=W.getMeshFromTileID(this.context,fe.canonical,k,!0,"stencil"),ze=ee.getProjectionData({overscaledTileID:fe,applyGlobeMatrix:!x,applyTerrainMatrix:!0});ce.draw(L,U.TRIANGLES,Zr.disabled,new ea({func:U.ALWAYS,mask:0},Ce,255,U.KEEP,U.KEEP,U.REPLACE),ia.disabled,x?Gr.disabled:Gr.backCCW,null,Ee,ze,"$clipping",Le.vertexBuffer,Le.indexBuffer,Le.segments)}}_renderTilesDepthBuffer(){const s=this.context,h=s.gl,x=this.style.projection,k=this.transform,L=this.useProgram("depth"),U=this.getDepthModeFor3D(),W=Ir(k,{tileSize:k.tileSize});for(const ee of W){const ce=this.style.map.terrain&&this.style.map.terrain.getTerrainData(ee),fe=x.getMeshFromTileID(this.context,ee.canonical,!0,!0,"raster"),Ce=k.getProjectionData({overscaledTileID:ee,applyGlobeMatrix:!0,applyTerrainMatrix:!0});L.draw(s,h.TRIANGLES,U,ea.disabled,ia.disabled,Gr.backCCW,null,ce,Ce,"$clipping",fe.vertexBuffer,fe.indexBuffer,fe.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const s=this.nextStencilID++,h=this.context.gl;return new ea({func:h.NOTEQUAL,mask:255},s,255,h.KEEP,h.KEEP,h.REPLACE)}stencilModeForClipping(s){const h=this.context.gl;return new ea({func:h.EQUAL,mask:255},this._tileClippingMaskIDs[s.key],0,h.KEEP,h.KEEP,h.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(s){const h=this.context.gl,x=s.sort(((U,W)=>W.overscaledZ-U.overscaledZ)),k=x[x.length-1].overscaledZ,L=x[0].overscaledZ-k+1;if(L>1){this.currentStencilSource=void 0,this.nextStencilID+L>256&&this.clearStencil();const U={};for(let W=0;W<L;W++)U[W+k]=new ea({func:h.GEQUAL,mask:255},W+this.nextStencilID,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID+=L,[U,x]}return[{[k]:ea.disabled},x]}stencilConfigForOverlapTwoPass(s){const h=this.context.gl,x=s.sort(((U,W)=>W.overscaledZ-U.overscaledZ)),k=x[x.length-1].overscaledZ,L=x[0].overscaledZ-k+1;if(this.clearStencil(),L>1){const U={},W={};for(let ee=0;ee<L;ee++)U[ee+k]=new ea({func:h.GREATER,mask:255},L+1+ee,255,h.KEEP,h.KEEP,h.REPLACE),W[ee+k]=new ea({func:h.GREATER,mask:255},1+ee,255,h.KEEP,h.KEEP,h.REPLACE);return this.nextStencilID=2*L+1,[U,W,x]}return this.nextStencilID=3,[{[k]:new ea({func:h.GREATER,mask:255},2,255,h.KEEP,h.KEEP,h.REPLACE)},{[k]:new ea({func:h.GREATER,mask:255},1,255,h.KEEP,h.KEEP,h.REPLACE)},x]}colorModeForRenderPass(){const s=this.context.gl;return this._showOverdrawInspector?new ia([s.CONSTANT_COLOR,s.ONE],new i.bq(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ia.unblended:ia.alphaBlended}getDepthModeForSublayer(s,h,x){if(!this.opaquePassEnabledForLayer())return Zr.disabled;const k=1-((1+this.currentLayer)*this.numSublayers+s)*this.depthEpsilon;return new Zr(x||this.context.gl.LEQUAL,h,[k,k])}getDepthModeFor3D(){return new Zr(this.context.gl.LEQUAL,Zr.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(s,h){var x,k;this.style=s,this.options=h,this.lineAtlas=s.lineAtlas,this.imageManager=s.imageManager,this.glyphManager=s.glyphManager,this.symbolFadeChange=s.placement.symbolFadeChange(G()),this.imageManager.beginFrame();const L=this.style._order,U=this.style.tileManagers,W={},ee={},ce={},fe={isRenderingToTexture:!1,isRenderingGlobe:((x=s.projection)===null||x===void 0?void 0:x.transitionState)>0};for(const Ee in U){const Le=U[Ee];Le.used&&Le.prepare(this.context),W[Ee]=Le.getVisibleCoordinates(!1),ee[Ee]=W[Ee].slice().reverse(),ce[Ee]=Le.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let Ee=0;Ee<L.length;Ee++)if(this.style._layers[L[Ee]].is3D()){this.opaquePassCutoff=Ee;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const Ee of L){const Le=this.style._layers[Ee];if(!Le.hasOffscreenPass()||Le.isHidden(this.transform.zoom))continue;const ze=ee[Le.source];(Le.type==="custom"||ze.length)&&this.renderLayer(this,U[Le.source],Le,ze,fe)}if((k=this.style.projection)===null||k===void 0||k.updateGPUdependent({context:this.context,useProgram:Ee=>this.useProgram(Ee)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:h.showOverdrawInspector?i.bq.black:i.bq.transparent,depth:1}),this.clearStencil(),this.style.sky&&(function(Ee,Le){const ze=Ee.context,it=ze.gl,ct=((Rt,bt,jt)=>{const Qt=Math.cos(bt.rollInRadians),Jt=Math.sin(bt.rollInRadians),nn=Xn(bt),an=bt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:Rt.properties.get("sky-color"),u_horizon_color:Rt.properties.get("horizon-color"),u_horizon:[(bt.width/2-nn*Jt)*jt,(bt.height/2+nn*Qt)*jt],u_horizon_normal:[-Jt,Qt],u_sky_horizon_blend:Rt.properties.get("sky-horizon-blend")*bt.height/2*jt,u_sky_blend:an}})(Le,Ee.style.map.transform,Ee.pixelRatio),lt=new Zr(it.LEQUAL,Zr.ReadWrite,[0,1]),pt=ea.disabled,Tt=Ee.colorModeForRenderPass(),gt=Ee.useProgram("sky"),At=Vy(ze,Le);gt.draw(ze,it.TRIANGLES,lt,pt,Tt,Gr.disabled,ct,null,void 0,"sky",At.vertexBuffer,At.indexBuffer,At.segments)})(this,this.style.sky),this._showOverdrawInspector=h.showOverdrawInspector,this.depthRangeFor3D=[0,1-(s._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){const Ee=this.style._layers[L[this.currentLayer]],Le=U[Ee.source],ze=W[Ee.source];this._renderTileClippingMasks(Ee,ze,!1),this.renderLayer(this,Le,Ee,ze,fe)}this.renderPass="translucent";let Ce=!1;for(this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){const Ee=this.style._layers[L[this.currentLayer]],Le=U[Ee.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(Ee,fe))continue;this.opaquePassEnabledForLayer()||Ce||(Ce=!0,fe.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const ze=(Ee.type==="symbol"?ce:ee)[Ee.source];this._renderTileClippingMasks(Ee,W[Ee.source],!!this.renderToTexture),this.renderLayer(this,Le,Ee,ze,fe)}if(fe.isRenderingGlobe&&(function(Ee,Le,ze){const it=Ee.context,ct=it.gl,lt=Ee.useProgram("atmosphere"),pt=new Zr(ct.LEQUAL,Zr.ReadOnly,[0,1]),Tt=Ee.transform,gt=(function(an,On){const Zn=an.properties.get("position"),Nn=[-Zn.x,-Zn.y,-Zn.z],wr=i.as(new Float64Array(16));return an.properties.get("anchor")==="map"&&(i.bh(wr,wr,On.rollInRadians),i.bi(wr,wr,-On.pitchInRadians),i.bh(wr,wr,On.bearingInRadians),i.bi(wr,wr,On.center.lat*Math.PI/180),i.bK(wr,wr,-On.center.lng*Math.PI/180)),i.ch(Nn,Nn,wr),Nn})(ze,Ee.transform),At=Tt.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),Rt=Le.properties.get("atmosphere-blend")*At.projectionTransition;if(Rt===0)return;const bt=gs(Tt.worldSize,Tt.center.lat),jt=Tt.inverseProjectionMatrix,Qt=new Float64Array(4);Qt[3]=1,i.aI(Qt,Qt,Tt.modelViewProjectionMatrix),Qt[0]/=Qt[3],Qt[1]/=Qt[3],Qt[2]/=Qt[3],Qt[3]=1,i.aI(Qt,Qt,jt),Qt[0]/=Qt[3],Qt[1]/=Qt[3],Qt[2]/=Qt[3],Qt[3]=1;const Jt=((an,On,Zn,Nn,wr)=>({u_sun_pos:an,u_atmosphere_blend:On,u_globe_position:Zn,u_globe_radius:Nn,u_inv_proj_matrix:wr}))(gt,Rt,[Qt[0],Qt[1],Qt[2]],bt,jt),nn=Vy(it,Le);lt.draw(it,ct.TRIANGLES,pt,ea.disabled,ia.alphaBlended,Gr.disabled,Jt,null,null,"atmosphere",nn.vertexBuffer,nn.indexBuffer,nn.segments)})(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const Ee=(function(Le,ze){let it=null;const ct=Object.values(Le._layers).flatMap((gt=>gt.source&&!gt.isHidden(ze)?[Le.tileManagers[gt.source]]:[])),lt=ct.filter((gt=>gt.getSource().type==="vector")),pt=ct.filter((gt=>gt.getSource().type!=="vector")),Tt=gt=>{(!it||it.getSource().maxzoom<gt.getSource().maxzoom)&&(it=gt)};return lt.forEach((gt=>Tt(gt))),it||pt.forEach((gt=>Tt(gt))),it})(this.style,this.transform.zoom);Ee&&(function(Le,ze,it){for(let ct=0;ct<it.length;ct++)ru(Le,ze,it[ct])})(this,Ee,Ee.getVisibleCoordinates())}this.options.showPadding&&(function(Ee){const Le=Ee.transform.padding;tp(Ee,Ee.transform.height-(Le.top||0),3,Od),tp(Ee,Le.bottom||0,3,Kc),Dd(Ee,Le.left||0,3,Qc),Dd(Ee,Ee.transform.width-(Le.right||0),3,Eg);const ze=Ee.transform.centerPoint;(function(it,ct,lt,pt){To(it,ct-1,lt-10,2,20,pt),To(it,ct-10,lt-1,20,2,pt)})(Ee,ze.x,Ee.transform.height-ze.y,Au)})(this),this.context.setDefault()}maybeDrawDepthAndCoords(s){if(!this.style||!this.style.map||!this.style.map.terrain)return;const h=this.terrainFacilitator.matrix,x=this.transform.modelViewProjectionMatrix;let k=this.terrainFacilitator.dirty;k||(k=s?!i.ck(h,x):!i.cl(h,x)),k||(k=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),k&&(i.cm(h,x),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,(function(L,U){const W=L.context,ee=W.gl,ce=L.transform,fe=ia.unblended,Ce=new Zr(ee.LEQUAL,Zr.ReadWrite,[0,1]),Ee=U.tileManager.getRenderableTiles(),Le=L.useProgram("terrainDepth");W.bindFramebuffer.set(U.getFramebuffer("depth").framebuffer),W.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),W.clear({color:i.bq.transparent,depth:1});for(const ze of Ee){const it=U.getTerrainMesh(ze.tileID),ct=U.getTerrainData(ze.tileID),lt=ce.getProjectionData({overscaledTileID:ze.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),pt={u_ele_delta:U.getMeshFrameDelta(ce.zoom)};Le.draw(W,ee.TRIANGLES,Ce,ea.disabled,fe,Gr.backCCW,pt,ct,lt,"terrain",it.vertexBuffer,it.indexBuffer,it.segments)}W.bindFramebuffer.set(null),W.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain),(function(L,U){const W=L.context,ee=W.gl,ce=L.transform,fe=ia.unblended,Ce=new Zr(ee.LEQUAL,Zr.ReadWrite,[0,1]),Ee=U.getCoordsTexture(),Le=U.tileManager.getRenderableTiles(),ze=L.useProgram("terrainCoords");W.bindFramebuffer.set(U.getFramebuffer("coords").framebuffer),W.viewport.set([0,0,L.width/devicePixelRatio,L.height/devicePixelRatio]),W.clear({color:i.bq.transparent,depth:1}),U.coordsIndex=[];for(const it of Le){const ct=U.getTerrainMesh(it.tileID),lt=U.getTerrainData(it.tileID);W.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,Ee.texture);const pt={u_terrain_coords_id:(255-U.coordsIndex.length)/255,u_texture:0,u_ele_delta:U.getMeshFrameDelta(ce.zoom)},Tt=ce.getProjectionData({overscaledTileID:it.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});ze.draw(W,ee.TRIANGLES,Ce,ea.disabled,fe,Gr.backCCW,pt,lt,Tt,"terrain",ct.vertexBuffer,ct.indexBuffer,ct.segments),U.coordsIndex.push(it.tileID.key)}W.bindFramebuffer.set(null),W.viewport.set([0,0,L.width,L.height])})(this,this.style.map.terrain))}renderLayer(s,h,x,k,L){x.isHidden(this.transform.zoom)||(x.type==="background"||x.type==="custom"||(k||[]).length)&&(this.id=x.id,i.cn(x)?(function(U,W,ee,ce,fe,Ce){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:Ee}=Ce,Le=ea.disabled,ze=U.colorModeForRenderPass();(ee._unevaluatedLayout.hasValue("text-variable-anchor")||ee._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&(function(it,ct,lt,pt,Tt,gt,At,Rt,bt){const jt=ct.transform,Qt=ct.style.map.terrain,Jt=Tt==="map",nn=gt==="map";for(const an of it){const On=pt.getTile(an),Zn=On.getBucket(lt);if(!Zn||!Zn.text||!Zn.text.segments.get().length)continue;const Nn=i.az(Zn.textSizeData,jt.zoom),wr=i.aO(On,1,ct.transform.zoom),oa=hr(Jt,ct.transform,wr),Qa=lt.layout.get("icon-text-fit")!=="none"&&Zn.hasIconData();if(Nn){const ci=Math.pow(2,jt.zoom-On.tileID.overscaledZ),Ja=Qt?(Sa,Ta)=>Qt.getElevation(an,Sa,Ta):null;tu(Zn,Jt,nn,bt,jt,oa,ci,Nn,Qa,i.aP(jt,On,At,Rt),an.toUnwrapped(),Ja)}}})(ce,U,ee,W,ee.layout.get("text-rotation-alignment"),ee.layout.get("text-pitch-alignment"),ee.paint.get("text-translate"),ee.paint.get("text-translate-anchor"),fe),ee.paint.get("icon-opacity").constantOr(1)!==0&&Tu(U,W,ee,ce,!1,ee.paint.get("icon-translate"),ee.paint.get("icon-translate-anchor"),ee.layout.get("icon-rotation-alignment"),ee.layout.get("icon-pitch-alignment"),ee.layout.get("icon-keep-upright"),Le,ze,Ee),ee.paint.get("text-opacity").constantOr(1)!==0&&Tu(U,W,ee,ce,!0,ee.paint.get("text-translate"),ee.paint.get("text-translate-anchor"),ee.layout.get("text-rotation-alignment"),ee.layout.get("text-pitch-alignment"),ee.layout.get("text-keep-upright"),Le,ze,Ee),W.map.showCollisionBoxes&&(xs(U,W,ee,ce,!0),xs(U,W,ee,ce,!1))})(s,h,x,k,this.style.placement.variableOffsets,L):i.co(x)?(function(U,W,ee,ce,fe){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:Ce}=fe,Ee=ee.paint.get("circle-opacity"),Le=ee.paint.get("circle-stroke-width"),ze=ee.paint.get("circle-stroke-opacity"),it=!ee.layout.get("circle-sort-key").isConstant();if(Ee.constantOr(1)===0&&(Le.constantOr(1)===0||ze.constantOr(1)===0))return;const ct=U.context,lt=ct.gl,pt=U.transform,Tt=U.getDepthModeForSublayer(0,Zr.ReadOnly),gt=ea.disabled,At=U.colorModeForRenderPass(),Rt=[],bt=pt.getCircleRadiusCorrection();for(let jt=0;jt<ce.length;jt++){const Qt=ce[jt],Jt=W.getTile(Qt),nn=Jt.getBucket(ee);if(!nn)continue;const an=ee.paint.get("circle-translate"),On=ee.paint.get("circle-translate-anchor"),Zn=i.aP(pt,Jt,an,On),Nn=nn.programConfigurations.get(ee.id),wr=U.useProgram("circle",Nn),oa=nn.layoutVertexBuffer,Qa=nn.indexBuffer,ci=U.style.map.terrain&&U.style.map.terrain.getTerrainData(Qt),Ja={programConfiguration:Nn,program:wr,layoutVertexBuffer:oa,indexBuffer:Qa,uniformValues:th(U,Jt,ee,Zn,bt),terrainData:ci,projectionData:pt.getProjectionData({overscaledTileID:Qt,applyGlobeMatrix:!Ce,applyTerrainMatrix:!0})};if(it){const Sa=nn.segments.get();for(const Ta of Sa)Rt.push({segments:new i.aY([Ta]),sortKey:Ta.sortKey,state:Ja})}else Rt.push({segments:nn.segments,sortKey:0,state:Ja})}it&&Rt.sort(((jt,Qt)=>jt.sortKey-Qt.sortKey));for(const jt of Rt){const{programConfiguration:Qt,program:Jt,layoutVertexBuffer:nn,indexBuffer:an,uniformValues:On,terrainData:Zn,projectionData:Nn}=jt.state;Jt.draw(ct,lt.TRIANGLES,Tt,gt,At,Gr.backCCW,On,Zn,Nn,ee.id,nn,an,jt.segments,ee.paint,U.transform.zoom,Qt)}})(s,h,x,k,L):i.cp(x)?(function(U,W,ee,ce,fe){if(ee.paint.get("heatmap-opacity")===0)return;const Ce=U.context,{isRenderingToTexture:Ee,isRenderingGlobe:Le}=fe;if(U.style.map.terrain){for(const ze of ce){const it=W.getTile(ze);W.hasRenderableParent(ze)||(U.renderPass==="offscreen"?lh(U,it,ee,ze,Le):U.renderPass==="translucent"&&So(U,ee,ze,Ee,Le))}Ce.viewport.set([0,0,U.width,U.height])}else U.renderPass==="offscreen"?(function(ze,it,ct,lt){const pt=ze.context,Tt=pt.gl,gt=ze.transform,At=ea.disabled,Rt=new ia([Tt.ONE,Tt.ONE],i.bq.transparent,[!0,!0,!0,!0]);(function(bt,jt,Qt){const Jt=bt.gl;bt.activeTexture.set(Jt.TEXTURE1),bt.viewport.set([0,0,jt.width/4,jt.height/4]);let nn=Qt.heatmapFbos.get(i.ce);nn?(Jt.bindTexture(Jt.TEXTURE_2D,nn.colorAttachment.get()),bt.bindFramebuffer.set(nn.framebuffer)):(nn=Ya(bt,jt.width/4,jt.height/4),Qt.heatmapFbos.set(i.ce,nn))})(pt,ze,ct),pt.clear({color:i.bq.transparent});for(let bt=0;bt<lt.length;bt++){const jt=lt[bt];if(it.hasRenderableParent(jt))continue;const Qt=it.getTile(jt),Jt=Qt.getBucket(ct);if(!Jt)continue;const nn=Jt.programConfigurations.get(ct.id),an=ze.useProgram("heatmap",nn),On=gt.getProjectionData({overscaledTileID:jt,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),Zn=gt.getCircleRadiusCorrection();an.draw(pt,Tt.TRIANGLES,Zr.disabled,At,Rt,Gr.backCCW,sc(Qt,gt.zoom,ct.paint.get("heatmap-intensity"),Zn),null,On,ct.id,Jt.layoutVertexBuffer,Jt.indexBuffer,Jt.segments,ct.paint,gt.zoom,nn)}pt.viewport.set([0,0,ze.width,ze.height])})(U,W,ee,ce):U.renderPass==="translucent"&&(function(ze,it){const ct=ze.context,lt=ct.gl;ct.setColorMode(ze.colorModeForRenderPass());const pt=it.heatmapFbos.get(i.ce);pt&&(ct.activeTexture.set(lt.TEXTURE0),lt.bindTexture(lt.TEXTURE_2D,pt.colorAttachment.get()),ct.activeTexture.set(lt.TEXTURE1),ka(ct,it).bind(lt.LINEAR,lt.CLAMP_TO_EDGE),ze.useProgram("heatmapTexture").draw(ct,lt.TRIANGLES,Zr.disabled,ea.disabled,ze.colorModeForRenderPass(),Gr.disabled,ff(ze,it,0,1),null,null,it.id,ze.viewportBuffer,ze.quadTriangleIndexBuffer,ze.viewportSegments,it.paint,ze.transform.zoom))})(U,ee)})(s,h,x,k,L):i.cq(x)?(function(U,W,ee,ce,fe){if(U.renderPass!=="translucent")return;const{isRenderingToTexture:Ce}=fe,Ee=ee.paint.get("line-opacity"),Le=ee.paint.get("line-width");if(Ee.constantOr(1)===0||Le.constantOr(1)===0)return;const ze=U.getDepthModeForSublayer(0,Zr.ReadOnly),it=U.colorModeForRenderPass(),ct=ee.paint.get("line-dasharray"),lt=ct.constantOr(1),pt=ee.paint.get("line-pattern"),Tt=pt.constantOr(1),gt=ee.paint.get("line-gradient"),At=ee.getCrossfadeParameters();let Rt;Rt=Tt?"linePattern":lt&&gt?"lineGradientSDF":lt?"lineSDF":gt?"lineGradient":"line";const bt=U.context,jt=bt.gl,Qt=U.transform;let Jt=!0;for(const nn of ce){const an=W.getTile(nn);if(Tt&&!an.patternsLoaded())continue;const On=an.getBucket(ee);if(!On)continue;const Zn=On.programConfigurations.get(ee.id),Nn=U.context.program.get(),wr=U.useProgram(Rt,Zn),oa=Jt||wr.program!==Nn,Qa=U.style.map.terrain&&U.style.map.terrain.getTerrainData(nn),ci=pt.constantOr(null),Ja=ct&&ct.constantOr(null);if(ci&&an.imageAtlas){const ro=an.imageAtlas,vi=ro.patternPositions[ci.to.toString()],Zi=ro.patternPositions[ci.from.toString()];vi&&Zi&&Zn.setConstantPatternPositions(vi,Zi)}else if(Ja){const ro=ee.layout.get("line-cap")==="round",vi=U.lineAtlas.getDash(Ja.to,ro),Zi=U.lineAtlas.getDash(Ja.from,ro);Zn.setConstantDashPositions(vi,Zi)}const Sa=Qt.getProjectionData({overscaledTileID:nn,applyGlobeMatrix:!Ce,applyTerrainMatrix:!0}),Ta=Qt.getPixelScale();let Uo;Tt?(Uo=uc(U,an,ee,Ta,At),nu(bt,jt,an,Zn,At)):lt&&gt?(Uo=cc(U,an,ee,Ta,At,On.lineClipsArray.length),il(U,W,bt,jt,ee,On,nn,Zn,At)):lt?(Uo=Li(U,an,ee,Ta,At),qi(U,bt,jt,Zn,oa,At)):gt?(Uo=nm(U,an,ee,Ta,On.lineClipsArray.length),Ll(U,W,bt,jt,ee,On,nn)):Uo=ah(U,an,ee,Ta);const Ti=U.stencilModeForClipping(nn);wr.draw(bt,jt.TRIANGLES,ze,Ti,it,Gr.disabled,Uo,Qa,Sa,ee.id,On.layoutVertexBuffer,On.indexBuffer,On.segments,ee.paint,U.transform.zoom,Zn,On.layoutVertexBuffer2),Jt=!1}})(s,h,x,k,L):i.cr(x)?(function(U,W,ee,ce,fe){const Ce=ee.paint.get("fill-color"),Ee=ee.paint.get("fill-opacity");if(Ee.constantOr(1)===0)return;const{isRenderingToTexture:Le}=fe,ze=U.colorModeForRenderPass(),it=ee.paint.get("fill-pattern"),ct=U.opaquePassEnabledForLayer()&&!it.constantOr(1)&&Ce.constantOr(i.bq.transparent).a===1&&Ee.constantOr(0)===1?"opaque":"translucent";if(U.renderPass===ct){const lt=U.getDepthModeForSublayer(1,U.renderPass==="opaque"?Zr.ReadWrite:Zr.ReadOnly);pc(U,W,ee,ce,lt,ze,!1,Le)}if(U.renderPass==="translucent"&&ee.paint.get("fill-antialias")){const lt=U.getDepthModeForSublayer(ee.getPaintProperty("fill-outline-color")?2:0,Zr.ReadOnly);pc(U,W,ee,ce,lt,ze,!0,Le)}})(s,h,x,k,L):i.cs(x)?(function(U,W,ee,ce,fe){const Ce=ee.paint.get("fill-extrusion-opacity");if(Ce===0)return;const{isRenderingToTexture:Ee}=fe;if(U.renderPass==="translucent"){const Le=new Zr(U.context.gl.LEQUAL,Zr.ReadWrite,U.depthRangeFor3D);if(Ce!==1||ee.paint.get("fill-extrusion-pattern").constantOr(1))Je(U,W,ee,ce,Le,ea.disabled,ia.disabled,Ee),Je(U,W,ee,ce,Le,U.stencilModeFor3D(),U.colorModeForRenderPass(),Ee);else{const ze=U.colorModeForRenderPass();Je(U,W,ee,ce,Le,ea.disabled,ze,Ee)}}})(s,h,x,k,L):i.ct(x)?(function(U,W,ee,ce,fe){if(U.renderPass!=="offscreen"&&U.renderPass!=="translucent")return;const{isRenderingToTexture:Ce}=fe,Ee=U.context,Le=U.style.projection.useSubdivision,ze=U.getDepthModeForSublayer(0,Zr.ReadOnly),it=U.colorModeForRenderPass();if(U.renderPass==="offscreen")(function(ct,lt,pt,Tt,gt,At,Rt){const bt=ct.context,jt=bt.gl;for(const Qt of pt){const Jt=lt.getTile(Qt),nn=Jt.dem;if(!nn||!nn.data||!Jt.needsHillshadePrepare)continue;const an=nn.dim,On=nn.stride,Zn=nn.getPixels();if(bt.activeTexture.set(jt.TEXTURE1),bt.pixelStoreUnpackPremultiplyAlpha.set(!1),Jt.demTexture=Jt.demTexture||ct.getTileTexture(On),Jt.demTexture){const wr=Jt.demTexture;wr.update(Zn,{premultiply:!1}),wr.bind(jt.NEAREST,jt.CLAMP_TO_EDGE)}else Jt.demTexture=new i.T(bt,Zn,jt.RGBA,{premultiply:!1}),Jt.demTexture.bind(jt.NEAREST,jt.CLAMP_TO_EDGE);bt.activeTexture.set(jt.TEXTURE0);let Nn=Jt.fbo;if(!Nn){const wr=new i.T(bt,{width:an,height:an,data:null},jt.RGBA);wr.bind(jt.LINEAR,jt.CLAMP_TO_EDGE),Nn=Jt.fbo=bt.createFramebuffer(an,an,!0,!1),Nn.colorAttachment.set(wr.texture)}bt.bindFramebuffer.set(Nn.framebuffer),bt.viewport.set([0,0,an,an]),ct.useProgram("hillshadePrepare").draw(bt,jt.TRIANGLES,gt,At,Rt,Gr.disabled,lc(Jt.tileID,nn),null,null,Tt.id,ct.rasterBoundsBuffer,ct.quadTriangleIndexBuffer,ct.rasterBoundsSegments),Jt.needsHillshadePrepare=!1}})(U,W,ce,ee,ze,ea.disabled,it),Ee.viewport.set([0,0,U.width,U.height]);else if(U.renderPass==="translucent")if(Le){const[ct,lt,pt]=U.stencilConfigForOverlapTwoPass(ce);vl(U,W,ee,pt,ct,ze,it,!1,Ce),vl(U,W,ee,pt,lt,ze,it,!0,Ce)}else{const[ct,lt]=U.getStencilConfigForOverlapAndUpdateStencilID(ce);vl(U,W,ee,lt,ct,ze,it,!1,Ce)}})(s,h,x,k,L):i.cu(x)?(function(U,W,ee,ce,fe){if(U.renderPass!=="translucent"||!ce.length)return;const{isRenderingToTexture:Ce}=fe,Ee=U.style.projection.useSubdivision,Le=U.getDepthModeForSublayer(0,Zr.ReadOnly),ze=U.colorModeForRenderPass();if(Ee){const[it,ct,lt]=U.stencilConfigForOverlapTwoPass(ce);Cu(U,W,ee,lt,it,Le,ze,!1,Ce),Cu(U,W,ee,lt,ct,Le,ze,!0,Ce)}else{const[it,ct]=U.getStencilConfigForOverlapAndUpdateStencilID(ce);Cu(U,W,ee,ct,it,Le,ze,!1,Ce)}})(s,h,x,k,L):i.bV(x)?(function(U,W,ee,ce,fe){if(U.renderPass!=="translucent"||ee.paint.get("raster-opacity")===0||!ce.length)return;const{isRenderingToTexture:Ce}=fe,Ee=W.getSource(),Le=U.style.projection.useSubdivision;if(Ee instanceof jn)fa(U,W,ee,ce,null,!1,!1,Ee.tileCoords,Ee.flippedWindingOrder,Ce);else if(Le){const[ze,it,ct]=U.stencilConfigForOverlapTwoPass(ce);fa(U,W,ee,ct,ze,!1,!0,zo,!1,Ce),fa(U,W,ee,ct,it,!0,!0,zo,!1,Ce)}else{const[ze,it]=U.getStencilConfigForOverlapAndUpdateStencilID(ce);fa(U,W,ee,it,ze,!1,!0,zo,!1,Ce)}})(s,h,x,k,L):i.cv(x)?(function(U,W,ee,ce,fe){const Ce=ee.paint.get("background-color"),Ee=ee.paint.get("background-opacity");if(Ee===0)return;const{isRenderingToTexture:Le}=fe,ze=U.context,it=ze.gl,ct=U.style.projection,lt=U.transform,pt=lt.tileSize,Tt=ee.paint.get("background-pattern");if(U.isPatternMissing(Tt))return;const gt=!Tt&&Ce.a===1&&Ee===1&&U.opaquePassEnabledForLayer()?"opaque":"translucent";if(U.renderPass!==gt)return;const At=ea.disabled,Rt=U.getDepthModeForSublayer(0,gt==="opaque"?Zr.ReadWrite:Zr.ReadOnly),bt=U.colorModeForRenderPass(),jt=U.useProgram(Tt?"backgroundPattern":"background"),Qt=ce||Ir(lt,{tileSize:pt,terrain:U.style.map.terrain});Tt&&(ze.activeTexture.set(it.TEXTURE0),U.imageManager.bind(U.context));const Jt=ee.getCrossfadeParameters();for(const nn of Qt){const an=lt.getProjectionData({overscaledTileID:nn,applyGlobeMatrix:!Le,applyTerrainMatrix:!0}),On=Tt?A(Ee,U,Tt,{tileID:nn,tileSize:pt},Jt):v(Ee,Ce),Zn=U.style.map.terrain&&U.style.map.terrain.getTerrainData(nn),Nn=ct.getMeshFromTileID(ze,nn.canonical,!1,!0,"raster");jt.draw(ze,it.TRIANGLES,Rt,At,bt,Gr.backCCW,On,Zn,an,ee.id,Nn.vertexBuffer,Nn.indexBuffer,Nn.segments)}})(s,0,x,k,L):i.cw(x)&&(function(U,W,ee,ce){const{isRenderingGlobe:fe}=ce,Ce=U.context,Ee=ee.implementation,Le=U.style.projection,ze=U.transform,it=ze.getProjectionDataForCustomLayer(fe),ct={farZ:ze.farZ,nearZ:ze.nearZ,fov:ze.fov*Math.PI/180,modelViewProjectionMatrix:ze.modelViewProjectionMatrix,projectionMatrix:ze.projectionMatrix,shaderData:{variantName:Le.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;
uniform mat4 u_projection_matrix;
${Le.shaderPreludeCode.vertexSource}`,define:Le.shaderDefine},defaultProjectionData:it},lt=Ee.renderingMode?Ee.renderingMode:"2d";if(U.renderPass==="offscreen"){const pt=Ee.prerender;pt&&(U.setCustomLayerDefaults(),Ce.setColorMode(U.colorModeForRenderPass()),pt.call(Ee,Ce.gl,ct),Ce.setDirty(),U.setBaseState())}else if(U.renderPass==="translucent"){U.setCustomLayerDefaults(),Ce.setColorMode(U.colorModeForRenderPass()),Ce.setStencilMode(ea.disabled);const pt=lt==="3d"?U.getDepthModeFor3D():U.getDepthModeForSublayer(0,Zr.ReadOnly);Ce.setDepthMode(pt),Ee.render(Ce.gl,ct),Ce.setDirty(),U.setBaseState(),Ce.bindFramebuffer.set(null)}})(s,0,x,L))}saveTileTexture(s){const h=this._tileTextures[s.size[0]];h?h.push(s):this._tileTextures[s.size[0]]=[s]}getTileTexture(s){const h=this._tileTextures[s];return h&&h.length>0?h.pop():null}isPatternMissing(s){if(!s)return!1;if(!s.from||!s.to)return!0;const h=this.imageManager.getPattern(s.from.toString()),x=this.imageManager.getPattern(s.to.toString());return!h||!x}useProgram(s,h,x=!1,k=[]){this.cache=this.cache||{};const L=!!this.style.map.terrain,U=this.style.projection,W=x?Si.projectionMercator:U.shaderPreludeCode,ee=x?Oi:U.shaderDefine,ce=s+(h?h.cacheKey:"")+`/${x?da:U.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(L?"/terrain":"")+(k?`/${k.join("/")}`:"");return this.cache[ce]||(this.cache[ce]=new Qh(this.context,Si[s],h,te[s],this._showOverdrawInspector,L,W,ee,k)),this.cache[ce]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const s=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(s.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new i.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var s,h;if(this._tileTextures){for(const x in this._tileTextures){const k=this._tileTextures[x];if(k)for(const L of k)L.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&((s=this.tileExtentMesh.vertexBuffer)===null||s===void 0||s.destroy()),this.tileExtentMesh&&((h=this.tileExtentMesh.indexBuffer)===null||h===void 0||h.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const x in this.cache){const k=this.cache[x];k&&k.program&&this.context.gl.deleteProgram(k.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:s,drawingBufferHeight:h}=this.context.gl;return this.width!==s||this.height!==h}}function qy(O,s){let h,x=!1,k=null,L=null;const U=()=>{k=null,x&&(O.apply(L,h),k=setTimeout(U,s),x=!1)};return(...W)=>(x=!0,L=this,h=W,k||U(),k)}class Yi{constructor(s){this._getCurrentHash=()=>{const h=window.location.hash.replace("#","");if(this._hashName){let x;return h.split("&").map((k=>k.split("="))).forEach((k=>{k[0]===this._hashName&&(x=k)})),(x&&x[1]||"").split("/")}return h.split("/")},this._onHashChange=()=>{const h=this._getCurrentHash();if(!this._isValidHash(h))return!1;const x=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(h[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+h[2],+h[1]],zoom:+h[0],bearing:x,pitch:+(h[4]||0)}),!0},this._updateHashUnthrottled=()=>{const h=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,h)},this._removeHash=()=>{const h=this._getCurrentHash();if(h.length===0)return;const x=h.join("/");let k=x;k.split("&").length>0&&(k=k.split("&")[0]),this._hashName&&(k=`${this._hashName}=${x}`);let L=window.location.hash.replace(k,"");L.startsWith("#&")?L=L.slice(0,1)+L.slice(2):L==="#"&&(L="");let U=window.location.href.replace(/(#.+)?$/,L);U=U.replace("&&","&"),window.history.replaceState(window.history.state,null,U)},this._updateHash=qy(this._updateHashUnthrottled,300),this._hashName=s&&encodeURIComponent(s)}addTo(s){return this._map=s,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(s){const h=this._map.getCenter(),x=Math.round(100*this._map.getZoom())/100,k=Math.ceil((x*Math.LN2+Math.log(512/360/.5))/Math.LN10),L=Math.pow(10,k),U=Math.round(h.lng*L)/L,W=Math.round(h.lat*L)/L,ee=this._map.getBearing(),ce=this._map.getPitch();let fe="";if(fe+=s?`/${U}/${W}/${x}`:`${x}/${W}/${U}`,(ee||ce)&&(fe+="/"+Math.round(10*ee)/10),ce&&(fe+=`/${Math.round(ce)}`),this._hashName){const Ce=this._hashName;let Ee=!1;const Le=window.location.hash.slice(1).split("&").map((ze=>{const it=ze.split("=")[0];return it===Ce?(Ee=!0,`${it}=${fe}`):ze})).filter((ze=>ze));return Ee||Le.push(`${Ce}=${fe}`),`#${Le.join("&")}`}return`#${fe}`}_isValidHash(s){if(s.length<3||s.some(isNaN))return!1;try{new i.V(+s[2],+s[1])}catch{return!1}const h=+s[0],x=+(s[3]||0),k=+(s[4]||0);return h>=this._map.getMinZoom()&&h<=this._map.getMaxZoom()&&x>=-180&&x<=180&&k>=this._map.getMinPitch()&&k<=this._map.getMaxPitch()}}const ol={linearity:.3,easing:i.cx(0,0,.3,1)},sl=i.e({deceleration:2500,maxSpeed:1400},ol),bl=i.e({deceleration:20,maxSpeed:1400},ol),Sg=i.e({deceleration:1e3,maxSpeed:360},ol),ll=i.e({deceleration:1e3,maxSpeed:90},ol),np=i.e({deceleration:1e3,maxSpeed:360},ol);class ku{constructor(s){this._map=s,this.clear()}clear(){this._inertiaBuffer=[]}record(s){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:G(),settings:s})}_drainInertiaBuffer(){const s=this._inertiaBuffer,h=G();for(;s.length>0&&h-s[0].time>160;)s.shift()}_onMoveEnd(s){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const h={zoom:0,bearing:0,pitch:0,roll:0,pan:new i.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:L}of this._inertiaBuffer)h.zoom+=L.zoomDelta||0,h.bearing+=L.bearingDelta||0,h.pitch+=L.pitchDelta||0,h.roll+=L.rollDelta||0,L.panDelta&&h.pan._add(L.panDelta),L.around&&(h.around=L.around),L.pinchAround&&(h.pinchAround=L.pinchAround);const x=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,k={};if(h.pan.mag()){const L=om(h.pan.mag(),x,i.e({},sl,s||{})),U=h.pan.mult(L.amount/h.pan.mag()),W=this._map.cameraHelper.handlePanInertia(U,this._map.transform);k.center=W.easingCenter,k.offset=W.easingOffset,rp(k,L)}if(h.zoom){const L=om(h.zoom,x,bl);k.zoom=this._map.transform.zoom+L.amount,rp(k,L)}if(h.bearing){const L=om(h.bearing,x,Sg);k.bearing=this._map.transform.bearing+i.ao(L.amount,-179,179),rp(k,L)}if(h.pitch){const L=om(h.pitch,x,ll);k.pitch=this._map.transform.pitch+L.amount,rp(k,L)}if(h.roll){const L=om(h.roll,x,np);k.roll=this._map.transform.roll+i.ao(L.amount,-179,179),rp(k,L)}if(k.zoom||k.bearing){const L=h.pinchAround===void 0?h.around:h.pinchAround;k.around=L?this._map.unproject(L):this._map.getCenter()}return this.clear(),i.e(k,{noMoveStart:!0})}}function rp(O,s){(!O.duration||O.duration<s.duration)&&(O.duration=s.duration,O.easing=s.easing)}function om(O,s,h){const{maxSpeed:x,linearity:k,deceleration:L}=h,U=i.ao(O*k/(s/1e3),-x,x),W=Math.abs(U)/(L*k);return{easing:h.easing,duration:1e3*W,amount:U*(W/2)}}class Wi extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,x,k={}){x=x instanceof MouseEvent?x:new MouseEvent(s,x);const L=z.mousePos(h.getCanvas(),x),U=h.unproject(L);super(s,i.e({point:L,lngLat:U,originalEvent:x},k)),this._defaultPrevented=!1,this.target=h}}class mc extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,x){const k=s==="touchend"?x.changedTouches:x.touches,L=z.touchPos(h.getCanvasContainer(),k),U=L.map((ee=>h.unproject(ee))),W=L.reduce(((ee,ce,fe,Ce)=>ee.add(ce.div(Ce.length))),new i.P(0,0));super(s,{points:L,point:W,lngLats:U,lngLat:h.unproject(W),originalEvent:x}),this._defaultPrevented=!1}}class sm extends i.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(s,h,x){super(s,{originalEvent:x}),this._defaultPrevented=!1}}class yf{constructor(s,h){this._map=s,this._clickTolerance=h.clickTolerance}reset(){delete this._mousedownPos}wheel(s){return this._firePreventable(new sm(s.type,this._map,s))}mousedown(s,h){return this._mousedownPos=h,this._firePreventable(new Wi(s.type,this._map,s))}mouseup(s){this._map.fire(new Wi(s.type,this._map,s))}click(s,h){this._mousedownPos&&this._mousedownPos.dist(h)>=this._clickTolerance||this._map.fire(new Wi(s.type,this._map,s))}dblclick(s){return this._firePreventable(new Wi(s.type,this._map,s))}mouseover(s){this._map.fire(new Wi(s.type,this._map,s))}mouseout(s){this._map.fire(new Wi(s.type,this._map,s))}touchstart(s){return this._firePreventable(new mc(s.type,this._map,s))}touchmove(s){this._map.fire(new mc(s.type,this._map,s))}touchend(s){this._map.fire(new mc(s.type,this._map,s))}touchcancel(s){this._map.fire(new mc(s.type,this._map,s))}_firePreventable(s){if(this._map.fire(s),s.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jc{constructor(s){this._map=s}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(s){this._map.fire(new Wi(s.type,this._map,s))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Wi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(s){this._delayContextMenu?this._contextMenuEvent=s:this._ignoreContextMenu||this._map.fire(new Wi(s.type,this._map,s)),this._map.listens("contextmenu")&&s.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class or{constructor(s){this._map=s}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(s){return this.transform.screenPointToLocation(i.P.convert(s),this._map.terrain)}}class ap{constructor(s,h){this._map=s,this._tr=new or(s),this._el=s.getCanvasContainer(),this._container=s.getContainer(),this._clickTolerance=h.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(s,h){this.isEnabled()&&s.shiftKey&&s.button===0&&(z.disableDrag(),this._startPos=this._lastPos=h,this._active=!0)}mousemoveWindow(s,h){if(!this._active)return;const x=h;if(this._lastPos.equals(x)||!this._box&&x.dist(this._startPos)<this._clickTolerance)return;const k=this._startPos;this._lastPos=x,this._box||(this._box=z.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",s));const L=Math.min(k.x,x.x),U=Math.max(k.x,x.x),W=Math.min(k.y,x.y),ee=Math.max(k.y,x.y);z.setTransform(this._box,`translate(${L}px,${W}px)`),this._box.style.width=U-L+"px",this._box.style.height=ee-W+"px"}mouseupWindow(s,h){if(!this._active||s.button!==0)return;const x=this._startPos,k=h;if(this.reset(),z.suppressClick(),x.x!==k.x||x.y!==k.y)return this._map.fire(new i.l("boxzoomend",{originalEvent:s})),{cameraAnimation:L=>L.fitScreenCoordinates(x,k,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",s)}keydown(s){this._active&&s.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",s))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(z.remove(this._box),this._box=null),z.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(s,h){return this._map.fire(new i.l(s,{originalEvent:h}))}}function Ld(O,s){if(O.length!==s.length)throw new Error(`The number of touches and points are not equal - touches ${O.length}, points ${s.length}`);const h={};for(let x=0;x<O.length;x++)h[O[x].identifier]=s[x];return h}class lm{constructor(s){this.reset(),this.numTouches=s.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(s,h,x){(this.centroid||x.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=s.timeStamp),x.length===this.numTouches&&(this.centroid=(function(k){const L=new i.P(0,0);for(const U of k)L._add(U);return L.div(k.length)})(h),this.touches=Ld(x,h)))}touchmove(s,h,x){if(this.aborted||!this.centroid)return;const k=Ld(x,h);for(const L in this.touches){const U=k[L];(!U||U.dist(this.touches[L])>30)&&(this.aborted=!0)}}touchend(s,h,x){if((!this.centroid||s.timeStamp-this.startTime>500)&&(this.aborted=!0),x.length===0){const k=!this.aborted&&this.centroid;if(this.reset(),k)return k}}}class vf{constructor(s){this.singleTap=new lm(s),this.numTaps=s.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(s,h,x){this.singleTap.touchstart(s,h,x)}touchmove(s,h,x){this.singleTap.touchmove(s,h,x)}touchend(s,h,x){const k=this.singleTap.touchend(s,h,x);if(k){const L=s.timeStamp-this.lastTime<500,U=!this.lastTap||this.lastTap.dist(k)<30;if(L&&U||this.reset(),this.count++,this.lastTime=s.timeStamp,this.lastTap=k,this.count===this.numTaps)return this.reset(),k}}}class bf{constructor(s){this._tr=new or(s),this._zoomIn=new vf({numTouches:1,numTaps:2}),this._zoomOut=new vf({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(s,h,x){this._zoomIn.touchstart(s,h,x),this._zoomOut.touchstart(s,h,x)}touchmove(s,h,x){this._zoomIn.touchmove(s,h,x),this._zoomOut.touchmove(s,h,x)}touchend(s,h,x){const k=this._zoomIn.touchend(s,h,x),L=this._zoomOut.touchend(s,h,x),U=this._tr;return k?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:W=>W.easeTo({duration:300,zoom:U.zoom+1,around:U.unproject(k)},{originalEvent:s})}):L?(this._active=!0,s.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:W=>W.easeTo({duration:300,zoom:U.zoom-1,around:U.unproject(L)},{originalEvent:s})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Fs{constructor(s){this._enabled=!!s.enable,this._moveStateManager=s.moveStateManager,this._clickTolerance=s.clickTolerance||1,this._moveFunction=s.move,this._activateOnStart=!!s.activateOnStart,s.assignEvents(this),this.reset()}reset(s){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(s)}_move(...s){const h=this._moveFunction(...s);if(h.bearingDelta||h.pitchDelta||h.rollDelta||h.around||h.panDelta)return this._active=!0,h}dragStart(s,h){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(s)&&(this._moveStateManager.startMove(s),this._lastPoint=Array.isArray(h)?h[0]:h,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(s,h){if(!this.isEnabled())return;const x=this._lastPoint;if(!x)return;if(s.preventDefault(),!this._moveStateManager.isValidMoveEvent(s))return void this.reset(s);const k=Array.isArray(h)?h[0]:h;return!this._moved&&k.dist(x)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=k,this._move(x,k))}dragEnd(s){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(s)&&(this._moved&&z.suppressClick(),this.reset(s))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const ed=0,Tg=2,Cg={[ed]:1,[Tg]:2};class Iu{constructor(s){this._correctEvent=s.checkCorrectEvent}startMove(s){const h=z.mouseButton(s);this._eventButton=h}endMove(s){delete this._eventButton}isValidStartEvent(s){return this._correctEvent(s)}isValidMoveEvent(s){return!(function(h,x){const k=Cg[x];return h.buttons===void 0||(h.buttons&k)!==k})(s,this._eventButton)}isValidEndEvent(s){return z.mouseButton(s)===this._eventButton}}class au{constructor(){this._firstTouch=void 0}_isOneFingerTouch(s){return s.targetTouches.length===1}_isSameTouchEvent(s){return s.targetTouches[0].identifier===this._firstTouch}startMove(s){this._firstTouch=s.targetTouches[0].identifier}endMove(s){delete this._firstTouch}isValidStartEvent(s){return this._isOneFingerTouch(s)}isValidMoveEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}isValidEndEvent(s){return this._isOneFingerTouch(s)&&this._isSameTouchEvent(s)}}class uh{constructor(s=new Iu({checkCorrectEvent:()=>!0}),h=new au){this.mouseMoveStateManager=s,this.oneFingerTouchMoveStateManager=h}_executeRelevantHandler(s,h,x){return s instanceof MouseEvent?h(s):typeof TouchEvent<"u"&&s instanceof TouchEvent?x(s):void 0}startMove(s){this._executeRelevantHandler(s,(h=>this.mouseMoveStateManager.startMove(h)),(h=>this.oneFingerTouchMoveStateManager.startMove(h)))}endMove(s){this._executeRelevantHandler(s,(h=>this.mouseMoveStateManager.endMove(h)),(h=>this.oneFingerTouchMoveStateManager.endMove(h)))}isValidStartEvent(s){return this._executeRelevantHandler(s,(h=>this.mouseMoveStateManager.isValidStartEvent(h)),(h=>this.oneFingerTouchMoveStateManager.isValidStartEvent(h)))}isValidMoveEvent(s){return this._executeRelevantHandler(s,(h=>this.mouseMoveStateManager.isValidMoveEvent(h)),(h=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(h)))}isValidEndEvent(s){return this._executeRelevantHandler(s,(h=>this.mouseMoveStateManager.isValidEndEvent(h)),(h=>this.oneFingerTouchMoveStateManager.isValidEndEvent(h)))}}const Pl=O=>{O.mousedown=O.dragStart,O.mousemoveWindow=O.dragMove,O.mouseup=O.dragEnd,O.contextmenu=s=>{s.preventDefault()}};class _l{constructor(s,h){this._clickTolerance=s.clickTolerance||1,this._map=h,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new i.P(0,0)}_shouldBePrevented(s){return s<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(s,h,x){return this._calculateTransform(s,h,x)}touchmove(s,h,x){if(this._active){if(!this._shouldBePrevented(x.length))return s.preventDefault(),this._calculateTransform(s,h,x);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",s)}}touchend(s,h,x){this._calculateTransform(s,h,x),this._active&&this._shouldBePrevented(x.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(s,h,x){x.length>0&&(this._active=!0);const k=Ld(x,h),L=new i.P(0,0),U=new i.P(0,0);let W=0;for(const ce in k){const fe=k[ce],Ce=this._touches[ce];Ce&&(L._add(fe),U._add(fe.sub(Ce)),W++,k[ce]=fe)}if(this._touches=k,this._shouldBePrevented(W)||!U.mag())return;const ee=U.div(W);return this._sum._add(ee),this._sum.mag()<this._clickTolerance?void 0:{around:L.div(W),panDelta:ee}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class um{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(s,h,x){this._firstTwoTouches||x.length<2||(this._firstTwoTouches=[x[0].identifier,x[1].identifier],this._start([h[0],h[1]]))}touchmove(s,h,x){if(!this._firstTwoTouches)return;s.preventDefault();const[k,L]=this._firstTwoTouches,U=gc(x,h,k),W=gc(x,h,L);if(!U||!W)return;const ee=this._aroundCenter?null:U.add(W).div(2);return this._move([U,W],ee,s)}touchend(s,h,x){if(!this._firstTwoTouches)return;const[k,L]=this._firstTwoTouches,U=gc(x,h,k),W=gc(x,h,L);U&&W||(this._active&&z.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(s){this._enabled=!0,this._aroundCenter=!!s&&s.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function gc(O,s,h){for(let x=0;x<O.length;x++)if(O[x].identifier===h)return s[x]}function cm(O,s){return Math.log(O/s)/Math.LN2}class iu extends um{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(s){this._startDistance=this._distance=s[0].dist(s[1])}_move(s,h){const x=this._distance;if(this._distance=s[0].dist(s[1]),this._active||!(Math.abs(cm(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:cm(this._distance,x),pinchAround:h}}}function yc(O,s){return 180*O.angleWith(s)/Math.PI}class Nu extends um{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(s){this._startVector=this._vector=s[0].sub(s[1]),this._minDiameter=s[0].dist(s[1])}_move(s,h,x){const k=this._vector;if(this._vector=s[0].sub(s[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:yc(this._vector,k),pinchAround:h}}_isBelowThreshold(s){this._minDiameter=Math.min(this._minDiameter,s.mag());const h=25/(Math.PI*this._minDiameter)*360,x=yc(s,this._startVector);return Math.abs(x)<h}}function Ra(O){return Math.abs(O.y)>Math.abs(O.x)}class Ru extends um{constructor(s){super(),this._currentTouchCount=0,this._map=s}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(s,h,x){super.touchstart(s,h,x),this._currentTouchCount=x.length}_start(s){this._lastPoints=s,Ra(s[0].sub(s[1]))&&(this._valid=!1)}_move(s,h,x){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const k=s[0].sub(this._lastPoints[0]),L=s[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(k,L,x.timeStamp),this._valid?(this._lastPoints=s,this._active=!0,{pitchDelta:(k.y+L.y)/2*-.5}):void 0}gestureBeginsVertically(s,h,x){if(this._valid!==void 0)return this._valid;const k=s.mag()>=2,L=h.mag()>=2;if(!k&&!L)return;if(!k||!L)return this._firstMove===void 0&&(this._firstMove=x),x-this._firstMove<100&&void 0;const U=s.y>0==h.y>0;return Ra(s)&&Ra(h)&&U}}const _f={panStep:100,bearingStep:15,pitchStep:10};class xf{constructor(s){this._tr=new or(s);const h=_f;this._panStep=h.panStep,this._bearingStep=h.bearingStep,this._pitchStep=h.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(s){if(s.altKey||s.ctrlKey||s.metaKey)return;let h=0,x=0,k=0,L=0,U=0;switch(s.keyCode){case 61:case 107:case 171:case 187:h=1;break;case 189:case 109:case 173:h=-1;break;case 37:s.shiftKey?x=-1:(s.preventDefault(),L=-1);break;case 39:s.shiftKey?x=1:(s.preventDefault(),L=1);break;case 38:s.shiftKey?k=1:(s.preventDefault(),U=-1);break;case 40:s.shiftKey?k=-1:(s.preventDefault(),U=1);break;default:return}return this._rotationDisabled&&(x=0,k=0),{cameraAnimation:W=>{const ee=this._tr;W.easeTo({duration:300,easeId:"keyboardHandler",easing:Co,zoom:h?Math.round(ee.zoom)+h*(s.shiftKey?2:1):ee.zoom,bearing:ee.bearing+x*this._bearingStep,pitch:ee.pitch+k*this._pitchStep,offset:[-L*this._panStep,-U*this._panStep],center:ee.center},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Co(O){return O*(2-O)}const Pd=4.000244140625,ch=1/450;class ou{constructor(s,h){this._onTimeout=x=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(x)},this._map=s,this._tr=new or(s),this._triggerRenderFrame=h,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=ch}setZoomRate(s){this._defaultZoomRate=s}setWheelZoomRate(s){this._wheelZoomRate=s}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(s){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!s&&s.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(s){return!!this._map.cooperativeGestures.isEnabled()&&!(s.ctrlKey||this._map.cooperativeGestures.isBypassed(s))}wheel(s){if(!this.isEnabled())return;if(this._shouldBePrevented(s))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",s);let h=s.deltaMode===WheelEvent.DOM_DELTA_LINE?40*s.deltaY:s.deltaY;const x=G(),k=x-(this._lastWheelEventTime||0);this._lastWheelEventTime=x,h!==0&&h%Pd==0?this._type="wheel":h!==0&&Math.abs(h)<4?this._type="trackpad":k>400?(this._type=null,this._lastValue=h,this._timeout=setTimeout(this._onTimeout,40,s)):this._type||(this._type=Math.abs(k*h)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,h+=this._lastValue)),s.shiftKey&&h&&(h/=4),this._type&&(this._lastWheelEvent=s,this._delta-=h,this._active||this._start(s)),s.preventDefault()}_start(s){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const h=z.mousePos(this._map.getCanvas(),s),x=this._tr;this._aroundPoint=this._aroundCenter?x.transform.locationToScreenPoint(i.V.convert(x.center)):h,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const s=this._tr.transform;if(typeof this._lastExpectedZoom=="number"){const W=s.zoom-this._lastExpectedZoom;typeof this._startZoom=="number"&&(this._startZoom+=W),typeof this._targetZoom=="number"&&(this._targetZoom+=W)}if(this._delta!==0){const W=this._type==="wheel"&&Math.abs(this._delta)>Pd?this._wheelZoomRate:this._defaultZoomRate;let ee=2/(1+Math.exp(-Math.abs(this._delta*W)));this._delta<0&&ee!==0&&(ee=1/ee);const ce=typeof this._targetZoom!="number"?s.scale:i.ar(this._targetZoom);this._targetZoom=s.applyConstrain(s.getCameraLngLat(),i.au(ce*ee)).zoom,this._type==="wheel"&&(this._startZoom=s.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const h=typeof this._targetZoom!="number"?s.zoom:this._targetZoom,x=this._startZoom,k=this._easing;let L,U=!1;if(this._type==="wheel"&&x&&k){const W=G()-this._lastWheelEventTime,ee=Math.min((W+5)/200,1),ce=k(ee);L=i.G.number(x,h,ce),ee<1?this._frameId||(this._frameId=!0):U=!0}else L=h,U=!0;return this._active=!0,U&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout}),200)),this._lastExpectedZoom=L,{noInertia:!0,needsRenderFrame:!U,zoomDelta:L-s.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(s){let h=i.cz;if(this._prevEase){const x=this._prevEase,k=(G()-x.start)/x.duration,L=x.easing(k+.01)-x.easing(k),U=.27/Math.sqrt(L*L+1e-4)*.01,W=Math.sqrt(.0729-U*U);h=i.cx(U,W,.25,1)}return this._prevEase={start:G(),duration:s,easing:h},h}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class dm{constructor(s,h){this._clickZoom=s,this._tapZoom=h}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Es{constructor(s){this._tr=new or(s),this.reset()}reset(){this._active=!1}dblclick(s,h){return s.preventDefault(),{cameraAnimation:x=>{x.easeTo({duration:300,zoom:this._tr.zoom+(s.shiftKey?-1:1),around:this._tr.unproject(h)},{originalEvent:s})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class su{constructor(){this._tap=new vf({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(s,h,x){if(!this._swipePoint)if(this._tapTime){const k=h[0],L=s.timeStamp-this._tapTime<500,U=this._tapPoint.dist(k)<30;L&&U?x.length>0&&(this._swipePoint=k,this._swipeTouch=x[0].identifier):this.reset()}else this._tap.touchstart(s,h,x)}touchmove(s,h,x){if(this._tapTime){if(this._swipePoint){if(x[0].identifier!==this._swipeTouch)return;const k=h[0],L=k.y-this._swipePoint.y;return this._swipePoint=k,s.preventDefault(),this._active=!0,{zoomDelta:L/128}}}else this._tap.touchmove(s,h,x)}touchend(s,h,x){if(this._tapTime)this._swipePoint&&x.length===0&&this.reset();else{const k=this._tap.touchend(s,h,x);k&&(this._tapTime=s.timeStamp,this._tapPoint=k)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Cr{constructor(s,h,x){this._el=s,this._mousePan=h,this._touchPan=x}enable(s){this._inertiaOptions=s||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Er{constructor(s,h,x,k){this._pitchWithRotate=s.pitchWithRotate,this._rollEnabled=s.rollEnabled,this._mouseRotate=h,this._mousePitch=x,this._mouseRoll=k}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class td{constructor(s,h,x,k){this._el=s,this._touchZoom=h,this._touchRotate=x,this._tapDragZoom=k,this._rotationDisabled=!1,this._enabled=!0}enable(s){this._touchZoom.enable(s),this._rotationDisabled||this._touchRotate.enable(s),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class xl{constructor(s,h){this._bypassKey=navigator.userAgent.indexOf("Mac")!==-1?"metaKey":"ctrlKey",this._map=s,this._options=h,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const s=this._map.getCanvasContainer();s.classList.add("maplibregl-cooperative-gestures"),this._container=z.create("div","maplibregl-cooperative-gesture-screen",s);let h=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");this._bypassKey==="metaKey"&&(h=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const x=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),k=document.createElement("div");k.className="maplibregl-desktop-message",k.textContent=h,this._container.appendChild(k);const L=document.createElement("div");L.className="maplibregl-mobile-message",L.textContent=x,this._container.appendChild(L),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(z.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(s){return s[this._bypassKey]}notifyGestureBlocked(s,h){this._enabled&&(this._map.fire(new i.l("cooperativegestureprevented",{gestureType:s,originalEvent:h})),this._container.classList.add("maplibregl-show"),setTimeout((()=>{this._container.classList.remove("maplibregl-show")}),100))}}const ws=O=>O.zoom||O.drag||O.roll||O.pitch||O.rotate;class fo extends i.l{}function Bs(O){return O.panDelta&&O.panDelta.mag()||O.zoomDelta||O.bearingDelta||O.pitchDelta||O.rollDelta}class Yy{constructor(s,h){this.handleWindowEvent=k=>{this.handleEvent(k,`${k.type}Window`)},this.handleEvent=(k,L)=>{if(k.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const U=k.type==="renderFrame"?void 0:k,W={needsRenderFrame:!1},ee={},ce={};for(const{handlerName:Ee,handler:Le,allowed:ze}of this._handlers){if(!Le.isEnabled())continue;let it;if(this._blockedByActive(ce,ze,Ee))Le.reset();else if(Le[L||k.type]){if(i.cA(k,L||k.type)){const ct=z.mousePos(this._map.getCanvas(),k);it=Le[L||k.type](k,ct)}else if(i.cB(k,L||k.type)){const ct=this._getMapTouches(k.touches),lt=z.touchPos(this._map.getCanvas(),ct);it=Le[L||k.type](k,lt,ct)}else i.cC(L||k.type)||(it=Le[L||k.type](k));this.mergeHandlerResult(W,ee,it,Ee,U),it&&it.needsRenderFrame&&this._triggerRenderFrame()}(it||Le.isActive())&&(ce[Ee]=Le)}const fe={};for(const Ee in this._previousActiveHandlers)ce[Ee]||(fe[Ee]=U);this._previousActiveHandlers=ce,(Object.keys(fe).length||Bs(W))&&(this._changes.push([W,ee,fe]),this._triggerRenderFrame()),(Object.keys(ce).length||Bs(W))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ce}=W;Ce&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ce(this._map))},this._map=s,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ku(s),this._bearingSnap=h.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(h);const x=this._el;this._listeners=[[x,"touchstart",{passive:!0}],[x,"touchmove",{passive:!1}],[x,"touchend",void 0],[x,"touchcancel",void 0],[x,"mousedown",void 0],[x,"mousemove",void 0],[x,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[x,"mouseover",void 0],[x,"mouseout",void 0],[x,"dblclick",void 0],[x,"click",void 0],[x,"keydown",{capture:!1}],[x,"keyup",void 0],[x,"wheel",{passive:!1}],[x,"contextmenu",void 0],[window,"blur",void 0]];for(const[k,L,U]of this._listeners)z.addEventListener(k,L,k===document?this.handleWindowEvent:this.handleEvent,U)}destroy(){for(const[s,h,x]of this._listeners)z.removeEventListener(s,h,s===document?this.handleWindowEvent:this.handleEvent,x)}_addDefaultHandlers(s){const h=this._map,x=h.getCanvasContainer();this._add("mapEvent",new yf(h,s));const k=h.boxZoom=new ap(h,s);this._add("boxZoom",k),s.interactive&&s.boxZoom&&k.enable();const L=h.cooperativeGestures=new xl(h,s.cooperativeGestures);this._add("cooperativeGestures",L),s.cooperativeGestures&&L.enable();const U=new bf(h),W=new Es(h);h.doubleClickZoom=new dm(W,U),this._add("tapZoom",U),this._add("clickZoom",W),s.interactive&&s.doubleClickZoom&&h.doubleClickZoom.enable();const ee=new su;this._add("tapDragZoom",ee);const ce=h.touchPitch=new Ru(h);this._add("touchPitch",ce),s.interactive&&s.touchPitch&&h.touchPitch.enable(s.touchPitch);const fe=()=>h.project(h.getCenter()),Ce=(function({enable:gt,clickTolerance:At,aroundCenter:Rt=!0,minPixelCenterThreshold:bt=100,rotateDegreesPerPixelMoved:jt=.8},Qt){const Jt=new Iu({checkCorrectEvent:nn=>z.mouseButton(nn)===0&&nn.ctrlKey||z.mouseButton(nn)===2&&!nn.ctrlKey});return new Fs({clickTolerance:At,move:(nn,an)=>{const On=Qt();if(Rt&&Math.abs(On.y-nn.y)>bt)return{bearingDelta:i.cy(new i.P(nn.x,an.y),an,On)};let Zn=(an.x-nn.x)*jt;return Rt&&an.y<On.y&&(Zn=-Zn),{bearingDelta:Zn}},moveStateManager:Jt,enable:gt,assignEvents:Pl})})(s,fe),Ee=(function({enable:gt,clickTolerance:At,pitchDegreesPerPixelMoved:Rt=-.5}){const bt=new Iu({checkCorrectEvent:jt=>z.mouseButton(jt)===0&&jt.ctrlKey||z.mouseButton(jt)===2});return new Fs({clickTolerance:At,move:(jt,Qt)=>({pitchDelta:(Qt.y-jt.y)*Rt}),moveStateManager:bt,enable:gt,assignEvents:Pl})})(s),Le=(function({enable:gt,clickTolerance:At,rollDegreesPerPixelMoved:Rt=.3},bt){const jt=new Iu({checkCorrectEvent:Qt=>z.mouseButton(Qt)===2&&Qt.ctrlKey});return new Fs({clickTolerance:At,move:(Qt,Jt)=>{const nn=bt();let an=(Jt.x-Qt.x)*Rt;return Jt.y<nn.y&&(an=-an),{rollDelta:an}},moveStateManager:jt,enable:gt,assignEvents:Pl})})(s,fe);h.dragRotate=new Er(s,Ce,Ee,Le),this._add("mouseRotate",Ce,["mousePitch"]),this._add("mousePitch",Ee,["mouseRotate","mouseRoll"]),this._add("mouseRoll",Le,["mousePitch"]),s.interactive&&s.dragRotate&&h.dragRotate.enable();const ze=(function({enable:gt,clickTolerance:At}){const Rt=new Iu({checkCorrectEvent:bt=>z.mouseButton(bt)===0&&!bt.ctrlKey});return new Fs({clickTolerance:At,move:(bt,jt)=>({around:jt,panDelta:jt.sub(bt)}),activateOnStart:!0,moveStateManager:Rt,enable:gt,assignEvents:Pl})})(s),it=new _l(s,h);h.dragPan=new Cr(x,ze,it),this._add("mousePan",ze),this._add("touchPan",it,["touchZoom","touchRotate"]),s.interactive&&s.dragPan&&h.dragPan.enable(s.dragPan);const ct=new Nu,lt=new iu;h.touchZoomRotate=new td(x,lt,ct,ee),this._add("touchRotate",ct,["touchPan","touchZoom"]),this._add("touchZoom",lt,["touchPan","touchRotate"]),s.interactive&&s.touchZoomRotate&&h.touchZoomRotate.enable(s.touchZoomRotate),this._add("blockableMapEvent",new Jc(h));const pt=h.scrollZoom=new ou(h,(()=>this._triggerRenderFrame()));this._add("scrollZoom",pt,["mousePan"]),s.interactive&&s.scrollZoom&&h.scrollZoom.enable(s.scrollZoom);const Tt=h.keyboard=new xf(h);this._add("keyboard",Tt),s.interactive&&s.keyboard&&h.keyboard.enable()}_add(s,h,x){this._handlers.push({handlerName:s,handler:h,allowed:x}),this._handlersById[s]=h}stop(s){if(!this._updatingCamera){for(const{handler:h}of this._handlers)h.reset();this._inertia.clear(),this._fireEvents({},{},s),this._changes=[]}}isActive(){for(const{handler:s}of this._handlers)if(s.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!ws(this._eventsInProgress)||this.isZooming()}_blockedByActive(s,h,x){for(const k in s)if(k!==x&&(!h||h.indexOf(k)<0))return!0;return!1}_getMapTouches(s){const h=[];for(const x of s)this._el.contains(x.target)&&h.push(x);return h}mergeHandlerResult(s,h,x,k,L){if(!x)return;i.e(s,x);const U={handlerName:k,originalEvent:x.originalEvent||L};x.zoomDelta!==void 0&&(h.zoom=U),x.panDelta!==void 0&&(h.drag=U),x.rollDelta!==void 0&&(h.roll=U),x.pitchDelta!==void 0&&(h.pitch=U),x.bearingDelta!==void 0&&(h.rotate=U)}_applyChanges(){const s={},h={},x={};for(const[k,L,U]of this._changes)k.panDelta&&(s.panDelta=(s.panDelta||new i.P(0,0))._add(k.panDelta)),k.zoomDelta&&(s.zoomDelta=(s.zoomDelta||0)+k.zoomDelta),k.bearingDelta&&(s.bearingDelta=(s.bearingDelta||0)+k.bearingDelta),k.pitchDelta&&(s.pitchDelta=(s.pitchDelta||0)+k.pitchDelta),k.rollDelta&&(s.rollDelta=(s.rollDelta||0)+k.rollDelta),k.around!==void 0&&(s.around=k.around),k.pinchAround!==void 0&&(s.pinchAround=k.pinchAround),k.noInertia&&(s.noInertia=k.noInertia),i.e(h,L),i.e(x,U);this._updateMapTransform(s,h,x),this._changes=[]}_updateMapTransform(s,h,x){const k=this._map,L=k._getTransformForUpdate(),U=k.terrain;if(!(Bs(s)||U&&this._terrainMovement))return this._fireEvents(h,x,!0);k._stop(!0);let{panDelta:W,zoomDelta:ee,bearingDelta:ce,pitchDelta:fe,rollDelta:Ce,around:Ee,pinchAround:Le}=s;Le!==void 0&&(Ee=Le),Ee=Ee||k.transform.centerPoint,U&&!L.isPointOnMapSurface(Ee)&&(Ee=L.centerPoint);const ze={panDelta:W,zoomDelta:ee,rollDelta:Ce,pitchDelta:fe,bearingDelta:ce,around:Ee};this._map.cameraHelper.useGlobeControls&&!L.isPointOnMapSurface(Ee)&&(Ee=L.centerPoint);const it=Ee.distSqr(L.centerPoint)<.01?L.center:L.screenPointToLocation(W?Ee.sub(W):Ee);this._handleMapControls({terrain:U,tr:L,deltasForHelper:ze,preZoomAroundLoc:it,combinedEventsInProgress:h,panDelta:W}),k._applyUpdatedTransform(L),this._map._update(),s.noInertia||this._inertia.record(s),this._fireEvents(h,x,!0)}_handleMapControls({terrain:s,tr:h,deltasForHelper:x,preZoomAroundLoc:k,combinedEventsInProgress:L,panDelta:U}){const W=this._map.cameraHelper;if(W.handleMapControlsRollPitchBearingZoom(x,h),s)return W.useGlobeControls?(this._terrainMovement||!L.drag&&!L.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void W.handleMapControlsPan(x,h,k)):this._terrainMovement||!L.drag&&!L.zoom?void(L.drag&&this._terrainMovement&&U?h.setCenter(h.screenPointToLocation(h.centerPoint.sub(U))):W.handleMapControlsPan(x,h,k)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void W.handleMapControlsPan(x,h,k));W.handleMapControlsPan(x,h,k)}_fireEvents(s,h,x){const k=ws(this._eventsInProgress),L=ws(s),U={};for(const Ce in s){const{originalEvent:Ee}=s[Ce];this._eventsInProgress[Ce]||(U[`${Ce}start`]=Ee),this._eventsInProgress[Ce]=s[Ce]}!k&&L&&this._fireEvent("movestart",L.originalEvent);for(const Ce in U)this._fireEvent(Ce,U[Ce]);L&&this._fireEvent("move",L.originalEvent);for(const Ce in s){const{originalEvent:Ee}=s[Ce];this._fireEvent(Ce,Ee)}const W={};let ee;for(const Ce in this._eventsInProgress){const{handlerName:Ee,originalEvent:Le}=this._eventsInProgress[Ce];this._handlersById[Ee].isActive()||(delete this._eventsInProgress[Ce],ee=h[Ee]||Le,W[`${Ce}end`]=ee)}for(const Ce in W)this._fireEvent(Ce,W[Ce]);const ce=ws(this._eventsInProgress),fe=(k||L)&&!ce;if(fe&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const Ce=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&Ce.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(Ce)}if(x&&fe){this._updatingCamera=!0;const Ce=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ee=Le=>Le!==0&&-this._bearingSnap<Le&&Le<this._bearingSnap;!Ce||!Ce.essential&&P.prefersReducedMotion?(this._map.fire(new i.l("moveend",{originalEvent:ee})),Ee(this._map.getBearing())&&this._map.resetNorth()):(Ee(Ce.bearing||this._map.getBearing())&&(Ce.bearing=0),Ce.freezeElevation=!0,this._map.easeTo(Ce,{originalEvent:ee})),this._updatingCamera=!1}}_fireEvent(s,h){this._map.fire(new i.l(s,h?{originalEvent:h}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((s=>{delete this._frameId,this.handleEvent(new fo("renderFrame",{timeStamp:s})),this._applyChanges()}))}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class Mu extends i.E{constructor(s,h,x){super(),this._renderFrameCallback=()=>{const k=Math.min((G()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(k)),k<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=s,this._bearingSnap=x.bearingSnap,this.cameraHelper=h,this.on("moveend",(()=>{delete this._requestedCameraState}))}migrateProjection(s,h){s.apply(this.transform),this.transform=s,this.cameraHelper=h}getCenter(){return new i.V(this.transform.center.lng,this.transform.center.lat)}setCenter(s,h){return this.jumpTo({center:s},h)}getCenterElevation(){return this.transform.elevation}setCenterElevation(s,h){return this.jumpTo({elevation:s},h),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(s){this._centerClampedToGround=s}panBy(s,h,x){return s=i.P.convert(s).mult(-1),this.panTo(this.transform.center,i.e({offset:s},h),x)}panTo(s,h,x){return this.easeTo(i.e({center:s},h),x)}getZoom(){return this.transform.zoom}setZoom(s,h){return this.jumpTo({zoom:s},h),this}zoomTo(s,h,x){return this.easeTo(i.e({zoom:s},h),x)}zoomIn(s,h){return this.zoomTo(this.getZoom()+1,s,h),this}zoomOut(s,h){return this.zoomTo(this.getZoom()-1,s,h),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(s,h){return s!=this.transform.fov&&(this.transform.setFov(s),this.fire(new i.l("movestart",h)).fire(new i.l("move",h)).fire(new i.l("moveend",h))),this}getBearing(){return this.transform.bearing}setBearing(s,h){return this.jumpTo({bearing:s},h),this}getPadding(){return this.transform.padding}setPadding(s,h){return this.jumpTo({padding:s},h),this}rotateTo(s,h,x){return this.easeTo(i.e({bearing:s},h),x)}resetNorth(s,h){return this.rotateTo(0,i.e({duration:1e3},s),h),this}resetNorthPitch(s,h){return this.easeTo(i.e({bearing:0,pitch:0,roll:0,duration:1e3},s),h),this}snapToNorth(s,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(s,h):this}getPitch(){return this.transform.pitch}setPitch(s,h){return this.jumpTo({pitch:s},h),this}getRoll(){return this.transform.roll}setRoll(s,h){return this.jumpTo({roll:s},h),this}cameraForBounds(s,h){s=Tn.convert(s).adjustAntiMeridian();const x=h&&h.bearing||0;return this._cameraForBoxAndBearing(s.getNorthWest(),s.getSouthEast(),x,h)}_cameraForBoxAndBearing(s,h,x,k){const L={top:0,bottom:0,right:0,left:0};if(typeof(k=i.e({padding:L,offset:[0,0],maxZoom:this.transform.maxZoom},k)).padding=="number"){const ce=k.padding;k.padding={top:ce,bottom:ce,right:ce,left:ce}}const U=i.e(L,k.padding);k.padding=U;const W=this.transform,ee=new Tn(s,h);return this.cameraHelper.cameraForBoxAndBearing(k,U,ee,x,W)}fitBounds(s,h,x){return this._fitInternal(this.cameraForBounds(s,h),h,x)}fitScreenCoordinates(s,h,x,k,L){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(i.P.convert(s)),this.transform.screenPointToLocation(i.P.convert(h)),x,k),k,L)}_fitInternal(s,h,x){return s?(delete(h=i.e(s,h)).padding,h.linear?this.easeTo(h,x):this.flyTo(h,x)):this}jumpTo(s,h){this.stop();const x=this._getTransformForUpdate();let k=!1,L=!1,U=!1;const W=x.zoom;this.cameraHelper.handleJumpToCenterZoom(x,s);const ee=x.zoom!==W;return"elevation"in s&&x.elevation!==+s.elevation&&x.setElevation(+s.elevation),"bearing"in s&&x.bearing!==+s.bearing&&(k=!0,x.setBearing(+s.bearing)),"pitch"in s&&x.pitch!==+s.pitch&&(L=!0,x.setPitch(+s.pitch)),"roll"in s&&x.roll!==+s.roll&&(U=!0,x.setRoll(+s.roll)),s.padding==null||x.isPaddingEqual(s.padding)||x.setPadding(s.padding),this._applyUpdatedTransform(x),this.fire(new i.l("movestart",h)).fire(new i.l("move",h)),ee&&this.fire(new i.l("zoomstart",h)).fire(new i.l("zoom",h)).fire(new i.l("zoomend",h)),k&&this.fire(new i.l("rotatestart",h)).fire(new i.l("rotate",h)).fire(new i.l("rotateend",h)),L&&this.fire(new i.l("pitchstart",h)).fire(new i.l("pitch",h)).fire(new i.l("pitchend",h)),U&&this.fire(new i.l("rollstart",h)).fire(new i.l("roll",h)).fire(new i.l("rollend",h)),this.fire(new i.l("moveend",h))}calculateCameraOptionsFromTo(s,h,x,k=0){const L=i.ab.fromLngLat(s,h),U=i.ab.fromLngLat(x,k),W=U.x-L.x,ee=U.y-L.y,ce=U.z-L.z,fe=Math.hypot(W,ee,ce);if(fe===0)throw new Error("Can't calculate camera options with same From and To");const Ce=Math.hypot(W,ee),Ee=i.au(this.transform.cameraToCenterDistance/fe/this.transform.tileSize),Le=180*Math.atan2(W,-ee)/Math.PI;let ze=180*Math.acos(Ce/fe)/Math.PI;return ze=ce<0?90-ze:90+ze,{center:U.toLngLat(),elevation:k,zoom:Ee,pitch:ze,bearing:Le}}calculateCameraOptionsFromCameraLngLatAltRotation(s,h,x,k,L){const U=this.transform.calculateCenterFromCameraLngLatAlt(s,h,x,k);return{center:U.center,elevation:U.elevation,zoom:U.zoom,bearing:x,pitch:k,roll:L}}easeTo(s,h){this._stop(!1,s.easeId),((s=i.e({offset:[0,0],duration:500,easing:i.cz},s)).animate===!1||!s.essential&&P.prefersReducedMotion)&&(s.duration=0);const x=this._getTransformForUpdate(),k=this.getBearing(),L=x.pitch,U=x.roll,W="bearing"in s?this._normalizeBearing(s.bearing,k):k,ee="pitch"in s?+s.pitch:L,ce="roll"in s?this._normalizeBearing(s.roll,U):U,fe="padding"in s?s.padding:x.padding,Ce=i.P.convert(s.offset);let Ee,Le;s.around&&(Ee=i.V.convert(s.around),Le=x.locationToScreenPoint(Ee));const ze={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},it=this.cameraHelper.handleEaseTo(x,{bearing:W,pitch:ee,roll:ce,padding:fe,around:Ee,aroundPoint:Le,offsetAsPoint:Ce,offset:s.offset,zoom:s.zoom,center:s.center});return this._rotating=this._rotating||k!==W,this._pitching=this._pitching||ee!==L,this._rolling=this._rolling||ce!==U,this._padding=!x.isPaddingEqual(fe),this._zooming=this._zooming||it.isZooming,this._easeId=s.easeId,this._prepareEase(h,s.noMoveStart,ze),this.terrain&&this._prepareElevation(it.elevationCenter),this._ease((ct=>{it.easeFunc(ct),this.terrain&&!s.freezeElevation&&this._updateElevation(ct),this._applyUpdatedTransform(x),this._fireMoveEvents(h)}),(ct=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(h,ct)}),s),this}_prepareEase(s,h,x={}){this._moving=!0,h||x.moving||this.fire(new i.l("movestart",s)),this._zooming&&!x.zooming&&this.fire(new i.l("zoomstart",s)),this._rotating&&!x.rotating&&this.fire(new i.l("rotatestart",s)),this._pitching&&!x.pitching&&this.fire(new i.l("pitchstart",s)),this._rolling&&!x.rolling&&this.fire(new i.l("rollstart",s))}_prepareElevation(s){this._elevationCenter=s,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(s,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(s){this._elevationStart!==void 0&&this._elevationCenter!==void 0||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const h=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(s<1&&h!==this._elevationTarget){const x=this._elevationTarget-this._elevationStart;this._elevationStart+=s*(x-(h-(x*s+this._elevationStart))/(1-s)),this._elevationTarget=h}this.transform.setElevation(i.G.number(this._elevationStart,this._elevationTarget,s))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(s){if(!this.terrain&&s.elevation>=0&&s.pitch<=90)return{};const h=s.getCameraLngLat(),x=s.getCameraAltitude(),k=this.terrain?this.terrain.getElevationForLngLatZoom(h,s.zoom):0;if(x<k){const L=this.calculateCameraOptionsFromTo(h,k,s.center,s.elevation);return{pitch:L.pitch,zoom:L.zoom}}return{}}_applyUpdatedTransform(s){const h=[];if(h.push((k=>this._elevateCameraIfInsideTerrain(k))),this.transformCameraUpdate&&h.push((k=>this.transformCameraUpdate(k))),!h.length)return;const x=s.clone();for(const k of h){const L=x.clone(),{center:U,zoom:W,roll:ee,pitch:ce,bearing:fe,elevation:Ce}=k(L);U&&L.setCenter(U),Ce!==void 0&&L.setElevation(Ce),W!==void 0&&L.setZoom(W),ee!==void 0&&L.setRoll(ee),ce!==void 0&&L.setPitch(ce),fe!==void 0&&L.setBearing(fe),x.apply(L)}this.transform.apply(x)}_fireMoveEvents(s){this.fire(new i.l("move",s)),this._zooming&&this.fire(new i.l("zoom",s)),this._rotating&&this.fire(new i.l("rotate",s)),this._pitching&&this.fire(new i.l("pitch",s)),this._rolling&&this.fire(new i.l("roll",s))}_afterEase(s,h){if(this._easeId&&h&&this._easeId===h)return;delete this._easeId;const x=this._zooming,k=this._rotating,L=this._pitching,U=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,x&&this.fire(new i.l("zoomend",s)),k&&this.fire(new i.l("rotateend",s)),L&&this.fire(new i.l("pitchend",s)),U&&this.fire(new i.l("rollend",s)),this.fire(new i.l("moveend",s))}flyTo(s,h){if(!s.essential&&P.prefersReducedMotion){const an=i.U(s,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(an,h)}this.stop(),s=i.e({offset:[0,0],speed:1.2,curve:1.42,easing:i.cz},s);const x=this._getTransformForUpdate(),k=x.bearing,L=x.pitch,U=x.roll,W=x.padding,ee="bearing"in s?this._normalizeBearing(s.bearing,k):k,ce="pitch"in s?+s.pitch:L,fe="roll"in s?this._normalizeBearing(s.roll,U):U,Ce="padding"in s?s.padding:x.padding,Ee=i.P.convert(s.offset);let Le=x.centerPoint.add(Ee);const ze=x.screenPointToLocation(Le),it=this.cameraHelper.handleFlyTo(x,{bearing:ee,pitch:ce,roll:fe,padding:Ce,locationAtOffset:ze,offsetAsPoint:Ee,center:s.center,minZoom:s.minZoom,zoom:s.zoom});let ct=s.curve;const lt=Math.max(x.width,x.height),pt=lt/it.scaleOfZoom,Tt=it.pixelPathLength;typeof it.scaleOfMinZoom=="number"&&(ct=Math.sqrt(lt/it.scaleOfMinZoom/Tt*2));const gt=ct*ct;function At(an){const On=(pt*pt-lt*lt+(an?-1:1)*gt*gt*Tt*Tt)/(2*(an?pt:lt)*gt*Tt);return Math.log(Math.sqrt(On*On+1)-On)}function Rt(an){return(Math.exp(an)-Math.exp(-an))/2}function bt(an){return(Math.exp(an)+Math.exp(-an))/2}const jt=At(!1);let Qt=function(an){return bt(jt)/bt(jt+ct*an)},Jt=function(an){return lt*((bt(jt)*(Rt(On=jt+ct*an)/bt(On))-Rt(jt))/gt)/Tt;var On},nn=(At(!0)-jt)/ct;if(Math.abs(Tt)<2e-6||!isFinite(nn)){if(Math.abs(lt-pt)<1e-6)return this.easeTo(s,h);const an=pt<lt?-1:1;nn=Math.abs(Math.log(pt/lt))/ct,Jt=()=>0,Qt=On=>Math.exp(an*ct*On)}return s.duration="duration"in s?+s.duration:1e3*nn/("screenSpeed"in s?+s.screenSpeed/ct:+s.speed),s.maxDuration&&s.duration>s.maxDuration&&(s.duration=0),this._zooming=!0,this._rotating=k!==ee,this._pitching=ce!==L,this._rolling=fe!==U,this._padding=!x.isPaddingEqual(Ce),this._prepareEase(h,!1),this.terrain&&this._prepareElevation(it.targetCenter),this._ease((an=>{const On=an*nn,Zn=1/Qt(On),Nn=Jt(On);this._rotating&&x.setBearing(i.G.number(k,ee,an)),this._pitching&&x.setPitch(i.G.number(L,ce,an)),this._rolling&&x.setRoll(i.G.number(U,fe,an)),this._padding&&(x.interpolatePadding(W,Ce,an),Le=x.centerPoint.add(Ee)),it.easeFunc(an,Zn,Nn,Le),this.terrain&&!s.freezeElevation&&this._updateElevation(an),this._applyUpdatedTransform(x),this._fireMoveEvents(h)}),(()=>{this.terrain&&s.freezeElevation&&this._finalizeElevation(),this._afterEase(h)}),s),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(s,h){var x;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const k=this._onEaseEnd;delete this._onEaseEnd,k.call(this,h)}return s||(x=this.handlers)===null||x===void 0||x.stop(!1),this}_ease(s,h,x){x.animate===!1||x.duration===0?(s(1),h()):(this._easeStart=G(),this._easeOptions=x,this._onEaseFrame=s,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(s,h){s=i.W(s,-180,180);const x=Math.abs(s-h);return Math.abs(s-360-h)<x&&(s-=360),Math.abs(s+360-h)<x&&(s+=360),s}queryTerrainElevation(s){return this.terrain?this.terrain.getElevationForLngLat(i.V.convert(s)):null}}const El={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class ho{constructor(s=El){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=h=>{!h||h.sourceDataType!=="metadata"&&h.sourceDataType!=="visibility"&&h.dataType!=="style"&&h.type!=="terrain"||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact===!1?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=s}getDefaultPosition(){return"bottom-right"}onAdd(s){return this._map=s,this._compact=this.options.compact,this._container=z.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=z.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=z.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){z.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(s,h){const x=this._map._getUIString(`AttributionControl.${h}`);s.title=x,s.setAttribute("aria-label",x)}_updateAttributions(){if(!this._map.style)return;let s=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?s=s.concat(this.options.customAttribution.map((k=>typeof k!="string"?"":k))):typeof this.options.customAttribution=="string"&&s.push(this.options.customAttribution)),this._map.style.stylesheet){const k=this._map.style.stylesheet;this.styleOwner=k.owner,this.styleId=k.id}const h=this._map.style.tileManagers;for(const k in h){const L=h[k];if(L.used||L.usedForTerrain){const U=L.getSource();U.attribution&&s.indexOf(U.attribution)<0&&s.push(U.attribution)}}s=s.filter((k=>String(k).trim())),s.sort(((k,L)=>k.length-L.length)),s=s.filter(((k,L)=>{for(let U=L+1;U<s.length;U++)if(s[U].indexOf(k)>=0)return!1;return!0}));const x=s.join(" | ");x!==this._attribHTML&&(this._attribHTML=x,s.length?(this._innerContainer.innerHTML=z.sanitize(x),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Fd{constructor(s={}){this._updateCompact=()=>{const h=this._container.children;if(h.length){const x=h[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?this._compact!==!1&&x.classList.add("maplibregl-compact"):x.classList.remove("maplibregl-compact")}},this.options=s}getDefaultPosition(){return"bottom-left"}onAdd(s){this._map=s,this._compact=this.options&&this.options.compact,this._container=z.create("div","maplibregl-ctrl");const h=z.create("a","maplibregl-ctrl-logo");return h.target="_blank",h.rel="noopener nofollow",h.href="https://maplibre.org/",h.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),h.setAttribute("rel","noopener nofollow"),this._container.appendChild(h),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){z.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class Fa{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(s){const h=++this._id;return this._queue.push({callback:s,id:h,cancelled:!1}),h}remove(s){const h=this._currentlyRunning,x=h?this._queue.concat(h):this._queue;for(const k of x)if(k.id===s)return void(k.cancelled=!0)}run(s=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const h=this._currentlyRunning=this._queue;this._queue=[];for(const x of h)if(!x.cancelled&&(x.callback(s),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var Lr=i.aV([{name:"a_pos3d",type:"Int16",components:3}]);class yi extends i.E{constructor(s){super(),this._lastTilesetChange=G(),this.tileManager=s,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=s._source.tileSize*2**this.deltaZoom,s.usedForTerrain=!0,s.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(s,h){this.tileManager.update(s,h),this._renderableTilesKeys=[];const x={};for(const k of Ir(s,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:h,calculateTileZoom:this.tileManager._source.calculateTileZoom}))x[k.key]=!0,this._renderableTilesKeys.push(k.key),this._tiles[k.key]||(k.terrainRttPosMatrix32f=new Float64Array(16),i.c8(k.terrainRttPosMatrix32f,0,i.a5,i.a5,0,0,1),this._tiles[k.key]=new sn(k,this.tileSize),this._lastTilesetChange=G());for(const k in this._tiles)x[k]||delete this._tiles[k]}freeRtt(s){for(const h in this._tiles){const x=this._tiles[h];(!s||x.tileID.equals(s)||x.tileID.isChildOf(s)||s.isChildOf(x.tileID))&&(x.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((s=>this.getTileByID(s)))}getTileByID(s){return this._tiles[s]}getTerrainCoords(s,h){return h?this._getTerrainCoordsForTileRanges(s,h):this._getTerrainCoordsForRegularTile(s)}_getTerrainCoordsForRegularTile(s){const h={};for(const x of this._renderableTilesKeys){const k=this._tiles[x].tileID,L=s.clone(),U=i.bl();if(k.canonical.equals(s.canonical))i.c8(U,0,i.a5,i.a5,0,0,1);else if(k.canonical.isChildOf(s.canonical)){const W=k.canonical.z-s.canonical.z,ee=k.canonical.x-(k.canonical.x>>W<<W),ce=k.canonical.y-(k.canonical.y>>W<<W),fe=i.a5>>W;i.c8(U,0,fe,fe,0,0,1),i.O(U,U,[-ee*fe,-ce*fe,0])}else{if(!s.canonical.isChildOf(k.canonical))continue;{const W=s.canonical.z-k.canonical.z,ee=s.canonical.x-(s.canonical.x>>W<<W),ce=s.canonical.y-(s.canonical.y>>W<<W),fe=i.a5>>W;i.c8(U,0,i.a5,i.a5,0,0,1),i.O(U,U,[ee*fe,ce*fe,0]),i.Q(U,U,[1/2**W,1/2**W,0])}}L.terrainRttPosMatrix32f=new Float32Array(U),h[x]=L}return h}_getTerrainCoordsForTileRanges(s,h){const x={};for(const k of this._renderableTilesKeys){const L=this._tiles[k].tileID;if(!this._isWithinTileRanges(L,h))continue;const U=s.clone(),W=i.bl();if(L.canonical.z===s.canonical.z){const ee=s.canonical.x-L.canonical.x,ce=s.canonical.y-L.canonical.y;i.c8(W,0,i.a5,i.a5,0,0,1),i.O(W,W,[ee*i.a5,ce*i.a5,0])}else if(L.canonical.z>s.canonical.z){const ee=L.canonical.z-s.canonical.z,ce=L.canonical.x-(L.canonical.x>>ee<<ee),fe=L.canonical.y-(L.canonical.y>>ee<<ee),Ce=s.canonical.x-(L.canonical.x>>ee),Ee=s.canonical.y-(L.canonical.y>>ee),Le=i.a5>>ee;i.c8(W,0,Le,Le,0,0,1),i.O(W,W,[-ce*Le+Ce*i.a5,-fe*Le+Ee*i.a5,0])}else{const ee=s.canonical.z-L.canonical.z,ce=s.canonical.x-(s.canonical.x>>ee<<ee),fe=s.canonical.y-(s.canonical.y>>ee<<ee),Ce=(s.canonical.x>>ee)-L.canonical.x,Ee=(s.canonical.y>>ee)-L.canonical.y,Le=i.a5<<ee;i.c8(W,0,Le,Le,0,0,1),i.O(W,W,[ce*i.a5+Ce*Le,fe*i.a5+Ee*Le,0])}U.terrainRttPosMatrix32f=new Float32Array(W),x[k]=U}return x}getSourceTile(s,h){const x=this.tileManager._source;let k=s.overscaledZ-this.deltaZoom;if(k>x.maxzoom&&(k=x.maxzoom),k<x.minzoom)return;this._sourceTileCache[s.key]||(this._sourceTileCache[s.key]=s.scaledTo(k).key);let L=this.findTileInCaches(this._sourceTileCache[s.key]);if(!L?.dem&&h)for(;k>=x.minzoom&&!L?.dem;)L=this.findTileInCaches(s.scaledTo(k--).key);return L}findTileInCaches(s){let h=this.tileManager.getTileByID(s);return h||(h=this.tileManager._outOfViewCache.getByKey(s),h)}anyTilesAfterTime(s=Date.now()){return this._lastTilesetChange>=s}_isWithinTileRanges(s,h){return h[s.canonical.z]&&s.canonical.x>=h[s.canonical.z].minTileX&&s.canonical.x<=h[s.canonical.z].maxTileX&&s.canonical.y>=h[s.canonical.z].minTileY&&s.canonical.y<=h[s.canonical.z].maxTileY}}class Pi{constructor(s,h,x){this._meshCache={},this.painter=s,this.tileManager=new yi(h),this.options=x,this.exaggeration=typeof x.exaggeration=="number"?x.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(s,h,x,k=i.a5){var L;if(!(h>=0&&h<k&&x>=0&&x<k))return 0;const U=this.getTerrainData(s),W=(L=U.tile)===null||L===void 0?void 0:L.dem;if(!W)return 0;const ee=i.cD([],[h/k*i.a5,x/k*i.a5],U.u_terrain_matrix),ce=[ee[0]*W.dim,ee[1]*W.dim],fe=Math.floor(ce[0]),Ce=Math.floor(ce[1]),Ee=ce[0]-fe,Le=ce[1]-Ce;return W.get(fe,Ce)*(1-Ee)*(1-Le)+W.get(fe+1,Ce)*Ee*(1-Le)+W.get(fe,Ce+1)*(1-Ee)*Le+W.get(fe+1,Ce+1)*Ee*Le}getElevationForLngLatZoom(s,h){if(!i.cE(h,s.wrap()))return 0;const{tileID:x,mercatorX:k,mercatorY:L}=this._getOverscaledTileIDFromLngLatZoom(s,h);return this.getElevation(x,k%i.a5,L%i.a5,i.a5)}getElevationForLngLat(s){return this.getElevationForLngLatZoom(s,this.tileManager.maxzoom)}getElevation(s,h,x,k=i.a5){return this.getDEMElevation(s,h,x,k)*this.exaggeration}getTerrainData(s){if(!this._emptyDemTexture){const k=this.painter.context,L=new i.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new i.T(k,L,k.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new i.T(k,new i.R({width:1,height:1}),k.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(k.gl.NEAREST,k.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=i.as([])}const h=this.tileManager.getSourceTile(s,!0);if(h&&h.dem&&(!h.demTexture||h.needsTerrainPrepare)){const k=this.painter.context;h.demTexture=this.painter.getTileTexture(h.dem.stride),h.demTexture?h.demTexture.update(h.dem.getPixels(),{premultiply:!1}):h.demTexture=new i.T(k,h.dem.getPixels(),k.gl.RGBA,{premultiply:!1}),h.demTexture.bind(k.gl.NEAREST,k.gl.CLAMP_TO_EDGE),h.needsTerrainPrepare=!1}const x=h&&h+h.tileID.key+s.key;if(x&&!this._demMatrixCache[x]){const k=this.tileManager.getSource().maxzoom;let L=s.canonical.z-h.tileID.canonical.z;s.overscaledZ>s.canonical.z&&(s.canonical.z>=k?L=s.canonical.z-k:i.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const U=s.canonical.x-(s.canonical.x>>L<<L),W=s.canonical.y-(s.canonical.y>>L<<L),ee=i.cF(new Float64Array(16),[1/(i.a5<<L),1/(i.a5<<L),0]);i.O(ee,ee,[U*i.a5,W*i.a5,0]),this._demMatrixCache[s.key]={matrix:ee,coord:s}}return{u_depth:2,u_terrain:3,u_terrain_dim:h&&h.dem&&h.dem.dim||1,u_terrain_matrix:x?this._demMatrixCache[s.key].matrix:this._emptyDemMatrix,u_terrain_unpack:h&&h.dem&&h.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(h&&h.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:h}}getFramebuffer(s){const h=this.painter,x=h.width/devicePixelRatio,k=h.height/devicePixelRatio;return!this._fbo||this._fbo.width===x&&this._fbo.height===k||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new i.T(h.context,{width:x,height:k,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new i.T(h.context,{width:x,height:k,data:null},h.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(h.context.gl.NEAREST,h.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=h.context.createFramebuffer(x,k,!0,!1),this._fbo.depthAttachment.set(h.context.createRenderbuffer(h.context.gl.DEPTH_COMPONENT16,x,k))),this._fbo.colorAttachment.set(s==="coords"?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const s=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const h=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let L=0,U=0;L<this._coordsTextureSize;L++)for(let W=0;W<this._coordsTextureSize;W++,U+=4)h[U+0]=255&W,h[U+1]=255&L,h[U+2]=W>>8<<4|L>>8,h[U+3]=0;const x=new i.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(h.buffer)),k=new i.T(s,x,s.gl.RGBA,{premultiply:!1});return k.bind(s.gl.NEAREST,s.gl.CLAMP_TO_EDGE),this._coordsTexture=k,k}pointCoordinate(s){this.painter.maybeDrawDepthAndCoords(!0);const h=new Uint8Array(4),x=this.painter.context,k=x.gl,L=Math.round(s.x*this.painter.pixelRatio/devicePixelRatio),U=Math.round(s.y*this.painter.pixelRatio/devicePixelRatio),W=Math.round(this.painter.height/devicePixelRatio);x.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),k.readPixels(L,W-U-1,1,1,k.RGBA,k.UNSIGNED_BYTE,h),x.bindFramebuffer.set(null);const ee=h[0]+(h[2]>>4<<8),ce=h[1]+((15&h[2])<<8),fe=this.coordsIndex[255-h[3]],Ce=fe&&this.tileManager.getTileByID(fe);if(!Ce)return null;const Ee=this._coordsTextureSize,Le=(1<<Ce.tileID.canonical.z)*Ee;return new i.ab((Ce.tileID.canonical.x*Ee+ee)/Le+Ce.tileID.wrap,(Ce.tileID.canonical.y*Ee+ce)/Le,this.getElevation(Ce.tileID,ee,ce,Ee))}depthAtPoint(s){const h=new Uint8Array(4),x=this.painter.context,k=x.gl;return x.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),k.readPixels(s.x,this.painter.height/devicePixelRatio-s.y-1,1,1,k.RGBA,k.UNSIGNED_BYTE,h),x.bindFramebuffer.set(null),(h[0]/16777216+h[1]/65536+h[2]/256+h[3])/256}getTerrainMesh(s){var h;const x=((h=this.painter.style.projection)===null||h===void 0?void 0:h.transitionState)>0,k=x&&s.canonical.y===0,L=x&&s.canonical.y===(1<<s.canonical.z)-1,U=`m_${k?"n":""}_${L?"s":""}`;if(this._meshCache[U])return this._meshCache[U];const W=this.painter.context,ee=new i.cG,ce=new i.aZ,fe=this.meshSize,Ce=i.a5/fe,Ee=fe*fe;for(let bt=0;bt<=fe;bt++)for(let jt=0;jt<=fe;jt++)ee.emplaceBack(jt*Ce,bt*Ce,0);for(let bt=0;bt<Ee;bt+=fe+1)for(let jt=0;jt<fe;jt++)ce.emplaceBack(jt+bt,fe+jt+bt+1,fe+jt+bt+2),ce.emplaceBack(jt+bt,fe+jt+bt+2,jt+bt+1);const Le=ee.length,ze=Le+(fe+1),it=(fe+1)*fe,ct=k?i.bs:0,lt=k?0:1,pt=L?i.bt:i.a5,Tt=L?0:1;for(let bt=0;bt<=fe;bt++)ee.emplaceBack(bt*Ce,ct,lt);for(let bt=0;bt<=fe;bt++)ee.emplaceBack(bt*Ce,pt,Tt);for(let bt=0;bt<fe;bt++)ce.emplaceBack(it+bt,ze+bt,ze+bt+1),ce.emplaceBack(it+bt,ze+bt+1,it+bt+1),ce.emplaceBack(0+bt,Le+bt+1,Le+bt),ce.emplaceBack(0+bt,0+bt+1,Le+bt+1);const gt=ee.length,At=gt+2*(fe+1);for(const bt of[0,1])for(let jt=0;jt<=fe;jt++)for(const Qt of[0,1])ee.emplaceBack(bt*i.a5,jt*Ce,Qt);for(let bt=0;bt<2*fe;bt+=2)ce.emplaceBack(gt+bt,gt+bt+1,gt+bt+3),ce.emplaceBack(gt+bt,gt+bt+3,gt+bt+2),ce.emplaceBack(At+bt,At+bt+3,At+bt+1),ce.emplaceBack(At+bt,At+bt+2,At+bt+3);const Rt=new Va(W.createVertexBuffer(ee,Lr.members),W.createIndexBuffer(ce),i.aY.simpleSegment(0,0,ee.length,ce.length));return this._meshCache[U]=Rt,Rt}getMeshFrameDelta(s){return 2*Math.PI*i.bF/Math.pow(2,Math.max(s,0))/5}getMinTileElevationForLngLatZoom(s,h){var x;if(!i.cE(h,s.wrap()))return 0;const{tileID:k}=this._getOverscaledTileIDFromLngLatZoom(s,h);return(x=this.getMinMaxElevation(k).minElevation)!==null&&x!==void 0?x:0}getMinMaxElevation(s){const h=this.getTerrainData(s).tile,x={minElevation:null,maxElevation:null};return h&&h.dem&&(x.minElevation=h.dem.min*this.exaggeration,x.maxElevation=h.dem.max*this.exaggeration),x}_getOverscaledTileIDFromLngLatZoom(s,h){const x=i.ab.fromLngLat(s.wrap()),k=(1<<h)*i.a5,L=x.x*k,U=x.y*k,W=Math.floor(L/i.a5),ee=Math.floor(U/i.a5);return{tileID:new i.a2(h,0,h,W,ee),mercatorX:L,mercatorY:U}}}class Ef{constructor(s,h,x){this._context=s,this._size=h,this._tileSize=x,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const s of this._objects)s.texture.destroy(),s.fbo.destroy()}_createObject(s){const h=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),x=new i.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return x.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),h.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),h.colorAttachment.set(x.texture),{id:s,fbo:h,texture:x,stamp:-1,inUse:!1}}getObjectForId(s){return this._objects[s]}useObject(s){s.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((h=>s.id!==h)),this._recentlyUsed.push(s.id)}stampObject(s){s.stamp=++this._stamp}getOrCreateFreeObject(){for(const h of this._recentlyUsed)if(!this._objects[h].inUse)return this._objects[h];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const s=this._createObject(this._objects.length);return this._objects.push(s),s}freeObject(s){s.inUse=!1}freeAllObjects(){for(const s of this._objects)this.freeObject(s)}isFull(){return!(this._objects.length<this._size)&&this._objects.some((s=>!s.inUse))===!1}}const lu={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class Bd{constructor(s,h){this.painter=s,this.terrain=h,this.pool=new Ef(s.context,30,h.tileManager.tileSize*h.qualityFactor)}destruct(){this.pool.destruct()}getTexture(s){return this.pool.getObjectForId(s.rtt[this._stacks.length-1].id).texture}prepareForRender(s,h){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=s._order.filter((x=>!s._layers[x].isHidden(h))),this._coordsAscending={};for(const x in s.tileManagers){this._coordsAscending[x]={};const k=s.tileManagers[x].getVisibleCoordinates(),L=s.tileManagers[x].getSource(),U=L instanceof jn?L.terrainTileRanges:null;for(const W of k){const ee=this.terrain.tileManager.getTerrainCoords(W,U);for(const ce in ee)this._coordsAscending[x][ce]||(this._coordsAscending[x][ce]=[]),this._coordsAscending[x][ce].push(ee[ce])}}this._coordsAscendingStr={};for(const x of s._order){const k=s._layers[x],L=k.source;if(lu[k.type]&&!this._coordsAscendingStr[L]){this._coordsAscendingStr[L]={};for(const U in this._coordsAscending[L])this._coordsAscendingStr[L][U]=this._coordsAscending[L][U].map((W=>W.key)).sort().join()}}for(const x of this._renderableTiles)for(const k in this._coordsAscendingStr){const L=this._coordsAscendingStr[k][x.tileID.key];L&&L!==x.rttCoords[k]&&(x.rtt=[])}}renderLayer(s,h){if(s.isHidden(this.painter.transform.zoom))return!1;const x=Object.assign(Object.assign({},h),{isRenderingToTexture:!0}),k=s.type,L=this.painter,U=this._renderableLayerIds[this._renderableLayerIds.length-1]===s.id;if(lu[k]&&(this._prevType&&lu[this._prevType]||this._stacks.push([]),this._prevType=k,this._stacks[this._stacks.length-1].push(s.id),!U))return!0;if(lu[this._prevType]||lu[k]&&U){this._prevType=k;const W=this._stacks.length-1,ee=this._stacks[W]||[];for(const ce of this._renderableTiles){if(this.pool.isFull()&&(wg(this.painter,this.terrain,this._rttTiles,x),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(ce),ce.rtt[W]){const Ce=this.pool.getObjectForId(ce.rtt[W].id);if(Ce.stamp===ce.rtt[W].stamp){this.pool.useObject(Ce);continue}}const fe=this.pool.getOrCreateFreeObject();this.pool.useObject(fe),this.pool.stampObject(fe),ce.rtt[W]={id:fe.id,stamp:fe.stamp},L.context.bindFramebuffer.set(fe.fbo.framebuffer),L.context.clear({color:i.bq.transparent,stencil:0}),L.currentStencilSource=void 0;for(let Ce=0;Ce<ee.length;Ce++){const Ee=L.style._layers[ee[Ce]],Le=Ee.source?this._coordsAscending[Ee.source][ce.tileID.key]:[ce.tileID];L.context.viewport.set([0,0,fe.fbo.width,fe.fbo.height]),L._renderTileClippingMasks(Ee,Le,!0),L.renderLayer(L,L.style.tileManagers[Ee.source],Ee,Le,x),Ee.source&&(ce.rttCoords[Ee.source]=this._coordsAscendingStr[Ee.source][ce.tileID.key])}}return wg(this.painter,this.terrain,this._rttTiles,x),this._rttTiles=[],this.pool.freeAllObjects(),lu[k]}return!1}}const ip={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use  + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},nd=m,vc={hash:!1,interactive:!0,bearingSnap:7,attributionControl:El,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:i.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},Wy={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class Fi{constructor(s,h,x=!1){this.mousedown=L=>{this.startMove(L,z.mousePos(this.element,L)),z.addEventListener(window,"mousemove",this.mousemove),z.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=L=>{this.move(L,z.mousePos(this.element,L))},this.mouseup=L=>{this._rotatePitchHandler.dragEnd(L),this.offTemp()},this.touchstart=L=>{L.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=z.touchPos(this.element,L.targetTouches)[0],this.startMove(L,this._startPos),z.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),z.addEventListener(window,"touchend",this.touchend))},this.touchmove=L=>{L.targetTouches.length!==1?this.reset():(this._lastPos=z.touchPos(this.element,L.targetTouches)[0],this.move(L,this._lastPos))},this.touchend=L=>{L.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=h;const k=new uh;this._rotatePitchHandler=new Fs({clickTolerance:3,move:(L,U)=>{const W=h.getBoundingClientRect(),ee=new i.P((W.bottom-W.top)/2,(W.right-W.left)/2);return{bearingDelta:i.cy(new i.P(L.x,U.y),U,ee),pitchDelta:x?-.5*(U.y-L.y):void 0}},moveStateManager:k,enable:!0,assignEvents:()=>{}}),this.map=s,z.addEventListener(h,"mousedown",this.mousedown),z.addEventListener(h,"touchstart",this.touchstart,{passive:!1}),z.addEventListener(h,"touchcancel",this.reset)}startMove(s,h){this._rotatePitchHandler.dragStart(s,h),z.disableDrag()}move(s,h){const x=this.map,{bearingDelta:k,pitchDelta:L}=this._rotatePitchHandler.dragMove(s,h)||{};k&&x.setBearing(x.getBearing()+k),L&&x.setPitch(x.getPitch()+L)}off(){const s=this.element;z.removeEventListener(s,"mousedown",this.mousedown),z.removeEventListener(s,"touchstart",this.touchstart,{passive:!1}),z.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),z.removeEventListener(window,"touchend",this.touchend),z.removeEventListener(s,"touchcancel",this.reset),this.offTemp()}offTemp(){z.enableDrag(),z.removeEventListener(window,"mousemove",this.mousemove),z.removeEventListener(window,"mouseup",this.mouseup),z.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),z.removeEventListener(window,"touchend",this.touchend)}}let Ou;function dh(O,s,h,x=!1){if(x||!h.getCoveringTilesDetailsProvider().allowWorldCopies())return O?.wrap();const k=new i.V(O.lng,O.lat);if(O=new i.V(O.lng,O.lat),s){const L=new i.V(O.lng-360,O.lat),U=new i.V(O.lng+360,O.lat),W=h.locationToScreenPoint(O).distSqr(s);h.locationToScreenPoint(L).distSqr(s)<W?O=L:h.locationToScreenPoint(U).distSqr(s)<W&&(O=U)}for(;Math.abs(O.lng-h.center.lng)>180;){const L=h.locationToScreenPoint(O);if(L.x>=0&&L.y>=0&&L.x<=h.width&&L.y<=h.height)break;O.lng>h.center.lng?O.lng-=360:O.lng+=360}return O.lng!==k.lng&&h.isPointOnMapSurface(h.locationToScreenPoint(O))?O:k}const fh={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function wf(O,s,h){const x=O.classList;for(const k in fh)x.remove(`maplibregl-${h}-anchor-${k}`);x.add(`maplibregl-${h}-anchor-${s}`)}class fm extends i.E{constructor(s){if(super(),this._onKeyPress=h=>{const x=h.code,k=h.charCode||h.keyCode;x!=="Space"&&x!=="Enter"&&k!==32&&k!==13||this.togglePopup()},this._onMapClick=h=>{const x=h.originalEvent.target,k=this._element;this._popup&&(x===k||k.contains(x))&&this.togglePopup()},this._update=h=>{if(!this._map)return;const x=this._map.loaded()&&!this._map.isMoving();(h?.type==="terrain"||h?.type==="render"&&!x)&&this._map.once("render",this._update),this._lngLat=dh(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let k="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?k=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(k=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let L="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?L="rotateX(0deg)":this._pitchAlignment==="map"&&(L=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||h&&h.type!=="moveend"||(this._pos=this._pos.round()),z.setTransform(this._element,`${fh[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${L} ${k}`),P.frameAsync(new AbortController).then((()=>{this._updateOpacity(h&&h.type==="moveend")})).catch((()=>{}))},this._onMove=h=>{if(!this._isDragging){const x=this._clickTolerance||this._map._clickTolerance;this._isDragging=h.point.dist(this._pointerdownPos)>=x}this._isDragging&&(this._pos=h.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new i.l("dragstart"))),this.fire(new i.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new i.l("dragend")),this._state="inactive"},this._addDragHandler=h=>{this._element.contains(h.originalEvent.target)&&(h.preventDefault(),this._positionDelta=h.point.sub(this._pos).add(this._offset),this._pointerdownPos=h.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=s&&s.anchor||"center",this._color=s&&s.color||"#3FB1CE",this._scale=s&&s.scale||1,this._draggable=s&&s.draggable||!1,this._clickTolerance=s&&s.clickTolerance||0,this._subpixelPositioning=s&&s.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=s&&s.rotation||0,this._rotationAlignment=s&&s.rotationAlignment||"auto",this._pitchAlignment=s&&s.pitchAlignment&&s.pitchAlignment!=="auto"?s.pitchAlignment:this._rotationAlignment,this.setOpacity(s?.opacity,s?.opacityWhenCovered),s&&s.element)this._element=s.element,this._offset=i.P.convert(s&&s.offset||[0,0]);else{this._defaultMarker=!0,this._element=z.create("div");const h=z.createNS("http://www.w3.org/2000/svg","svg"),x=41,k=27;h.setAttributeNS(null,"display","block"),h.setAttributeNS(null,"height",`${x}px`),h.setAttributeNS(null,"width",`${k}px`),h.setAttributeNS(null,"viewBox",`0 0 ${k} ${x}`);const L=z.createNS("http://www.w3.org/2000/svg","g");L.setAttributeNS(null,"stroke","none"),L.setAttributeNS(null,"stroke-width","1"),L.setAttributeNS(null,"fill","none"),L.setAttributeNS(null,"fill-rule","evenodd");const U=z.createNS("http://www.w3.org/2000/svg","g");U.setAttributeNS(null,"fill-rule","nonzero");const W=z.createNS("http://www.w3.org/2000/svg","g");W.setAttributeNS(null,"transform","translate(3.0, 29.0)"),W.setAttributeNS(null,"fill","#000000");const ee=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const lt of ee){const pt=z.createNS("http://www.w3.org/2000/svg","ellipse");pt.setAttributeNS(null,"opacity","0.04"),pt.setAttributeNS(null,"cx","10.5"),pt.setAttributeNS(null,"cy","5.80029008"),pt.setAttributeNS(null,"rx",lt.rx),pt.setAttributeNS(null,"ry",lt.ry),W.appendChild(pt)}const ce=z.createNS("http://www.w3.org/2000/svg","g");ce.setAttributeNS(null,"fill",this._color);const fe=z.createNS("http://www.w3.org/2000/svg","path");fe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ce.appendChild(fe);const Ce=z.createNS("http://www.w3.org/2000/svg","g");Ce.setAttributeNS(null,"opacity","0.25"),Ce.setAttributeNS(null,"fill","#000000");const Ee=z.createNS("http://www.w3.org/2000/svg","path");Ee.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ce.appendChild(Ee);const Le=z.createNS("http://www.w3.org/2000/svg","g");Le.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Le.setAttributeNS(null,"fill","#FFFFFF");const ze=z.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"transform","translate(8.0, 8.0)");const it=z.createNS("http://www.w3.org/2000/svg","circle");it.setAttributeNS(null,"fill","#000000"),it.setAttributeNS(null,"opacity","0.25"),it.setAttributeNS(null,"cx","5.5"),it.setAttributeNS(null,"cy","5.5"),it.setAttributeNS(null,"r","5.4999962");const ct=z.createNS("http://www.w3.org/2000/svg","circle");ct.setAttributeNS(null,"fill","#FFFFFF"),ct.setAttributeNS(null,"cx","5.5"),ct.setAttributeNS(null,"cy","5.5"),ct.setAttributeNS(null,"r","5.4999962"),ze.appendChild(it),ze.appendChild(ct),U.appendChild(W),U.appendChild(ce),U.appendChild(Ce),U.appendChild(Le),U.appendChild(ze),h.appendChild(U),h.setAttributeNS(null,"height",x*this._scale+"px"),h.setAttributeNS(null,"width",k*this._scale+"px"),this._element.appendChild(h),this._offset=i.P.convert(s&&s.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(h=>{h.preventDefault()})),this._element.addEventListener("mousedown",(h=>{h.preventDefault()})),wf(this._element,this._anchor,"marker"),s&&s.className)for(const h of s.className.split(" "))this._element.classList.add(h);this._popup=null}addTo(s){return this.remove(),this._map=s,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",s._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),s.getCanvasContainer().appendChild(this._element),s.on("move",this._update),s.on("moveend",this._update),s.on("terrain",this._update),s.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),z.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(s){return this._lngLat=i.V.convert(s),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(s){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),s){if(!("offset"in s.options)){const k=Math.abs(13.5)/Math.SQRT2;s.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[k,-1*(38.1-13.5+k)],"bottom-right":[-k,-1*(38.1-13.5+k)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=s,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(s){return this._subpixelPositioning=s,this}getPopup(){return this._popup}togglePopup(){const s=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:s?(s.isOpen()?s.remove():(s.setLngLat(this._lngLat),s.addTo(this._map)),this):this}_updateOpacity(s=!1){var h,x;const k=(h=this._map)===null||h===void 0?void 0:h.terrain,L=this._map.transform.isLocationOccluded(this._lngLat);if(!k||L){const Le=L?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==Le&&(this._element.style.opacity=Le))}if(s)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout((()=>{this._opacityTimeout=null}),100)}const U=this._map,W=U.terrain.depthAtPoint(this._pos),ee=U.terrain.getElevationForLngLat(this._lngLat);if(U.transform.lngLatToCameraDepth(this._lngLat,ee)-W<.006)return void(this._element.style.opacity=this._opacity);const ce=-this._offset.y/U.transform.pixelsPerMeter,fe=Math.sin(U.getPitch()*Math.PI/180)*ce,Ce=U.terrain.depthAtPoint(new i.P(this._pos.x,this._pos.y-this._offset.y)),Ee=U.transform.lngLatToCameraDepth(this._lngLat,ee+fe)-Ce>.006;!((x=this._popup)===null||x===void 0)&&x.isOpen()&&Ee&&this._popup.remove(),this._element.style.opacity=Ee?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(s){return this._offset=i.P.convert(s),this._update(),this}addClassName(s){this._element.classList.add(s)}removeClassName(s){this._element.classList.remove(s)}toggleClassName(s){return this._element.classList.toggle(s)}setDraggable(s){return this._draggable=!!s,this._map&&(s?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(s){return this._rotation=s||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(s){return this._rotationAlignment=s||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(s){return this._pitchAlignment=s&&s!=="auto"?s:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(s,h){return(this._opacity===void 0||s===void 0&&h===void 0)&&(this._opacity="1",this._opacityWhenCovered="0.2"),s!==void 0&&(this._opacity=s),h!==void 0&&(this._opacityWhenCovered=h),this._map&&this._updateOpacity(!0),this}}const op={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let rd=0,$d=!1;const Ss={maxWidth:100,unit:"metric"};function Ui(O,s,h){const x=h&&h.maxWidth||100,k=O._container.clientHeight/2,L=O._container.clientWidth/2,U=O.unproject([L-x/2,k]),W=O.unproject([L+x/2,k]),ee=Math.round(O.project(W).x-O.project(U).x),ce=Math.min(x,ee,O._container.clientWidth),fe=U.distanceTo(W);if(h&&h.unit==="imperial"){const Ce=3.2808*fe;Ce>5280?Du(s,ce,Ce/5280,O._getUIString("ScaleControl.Miles")):Du(s,ce,Ce,O._getUIString("ScaleControl.Feet"))}else h&&h.unit==="nautical"?Du(s,ce,fe/1852,O._getUIString("ScaleControl.NauticalMiles")):fe>=1e3?Du(s,ce,fe/1e3,O._getUIString("ScaleControl.Kilometers")):Du(s,ce,fe,O._getUIString("ScaleControl.Meters"))}function Du(O,s,h,x){const k=(function(L){const U=Math.pow(10,`${Math.floor(L)}`.length-1);let W=L/U;return W=W>=10?10:W>=5?5:W>=3?3:W>=2?2:W>=1?1:(function(ee){const ce=Math.pow(10,Math.ceil(-Math.log(ee)/Math.LN10));return Math.round(ee*ce)/ce})(W),U*W})(h);O.style.width=s*(k/h)+"px",O.innerHTML=`${k}&nbsp;${x}`}const Sf={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Tf=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function sp(O){if(O){if(typeof O=="number"){const s=Math.round(Math.abs(O)/Math.SQRT2);return{center:new i.P(0,0),top:new i.P(0,O),"top-left":new i.P(s,s),"top-right":new i.P(-s,s),bottom:new i.P(0,-O),"bottom-left":new i.P(s,-s),"bottom-right":new i.P(-s,-s),left:new i.P(O,0),right:new i.P(-O,0)}}if(O instanceof i.P||Array.isArray(O)){const s=i.P.convert(O);return{center:s,top:s,"top-left":s,"top-right":s,bottom:s,"bottom-left":s,"bottom-right":s,left:s,right:s}}return{center:i.P.convert(O.center||[0,0]),top:i.P.convert(O.top||[0,0]),"top-left":i.P.convert(O["top-left"]||[0,0]),"top-right":i.P.convert(O["top-right"]||[0,0]),bottom:i.P.convert(O.bottom||[0,0]),"bottom-left":i.P.convert(O["bottom-left"]||[0,0]),"bottom-right":i.P.convert(O["bottom-right"]||[0,0]),left:i.P.convert(O.left||[0,0]),right:i.P.convert(O.right||[0,0])}}return sp(new i.P(0,0))}const uu=m;u.AJAXError=i.cJ,u.Event=i.l,u.Evented=i.E,u.LngLat=i.V,u.MercatorCoordinate=i.ab,u.Point=i.P,u.addProtocol=i.cK,u.config=i.c,u.removeProtocol=i.cL,u.AttributionControl=ho,u.BoxZoomHandler=ap,u.CanvasSource=Oe,u.CooperativeGesturesHandler=xl,u.DoubleClickZoomHandler=dm,u.DragPanHandler=Cr,u.DragRotateHandler=Er,u.EdgeInsets=Ns,u.FullscreenControl=class extends i.E{constructor(O={}){super(),this._onFullscreenChange=()=>{var s;let h=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;!((s=h?.shadowRoot)===null||s===void 0)&&s.fullscreenElement;)h=h.shadowRoot.fullscreenElement;h===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,O&&O.container&&(O.container instanceof HTMLElement?this._container=O.container:i.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(O){return this._map=O,this._container||(this._container=this._map.getContainer()),this._controlContainer=z.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){z.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const O=this._fullscreenButton=z.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);z.create("span","maplibregl-ctrl-icon",O).setAttribute("aria-hidden","true"),O.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const O=this._getTitle();this._fullscreenButton.setAttribute("aria-label",O),this._fullscreenButton.title=O}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new i.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new i.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},u.GeoJSONSource=hn,u.GeolocateControl=class extends i.E{constructor(O){super(),this._onSuccess=s=>{if(this._map){if(this._isOutOfMapMaxBounds(s))return this._setErrorState(),this.fire(new i.l("outofmaxbounds",s)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=s,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(s),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(s),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new i.l("geolocate",s)),this._finish()}},this._updateCamera=s=>{const h=new i.V(s.coords.longitude,s.coords.latitude),x=s.coords.accuracy,k=this._map.getBearing(),L=i.e({bearing:k},this.options.fitBoundsOptions),U=Tn.fromLngLat(h,x);this._map.fitBounds(U,L,{geolocateSource:!0})},this._updateMarker=s=>{if(s){const h=new i.V(s.coords.longitude,s.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=s.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=s=>{if(this._map){if(s.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(s.code===3&&$d)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new i.l("error",s)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this._geolocateButton=z.create("button","maplibregl-ctrl-geolocate",this._container),z.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=s=>{if(this._map){if(s===!1){i.w("Geolocation support is not available so the GeolocateControl will be disabled.");const h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}else{const h=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=z.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new fm({element:this._dotElement}),this._circleElement=z.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new fm({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",(()=>this.trigger())),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(h=>{const x=h?.[0]instanceof ResizeObserverEntry;h.geolocateSource||this._watchState!=="ACTIVE_LOCK"||x||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new i.l("trackuserlocationend")),this.fire(new i.l("userlocationlostfocus")))}))}},this.options=i.e({},op,O)}onAdd(O){return this._map=O,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),(function(){return i._(this,arguments,void 0,(function*(s=!1){if(Ou!==void 0&&!s)return Ou;if(window.navigator.permissions===void 0)return Ou=!!window.navigator.geolocation,Ou;try{Ou=(yield window.navigator.permissions.query({name:"geolocation"})).state!=="denied"}catch{Ou=!!window.navigator.geolocation}return Ou}))})().then((s=>this._finishSetupUI(s))),this._container}onRemove(){this._geolocationWatchID!==void 0&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),z.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,rd=0,$d=!1}_isOutOfMapMaxBounds(O){const s=this._map.getMaxBounds(),h=O.coords;return s&&(h.longitude<s.getWest()||h.longitude>s.getEast()||h.latitude<s.getSouth()||h.latitude>s.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const O=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&O))return;const s=this._map.project(O),h=this._map.unproject([s.x+100,s.y]),x=O.distanceTo(h)/100,k=2*this._accuracy/x;this._circleElement.style.width=`${k.toFixed(2)}px`,this._circleElement.style.height=`${k.toFixed(2)}px`}trigger(){if(!this._setup)return i.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new i.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":rd--,$d=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new i.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new i.l("trackuserlocationstart")),this.fire(new i.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let O;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),rd++,rd>1?(O={maximumAge:6e5,timeout:0},$d=!0):(O=this.options.positionOptions,$d=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,O)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},u.GlobeControl=class{constructor(){this._toggleProjection=()=>{var O;const s=(O=this._map.getProjection())===null||O===void 0?void 0:O.type;this._map.setProjection(s!=="mercator"&&s?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var O;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),((O=this._map.getProjection())===null||O===void 0?void 0:O.type)==="globe"?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(O){return this._map=O,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=z.create("button","maplibregl-ctrl-globe",this._container),z.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){z.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},u.Hash=Yi,u.ImageSource=jn,u.KeyboardHandler=xf,u.LngLatBounds=Tn,u.LogoControl=Fd,u.Map=class extends Mu{constructor(O){var s,h;i.cH.mark(i.cI.create);const x=Object.assign(Object.assign(Object.assign({},vc),O),{canvasContextAttributes:Object.assign(Object.assign({},vc.canvasContextAttributes),O.canvasContextAttributes)});if(x.minZoom!=null&&x.maxZoom!=null&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(x.minPitch!=null&&x.maxPitch!=null&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(x.minPitch!=null&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(x.maxPitch!=null&&x.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const k=new eo,L=new Rs;if(x.minZoom!==void 0&&k.setMinZoom(x.minZoom),x.maxZoom!==void 0&&k.setMaxZoom(x.maxZoom),x.minPitch!==void 0&&k.setMinPitch(x.minPitch),x.maxPitch!==void 0&&k.setMaxPitch(x.maxPitch),x.renderWorldCopies!==void 0&&k.setRenderWorldCopies(x.renderWorldCopies),x.transformConstrain!==null&&k.setConstrainOverride(x.transformConstrain),super(k,L,{bearingSnap:x.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new Fa,this._controls=[],this._mapId=i.ah(),this._lostContextStyle={style:null,images:null},this._contextLost=W=>{W.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const ee of Object.values(this.style._layers))if(ee.type==="custom"&&console.warn(`Custom layer with id '${ee.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),ee._listeners)for(const[ce]of Object.entries(ee._listeners))console.warn(`Custom layer with id '${ee.id}' had event listeners for event '${ce}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new i.l("webglcontextlost",{originalEvent:W}))},this._contextRestored=W=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new i.l("webglcontextrestored",{originalEvent:W}))},this._onMapScroll=W=>{if(W.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=x.interactive,this._maxTileCacheSize=x.maxTileCacheSize,this._maxTileCacheZoomLevels=x.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},x.canvasContextAttributes),this._trackResize=x.trackResize===!0,this._bearingSnap=x.bearingSnap,this._centerClampedToGround=x.centerClampedToGround,this._refreshExpiredTiles=x.refreshExpiredTiles===!0,this._fadeDuration=x.fadeDuration,this._crossSourceCollisions=x.crossSourceCollisions===!0,this._collectResourceTiming=x.collectResourceTiming===!0,this._locale=Object.assign(Object.assign({},ip),x.locale),this._clickTolerance=x.clickTolerance,this._overridePixelRatio=x.pixelRatio,this._maxCanvasSize=x.maxCanvasSize,this._zoomLevelsToOverscale=x.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=x.transformCameraUpdate,this.transformConstrain=x.transformConstrain,this.cancelPendingTileRequestsWhileZooming=x.cancelPendingTileRequestsWhileZooming===!0,x.reduceMotion!==void 0&&(P.prefersReducedMotion=x.reduceMotion),this._imageQueueHandle=oe.addThrottleControl((()=>this.isMoving())),this._requestManager=new K(x.transformRequest),typeof x.container=="string"){if(this._container=document.getElementById(x.container),!this._container)throw new Error(`Container '${x.container}' not found.`)}else{if(!(x.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(x.maxBounds&&this.setMaxBounds(x.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),typeof window<"u"){addEventListener("online",this._onWindowOnline,!1);let W=!1;const ee=qy((ce=>{this._trackResize&&!this._removed&&(this.resize(ce),this.redraw())}),50);this._resizeObserver=new ResizeObserver((ce=>{W?ee(ce):W=!0})),this._resizeObserver.observe(this._container)}this.handlers=new Yy(this,x),this._hash=x.hash&&new Yi(typeof x.hash=="string"&&x.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:x.center,elevation:x.elevation,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch,roll:x.roll}),x.bounds&&(this.resize(),this.fitBounds(x.bounds,i.e({},x.fitBoundsOptions,{duration:0}))));const U=typeof x.style=="string"||((h=(s=x.style)===null||s===void 0?void 0:s.projection)===null||h===void 0?void 0:h.type)!=="globe";this.resize(null,U),this._localIdeographFontFamily=x.localIdeographFontFamily,this._validateStyle=x.validateStyle,x.style&&this.setStyle(x.style,{localIdeographFontFamily:x.localIdeographFontFamily}),x.attributionControl&&this.addControl(new ho(typeof x.attributionControl=="boolean"?void 0:x.attributionControl)),x.maplibreLogo&&this.addControl(new Fd,x.logoPosition),this.on("style.load",(()=>{if(U||this._resizeTransform(),this.transform.unmodified){const W=i.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(W)}})),this.on("data",(W=>{this._update(W.dataType==="style"),this.fire(new i.l(`${W.dataType}data`,W))})),this.on("dataloading",(W=>{this.fire(new i.l(`${W.dataType}dataloading`,W))})),this.on("dataabort",(W=>{this.fire(new i.l("sourcedataabort",W))}))}_getMapId(){return this._mapId}setGlobalStateProperty(O,s){return this.style.setGlobalStateProperty(O,s),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(O,s){if(s===void 0&&(s=O.getDefaultPosition?O.getDefaultPosition():"top-right"),!O||!O.onAdd)return this.fire(new i.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const h=O.onAdd(this);this._controls.push(O);const x=this._controlPositions[s];return s.indexOf("bottom")!==-1?x.insertBefore(h,x.firstChild):x.appendChild(h),this}removeControl(O){if(!O||!O.onRemove)return this.fire(new i.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const s=this._controls.indexOf(O);return s>-1&&this._controls.splice(s,1),O.onRemove(this),this}hasControl(O){return this._controls.indexOf(O)>-1}coveringTiles(O){return Ir(this.transform,O)}calculateCameraOptionsFromTo(O,s,h,x){return x==null&&this.terrain&&(x=this.terrain.getElevationForLngLat(h)),super.calculateCameraOptionsFromTo(O,s,h,x)}resize(O,s=!0){const[h,x]=this._containerDimensions(),k=this._getClampedPixelRatio(h,x);if(this._resizeCanvas(h,x,k),this.painter.resize(h,x,k),this.painter.overLimit()){const U=this.painter.context.gl;this._maxCanvasSize=[U.drawingBufferWidth,U.drawingBufferHeight];const W=this._getClampedPixelRatio(h,x);this._resizeCanvas(h,x,W),this.painter.resize(h,x,W)}this._resizeTransform(s);const L=!this._moving;return L&&(this.stop(),this.fire(new i.l("movestart",O)).fire(new i.l("move",O))),this.fire(new i.l("resize",O)),L&&this.fire(new i.l("moveend",O)),this}_resizeTransform(O=!0){var s;const[h,x]=this._containerDimensions();this.transform.resize(h,x,O),(s=this._requestedCameraState)===null||s===void 0||s.resize(h,x,O)}_getClampedPixelRatio(O,s){const{0:h,1:x}=this._maxCanvasSize,k=this.getPixelRatio(),L=O*k,U=s*k;return Math.min(L>h?h/L:1,U>x?x/U:1)*k}getPixelRatio(){var O;return(O=this._overridePixelRatio)!==null&&O!==void 0?O:devicePixelRatio}setPixelRatio(O){this._overridePixelRatio=O,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(O){return this.transform.setMaxBounds(Tn.convert(O)),this._update()}setMinZoom(O){if((O=O??-2)>=-2&&O<=this.transform.maxZoom)return this.transform.setMinZoom(O),this._update(),this.getZoom()<O&&this.setZoom(O),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(O){if((O=O??22)>=this.transform.minZoom)return this.transform.setMaxZoom(O),this._update(),this.getZoom()>O&&this.setZoom(O),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(O){if((O=O??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(O>=0&&O<=this.transform.maxPitch)return this.transform.setMinPitch(O),this._update(),this.getPitch()<O&&this.setPitch(O),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(O){if((O=O??60)>180)throw new Error("maxPitch must be less than or equal to 180");if(O>=this.transform.minPitch)return this.transform.setMaxPitch(O),this._update(),this.getPitch()>O&&this.setPitch(O),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(O){return this.transform.setRenderWorldCopies(O),this._update()}setTransformConstrain(O){return this.transform.setConstrainOverride(O),this._update()}project(O){return this.transform.locationToScreenPoint(i.V.convert(O),this.style&&this.terrain)}unproject(O){return this.transform.screenPointToLocation(i.P.convert(O),this.terrain)}isMoving(){var O;return this._moving||((O=this.handlers)===null||O===void 0?void 0:O.isMoving())}isZooming(){var O;return this._zooming||((O=this.handlers)===null||O===void 0?void 0:O.isZooming())}isRotating(){var O;return this._rotating||((O=this.handlers)===null||O===void 0?void 0:O.isRotating())}_createDelegatedListener(O,s,h){if(O==="mouseenter"||O==="mouseover"){let x=!1;return{layers:s,listener:h,delegates:{mousemove:L=>{const U=s.filter((ee=>this.getLayer(ee))),W=U.length!==0?this.queryRenderedFeatures(L.point,{layers:U}):[];W.length?x||(x=!0,h.call(this,new Wi(O,this,L.originalEvent,{features:W}))):x=!1},mouseout:()=>{x=!1}}}}if(O==="mouseleave"||O==="mouseout"){let x=!1;return{layers:s,listener:h,delegates:{mousemove:U=>{const W=s.filter((ee=>this.getLayer(ee)));(W.length!==0?this.queryRenderedFeatures(U.point,{layers:W}):[]).length?x=!0:x&&(x=!1,h.call(this,new Wi(O,this,U.originalEvent)))},mouseout:U=>{x&&(x=!1,h.call(this,new Wi(O,this,U.originalEvent)))}}}}{const x=k=>{const L=s.filter((W=>this.getLayer(W))),U=L.length!==0?this.queryRenderedFeatures(k.point,{layers:L}):[];U.length&&(k.features=U,h.call(this,k),delete k.features)};return{layers:s,listener:h,delegates:{[O]:x}}}}_saveDelegatedListener(O,s){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[O]=this._delegatedListeners[O]||[],this._delegatedListeners[O].push(s)}_removeDelegatedListener(O,s,h){if(!this._delegatedListeners||!this._delegatedListeners[O])return;const x=this._delegatedListeners[O];for(let k=0;k<x.length;k++){const L=x[k];if(L.listener===h&&L.layers.length===s.length&&L.layers.every((U=>s.includes(U)))){for(const U in L.delegates)this.off(U,L.delegates[U]);return void x.splice(k,1)}}}on(O,s,h){if(h===void 0)return super.on(O,s);const x=typeof s=="string"?[s]:s,k=this._createDelegatedListener(O,x,h);this._saveDelegatedListener(O,k);for(const L in k.delegates)this.on(L,k.delegates[L]);return{unsubscribe:()=>{this._removeDelegatedListener(O,x,h)}}}once(O,s,h){if(h===void 0)return super.once(O,s);const x=typeof s=="string"?[s]:s,k=this._createDelegatedListener(O,x,h);for(const L in k.delegates){const U=k.delegates[L];k.delegates[L]=(...W)=>{this._removeDelegatedListener(O,x,h),U(...W)}}this._saveDelegatedListener(O,k);for(const L in k.delegates)this.once(L,k.delegates[L]);return this}off(O,s,h){return h===void 0?super.off(O,s):(this._removeDelegatedListener(O,typeof s=="string"?[s]:s,h),this)}queryRenderedFeatures(O,s){if(!this.style)return[];let h;const x=O instanceof i.P||Array.isArray(O),k=x?O:[[0,0],[this.transform.width,this.transform.height]];if(s=s||(x?{}:O)||{},k instanceof i.P||typeof k[0]=="number")h=[i.P.convert(k)];else{const L=i.P.convert(k[0]),U=i.P.convert(k[1]);h=[L,new i.P(U.x,L.y),U,new i.P(L.x,U.y),L]}return this.style.queryRenderedFeatures(h,s,this.transform)}querySourceFeatures(O,s){return this.style.querySourceFeatures(O,s)}setStyle(O,s){return(s=i.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},s)).diff!==!1&&s.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&O?(this._diffStyle(O,s),this):(this._localIdeographFontFamily=s.localIdeographFontFamily,this._updateStyle(O,s))}setTransformRequest(O){return this._requestManager.setTransformRequest(O),this}_getUIString(O){const s=this._locale[O];if(s==null)throw new Error(`Missing UI string '${O}'`);return s}_updateStyle(O,s){var h,x;if(s.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(O,s)));const k=this.style&&s.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!O)),O?(this.style=new Gc(this,s||{}),this.style.setEventedParent(this,{style:this.style}),typeof O=="string"?this.style.loadURL(O,s,k):this.style.loadJSON(O,s,k),this):((x=(h=this.style)===null||h===void 0?void 0:h.projection)===null||x===void 0||x.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Gc(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(O,s){if(typeof O=="string"){const h=this._requestManager.transformRequest(O,"Style");i.j(h,new AbortController).then((x=>{this._updateDiff(x.data,s)})).catch((x=>{x&&this.fire(new i.k(x))}))}else typeof O=="object"&&this._updateDiff(O,s)}_updateDiff(O,s){try{this.style.setState(O,s)&&this._update(!0)}catch(h){i.w(`Unable to perform style diff: ${h.message||h.error||h}.  Rebuilding the style from scratch.`),this._updateStyle(O,s)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():i.w("There is no style added to the map.")}addSource(O,s){return this._lazyInitEmptyStyle(),this.style.addSource(O,s),this._update(!0)}isSourceLoaded(O){const s=this.style&&this.style.tileManagers[O];if(s!==void 0)return s.loaded();this.fire(new i.k(new Error(`There is no tile manager with ID '${O}'`)))}setTerrain(O){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),O){const s=this.style.tileManagers[O.source];if(!s)throw new Error(`cannot load terrain, because there exists no source with ID: ${O.source}`);this.terrain===null&&s.reload();for(const h in this.style._layers){const x=this.style._layers[h];x.type==="hillshade"&&x.source===O.source&&i.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),x.type==="color-relief"&&x.source===O.source&&i.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new Pi(this.painter,s,O),this.painter.renderToTexture=new Bd(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=h=>{var x;h.dataType==="style"?this.terrain.tileManager.freeRtt():h.dataType==="source"&&h.tile&&(h.sourceId!==O.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),((x=h.source)===null||x===void 0?void 0:x.type)==="image"?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(h.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new i.l("terrain",{terrain:O})),this}getTerrain(){var O,s;return(s=(O=this.terrain)===null||O===void 0?void 0:O.options)!==null&&s!==void 0?s:null}areTilesLoaded(){const O=this.style&&this.style.tileManagers;for(const s of Object.values(O))if(!s.areTilesLoaded())return!1;return!0}removeSource(O){return this.style.removeSource(O),this._update(!0)}getSource(O){return this.style.getSource(O)}setSourceTileLodParams(O,s,h){if(h){const x=this.getSource(h);if(!x)throw new Error(`There is no source with ID "${h}", cannot set LOD parameters`);x.calculateTileZoom=on(Math.max(1,O),Math.max(1,s))}else for(const x in this.style.tileManagers)this.style.tileManagers[x].getSource().calculateTileZoom=on(Math.max(1,O),Math.max(1,s));return this._update(!0),this}refreshTiles(O,s){const h=this.style.tileManagers[O];if(!h)throw new Error(`There is no tile manager with ID "${O}", cannot refresh tile`);s===void 0?h.reload(!0):h.refreshTiles(s.map((x=>new i.ae(x.z,x.x,x.y))))}addImage(O,s,h={}){const{pixelRatio:x=1,sdf:k=!1,stretchX:L,stretchY:U,content:W,textFitWidth:ee,textFitHeight:ce}=h;if(this._lazyInitEmptyStyle(),!(s instanceof HTMLImageElement||i.b(s))){if(s.width===void 0||s.height===void 0)return this.fire(new i.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:fe,height:Ce,data:Ee}=s,Le=s;return this.style.addImage(O,{data:new i.R({width:fe,height:Ce},new Uint8Array(Ee)),pixelRatio:x,stretchX:L,stretchY:U,content:W,textFitWidth:ee,textFitHeight:ce,sdf:k,version:0,userImage:Le}),Le.onAdd&&Le.onAdd(this,O),this}}{const{width:fe,height:Ce,data:Ee}=P.getImageData(s);this.style.addImage(O,{data:new i.R({width:fe,height:Ce},Ee),pixelRatio:x,stretchX:L,stretchY:U,content:W,textFitWidth:ee,textFitHeight:ce,sdf:k,version:0})}}updateImage(O,s){const h=this.style.getImage(O);if(!h)return this.fire(new i.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const x=s instanceof HTMLImageElement||i.b(s)?P.getImageData(s):s,{width:k,height:L,data:U}=x;if(k===void 0||L===void 0)return this.fire(new i.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(k!==h.data.width||L!==h.data.height)return this.fire(new i.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const W=!(s instanceof HTMLImageElement||i.b(s));return h.data.replace(U,W),this.style.updateImage(O,h),this}getImage(O){return this.style.getImage(O)}hasImage(O){return O?!!this.style.getImage(O):(this.fire(new i.k(new Error("Missing required image id"))),!1)}removeImage(O){this.style.removeImage(O)}loadImage(O){return oe.getImage(this._requestManager.transformRequest(O,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(O,s){return this._lazyInitEmptyStyle(),this.style.addLayer(O,s),this._update(!0)}moveLayer(O,s){return this.style.moveLayer(O,s),this._update(!0)}removeLayer(O){return this.style.removeLayer(O),this._update(!0)}getLayer(O){return this.style.getLayer(O)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(O,s,h){return this.style.setLayerZoomRange(O,s,h),this._update(!0)}setFilter(O,s,h={}){return this.style.setFilter(O,s,h),this._update(!0)}getFilter(O){return this.style.getFilter(O)}setPaintProperty(O,s,h,x={}){return this.style.setPaintProperty(O,s,h,x),this._update(!0)}getPaintProperty(O,s){return this.style.getPaintProperty(O,s)}setLayoutProperty(O,s,h,x={}){return this.style.setLayoutProperty(O,s,h,x),this._update(!0)}getLayoutProperty(O,s){return this.style.getLayoutProperty(O,s)}setGlyphs(O,s={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(O,s),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(O,s,h={}){return this._lazyInitEmptyStyle(),this.style.addSprite(O,s,h,(x=>{x||this._update(!0)})),this}removeSprite(O){return this._lazyInitEmptyStyle(),this.style.removeSprite(O),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(O,s={}){return this._lazyInitEmptyStyle(),this.style.setSprite(O,s,(h=>{h||this._update(!0)})),this}setLight(O,s={}){return this._lazyInitEmptyStyle(),this.style.setLight(O,s),this._update(!0)}getLight(){return this.style.getLight()}setSky(O,s={}){return this._lazyInitEmptyStyle(),this.style.setSky(O,s),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(O,s){return this.style.setFeatureState(O,s),this._update()}removeFeatureState(O,s){return this.style.removeFeatureState(O,s),this._update()}getFeatureState(O){return this.style.getFeatureState(O)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let O=0,s=0;return this._container&&(O=this._container.clientWidth||400,s=this._container.clientHeight||300),[O,s]}_setupContainer(){const O=this._container;O.classList.add("maplibregl-map");const s=this._canvasContainer=z.create("div","maplibregl-canvas-container",O);this._interactive&&s.classList.add("maplibregl-interactive"),this._canvas=z.create("canvas","maplibregl-canvas",s),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const h=this._containerDimensions(),x=this._getClampedPixelRatio(h[0],h[1]);this._resizeCanvas(h[0],h[1],x);const k=this._controlContainer=z.create("div","maplibregl-control-container",O),L=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((U=>{L[U]=z.create("div",`maplibregl-ctrl-${U} `,k)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(O,s,h){this._canvas.width=Math.floor(h*O),this._canvas.height=Math.floor(h*s),this._canvas.style.width=`${O}px`,this._canvas.style.height=`${s}px`}_setupPainter(){const O=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let s=null;this._canvas.addEventListener("webglcontextcreationerror",(x=>{s={requestedAttributes:O},x&&(s.statusMessage=x.statusMessage,s.type=x.type)}),{once:!0});let h=null;if(h=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,O):this._canvas.getContext("webgl2",O)||this._canvas.getContext("webgl",O),!h){const x="Failed to initialize WebGL";throw s?(s.message=x,new Error(JSON.stringify(s))):new Error(x)}this.painter=new vv(h,this.transform),q.testSupport(h)}migrateProjection(O,s){super.migrateProjection(O,s),this.painter.transform=O,this.fire(new i.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(O){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||O,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(O){return this._update(),this._renderTaskQueue.add(O)}_cancelRenderFrame(O){this._renderTaskQueue.remove(O)}_render(O){var s,h,x,k,L;const U=this._idleTriggered?this._fadeDuration:0,W=((s=this.style.projection)===null||s===void 0?void 0:s.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(O),this._removed)return;let ee=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const Ce=this.transform.zoom,Ee=G();this.style.zoomHistory.update(Ce,Ee);const Le=new i.H(Ce,{now:Ee,fadeDuration:U,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ze=Le.crossFadingFactor();ze===1&&ze===this._crossFadingFactor||(ee=!0,this._crossFadingFactor=ze),this.style.update(Le)}const ce=((h=this.style.projection)===null||h===void 0?void 0:h.transitionState)>0!==W;(x=this.style.projection)===null||x===void 0||x.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState((k=this.style.projection)===null||k===void 0?void 0:k.transitionState,(L=this.style.projection)===null||L===void 0?void 0:L.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||ce)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,U,this._crossSourceCollisions,ce),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:U,showPadding:this.showPadding}),this.fire(new i.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,i.cH.mark(i.cI.load),this.fire(new i.l("load"))),this.style&&(this.style.hasTransitions()||ee)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const fe=this._sourcesDirty||this._styleDirty||this._placementDirty;return fe||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new i.l("idle")),!this._loaded||this._fullyLoaded||fe||(this._fullyLoaded=!0,i.cH.mark(i.cI.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var O;this._hash&&this._hash.remove();for(const h of this._controls)h.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),typeof window<"u"&&removeEventListener("online",this._onWindowOnline,!1),oe.removeThrottleControl(this._imageQueueHandle),(O=this._resizeObserver)===null||O===void 0||O.disconnect();const s=this.painter.context.gl.getExtension("WEBGL_lose_context");s?.loseContext&&s.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),z.remove(this._canvasContainer),z.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),i.cH.clearMetrics(),this._removed=!0,this.fire(new i.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,P.frame(this._frameRequest,(O=>{i.cH.frame(O),this._frameRequest=null;try{this._render(O)}catch(s){if(!i.Z(s)&&!(function(h){return h.message===gf})(s))throw s}}),(()=>{})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(O){this._showTileBoundaries!==O&&(this._showTileBoundaries=O,this._update())}get showPadding(){return!!this._showPadding}set showPadding(O){this._showPadding!==O&&(this._showPadding=O,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(O){this._showCollisionBoxes!==O&&(this._showCollisionBoxes=O,O?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(O){this._showOverdrawInspector!==O&&(this._showOverdrawInspector=O,this._update())}get repaint(){return!!this._repaint}set repaint(O){this._repaint!==O&&(this._repaint=O,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(O){this._vertices=O,this._update()}get version(){return nd}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(O){return this._lazyInitEmptyStyle(),this.style.setProjection(O),this._update(!0)}},u.MapMouseEvent=Wi,u.MapTouchEvent=mc,u.MapWheelEvent=sm,u.Marker=fm,u.NavigationControl=class{constructor(O){this._updateZoomButtons=()=>{const s=this._map.getZoom(),h=s===this._map.getMaxZoom(),x=s===this._map.getMinZoom();this._zoomInButton.disabled=h,this._zoomOutButton.disabled=x,this._zoomInButton.setAttribute("aria-disabled",h.toString()),this._zoomOutButton.setAttribute("aria-disabled",x.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(s,h)=>{const x=this._map._getUIString(`NavigationControl.${h}`);s.title=x,s.setAttribute("aria-label",x)},this.options=i.e({},Wy,O),this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(s=>s.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(s=>this._map.zoomIn({},{originalEvent:s}))),z.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(s=>this._map.zoomOut({},{originalEvent:s}))),z.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(s=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:s}):this._map.resetNorth({},{originalEvent:s})})),this._compassIcon=z.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(O){return this._map=O,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Fi(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){z.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(O,s){const h=z.create("button",O,this._container);return h.type="button",h.addEventListener("click",s),h}},u.Popup=class extends i.E{constructor(O){super(),this._updateOpacity=()=>{this.options.locationOccludedOpacity!==void 0&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&z.remove(this._content),this._container&&(z.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new i.l("close"))),this),this._onMouseUp=s=>{this._update(s.point)},this._onMouseMove=s=>{this._update(s.point)},this._onDrag=s=>{this._update(s.point)},this._update=s=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=z.create("div","maplibregl-popup",this._map.getContainer()),this._tip=z.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const U of this.options.className.split(" "))this._container.classList.add(U);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=dh(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!s)return;const h=this._flatPos=this._pos=this._trackPointer&&s?s:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&s?s:this._map.transform.locationToScreenPoint(this._lngLat));let x=this.options.anchor;const k=sp(this.options.offset);if(!x){const U=this._container.offsetWidth,W=this._container.offsetHeight;let ee;ee=h.y+k.bottom.y<W?["top"]:h.y>this._map.transform.height-W?["bottom"]:[],h.x<U/2?ee.push("left"):h.x>this._map.transform.width-U/2&&ee.push("right"),x=ee.length===0?"bottom":ee.join("-")}let L=h.add(k[x]);this.options.subpixelPositioning||(L=L.round()),z.setTransform(this._container,`${fh[x]} translate(${L.x}px,${L.y}px)`),wf(this._container,x,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=i.e(Object.create(Sf),O)}addTo(O){return this._map&&this.remove(),this._map=O,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new i.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(O){return this._lngLat=i.V.convert(O),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(O){return this.setDOMContent(document.createTextNode(O))}setHTML(O){const s=document.createDocumentFragment(),h=document.createElement("body");let x;for(h.innerHTML=O;x=h.firstChild,x;)s.appendChild(x);return this.setDOMContent(s)}getMaxWidth(){var O;return(O=this._container)===null||O===void 0?void 0:O.style.maxWidth}setMaxWidth(O){return this.options.maxWidth=O,this._update(),this}setDOMContent(O){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=z.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(O),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(O){return this._container&&this._container.classList.add(O),this}removeClassName(O){return this._container&&this._container.classList.remove(O),this}setOffset(O){return this.options.offset=O,this._update(),this}toggleClassName(O){if(this._container)return this._container.classList.toggle(O)}setSubpixelPositioning(O){this.options.subpixelPositioning=O}_createCloseButton(){this.options.closeButton&&(this._closeButton=z.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const O=this._container.querySelector(Tf);O&&O.focus()}},u.RasterDEMTileSource=sr,u.RasterTileSource=lr,u.ScaleControl=class{constructor(O){this._onMove=()=>{Ui(this._map,this._container,this.options)},this.setUnit=s=>{this.options.unit=s,Ui(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},Ss),O)}getDefaultPosition(){return"bottom-left"}onAdd(O){return this._map=O,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-scale",O.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){z.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},u.ScrollZoomHandler=ou,u.Style=Gc,u.TerrainControl=class{constructor(O){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=O}onAdd(O){return this._map=O,this._container=z.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=z.create("button","maplibregl-ctrl-terrain",this._container),z.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){z.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},u.TwoFingersTouchPitchHandler=Ru,u.TwoFingersTouchRotateHandler=Nu,u.TwoFingersTouchZoomHandler=iu,u.TwoFingersTouchZoomRotateHandler=td,u.VectorTileSource=Vt,u.VideoSource=_t,u.addSourceType=(O,s)=>i._(void 0,void 0,void 0,(function*(){if(qe(O))throw new Error(`A source type called "${O}" already exists.`);((h,x)=>{ke[h]=x})(O,s)})),u.clearPrewarmedResources=function(){const O=Nt;O&&(O.isPreloaded()&&O.numActive()===1?(O.release(Qe),Nt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},u.createTileMesh=Zh,u.getMaxParallelImageRequests=function(){return i.c.MAX_PARALLEL_IMAGE_REQUESTS},u.getRTLTextPluginStatus=function(){return Bt().getRTLTextPluginStatus()},u.getVersion=function(){return uu},u.getWorkerCount=function(){return Pe.workerCount},u.getWorkerUrl=function(){return i.c.WORKER_URL},u.importScriptInWorkers=function(O){return rn().broadcast("IS",O)},u.isTimeFrozen=function(){return j.isFrozen()},u.now=G,u.prewarm=function(){en().acquire(Qe)},u.restoreNow=function(){j.restoreNow()},u.setMaxParallelImageRequests=function(O){i.c.MAX_PARALLEL_IMAGE_REQUESTS=O},u.setNow=function(O){j.setNow(O)},u.setRTLTextPlugin=function(O,s){return Bt().setRTLTextPlugin(O,s)},u.setWorkerCount=function(O){Pe.workerCount=O},u.setWorkerUrl=function(O){i.c.WORKER_URL=O}}));var l=n;return l}))})(OA)),OA.exports}var oK=rCe();const jT=qh(oK),aCe=mH({__proto__:null,default:jT},[oK]);var iCe={};const oCe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAYAAACtWK6eAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht+mLYpUHOwgopChOtlFRRxrFYpQIdQKrTqYXPoHTRqSFBdHwbXg4M9i1cHFWVcHV0EQ/AFxdnBSdJESv0sKLWK847iH97735e47QGhWmWaFEoCm22YmlRRz+VWx5xUhmmGMIi4zy5iTpDR8x9c9Any/i/Ms/7o/R79asBgQEIkTzDBt4g3imU3b4LxPHGVlWSU+J54w6YLEj1xXPH7jXHJZ4JlRM5uZJ44Si6UuVrqYlU2NeJo4pmo65Qs5j1XOW5y1ap2178lfGCnoK8tcpzWCFBaxBAkiFNRRQRU24rTrpFjI0HnSxz/s+iVyKeSqgJFjATVokF0/+B/87q1VnJr0kiJJIPziOB9jQM8u0Go4zvex47ROgOAzcKV3/LUmMPtJeqOjxY6AgW3g4rqjKXvA5Q4w9GTIpuxKQVpCsQi8n9E35YHBW6Bvzetb+xynD0CWepW+AQ4OgfESZa/7vLu3u2//1rT79wN2rHKoBaSKHQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAN1wAADdcBQiibeAAAAAd0SU1FB+gEBAUlKJesuC4AABWbSURBVHja7Z3fcxTHEce/t1ohYekA2QaBDBgocGLHNmW7Kg4pV9l5SeUleci/4b9H/0aeU3mJXXEF5yEmEOw4hgKFH7JBtpEQwhLS3eVhunV9w+7tHWh3e2Z7q64OyZJ18+Mz3+7pme4W7Bn6tBdXWwD4lYj3FMA0gCkAswCOAJihrw8AOAfgdwDOAmgDmKDf3YunB6ADYB3AdQB/BnANwEMAWwA2ANwH8Ii+3gSwA6BLv8vvvfWPD/VslPOflnVBLhQQYKQCiEl6zQCYB/AigGMA3gBwGMB+guQQgFfpfZKg2sunC2AbwCqA/9H7FoCfAKwA+ArAtwB+BHCPoNmmFwOzw6AAgMFigIyrFhMChgMERJu+PkJQHCNI5un7qfi9F+i9VUJf88TeBvCY3js06TcIih8Jkq9IUTZIde6R2myI3zNVMUBGAiOlST1NrwMAjgM4BeAtAUKbIJklxZim35WAJSXB4UPSlROcINkkRXlEcKwLcP4NYAnAHQJlk17bUlUMlIYDkgHGPpr8BwEcJWVYAPA2AXKcwGAza0ooRiL6s1Vx//Yy3rtCUbaEebVOYCwBuAJgmZTmOwBrBNETA6XBgAwBYw7ACYLhbYLjRYLlIP3MpOest2oAYhxgep5zvk0QrBEUPxIkVwia2wAeGCgNBGQEME4DeIcAOUHm1bRwztMaVWIv1WVHOOubZGbdJkAuAbhpoDQIELErlRSAcZq+nhNqMeEpReh91vOUpSNU5QGBcbMAlG5Tdr1aDYGjRROdYxZFYOzzHO4Y+8o3w3YIgCJQOLbSaYKatBoAR0JKsB/Ay2Q+nRkRjKaYoL0RQblBZtj3cPGWbQDdmCFpRQyGVI0DcFuybwL4FVx0+6SBMRYot+Ci9p8DuAq3dfwwdjVpRQxHCheoO0xKcY7geJNgaRsYY4GyTlBcJUiukbKswAUqd2KEpBUhHBM06WfgotznAVwgQE6TmbWffiYxMEYCpUsA/ETm1U0C5CKAy3DR+g36mU5MkLQiAsM3qeYJjg/pfZ6+P4X+wUEDYzxQOmRSPYSLyF8G8Cm934vR5GpFBEeWSXWB4DiGwXNSMDieCRJg8LzXtwTHxVhNrlZEcMzCRb59k+owgZOaauypmuwQCCsZJtcy3HZw8JCkEcHxCoB3AXxkJlUli2oqVHmGFqIZsRDdZUjai6vBBhXTwOHgo+gMx2/ofcEzqQyMvYfEP7YzhcGjOCBINgBshwpJGigciYBjwYPjFQFHYnCUDgovQKzi/rMsIAkuqJgGCscU+kfSz5NZxXDMmr9ROSS8YPmQsLrwUfqt0CBpBQrHS+SE/xzArwmSBYNDjfP+iJTjMoC/A/ianPgf4LaBg4GkFRAcLbjI9xyA1wH8Fu6G31m4yLjtVOmC5DFc5P063A3GvwD4D9yxlScIZHcrCQgO9jmOknK8Re9Hvd0Tg6N+5z0tGKtJAC1xDcEAeU44UuGQnyez6iz6x0ZsG1cfJBPon6A+65nCuwuadkiSQODIinMcMTiCgeTIsM0UzZCkyjvZh0PGOV4wOILwbydorBbQP67Cz24wMeO/GSAF6iE71o9z2G5VWJDIhc536u8A2Ggvrqp02lPFcEzBHV+wOEeckPBu1xYrSHtxVd1R+UQhHGxaHYA7bHghy7kzOIL0SfzNlgs0xge0+iOpwo7kTpyHCwaew2BaT4MjfCXxx3eFlKSrzR9RoyCe33EsZ4Wxs1XhQ5LkWAjHeONFk4okiuBIPL+DbwIexuCRdXvCh2SiYKwTLZAkSuDgSHnuqmJwRAlJnrWgJtKuxcSSAaU8v8Oe+CDJ8kdkALjZCuKZVi+jn7dqYGcDcWY19EsX5L3kz8YGiL9jyWmZXtZiaqVKVpFZuIyHfgfFYlrllSfojdFPdZZXqMIf4QVyDS5Dyjr6JRt6jQMk4wj7GfSPrquR2D2Cwi9BwAEyruxUpPI8ieROntbSC89rYp+luXAHlGurvbjaqiuAmNa8erANegIuV+5JuIyHIZtWWdnT/SI2G/DS4xT0Eacz4qPiecV7QuwzGR9p0xx4By5TCt8dqU1FagEkQz1O02uOvhdivMNP18n1N7LKoN2HuzwkA2S9HLOKt0NfR7+Sblb5t0mEm0aV2+rPh9t1q0haY4f46nEi0F2rvITPsoJTViHNFfTTdfZG6KcryC8gKitghZpvOGtO1K4ilQMygnqEMqhFJQOWMFgD0C/FvAWvDPOQnZ4HBJQsQX0VT9dQDLmUQ968qFVFUiUrRWjqIZ3tvFoaS/S1rCK74znrow42A8WmyAO4JNJchfc6ATKs5kkSCCSqVKRSQCJQDz+J8yMUly3z65Dv7nCNuhpSv3VF32yLv79GCnWL/nZW1Sz2VbRfMFOnIqmCFSIU9cjKSbsEV3WpsPDlOED4j/i9ngcM1xfMUjEG5Qypi8xRDOWQqFGRyjpJRM33w12a+RDAH+HO4cyhX15Zs0nVwWDOp4tk3txCTRVhCyr3noSLK8g7NbN4uq67tofLVT+gfv4TXJmFu3A1SirLq1W1giRkNx8lxzIE9fDriy8D+ALAJzR4XIqsllLJ9Hd6BMq25xc9FDtn/Nn44tmkYkh8FXkbwH8hEs/FaGLxsYJpsfuye3JT6UCxv8G1xLlozCcEyTKZW9vsY9QV8c0AhQOUm56pt4N+5vtp6DzO45/wXqA5M00K3qnKzKoEkIwj7bLBE8rh4AyBN5BdA6MDRak0BShyQ+GugGMD7tTsGfQzUmqFJGtBXYNLhF2Js55W2FiWzOMkmUep8YlSOLq0+t4H8E8AnwH4BoFUUVr/+FCvvbjKO2eP4M42bdFnfw3ABwDeo3HYr9Tc8k3ya7RjV5mzXvrkzEjEcIpeB5WaV9LneEjK8RmAfwD4EoMFK1Xnl2U1wWDJtC+pLZ9R2x5KE1GpmXVQzJtKEzykFa8E83B5Wo8rdc6lWbJBPsc1Uo5lAKu0CgdTyTXD5OLP/Q21ja+5tqHvZLBvebwFd4btB1KRbhUTt8qVoE2QtBWrh5++/yKZVWuhwZEBCgc416hNmTUFlapILXOnKvtfVoSSW4xanXJ/K3clZDhyIFlB9o5cB/puL9Y2f0r9IxnZ2Y8oVQ/2O4ZOnBjqfgtIhi0EmvwRX0WOoMLs8GlFELL/8QY1cEqZgkjTaikA02OvTcmsBWxS0QLG92L4mP9VuMOapQcNkwro5+uiL8LdX9CWW5cd1ydwRxtuwB0fuS9NjhjUI2N3S8Z5rlPbdytAKVkU/DIYfAemkpwFpQGSUd+j0oY9w2q6AXfQ7xLc2ard7c+Y4PAgkdvZt6jtuydnlZlZuQttmWZW2QriS+M8dAUHffW4icGTo1HCkQFJXvs1pRuqxVSvwsRi+/Yw9CWgzlIPjSto0/ugVTCXggSEG8WX8aehKzBYpB69mNUjwx8JQUUYkmkMJvcI1sSqvEGmHtGrSKULbimAZMQ/KpPEMdVjGy6qvESvRqnHEBXh/lhD/1CgFkgy51RZjnpSMnwyp9Nh6Ip/8Gnd7+CyjzRVPfJU5Ar1zSYqvKCkbU6V7YNwinttDro8cvEjXLCMt3UbpR4ZKsLbvpyuiFOk1t0nWVZJ6XdZkhIbw///FP00mZrMK44kf0sTYRM6zyHVsXBsop/wTp4k0GRmyVzFKGtuVXWaV5NzzubVFlwE+Su4Y+2aTAkNpuc99LNBbinqmxaeznYflpM+RFG0rJJsSqzDS2rQRPMqw8xiX4TzCWty1CudU0lD54LMUsLJ3Uw9rH8aD0hIK6RKhW1aHzVRQeS9D78EgT3WR40HRB7zXjH/o9AP4Qwujdzha6KJxSskV31qamBwlL6SfdT1+tAAacAE6JrvUeiLdJvcP4lNAnusjwwQe+wxQOyxxwCxp+qnZYDY4NuT3TeVnXkyQHROAG2HKLX1T2WnZg0QXYqh8Ri+iifnNqjWGiIGSEmQZF7kqiKdfkDzQvNtUAPEBl+FeaU1XVN0gGhLhKw9mbYW51xjuqZK51RSUUO0HekIoRyDBgXRmq6psiMwScl0azwUWGs6/QAddG2VwCo9RJmU3JDMY+UKQNGeM7juvtFYrqKWY/hlNlrrpZu8rPOaS1JX2Tey9LK2chWVz6lSAMm5dKMtjaVMp881uCebamYNqWWvqVxF7pwq67JbUlGDNtGvSqrFWfdrcJ+Azsq7VTvmM9QX2mrZS+f8Cc2p0hfcJLYGPYOjLmtwz9GuTaNURKjHPuoD7g9ttewrX3CrUpANhY66v2K+02AV0d4XtZnsZQOiOTuGv2qeplejVCRDPZ7qByWLRS1zqTRAAsnSZyoSRh/Ulg0zqYh8rVn6ilbPJGYVobYlAahHbfMoqZN8xSpyEv1t3yghEXDwtu5J5epRiyVSlYJoztLnq8gZAGfhIsi79yBigkT4HXzs/wi1+Yxi9ahlDpUKSEDZwmVk/RSACwDOwwXLZiP0R2R7F6itF6jt2tpbazb+pMIVQHO2cDY3+J7IeQAfAXiXJtALACZiUBFqAyvHArXxI2qzvBujqa21zZ+0xhVgjuzfnpLB8CeOVL/d08jtxdVOqDl8BRxDFwKF6lGbBVKlgoRQ0SnP9DgNF1WeClVJPDgOUptCMCVrrXhVuoKsf3yo115czasJOKtsxeLPMUE7OfMAzgF4Da48MuBKI2+1F1c7CCAjvOeQMxwL1KZz1MYZMQ7aqoHl1kysou+TihuaWVUW+kp7ye3PMwA+APA+gF/AHQEP4oJVxgWoY9SG96lNZyC2s6G3VF5tVXerPKXp1yW/A711yRmSabgt0PcA/B7AHwD8EsBxYZKojJOIOAebjMfps/+B2vIetW0aOpPDSd/jDmqq216Fky7NrG0yUZbo9aqYaD1lgySd9qPIrve+DHerbbu9uNrVYHIJ1WAVzNqtmifl0HpJTKqHnC9rqLiWfVrzivAzAC9Bb9odhmQ/nk40x6bLfTIBngDYoYWgclAEGPy59hEERzJ2q2aUmlXqLI7KAPFURNqUGp31PJ+kDeAVz66/DuAWOfEbVYOSA8YM3Db6SbgIub9bNaEcDt85H/BZq1x80pobzrsSh6ArJpIHSUvY85z04QaASwBuAridBwovEnsIBYaAcQJuG/cdcsRPoZ9CVHsCuDznfBM11ElMa+gAua/9Je2qvAz92Q1bos/YD2kTLKcJkCxQtmlguwQLxgXGA0ICO4F+fi8fjNP09RxBLe+Wa47jqHDOawEksJhIHiS+E+xPTgZliUB5SO3jK8d8TVQCM46C8c7UNL0O0N8+lQHGDClLijDKGKhxzutUkDz78qByMyvPL8kzb5Zo9WMT4Z5QlG0MJtPrFQDJGwSTAsp59DOyvE2AZIHRQlhpVVWFA1IlnXCWBnsf+kkCEAAkLRq0LFBepV069rX4mMQG3HmiUe5V+1kO2+jnFH4D/ZxeR2mBCRkMVc55bYAMiYmcFLZ9L6CBzQNlFm4Le4vMybcIDD50599r6OWolMxEz2lSOWUq+xbT4m+HCIY657xuBZGO2G2y2eVVz8kABzgLlCka3IO0EcHm1QaZRY9HVBAZpGQzi2Mycss25Az1/pyo1TmvFRChIk9ot+cmvU4EqiJ5oMidpin084TN0YTvjDD4/P+Y8pxtP+N6yHdVWD14PtTunNetILGqiA8KPFh4kCUw4+5iIRIoiubCbSg4q1db3EFcx/VV5AF9T9sp371QlUS8UmGKDXtNCuVIEF/h0cJ5UOf5tlThyhGTihSpC2BVrdSqR60K0kAVsScw9agdkBBWEHuaPfa1A2IqYuqhVT20KIipiKmH2jFXAYipiKmHRvXQpCCmIqYeKsdaDSCmIqYe2tRDm4KYiph6qBtjVYCMoCJdgyR4OLqhqIdGBclbYW7BHRXXVFfEnmczrXZoLG+FYCGoAyRDRW7AZQ65D+AnuBOw9oT5dGgM79OY3tCsHkD9Z7GKVOQR3LHnz9G/Mcf5nEK4Y23PoGm1BeB7AFdpTJcgcu1q/OAqs4jQShJkh9oz8oJ3lcZ2C0BXaxLwRHnHDpNkc9jDdMyDMpnVAuKVb5NOnTns4TvmA2OouYSEagURppY57HE65l3t9VXSADrYHHZzzE1BnsFhvwm9RXjsCdgxDwqQHKm+Ri8ztcwxN0CEw85JxW5mrUimIuaYN1ZBLDZijrkBsgedb5DUrh6dmBaxoAApiI2Yw67HtMo1g0NSjyAVpCA2UpTr1p5yAeFT2Pdi2UhJAx8M3kK8iH5cZIL+HVP2wVBMq8dwpR4u05gMbMWHph6h+iC+w75CA/IpvQ8rKWBPOXAUjkWIcAQLiICkcNUySCrxO+T2+0Uai29pbDqhwhE0IDHbvYE9WQFcLjcXvD8YNCDerpYFEOszrbKOAAUVEIxVQaSpZWe16jWt/IWpEzocUQBSIPVmall/GyAjntWqrRBkhOpRqNgxqEdUCjLCsXi7gbh3plVU0fJhTxrhIGZJ/2G4moBc+swCiM8OSKN2DWPyQfJMraf25U1Fnsu0ii5a3hhAMkytvMiuQfLsfkd00fJGASIgGbbamT/yfH5HVNHypvkgRfay+SN704/RRMsbpyCeP7Jj/khpfkcU0fJGAuKZWuaPlON3dGKGI3pAzB8xv8N8EPNHzO8wBTF/xPwOA8T8EfM7DJAA/JGm3h/hAGvj/Y7GAjKifd1poNPeE+rReL+j0YAU+CPLaGaWRpklZrnpfkfTFSTPH/kEwBc0QZrktEuzc5n64JMm+x3ySdHQZ/3jQ7324qqcGJxHK4Xb+uVt3wnEu/070kLRVDgaDUiOaZHCJZ07TO8MSYwFeoY55U01Nc3EyvFHRnFOe5HBMdJmRZPVo/GACEiGraSxQeLDkeeUd5sOhwEymtN+NzJzQ5qVd80pNx/keZx2floAjiP8pNhZO1Z/NafcAHnW1ZXhiGFnq0kqaSZWyU57oX0e2EQa2c8y9TBAxoUk9J2tkdtjcBgg40ASw86W7VgZIKVCMqrN3lMOh+1YmZNeDiRDdrYA4BUAs6IfW8rhsB0rA6SUyebvbOVB0lL6mSUctmNlgOy5imAIJNpiJMNiHQNwmHoYIGVDoi1GMrLfZHCYk16G0645RmKxDgNEHSRaYiQW6zBAVEGiKUZisQ4DRCUkGmIkFuswJ121415njMRiHQaI+mecGMleQlIEh8U6DBA1KoKKIRkLDlMPA6RJkBgcBohBYnAYIAbJeJAYHAaIQWJwGCAGyXiQGBwGiEGSA4nBYYAYJDmQGBwGiEGSAwkMDgPEIBkOicFhgBgkGZDM0L83DA4DxCDpP1xi4Sh9/R2ASwaHAdJkSPjuRgJgEv167QBwFcDfAPwLdhuw1sfug9QAiXDCH8Pd+Psa7v7GHXpdpu/do58xOGp6/g9eQPkxBqxc0wAAAABJRU5ErkJggg==";let H3;try{H3="free"}catch{H3=iCe.VITE_GEOMAN_VERSION||null}const Wu="gm",gr=`_${Wu}`,qu=H3==="pro",sK={draw:{marker:{type:"draw",eventType:"toggle",targetMode:"marker",settings:{exclusive:!0}},circle_marker:{type:"draw",eventType:"toggle",targetMode:"circle_marker",settings:{exclusive:!0}},text_marker:{type:"draw",eventType:"toggle",targetMode:"text_marker",settings:{exclusive:!0}},circle:{type:"draw",eventType:"toggle",targetMode:"circle",settings:{exclusive:!0}},ellipse:{type:"draw",eventType:"toggle",targetMode:"ellipse",settings:{exclusive:!0}},line:{type:"draw",eventType:"toggle",targetMode:"line",settings:{exclusive:!0}},rectangle:{type:"draw",eventType:"toggle",targetMode:"rectangle",settings:{exclusive:!0}},polygon:{type:"draw",eventType:"toggle",targetMode:"polygon",settings:{exclusive:!0}},freehand:{type:"draw",eventType:"toggle",targetMode:"freehand",settings:{exclusive:!0}},custom_shape:{type:"draw",eventType:"toggle",targetMode:"custom_shape",settings:{exclusive:!0}}},edit:{drag:{type:"edit",eventType:"toggle",targetMode:"drag",settings:{exclusive:!0}},change:{type:"edit",eventType:"toggle",targetMode:"change",settings:{exclusive:!0}},rotate:{type:"edit",eventType:"toggle",targetMode:"rotate",settings:{exclusive:!0}},scale:{type:"edit",eventType:"toggle",targetMode:"scale",settings:{exclusive:!0}},copy:{type:"edit",eventType:"toggle",targetMode:"copy",settings:{exclusive:!0}},cut:{type:"edit",eventType:"toggle",targetMode:"cut",settings:{exclusive:!0}},split:{type:"edit",eventType:"toggle",targetMode:"split",settings:{exclusive:!0}},union:{type:"edit",eventType:"toggle",targetMode:"union",settings:{exclusive:!0}},difference:{type:"edit",eventType:"toggle",targetMode:"difference",settings:{exclusive:!0}},line_simplification:{type:"edit",eventType:"toggle",targetMode:"line_simplification",settings:{exclusive:!0}},lasso:{type:"edit",eventType:"toggle",targetMode:"lasso",settings:{exclusive:!0}},delete:{type:"edit",eventType:"toggle",targetMode:"delete",settings:{exclusive:!0}}},helper:{shape_markers:{type:"helper",eventType:"toggle",targetMode:"shape_markers",settings:{exclusive:!1,enabledBy:["drag","change","rotate","scale","line_simplification"]}},snapping:{type:"helper",eventType:"toggle",targetMode:"snapping",settings:{exclusive:!1}},pin:{type:"helper",eventType:"toggle",targetMode:"pin",settings:{exclusive:!1}},snap_guides:{type:"helper",eventType:"toggle",targetMode:"snap_guides",settings:{exclusive:!1}},measurements:{type:"helper",eventType:"toggle",targetMode:"measurements",settings:{exclusive:!1}},auto_trace:{type:"helper",eventType:"toggle",targetMode:"auto_trace",settings:{exclusive:!1}},geofencing:{type:"helper",eventType:"toggle",targetMode:"geofencing",settings:{exclusive:!1}},zoom_to_features:{type:"helper",eventType:"click",targetMode:"zoom_to_features",settings:{exclusive:!1}},click_to_edit:{type:"helper",eventType:"toggle",targetMode:"click_to_edit",settings:{exclusive:!1}}}},sCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="currentColor"
          d="m22.775 29.562 6.75-6.75-5.625-5.625-3.6 3.6-3.15-3.15 3.6-3.6-5.626-5.55-6.75 6.75zm25.95 26.101 6.75-6.825-5.624-5.625-3.6 3.6-3.15-3.15 3.6-3.6-5.55-5.55-6.75 6.75zm.6-46.126 5.25 5.25ZM16.7 59.039H5v-11.7l14.55-14.551L2 15.237l13.05-13.2 17.7 17.624L46.1 6.312q.676-.676 1.5-.976.826-.3 1.65-.3.826 0 1.65.3.826.3 1.5.976l5.326 5.325q.675.675.975 1.5.3.825.3 1.65t-.3 1.65q-.3.825-.975 1.5l-13.35 13.35L62 48.913l-13.125 13.05-17.551-17.55Zm-7.2-4.5h5.25l29.476-29.552-5.25-5.25L9.5 49.288Zm32.1-32.178-2.625-2.625 5.25 5.25Z"/>
</svg>`,lK=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="none" d="M0 0h24v24H0Z"/>
    <circle cx="32" cy="32" r="26" fill="currentColor" fill-opacity=".15" stroke="currentColor" stroke-width="7"/>
    <circle cx="32" cy="32" r="5" fill="currentColor"/>
</svg>`,lCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="none" d="M0 0h24v24H0Z"/>
    <circle cx="32" cy="32" r="26" fill="currentColor" fill-opacity=".15" stroke="currentColor" stroke-width="7"/>
    <path stroke="currentColor" stroke-dasharray="3" stroke-width="4" d="M6 32h52M32 6v52"/>
</svg>`,uCe=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 64 64"
   version="1.1"
   id="svg2"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs2" />
  <path
     fill="none"
     d="M 0,0 H 24 V 24 H 0 Z"
     id="path1"
     style="display:inline" />
  <ellipse
     cx="32"
     cy="32"
     fill="currentColor"
     fill-opacity="0.15"
     stroke="currentColor"
     stroke-width="7"
     id="circle1"
     rx="26.787416"
     ry="15.158148" />
  <path
     stroke="currentColor"
     stroke-dasharray="3"
     stroke-width="4"
     d="M 6.4966994,32 H 58 M 32,18.552705 v 30.15073"
     id="path2"
     style="stroke-width:3;stroke-dasharray:3;stroke-dashoffset:0" />
</svg>
`,cCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path
            fill="currentColor"
            d="M32 61.4 19.85 49.42l3.28-3.235 6.634 6.542V34.205H10.98l6.26 6.174-3.279 3.234L2.185 32l11.852-11.686 3.28 3.234-6.336 6.247h18.783V11.273l-6.261 6.174-3.28-3.234L32 2.6l11.777 11.613-3.28 3.234-6.26-6.174v18.522h18.782l-6.26-6.174 3.279-3.234L61.815 32 50.038 43.613l-3.28-3.234 6.261-6.174H34.236v18.522l6.634-6.542 3.28 3.234z"
    />
</svg>
`,dCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <line x1="8" y1="50" x2="24" y2="20" stroke="currentColor" stroke-width="8"/>
    <line x1="24" y1="20" x2="40" y2="54" stroke="currentColor" stroke-width="8"/>
    <line x1="40" y1="54" x2="54" y2="10" stroke="currentColor" stroke-width="8"/>
    <circle cx="8" cy="50" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="24" cy="20" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="40" cy="54" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="54" cy="10" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
</svg>
`,fCe=`<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 64 64">
    <path d="M32 62.81s23.107-21.898 23.107-38.512a23.107 23.107 0 0 0-46.214 0C8.893 40.912 32 62.809 32 62.809m0-26.958a11.554 11.554 0 1 1 0-23.107 11.554 11.554 0 0 1 0 23.107"/>
</svg>
`,hCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <!-- Polygon -->
    <polygon points="8,28 40,6 55,35 51,55 18,54" fill="none" stroke="currentColor" stroke-width="8"/>

    <!-- Vertex Circles -->
    <circle cx="9" cy="28" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="40" cy="8" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="55" cy="35" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="50" cy="55" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="18" cy="54" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
</svg>
`,pCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <!-- Rectangle -->
    <polygon points="10,10 54,10 54,54 10,54" fill="none" stroke="currentColor" stroke-width="8"/>

    <!-- Vertex Circles -->
    <circle cx="10" cy="10" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="54" cy="10" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="54" cy="54" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
    <circle cx="10" cy="54" r="6" fill="white" stroke="currentColor" stroke-width="4.5"/>
</svg>
`,mCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="currentColor"
          d="M39.063 42.14 22.288 28.12 7.96 44.603l11.338 9.854h9.059zm-3.498 12.317h25.941v5.465h-44.25L4.377 48.726a5.465 5.465 0 0 1-.542-7.711L34.311 5.958a5.465 5.465 0 0 1 7.712-.538l16.496 14.343a5.465 5.465 0 0 1 .541 7.709z"/>
</svg>`,gCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="currentColor"
          d="M58.709 17.724c-.3-.6-.601-.901-.902-1.502l-.3-.601c-.301-.601-.602-.902-.902-1.503l-.3-.601c-.301-.601-.602-.902-1.203-1.503l-.6-.901 8.414-9.317-13.825.3-13.824.301 1.502 13.524 1.503 13.524 9.617-10.819v.3l.3.602c.301.3.301.6.602.6l.3.602c0 .6 0 .901.3 1.202.903 2.104 1.804 4.208 2.105 6.311.6 4.208 0 8.716-1.804 12.623l-.6 1.202-.301.3-.902 1.503-.3.601c-.601.601-1.202 1.503-1.804 2.104-1.502 1.503-3.305 3.005-5.109 3.907-1.803 1.202-3.907 1.803-6.311 2.404-2.104.301-4.508.601-6.612.301-2.404-.3-4.508-.902-6.612-1.503-2.103-.901-3.907-2.104-5.71-3.606l-1.202-1.202-.601-.902-.601-.601c-.3-.3-.601-.601-.601-.902l-.902-1.202-.3-.3-.602-1.203c0-.3-.3-.3-.3-.6l-.902-1.503-.3-.601-.902-2.705q-.901-3.607-.901-7.213V27.04c0-.601 0-.901.3-1.202l.3-1.803.602-1.803c.901-2.405 2.103-4.509 3.606-6.612q2.254-3.156 5.41-5.41c.6-.3.901-1.202.3-1.803-.3-.3-.6-.601-.901-.601h-.601l-.3.3c-2.706 1.202-4.81 3.006-6.913 4.809-2.104 2.104-3.607 4.508-5.11 7.213-2.704 5.41-3.606 11.42-2.404 17.431.3 1.503.601 2.705.902 4.207l.902 2.405c.3.3.6.6.6 1.202l.602 1.202c0 .3.3.601.3.601l.902 1.503c.3.601.6.901.901 1.503l.301.6c.3.301.601.902.902 1.203l2.103 1.803c2.104 2.104 4.809 3.907 7.514 5.41q4.057 2.254 9.016 2.705c1.503.3 3.005.3 4.508.3 1.803 0 3.306 0 4.809-.3 3.005-.602 6.311-1.503 9.016-3.006l.6-.3c.602-.3.903-.601 1.504-.902l2.103-1.202c.601-.3.902-.601 1.203-.902l.6-.6a3.622 3.622 0 0 0 1.503-1.504l.3-.3c.902-.902 2.105-2.104 2.706-3.005l1.803-2.705 1.202-1.804c3.005-5.71 4.208-12.322 3.306-18.633-.601-3.306-1.503-6.612-3.005-9.317z"/>
</svg>
`,yCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="none" d="M0 0h24v24H0Z"/>
    <path fill="currentColor"
          d="M6.962 3.385h50.076a3.577 3.577 0 0 1 3.577 3.577v50.076a3.577 3.577 0 0 1-3.577 3.577H6.962a3.577 3.577 0 0 1-3.577-3.577V6.962a3.577 3.577 0 0 1 3.577-3.577Zm3.577 7.154v42.922h42.922V10.539Zm7.154 7.154h28.614v7.153H17.693Zm0 14.307h28.614v7.154H17.693Z"/>
</svg>
`,vCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path stroke="currentColor" fill="currentColor" stroke-width="2"
          d="M44.095 2.247a2.285 2.285 0 0 0-.135.04L12.025 12.762a2.285 2.285 0 0 0-1.497 1.588l-7.772 29.4a2.285 2.285 0 0 0 1.213 2.641L35.397 61.6a2.285 2.285 0 0 0 2.873-.754l22.64-32.582a2.285 2.285 0 0 0 .05-2.534L46.6 3.23a2.285 2.285 0 0 0-2.504-.982ZM43.7 7.182l12.203 19.12-5.167 1.76 1.052 3.09 2.031-.693L38.07 53.122l.01-1.375-3.262-.023-.034 4.5-27.13-13.127 6.975-26.38Zm3.946 21.932-6.18 2.105 1.052 3.09 6.18-2.105zm-9.27 3.157-2.329.793a1.632 1.632 0 0 0-1.105 1.534l-.03 4.068 3.265.024.02-2.91 1.232-.419zm-3.488 9.66-.047 6.529 3.264.023.048-6.528z"/>
</svg>
`,bCe=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="currentColor" fill-rule="evenodd"
          d="M19.435 3.417c-4.478 0-8.96 1.693-12.343 5.076-6.766 6.766-6.766 17.913 0 24.679h.006c2.754 2.749 5.563 5.561 8.357 8.357 1.857 1.859 3.696 3.696 5.553 5.553l.949.949 1.892 1.898 9.496-9.49-1.898-1.898-6.502-6.502c-2.796-2.797-5.6-5.606-8.363-8.362-1.65-1.653-1.652-4.042 0-5.694 1.653-1.653 4.047-1.653 5.7 0l8.357 8.362 6.502 6.502 1.898 1.893 9.49-9.49-1.893-1.893-6.507-6.502-8.357-8.362c-3.384-3.383-7.86-5.076-12.337-5.076Zm0 2.68c3.789 0 7.577 1.432 10.439 4.294l8.357 8.362-5.694 5.694-8.357-8.362a6.7 6.7 0 0 0-9.496 0 6.697 6.697 0 0 0 0 9.49c2.76 2.755 5.566 5.564 8.363 8.362l-5.694 5.694c-2.795-2.796-5.601-5.607-8.357-8.357H8.99c-5.724-5.724-5.724-15.16 0-20.883 2.861-2.862 6.655-4.294 10.444-4.294ZM57.709 29.03a4.266 4.266 0 0 0-4.268 4.268c0 1.594.881 2.973 2.176 3.707-.714 4.997-1.424 10.107-2.176 15.037-.934 0-1.792.309-2.495.818l-7.115-5.07a4.25 4.25 0 0 0 .115-.965 4.27 4.27 0 1 0-4.268 4.268 4.23 4.23 0 0 0 2.732-1.012l6.973 4.965a4.22 4.22 0 0 0-.215 1.269 4.27 4.27 0 0 0 4.273 4.268 4.266 4.266 0 0 0 4.268-4.268 4.247 4.247 0 0 0-1.657-3.356l2.208-15.446c2.095-.273 3.722-2.045 3.722-4.215a4.27 4.27 0 0 0-4.273-4.268z"
    />
</svg>
`,_Ce=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
    <path fill="currentColor"
          d="M1.585 1.585V13.75h5.17v1.52H8.58v-1.52h5.17V1.585Zm3.041 3.041h6.083v6.083H4.626Zm9.429 2.13V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.474 0V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.475 0V8.58h3.65V6.755Zm5.475 0v1.597a1.521 1.521 0 0 0-.325.152l-15.686 9.758a1.52 1.52 0 0 0-.199 2.437l23.512 20.553a1.52 1.52 0 0 0 2.477-.78l4.212-17.037v.352h1.825v-3.65H55.42v1.524a1.52 1.52 0 0 0-.222-.296L43.002 8.741a1.521 1.521 0 0 0-.182-.16h2.259V6.754Zm5.475 0V8.58h3.65V6.755Zm5.474 0V8.58h3.65V6.755Zm3.042 2.432v3.65h1.825v-3.65Zm-13.752 2.549 10.757 11.137-3.57 14.446-20.087-17.559Zm13.752 2.926v3.65h1.825v-3.65ZM6.755 17.096v3.65H8.58v-3.65zm0 5.475v3.65h1.628a1.52 1.52 0 0 0 1.02.909l12.683 3.406 7.905 12.694c.168.27.417.481.712.602l13.39 4.576a1.52 1.52 0 0 0 1.157-2.814l-12.936-4.389L24.35 28.42a1.52 1.52 0 0 0-.896-.664L10.19 24.193a1.52 1.52 0 0 0-1.61.557v-2.178zm48.665 3.042v3.65h1.825v-3.65ZM6.755 28.046v3.65H8.58v-3.65zm48.665 3.042v3.65h1.825v-3.65ZM6.755 33.52v3.65H8.58v-3.65zm48.665 3.041v3.65h1.825v-3.65ZM6.755 38.996v3.65H8.58v-3.65zm48.665 3.041v3.65h1.825v-3.65zm-35.382.913c-3.454 0-6.287 2.833-6.287 6.287 0 3.076 2.248 5.654 5.179 6.183h-1.225v1.825h3.65V55.42h-.206c2.712-.5 4.777-2.796 5.055-5.59l.002-.002a1.52 1.52 0 0 0 0-1.18c-.314-3.168-2.922-5.698-6.168-5.698zM6.755 44.47v3.65H8.58v-3.65zm13.283 1.521a3.223 3.223 0 0 1 3.246 3.246 3.223 3.223 0 0 1-3.246 3.246 3.223 3.223 0 0 1-3.246-3.246 3.223 3.223 0 0 1 3.246-3.246zm35.382 1.52v2.738h-5.17v12.166h12.165V50.25h-5.17v-2.737ZM6.755 49.946v3.65H8.58v-3.65zm46.536 3.346h6.083v6.083H53.29ZM6.755 55.42v1.825h3.65V55.42H7.668Zm5.475 0v1.825h3.65V55.42zm10.95 0v1.825h3.65V55.42zm5.474 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42zm5.475 0v1.825h3.65V55.42z"/>
</svg>
`,Zd={marker:fCe,circle:lCe,ellipse:uCe,circle_marker:lK,text_marker:yCe,line:dCe,rectangle:pCe,polygon:hCe,drag:cCe,change:sCe,rotate:gCe,cut:vCe,delete:mCe,snapping:bCe,zoom_to_features:_Ce},dM=e=>[{type:"circle",paint:{"circle-radius":e.circleMarkerRadius,"circle-color":e.fillColor,"circle-opacity":e.fillOpacity,"circle-stroke-color":e.lineColor,"circle-stroke-width":e.lineWidth,"circle-stroke-opacity":e.lineOpacity}}],Vx=e=>[{type:"circle",paint:{"circle-radius":7,"circle-color":"#ffffff","circle-opacity":1,"circle-stroke-color":e.lineColor,"circle-stroke-width":2,"circle-stroke-opacity":1}}],fM=e=>[{type:"line",paint:{"line-color":e.lineColor,"line-opacity":e.lineOpacity,"line-width":e.lineWidth}}],hM=()=>[{type:"symbol",layout:{"icon-image":"default-marker","icon-size":.18,"icon-allow-overlap":!0,"icon-anchor":"bottom"}}],kp=e=>[{type:"fill",paint:{"fill-color":e.fillColor,"fill-opacity":e.fillOpacity}},{type:"line",paint:{"line-color":e.lineColor,"line-opacity":e.lineOpacity,"line-width":e.lineWidth}}],pM=e=>[{type:"circle",paint:{"circle-radius":6,"circle-color":"#ffffff","circle-opacity":.6,"circle-stroke-color":e.lineColor,"circle-stroke-width":2,"circle-stroke-opacity":1}}],mM=()=>[{type:"line",paint:{"line-color":"#00979f","line-width":1.8,"line-dasharray":[2,1]}}],dd=`__${Wu}_`,Mh=`${dd}id`,O7=6e4,Kn={...qu&&{standby:`${Wu}_standby`},main:`${Wu}_main`,temporary:`${Wu}_temporary`},gM=()=>[{type:"symbol",layout:{"text-field":["get",`${dd}text`],"text-justify":"center"},paint:{"text-color":"black","text-halo-color":"#fff","text-halo-width":2}}],Do={[Kn.main]:{lineColor:"#278cda",lineOpacity:.8,lineWidth:3,fillColor:"#4fb3ff",fillOpacity:.4,circleMarkerRadius:10},[Kn.temporary]:{lineColor:"#ff5600",lineOpacity:.8,lineWidth:3,fillColor:"#4fb3ff",fillOpacity:.4,circleMarkerRadius:10},...qu&&{[Kn.standby]:{lineColor:"#787878",lineOpacity:.8,lineWidth:3,fillColor:"#a5a5a5",fillOpacity:.4,circleMarkerRadius:10}}},xCe={polygon:{[Kn.main]:kp(Do[Kn.main]),[Kn.temporary]:kp(Do[Kn.temporary]),...qu&&{[Kn.standby]:kp(Do[Kn.standby])}},ellipse:{[Kn.main]:kp(Do[Kn.main]),[Kn.temporary]:kp(Do[Kn.temporary]),...qu&&{[Kn.standby]:kp(Do[Kn.standby])}},rectangle:{[Kn.main]:kp(Do[Kn.main]),[Kn.temporary]:kp(Do[Kn.temporary]),...qu&&{[Kn.standby]:kp(Do[Kn.standby])}},circle:{[Kn.main]:kp(Do[Kn.main]),[Kn.temporary]:kp(Do[Kn.temporary]),...qu&&{[Kn.standby]:kp(Do[Kn.standby])}},circle_marker:{[Kn.main]:dM(Do[Kn.main]),[Kn.temporary]:dM(Do[Kn.temporary]),...qu&&{[Kn.standby]:dM(Do[Kn.standby])}},line:{[Kn.main]:fM(Do[Kn.main]),[Kn.temporary]:fM(Do[Kn.temporary]),...qu&&{[Kn.standby]:fM(Do[Kn.standby])}},marker:{[Kn.temporary]:hM(),[Kn.main]:hM(),...qu&&{[Kn.standby]:hM()}},text_marker:{[Kn.main]:gM(),[Kn.temporary]:gM(),...qu&&{[Kn.standby]:gM()}},dom_marker:{[Kn.main]:[],[Kn.temporary]:[],...qu&&{[Kn.standby]:[]}},center_marker:{[Kn.main]:Vx(Do[Kn.main]),[Kn.temporary]:Vx(Do[Kn.temporary]),...qu&&{[Kn.standby]:Vx(Do[Kn.standby])}},vertex_marker:{[Kn.main]:Vx(Do[Kn.main]),[Kn.temporary]:Vx(Do[Kn.temporary]),...qu&&{[Kn.standby]:Vx(Do[Kn.standby])}},edge_marker:{[Kn.main]:pM(Do[Kn.main]),[Kn.temporary]:pM(Do[Kn.temporary]),...qu&&{[Kn.standby]:pM(Do[Kn.standby])}},snap_guide:{[Kn.main]:mM(),[Kn.temporary]:mM(),...qu&&{[Kn.standby]:mM()}}},ECe=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#0A95F0" class="bi bi-geo-alt-fill"
     viewBox="0 0 16 16">
    <path d="M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10m0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6"/>
</svg>
`,wCe=`<svg xmlns="http://www.w3.org/2000/svg" width="21" height="21">
    <circle cx="10.5" cy="10.5" r="9.213" fill="#fff" stroke="#278cda" stroke-width="2.303"/>
</svg>
`,SCe={settings:{throttlingDelay:10,awaitDataUpdatesOnEvents:!0,useDefaultLayers:!0,controlsPosition:"top-left",controlsUiEnabledByDefault:!0,controlsCollapsible:!1,controlsStyles:{controlGroupClass:"maplibregl-ctrl maplibregl-ctrl-group",controlContainerClass:"gm-control-container",controlButtonClass:"gm-control-button"},idGenerator:null,markerIcons:{default:ECe,control:wCe}},layerStyles:xCe,controls:{draw:{marker:{title:"Marker",icon:Zd.marker,uiEnabled:!0,active:!1},circle_marker:{title:"Circle Marker",icon:Zd.circle_marker,uiEnabled:!0,active:!1},text_marker:{title:"Text Marker",icon:Zd.text_marker,uiEnabled:!0,active:!1},circle:{title:"Circle",icon:Zd.circle,uiEnabled:!0,active:!1},ellipse:{title:"Ellipse",icon:Zd.ellipse,uiEnabled:!0,active:!1},line:{title:"Line",icon:Zd.line,uiEnabled:!0,active:!1},rectangle:{title:"Rectangle",icon:Zd.rectangle,uiEnabled:!0,active:!1},polygon:{title:"Polygon",icon:Zd.polygon,uiEnabled:!0,active:!1}},edit:{drag:{title:"Drag",icon:Zd.drag,uiEnabled:!0,active:!1},change:{title:"Change",icon:Zd.change,uiEnabled:!0,active:!1},rotate:{title:"Rotate",icon:Zd.rotate,uiEnabled:!0,active:!1},cut:{title:"Cut",icon:Zd.cut,uiEnabled:!0,active:!1},delete:{title:"Delete",icon:Zd.delete,uiEnabled:!0,active:!1}},helper:{shape_markers:{title:"Shape markers",icon:null,uiEnabled:!1,active:!1},snapping:{title:"Snapping",icon:Zd.snapping,uiEnabled:!0,active:!1},zoom_to_features:{title:"Zoom to features",icon:Zd.zoom_to_features,uiEnabled:!0,active:!1}}}};var uK=typeof global=="object"&&global&&global.Object===Object&&global,TCe=typeof self=="object"&&self&&self.Object===Object&&self,yg=uK||TCe||Function("return this")(),Zp=yg.Symbol,cK=Object.prototype,CCe=cK.hasOwnProperty,ACe=cK.toString,h2=Zp?Zp.toStringTag:void 0;function kCe(e){var t=CCe.call(e,h2),n=e[h2];try{e[h2]=void 0;var r=!0}catch{}var a=ACe.call(e);return r&&(t?e[h2]=n:delete e[h2]),a}var ICe=Object.prototype,NCe=ICe.toString;function RCe(e){return NCe.call(e)}var MCe="[object Null]",OCe="[object Undefined]",D7=Zp?Zp.toStringTag:void 0;function Q1(e){return e==null?e===void 0?OCe:MCe:D7&&D7 in Object(e)?kCe(e):RCe(e)}function Oy(e){return e!=null&&typeof e=="object"}var DCe="[object Symbol]";function UE(e){return typeof e=="symbol"||Oy(e)&&Q1(e)==DCe}function EE(e,t){for(var n=-1,r=e==null?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}var tf=Array.isArray,L7=Zp?Zp.prototype:void 0,P7=L7?L7.toString:void 0;function dK(e){if(typeof e=="string")return e;if(tf(e))return EE(e,dK)+"";if(UE(e))return P7?P7.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var LCe=/\s/;function PCe(e){for(var t=e.length;t--&&LCe.test(e.charAt(t)););return t}var FCe=/^\s+/;function BCe(e){return e&&e.slice(0,PCe(e)+1).replace(FCe,"")}function nf(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var F7=NaN,$Ce=/^[-+]0x[0-9a-f]+$/i,jCe=/^0b[01]+$/i,zCe=/^0o[0-7]+$/i,UCe=parseInt;function B7(e){if(typeof e=="number")return e;if(UE(e))return F7;if(nf(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=nf(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=BCe(e);var n=jCe.test(e);return n||zCe.test(e)?UCe(e.slice(2),n?2:8):$Ce.test(e)?F7:+e}function EN(e){return e}var GCe="[object AsyncFunction]",HCe="[object Function]",VCe="[object GeneratorFunction]",qCe="[object Proxy]";function aF(e){if(!nf(e))return!1;var t=Q1(e);return t==HCe||t==VCe||t==GCe||t==qCe}var yM=yg["__core-js_shared__"],$7=(function(){var e=/[^.]+$/.exec(yM&&yM.keys&&yM.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function YCe(e){return!!$7&&$7 in e}var WCe=Function.prototype,ZCe=WCe.toString;function J1(e){if(e!=null){try{return ZCe.call(e)}catch{}try{return e+""}catch{}}return""}var XCe=/[\\^$.*+?()[\]{}|]/g,KCe=/^\[object .+?Constructor\]$/,QCe=Function.prototype,JCe=Object.prototype,eAe=QCe.toString,tAe=JCe.hasOwnProperty,nAe=RegExp("^"+eAe.call(tAe).replace(XCe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rAe(e){if(!nf(e)||YCe(e))return!1;var t=aF(e)?nAe:KCe;return t.test(J1(e))}function aAe(e,t){return e?.[t]}function ex(e,t){var n=aAe(e,t);return rAe(n)?n:void 0}var V3=ex(yg,"WeakMap"),j7=Object.create,iAe=(function(){function e(){}return function(t){if(!nf(t))return{};if(j7)return j7(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function oAe(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function sAe(){}function lAe(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var uAe=800,cAe=16,dAe=Date.now;function fAe(e){var t=0,n=0;return function(){var r=dAe(),a=cAe-(r-n);if(n=r,a>0){if(++t>=uAe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function hAe(e){return function(){return e}}var Mk=(function(){try{var e=ex(Object,"defineProperty");return e({},"",{}),e}catch{}})(),pAe=Mk?function(e,t){return Mk(e,"toString",{configurable:!0,enumerable:!1,value:hAe(t),writable:!0})}:EN,mAe=fAe(pAe);function gAe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function yAe(e,t,n,r){for(var a=e.length,l=n+-1;++l<a;)if(t(e[l],l,e))return l;return-1}function vAe(e){return e!==e}function bAe(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}function _Ae(e,t,n){return t===t?bAe(e,t,n):yAe(e,vAe,n)}function fK(e,t){var n=e==null?0:e.length;return!!n&&_Ae(e,t,0)>-1}var xAe=9007199254740991,EAe=/^(?:0|[1-9]\d*)$/;function wN(e,t){var n=typeof e;return t=t??xAe,!!t&&(n=="number"||n!="symbol"&&EAe.test(e))&&e>-1&&e%1==0&&e<t}function zT(e,t,n){t=="__proto__"&&Mk?Mk(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function UT(e,t){return e===t||e!==e&&t!==t}var wAe=Object.prototype,SAe=wAe.hasOwnProperty;function iF(e,t,n){var r=e[t];(!(SAe.call(e,t)&&UT(r,n))||n===void 0&&!(t in e))&&zT(e,t,n)}function TAe(e,t,n,r){var a=!n;n||(n={});for(var l=-1,u=t.length;++l<u;){var i=t[l],m=void 0;m===void 0&&(m=e[i]),a?zT(n,i,m):iF(n,i,m)}return n}var z7=Math.max;function CAe(e,t,n){return t=z7(t===void 0?e.length-1:t,0),function(){for(var r=arguments,a=-1,l=z7(r.length-t,0),u=Array(l);++a<l;)u[a]=r[t+a];a=-1;for(var i=Array(t+1);++a<t;)i[a]=r[a];return i[t]=n(u),oAe(e,this,i)}}function oF(e,t){return mAe(CAe(e,t,EN),e+"")}var AAe=9007199254740991;function sF(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=AAe}function Tw(e){return e!=null&&sF(e.length)&&!aF(e)}function q3(e,t,n){if(!nf(n))return!1;var r=typeof t;return(r=="number"?Tw(n)&&wN(t,n.length):r=="string"&&t in n)?UT(n[t],e):!1}function hK(e){return oF(function(t,n){var r=-1,a=n.length,l=a>1?n[a-1]:void 0,u=a>2?n[2]:void 0;for(l=e.length>3&&typeof l=="function"?(a--,l):void 0,u&&q3(n[0],n[1],u)&&(l=a<3?void 0:l,a=1),t=Object(t);++r<a;){var i=n[r];i&&e(t,i,r,l)}return t})}var kAe=Object.prototype;function lF(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||kAe;return e===n}function IAe(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var NAe="[object Arguments]";function U7(e){return Oy(e)&&Q1(e)==NAe}var pK=Object.prototype,RAe=pK.hasOwnProperty,MAe=pK.propertyIsEnumerable,LS=U7((function(){return arguments})())?U7:function(e){return Oy(e)&&RAe.call(e,"callee")&&!MAe.call(e,"callee")};function OAe(){return!1}var mK=typeof jh=="object"&&jh&&!jh.nodeType&&jh,G7=mK&&typeof zh=="object"&&zh&&!zh.nodeType&&zh,DAe=G7&&G7.exports===mK,H7=DAe?yg.Buffer:void 0,LAe=H7?H7.isBuffer:void 0,PS=LAe||OAe,PAe="[object Arguments]",FAe="[object Array]",BAe="[object Boolean]",$Ae="[object Date]",jAe="[object Error]",zAe="[object Function]",UAe="[object Map]",GAe="[object Number]",HAe="[object Object]",VAe="[object RegExp]",qAe="[object Set]",YAe="[object String]",WAe="[object WeakMap]",ZAe="[object ArrayBuffer]",XAe="[object DataView]",KAe="[object Float32Array]",QAe="[object Float64Array]",JAe="[object Int8Array]",eke="[object Int16Array]",tke="[object Int32Array]",nke="[object Uint8Array]",rke="[object Uint8ClampedArray]",ake="[object Uint16Array]",ike="[object Uint32Array]",us={};us[KAe]=us[QAe]=us[JAe]=us[eke]=us[tke]=us[nke]=us[rke]=us[ake]=us[ike]=!0;us[PAe]=us[FAe]=us[ZAe]=us[BAe]=us[XAe]=us[$Ae]=us[jAe]=us[zAe]=us[UAe]=us[GAe]=us[HAe]=us[VAe]=us[qAe]=us[YAe]=us[WAe]=!1;function oke(e){return Oy(e)&&sF(e.length)&&!!us[Q1(e)]}function SN(e){return function(t){return e(t)}}var gK=typeof jh=="object"&&jh&&!jh.nodeType&&jh,K2=gK&&typeof zh=="object"&&zh&&!zh.nodeType&&zh,ske=K2&&K2.exports===gK,vM=ske&&uK.process,GE=(function(){try{var e=K2&&K2.require&&K2.require("util").types;return e||vM&&vM.binding&&vM.binding("util")}catch{}})(),V7=GE&&GE.isTypedArray,uF=V7?SN(V7):oke,lke=Object.prototype,uke=lke.hasOwnProperty;function yK(e,t){var n=tf(e),r=!n&&LS(e),a=!n&&!r&&PS(e),l=!n&&!r&&!a&&uF(e),u=n||r||a||l,i=u?IAe(e.length,String):[],m=i.length;for(var b in e)(t||uke.call(e,b))&&!(u&&(b=="length"||a&&(b=="offset"||b=="parent")||l&&(b=="buffer"||b=="byteLength"||b=="byteOffset")||wN(b,m)))&&i.push(b);return i}function vK(e,t){return function(n){return e(t(n))}}var cke=vK(Object.keys,Object),dke=Object.prototype,fke=dke.hasOwnProperty;function hke(e){if(!lF(e))return cke(e);var t=[];for(var n in Object(e))fke.call(e,n)&&n!="constructor"&&t.push(n);return t}function TN(e){return Tw(e)?yK(e):hke(e)}function pke(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var mke=Object.prototype,gke=mke.hasOwnProperty;function yke(e){if(!nf(e))return pke(e);var t=lF(e),n=[];for(var r in e)r=="constructor"&&(t||!gke.call(e,r))||n.push(r);return n}function bK(e){return Tw(e)?yK(e,!0):yke(e)}var vke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bke=/^\w*$/;function cF(e,t){if(tf(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||UE(e)?!0:bke.test(e)||!vke.test(e)||t!=null&&e in Object(t)}var FS=ex(Object,"create");function _ke(){this.__data__=FS?FS(null):{},this.size=0}function xke(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Eke="__lodash_hash_undefined__",wke=Object.prototype,Ske=wke.hasOwnProperty;function Tke(e){var t=this.__data__;if(FS){var n=t[e];return n===Eke?void 0:n}return Ske.call(t,e)?t[e]:void 0}var Cke=Object.prototype,Ake=Cke.hasOwnProperty;function kke(e){var t=this.__data__;return FS?t[e]!==void 0:Ake.call(t,e)}var Ike="__lodash_hash_undefined__";function Nke(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=FS&&t===void 0?Ike:t,this}function S1(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}S1.prototype.clear=_ke;S1.prototype.delete=xke;S1.prototype.get=Tke;S1.prototype.has=kke;S1.prototype.set=Nke;function Rke(){this.__data__=[],this.size=0}function CN(e,t){for(var n=e.length;n--;)if(UT(e[n][0],t))return n;return-1}var Mke=Array.prototype,Oke=Mke.splice;function Dke(e){var t=this.__data__,n=CN(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Oke.call(t,n,1),--this.size,!0}function Lke(e){var t=this.__data__,n=CN(t,e);return n<0?void 0:t[n][1]}function Pke(e){return CN(this.__data__,e)>-1}function Fke(e,t){var n=this.__data__,r=CN(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function dv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}dv.prototype.clear=Rke;dv.prototype.delete=Dke;dv.prototype.get=Lke;dv.prototype.has=Pke;dv.prototype.set=Fke;var BS=ex(yg,"Map");function Bke(){this.size=0,this.__data__={hash:new S1,map:new(BS||dv),string:new S1}}function $ke(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function AN(e,t){var n=e.__data__;return $ke(t)?n[typeof t=="string"?"string":"hash"]:n.map}function jke(e){var t=AN(this,e).delete(e);return this.size-=t?1:0,t}function zke(e){return AN(this,e).get(e)}function Uke(e){return AN(this,e).has(e)}function Gke(e,t){var n=AN(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function fv(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fv.prototype.clear=Bke;fv.prototype.delete=jke;fv.prototype.get=zke;fv.prototype.has=Uke;fv.prototype.set=Gke;var Hke="Expected a function";function dF(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hke);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],l=n.cache;if(l.has(a))return l.get(a);var u=e.apply(this,r);return n.cache=l.set(a,u)||l,u};return n.cache=new(dF.Cache||fv),n}dF.Cache=fv;var Vke=500;function qke(e){var t=dF(e,function(r){return n.size===Vke&&n.clear(),r}),n=t.cache;return t}var Yke=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wke=/\\(\\)?/g,Zke=qke(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Yke,function(n,r,a,l){t.push(a?l.replace(Wke,"$1"):r||n)}),t});function Xke(e){return e==null?"":dK(e)}function fF(e,t){return tf(e)?e:cF(e,t)?[e]:Zke(Xke(e))}function GT(e){if(typeof e=="string"||UE(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function hF(e,t){t=fF(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[GT(t[n++])];return n&&n==r?e:void 0}function HE(e,t,n){var r=e==null?void 0:hF(e,t);return r===void 0?n:r}function _K(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}var q7=Zp?Zp.isConcatSpreadable:void 0;function Kke(e){return tf(e)||LS(e)||!!(q7&&e&&e[q7])}function Qke(e,t,n,r,a){var l=-1,u=e.length;for(n||(n=Kke),a||(a=[]);++l<u;){var i=e[l];n(i)?_K(a,i):a[a.length]=i}return a}var xK=vK(Object.getPrototypeOf,Object),Jke="[object Object]",eIe=Function.prototype,tIe=Object.prototype,EK=eIe.toString,nIe=tIe.hasOwnProperty,rIe=EK.call(Object);function wK(e){if(!Oy(e)||Q1(e)!=Jke)return!1;var t=xK(e);if(t===null)return!0;var n=nIe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&EK.call(n)==rIe}function aIe(){this.__data__=new dv,this.size=0}function iIe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function oIe(e){return this.__data__.get(e)}function sIe(e){return this.__data__.has(e)}var lIe=200;function uIe(e,t){var n=this.__data__;if(n instanceof dv){var r=n.__data__;if(!BS||r.length<lIe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new fv(r)}return n.set(e,t),this.size=n.size,this}function tg(e){var t=this.__data__=new dv(e);this.size=t.size}tg.prototype.clear=aIe;tg.prototype.delete=iIe;tg.prototype.get=oIe;tg.prototype.has=sIe;tg.prototype.set=uIe;var SK=typeof jh=="object"&&jh&&!jh.nodeType&&jh,Y7=SK&&typeof zh=="object"&&zh&&!zh.nodeType&&zh,cIe=Y7&&Y7.exports===SK,W7=cIe?yg.Buffer:void 0,Z7=W7?W7.allocUnsafe:void 0;function TK(e,t){if(t)return e.slice();var n=e.length,r=Z7?Z7(n):new e.constructor(n);return e.copy(r),r}function dIe(e,t){for(var n=-1,r=e==null?0:e.length,a=0,l=[];++n<r;){var u=e[n];t(u,n,e)&&(l[a++]=u)}return l}function fIe(){return[]}var hIe=Object.prototype,pIe=hIe.propertyIsEnumerable,X7=Object.getOwnPropertySymbols,mIe=X7?function(e){return e==null?[]:(e=Object(e),dIe(X7(e),function(t){return pIe.call(e,t)}))}:fIe;function gIe(e,t,n){var r=t(e);return tf(e)?r:_K(r,n(e))}function Y3(e){return gIe(e,TN,mIe)}var W3=ex(yg,"DataView"),Z3=ex(yg,"Promise"),wE=ex(yg,"Set"),K7="[object Map]",yIe="[object Object]",Q7="[object Promise]",J7="[object Set]",ez="[object WeakMap]",tz="[object DataView]",vIe=J1(W3),bIe=J1(BS),_Ie=J1(Z3),xIe=J1(wE),EIe=J1(V3),zm=Q1;(W3&&zm(new W3(new ArrayBuffer(1)))!=tz||BS&&zm(new BS)!=K7||Z3&&zm(Z3.resolve())!=Q7||wE&&zm(new wE)!=J7||V3&&zm(new V3)!=ez)&&(zm=function(e){var t=Q1(e),n=t==yIe?e.constructor:void 0,r=n?J1(n):"";if(r)switch(r){case vIe:return tz;case bIe:return K7;case _Ie:return Q7;case xIe:return J7;case EIe:return ez}return t});var wIe=Object.prototype,SIe=wIe.hasOwnProperty;function TIe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&SIe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ok=yg.Uint8Array;function pF(e){var t=new e.constructor(e.byteLength);return new Ok(t).set(new Ok(e)),t}function CIe(e,t){var n=pF(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var AIe=/\w*$/;function kIe(e){var t=new e.constructor(e.source,AIe.exec(e));return t.lastIndex=e.lastIndex,t}var nz=Zp?Zp.prototype:void 0,rz=nz?nz.valueOf:void 0;function IIe(e){return rz?Object(rz.call(e)):{}}function CK(e,t){var n=t?pF(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var NIe="[object Boolean]",RIe="[object Date]",MIe="[object Map]",OIe="[object Number]",DIe="[object RegExp]",LIe="[object Set]",PIe="[object String]",FIe="[object Symbol]",BIe="[object ArrayBuffer]",$Ie="[object DataView]",jIe="[object Float32Array]",zIe="[object Float64Array]",UIe="[object Int8Array]",GIe="[object Int16Array]",HIe="[object Int32Array]",VIe="[object Uint8Array]",qIe="[object Uint8ClampedArray]",YIe="[object Uint16Array]",WIe="[object Uint32Array]";function ZIe(e,t,n){var r=e.constructor;switch(t){case BIe:return pF(e);case NIe:case RIe:return new r(+e);case $Ie:return CIe(e);case jIe:case zIe:case UIe:case GIe:case HIe:case VIe:case qIe:case YIe:case WIe:return CK(e,n);case MIe:return new r;case OIe:case PIe:return new r(e);case DIe:return kIe(e);case LIe:return new r;case FIe:return IIe(e)}}function AK(e){return typeof e.constructor=="function"&&!lF(e)?iAe(xK(e)):{}}var XIe="[object Map]";function KIe(e){return Oy(e)&&zm(e)==XIe}var az=GE&&GE.isMap,QIe=az?SN(az):KIe,JIe="[object Set]";function eNe(e){return Oy(e)&&zm(e)==JIe}var iz=GE&&GE.isSet,tNe=iz?SN(iz):eNe,nNe=1,kK="[object Arguments]",rNe="[object Array]",aNe="[object Boolean]",iNe="[object Date]",oNe="[object Error]",IK="[object Function]",sNe="[object GeneratorFunction]",lNe="[object Map]",uNe="[object Number]",NK="[object Object]",cNe="[object RegExp]",dNe="[object Set]",fNe="[object String]",hNe="[object Symbol]",pNe="[object WeakMap]",mNe="[object ArrayBuffer]",gNe="[object DataView]",yNe="[object Float32Array]",vNe="[object Float64Array]",bNe="[object Int8Array]",_Ne="[object Int16Array]",xNe="[object Int32Array]",ENe="[object Uint8Array]",wNe="[object Uint8ClampedArray]",SNe="[object Uint16Array]",TNe="[object Uint32Array]",Ko={};Ko[kK]=Ko[rNe]=Ko[mNe]=Ko[gNe]=Ko[aNe]=Ko[iNe]=Ko[yNe]=Ko[vNe]=Ko[bNe]=Ko[_Ne]=Ko[xNe]=Ko[lNe]=Ko[uNe]=Ko[NK]=Ko[cNe]=Ko[dNe]=Ko[fNe]=Ko[hNe]=Ko[ENe]=Ko[wNe]=Ko[SNe]=Ko[TNe]=!0;Ko[oNe]=Ko[IK]=Ko[pNe]=!1;function DA(e,t,n,r,a,l){var u,i=t&nNe;if(u!==void 0)return u;if(!nf(e))return e;var m=tf(e);if(m)u=TIe(e);else{var b=zm(e),_=b==IK||b==sNe;if(PS(e))return TK(e,i);if(b==NK||b==kK||_&&!a)u=_?{}:AK(e);else{if(!Ko[b])return a?e:{};u=ZIe(e,b,i)}}l||(l=new tg);var w=l.get(e);if(w)return w;l.set(e,u),tNe(e)?e.forEach(function(j){u.add(DA(j,t,n,j,e,l))}):QIe(e)&&e.forEach(function(j,G){u.set(G,DA(j,t,n,G,e,l))});var M=Y3,P=m?void 0:M(e);return gAe(P||e,function(j,G){P&&(G=j,j=e[G]),iF(u,G,DA(j,t,n,G,e,l))}),u}var CNe=1,ANe=4;function Vh(e){return DA(e,CNe|ANe)}var kNe="__lodash_hash_undefined__";function INe(e){return this.__data__.set(e,kNe),this}function NNe(e){return this.__data__.has(e)}function VE(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new fv;++t<n;)this.add(e[t])}VE.prototype.add=VE.prototype.push=INe;VE.prototype.has=NNe;function RNe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Dk(e,t){return e.has(t)}var MNe=1,ONe=2;function RK(e,t,n,r,a,l){var u=n&MNe,i=e.length,m=t.length;if(i!=m&&!(u&&m>i))return!1;var b=l.get(e),_=l.get(t);if(b&&_)return b==t&&_==e;var w=-1,M=!0,P=n&ONe?new VE:void 0;for(l.set(e,t),l.set(t,e);++w<i;){var j=e[w],G=t[w];if(r)var z=u?r(G,j,w,t,e,l):r(j,G,w,e,t,l);if(z!==void 0){if(z)continue;M=!1;break}if(P){if(!RNe(t,function(q,Y){if(!Dk(P,Y)&&(j===q||a(j,q,n,r,l)))return P.push(Y)})){M=!1;break}}else if(!(j===G||a(j,G,n,r,l))){M=!1;break}}return l.delete(e),l.delete(t),M}function DNe(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function mF(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var LNe=1,PNe=2,FNe="[object Boolean]",BNe="[object Date]",$Ne="[object Error]",jNe="[object Map]",zNe="[object Number]",UNe="[object RegExp]",GNe="[object Set]",HNe="[object String]",VNe="[object Symbol]",qNe="[object ArrayBuffer]",YNe="[object DataView]",oz=Zp?Zp.prototype:void 0,bM=oz?oz.valueOf:void 0;function WNe(e,t,n,r,a,l,u){switch(n){case YNe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case qNe:return!(e.byteLength!=t.byteLength||!l(new Ok(e),new Ok(t)));case FNe:case BNe:case zNe:return UT(+e,+t);case $Ne:return e.name==t.name&&e.message==t.message;case UNe:case HNe:return e==t+"";case jNe:var i=DNe;case GNe:var m=r&LNe;if(i||(i=mF),e.size!=t.size&&!m)return!1;var b=u.get(e);if(b)return b==t;r|=PNe,u.set(e,t);var _=RK(i(e),i(t),r,a,l,u);return u.delete(e),_;case VNe:if(bM)return bM.call(e)==bM.call(t)}return!1}var ZNe=1,XNe=Object.prototype,KNe=XNe.hasOwnProperty;function QNe(e,t,n,r,a,l){var u=n&ZNe,i=Y3(e),m=i.length,b=Y3(t),_=b.length;if(m!=_&&!u)return!1;for(var w=m;w--;){var M=i[w];if(!(u?M in t:KNe.call(t,M)))return!1}var P=l.get(e),j=l.get(t);if(P&&j)return P==t&&j==e;var G=!0;l.set(e,t),l.set(t,e);for(var z=u;++w<m;){M=i[w];var q=e[M],Y=t[M];if(r)var J=u?r(Y,q,M,t,e,l):r(q,Y,M,e,t,l);if(!(J===void 0?q===Y||a(q,Y,n,r,l):J)){G=!1;break}z||(z=M=="constructor")}if(G&&!z){var ne=e.constructor,ie=t.constructor;ne!=ie&&"constructor"in e&&"constructor"in t&&!(typeof ne=="function"&&ne instanceof ne&&typeof ie=="function"&&ie instanceof ie)&&(G=!1)}return l.delete(e),l.delete(t),G}var JNe=1,sz="[object Arguments]",lz="[object Array]",GC="[object Object]",eRe=Object.prototype,uz=eRe.hasOwnProperty;function tRe(e,t,n,r,a,l){var u=tf(e),i=tf(t),m=u?lz:zm(e),b=i?lz:zm(t);m=m==sz?GC:m,b=b==sz?GC:b;var _=m==GC,w=b==GC,M=m==b;if(M&&PS(e)){if(!PS(t))return!1;u=!0,_=!1}if(M&&!_)return l||(l=new tg),u||uF(e)?RK(e,t,n,r,a,l):WNe(e,t,m,n,r,a,l);if(!(n&JNe)){var P=_&&uz.call(e,"__wrapped__"),j=w&&uz.call(t,"__wrapped__");if(P||j){var G=P?e.value():e,z=j?t.value():t;return l||(l=new tg),a(G,z,n,r,l)}}return M?(l||(l=new tg),QNe(e,t,n,r,a,l)):!1}function kN(e,t,n,r,a){return e===t?!0:e==null||t==null||!Oy(e)&&!Oy(t)?e!==e&&t!==t:tRe(e,t,n,r,kN,a)}var nRe=1,rRe=2;function aRe(e,t,n,r){var a=n.length,l=a;if(e==null)return!l;for(e=Object(e);a--;){var u=n[a];if(u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<l;){u=n[a];var i=u[0],m=e[i],b=u[1];if(u[2]){if(m===void 0&&!(i in e))return!1}else{var _=new tg,w;if(!(w===void 0?kN(b,m,nRe|rRe,r,_):w))return!1}}return!0}function MK(e){return e===e&&!nf(e)}function iRe(e){for(var t=TN(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,MK(a)]}return t}function OK(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function oRe(e){var t=iRe(e);return t.length==1&&t[0][2]?OK(t[0][0],t[0][1]):function(n){return n===e||aRe(n,e,t)}}function sRe(e,t){return e!=null&&t in Object(e)}function lRe(e,t,n){t=fF(t,e);for(var r=-1,a=t.length,l=!1;++r<a;){var u=GT(t[r]);if(!(l=e!=null&&n(e,u)))break;e=e[u]}return l||++r!=a?l:(a=e==null?0:e.length,!!a&&sF(a)&&wN(u,a)&&(tf(e)||LS(e)))}function uRe(e,t){return e!=null&&lRe(e,t,sRe)}var cRe=1,dRe=2;function fRe(e,t){return cF(e)&&MK(t)?OK(GT(e),t):function(n){var r=HE(n,e);return r===void 0&&r===t?uRe(n,e):kN(t,r,cRe|dRe)}}function hRe(e){return function(t){return t?.[e]}}function pRe(e){return function(t){return hF(t,e)}}function mRe(e){return cF(e)?hRe(GT(e)):pRe(e)}function DK(e){return typeof e=="function"?e:e==null?EN:typeof e=="object"?tf(e)?fRe(e[0],e[1]):oRe(e):mRe(e)}function gRe(e,t,n,r){for(var a=-1,l=e==null?0:e.length;++a<l;){var u=e[a];t(r,u,n(u),e)}return r}function yRe(e){return function(t,n,r){for(var a=-1,l=Object(t),u=r(t),i=u.length;i--;){var m=u[++a];if(n(l[m],m,l)===!1)break}return t}}var LK=yRe();function vRe(e,t){return e&&LK(e,t,TN)}function bRe(e,t){return function(n,r){if(n==null)return n;if(!Tw(n))return e(n,r);for(var a=n.length,l=-1,u=Object(n);++l<a&&r(u[l],l,u)!==!1;);return n}}var PK=bRe(vRe);function _Re(e,t,n,r){return PK(e,function(a,l,u){t(r,a,n(a),u)}),r}function FK(e,t){return function(n,r){var a=tf(n)?gRe:_Re,l={};return a(n,e,DK(r),l)}}var xRe=Object.prototype,ERe=xRe.hasOwnProperty,wRe=FK(function(e,t,n){ERe.call(e,n)?++e[n]:zT(e,n,1)}),_M=function(){return yg.Date.now()},SRe="Expected a function",TRe=Math.max,CRe=Math.min;function BK(e,t,n){var r,a,l,u,i,m,b=0,_=!1,w=!1,M=!0;if(typeof e!="function")throw new TypeError(SRe);t=B7(t)||0,nf(n)&&(_=!!n.leading,w="maxWait"in n,l=w?TRe(B7(n.maxWait)||0,t):l,M="trailing"in n?!!n.trailing:M);function P(ue){var oe=r,K=a;return r=a=void 0,b=ue,u=e.apply(K,oe),u}function j(ue){return b=ue,i=setTimeout(q,t),_?P(ue):u}function G(ue){var oe=ue-m,K=ue-b,se=t-oe;return w?CRe(se,l-K):se}function z(ue){var oe=ue-m,K=ue-b;return m===void 0||oe>=t||oe<0||w&&K>=l}function q(){var ue=_M();if(z(ue))return Y(ue);i=setTimeout(q,G(ue))}function Y(ue){return i=void 0,M&&r?P(ue):(r=a=void 0,u)}function J(){i!==void 0&&clearTimeout(i),b=0,r=m=a=i=void 0}function ne(){return i===void 0?u:Y(_M())}function ie(){var ue=_M(),oe=z(ue);if(r=arguments,a=this,m=ue,oe){if(i===void 0)return j(m);if(w)return clearTimeout(i),i=setTimeout(q,t),P(m)}return i===void 0&&(i=setTimeout(q,t)),u}return ie.cancel=J,ie.flush=ne,ie}function X3(e,t,n){(n!==void 0&&!UT(e[t],n)||n===void 0&&!(t in e))&&zT(e,t,n)}function $K(e){return Oy(e)&&Tw(e)}function K3(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function ARe(e){return TAe(e,bK(e))}function kRe(e,t,n,r,a,l,u){var i=K3(e,n),m=K3(t,n),b=u.get(m);if(b){X3(e,n,b);return}var _=l?l(i,m,n+"",e,t,u):void 0,w=_===void 0;if(w){var M=tf(m),P=!M&&PS(m),j=!M&&!P&&uF(m);_=m,M||P||j?tf(i)?_=i:$K(i)?_=lAe(i):P?(w=!1,_=TK(m,!0)):j?(w=!1,_=CK(m,!0)):_=[]:wK(m)||LS(m)?(_=i,LS(i)?_=ARe(i):(!nf(i)||aF(i))&&(_=AK(m))):w=!1}w&&(u.set(m,_),a(_,m,r,l,u),u.delete(m)),X3(e,n,_)}function gF(e,t,n,r,a){e!==t&&LK(t,function(l,u){if(a||(a=new tg),nf(l))kRe(e,t,u,n,gF,r,a);else{var i=r?r(K3(e,u),l,u+"",e,t,a):void 0;i===void 0&&(i=l),X3(e,u,i)}},bK)}var IRe=hK(function(e,t,n,r){gF(e,t,n,r)});function NRe(e,t,n){for(var r=-1,a=e==null?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function RRe(e,t){var n=-1,r=Tw(e)?Array(e.length):[];return PK(e,function(a,l,u){r[++n]=t(a,l,u)}),r}function MRe(e,t){return EE(t,function(n){return e[n]})}function ORe(e){return e==null?[]:MRe(e,TN(e))}var DRe=Math.min;function LRe(e,t,n){for(var r=fK,a=e[0].length,l=e.length,u=l,i=Array(l),m=1/0,b=[];u--;){var _=e[u];m=DRe(_.length,m),i[u]=a>=120&&_.length>=120?new VE(u&&_):void 0}_=e[0];var w=-1,M=i[0];e:for(;++w<a&&b.length<m;){var P=_[w],j=P;if(P=P!==0?P:0,!(M?Dk(M,j):r(b,j))){for(u=l;--u;){var G=i[u];if(!(G?Dk(G,j):r(e[u],j)))continue e}M&&M.push(j),b.push(P)}}return b}function PRe(e){return $K(e)?e:[]}var FRe=oF(function(e){var t=EE(e,PRe);return t.length&&t[0]===e[0]?LRe(t):[]});function Cw(e,t){return kN(e,t)}var BRe=FK(function(e,t,n){zT(e,n,t)}),$Re=hK(function(e,t,n){gF(e,t,n)});function jRe(e,t,n,r){if(!nf(e))return e;t=fF(t,e);for(var a=-1,l=t.length,u=l-1,i=e;i!=null&&++a<l;){var m=GT(t[a]),b=n;if(m==="__proto__"||m==="constructor"||m==="prototype")return e;if(a!=u){var _=i[m];b=void 0,b===void 0&&(b=nf(_)?_:wN(t[a+1])?[]:{})}iF(i,m,b),i=i[m]}return e}function zRe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function URe(e,t){if(e!==t){var n=e!==void 0,r=e===null,a=e===e,l=UE(e),u=t!==void 0,i=t===null,m=t===t,b=UE(t);if(!i&&!b&&!l&&e>t||l&&u&&m&&!i&&!b||r&&u&&m||!n&&m||!a)return 1;if(!r&&!l&&!b&&e<t||b&&n&&a&&!r&&!l||i&&n&&a||!u&&a||!m)return-1}return 0}function GRe(e,t,n){for(var r=-1,a=e.criteria,l=t.criteria,u=a.length,i=n.length;++r<u;){var m=URe(a[r],l[r]);if(m){if(r>=i)return m;var b=n[r];return m*(b=="desc"?-1:1)}}return e.index-t.index}function HRe(e,t,n){t.length?t=EE(t,function(l){return tf(l)?function(u){return hF(u,l.length===1?l[0]:l)}:l}):t=[EN];var r=-1;t=EE(t,SN(DK));var a=RRe(e,function(l,u,i){var m=EE(t,function(b){return b(l)});return{criteria:m,index:++r,value:l}});return zRe(a,function(l,u){return GRe(l,u,n)})}function VRe(e,t,n){return e==null?e:jRe(e,t,n)}var cz=oF(function(e,t){if(e==null)return[];var n=t.length;return n>1&&q3(e,t[0],t[1])?t=[]:n>2&&q3(t[0],t[1],t[2])&&(t=[t[0]]),HRe(e,Qke(t),[])}),qRe="Expected a function";function jK(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(qRe);return nf(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),BK(e,t,{leading:r,maxWait:t,trailing:a})}var YRe=1/0,WRe=wE&&1/mF(new wE([,-0]))[1]==YRe?function(e){return new wE(e)}:sAe,ZRe=200;function XRe(e,t,n){var r=-1,a=fK,l=e.length,u=!0,i=[],m=i;if(n)u=!1,a=NRe;else if(l>=ZRe){var b=WRe(e);if(b)return mF(b);u=!1,a=Dk,m=new VE}else m=i;e:for(;++r<l;){var _=e[r],w=_;if(_=n||_!==0?_:0,u&&w===w){for(var M=m.length;M--;)if(m[M]===w)continue e;i.push(_)}else a(m,w,n)||(m!==i&&m.push(w),i.push(_))}return i}function dz(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?XRe(e,void 0,t):[]}function zK(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Q3={exports:{}},KRe=Q3.exports,fz;function QRe(){return fz||(fz=1,(function(e){(function(t,n){e.exports?e.exports=n():t.log=n()})(KRe,function(){var t=function(){},n="undefined",r=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),a=["trace","debug","info","warn","error"],l={},u=null;function i(G,z){var q=G[z];if(typeof q.bind=="function")return q.bind(G);try{return Function.prototype.bind.call(q,G)}catch{return function(){return Function.prototype.apply.apply(q,[G,arguments])}}}function m(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function b(G){return G==="debug"&&(G="log"),typeof console===n?!1:G==="trace"&&r?m:console[G]!==void 0?i(console,G):console.log!==void 0?i(console,"log"):t}function _(){for(var G=this.getLevel(),z=0;z<a.length;z++){var q=a[z];this[q]=z<G?t:this.methodFactory(q,G,this.name)}if(this.log=this.debug,typeof console===n&&G<this.levels.SILENT)return"No console available for logging"}function w(G){return function(){typeof console!==n&&(_.call(this),this[G].apply(this,arguments))}}function M(G,z,q){return b(G)||w.apply(this,arguments)}function P(G,z){var q=this,Y,J,ne,ie="loglevel";typeof G=="string"?ie+=":"+G:typeof G=="symbol"&&(ie=void 0);function ue(ve){var Te=(a[ve]||"silent").toUpperCase();if(!(typeof window===n||!ie)){try{window.localStorage[ie]=Te;return}catch{}try{window.document.cookie=encodeURIComponent(ie)+"="+Te+";"}catch{}}}function oe(){var ve;if(!(typeof window===n||!ie)){try{ve=window.localStorage[ie]}catch{}if(typeof ve===n)try{var Te=window.document.cookie,Me=encodeURIComponent(ie),xe=Te.indexOf(Me+"=");xe!==-1&&(ve=/^([^;]+)/.exec(Te.slice(xe+Me.length+1))[1])}catch{}return q.levels[ve]===void 0&&(ve=void 0),ve}}function K(){if(!(typeof window===n||!ie)){try{window.localStorage.removeItem(ie)}catch{}try{window.document.cookie=encodeURIComponent(ie)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function se(ve){var Te=ve;if(typeof Te=="string"&&q.levels[Te.toUpperCase()]!==void 0&&(Te=q.levels[Te.toUpperCase()]),typeof Te=="number"&&Te>=0&&Te<=q.levels.SILENT)return Te;throw new TypeError("log.setLevel() called with invalid level: "+ve)}q.name=G,q.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},q.methodFactory=z||M,q.getLevel=function(){return ne??J??Y},q.setLevel=function(ve,Te){return ne=se(ve),Te!==!1&&ue(ne),_.call(q)},q.setDefaultLevel=function(ve){J=se(ve),oe()||q.setLevel(ve,!1)},q.resetLevel=function(){ne=null,K(),_.call(q)},q.enableAll=function(ve){q.setLevel(q.levels.TRACE,ve)},q.disableAll=function(ve){q.setLevel(q.levels.SILENT,ve)},q.rebuild=function(){if(u!==q&&(Y=se(u.getLevel())),_.call(q),u===q)for(var ve in l)l[ve].rebuild()},Y=se(u?u.getLevel():"WARN");var pe=oe();pe!=null&&(ne=se(pe)),_.call(q)}u=new P,u.getLogger=function(G){if(typeof G!="symbol"&&typeof G!="string"||G==="")throw new TypeError("You must supply a name when creating a logger.");var z=l[G];return z||(z=l[G]=new P(G,u.methodFactory)),z};var j=typeof window!==n?window.log:void 0;return u.noConflict=function(){return typeof window!==n&&window.log===u&&(window.log=j),u},u.getLoggers=function(){return l},u.default=u,u})})(Q3)),Q3.exports}var JRe=QRe();const rr=zK(JRe),eMe=(e,t)=>{let n=null;try{e.forEach(r=>{if(t(r))throw n=r,new Error("found")})}catch{}return n};function J3(e,t,n=[]){t(e,n),Array.isArray(e)?e.forEach((r,a)=>J3(r,t,[...n,a])):wK(e)?Object.entries(e).forEach(([r,a])=>J3(a,t,[...n,r])):e!==null&&typeof e=="object"&&rr.warn(`forEachDeep: unknown collection type (${e}), path "${n.join(".")}"`)}const tMe=e=>{const t=["shape_markers"],n=e.settings.controlsUiEnabledByDefault;J3(e,(r,a)=>{const l=a.at(2);if(a.length===4&&a.at(-1)==="uiEnabled"){if(t.includes(l))return;VRe(e,a,n)}})},eD=()=>Vh(SCe),nMe=!1;var yF=Array.isArray,rMe=Array.prototype.indexOf,IN=Array.from,UK=Object.defineProperty,Q2=Object.getOwnPropertyDescriptor,aMe=Object.getOwnPropertyDescriptors,iMe=Object.prototype,oMe=Array.prototype,GK=Object.getPrototypeOf,hz=Object.isExtensible;function sMe(e){return typeof e=="function"}const Um=()=>{};function lMe(e){for(var t=0;t<e.length;t++)e[t]()}function HK(){var e,t,n=new Promise((r,a)=>{e=r,t=a});return{promise:n,resolve:e,reject:t}}function Lk(e,t){if(Array.isArray(e))return e;if(!(Symbol.iterator in e))return Array.from(e);const n=[];for(const r of e)if(n.push(r),n.length===t)break;return n}const Mc=2,vF=4,bF=8,uMe=1<<24,Gy=16,hv=32,tx=64,NN=128,lg=512,pd=1024,Yf=2048,Dy=4096,Gh=8192,Ab=16384,RN=32768,T1=65536,pz=1<<17,VK=1<<18,Aw=1<<19,cMe=1<<20,H0=1<<25,C1=32768,tD=1<<21,_F=1<<22,kb=1<<23,J2=Symbol("$state"),dMe=Symbol(""),lE=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function qK(e){return e===this.v}function YK(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function WK(e){return!YK(e,this.v)}function ZK(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function fMe(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function hMe(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function pMe(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function mMe(e){throw new Error("https://svelte.dev/e/effect_orphan")}function gMe(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function yMe(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function vMe(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function bMe(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function _Me(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}let xMe=!1;const EMe=1,wMe=2,XK=4,SMe=8,TMe=16,CMe=1,AMe=2,kMe=4,IMe=1,NMe=2,cd=Symbol(),RMe="http://www.w3.org/1999/xhtml";let md=null;function qE(e){md=e}function KK(e){return MMe().get(e)}function kw(e,t=!1,n){md={p:md,i:!1,c:null,e:null,s:e,x:null,l:null}}function Iw(e){var t=md,n=t.e;if(n!==null){t.e=null;for(var r of n)bQ(r)}return t.i=!0,md=t.p,{}}function QK(){return!0}function MMe(e){return md===null&&ZK(),md.c??=new Map(OMe(md)||void 0)}function OMe(e){let t=e.p;for(;t!==null;){const n=t.c;if(n!==null)return n;t=t.p}return null}let uE=[];function DMe(){var e=uE;uE=[],lMe(e)}function HT(e){if(uE.length===0){var t=uE;queueMicrotask(()=>{t===uE&&DMe()})}uE.push(e)}function LMe(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function PMe(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function M2(e){if(typeof e!="object"||e===null||J2 in e)return e;const t=GK(e);if(t!==iMe&&t!==oMe)return e;var n=new Map,r=yF(e),a=dy(0),l=c1,u=i=>{if(c1===l)return i();var m=Ri,b=c1;Hf(null),_z(l);var _=i();return Hf(m),_z(b),_};return r&&n.set("length",dy(e.length)),new Proxy(e,{defineProperty(i,m,b){(!("value"in b)||b.configurable===!1||b.enumerable===!1||b.writable===!1)&&yMe();var _=n.get(m);return _===void 0?_=u(()=>{var w=dy(b.value);return n.set(m,w),w}):ef(_,b.value,!0),!0},deleteProperty(i,m){var b=n.get(m);if(b===void 0){if(m in i){const _=u(()=>dy(cd));n.set(m,_),eS(a)}}else ef(b,cd),eS(a);return!0},get(i,m,b){if(m===J2)return e;var _=n.get(m),w=m in i;if(_===void 0&&(!w||Q2(i,m)?.writable)&&(_=u(()=>{var P=M2(w?i[m]:cd),j=dy(P);return j}),n.set(m,_)),_!==void 0){var M=_a(_);return M===cd?void 0:M}return Reflect.get(i,m,b)},getOwnPropertyDescriptor(i,m){var b=Reflect.getOwnPropertyDescriptor(i,m);if(b&&"value"in b){var _=n.get(m);_&&(b.value=_a(_))}else if(b===void 0){var w=n.get(m),M=w?.v;if(w!==void 0&&M!==cd)return{enumerable:!0,configurable:!0,value:M,writable:!0}}return b},has(i,m){if(m===J2)return!0;var b=n.get(m),_=b!==void 0&&b.v!==cd||Reflect.has(i,m);if(b!==void 0||Ki!==null&&(!_||Q2(i,m)?.writable)){b===void 0&&(b=u(()=>{var M=_?M2(i[m]):cd,P=dy(M);return P}),n.set(m,b));var w=_a(b);if(w===cd)return!1}return _},set(i,m,b,_){var w=n.get(m),M=m in i;if(r&&m==="length")for(var P=b;P<w.v;P+=1){var j=n.get(P+"");j!==void 0?ef(j,cd):P in i&&(j=u(()=>dy(cd)),n.set(P+"",j))}if(w===void 0)(!M||Q2(i,m)?.writable)&&(w=u(()=>dy(void 0)),ef(w,M2(b)),n.set(m,w));else{M=w.v!==cd;var G=u(()=>M2(b));ef(w,G)}var z=Reflect.getOwnPropertyDescriptor(i,m);if(z?.set&&z.set.call(_,b),!M){if(r&&typeof m=="string"){var q=n.get("length"),Y=Number(m);Number.isInteger(Y)&&Y>=q.v&&ef(q,Y+1)}eS(a)}return!0},ownKeys(i){_a(a);var m=Reflect.ownKeys(i).filter(w=>{var M=n.get(w);return M===void 0||M.v!==cd});for(var[b,_]of n)_.v!==cd&&!(b in i)&&m.push(b);return m},setPrototypeOf(){vMe()}})}function mz(e){try{if(e!==null&&typeof e=="object"&&J2 in e)return e[J2]}catch{}return e}function FMe(e,t){return Object.is(mz(e),mz(t))}var gz,JK,eQ,tQ;function BMe(){if(gz===void 0){gz=window,JK=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;eQ=Q2(t,"firstChild").get,tQ=Q2(t,"nextSibling").get,hz(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),hz(n)&&(n.__t=void 0)}}function Ib(e=""){return document.createTextNode(e)}function Sb(e){return eQ.call(e)}function VT(e){return tQ.call(e)}function Zm(e,t){return Sb(e)}function ng(e,t=!1){{var n=Sb(e);return n instanceof Comment&&n.data===""?VT(n):n}}function $S(e,t=1,n=!1){let r=e;for(;t--;)r=VT(r);return r}function $Me(e){e.textContent=""}function nQ(){return!1}function rQ(e){var t=Ki;if(t===null)return Ri.f|=kb,e;if((t.f&RN)===0){if((t.f&NN)===0)throw e;t.b.error(e)}else YE(e,t)}function YE(e,t){for(;t!==null;){if((t.f&NN)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const HC=new Set;let es=null,LA=null,zp=null,fy=[],xF=null,nD=!1;class xy{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#n=0;#l=null;#o=new Set;#a=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){fy=[],LA=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#c(),this.is_deferred()?(this.#s(n.effects),this.#s(n.render_effects)):(LA=this,es=null,yz(n.render_effects),yz(n.effects),LA=null,this.#l?.resolve()),zp=null}#i(t,n){t.f^=pd;for(var r=t.first;r!==null;){var a=r.f,l=(a&(hv|tx))!==0,u=l&&(a&pd)!==0,i=u||(a&Gh)!==0||this.skipped_effects.has(r);if((r.f&NN)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!i&&r.fn!==null){l?r.f^=pd:(a&vF)!==0?n.effects.push(r):YT(r)&&((r.f&Gy)!==0&&this.#o.add(r),zS(r));var m=r.first;if(m!==null){r=m;continue}}var b=r.parent;for(r=r.next;r===null&&b!==null;)b===n.effect&&(this.#s(n.effects),this.#s(n.render_effects),n=n.parent),r=b.next,b=b.parent}}#s(t){for(const n of t)(n.f&Yf)!==0?this.#o.add(n):(n.f&Dy)!==0&&this.#a.add(n),this.#u(n.deps),gd(n,pd)}#u(t){if(t!==null)for(const n of t)(n.f&Mc)===0||(n.f&C1)===0||(n.f^=C1,this.#u(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&kb)===0&&(this.current.set(t,t.v),zp?.set(t,t.v))}activate(){es=this,this.apply()}deactivate(){es===this&&(es=null,zp=null)}flush(){if(this.activate(),fy.length>0){if(jMe(),es!==null&&es!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#c(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#r===0&&this.#d()}#d(){if(HC.size>1){this.previous.clear();var t=zp,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const l of HC){if(l===this){n=!1;continue}const u=[];for(const[m,b]of this.current){if(l.current.has(m))if(n&&b!==l.current.get(m))l.current.set(m,b);else continue;u.push(m)}if(u.length===0)continue;const i=[...l.current.keys()].filter(m=>!this.current.has(m));if(i.length>0){var a=fy;fy=[];const m=new Set,b=new Map;for(const _ of u)aQ(_,i,m,b);if(fy.length>0){es=l,l.apply();for(const _ of fy)l.#i(_,r);l.deactivate()}fy=a}}es=null,zp=t}this.committed=!0,HC.delete(this)}increment(t){this.#r+=1,t&&(this.#n+=1)}decrement(t){this.#r-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#o)this.#a.delete(t),gd(t,Yf),A1(t);for(const t of this.#a)gd(t,Dy),A1(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=HK()).promise}static ensure(){if(es===null){const t=es=new xy;HC.add(es),xy.enqueue(()=>{es===t&&t.flush()})}return es}static enqueue(t){HT(t)}apply(){}}function jMe(){var e=u1;nD=!0;try{var t=0;for(Fk(!0);fy.length>0;){var n=xy.ensure();if(t++>1e3){var r,a;zMe()}n.process(fy),Nb.clear()}}finally{nD=!1,Fk(e),xF=null}}function zMe(){try{gMe()}catch(e){YE(e,xF)}}let O0=null;function yz(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ab|Gh))===0&&YT(r)&&(O0=new Set,zS(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?TQ(r):r.fn=null),O0?.size>0)){Nb.clear();for(const a of O0){if((a.f&(Ab|Gh))!==0)continue;const l=[a];let u=a.parent;for(;u!==null;)O0.has(u)&&(O0.delete(u),l.push(u)),u=u.parent;for(let i=l.length-1;i>=0;i--){const m=l[i];(m.f&(Ab|Gh))===0&&zS(m)}}O0.clear()}}O0=null}}function aQ(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const a of e.reactions){const l=a.f;(l&Mc)!==0?aQ(a,t,n,r):(l&(_F|Gy))!==0&&(l&Yf)===0&&iQ(a,t,r)&&(gd(a,Yf),A1(a))}}function iQ(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const a of e.deps){if(t.includes(a))return!0;if((a.f&Mc)!==0&&iQ(a,t,n))return n.set(a,!0),!0}return n.set(e,!1),!1}function A1(e){for(var t=xF=e;t.parent!==null;){t=t.parent;var n=t.f;if(nD&&t===Ki&&(n&Gy)!==0&&(n&VK)===0)return;if((n&(tx|hv))!==0){if((n&pd)===0)return;t.f^=pd}}fy.push(t)}function UMe(e){let t=0,n=k1(0),r;return()=>{US()&&(_a(n),xQ(()=>(t===0&&(r=WT(()=>e(()=>eS(n)))),t+=1,()=>{HT(()=>{t-=1,t===0&&(r?.(),r=void 0,eS(n))})})))}}var GMe=T1|Aw|NN;function HMe(e,t,n){new VMe(e,t,n)}class VMe{parent;#e=!1;#t;#r=null;#n;#l;#o;#a=null;#i=null;#s=null;#u=null;#c=null;#d=0;#f=0;#p=!1;#h=null;#b=UMe(()=>(this.#h=k1(this.#d),()=>{this.#h=null}));constructor(t,n,r){this.#t=t,this.#n=n,this.#l=r,this.parent=Ki.b,this.#e=!!this.#n.pending,this.#o=TF(()=>{Ki.b=this;{var a=this.#y();try{this.#a=Bm(()=>r(a))}catch(l){this.error(l)}this.#f>0?this.#g():this.#e=!1}return()=>{this.#c?.remove()}},GMe)}#_(){try{this.#a=Bm(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#x(){const t=this.#n.pending;t&&(this.#i=Bm(()=>t(this.#t)),xy.enqueue(()=>{var n=this.#y();this.#a=this.#m(()=>(xy.ensure(),Bm(()=>this.#l(n)))),this.#f>0?this.#g():(d1(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#y(){var t=this.#t;return this.#e&&(this.#c=Ib(),this.#t.before(this.#c),t=this.#c),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#m(t){var n=Ki,r=Ri,a=md;Ly(this.#o),Hf(this.#o),qE(this.#o.ctx);try{return t()}catch(l){return rQ(l),null}finally{Ly(n),Hf(r),qE(a)}}#g(){const t=this.#n.pending;this.#a!==null&&(this.#u=document.createDocumentFragment(),this.#u.append(this.#c),kQ(this.#a,this.#u)),this.#i===null&&(this.#i=Bm(()=>t(this.#t)))}#v(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(t);return}this.#f+=t,this.#f===0&&(this.#e=!1,this.#i&&d1(this.#i,()=>{this.#i=null}),this.#u&&(this.#t.before(this.#u),this.#u=null))}update_pending_count(t){this.#v(t),this.#d+=t,this.#h&&WE(this.#h,this.#d)}get_effect_pending(){return this.#b(),_a(this.#h)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#p||!n&&!r)throw t;this.#a&&(Vf(this.#a),this.#a=null),this.#i&&(Vf(this.#i),this.#i=null),this.#s&&(Vf(this.#s),this.#s=null);var a=!1,l=!1;const u=()=>{if(a){PMe();return}a=!0,l&&_Me(),xy.ensure(),this.#d=0,this.#s!==null&&d1(this.#s,()=>{this.#s=null}),this.#e=this.has_pending_snippet(),this.#a=this.#m(()=>(this.#p=!1,Bm(()=>this.#l(this.#t)))),this.#f>0?this.#g():this.#e=!1};var i=Ri;try{Hf(null),l=!0,n?.(t,u),l=!1}catch(m){YE(m,this.#o&&this.#o.parent)}finally{Hf(i)}r&&HT(()=>{this.#s=this.#m(()=>{xy.ensure(),this.#p=!0;try{return Bm(()=>{r(this.#t,()=>t,()=>u)})}catch(m){return YE(m,this.#o.parent),null}finally{this.#p=!1}})})}}function qMe(e,t,n,r){const a=EF;if(n.length===0&&e.length===0){r(t.map(a));return}var l=es,u=Ki,i=YMe();function m(){Promise.all(n.map(b=>WMe(b))).then(b=>{i();try{r([...t.map(a),...b])}catch(_){(u.f&Ab)===0&&YE(_,u)}l?.deactivate(),Pk()}).catch(b=>{YE(b,u)})}e.length>0?Promise.all(e).then(()=>{i();try{return m()}finally{l?.deactivate(),Pk()}}):m()}function YMe(){var e=Ki,t=Ri,n=md,r=es;return function(a=!0){Ly(e),Hf(t),qE(n),a&&r?.activate()}}function Pk(){Ly(null),Hf(null),qE(null)}function EF(e){var t=Mc|Yf,n=Ri!==null&&(Ri.f&Mc)!==0?Ri:null;return Ki!==null&&(Ki.f|=Aw),{ctx:md,deps:null,effects:null,equals:qK,f:t,fn:e,reactions:null,rv:0,v:cd,wv:0,parent:n??Ki,ac:null}}function WMe(e,t){let n=Ki;n===null&&fMe();var r=n.b,a=void 0,l=k1(cd),u=!Ri,i=new Map;return oOe(()=>{var m=HK();a=m.promise;try{Promise.resolve(e()).then(m.resolve,m.reject).then(()=>{b===es&&b.committed&&b.deactivate(),Pk()})}catch(M){m.reject(M),Pk()}var b=es;if(u){var _=!r.is_pending();r.update_pending_count(1),b.increment(_),i.get(b)?.reject(lE),i.delete(b),i.set(b,m)}const w=(M,P=void 0)=>{if(b.activate(),P)P!==lE&&(l.f|=kb,WE(l,P));else{(l.f&kb)!==0&&(l.f^=kb),WE(l,M);for(const[j,G]of i){if(i.delete(j),j===b)break;G.reject(lE)}}u&&(r.update_pending_count(-1),b.decrement(_))};m.promise.then(w,M=>w(null,M||"unknown"))}),SF(()=>{for(const m of i.values())m.reject(lE)}),new Promise(m=>{function b(_){function w(){_===a?m(l):b(a)}_.then(w,w)}b(a)})}function Gm(e){const t=EF(e);return fQ(t),t}function ZMe(e){const t=EF(e);return t.equals=WK,t}function oQ(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Vf(t[n])}}function XMe(e){for(var t=e.parent;t!==null;){if((t.f&Mc)===0)return(t.f&Ab)===0?t:null;t=t.parent}return null}function wF(e){var t,n=Ki;Ly(XMe(e));try{e.f&=~C1,oQ(e),t=gQ(e)}finally{Ly(n)}return t}function sQ(e){var t=wF(e);if(e.equals(t)||(es?.is_fork||(e.v=t),e.wv=pQ()),!Nw)if(zp!==null)(US()||es?.is_fork)&&zp.set(e,t);else{var n=(e.f&lg)===0?Dy:pd;gd(e,n)}}let rD=new Set;const Nb=new Map;let lQ=!1;function k1(e,t){var n={f:0,v:e,reactions:null,equals:qK,rv:0,wv:0};return n}function dy(e,t){const n=k1(e);return fQ(n),n}function uQ(e,t=!1,n=!0){const r=k1(e);return t||(r.equals=WK),r}function ef(e,t,n=!1){Ri!==null&&(!Ey||(Ri.f&pz)!==0)&&QK()&&(Ri.f&(Mc|Gy|_F|pz))!==0&&!Y0?.includes(e)&&bMe();let r=n?M2(t):t;return WE(e,r)}function WE(e,t){if(!e.equals(t)){var n=e.v;Nw?Nb.set(e,t):Nb.set(e,n),e.v=t;var r=xy.ensure();r.capture(e,n),(e.f&Mc)!==0&&((e.f&Yf)!==0&&wF(e),gd(e,(e.f&lg)!==0?pd:Dy)),e.wv=pQ(),cQ(e,Yf),Ki!==null&&(Ki.f&pd)!==0&&(Ki.f&(hv|tx))===0&&(Dp===null?JMe([e]):Dp.push(e)),!r.is_fork&&rD.size>0&&!lQ&&KMe()}return t}function KMe(){lQ=!1;var e=u1;Fk(!0);const t=Array.from(rD);try{for(const n of t)(n.f&pd)!==0&&gd(n,Dy),YT(n)&&zS(n)}finally{Fk(e)}rD.clear()}function eS(e){ef(e,e.v+1)}function cQ(e,t){var n=e.reactions;if(n!==null)for(var r=n.length,a=0;a<r;a++){var l=n[a],u=l.f,i=(u&Yf)===0;if(i&&gd(l,t),(u&Mc)!==0){var m=l;zp?.delete(m),(u&C1)===0&&(u&lg&&(l.f|=C1),cQ(m,Dy))}else i&&((u&Gy)!==0&&O0!==null&&O0.add(l),A1(l))}}let vz=!1;function QMe(){vz||(vz=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function qT(e){var t=Ri,n=Ki;Hf(null),Ly(null);try{return e()}finally{Hf(t),Ly(n)}}function dQ(e,t,n,r=n){e.addEventListener(t,()=>qT(n));const a=e.__on_r;a?e.__on_r=()=>{a(),r(!0)}:e.__on_r=()=>r(!0),QMe()}let u1=!1;function Fk(e){u1=e}let Nw=!1;function bz(e){Nw=e}let Ri=null,Ey=!1;function Hf(e){Ri=e}let Ki=null;function Ly(e){Ki=e}let Y0=null;function fQ(e){Ri!==null&&(Y0===null?Y0=[e]:Y0.push(e))}let Qd=null,Ih=0,Dp=null;function JMe(e){Dp=e}let hQ=1,jS=0,c1=jS;function _z(e){c1=e}function pQ(){return++hQ}function YT(e){var t=e.f;if((t&Yf)!==0)return!0;if(t&Mc&&(e.f&=~C1),(t&Dy)!==0){var n=e.deps;if(n!==null)for(var r=n.length,a=0;a<r;a++){var l=n[a];if(YT(l)&&sQ(l),l.wv>e.wv)return!0}(t&lg)!==0&&zp===null&&gd(e,pd)}return!1}function mQ(e,t,n=!0){var r=e.reactions;if(r!==null&&!Y0?.includes(e))for(var a=0;a<r.length;a++){var l=r[a];(l.f&Mc)!==0?mQ(l,t,!1):t===l&&(n?gd(l,Yf):(l.f&pd)!==0&&gd(l,Dy),A1(l))}}function gQ(e){var t=Qd,n=Ih,r=Dp,a=Ri,l=Y0,u=md,i=Ey,m=c1,b=e.f;Qd=null,Ih=0,Dp=null,Ri=(b&(hv|tx))===0?e:null,Y0=null,qE(e.ctx),Ey=!1,c1=++jS,e.ac!==null&&(qT(()=>{e.ac.abort(lE)}),e.ac=null);try{e.f|=tD;var _=e.fn,w=_(),M=e.deps;if(Qd!==null){var P;if(Bk(e,Ih),M!==null&&Ih>0)for(M.length=Ih+Qd.length,P=0;P<Qd.length;P++)M[Ih+P]=Qd[P];else e.deps=M=Qd;if(US()&&(e.f&lg)!==0)for(P=Ih;P<M.length;P++)(M[P].reactions??=[]).push(e)}else M!==null&&Ih<M.length&&(Bk(e,Ih),M.length=Ih);if(QK()&&Dp!==null&&!Ey&&M!==null&&(e.f&(Mc|Dy|Yf))===0)for(P=0;P<Dp.length;P++)mQ(Dp[P],e);return a!==null&&a!==e&&(jS++,Dp!==null&&(r===null?r=Dp:r.push(...Dp))),(e.f&kb)!==0&&(e.f^=kb),w}catch(j){return rQ(j)}finally{e.f^=tD,Qd=t,Ih=n,Dp=r,Ri=a,Y0=l,qE(u),Ey=i,c1=m}}function eOe(e,t){let n=t.reactions;if(n!==null){var r=rMe.call(n,e);if(r!==-1){var a=n.length-1;a===0?n=t.reactions=null:(n[r]=n[a],n.pop())}}n===null&&(t.f&Mc)!==0&&(Qd===null||!Qd.includes(t))&&(gd(t,Dy),(t.f&lg)!==0&&(t.f^=lg,t.f&=~C1),oQ(t),Bk(t,0))}function Bk(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)eOe(e,n[r])}function zS(e){var t=e.f;if((t&Ab)===0){gd(e,pd);var n=Ki,r=u1;Ki=e,u1=!0;try{(t&(Gy|uMe))!==0?sOe(e):wQ(e),EQ(e);var a=gQ(e);e.teardown=typeof a=="function"?a:null,e.wv=hQ;var l;nMe&&xMe&&(e.f&Yf)!==0&&e.deps}finally{u1=r,Ki=n}}}function _a(e){var t=e.f,n=(t&Mc)!==0;if(Ri!==null&&!Ey){var r=Ki!==null&&(Ki.f&Ab)!==0;if(!r&&!Y0?.includes(e)){var a=Ri.deps;if((Ri.f&tD)!==0)e.rv<jS&&(e.rv=jS,Qd===null&&a!==null&&a[Ih]===e?Ih++:Qd===null?Qd=[e]:Qd.includes(e)||Qd.push(e));else{(Ri.deps??=[]).push(e);var l=e.reactions;l===null?e.reactions=[Ri]:l.includes(Ri)||l.push(Ri)}}}if(Nw){if(Nb.has(e))return Nb.get(e);if(n){var u=e,i=u.v;return((u.f&pd)===0&&u.reactions!==null||vQ(u))&&(i=wF(u)),Nb.set(u,i),i}}else n&&(!zp?.has(e)||es?.is_fork&&!US())&&(u=e,YT(u)&&sQ(u),u1&&US()&&(u.f&lg)===0&&yQ(u));if(zp?.has(e))return zp.get(e);if((e.f&kb)!==0)throw e.v;return e.v}function yQ(e){if(e.deps!==null){e.f^=lg;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Mc)!==0&&(t.f&lg)===0&&yQ(t)}}function vQ(e){if(e.v===cd)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Nb.has(t)||(t.f&Mc)!==0&&vQ(t))return!0;return!1}function WT(e){var t=Ey;try{return Ey=!0,e()}finally{Ey=t}}const tOe=-7169;function gd(e,t){e.f=e.f&tOe|t}function nOe(e){Ki===null&&(Ri===null&&mMe(),pMe()),Nw&&hMe()}function rOe(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function pv(e,t,n){var r=Ki;r!==null&&(r.f&Gh)!==0&&(e|=Gh);var a={ctx:md,deps:null,nodes:null,f:e|Yf|lg,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{zS(a),a.f|=RN}catch(i){throw Vf(a),i}else t!==null&&A1(a);var l=a;if(n&&l.deps===null&&l.teardown===null&&l.nodes===null&&l.first===l.last&&(l.f&Aw)===0&&(l=l.first,(e&Gy)!==0&&(e&T1)!==0&&l!==null&&(l.f|=T1)),l!==null&&(l.parent=r,r!==null&&rOe(l,r),Ri!==null&&(Ri.f&Mc)!==0&&(e&tx)===0)){var u=Ri;(u.effects??=[]).push(l)}return a}function US(){return Ri!==null&&!Ey}function SF(e){const t=pv(bF,null,!1);return gd(t,pd),t.teardown=e,t}function aOe(e){nOe();var t=Ki.f,n=!Ri&&(t&hv)!==0&&(t&RN)===0;if(n){var r=md;(r.e??=[]).push(e)}else return bQ(e)}function bQ(e){return pv(vF|cMe,e,!1)}function iOe(e){xy.ensure();const t=pv(tx|Aw,e,!0);return(n={})=>new Promise(r=>{n.outro?d1(t,()=>{Vf(t),r(void 0)}):(Vf(t),r(void 0))})}function _Q(e){return pv(vF,e,!1)}function oOe(e){return pv(_F|Aw,e,!0)}function xQ(e,t=0){return pv(bF|t,e,!0)}function Xm(e,t=[],n=[],r=[]){qMe(r,t,n,a=>{pv(bF,()=>e(...a.map(_a)),!0)})}function TF(e,t=0){var n=pv(Gy|t,e,!0);return n}function Bm(e){return pv(hv|Aw,e,!0)}function EQ(e){var t=e.teardown;if(t!==null){const n=Nw,r=Ri;bz(!0),Hf(null);try{t.call(null)}finally{bz(n),Hf(r)}}}function wQ(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const a=n.ac;a!==null&&qT(()=>{a.abort(lE)});var r=n.next;(n.f&tx)!==0?n.parent=null:Vf(n,t),n=r}}function sOe(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&hv)===0&&Vf(t),t=n}}function Vf(e,t=!0){var n=!1;(t||(e.f&VK)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(SQ(e.nodes.start,e.nodes.end),n=!0),wQ(e,t&&!n),Bk(e,0),gd(e,Ab);var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)l.stop();EQ(e);var a=e.parent;a!==null&&a.first!==null&&TQ(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function SQ(e,t){for(;e!==null;){var n=e===t?null:VT(e);e.remove(),e=n}}function TQ(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function d1(e,t,n=!0){var r=[];CQ(e,r,!0);var a=()=>{n&&Vf(e),t&&t()},l=r.length;if(l>0){var u=()=>--l||a();for(var i of r)i.out(u)}else a()}function CQ(e,t,n){if((e.f&Gh)===0){e.f^=Gh;var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)(i.is_global||n)&&t.push(i);for(var a=e.first;a!==null;){var l=a.next,u=(a.f&T1)!==0||(a.f&hv)!==0&&(e.f&Gy)!==0;CQ(a,t,u?n:!1),a=l}}}function CF(e){AQ(e,!0)}function AQ(e,t){if((e.f&Gh)!==0){e.f^=Gh,(e.f&pd)===0&&(gd(e,Yf),A1(e));for(var n=e.first;n!==null;){var r=n.next,a=(n.f&T1)!==0||(n.f&hv)!==0;AQ(n,a?t:!1),n=r}var l=e.nodes&&e.nodes.t;if(l!==null)for(const u of l)(u.is_global||t)&&u.in()}}function kQ(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var a=n===r?null:VT(n);t.append(n),n=a}}const lOe=["touchstart","touchmove"];function uOe(e){return lOe.includes(e)}const IQ=new Set,aD=new Set;function MN(e){for(var t=0;t<e.length;t++)IQ.add(e[t]);for(var n of aD)n(e)}let xz=null;function VC(e){var t=this,n=t.ownerDocument,r=e.type,a=e.composedPath?.()||[],l=a[0]||e.target;xz=e;var u=0,i=xz===e&&e.__root;if(i){var m=a.indexOf(i);if(m!==-1&&(t===document||t===window)){e.__root=t;return}var b=a.indexOf(t);if(b===-1)return;m<=b&&(u=m)}if(l=a[u]||e.target,l!==t){UK(e,"currentTarget",{configurable:!0,get(){return l||n}});var _=Ri,w=Ki;Hf(null),Ly(null);try{for(var M,P=[];l!==null;){var j=l.assignedSlot||l.parentNode||l.host||null;try{var G=l["__"+r];G!=null&&(!l.disabled||e.target===l)&&G.call(l,e)}catch(z){M?P.push(z):M=z}if(e.cancelBubble||j===t||j===null)break;l=j}if(M){for(let z of P)queueMicrotask(()=>{throw z});throw M}}finally{e.__root=t,delete e.currentTarget,Hf(_),Ly(w)}}}function NQ(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function GS(e,t){var n=Ki;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function em(e,t){var n=(t&IMe)!==0,r=(t&NMe)!==0,a,l=!e.startsWith("<!>");return()=>{a===void 0&&(a=NQ(l?e:"<!>"+e),n||(a=Sb(a)));var u=r||JK?document.importNode(a,!0):a.cloneNode(!0);if(n){var i=Sb(u),m=u.lastChild;GS(i,m)}else GS(u,u);return u}}function Ez(e=""){{var t=Ib(e+"");return GS(t,t),t}}function W0(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ib();return e.append(t,n),GS(t,n),e}function Vs(e,t){e!==null&&e.before(t)}let iD=!0;function SE(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function cOe(e,t){return dOe(e,t)}const qx=new Map;function dOe(e,{target:t,anchor:n,props:r={},events:a,context:l,intro:u=!0}){BMe();var i=new Set,m=w=>{for(var M=0;M<w.length;M++){var P=w[M];if(!i.has(P)){i.add(P);var j=uOe(P);t.addEventListener(P,VC,{passive:j});var G=qx.get(P);G===void 0?(document.addEventListener(P,VC,{passive:j}),qx.set(P,1)):qx.set(P,G+1)}}};m(IN(IQ)),aD.add(m);var b=void 0,_=iOe(()=>{var w=n??t.appendChild(Ib());return HMe(w,{pending:()=>{}},M=>{if(l){kw({});var P=md;P.c=l}a&&(r.$$events=a),iD=u,b=e(M,r)||{},iD=!0,l&&Iw()}),()=>{for(var M of i){t.removeEventListener(M,VC);var P=qx.get(M);--P===0?(document.removeEventListener(M,VC),qx.delete(M)):qx.set(M,P)}aD.delete(m),w!==n&&w.parentNode?.removeChild(w)}});return oD.set(b,_),b}let oD=new WeakMap;function fOe(e,t){const n=oD.get(e);return n?(oD.delete(e),n(t)):Promise.resolve()}class hOe{anchor;#e=new Map;#t=new Map;#r=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#o=()=>{var t=es;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)CF(r),this.#n.delete(n);else{var a=this.#r.get(n);a&&(this.#t.set(n,a.effect),this.#r.delete(n),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),r=a.effect)}for(const[l,u]of this.#e){if(this.#e.delete(l),l===t)break;const i=this.#r.get(u);i&&(Vf(i.effect),this.#r.delete(u))}for(const[l,u]of this.#t){if(l===n||this.#n.has(l))continue;const i=()=>{if(Array.from(this.#e.values()).includes(l)){var m=document.createDocumentFragment();kQ(u,m),m.append(Ib()),this.#r.set(l,{effect:u,fragment:m})}else Vf(u);this.#n.delete(l),this.#t.delete(l)};this.#l||!r?(this.#n.add(l),d1(u,i,!1)):i()}}};#a=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,a]of this.#r)n.includes(r)||(Vf(a.effect),this.#r.delete(r))};ensure(t,n){var r=es,a=nQ();n&&!this.#t.has(t)&&!this.#r.has(t)&&this.#t.set(t,Bm(()=>n(this.anchor))),this.#e.set(r,t),a||this.#o()}}function Bh(e,t,n=!1){var r=new hOe(e),a=n?T1:0;function l(u,i){r.ensure(u,i)}TF(()=>{var u=!1;t((i,m=!0)=>{u=!0,l(m,i)}),u||l(!1,null)},a)}function pOe(e,t){return t}function mOe(e,t,n){for(var r=[],a=t.length,l,u=t.length,i=0;i<a;i++){let w=t[i];d1(w,()=>{if(l){if(l.pending.delete(w),l.done.add(w),l.pending.size===0){var M=e.outrogroups;sD(IN(l.done)),M.delete(l),M.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var m=r.length===0&&n!==null;if(m){var b=n,_=b.parentNode;$Me(_),_.append(b),e.items.clear()}sD(t,!m)}else l={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(l)}function sD(e,t=!0){for(var n=0;n<e.length;n++)Vf(e[n],t)}var wz;function HS(e,t,n,r,a,l=null){var u=e,i=new Map,m=(t&XK)!==0;if(m){var b=e;u=b.appendChild(Ib())}var _=null,w=ZMe(()=>{var q=n();return yF(q)?q:q==null?[]:IN(q)}),M,P=!0;function j(){z.fallback=_,gOe(z,M,u,t,r),_!==null&&(M.length===0?(_.f&H0)===0?CF(_):(_.f^=H0,O2(_,null,u)):d1(_,()=>{_=null}))}var G=TF(()=>{M=_a(w);for(var q=M.length,Y=new Set,J=es,ne=nQ(),ie=0;ie<q;ie+=1){var ue=M[ie],oe=r(ue,ie),K=P?null:i.get(oe);K?(K.v&&WE(K.v,ue),K.i&&WE(K.i,ie),ne&&J.skipped_effects.delete(K.e)):(K=yOe(i,P?u:wz??=Ib(),ue,oe,ie,a,t,n),P||(K.e.f|=H0),i.set(oe,K)),Y.add(oe)}if(q===0&&l&&!_&&(P?_=Bm(()=>l(u)):(_=Bm(()=>l(wz??=Ib())),_.f|=H0)),!P)if(ne){for(const[se,pe]of i)Y.has(se)||J.skipped_effects.add(pe.e);J.oncommit(j),J.ondiscard(()=>{})}else j();_a(w)}),z={effect:G,items:i,outrogroups:null,fallback:_};P=!1}function gOe(e,t,n,r,a){var l=(r&SMe)!==0,u=t.length,i=e.items,m=e.effect.first,b,_=null,w,M=[],P=[],j,G,z,q;if(l)for(q=0;q<u;q+=1)j=t[q],G=a(j,q),z=i.get(G).e,(z.f&H0)===0&&(z.nodes?.a?.measure(),(w??=new Set).add(z));for(q=0;q<u;q+=1){if(j=t[q],G=a(j,q),z=i.get(G).e,e.outrogroups!==null)for(const pe of e.outrogroups)pe.pending.delete(z),pe.done.delete(z);if((z.f&H0)!==0)if(z.f^=H0,z===m)O2(z,null,n);else{var Y=_?_.next:m;z===e.effect.last&&(e.effect.last=z.prev),z.prev&&(z.prev.next=z.next),z.next&&(z.next.prev=z.prev),db(e,_,z),db(e,z,Y),O2(z,Y,n),_=z,M=[],P=[],m=_.next;continue}if((z.f&Gh)!==0&&(CF(z),l&&(z.nodes?.a?.unfix(),(w??=new Set).delete(z))),z!==m){if(b!==void 0&&b.has(z)){if(M.length<P.length){var J=P[0],ne;_=J.prev;var ie=M[0],ue=M[M.length-1];for(ne=0;ne<M.length;ne+=1)O2(M[ne],J,n);for(ne=0;ne<P.length;ne+=1)b.delete(P[ne]);db(e,ie.prev,ue.next),db(e,_,ie),db(e,ue,J),m=J,_=ue,q-=1,M=[],P=[]}else b.delete(z),O2(z,m,n),db(e,z.prev,z.next),db(e,z,_===null?e.effect.first:_.next),db(e,_,z),_=z;continue}for(M=[],P=[];m!==null&&m!==z;)(b??=new Set).add(m),P.push(m),m=m.next;if(m===null)continue}(z.f&H0)===0&&M.push(z),_=z,m=z.next}if(e.outrogroups!==null){for(const pe of e.outrogroups)pe.pending.size===0&&(sD(IN(pe.done)),e.outrogroups?.delete(pe));e.outrogroups.size===0&&(e.outrogroups=null)}if(m!==null||b!==void 0){var oe=[];if(b!==void 0)for(z of b)(z.f&Gh)===0&&oe.push(z);for(;m!==null;)(m.f&Gh)===0&&m!==e.fallback&&oe.push(m),m=m.next;var K=oe.length;if(K>0){var se=(r&XK)!==0&&u===0?n:null;if(l){for(q=0;q<K;q+=1)oe[q].nodes?.a?.measure();for(q=0;q<K;q+=1)oe[q].nodes?.a?.fix()}mOe(e,oe,se)}}l&&HT(()=>{if(w!==void 0)for(z of w)z.nodes?.a?.apply()})}function yOe(e,t,n,r,a,l,u,i){var m=(u&EMe)!==0?(u&TMe)===0?uQ(n,!1,!1):k1(n):null,b=(u&wMe)!==0?k1(a):null;return{v:m,i:b,e:Bm(()=>(l(t,m??n,b??a,i),()=>{e.delete(r)}))}}function O2(e,t,n){if(e.nodes)for(var r=e.nodes.start,a=e.nodes.end,l=t&&(t.f&H0)===0?t.nodes.start:n;r!==null;){var u=VT(r);if(l.before(r),r===a)return;r=u}}function db(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function RQ(e,t,n=!1,r=!1,a=!1){var l=e,u="";Xm(()=>{var i=Ki;if(u!==(u=t()??"")&&(i.nodes!==null&&(SQ(i.nodes.start,i.nodes.end),i.nodes=null),u!=="")){var m=u+"";n?m=`<svg>${m}</svg>`:r&&(m=`<math>${m}</math>`);var b=NQ(m);if((n||r)&&(b=Sb(b)),GS(Sb(b),b.lastChild),n||r)for(;Sb(b);)l.before(Sb(b));else l.before(b)}})}const vOe=()=>performance.now(),F0={tick:(e=>requestAnimationFrame(e)),now:()=>vOe(),tasks:new Set};function MQ(){const e=F0.now();F0.tasks.forEach(t=>{t.c(e)||(F0.tasks.delete(t),t.f())}),F0.tasks.size!==0&&F0.tick(MQ)}function bOe(e){let t;return F0.tasks.size===0&&F0.tick(MQ),{promise:new Promise(n=>{F0.tasks.add(t={c:e,f:n})}),abort(){F0.tasks.delete(t)}}}function qC(e,t){qT(()=>{e.dispatchEvent(new CustomEvent(t))})}function _Oe(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Sz(e){const t={},n=e.split(";");for(const r of n){const[a,l]=r.split(":");if(!a||l===void 0)break;const u=_Oe(a.trim());t[u]=l.trim()}return t}const xOe=e=>e;function Tz(e,t,n,r){var a=(e&CMe)!==0,l=(e&AMe)!==0,u=a&&l,i=(e&kMe)!==0,m=u?"both":a?"in":"out",b,_=t.inert,w=t.style.overflow,M,P;function j(){return qT(()=>b??=n()(t,r?.()??{},{direction:m}))}var G={is_global:i,in(){if(t.inert=_,!a){P?.abort(),P?.reset?.();return}l||M?.abort(),qC(t,"introstart"),M=lD(t,j(),P,1,()=>{qC(t,"introend"),M?.abort(),M=b=void 0,t.style.overflow=w})},out(J){if(!l){J?.(),b=void 0;return}t.inert=!0,qC(t,"outrostart"),P=lD(t,j(),M,0,()=>{qC(t,"outroend"),J?.()})},stop:()=>{M?.abort(),P?.abort()}},z=Ki;if((z.nodes.t??=[]).push(G),a&&iD){var q=i;if(!q){for(var Y=z.parent;Y&&(Y.f&T1)!==0;)for(;(Y=Y.parent)&&(Y.f&Gy)===0;);q=!Y||(Y.f&RN)!==0}q&&_Q(()=>{WT(()=>G.in())})}}function lD(e,t,n,r,a){var l=r===1;if(sMe(t)){var u,i=!1;return HT(()=>{if(!i){var z=t({direction:l?"in":"out"});u=lD(e,z,n,r,a)}}),{abort:()=>{i=!0,u?.abort()},deactivate:()=>u.deactivate(),reset:()=>u.reset(),t:()=>u.t()}}if(n?.deactivate(),!t?.duration)return a(),{abort:Um,deactivate:Um,reset:Um,t:()=>r};const{delay:m=0,css:b,tick:_,easing:w=xOe}=t;var M=[];if(l&&n===void 0&&(_&&_(0,1),b)){var P=Sz(b(0,1));M.push(P,P)}var j=()=>1-r,G=e.animate(M,{duration:m,fill:"forwards"});return G.onfinish=()=>{G.cancel();var z=n?.t()??1-r;n?.abort();var q=r-z,Y=t.duration*Math.abs(q),J=[];if(Y>0){var ne=!1;if(b)for(var ie=Math.ceil(Y/16.666666666666668),ue=0;ue<=ie;ue+=1){var oe=z+q*w(ue/ie),K=Sz(b(oe,1-oe));J.push(K),ne||=K.overflow==="hidden"}ne&&(e.style.overflow="hidden"),j=()=>{var se=G.currentTime;return z+q*w(se/Y)},_&&bOe(()=>{if(G.playState!=="running")return!1;var se=j();return _(se,1-se),!0})}G=e.animate(J,{duration:Y,fill:"forwards"}),G.onfinish=()=>{j=()=>r,_?.(r,1-r),a()}},{abort:()=>{G&&(G.cancel(),G.effect=null,G.onfinish=Um)},deactivate:()=>{a=Um},reset:()=>{r===0&&_?.(1,0)},t:()=>j()}}function OQ(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=OQ(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function EOe(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=OQ(e))&&(r&&(r+=" "),r+=t);return r}function wOe(e){return typeof e=="object"?EOe(e):e??""}const Cz=[...` 	
\r\f\v\uFEFF`];function SOe(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var l=a.length,u=0;(u=r.indexOf(a,u))>=0;){var i=u+l;(u===0||Cz.includes(r[u-1]))&&(i===r.length||Cz.includes(r[i]))?r=(u===0?"":r.substring(0,u))+r.substring(i+1):u=i}}return r===""?null:r}function tS(e,t,n,r,a,l){var u=e.__className;if(u!==n||u===void 0){var i=SOe(n,r,l);i==null?e.removeAttribute("class"):e.className=i,e.__className=n}else if(l&&a!==l)for(var m in l){var b=!!l[m];(a==null||b!==!!a[m])&&e.classList.toggle(m,b)}return l}function DQ(e,t,n=!1){if(e.multiple){if(t==null)return;if(!yF(t))return LMe();for(var r of e.options)r.selected=t.includes(nS(r));return}for(r of e.options){var a=nS(r);if(FMe(a,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function TOe(e){var t=new MutationObserver(()=>{DQ(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),SF(()=>{t.disconnect()})}function COe(e,t,n=t){var r=new WeakSet,a=!0;dQ(e,"change",l=>{var u=l?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(u),nS);else{var m=e.querySelector(u)??e.querySelector("option:not([disabled])");i=m&&nS(m)}n(i),es!==null&&r.add(es)}),_Q(()=>{var l=t();if(e===document.activeElement){var u=LA??es;if(r.has(u))return}if(DQ(e,l,a),a&&l===void 0){var i=e.querySelector(":checked");i!==null&&(l=nS(i),n(l))}e.__value=l,a=!1}),TOe(e)}function nS(e){return"__value"in e?e.__value:e.value}const AOe=Symbol("is custom element"),kOe=Symbol("is html");function Tb(e,t,n,r){var a=IOe(e);a[t]!==(a[t]=n)&&(t==="loading"&&(e[dMe]=n),n==null?e.removeAttribute(t):typeof n!="string"&&NOe(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function IOe(e){return e.__attributes??={[AOe]:e.nodeName.includes("-"),[kOe]:e.namespaceURI===RMe}}var Az=new Map;function NOe(e){var t=e.getAttribute("is")||e.nodeName,n=Az.get(t);if(n)return n;Az.set(t,n=[]);for(var r,a=e,l=Element.prototype;l!==a;){r=aMe(a);for(var u in r)r[u].set&&n.push(u);a=GK(a)}return n}function ROe(e,t,n=t){dQ(e,"change",r=>{var a=r?e.defaultChecked:e.checked;n(a)}),WT(t)==null&&n(e.checked),xQ(()=>{var r=t();e.checked=!!r})}let uD=Symbol();function LQ(e,t,n){const r=n[t]??={store:null,source:uQ(void 0),unsubscribe:Um};if(r.store!==e&&!(uD in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Um;else{var a=!0;r.unsubscribe=FQ(e,l=>{a?r.source.v=l:ef(r.source,l)}),a=!1}return e&&uD in n?DOe(e):_a(r.source)}function PQ(){const e={};function t(){SF(()=>{for(var n in e)e[n].unsubscribe();UK(e,uD,{enumerable:!1,value:!0})})}return[e,t]}function MOe(e){md===null&&ZK(),aOe(()=>{const t=WT(e);if(typeof t=="function")return t})}function FQ(e,t,n){if(e==null)return t(void 0),Um;const r=WT(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Yx=[];function OOe(e,t=Um){let n=null;const r=new Set;function a(i){if(YK(e,i)&&(e=i,n)){const m=!Yx.length;for(const b of r)b[1](),Yx.push(b,e);if(m){for(let b=0;b<Yx.length;b+=2)Yx[b][0](Yx[b+1]);Yx.length=0}}}function l(i){a(i(e))}function u(i,m=Um){const b=[i,m];return r.add(b),r.size===1&&(n=t(a,l)||Um),i(e),()=>{r.delete(b),r.size===0&&n&&(n(),n=null)}}return{set:a,update:l,subscribe:u}}function DOe(e){let t;return FQ(e,n=>t=n)(),t}const LOe={controls:Vh(sK),options:eD().controls,settings:eD().settings},AF=OOe(LOe),POe="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(POe);const FOe=`<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 64 64">
    <path d="M7.474 17.988h49.045L31.996 46.012zm-3.85 3.37 24.522 28.019a5.113 5.113 0 0 0 7.7 0l24.523-28.02c2.894-3.308.542-8.482-3.85-8.482H7.474a5.113 5.113 0 0 0-3.85 8.482"/>
</svg>
`,BOe=`<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 64 64">
    <path d="M7.474 46.012h49.045L31.996 17.988Zm-3.85-3.37 24.522-28.019a5.113 5.113 0 0 1 7.7 0l24.523 28.02c2.894 3.308.542 8.482-3.85 8.482H7.474a5.113 5.113 0 0 1-3.85-8.482"/>
</svg>
`;var $Oe=em("<option> </option>"),jOe=em('<label class="svelte-18zciyf"> </label> <select class="svelte-18zciyf"></select>',1),zOe=em('<label class="svelte-18zciyf"><input type="checkbox" class="svelte-18zciyf"/> </label>'),UOe=em('<div class="action-option svelte-18zciyf"><!></div>');function GOe(e,t){kw(t,!0);let n=dy("");MOe(()=>{t.actionOption&&(t.actionOption.type==="select"?ef(n,t.actionOption.value.value,!0):t.actionOption.type==="toggle"&&ef(n,t.actionOption.value,!0))});const r=i=>{if(!t.actionInstance||!t.actionOption){rr.error("Can't apply option value",t.actionInstance,t.actionOption);return}if(t.actionOption?.type==="toggle"){const m=i.target;ef(n,m.checked,!0)}else if(t.actionOption?.type==="select"){const m=i.target;ef(n,m.value,!0)}t.actionInstance.applyOptionValue(t.name,_a(n))};var a=W0(),l=ng(a);{var u=i=>{var m=UOe(),b=Zm(m);{var _=M=>{var P=jOe(),j=ng(P),G=Zm(j),z=$S(j,2);z.__change=r,HS(z,21,()=>t.actionOption.choices,pOe,(q,Y)=>{var J=$Oe(),ne=Zm(J),ie={};Xm(()=>{SE(ne,_a(Y).title),ie!==(ie=_a(Y).value)&&(J.value=(J.__value=_a(Y).value)??"")}),Vs(q,J)}),Xm(()=>{Tb(j,"for",t.name),SE(G,t.actionOption.label),Tb(z,"id",t.name)}),COe(z,()=>_a(n),q=>ef(n,q)),Vs(M,P)},w=M=>{var P=W0(),j=ng(P);{var G=z=>{var q=zOe(),Y=Zm(q);Y.__change=r;var J=$S(Y);Xm(ne=>{Tb(q,"for",t.name),Tb(Y,"id",ne),SE(J,` ${t.actionOption.label??""}`)},[()=>String(t.name)]),ROe(Y,()=>_a(n),ne=>ef(n,ne)),Vs(z,q)};Bh(j,z=>{t.actionOption.type==="toggle"&&typeof _a(n)=="boolean"&&z(G)},!0)}Vs(M,P)};Bh(b,M=>{t.actionOption.type==="select"?M(_):M(w,!1)})}Vs(i,m)};Bh(l,i=>{t.actionOption&&i(u)})}Vs(e,a),Iw()}MN(["change"]);var HOe=em('<button type="submit" class="sub-action svelte-1xmw7n6"> </button>');function VOe(e,t){kw(t,!0);const n=u=>{if(u.preventDefault(),!t.actionInstance||!t.subAction){rr.error("Can't run a SubAction",t.actionInstance,t.subAction);return}t.subAction.method()};var r=W0(),a=ng(r);{var l=u=>{var i=HOe();i.__click=n;var m=Zm(i);Xm(()=>{Tb(i,"id",`subaction-${t.name}`),Tb(i,"title",t.subAction.label),SE(m,t.subAction.label)}),Vs(u,i)};Bh(a,u=>{t.subAction&&u(l)})}Vs(e,r),Iw()}MN(["click"]);var qOe=em("<!> <!>",1);function YOe(e,t){kw(t,!0);const n=KK("gm"),r=Gm(()=>t.control.type),a=Gm(()=>t.control.targetMode),l=Gm(()=>_a(r)&&_a(a)&&n.actionInstances[`${_a(r)}__${_a(a)}`]||null);var u=W0(),i=ng(u);{var m=b=>{var _=qOe(),w=ng(_);HS(w,17,()=>Object.entries(_a(l).options),([P,j])=>P,(P,j)=>{var G=Gm(()=>Lk(_a(j),2));let z=()=>_a(G)[0],q=()=>_a(G)[1];GOe(P,{get name(){return z()},get actionInstance(){return _a(l)},get actionOption(){return q()}})});var M=$S(w,2);HS(M,17,()=>Object.entries(_a(l).actions),([P,j])=>P,(P,j)=>{var G=Gm(()=>Lk(_a(j),2));let z=()=>_a(G)[0],q=()=>_a(G)[1];VOe(P,{get name(){return z()},get actionInstance(){return _a(l)},get subAction(){return q()}})}),Vs(b,_)};Bh(i,b=>{_a(l)&&b(m)})}Vs(e,u),Iw()}const{entries:BQ,setPrototypeOf:kz,isFrozen:WOe,getPrototypeOf:ZOe,getOwnPropertyDescriptor:XOe}=Object;let{freeze:rf,seal:Xp,create:cD}=Object,{apply:dD,construct:fD}=typeof Reflect<"u"&&Reflect;rf||(rf=function(e){return e});Xp||(Xp=function(e){return e});dD||(dD=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e.apply(t,r)});fD||(fD=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new e(...n)});const YC=af(Array.prototype.forEach),KOe=af(Array.prototype.lastIndexOf),Iz=af(Array.prototype.pop),p2=af(Array.prototype.push),QOe=af(Array.prototype.splice),PA=af(String.prototype.toLowerCase),xM=af(String.prototype.toString),EM=af(String.prototype.match),m2=af(String.prototype.replace),JOe=af(String.prototype.indexOf),e3e=af(String.prototype.trim),Fm=af(Object.prototype.hasOwnProperty),Xd=af(RegExp.prototype.test),g2=t3e(TypeError);function af(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return dD(e,t,r)}}function t3e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return fD(e,n)}}function ii(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:PA;kz&&kz(e,null);let r=t.length;for(;r--;){let a=t[r];if(typeof a=="string"){const l=n(a);l!==a&&(WOe(t)||(t[r]=l),a=l)}e[a]=!0}return e}function n3e(e){for(let t=0;t<e.length;t++)Fm(e,t)||(e[t]=null);return e}function ly(e){const t=cD(null);for(const[n,r]of BQ(e))Fm(e,n)&&(Array.isArray(r)?t[n]=n3e(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=ly(r):t[n]=r);return t}function y2(e,t){for(;e!==null;){const r=XOe(e,t);if(r){if(r.get)return af(r.get);if(typeof r.value=="function")return af(r.value)}e=ZOe(e)}function n(){return null}return n}const Nz=rf(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wM=rf(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),SM=rf(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),r3e=rf(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),TM=rf(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),a3e=rf(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rz=rf(["#text"]),Mz=rf(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),CM=rf(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Oz=rf(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),WC=rf(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),i3e=Xp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),o3e=Xp(/<%[\w\W]*|[\w\W]*%>/gm),s3e=Xp(/\$\{[\w\W]*/gm),l3e=Xp(/^data-[\-\w.\u00B7-\uFFFF]+$/),u3e=Xp(/^aria-[\-\w]+$/),$Q=Xp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),c3e=Xp(/^(?:\w+script|data):/i),d3e=Xp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),jQ=Xp(/^html$/i),f3e=Xp(/^[a-z][.\w]*(-[.\w]+)+$/i);var Dz=Object.freeze({__proto__:null,ARIA_ATTR:u3e,ATTR_WHITESPACE:d3e,CUSTOM_ELEMENT:f3e,DATA_ATTR:l3e,DOCTYPE_NAME:jQ,ERB_EXPR:o3e,IS_ALLOWED_URI:$Q,IS_SCRIPT_OR_DATA:c3e,MUSTACHE_EXPR:i3e,TMPLIT_EXPR:s3e});const v2={element:1,text:3,progressingInstruction:7,comment:8,document:9},h3e=function(){return typeof window>"u"?null:window},p3e=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},Lz=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function zQ(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h3e();const t=ft=>zQ(ft);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==v2.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const r=n,a=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:u,Node:i,Element:m,NodeFilter:b,NamedNodeMap:_=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:w,DOMParser:M,trustedTypes:P}=e,j=m.prototype,G=y2(j,"cloneNode"),z=y2(j,"remove"),q=y2(j,"nextSibling"),Y=y2(j,"childNodes"),J=y2(j,"parentNode");if(typeof u=="function"){const ft=n.createElement("template");ft.content&&ft.content.ownerDocument&&(n=ft.content.ownerDocument)}let ne,ie="";const{implementation:ue,createNodeIterator:oe,createDocumentFragment:K,getElementsByTagName:se}=n,{importNode:pe}=r;let ve=Lz();t.isSupported=typeof BQ=="function"&&typeof J=="function"&&ue&&ue.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Te,ERB_EXPR:Me,TMPLIT_EXPR:xe,DATA_ATTR:Se,ARIA_ATTR:he,IS_SCRIPT_OR_DATA:we,ATTR_WHITESPACE:_e,CUSTOM_ELEMENT:Be}=Dz;let{IS_ALLOWED_URI:He}=Dz,Re=null;const je=ii({},[...Nz,...wM,...SM,...TM,...Rz]);let Ze=null;const Qe=ii({},[...Mz,...CM,...Oz,...WC]);let Pe=Object.seal(cD(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),St=null,Nt=null;const We=Object.seal(cD(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let en=!0,zt=!0,rn=!1,Ge=!0,kn=!1,_n=!0,Lt=!1,pn=!1,Tn=!1,tr=!1,Vt=!1,lr=!1,sr=!0,xn=!1;const En="user-content-";let hn=!0,jn=!1,_t={},Oe=null;const ke=ii({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let qe=null;const ut=ii({},["audio","video","img","source","image","track"]);let dt=null;const Ut=ii({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bt="http://www.w3.org/1998/Math/MathML",xt="http://www.w3.org/2000/svg",Ct="http://www.w3.org/1999/xhtml";let sn=Ct,mn=!1,Vn=null;const gn=ii({},[Bt,xt,Ct],xM);let qn=ii({},["mi","mo","mn","ms","mtext"]),Xn=ii({},["annotation-xml"]);const Qn=ii({},["title","style","font","a","script"]);let Pt=null;const wn=["application/xhtml+xml","text/html"],Mr="text/html";let Mn=null,on=null;const Wr=n.createElement("form"),Tr=function(ft){return ft instanceof RegExp||ft instanceof Function},Ir=function(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(on&&on===ft)){if((!ft||typeof ft!="object")&&(ft={}),ft=ly(ft),Pt=wn.indexOf(ft.PARSER_MEDIA_TYPE)===-1?Mr:ft.PARSER_MEDIA_TYPE,Mn=Pt==="application/xhtml+xml"?xM:PA,Re=Fm(ft,"ALLOWED_TAGS")?ii({},ft.ALLOWED_TAGS,Mn):je,Ze=Fm(ft,"ALLOWED_ATTR")?ii({},ft.ALLOWED_ATTR,Mn):Qe,Vn=Fm(ft,"ALLOWED_NAMESPACES")?ii({},ft.ALLOWED_NAMESPACES,xM):gn,dt=Fm(ft,"ADD_URI_SAFE_ATTR")?ii(ly(Ut),ft.ADD_URI_SAFE_ATTR,Mn):Ut,qe=Fm(ft,"ADD_DATA_URI_TAGS")?ii(ly(ut),ft.ADD_DATA_URI_TAGS,Mn):ut,Oe=Fm(ft,"FORBID_CONTENTS")?ii({},ft.FORBID_CONTENTS,Mn):ke,St=Fm(ft,"FORBID_TAGS")?ii({},ft.FORBID_TAGS,Mn):ly({}),Nt=Fm(ft,"FORBID_ATTR")?ii({},ft.FORBID_ATTR,Mn):ly({}),_t=Fm(ft,"USE_PROFILES")?ft.USE_PROFILES:!1,en=ft.ALLOW_ARIA_ATTR!==!1,zt=ft.ALLOW_DATA_ATTR!==!1,rn=ft.ALLOW_UNKNOWN_PROTOCOLS||!1,Ge=ft.ALLOW_SELF_CLOSE_IN_ATTR!==!1,kn=ft.SAFE_FOR_TEMPLATES||!1,_n=ft.SAFE_FOR_XML!==!1,Lt=ft.WHOLE_DOCUMENT||!1,tr=ft.RETURN_DOM||!1,Vt=ft.RETURN_DOM_FRAGMENT||!1,lr=ft.RETURN_TRUSTED_TYPE||!1,Tn=ft.FORCE_BODY||!1,sr=ft.SANITIZE_DOM!==!1,xn=ft.SANITIZE_NAMED_PROPS||!1,hn=ft.KEEP_CONTENT!==!1,jn=ft.IN_PLACE||!1,He=ft.ALLOWED_URI_REGEXP||$Q,sn=ft.NAMESPACE||Ct,qn=ft.MATHML_TEXT_INTEGRATION_POINTS||qn,Xn=ft.HTML_INTEGRATION_POINTS||Xn,Pe=ft.CUSTOM_ELEMENT_HANDLING||{},ft.CUSTOM_ELEMENT_HANDLING&&Tr(ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=ft.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&Tr(ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=ft.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ft.CUSTOM_ELEMENT_HANDLING&&typeof ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pe.allowCustomizedBuiltInElements=ft.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),kn&&(zt=!1),Vt&&(tr=!0),_t&&(Re=ii({},Rz),Ze=[],_t.html===!0&&(ii(Re,Nz),ii(Ze,Mz)),_t.svg===!0&&(ii(Re,wM),ii(Ze,CM),ii(Ze,WC)),_t.svgFilters===!0&&(ii(Re,SM),ii(Ze,CM),ii(Ze,WC)),_t.mathMl===!0&&(ii(Re,TM),ii(Ze,Oz),ii(Ze,WC))),ft.ADD_TAGS&&(typeof ft.ADD_TAGS=="function"?We.tagCheck=ft.ADD_TAGS:(Re===je&&(Re=ly(Re)),ii(Re,ft.ADD_TAGS,Mn))),ft.ADD_ATTR&&(typeof ft.ADD_ATTR=="function"?We.attributeCheck=ft.ADD_ATTR:(Ze===Qe&&(Ze=ly(Ze)),ii(Ze,ft.ADD_ATTR,Mn))),ft.ADD_URI_SAFE_ATTR&&ii(dt,ft.ADD_URI_SAFE_ATTR,Mn),ft.FORBID_CONTENTS&&(Oe===ke&&(Oe=ly(Oe)),ii(Oe,ft.FORBID_CONTENTS,Mn)),ft.ADD_FORBID_CONTENTS&&(Oe===ke&&(Oe=ly(Oe)),ii(Oe,ft.ADD_FORBID_CONTENTS,Mn)),hn&&(Re["#text"]=!0),Lt&&ii(Re,["html","head","body"]),Re.table&&(ii(Re,["tbody"]),delete St.tbody),ft.TRUSTED_TYPES_POLICY){if(typeof ft.TRUSTED_TYPES_POLICY.createHTML!="function")throw g2('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ft.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw g2('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=ft.TRUSTED_TYPES_POLICY,ie=ne.createHTML("")}else ne===void 0&&(ne=p3e(P,a)),ne!==null&&typeof ie=="string"&&(ie=ne.createHTML(""));rf&&rf(ft),on=ft}},Xr=ii({},[...wM,...SM,...r3e]),yt=ii({},[...TM,...a3e]),Ft=function(ft){let Ke=J(ft);(!Ke||!Ke.tagName)&&(Ke={namespaceURI:sn,tagName:"template"});const mt=PA(ft.tagName),Xt=PA(Ke.tagName);return Vn[ft.namespaceURI]?ft.namespaceURI===xt?Ke.namespaceURI===Ct?mt==="svg":Ke.namespaceURI===Bt?mt==="svg"&&(Xt==="annotation-xml"||qn[Xt]):!!Xr[mt]:ft.namespaceURI===Bt?Ke.namespaceURI===Ct?mt==="math":Ke.namespaceURI===xt?mt==="math"&&Xn[Xt]:!!yt[mt]:ft.namespaceURI===Ct?Ke.namespaceURI===xt&&!Xn[Xt]||Ke.namespaceURI===Bt&&!qn[Xt]?!1:!yt[mt]&&(Qn[mt]||!Xr[mt]):!!(Pt==="application/xhtml+xml"&&Vn[ft.namespaceURI]):!1},Yt=function(ft){p2(t.removed,{element:ft});try{J(ft).removeChild(ft)}catch{z(ft)}},Ot=function(ft,Ke){try{p2(t.removed,{attribute:Ke.getAttributeNode(ft),from:Ke})}catch{p2(t.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(ft),ft==="is")if(tr||Vt)try{Yt(Ke)}catch{}else try{Ke.setAttribute(ft,"")}catch{}},Pn=function(ft){let Ke=null,mt=null;if(Tn)ft="<remove></remove>"+ft;else{const Yn=EM(ft,/^[\r\n\t ]+/);mt=Yn&&Yn[0]}Pt==="application/xhtml+xml"&&sn===Ct&&(ft='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ft+"</body></html>");const Xt=ne?ne.createHTML(ft):ft;if(sn===Ct)try{Ke=new M().parseFromString(Xt,Pt)}catch{}if(!Ke||!Ke.documentElement){Ke=ue.createDocument(sn,"template",null);try{Ke.documentElement.innerHTML=mn?ie:Xt}catch{}}const Cn=Ke.body||Ke.documentElement;return ft&&mt&&Cn.insertBefore(n.createTextNode(mt),Cn.childNodes[0]||null),sn===Ct?se.call(Ke,Lt?"html":"body")[0]:Lt?Ke.documentElement:Cn},nr=function(ft){return oe.call(ft.ownerDocument||ft,ft,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT|b.SHOW_PROCESSING_INSTRUCTION|b.SHOW_CDATA_SECTION,null)},fr=function(ft){return ft instanceof w&&(typeof ft.nodeName!="string"||typeof ft.textContent!="string"||typeof ft.removeChild!="function"||!(ft.attributes instanceof _)||typeof ft.removeAttribute!="function"||typeof ft.setAttribute!="function"||typeof ft.namespaceURI!="string"||typeof ft.insertBefore!="function"||typeof ft.hasChildNodes!="function")},Jn=function(ft){return typeof i=="function"&&ft instanceof i};function qt(ft,Ke,mt){YC(ft,Xt=>{Xt.call(t,Ke,mt,on)})}const Gn=function(ft){let Ke=null;if(qt(ve.beforeSanitizeElements,ft,null),fr(ft))return Yt(ft),!0;const mt=Mn(ft.nodeName);if(qt(ve.uponSanitizeElement,ft,{tagName:mt,allowedTags:Re}),_n&&ft.hasChildNodes()&&!Jn(ft.firstElementChild)&&Xd(/<[/\w!]/g,ft.innerHTML)&&Xd(/<[/\w!]/g,ft.textContent)||ft.nodeType===v2.progressingInstruction||_n&&ft.nodeType===v2.comment&&Xd(/<[/\w]/g,ft.data))return Yt(ft),!0;if(!(We.tagCheck instanceof Function&&We.tagCheck(mt))&&(!Re[mt]||St[mt])){if(!St[mt]&&hr(mt)&&(Pe.tagNameCheck instanceof RegExp&&Xd(Pe.tagNameCheck,mt)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(mt)))return!1;if(hn&&!Oe[mt]){const Xt=J(ft)||ft.parentNode,Cn=Y(ft)||ft.childNodes;if(Cn&&Xt){const Yn=Cn.length;for(let Wn=Yn-1;Wn>=0;--Wn){const br=G(Cn[Wn],!0);br.__removalCount=(ft.__removalCount||0)+1,Xt.insertBefore(br,q(ft))}}}return Yt(ft),!0}return ft instanceof m&&!Ft(ft)||(mt==="noscript"||mt==="noembed"||mt==="noframes")&&Xd(/<\/no(script|embed|frames)/i,ft.innerHTML)?(Yt(ft),!0):(kn&&ft.nodeType===v2.text&&(Ke=ft.textContent,YC([Te,Me,xe],Xt=>{Ke=m2(Ke,Xt," ")}),ft.textContent!==Ke&&(p2(t.removed,{element:ft.cloneNode()}),ft.textContent=Ke)),qt(ve.afterSanitizeElements,ft,null),!1)},zn=function(ft,Ke,mt){if(sr&&(Ke==="id"||Ke==="name")&&(mt in n||mt in Wr))return!1;if(!(zt&&!Nt[Ke]&&Xd(Se,Ke))&&!(en&&Xd(he,Ke))&&!(We.attributeCheck instanceof Function&&We.attributeCheck(Ke,ft))){if(!Ze[Ke]||Nt[Ke]){if(!(hr(ft)&&(Pe.tagNameCheck instanceof RegExp&&Xd(Pe.tagNameCheck,ft)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(ft))&&(Pe.attributeNameCheck instanceof RegExp&&Xd(Pe.attributeNameCheck,Ke)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(Ke,ft))||Ke==="is"&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&Xd(Pe.tagNameCheck,mt)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(mt))))return!1}else if(!dt[Ke]&&!Xd(He,m2(mt,_e,""))&&!((Ke==="src"||Ke==="xlink:href"||Ke==="href")&&ft!=="script"&&JOe(mt,"data:")===0&&qe[ft])&&!(rn&&!Xd(we,m2(mt,_e,"")))&&mt)return!1}return!0},hr=function(ft){return ft!=="annotation-xml"&&EM(ft,Be)},ra=function(ft){qt(ve.beforeSanitizeAttributes,ft,null);const{attributes:Ke}=ft;if(!Ke||fr(ft))return;const mt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ze,forceKeepAttr:void 0};let Xt=Ke.length;for(;Xt--;){const Cn=Ke[Xt],{name:Yn,namespaceURI:Wn,value:br}=Cn,Br=Mn(Yn),_r=br;let Nr=Yn==="value"?_r:e3e(_r);if(mt.attrName=Br,mt.attrValue=Nr,mt.keepAttr=!0,mt.forceKeepAttr=void 0,qt(ve.uponSanitizeAttribute,ft,mt),Nr=mt.attrValue,xn&&(Br==="id"||Br==="name")&&(Ot(Yn,ft),Nr=En+Nr),_n&&Xd(/((--!?|])>)|<\/(style|title|textarea)/i,Nr)){Ot(Yn,ft);continue}if(Br==="attributename"&&EM(Nr,"href")){Ot(Yn,ft);continue}if(mt.forceKeepAttr)continue;if(!mt.keepAttr){Ot(Yn,ft);continue}if(!Ge&&Xd(/\/>/i,Nr)){Ot(Yn,ft);continue}kn&&YC([Te,Me,xe],Wa=>{Nr=m2(Nr,Wa," ")});const Ur=Mn(ft.nodeName);if(!zn(Ur,Br,Nr)){Ot(Yn,ft);continue}if(ne&&typeof P=="object"&&typeof P.getAttributeType=="function"&&!Wn)switch(P.getAttributeType(Ur,Br)){case"TrustedHTML":{Nr=ne.createHTML(Nr);break}case"TrustedScriptURL":{Nr=ne.createScriptURL(Nr);break}}if(Nr!==_r)try{Wn?ft.setAttributeNS(Wn,Yn,Nr):ft.setAttribute(Yn,Nr),fr(ft)?Yt(ft):Iz(t.removed)}catch{Ot(Yn,ft)}}qt(ve.afterSanitizeAttributes,ft,null)},ua=function ft(Ke){let mt=null;const Xt=nr(Ke);for(qt(ve.beforeSanitizeShadowDOM,Ke,null);mt=Xt.nextNode();)qt(ve.uponSanitizeShadowNode,mt,null),Gn(mt),ra(mt),mt.content instanceof l&&ft(mt.content);qt(ve.afterSanitizeShadowDOM,Ke,null)};return t.sanitize=function(ft){let Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},mt=null,Xt=null,Cn=null,Yn=null;if(mn=!ft,mn&&(ft="<!-->"),typeof ft!="string"&&!Jn(ft))if(typeof ft.toString=="function"){if(ft=ft.toString(),typeof ft!="string")throw g2("dirty is not a string, aborting")}else throw g2("toString is not a function");if(!t.isSupported)return ft;if(pn||Ir(Ke),t.removed=[],typeof ft=="string"&&(jn=!1),jn){if(ft.nodeName){const Br=Mn(ft.nodeName);if(!Re[Br]||St[Br])throw g2("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof i)mt=Pn("<!---->"),Xt=mt.ownerDocument.importNode(ft,!0),Xt.nodeType===v2.element&&Xt.nodeName==="BODY"||Xt.nodeName==="HTML"?mt=Xt:mt.appendChild(Xt);else{if(!tr&&!kn&&!Lt&&ft.indexOf("<")===-1)return ne&&lr?ne.createHTML(ft):ft;if(mt=Pn(ft),!mt)return tr?null:lr?ie:""}mt&&Tn&&Yt(mt.firstChild);const Wn=nr(jn?ft:mt);for(;Cn=Wn.nextNode();)Gn(Cn),ra(Cn),Cn.content instanceof l&&ua(Cn.content);if(jn)return ft;if(tr){if(Vt)for(Yn=K.call(mt.ownerDocument);mt.firstChild;)Yn.appendChild(mt.firstChild);else Yn=mt;return(Ze.shadowroot||Ze.shadowrootmode)&&(Yn=pe.call(r,Yn,!0)),Yn}let br=Lt?mt.outerHTML:mt.innerHTML;return Lt&&Re["!doctype"]&&mt.ownerDocument&&mt.ownerDocument.doctype&&mt.ownerDocument.doctype.name&&Xd(jQ,mt.ownerDocument.doctype.name)&&(br="<!DOCTYPE "+mt.ownerDocument.doctype.name+`>
`+br),kn&&YC([Te,Me,xe],Br=>{br=m2(br,Br," ")}),ne&&lr?ne.createHTML(br):br},t.setConfig=function(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ir(ft),pn=!0},t.clearConfig=function(){on=null,pn=!1},t.isValidAttribute=function(ft,Ke,mt){on||Ir({});const Xt=Mn(ft),Cn=Mn(Ke);return zn(Xt,Cn,mt)},t.addHook=function(ft,Ke){typeof Ke=="function"&&p2(ve[ft],Ke)},t.removeHook=function(ft,Ke){if(Ke!==void 0){const mt=KOe(ve[ft],Ke);return mt===-1?void 0:QOe(ve[ft],mt,1)[0]}return Iz(ve[ft])},t.removeHooks=function(ft){ve[ft]=[]},t.removeAllHooks=function(){ve=Lz()},t}var UQ=zQ(),m3e=em("<div><!></div>"),g3e=em('<div><button type="button"><!></button> <!></div>');function y3e(e,t){kw(t,!0);const n=()=>LQ(AF,"$controlsStore",r),[r,a]=PQ(),l=Gm(()=>t.controlOptions?.icon?UQ.sanitize(t.controlOptions.icon.trim()):null),u=KK("gm"),i=u.control.getDefaultPosition(),m=()=>{t.control&&t.controlOptions?u.options.toggleMode(t.control.type,t.control.targetMode):rr.error("Control or controlOptions not defined",t.control,t.controlOptions)};var b=W0(),_=ng(b);{var w=M=>{var P=g3e(),j=Zm(P);let G;j.__click=m;var z=Zm(j);{var q=ie=>{var ue=W0(),oe=ng(ue);RQ(oe,()=>_a(l)),Vs(ie,ue)},Y=ie=>{var ue=W0(),oe=ng(ue);{var K=pe=>{var ve=Ez();Xm(Te=>SE(ve,Te),[()=>t.controlOptions.title.slice(0,2)]),Vs(pe,ve)},se=pe=>{var ve=Ez();Xm(()=>SE(ve,t.control.targetMode)),Vs(pe,ve)};Bh(oe,pe=>{t.controlOptions.title?pe(K):pe(se,!1)},!0)}Vs(ie,ue)};Bh(z,ie=>{t.controlOptions.icon?ie(q):ie(Y,!1)})}var J=$S(j,2);{var ne=ie=>{var ue=m3e();let oe;var K=Zm(ue);YOe(K,{get control(){return t.control}}),Xm(se=>oe=tS(ue,1,"control-menu svelte-1q85gr9",null,oe,se),[()=>({"menu-right":i.endsWith("left"),"menu-left":i.endsWith("right")})]),Vs(ie,ue)};Bh(J,ie=>{t.controlOptions.active&&ie(ne)})}Xm(()=>{tS(P,1,wOe(n().settings.controlsStyles.controlContainerClass),"svelte-1q85gr9"),Tb(j,"id",`id_${t.control.type}_${t.control.targetMode}`),G=tS(j,1,`${n().settings.controlsStyles.controlButtonClass} ${t.control.type}-${t.control.targetMode}`,"svelte-1q85gr9",G,{active:t.controlOptions.active}),Tb(j,"title",t.controlOptions.title)}),Vs(M,P)};Bh(_,M=>{t.control&&t.controlOptions&&t.controlOptions.uiEnabled&&M(w)})}Vs(e,b),Iw(),a()}MN(["click"]);function v3e(e){const t=e-1;return t*t*t+1}function Pz(e,{delay:t=0,duration:n=400,easing:r=v3e,axis:a="y"}={}){const l=getComputedStyle(e),u=+l.opacity,i=a==="y"?"height":"width",m=parseFloat(l[i]),b=a==="y"?["top","bottom"]:["left","right"],_=b.map(q=>`${q[0].toUpperCase()}${q.slice(1)}`),w=parseFloat(l[`padding${_[0]}`]),M=parseFloat(l[`padding${_[1]}`]),P=parseFloat(l[`margin${_[0]}`]),j=parseFloat(l[`margin${_[1]}`]),G=parseFloat(l[`border${_[0]}Width`]),z=parseFloat(l[`border${_[1]}Width`]);return{delay:t,duration:n,easing:r,css:q=>`overflow: hidden;opacity: ${Math.min(q*20,1)*u};${i}: ${q*m}px;padding-${b[0]}: ${q*w}px;padding-${b[1]}: ${q*M}px;margin-${b[0]}: ${q*P}px;margin-${b[1]}: ${q*j}px;border-${b[0]}-width: ${q*G}px;border-${b[1]}-width: ${q*z}px;min-${i}: 0`}}var b3e=em('<div><button class="gm-control-button"><!></button></div>'),_3e=em("<div></div>"),x3e=em("<div></div>"),E3e=em('<div class="gm-reactive-controls"><!> <!></div>');function w3e(e,t){kw(t,!0);const n=()=>LQ(AF,"$controlsStore",r),[r,a]=PQ();let l=dy(!0),u=Gm(()=>n().settings.controlsCollapsible),i=Gm(()=>n().settings.controlsStyles);const m=(q,Y)=>n().controls?.[q]?.[Y]||null,b=(q,Y)=>Object.entries(Y).some(([J,ne])=>m(q,J)&&ne&&ne.uiEnabled),_=()=>{ef(l,!_a(l))},w=()=>UQ.sanitize(_a(l)?FOe:BOe);var M=E3e(),P=Zm(M);{var j=q=>{var Y=b3e(),J=Zm(Y);J.__click=_;var ne=Zm(J);RQ(ne,w),Xm(()=>tS(Y,1,`${_a(i).controlGroupClass} group-settings`)),Vs(q,Y)};Bh(P,q=>{_a(u)&&q(j)})}var G=$S(P,2);{var z=q=>{var Y=x3e();HS(Y,5,()=>Object.entries(n().options),([J,ne])=>J,(J,ne)=>{var ie=Gm(()=>Lk(_a(ne),2));let ue=()=>_a(ie)[0],oe=()=>_a(ie)[1];var K=W0(),se=ng(K);{var pe=ve=>{var Te=_3e();HS(Te,21,()=>Object.entries(oe()),([Me,xe])=>Me,(Me,xe)=>{var Se=Gm(()=>Lk(_a(xe),2));let he=()=>_a(Se)[0],we=()=>_a(Se)[1];const _e=Gm(()=>m(ue(),he()));var Be=W0(),He=ng(Be);{var Re=je=>{y3e(je,{get control(){return _a(_e)},get controlOptions(){return we()}})};Bh(He,je=>{_a(_e)&&je(Re)})}Vs(Me,Be)}),Xm(()=>tS(Te,1,`${_a(i).controlGroupClass} group-${ue()}`)),Vs(ve,Te)};Bh(se,ve=>{b(ue(),oe())&&ve(pe)})}Vs(J,K)}),Tz(1,Y,()=>Pz,()=>({duration:180})),Tz(2,Y,()=>Pz,()=>({duration:140})),Vs(q,Y)};Bh(G,q=>{_a(l)&&q(z)})}Vs(e,M),Iw(),a()}MN(["click"]);class S3e{gm;constructor(t){this.gm=t}}const Rl=e=>Object.keys(e),hD=e=>Object.values(e),Rb=(e,t)=>t.includes(e);class T3e extends S3e{controls=Vh(sK);reactiveControls=null;container=void 0;eventHandlers={[`${gr}:draw`]:this.handleModeEvent.bind(this),[`${gr}:edit`]:this.handleModeEvent.bind(this),[`${gr}:helper`]:this.handleModeEvent.bind(this)};onAdd(){if(this.createControls(),this.gm.events.bus.attachEvents(this.eventHandlers),!this.container)throw new Error("Controls container is not initialized");return this.container}createControls(t=void 0){if(this.controlsAdded()){rr.warn("Can't add controls: controls already added");return}this.container=t||this.createHtmlContainer(),this.createReactivePanel()}onRemove(){this.gm.events.bus.detachEvents(this.eventHandlers),this.reactiveControls&&(fOe(this.reactiveControls),this.reactiveControls=null),this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=void 0}handleModeEvent(t){return GF(t)?(["mode_started","mode_ended"].includes(t.action)&&this.updateReactivePanel(),{next:!0}):{next:!0}}controlsAdded(){return!!this.reactiveControls}createReactivePanel(){if(!this.container){rr.error("Can't create reactive panel: container is not initialized");return}this.syncModeStates();const t=new Map;t.set("gm",this.gm),this.reactiveControls=cOe(w3e,{target:this.container,context:t}),this.updateReactivePanel()}updateReactivePanel(){AF.update(()=>({controls:this.controls,options:this.gm.options.controls,settings:this.gm.options.settings}))}createHtmlContainer(){const t=document.createElement("div");return t.classList.add("geoman-controls"),t}syncModeStates(){this.eachControlWithOptions(({control:t})=>{this.gm.options.syncModeState(t.type,t.targetMode)})}eachControlWithOptions(t){return Rl(this.controls).forEach(n=>{const r=this.controls[n];return Object.keys(r).forEach(a=>{const l=a,u=this.getControl({modeType:n,modeName:l}),i=this.gm.options.getControlOptions({modeType:n,modeName:l});u&&i&&t({control:u,controlOptions:i})})})}getControl({modeType:t,modeName:n}){return t&&n&&this.controls[t][n]||null}getDefaultPosition(){return this.gm.options.settings.controlsPosition}}class C3e{gm;globalEventsListener=null;constructor(t){this.gm=t}get map(){return this.gm.mapAdapter.getMapInstance()}async processEvent(t,n){await this.fireToMap({type:"system",eventName:t.split(":")[1],payload:{...n,level:"user"}}),n.action==="mode_start"||n.action==="mode_end"?await this.forwardModeToggledEvent(n):n.action==="feature_created"?await this.forwardFeatureCreated(n):n.action==="feature_removed"?await this.forwardFeatureRemoved(n):n.action==="feature_updated"?await this.forwardFeatureUpdated(n):n.action==="feature_edit_start"?await this.forwardFeatureEditStart(n):n.action==="feature_edit_end"?await this.forwardFeatureEditEnd(n):(n.action==="loaded"||n.action==="unloaded")&&await this.forwardGeomanLoaded(n)}async forwardModeToggledEvent(t){const n=t.action==="mode_start";if(t.actionType==="draw"){const r="globaldrawmodetoggled",a={name:`${Wu}:${r}`,actionType:t.actionType,action:t.action,enabled:n,shape:t.mode,map:this.map};await this.fireToMap({type:"converted",eventName:r,payload:a});const l=n?"drawstart":"drawend",u={name:`${Wu}:${l}`,actionType:t.actionType,action:t.action,shape:t.mode,map:this.map};await this.fireToMap({type:"converted",eventName:l,payload:u})}else if(t.actionType==="edit"){const r=`global${this.getConvertedEditModeName(t.mode)}modetoggled`,a={name:`${Wu}:${r}`,actionType:t.actionType,action:t.action,enabled:n,map:this.map};await this.fireToMap({type:"converted",eventName:r,payload:a})}else if(t.actionType==="helper"){const r=`global${t.mode}modetoggled`,a={name:`${Wu}:${r}`,actionType:t.actionType,action:t.action,enabled:n,map:this.map};await this.fireToMap({type:"converted",eventName:r,payload:a})}}async forwardFeatureCreated(t){const n={name:`${Wu}:create`,actionType:t.actionType,action:t.action,shape:t.mode,feature:t.featureData,map:this.map};await this.fireToMap({type:"converted",eventName:"create",payload:n})}async forwardFeatureRemoved(t){const n={name:`${Wu}:remove`,actionType:t.actionType,action:t.action,shape:t.mode,feature:t.featureData,map:this.map};await this.fireToMap({type:"converted",eventName:"remove",payload:n})}async forwardFeatureUpdated(t){const n=this.getConvertedEditModeName(t.mode),r=["lasso"],a={name:`${Wu}:${n}`,actionType:t.actionType,action:t.action,map:this.map};t.sourceFeatures.length===1&&!r.includes(t.mode)?a.originalFeature=t.sourceFeatures[0]:a.originalFeatures=t.sourceFeatures,t.targetFeatures.length===1&&!r.includes(t.mode)?(a.feature=t.targetFeatures[0],a.shape=a.feature.shape):a.features=t.targetFeatures,await this.fireToMap({type:"converted",eventName:`${n}`,payload:a})}async forwardFeatureEditStart(t){const n=this.getConvertedEditModeName(t.mode),r={name:`${Wu}:${n}start`,actionType:t.actionType,action:t.action,shape:t.feature.shape,feature:t.feature,map:this.map};await this.fireToMap({type:"converted",eventName:`${n}start`,payload:r})}async forwardFeatureEditEnd(t){const n=this.getConvertedEditModeName(t.mode),r={name:`${Wu}:${n}end`,actionType:t.actionType,action:t.action,shape:t.feature.shape,feature:t.feature,map:this.map};await this.fireToMap({type:"converted",eventName:`${n}end`,payload:r})}async forwardGeomanLoaded(t){const n={name:`${Wu}:${t.action}`,actionType:t.actionType,action:t.action,map:this.map,[Wu]:this.gm};await this.fireToMap({type:"converted",eventName:`${n.action}`,payload:n})}async fireToMap({type:t,eventName:n,payload:r}){const a=`${t==="system"?gr:Wu}:${n}`;if(this.gm.options.settings.awaitDataUpdatesOnEvents&&"feature"in r&&r.feature?.source){const l=r.feature.source.id;await this.gm.features.updateManager.waitForPendingUpdates(l)}this.globalEventsListener?.(r),this.gm.mapAdapter.fire(a,r)}getConvertedEditModeName(t){return t==="change"?"edit":t}}const GQ=e=>av(e)&&e.name===`${gr}:control:switch`,av=e=>!!(e&&typeof e=="object"&&["level","name","actionType","action"].every(t=>t in e)),A3e=e=>!!(e&&typeof e=="object"&&["type","originalEvent","target"].every(t=>t in e));class k3e{gm;forwarder;mapEventHandlers={};gmEventHandlers={};constructor(t){this.gm=t,this.forwarder=new C3e(t)}pendingForward=Promise.resolve();fireEvent(t,n){const r=this.gmEventHandlers[t];if(!r)return;const{controlHandler:a}=r;a(n),this.pendingForward=this.pendingForward.then(()=>this.forwarder.processEvent(t,n))}attachEvents(t){Rl(t).forEach(n=>{const r=t[n];r&&this.on(n,r)})}detachEvents(t){Rl(t).forEach(n=>{const r=t[n];r&&this.off(n,r)})}detachAllEvents(){Rl(this.gmEventHandlers).forEach(t=>{Array.from(this.gmEventHandlers[t]?.handlers||[]).forEach(n=>{this.off(t,n)})}),Rl(this.mapEventHandlers).forEach(t=>{Array.from(this.mapEventHandlers[t]?.handlers||[]).forEach(n=>{this.off(t,n)})})}on(t,n){t.startsWith(gr)?this.onGmEvent(t,n):this.onMapEvent(t,n)}onGmEvent(t,n){this.gmEventHandlers[t]||(this.gmEventHandlers[t]=this.createEventSection(t)),this.gmEventHandlers[t]?.handlers.unshift(n)}onMapEvent(t,n){if(!this.mapEventHandlers[t]){const r=this.createEventSection(t);this.gm.mapAdapter.on(t,r.controlHandler),this.mapEventHandlers[t]=r}this.mapEventHandlers[t]?.handlers.unshift(n)}off(t,n){t.startsWith(`${gr}`)?this.offGmEvent(t,n):this.offMapEvent(t,n)}offGmEvent(t,n){const r=this.gmEventHandlers[t]?.handlers||[],a=r.findIndex(l=>n===l);a===-1?rr.warn("MapEvents: handler not found",t,n):(r.splice(a,1),r.length===0&&delete this.gmEventHandlers[t])}offMapEvent(t,n){const r=this.mapEventHandlers[t]?.handlers||[],a=r.findIndex(l=>n===l);if(a===-1)rr.warn("MapEvents: handler not found",t,n);else if(r.splice(a,1),r.length===0){const l=this.mapEventHandlers[t]?.controlHandler;l&&this.gm.mapAdapter.off(t,l),delete this.mapEventHandlers[t]}}createEventSection(t){return{handlers:[],controlHandler:n=>{let r;if(av(n)&&t.startsWith(`${gr}`)?r=this.gmEventHandlers[t]:r=this.mapEventHandlers[t],!r){rr.debug(`No handlers for eventName: "${t}"`);return}r.handlers.some(a=>{let l;return av(n)||A3e(n)?l=a(n):rr.error("EventsBus: unknown event type",n),l&&typeof l=="object"&&"next"in l?!l.next:(rr.error('EventsBus: handler should return an object with a "next" property'),!1)})}}}}class ON{gm;constructor(t){this.gm=t}trackExclusiveModes(t){if(t.action!=="mode_start")return;const{sectionName:n,modeName:r}=this.getControlIds(t)||{};this.getControl(t)?.settings.exclusive&&this.gm.control.eachControlWithOptions(a=>{const l=a.control.type,u=a.control.targetMode;l===n&&u===r||a.controlOptions.active&&a.control.settings.exclusive&&this.gm.options.disableMode(l,u)})}trackRelatedModes(t){GF(t)&&this.gm.control.eachControlWithOptions(n=>{const r=n.control,{type:a,targetMode:l}=r;r.settings.enabledBy?.includes(t.mode)&&(t.action==="mode_start"?(this.gm.options.isModeEnabled(a,l)&&this.gm.options.disableMode(a,l),this.gm.options.enableMode(a,l)):t.action==="mode_end"?this.gm.options.disableMode(a,l):rr.error("Unknown mode action",t.action))})}getControl(t){const{modeName:n,sectionName:r}=this.getControlIds(t)||{};return n&&r?this.gm.control.getControl({modeType:r,modeName:n}):null}getControlOptions(t){const{modeName:n,sectionName:r}=this.getControlIds(t)||{};return n&&r?this.gm.options.getControlOptions({modeType:r,modeName:n}):null}getControlIds(t){let n=null,r=null;return t.action==="mode_start"?(n=t.actionType,r=t.mode):GQ(t)&&(n=t.section,r=t.mode),n&&r?{sectionName:n,modeName:r}:null}}class I3e extends ON{eventHandlers={[`${gr}:control`]:this.handleControlEvent.bind(this)};constructor(t,n){super(t),n.attachEvents(this.eventHandlers)}handleControlEvent(t){return GQ(t)?(this.getControl(t)||rr.error("Control not found, event payload",t),{next:!0}):{next:!0}}}const N3e=["draw","edit","helper"],V0=["marker","circle","circle_marker","ellipse","text_marker","line","rectangle","polygon"],R3e=["dom_marker","vertex_marker","center_marker","edge_marker","snap_guide"],HQ=[...V0,...R3e],M3e=["freehand","custom_shape"],VQ=[...V0,...M3e],qQ=["shape_markers","pin","snapping","snap_guides","measurements","auto_trace","geofencing","zoom_to_features","click_to_edit"],YQ=["drag","change","rotate","scale","copy","cut","split","union","difference","line_simplification","lasso","delete"],O3e=e=>Array.isArray(e)&&e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number",AM={id:e=>typeof e=="string"||typeof e=="number",shape:e=>typeof e=="string"&&Rb(e,HQ),center:e=>O3e(e),xSemiAxis:e=>typeof e=="number",ySemiAxis:e=>typeof e=="number",angle:e=>typeof e=="number",text:e=>typeof e=="string",disableEdit:e=>typeof e=="boolean"};class kF{isMarkerInstanceAvailable(){return this.markerInstance?!0:(rr.error("Marker instance is not available"),!1)}}var Yu=63710088e-1,WQ={centimeters:Yu*100,centimetres:Yu*100,degrees:360/(2*Math.PI),feet:Yu*3.28084,inches:Yu*39.37,kilometers:Yu/1e3,kilometres:Yu/1e3,meters:Yu,metres:Yu,miles:Yu/1609.344,millimeters:Yu*1e3,millimetres:Yu*1e3,nauticalmiles:Yu/1852,radians:1,yards:Yu*1.0936};function ug(e,t,n={}){const r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function Km(e,t,n={}){if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!$k(e[0])||!$k(e[1]))throw new Error("coordinates must contain numbers");return ug({type:"Point",coordinates:e},t,n)}function $b(e,t,n={}){for(const r of e){if(r.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(r[r.length-1].length!==r[0].length)throw new Error("First and last Position are not equivalent.");for(let a=0;a<r[r.length-1].length;a++)if(r[r.length-1][a]!==r[0][a])throw new Error("First and last Position are not equivalent.")}return ug({type:"Polygon",coordinates:e},t,n)}function jb(e,t,n={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return ug({type:"LineString",coordinates:e},t,n)}function Wl(e,t={}){const n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function D3e(e,t,n={}){return ug({type:"MultiLineString",coordinates:e},t,n)}function ZQ(e,t,n={}){return ug({type:"MultiPolygon",coordinates:e},t,n)}function IF(e,t="kilometers"){const n=WQ[t];if(!n)throw new Error(t+" units is invalid");return e*n}function NF(e,t="kilometers"){const n=WQ[t];if(!n)throw new Error(t+" units is invalid");return e/n}function I1(e){return e%(2*Math.PI)*180/Math.PI}function Qu(e){return e%360*Math.PI/180}function XQ(e,t="kilometers",n="kilometers"){if(!(e>=0))throw new Error("length must be a positive number");return IF(NF(e,t),n)}function $k(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function DN(e){return e!==null&&typeof e=="object"&&!Array.isArray(e)}function Xb(e,t,n){if(e!==null)for(var r,a,l,u,i,m,b,_=0,w=0,M,P=e.type,j=P==="FeatureCollection",G=P==="Feature",z=j?e.features.length:1,q=0;q<z;q++){b=j?e.features[q].geometry:G?e.geometry:e,M=b?b.type==="GeometryCollection":!1,i=M?b.geometries.length:1;for(var Y=0;Y<i;Y++){var J=0,ne=0;if(u=M?b.geometries[Y]:b,u!==null){m=u.coordinates;var ie=u.type;switch(_=n&&(ie==="Polygon"||ie==="MultiPolygon")?1:0,ie){case null:break;case"Point":if(t(m,w,q,J,ne)===!1)return!1;w++,J++;break;case"LineString":case"MultiPoint":for(r=0;r<m.length;r++){if(t(m[r],w,q,J,ne)===!1)return!1;w++,ie==="MultiPoint"&&J++}ie==="LineString"&&J++;break;case"Polygon":case"MultiLineString":for(r=0;r<m.length;r++){for(a=0;a<m[r].length-_;a++){if(t(m[r][a],w,q,J,ne)===!1)return!1;w++}ie==="MultiLineString"&&J++,ie==="Polygon"&&ne++}ie==="Polygon"&&J++;break;case"MultiPolygon":for(r=0;r<m.length;r++){for(ne=0,a=0;a<m[r].length;a++){for(l=0;l<m[r][a].length-_;l++){if(t(m[r][a][l],w,q,J,ne)===!1)return!1;w++}ne++}J++}break;case"GeometryCollection":for(r=0;r<u.geometries.length;r++)if(Xb(u.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Py(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function L3e(e,t,n){var r=n;return Py(e,function(a,l){l===0&&n===void 0?r=a:r=t(r,a,l)}),r}function nx(e,t){var n,r,a,l,u,i,m,b,_,w,M=0,P=e.type==="FeatureCollection",j=e.type==="Feature",G=P?e.features.length:1;for(n=0;n<G;n++){for(i=P?e.features[n].geometry:j?e.geometry:e,b=P?e.features[n].properties:j?e.properties:{},_=P?e.features[n].bbox:j?e.bbox:void 0,w=P?e.features[n].id:j?e.id:void 0,m=i?i.type==="GeometryCollection":!1,u=m?i.geometries.length:1,a=0;a<u;a++){if(l=m?i.geometries[a]:i,l===null){if(t(null,M,b,_,w)===!1)return!1;continue}switch(l.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(l,M,b,_,w)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<l.geometries.length;r++)if(t(l.geometries[r],M,b,_,w)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}M++}}function P3e(e,t,n){var r=n;return nx(e,function(a,l,u,i,m){r=t(r,a,l,u,i,m)}),r}function zb(e,t){nx(e,function(n,r,a,l,u){var i=n===null?null:n.type;switch(i){case null:case"Point":case"LineString":case"Polygon":return t(ug(n,a,{bbox:l,id:u}),r,0)===!1?!1:void 0}var m;switch(i){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var b=0;b<n.coordinates.length;b++){var _=n.coordinates[b],w={type:m,coordinates:_};if(t(ug(w,a),r,b)===!1)return!1}})}function D0(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const n=[1/0,1/0,-1/0,-1/0];return Xb(e,r=>{n[0]>r[0]&&(n[0]=r[0]),n[1]>r[1]&&(n[1]=r[1]),n[2]<r[0]&&(n[2]=r[0]),n[3]<r[1]&&(n[3]=r[1])}),n}var KQ=D0;function Ml(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function $h(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function ZT(e){return e.type==="Feature"?e.geometry:e}function Fz(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function QQ(e,t,n,r={}){const a=Ml(e),l=Qu(a[0]),u=Qu(a[1]),i=Qu(n),m=NF(t,r.units),b=Math.asin(Math.sin(u)*Math.cos(m)+Math.cos(u)*Math.sin(m)*Math.cos(i)),_=l+Math.atan2(Math.sin(i)*Math.sin(m)*Math.cos(u),Math.cos(m)-Math.sin(u)*Math.sin(b)),w=I1(_),M=I1(b);return a[2]!==void 0?Km([w,M,a[2]],r.properties):Km([w,M],r.properties)}function F3e(e,t,n={}){const r=n.steps||64,a=n.properties?n.properties:!Array.isArray(e)&&e.type==="Feature"&&e.properties?e.properties:{},l=[];for(let u=0;u<r;u++)l.push(QQ(e,t,u*-360/r,n).geometry.coordinates);return l.push(l[0]),$b([l],a)}var B3e=F3e;function JQ(e,t={}){let n=0,r=0,a=0;return Xb(e,function(l){n+=l[0],r+=l[1],a++},!0),Km([n/a,r/a],t.properties)}var pD=JQ;function $3e(e,t,n={}){let r;return n.final?r=Bz(Ml(t),Ml(e)):r=Bz(Ml(e),Ml(t)),r>180?-(360-r):r}function Bz(e,t){const n=Qu(e[1]),r=Qu(t[1]);let a=Qu(t[0]-e[0]);a>Math.PI&&(a-=2*Math.PI),a<-Math.PI&&(a+=2*Math.PI);const l=Math.log(Math.tan(r/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),u=Math.atan2(a,l);return(I1(u)+360)%360}function j3e(e,t,n={}){const r=Ml(e),a=Ml(t);a[0]+=a[0]-r[0]>180?-360:r[0]-a[0]>180?360:0;const l=z3e(r,a);return XQ(l,"meters",n.units)}function z3e(e,t,n){n=n===void 0?Yu:Number(n);const r=n,a=e[1]*Math.PI/180,l=t[1]*Math.PI/180,u=l-a;let i=Math.abs(t[0]-e[0])*Math.PI/180;i>Math.PI&&(i-=2*Math.PI);const m=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),b=Math.abs(m)>1e-11?u/m:Math.cos(a);return Math.sqrt(u*u+b*b*i*i)*r}function U3e(e,t,n,r={}){const a=t<0;let l=XQ(Math.abs(t),r.units,"meters");a&&(l=-Math.abs(l));const u=Ml(e),i=G3e(u,l,n);return i[0]+=i[0]-u[0]>180?-360:u[0]-i[0]>180?360:0,Km(i,r.properties)}function G3e(e,t,n,r){r=r===void 0?Yu:Number(r);const a=t/r,l=e[0]*Math.PI/180,u=Qu(e[1]),i=Qu(n),m=a*Math.cos(i);let b=u+m;Math.abs(b)>Math.PI/2&&(b=b>0?Math.PI-b:-Math.PI-b);const _=Math.log(Math.tan(b/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),w=Math.abs(_)>1e-11?m/_:Math.cos(u),M=a*Math.sin(i)/w;return[((l+M)*180/Math.PI+540)%360-180,b*180/Math.PI]}function LN(e){if(!e)throw new Error("geojson is required");switch(e.type){case"Feature":return eJ(e);case"FeatureCollection":return H3e(e);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return RF(e);default:throw new Error("unknown GeoJSON type")}}function eJ(e){const t={type:"Feature"};return Object.keys(e).forEach(n=>{switch(n){case"type":case"properties":case"geometry":return;default:t[n]=e[n]}}),t.properties=tJ(e.properties),e.geometry==null?t.geometry=null:t.geometry=RF(e.geometry),t}function tJ(e){const t={};return e&&Object.keys(e).forEach(n=>{const r=e[n];typeof r=="object"?r===null?t[n]=null:Array.isArray(r)?t[n]=r.map(a=>a):t[n]=tJ(r):t[n]=r}),t}function H3e(e){const t={type:"FeatureCollection"};return Object.keys(e).forEach(n=>{switch(n){case"type":case"features":return;default:t[n]=e[n]}}),t.features=e.features.map(n=>eJ(n)),t}function RF(e){const t={type:e.type};return e.bbox&&(t.bbox=e.bbox),e.type==="GeometryCollection"?(t.geometries=e.geometries.map(n=>RF(n)),t):(t.coordinates=nJ(e.coordinates),t)}function nJ(e){const t=e;return typeof t[0]!="object"?t.slice():t.map(n=>nJ(n))}var V3e=LN;function rJ(e,t,n){if(n=n||{},!DN(n))throw new Error("options is invalid");const r=n.pivot,a=n.mutate;if(!e)throw new Error("geojson is required");if(t==null||isNaN(t))throw new Error("angle is required");if(t===0)return e;const l=r??JQ(e);return(a===!1||a===void 0)&&(e=LN(e)),Xb(e,function(u){const i=$3e(l,u)+t,m=j3e(l,u),b=$h(U3e(l,m,i));u[0]=b[0],u[1]=b[1]}),e}var q3e=rJ;function $z(e,t,n,r){r=r||{};let a=r.steps||64;const l=r.units||"kilometers";let u=r.angle||0;const i=r.pivot||e,m=r.properties||{};if(!e)throw new Error("center is required");if(!t)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!DN(r))throw new Error("options must be an object");if(!$k(a))throw new Error("steps must be a number");if(!$k(u))throw new Error("angle must be a number");const b=Ml(rJ(Km(Ml(e)),u,{pivot:i}));u=-90+u,a=Math.ceil(a/4);const _=[],w=[],M=t,P=n,j=P,G=(M-P)/(Math.PI/2),z=(M+P)*Math.PI/4,q=.5,Y=a;let J=0,ne=0;for(let ue=0;ue<a;ue++)ne+=J,G===0?J=z/Y/j:J=(-(G*ne+j)+Math.sqrt(Math.pow(G*ne+j,2)-4*(q*G)*-(z/Y)))/(2*(q*G)),ne!=0&&_.push(ne);w.push(0);for(let ue=0;ue<_.length;ue++)w.push(_[ue]);w.push(Math.PI/2);for(let ue=0;ue<_.length;ue++)w.push(Math.PI-_[_.length-ue-1]);w.push(Math.PI);for(let ue=0;ue<_.length;ue++)w.push(Math.PI+_[ue]);w.push(3*Math.PI/2);for(let ue=0;ue<_.length;ue++)w.push(2*Math.PI-_[_.length-ue-1]);w.push(0);const ie=[];for(const ue of w){const oe=Math.atan2(P*Math.sin(ue),M*Math.cos(ue)),K=Math.sqrt(Math.pow(M,2)*Math.pow(P,2)/(Math.pow(M*Math.sin(oe),2)+Math.pow(P*Math.cos(oe),2)));ie.push(QQ(b,K,u+I1(oe),{units:l}).geometry.coordinates)}return $b([ie],m)}function aJ(e,t,n={}){if(n.final===!0)return Y3e(e,t);const r=Ml(e),a=Ml(t),l=Qu(r[0]),u=Qu(a[0]),i=Qu(r[1]),m=Qu(a[1]),b=Math.sin(u-l)*Math.cos(m),_=Math.cos(i)*Math.sin(m)-Math.sin(i)*Math.cos(m)*Math.cos(u-l);return I1(Math.atan2(b,_))}function Y3e(e,t){let n=aJ(t,e);return n=(n+180)%360,n}var jk=aJ;function TE(e,t,n={}){var r=Ml(e),a=Ml(t),l=Qu(a[1]-r[1]),u=Qu(a[0]-r[0]),i=Qu(r[1]),m=Qu(a[1]),b=Math.pow(Math.sin(l/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(i)*Math.cos(m);return IF(2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b)),n.units)}var iJ=TE;function mD(e,t={}){const n=ZT(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),n.type){case"Polygon":return W3e(n,t);case"MultiPolygon":return Z3e(n,t);default:throw new Error("invalid poly")}}function W3e(e,t={}){const n=ZT(e).coordinates,r=t.properties?t.properties:e.type==="Feature"?e.properties:{};return oJ(n,r)}function Z3e(e,t={}){const n=ZT(e).coordinates,r=t.properties?t.properties:e.type==="Feature"?e.properties:{},a=[];return n.forEach(l=>{a.push(oJ(l,r))}),Wl(a)}function oJ(e,t){return e.length>1?D3e(e,t):jb(e[0],t)}const jz=(e,t)=>e[0]===t[0]&&e[1]===t[1],sJ=e=>e.type==="Feature"&&e.geometry.type==="LineString",lJ=e=>e.type==="Feature"&&e.geometry.type==="Polygon",uJ=e=>e.type==="Feature"&&e.geometry.type==="MultiPolygon",kM=(e,t)=>({lng:t[0]-e[0],lat:t[1]-e[1]}),zk=e=>Array.isArray(e)&&e.length>=2&&e.length<=3&&e.every(t=>typeof t=="number"),XT=(e,t,n=!1)=>{let r=0;const a=["features","geometries","geometry","coordinates"],l=(u,i,m=!1)=>{zk(u)?(t({coordinate:u,path:i},r),r+=1):Array.isArray(u)?u.forEach((b,_)=>{m&&n&&_===u.length-1&&zk(b)||l(b,[...i,_],m)}):typeof u=="object"&&u!==null&&Rl(u).forEach(b=>{const _=u[b];if(a.includes(b)&&_){const w="type"in u&&u.type,M=w==="Polygon"||w==="MultiPolygon";l(_,[...i,b],M)}})};l(e,[])},X3e=(e,t)=>{let n={coordinate:[0,0],path:[]},r=-1;try{XT(e,(a,l)=>{if(t[0]===a.coordinate[0]&&t[1]===a.coordinate[1])throw r=l,n=a,new Error("stop")})}catch{if(n)return{index:r,coordinate:n.coordinate,path:n.path}}return null},cJ=(e,t)=>{let n=0;const r=["features","geometries","geometry","coordinates"],a=(l,u,i,m)=>{zk(l)&&zk(u)?(t({start:{coordinate:[...l],path:i},end:{coordinate:[...u],path:m}},n),n+=1):Array.isArray(l)?l.forEach((b,_)=>{a(b,l[_+1],[...i,_],[...i,_+1])}):typeof l=="object"&&l!==null&&Rl(l).forEach(b=>{const _=l[b];r.includes(b)&&_&&a(_,void 0,[...i,b],[])})};a(e,void 0,[],[])},PN=(e,t)=>{let n={absCoordIndex:-1,featureIndex:-1,multiFeatureIndex:-1,geometryIndex:-1};try{Xb(e,(r,a,l,u,i)=>{if(r[0]===t[0]&&r[1]===t[1])throw n={absCoordIndex:a,featureIndex:l,multiFeatureIndex:u,geometryIndex:i},new Error("found")})}catch{}return n},tE=(e,t)=>{const[n,r]=e,[a,l]=t,u=Math.min(n,a),i=Math.min(r,l),m=Math.max(n,a),b=Math.max(r,l);return[u,i,m,b]},gD=(e,t)=>{const n=tE(e,t),r=[n[0],n[1]],a=[n[2],n[3]],l=r[0],u=r[1],i=a[0],m=a[1];return{type:"Feature",properties:{shape:"rectangle"},geometry:{type:"Polygon",coordinates:[[[l,u],[i,u],[i,m],[l,m],[l,u]]]}}},yD=e=>[e.geometry.coordinates[0],e.geometry.coordinates[1]],MF=e=>{const t=KQ(e);return[[t[0],t[1]],[t[2],t[3]]]},IM=e=>{let t=0;return Xb(e,()=>{t+=1},!0),t},K3e=e=>{const t=[];return Xb(e,n=>{t.push([n[0],n[1]])},!0),t},OF=e=>{const t=K3e(e);return t.some(n=>!Cw(t[0],n))},dJ=e=>{let t=null;try{XT(e,n=>{throw t=n.coordinate,new Error("found")})}catch{return t}return null},FA=(e,t)=>Math.sqrt((e[0]-t[0])**2+(e[1]-t[1])**2),Q3e=(e,t,n)=>{const[r,a]=[e[0],e[1]],[l,u]=[t[0],t[1]],[i,m]=[n[0],n[1]],b=l-r,_=u-a,w=i-r,M=m-a,P=w*b+M*_,j=b*b+_*_;let G=P/j;return G=Math.max(0,Math.min(1,G)),[r+G*b,a+G*_]},J3e=(e,t)=>{const{absCoordIndex:n}=PN(e,t);return n!==-1?(e.geometry.coordinates.splice(n,1),!0):!1},eDe=(e,t)=>{const n=PN(e,t);if(n.absCoordIndex!==-1){const r=[n.geometryIndex],a=HE(e.geometry.coordinates,r),l=a.findIndex(u=>Cw(u,t));return a.length<=4?(e.geometry.coordinates.splice(n.geometryIndex,1),!0):(a.splice(l,1),l===0&&(a[a.length-1]=[...a[0]]),!0)}return!1},tDe=(e,t)=>{const n=PN(e,t);if(n.absCoordIndex!==-1){const r=[n.multiFeatureIndex,n.geometryIndex],a=HE(e.geometry.coordinates,r),l=a.findIndex(u=>Cw(u,t));if(a.length<=4){r.pop();const u=HE(e.geometry.coordinates,n.multiFeatureIndex);return u.splice(n.geometryIndex,1),u.length===0&&e.geometry.coordinates.splice(n.multiFeatureIndex,1),!0}return a.splice(l,1),l===0&&(a[a.length-1]=[...a[0]]),!0}return!1},nDe=(e,t)=>sJ(e)?J3e(e,t):lJ(e)?eDe(e,t):uJ(e)?tDe(e,t):!1,rDe=(e,t="marker")=>({type:"Feature",properties:{shape:t},geometry:{type:"Point",coordinates:e}}),DF=({center:e,radius:t,steps:n=80})=>{const r=B3e(e,t,{steps:n,units:"meters"});return r.geometry.coordinates[0][0]=[...r.geometry.coordinates[0][0]],r},zz=({center:e,xSemiAxisLngLat:t,rimLngLat:n})=>{let r=TE(e,t,{units:"meters"});r===0&&(r=1);const a=jk(e,t)-90;let l=0;if(n){const u=-a*Math.PI/180,i=-(jk(e,n)-90)*Math.PI/180,m=TE(e,n,{units:"meters"}),b=m*Math.cos(i),_=m*Math.sin(i),w=b*Math.cos(u)+_*Math.sin(u),M=b*-Math.sin(u)+_*Math.cos(u),P=w*w/(r*r);l=Math.abs(M)/Math.sqrt(1-P),isNaN(l)&&(l=0)}return{xSemiAxis:r,ySemiAxis:l,angle:a}},fJ=80,FN=({center:e,xSemiAxis:t,ySemiAxis:n,angle:r,properties:a={}})=>{const l={steps:fJ,angle:r,units:"meters"};if(n===void 0||n===0){const i=$z(e,t,1,l);return jb(i.geometry.coordinates[0].slice(0,41),{shape:"line"})}const u=$z(e,t,n,{...l,properties:{...a,[`${dd}shape`]:"ellipse",[`${dd}center`]:e,[`${dd}xSemiAxis`]:t,[`${dd}ySemiAxis`]:n,[`${dd}angle`]:r}});return u.geometry.coordinates[0][0]=[...u.geometry.coordinates[0][0]],u},aDe=["circle","ellipse","rectangle"];class rS{gm;id="no-id";parent=null;markers;source;_geoJson=null;constructor(t){this.gm=t.gm,this.id=t.id,this.source=t.source,this.parent=t.parent,this.markers=new Map;const n={...t.geoJsonShapeFeature,properties:{...this.parseExtraProperties(t.geoJsonShapeFeature),...this.parseGmShapeProperties(t.geoJsonShapeFeature)}};if(t.skipSourceUpdate){if(this._geoJson={...n,id:this.id},this.shape==="circle"){const r=yD(pD(this._geoJson));this._geoJson.properties[`${dd}center`]=r}}else this.addGeoJson(n)}get shape(){const t=this.getShapeProperty("shape");if(typeof t=="string"&&Rb(t,HQ))return t;throw new Error(`Wrong shape type: "${t}"`)}set shape(t){this.setShapeProperty("shape",t)}get temporary(){return this.source.id===Kn.temporary}get sourceName(){return this.source.id}getShapeProperty(t,n){const r=n?.properties||this._geoJson?.properties||{},a=AM[t],l=r[`${dd}${t}`]??r[t];if(a&&a(l))return l}setShapeProperty(t,n){if(!this._geoJson){rr.error("FeatureData.setShapeProperty(): geojson is not set");return}this._geoJson.properties[`${dd}${t}`]=n,this._updateAllProperties(this._geoJson.properties)}deleteShapeProperty(t){if(!this._geoJson){rr.error("FeatureData.deleteShapeProperty(): geojson is not set");return}delete this._geoJson.properties[`${dd}${t}`],this._updateAllProperties(this._geoJson.properties)}parseGmShapeProperties(t){const n=this.getShapeProperty("shape",t)||this.gm.features.getFeatureShapeByGeoJson(t);n||rr.error(`FeatureData.importGmShapeProperties(): unknown shape: ${n}`);const r={...Object.fromEntries(Rl(AM).map(a=>[a,this.getShapeProperty(a,t)])),id:this.id,shape:n||void 0};return Object.fromEntries(Rl(r).filter(a=>r[a]!==void 0).map(a=>[`${dd}${a}`,r[a]]))}parseExtraProperties(t){const n=Vh(t.properties)||{};return Rl(AM).forEach(r=>{delete n[r],delete n[`${dd}${r}`]}),n}getGeoJson(){if(this._geoJson)return this._geoJson;throw new Error(`Missing GeoJSON for feature: "${this.shape}:${this.id}"`)}addGeoJson(t){if(this._geoJson={...t,id:this.id},this.shape==="circle"){const n=yD(pD(this._geoJson));this._geoJson.properties[`${dd}center`]=n}this.gm.features.updateManager.updateSource({diff:{add:[this._geoJson]},sourceName:this.sourceName})}removeGeoJson(){if(!this._geoJson)throw new Error(`Feature not found: "${this.id}"`);this.gm.features.updateManager.updateSource({diff:{remove:[this.id]},sourceName:this.sourceName})}removeMarkers(){this.markers.forEach(t=>{t.instance instanceof kF?t.instance.remove():this.gm.features.delete(t.instance)}),this.markers=new Map}updateGeometry(t){const n=this.getGeoJson();if(!n)throw new Error(`Feature not found: "${this.id}"`);this._geoJson={...n,geometry:t};const r={update:[this._geoJson]};this.gm.features.updateManager.updateSource({diff:r,sourceName:this.sourceName})}updateGeoJsonGeometry(t){this.updateGeometry(t)}updateProperties(t){if(!this._geoJson)throw new Error(`Feature not found: "${this.id}"`);const n=this.parseGmShapeProperties(this._geoJson),r=new Set(Object.keys(n)),a={};for(const[i,m]of Object.entries(this._geoJson.properties))i in t||(a[i]=m);for(const[i,m]of Object.entries(t))r.has(i)||m!==void 0&&(a[i]=m);Object.assign(a,n),this._geoJson.properties=a;const l={...a};for(const[i,m]of Object.entries(t))r.has(i)||m===void 0&&(l[i]=void 0);const u={update:[{...this._geoJson,properties:l}]};this.gm.features.updateManager.updateSource({diff:u,sourceName:this.sourceName})}setProperties(t){if(!this._geoJson)throw new Error(`Feature not found: "${this.id}"`);const n=this.parseGmShapeProperties(this._geoJson),r={};for(const[l,u]of Object.entries(t))u!==void 0&&!(l in n)&&(r[l]=u);this._geoJson.properties={...r,...n};const a={update:[this._geoJson]};this.gm.features.updateManager.updateSource({diff:a,sourceName:this.sourceName})}_updateAllProperties(t){if(!this._geoJson)throw new Error(`Feature not found: "${this.id}"`);this._geoJson.properties={...this._geoJson.properties,...t};const n={update:[this._geoJson]};this.gm.features.updateManager.updateSource({diff:n,sourceName:this.sourceName})}updateGeoJsonProperties(t){this._updateAllProperties(t)}setGeoJsonCustomProperties(t){this.setProperties(t||{})}updateGeoJsonCustomProperties(t){this.updateProperties(t||{})}deleteGeoJsonCustomProperties(t){const n={};for(const r of t)n[r]=void 0;this.updateProperties(n)}convertToPolygon(){return this.isConvertableToPolygon()?(this.shape="polygon",this.deleteShapeProperty("center"),this.deleteShapeProperty("angle"),this.deleteShapeProperty("xSemiAxis"),this.deleteShapeProperty("ySemiAxis"),!0):!1}isConvertableToPolygon(){return aDe.includes(this.shape)}changeSource({sourceName:t,atomic:n}){if(this.source.id===t){rr.error(`FeatureData.changeSource: feature "${this.id}" already has the source "${t}"`);return}const r=this.gm.features.sources[t];if(!r){rr.error(`FeatureData.changeSource: missing source "${t}"`);return}const a=this.getGeoJson();if(!a){rr.error("FeatureData.changeSource: missing shape GeoJSON");return}this.removeGeoJson(),this.source=r,this.addGeoJson(a),this.markers.forEach(l=>{l.instance instanceof rS&&l.instance.changeSource({sourceName:t,atomic:n})})}fireFeatureUpdatedEvent({mode:t}){const n={name:`${gr}:edit:feature_updated`,level:"system",actionType:"edit",action:"feature_updated",mode:t,sourceFeatures:[this],targetFeatures:[this],markerData:null};this.gm.events.fire(`${gr}:edit`,n)}delete(){this.removeGeoJson(),this.removeMarkers()}}const LF=e=>av(e)&&e.actionType==="helper",iDe=e=>av(e)&&e.name===`${gr}:helper:geofencing_violation`;class PF{gm;options={};settings={};actions={};flags={featureCreateAllowed:!0,featureUpdateAllowed:!0,actionInProgress:!1};internalEventHandlers={[`${gr}:helper`]:this.handleHelperEvent.bind(this)};constructor(t){this.gm=t}get snappingHelper(){return this.gm.actionInstances.helper__snapping||null}startAction(){this.gm.events.bus.attachEvents(this.internalEventHandlers),this.gm.events.bus.attachEvents(this.eventHandlers),this.onStartAction()}endAction(){this.onEndAction(),this.gm.events.bus.detachEvents(this.eventHandlers),this.gm.events.bus.detachEvents(this.internalEventHandlers)}getOptionValue(t){const n=this.options[t];if(!n)throw new Error(`Option ${t} not found`);if(["toggle","hidden"].includes(n.type))return n.value;if(n.type==="select")return n.value.value;throw new Error(`Unknown option type: ${JSON.stringify(n)}`)}getSettingValue(t){if(t in this.settings)return this.settings[t]}applyOptionValue(t,n){const r=this.options[t];if(!r){rr.error("Option not found",t,n);return}if(r.type==="toggle"&&typeof n=="boolean")r.value=n;else if(r.type==="select"){const a=r.choices.find(l=>l.value===n);a&&(r.value=a)}else r.type==="hidden"?r.value=n:rr.error("Can't apply option value",t,n,r)}handleHelperEvent(t){return iDe(t)?this.handleGeofencingViolationEvent(t):{next:!0}}handleGeofencingViolationEvent(t){return t.actionType==="draw"?this.flags.featureCreateAllowed=!1:t.actionType==="edit"&&(this.flags.featureUpdateAllowed=!1),{next:!0}}}const FF=e=>av(e)&&e.actionType==="draw",oDe=e=>av(e)&&(e.name===`${gr}:draw:shape`||e.name===`${gr}:draw:shape_with_data`),hJ=e=>oDe(e)&&e.variant==="line_drawer";class mv extends PF{actionType="draw";shape=null;featureData=null;saveFeature(){if(this.featureData){const t=this.featureData.getGeoJson();this.removeTmpFeature(),this.gm.features.createFeature({sourceName:Kn.main,shapeGeoJson:t})}else rr.error("BaseDraw.saveFeature: no featureData to save")}removeTmpFeature(){this.featureData&&(this.featureData.temporary||rr.error("Not a temporary feature to remove",this.featureData),this.gm.features.delete(this.featureData),this.featureData=null)}fireBeforeFeatureCreate({geoJsonFeatures:t,forceMode:n=void 0}){this.flags.featureCreateAllowed=!0;const r={name:`${gr}:feature:before_create`,level:"system",actionType:"draw",mode:n||this.mode,action:"before_create",geoJsonFeatures:t};this.gm.events.fire(`${gr}:${this.actionType}`,r)}fireMarkerPointerStartEvent(){if(!this.gm.markerPointer.marker||!this.shape)return;const t=this.gm.markerPointer.marker,n={name:`${gr}:draw:shape_with_data`,level:"system",variant:null,actionType:"draw",mode:this.shape,action:"start",markerData:{type:"dom",instance:t,position:{coordinate:t.getLngLat(),path:[-1]}},featureData:this.featureData};this.gm.events.fire(`${gr}:draw`,n)}fireMarkerPointerUpdateEvent(){if(!this.gm.markerPointer.marker||!this.shape)return;const t=this.gm.markerPointer.marker,n={name:`${gr}:draw:shape_with_data`,level:"system",variant:null,actionType:"draw",mode:this.shape,action:"update",markerData:{type:"dom",instance:t,position:{coordinate:t.getLngLat(),path:[-1]}},featureData:this.featureData};this.gm.events.fire(`${gr}:draw`,n)}fireMarkerPointerFinishEvent(){if(!this.shape)return;const t={name:`${gr}:draw:shape`,level:"system",variant:null,actionType:"draw",mode:this.shape,action:"finish"};this.gm.events.fire(`${gr}:draw`,t)}forwardLineDrawerEvent(t){if(!hJ(t)||!this.shape)return{next:!0};if(t.action==="start"||t.action==="update"){const n={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:t.action,featureData:t.featureData,markerData:t.markerData};this.gm.events.fire(`${gr}:draw`,n)}else if(t.action==="finish"||t.action==="cancel"){const n={name:`${gr}:draw:shape`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:t.action};this.gm.events.fire(`${gr}:draw`,n)}return{next:!0}}fireStartEvent(t,n=null){if(!this.shape)return;const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"start",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireUpdateEvent(t,n=null){if(!this.shape)return;const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"update",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireFinishEvent(){if(!this.shape)return;const t={name:`${gr}:draw:shape`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"finish"};this.gm.events.fire(`${gr}:draw`,t)}}class BF extends mv{mode="circle";shape="circle";eventHandlers={mousemove:this.onMouseMove.bind(this),click:this.onMouseClick.bind(this)};circleCenterPoint=null;circleCenterLngLat=null;onStartAction(){this.gm.markerPointer.enable()}onEndAction(){this.removeTmpFeature(),this.gm.markerPointer.disable(),this.fireFinishEvent()}getFeatureGeoJson(t){return{type:"Feature",properties:{shape:this.shape},geometry:{type:"Point",coordinates:t}}}getControlMarkerData(){const t=this.gm.markerPointer.marker;return t?{type:"dom",instance:t,position:{coordinate:t.getLngLat(),path:[-1]}}:null}createFeature(){const t=this.gm.features.createFeature({shapeGeoJson:this.getFeatureGeoJson(this.circleCenterLngLat||[0,0]),sourceName:Kn.temporary});return t&&this.circleCenterLngLat&&t.setShapeProperty("center",this.circleCenterLngLat),t}createMarker(){const t=document.createElement("div");t.innerHTML=lK;const n=t.firstChild;return n.style.color="#278cda",n.style.width="28px",n.style.height="28px",n.style.pointerEvents="none",this.gm.mapAdapter.createDomMarker({draggable:!1,anchor:"center",element:n},[0,0])}}class sDe extends BF{mode="circle_marker";shape="circle_marker";onStartAction(){this.gm.markerPointer.enable({customMarker:this.createMarker()})}onEndAction(){this.fireMarkerPointerFinishEvent(),super.onEndAction()}onMouseMove(){return this.fireMarkerPointerUpdateEvent(),{next:!0}}onMouseClick(t){const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();return this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getFeatureGeoJson(n)]}),this.flags.featureCreateAllowed&&(this.featureData=this.createFeature(),this.circleCenterLngLat=n,this.circleCenterPoint=this.gm.mapAdapter.project(this.circleCenterLngLat),this.updateFeaturePosition(this.circleCenterLngLat),this.saveFeature()),{next:!1}}updateFeaturePosition(t){if(!this.featureData)return;const n=this.getFeatureGeoJson(t);this.featureData.updateGeoJsonGeometry(n.geometry)}}const lDe=()=>window.PointerEvent&&"maxTouchPoints"in navigator?navigator.maxTouchPoints>0?!window.matchMedia("(hover: hover)").matches:!1:matchMedia("(hover: none)").matches||"ontouchstart"in window?!0:"msMaxTouchPoints"in navigator&&typeof navigator.msMaxTouchPoints=="number"&&navigator.msMaxTouchPoints>0,rx=(e,t,n=10)=>{const r={...e};return Rl(e).forEach(a=>{const l=e[a];typeof l=="function"?r[a]=jK(l.bind(t),n,{leading:!0,trailing:!1}):rr.error("convertToThrottled: item is not a function",e[a])}),r},uDe=(e,t,n=10)=>{const r={...e};return Rl(e).forEach(a=>{const l=e[a];typeof l=="function"?r[a]=BK(l.bind(t),n,{leading:!1,trailing:!0}):rr.error("convertToDebounced: item is not a function",e[a])}),r},Uz=async(e,t)=>{const n="Promise race timeout";await Promise.race([e,new Promise((r,a)=>{setTimeout(()=>a(new Error(`Timeout ${O7/1e3} seconds: ${t||n}`)),O7)})])},cDe=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove","touchcancel"],dDe=e=>!!(e&&typeof e=="object"&&"once"in e&&typeof e.once=="function"),gl=(e,t={warning:!1})=>{if(!e)return t.warning&&rr.warn("Empty event",e),!1;const n=typeof e=="object"&&"lngLat"in e&&"point"in e&&"type"in e&&"originalEvent"in e&&typeof e.type=="string"&&cDe.includes(e.type);return!n&&t.warning&&rr.warn("Not a pointer event",e),n},fDe=e=>e.originalEvent.ctrlKey||e.originalEvent.shiftKey||e.originalEvent.altKey||e.originalEvent.metaKey,hDe=e=>{const t=["symbol","fill","line","circle"];return!!e&&typeof e=="object"&&"type"in e&&t.includes(e.type)};class pDe extends BF{mode="circle";shape="circle";throttledMethods=rx({updateFeatureGeoJson:this.updateFeatureGeoJson},this,this.gm.options.settings.throttlingDelay);onMouseClick(t){if(!gl(t))return{next:!0};const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();if(this.circleCenterPoint&&this.circleCenterLngLat)this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getCircleGeoJson(this.circleCenterLngLat,n)]}),this.flags.featureCreateAllowed&&(this.saveCircleFeature(n),this.circleCenterLngLat=null,this.circleCenterPoint=null,this.fireFinishEvent());else if(this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getFeatureGeoJson(n)]}),this.flags.featureCreateAllowed){this.circleCenterLngLat=n,this.circleCenterPoint=this.gm.mapAdapter.project(this.circleCenterLngLat),this.featureData=this.createFeature();const r=this.getControlMarkerData();this.featureData&&r&&this.fireStartEvent(this.featureData,r)}return{next:!1}}onMouseMove(){if(this.circleCenterLngLat&&this.gm.markerPointer.marker){const t=this.gm.markerPointer.marker.getLngLat();this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getCircleGeoJson(this.circleCenterLngLat,t)]}),this.flags.featureCreateAllowed&&this.throttledMethods.updateFeatureGeoJson(t)}return this.circleCenterPoint||this.fireMarkerPointerUpdateEvent(),{next:!1}}updateFeatureGeoJson(t){if(this.featureData&&this.circleCenterLngLat){const n=this.getCircleGeoJson(this.circleCenterLngLat,t);this.featureData.updateGeoJsonGeometry(n.geometry);const r=this.getControlMarkerData();r&&this.fireUpdateEvent(this.featureData,r)}}saveCircleFeature(t){if(this.circleCenterLngLat&&this.featureData){const n=this.gm.markerPointer.marker?.getLngLat()||t;this.updateFeatureGeoJson(n),this.featureData.setShapeProperty("center",this.circleCenterLngLat),this.isFeatureGeoJsonValid()?this.saveFeature():this.removeTmpFeature()}}isFeatureGeoJsonValid(){return this.featureData?OF(this.featureData.getGeoJson()):!1}getCircleGeoJson(t,n){const r=this.gm.mapAdapter.getDistance(t,n);return{...DF({center:t,radius:r}),properties:{shape:this.shape}}}}class Kb extends PF{actionType="helper"}const pJ=e=>!!e&&typeof e=="object"&&e instanceof Kb&&"removeSnapGuides"in e&&"updateSnapGuides"in e&&e.mode==="snap_guides"&&typeof e.removeSnapGuides=="function"&&typeof e.updateSnapGuides=="function",mDe=e=>!!e&&typeof e=="object"&&e instanceof Kb&&"getShortestPath"in e&&e.mode==="auto_trace"&&typeof e.getShortestPath=="function",gDe=e=>!!e&&typeof e=="object"&&e instanceof Kb&&"getSharedMarkers"in e&&e.mode==="pin"&&typeof e.getSharedMarkers=="function";function yDe(e,t={}){var n,r,a,l=t.properties,u=(n=t.autoComplete)!=null?n:!0,i=(r=t.orderCoords)!=null?r:!0,m=(a=t.mutate)!=null?a:!1;switch(m||(e=LN(e)),e.type){case"FeatureCollection":var b=[];return e.features.forEach(function(_){b.push($h(Gz(_,{},u,i)))}),ZQ(b,l);default:return Gz(e,l,u,i)}}function Gz(e,t,n,r){t=t||(e.type==="Feature"?e.properties:{});var a=ZT(e),l=a.coordinates,u=a.type;if(!l.length)throw new Error("line must contain coordinates");switch(u){case"LineString":return n&&(l=Hz(l)),$b([l],t);case"MultiLineString":var i=[],m=0;return l.forEach(function(b){if(n&&(b=Hz(b)),r){var _=vDe(D0(jb(b)));_>m?(i.unshift(b),m=_):i.push(b)}else i.push(b)}),$b(i,t);default:throw new Error("geometry type "+u+" is not supported")}}function Hz(e){var t=e[0],n=t[0],r=t[1],a=e[e.length-1],l=a[0],u=a[1];return(n!==l||r!==u)&&e.push(t),e}function vDe(e){var t=e[0],n=e[1],r=e[2],a=e[3];return Math.abs(t-r)*Math.abs(n-a)}var $F=yDe;class jF extends mv{mode="line";snappingKey="line_drawer";drawOptions;shapeLngLats=[];throttledMethods=rx({onMouseMove:this.onMouseMove},this,this.gm.options.settings.throttlingDelay);eventHandlers={[`${gr}:helper`]:this.handleGmHelperEvent.bind(this),click:this.onMouseClick.bind(this),mousemove:this.throttledMethods.onMouseMove.bind(this)};drawerEventHandlers={firstMarkerClick:null,lastMarkerClick:null,nMarkerClick:null};constructor(t,n={snappingMarkers:"none",targetShape:"line"}){super(t),this.drawOptions=n}get snapGuidesInstance(){const t=this.gm.actionInstances.helper__snap_guides;return pJ(t)?t:null}get autoTraceEnabled(){return this.gm.options.controls.helper.auto_trace?.active||!1}get autoTraceHelperInstance(){return this.autoTraceEnabled&&Object.values(this.gm.actionInstances).find(mDe)||null}onStartAction(){this.gm.markerPointer.enable()}onEndAction(){this.gm.markerPointer.disable(),this.endShape(),this.snapGuidesInstance?.removeSnapGuides(),this.clearDrawerHandlers()}clearDrawerHandlers(){this.drawerEventHandlers.firstMarkerClick=null,this.drawerEventHandlers.lastMarkerClick=null,this.drawerEventHandlers.nMarkerClick=null}handleGmHelperEvent(t){return LF(t)?(t.mode==="snap_guides"&&t.action==="mode_start"&&this.updateSnapGuides(),{next:!0}):(rr.error("LineDrawer.handleGmHelperEvent: invalid event",t),{next:!0})}updateSnapGuides(){if(this.snapGuidesInstance){const t=this.featureData?.getGeoJson();t&&t.geometry.coordinates.pop(),this.snapGuidesInstance.updateSnapGuides(t||null,this.shapeLngLats.at(-1)||null,!0)}}on(t,n){this.drawerEventHandlers[t]=n}onMouseClick(t){if(!gl(t,{warning:!0}))return{next:!0};const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();if(this.featureData){const r=this.getClickedMarkerInfo(t);this.handleNextVertex(n,r)}else this.isFeatureAllowed(rDe(n))&&this.startShape(n);return this.updateSnapGuides(),{next:!0}}handleNextVertex(t,n){if(!this.featureData){rr.error("LineDrawer.handleNextVertex: no featureData");return}const r=this.featureData.markers.size,a=this.getMarkerClickEventData(n.index);n.index<r-1&&this.addPoint(t,n),n.index!==-1&&(n.index===0?this.drawerEventHandlers.firstMarkerClick?.(a):n.index>0&&n.index===r-1&&this.drawerEventHandlers.lastMarkerClick?.(a),n.index>=0&&this.drawerEventHandlers.nMarkerClick?.(a))}getMarkerClickEventData(t){const n=this.getFeatureGeoJson({withControlMarker:!1});return{markerIndex:t,shapeCoordinates:this.getShapeCoordinates({withControlMarker:!1}),geoJson:n,bounds:MF(n)}}onMouseMove(t){return gl(t,{warning:!0})?(this.featureData&&this.shapeLngLats.length&&this.updateFeatureSource(),{next:!0}):{next:!0}}startShape(t){this.shapeLngLats=[t],this.featureData=this.gm.features.createFeature({shapeGeoJson:this.getFeatureGeoJson({withControlMarker:!0}),sourceName:Kn.temporary});const n={type:"dom",instance:this.createMarker(t),position:{coordinate:t,path:["geometry","coordinates",0]}};this.featureData&&(this.featureData.markers.set(n.position.path.join("."),n),this.setSnapping(),this.fireStartEvent(this.featureData,n)),this.gm.mapAdapter.disableMapInteractions(["doubleClickZoom"])}endShape(){const t=this.getFeatureGeoJson({withControlMarker:!1});this.removeSnapping(),this.removeTmpFeature(),this.shapeLngLats=[],this.gm.mapAdapter.enableMapInteractions(["doubleClickZoom"]),this.fireStopEvent(t)}setSnapping(){if(!this.snappingHelper)return;const t=this.drawOptions.snappingMarkers;t==="none"?this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey,[]):t==="all"&&this.shapeLngLats.length?this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey,this.shapeLngLats):t==="first"&&this.shapeLngLats.length?this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey,[this.shapeLngLats[0]]):t==="last"&&this.shapeLngLats.length?this.snappingHelper.setCustomSnappingCoordinates(this.snappingKey,[this.shapeLngLats[this.shapeLngLats.length-1]]):rr.error("LineDrawer.setSnapping: invalid data",t,this.shapeLngLats)}removeSnapping(){this.snappingHelper&&this.snappingHelper.clearCustomSnappingCoordinates(this.snappingKey)}getClickedMarkerInfo(t){if(!this.featureData)return{index:-1,path:null};let n=0,r=null;try{this.featureData.markers.forEach((a,l)=>{if(a.instance instanceof kF){const u=a.instance.getElement()||null,i=t.originalEvent.target,m=i instanceof Element?i:null;if(u&&u.contains(m))throw r=l,new Error("stop")}n+=1})}catch{if(r)return{index:n,path:r}}return{index:-1,path:null}}addPoint(t,n){const r=this.featureData;if(!r){rr.error("LineDrawer.addPoint: no featureData");return}const a=this.getAddedLngLats(t,n),l=this.getFeatureGeoJsonWithType({withControlMarker:!0,coordinates:this.shapeLngLats.concat(a)});this.isFeatureAllowed(l)&&(a.forEach(u=>{this.shapeLngLats.push(u);const i=this.addMarker(u,r);this.fireUpdateEvent(r,i)}),this.updateFeatureSource())}isFeatureAllowed(t){return this.gm.getActiveDrawModes().length?(this.fireBeforeFeatureCreate({geoJsonFeatures:[t]}),this.flags.featureCreateAllowed):!0}getAddedLngLats(t,n){if(!this.featureData)return rr.error("LineDrawer.getCurrentLngLats: no featureData"),[];const r=this.getMarkerInfoLngLat(n)||t;return[...this.getAutoTracePath(r)?.slice(1,-1)||[],r]}getAutoTracePath(t){const n=this.shapeLngLats.at(-1);return this.autoTraceEnabled&&this.autoTraceHelperInstance&&n&&this.autoTraceHelperInstance.getShortestPath(n,t)||null}getMarkerInfoLngLat(t){if(this.featureData&&t.path){const n=this.featureData.markers.get(t.path);if(n&&n.type==="dom")return n.instance.getLngLat();rr.error("LineDrawer.addPoint: no markerData",t)}return null}addMarker(t,n){const r={type:"dom",instance:this.createMarker(t),position:{coordinate:t,path:["geometry","coordinates",this.shapeLngLats.length]}};return n.markers.set(r.position.path.join("."),{type:"dom",instance:r.instance,position:{coordinate:t,path:[]}}),r}createMarker(t){return this.gm.mapAdapter.createDomMarker({element:this.gm.createSvgMarkerElement("control",{pointerEvents:"auto",cursor:"pointer"}),anchor:"center"},t)}updateFeatureSource(){if(this.featureData&&(this.featureData.updateGeoJsonGeometry(this.getFeatureGeoJson({withControlMarker:!0}).geometry),this.gm.markerPointer.marker)){const t={type:"dom",instance:this.gm.markerPointer.marker,position:{coordinate:this.gm.markerPointer.marker.getLngLat(),path:["geometry","coordinates",this.shapeLngLats.length]}};this.fireUpdateEvent(this.featureData,t)}}getFeatureGeoJson({withControlMarker:t,coordinates:n=void 0}){return{type:"Feature",properties:{shape:"line"},geometry:{type:"LineString",coordinates:n||this.getShapeCoordinates({withControlMarker:t})}}}getFeatureGeoJsonWithType({withControlMarker:t,coordinates:n=void 0}){const r=this.getFeatureGeoJson({withControlMarker:t,coordinates:n});return this.drawOptions.targetShape==="polygon"&&r.geometry.coordinates.length>3?$F(r,{properties:r.properties}):r}getShapeCoordinates({withControlMarker:t}){const n=[...this.shapeLngLats];return t&&this.gm.markerPointer.marker&&n.push(this.gm.markerPointer.marker.getLngLat()),n}fireStartEvent(t,n){const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:"line",variant:"line_drawer",action:"start",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireUpdateEvent(t,n){const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:"line",variant:"line_drawer",action:"update",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireStopEvent(t){const n={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:"line",action:"finish",variant:"line_drawer",geoJsonFeature:t,markerData:null,featureData:null};this.gm.events.fire(`${gr}:draw`,n)}}class bDe extends mv{mode="line";shape="line";lineDrawer=new jF(this.gm,{snappingMarkers:"first",targetShape:"line"});eventHandlers={[`${gr}:draw`]:this.forwardLineDrawerEvent.bind(this),mousemove:this.onMouseMove.bind(this)};onStartAction(){this.lineDrawer.startAction(),this.lineDrawer.on("nMarkerClick",this.lineFinished.bind(this))}onEndAction(){this.lineDrawer.endAction()}onMouseMove(t){return gl(t)?(this.lineDrawer.featureData||this.fireMarkerPointerUpdateEvent(),{next:!0}):{next:!0}}lineFinished(t){this.lineDrawer.endShape();let n=t.shapeCoordinates;return t.markerIndex>0&&(n=n.slice(0,t.markerIndex+1)),n.length<2?null:this.gm.features.createFeature({shapeGeoJson:this.getFeatureGeoJson(n),sourceName:Kn.main})}getFeatureGeoJson(t){return{type:"Feature",properties:{shape:this.shape},geometry:{type:"LineString",coordinates:t}}}}class _De extends mv{mode="marker";shape="marker";eventHandlers={click:this.onMouseClick.bind(this),mousemove:this.onMouseMove.bind(this)};onStartAction(){const t=this.createMarker();this.gm.markerPointer.enable({customMarker:t}),this.fireMarkerPointerStartEvent()}onEndAction(){this.gm.markerPointer.disable(),this.fireMarkerPointerFinishEvent()}onMouseClick(t){return gl(t)&&(this.featureData=this.createFeature(t),this.featureData&&this.saveFeature()),{next:!1}}onMouseMove(t){return!gl(t)||!this.gm.markerPointer.marker?{next:!0}:(this.fireMarkerPointerUpdateEvent(),{next:!0})}createFeature(t){const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray(),r=this.getFeatureGeoJson(n);return r&&(this.fireBeforeFeatureCreate({geoJsonFeatures:[r]}),this.flags.featureCreateAllowed)?this.gm.features.createFeature({shapeGeoJson:r,sourceName:Kn.temporary}):null}getFeatureGeoJson(t){return{type:"Feature",properties:{shape:this.shape},geometry:{type:"Point",coordinates:t}}}createMarker(t=Kn.temporary){const n=this.gm.options.layerStyles.marker[t]?.find(m=>m.type==="symbol"),r=n?.paint&&"icon-opacity"in n.paint?n.paint["icon-opacity"]:void 0,a=n?.layout&&"icon-size"in n.layout?n.layout["icon-size"]:void 0,l=36,u=`${a!==void 0?Math.round(l*(a/.18)):l}px`,i=this.gm.createSvgMarkerElement("default",{width:u,height:u,pointerEvents:"none",...r!==void 0&&{opacity:String(r)}});return this.gm.mapAdapter.createDomMarker({draggable:!1,anchor:"bottom",element:i},[0,0])}}function xDe(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Py(e,n=>{var r;switch((r=n.geometry)==null?void 0:r.type){case"Point":t.MultiPoint.coordinates.push(n.geometry.coordinates),t.MultiPoint.properties.push(n.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...n.geometry.coordinates),t.MultiPoint.properties.push(n.properties);break;case"LineString":t.MultiLineString.coordinates.push(n.geometry.coordinates),t.MultiLineString.properties.push(n.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...n.geometry.coordinates),t.MultiLineString.properties.push(n.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(n.geometry.coordinates),t.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...n.geometry.coordinates),t.MultiPolygon.properties.push(n.properties);break}}),Wl(Object.keys(t).filter(function(n){return t[n].coordinates.length}).sort().map(function(n){var r={type:n,coordinates:t[n].coordinates},a={collectedProperties:t[n].properties};return ug(r,a)}))}var EDe=xDe;function wDe(e,t,n,r,a){mJ(e,t,n||0,r||e.length-1,a||SDe)}function mJ(e,t,n,r,a){for(;r>n;){if(r-n>600){var l=r-n+1,u=t-n+1,i=Math.log(l),m=.5*Math.exp(2*i/3),b=.5*Math.sqrt(i*m*(l-m)/l)*(u-l/2<0?-1:1),_=Math.max(n,Math.floor(t-u*m/l+b)),w=Math.min(r,Math.floor(t+(l-u)*m/l+b));mJ(e,t,_,w,a)}var M=e[t],P=n,j=r;for(b2(e,n,t),a(e[r],M)>0&&b2(e,n,r);P<j;){for(b2(e,P,j),P++,j--;a(e[P],M)<0;)P++;for(;a(e[j],M)>0;)j--}a(e[n],M)===0?b2(e,n,j):(j++,b2(e,j,r)),j<=t&&(n=j+1),t<=j&&(r=j-1)}}function b2(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function SDe(e,t){return e<t?-1:e>t?1:0}class Op{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let n=this.data;const r=[];if(!XC(t,n))return r;const a=this.toBBox,l=[];for(;n;){for(let u=0;u<n.children.length;u++){const i=n.children[u],m=n.leaf?a(i):i;XC(t,m)&&(n.leaf?r.push(i):RM(t,m)?this._all(i,r):l.push(i))}n=l.pop()}return r}collides(t){let n=this.data;if(!XC(t,n))return!1;const r=[];for(;n;){for(let a=0;a<n.children.length;a++){const l=n.children[a],u=n.leaf?this.toBBox(l):l;if(XC(t,u)){if(n.leaf||RM(t,u))return!0;r.push(l)}}n=r.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let r=0;r<t.length;r++)this.insert(t[r]);return this}let n=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=nE([]),this}remove(t,n){if(!t)return this;let r=this.data;const a=this.toBBox(t),l=[],u=[];let i,m,b;for(;r||l.length;){if(r||(r=l.pop(),m=l[l.length-1],i=u.pop(),b=!0),r.leaf){const _=TDe(t,r.children,n);if(_!==-1)return r.children.splice(_,1),l.push(r),this._condense(l),this}!b&&!r.leaf&&RM(r,a)?(l.push(r),u.push(i),i=0,m=r,r=r.children[0]):m?(i++,r=m.children[i],b=!1):r=null}return this}toBBox(t){return t}compareMinX(t,n){return t.minX-n.minX}compareMinY(t,n){return t.minY-n.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,n){const r=[];for(;t;)t.leaf?n.push(...t.children):r.push(...t.children),t=r.pop();return n}_build(t,n,r,a){const l=r-n+1;let u=this._maxEntries,i;if(l<=u)return i=nE(t.slice(n,r+1)),Wx(i,this.toBBox),i;a||(a=Math.ceil(Math.log(l)/Math.log(u)),u=Math.ceil(l/Math.pow(u,a-1))),i=nE([]),i.leaf=!1,i.height=a;const m=Math.ceil(l/u),b=m*Math.ceil(Math.sqrt(u));Vz(t,n,r,b,this.compareMinX);for(let _=n;_<=r;_+=b){const w=Math.min(_+b-1,r);Vz(t,_,w,m,this.compareMinY);for(let M=_;M<=w;M+=m){const P=Math.min(M+m-1,w);i.children.push(this._build(t,M,P,a-1))}}return Wx(i,this.toBBox),i}_chooseSubtree(t,n,r,a){for(;a.push(n),!(n.leaf||a.length-1===r);){let l=1/0,u=1/0,i;for(let m=0;m<n.children.length;m++){const b=n.children[m],_=NM(b),w=kDe(t,b)-_;w<u?(u=w,l=_<l?_:l,i=b):w===u&&_<l&&(l=_,i=b)}n=i||n.children[0]}return n}_insert(t,n,r){const a=r?t:this.toBBox(t),l=[],u=this._chooseSubtree(a,this.data,n,l);for(u.children.push(t),L2(u,a);n>=0&&l[n].children.length>this._maxEntries;)this._split(l,n),n--;this._adjustParentBBoxes(a,l,n)}_split(t,n){const r=t[n],a=r.children.length,l=this._minEntries;this._chooseSplitAxis(r,l,a);const u=this._chooseSplitIndex(r,l,a),i=nE(r.children.splice(u,r.children.length-u));i.height=r.height,i.leaf=r.leaf,Wx(r,this.toBBox),Wx(i,this.toBBox),n?t[n-1].children.push(i):this._splitRoot(r,i)}_splitRoot(t,n){this.data=nE([t,n]),this.data.height=t.height+1,this.data.leaf=!1,Wx(this.data,this.toBBox)}_chooseSplitIndex(t,n,r){let a,l=1/0,u=1/0;for(let i=n;i<=r-n;i++){const m=D2(t,0,i,this.toBBox),b=D2(t,i,r,this.toBBox),_=IDe(m,b),w=NM(m)+NM(b);_<l?(l=_,a=i,u=w<u?w:u):_===l&&w<u&&(u=w,a=i)}return a||r-n}_chooseSplitAxis(t,n,r){const a=t.leaf?this.compareMinX:CDe,l=t.leaf?this.compareMinY:ADe,u=this._allDistMargin(t,n,r,a),i=this._allDistMargin(t,n,r,l);u<i&&t.children.sort(a)}_allDistMargin(t,n,r,a){t.children.sort(a);const l=this.toBBox,u=D2(t,0,n,l),i=D2(t,r-n,r,l);let m=ZC(u)+ZC(i);for(let b=n;b<r-n;b++){const _=t.children[b];L2(u,t.leaf?l(_):_),m+=ZC(u)}for(let b=r-n-1;b>=n;b--){const _=t.children[b];L2(i,t.leaf?l(_):_),m+=ZC(i)}return m}_adjustParentBBoxes(t,n,r){for(let a=r;a>=0;a--)L2(n[a],t)}_condense(t){for(let n=t.length-1,r;n>=0;n--)t[n].children.length===0?n>0?(r=t[n-1].children,r.splice(r.indexOf(t[n]),1)):this.clear():Wx(t[n],this.toBBox)}}function TDe(e,t,n){if(!n)return t.indexOf(e);for(let r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function Wx(e,t){D2(e,0,e.children.length,t,e)}function D2(e,t,n,r,a){a||(a=nE(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let l=t;l<n;l++){const u=e.children[l];L2(a,e.leaf?r(u):u)}return a}function L2(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function CDe(e,t){return e.minX-t.minX}function ADe(e,t){return e.minY-t.minY}function NM(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function ZC(e){return e.maxX-e.minX+(e.maxY-e.minY)}function kDe(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function IDe(e,t){const n=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),l=Math.min(e.maxY,t.maxY);return Math.max(0,a-n)*Math.max(0,l-r)}function RM(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function XC(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function nE(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Vz(e,t,n,r,a){const l=[t,n];for(;l.length;){if(n=l.pop(),t=l.pop(),n-t<=r)continue;const u=t+Math.ceil((n-t)/r/2)*r;wDe(e,u,t,n,a),l.push(t,u,u,n)}}function NDe(e){return P3e(e,(t,n)=>t+RDe(n),0)}function RDe(e){let t=0,n;switch(e.type){case"Polygon":return qz(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=qz(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function qz(e){let t=0;if(e&&e.length>0){t+=Math.abs(Yz(e[0]));for(let n=1;n<e.length;n++)t-=Math.abs(Yz(e[n]))}return t}var MDe=Yu*Yu/2,MM=Math.PI/180;function Yz(e){const t=e.length-1;if(t<=2)return 0;let n=0,r=0;for(;r<t;){const a=e[r],l=e[r+1===t?0:r+1],u=e[r+2>=t?(r+2)%t:r+2],i=a[0]*MM,m=l[1]*MM,b=u[0]*MM;n+=(b-i)*Math.sin(m),r++}return n*MDe}const Z0=11102230246251565e-32,ud=134217729,ODe=(3+8*Z0)*Z0;function OM(e,t,n,r,a){let l,u,i,m,b=t[0],_=r[0],w=0,M=0;_>b==_>-b?(l=b,b=t[++w]):(l=_,_=r[++M]);let P=0;if(w<e&&M<n)for(_>b==_>-b?(u=b+l,i=l-(u-b),b=t[++w]):(u=_+l,i=l-(u-_),_=r[++M]),l=u,i!==0&&(a[P++]=i);w<e&&M<n;)_>b==_>-b?(u=l+b,m=u-l,i=l-(u-m)+(b-m),b=t[++w]):(u=l+_,m=u-l,i=l-(u-m)+(_-m),_=r[++M]),l=u,i!==0&&(a[P++]=i);for(;w<e;)u=l+b,m=u-l,i=l-(u-m)+(b-m),b=t[++w],l=u,i!==0&&(a[P++]=i);for(;M<n;)u=l+_,m=u-l,i=l-(u-m)+(_-m),_=r[++M],l=u,i!==0&&(a[P++]=i);return(l!==0||P===0)&&(a[P++]=l),P}function DDe(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function KT(e){return new Float64Array(e)}const LDe=(3+16*Z0)*Z0,PDe=(2+12*Z0)*Z0,FDe=(9+64*Z0)*Z0*Z0,Zx=KT(4),Wz=KT(8),Zz=KT(12),Xz=KT(16),Kd=KT(4);function BDe(e,t,n,r,a,l,u){let i,m,b,_,w,M,P,j,G,z,q,Y,J,ne,ie,ue,oe,K;const se=e-a,pe=n-a,ve=t-l,Te=r-l;ne=se*Te,M=ud*se,P=M-(M-se),j=se-P,M=ud*Te,G=M-(M-Te),z=Te-G,ie=j*z-(ne-P*G-j*G-P*z),ue=ve*pe,M=ud*ve,P=M-(M-ve),j=ve-P,M=ud*pe,G=M-(M-pe),z=pe-G,oe=j*z-(ue-P*G-j*G-P*z),q=ie-oe,w=ie-q,Zx[0]=ie-(q+w)+(w-oe),Y=ne+q,w=Y-ne,J=ne-(Y-w)+(q-w),q=J-ue,w=J-q,Zx[1]=J-(q+w)+(w-ue),K=Y+q,w=K-Y,Zx[2]=Y-(K-w)+(q-w),Zx[3]=K;let Me=DDe(4,Zx),xe=PDe*u;if(Me>=xe||-Me>=xe||(w=e-se,i=e-(se+w)+(w-a),w=n-pe,b=n-(pe+w)+(w-a),w=t-ve,m=t-(ve+w)+(w-l),w=r-Te,_=r-(Te+w)+(w-l),i===0&&m===0&&b===0&&_===0)||(xe=FDe*u+ODe*Math.abs(Me),Me+=se*_+Te*i-(ve*b+pe*m),Me>=xe||-Me>=xe))return Me;ne=i*Te,M=ud*i,P=M-(M-i),j=i-P,M=ud*Te,G=M-(M-Te),z=Te-G,ie=j*z-(ne-P*G-j*G-P*z),ue=m*pe,M=ud*m,P=M-(M-m),j=m-P,M=ud*pe,G=M-(M-pe),z=pe-G,oe=j*z-(ue-P*G-j*G-P*z),q=ie-oe,w=ie-q,Kd[0]=ie-(q+w)+(w-oe),Y=ne+q,w=Y-ne,J=ne-(Y-w)+(q-w),q=J-ue,w=J-q,Kd[1]=J-(q+w)+(w-ue),K=Y+q,w=K-Y,Kd[2]=Y-(K-w)+(q-w),Kd[3]=K;const Se=OM(4,Zx,4,Kd,Wz);ne=se*_,M=ud*se,P=M-(M-se),j=se-P,M=ud*_,G=M-(M-_),z=_-G,ie=j*z-(ne-P*G-j*G-P*z),ue=ve*b,M=ud*ve,P=M-(M-ve),j=ve-P,M=ud*b,G=M-(M-b),z=b-G,oe=j*z-(ue-P*G-j*G-P*z),q=ie-oe,w=ie-q,Kd[0]=ie-(q+w)+(w-oe),Y=ne+q,w=Y-ne,J=ne-(Y-w)+(q-w),q=J-ue,w=J-q,Kd[1]=J-(q+w)+(w-ue),K=Y+q,w=K-Y,Kd[2]=Y-(K-w)+(q-w),Kd[3]=K;const he=OM(Se,Wz,4,Kd,Zz);ne=i*_,M=ud*i,P=M-(M-i),j=i-P,M=ud*_,G=M-(M-_),z=_-G,ie=j*z-(ne-P*G-j*G-P*z),ue=m*b,M=ud*m,P=M-(M-m),j=m-P,M=ud*b,G=M-(M-b),z=b-G,oe=j*z-(ue-P*G-j*G-P*z),q=ie-oe,w=ie-q,Kd[0]=ie-(q+w)+(w-oe),Y=ne+q,w=Y-ne,J=ne-(Y-w)+(q-w),q=J-ue,w=J-q,Kd[1]=J-(q+w)+(w-ue),K=Y+q,w=K-Y,Kd[2]=Y-(K-w)+(q-w),Kd[3]=K;const we=OM(he,Zz,4,Kd,Xz);return Xz[we-1]}function $De(e,t,n,r,a,l){const u=(t-l)*(n-a),i=(e-a)*(r-l),m=u-i,b=Math.abs(u+i);return Math.abs(m)>=LDe*b?m:-BDe(e,t,n,r,a,l,b)}function jDe(e,t){var n,r,a=0,l,u,i,m,b,_,w,M=e[0],P=e[1],j=t.length;for(n=0;n<j;n++){r=0;var G=t[n],z=G.length-1;if(_=G[0],_[0]!==G[z][0]&&_[1]!==G[z][1])throw new Error("First and last coordinates in a ring must be the same");for(u=_[0]-M,i=_[1]-P,r;r<z;r++){if(w=G[r+1],m=w[0]-M,b=w[1]-P,i===0&&b===0){if(m<=0&&u>=0||u<=0&&m>=0)return 0}else if(b>=0&&i<=0||b<=0&&i>=0){if(l=$De(u,m,i,b,0,0),l===0)return 0;(l>0&&b>0&&i<=0||l<0&&b<=0&&i>0)&&a++}_=w,i=b,u=m}}return a%2!==0}function N1(e,t,n={}){if(!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");const r=Ml(e),a=ZT(t),l=a.type,u=t.bbox;let i=a.coordinates;if(u&&zDe(r,u)===!1)return!1;l==="Polygon"&&(i=[i]);let m=!1;for(var b=0;b<i.length;++b){const _=jDe(r,i[b]);if(_===0)return!n.ignoreBoundary;_&&(m=!0)}return m}function zDe(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function UDe(e,t,n){if(e.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");n===void 0&&(n=1);var r=e.geometry.coordinates,a=[],l={};if(n){for(var u=[],i=0;i<r.length;i++)for(var m=0;m<r[i].length-1;m++)u.push(z(i,m));var b=new Op;b.load(u)}for(var _=0;_<r.length;_++)for(var w=0;w<r[_].length-1;w++)if(n){var M=b.search(z(_,w));M.forEach(function(q){var Y=q.ring,J=q.edge;G(_,w,Y,J)})}else for(var P=0;P<r.length;P++)for(var j=0;j<r[P].length-1;j++)G(_,w,P,j);return t||(a={type:"Feature",geometry:{type:"MultiPoint",coordinates:a}}),a;function G(q,Y,J,ne){var ie=r[q][Y],ue=r[q][Y+1],oe=r[J][ne],K=r[J][ne+1],se=GDe(ie,ue,oe,K);if(se!==null){var pe,ve;if(ue[0]!==ie[0]?pe=(se[0]-ie[0])/(ue[0]-ie[0]):pe=(se[1]-ie[1])/(ue[1]-ie[1]),K[0]!==oe[0]?ve=(se[0]-oe[0])/(K[0]-oe[0]):ve=(se[1]-oe[1])/(K[1]-oe[1]),!(pe>=1||pe<=0||ve>=1||ve<=0)){var Te=se,Me=!l[Te];Me&&(l[Te]=!0),t?a.push(t(se,q,Y,ie,ue,pe,J,ne,oe,K,ve,Me)):a.push(se)}}}function z(q,Y){var J=r[q][Y],ne=r[q][Y+1],ie,ue,oe,K;return J[0]<ne[0]?(ie=J[0],ue=ne[0]):(ie=ne[0],ue=J[0]),J[1]<ne[1]?(oe=J[1],K=ne[1]):(oe=ne[1],K=J[1]),{minX:ie,minY:oe,maxX:ue,maxY:K,ring:q,edge:Y}}}function GDe(e,t,n,r){if(P2(e,n)||P2(e,r)||P2(t,n)||P2(r,n))return null;var a=e[0],l=e[1],u=t[0],i=t[1],m=n[0],b=n[1],_=r[0],w=r[1],M=(a-u)*(b-w)-(l-i)*(m-_);if(M===0)return null;var P=((a*i-l*u)*(m-_)-(a-u)*(m*w-b*_))/M,j=((a*i-l*u)*(b-w)-(l-i)*(m*w-b*_))/M;return[P,j]}function P2(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!P2(e[n],t[n]))return!1}else if(e[n]!==t[n])return!1;return!0}function HDe(e){if(e.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(e.geometry===void 0||e.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(e.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var t=e.geometry.coordinates.length,n=[],r=0;r<t;r++){var a=e.geometry.coordinates[r];F2(a[0],a[a.length-1])||a.push(a[0]);for(var l=0;l<a.length-1;l++)n.push(a[l])}if(!qDe(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var u=n.length,i=UDe(e,function(Ze,Qe,Pe,St,Nt,We,en,zt,rn,Ge,kn,_n){return[Ze,Qe,Pe,St,Nt,We,en,zt,rn,Ge,kn,_n]}),m=i.length;if(m==0){for(var b=[],r=0;r<t;r++)b.push($b([e.geometry.coordinates[r]],{parent:-1,winding:VDe(e.geometry.coordinates[r])}));var Be=Wl(b);return He(),Re(),Be}for(var _=[],w=[],r=0;r<t;r++){_.push([]);for(var l=0;l<e.geometry.coordinates[r].length-1;l++)_[r].push([new Kz(e.geometry.coordinates[r][cE(l+1,e.geometry.coordinates[r].length-1)],1,[r,l],[r,cE(l+1,e.geometry.coordinates[r].length-1)],void 0)]),w.push(new Qz(e.geometry.coordinates[r][l],[r,cE(l-1,e.geometry.coordinates[r].length-1)],[r,l],void 0,void 0,!1,!0))}for(var r=0;r<m;r++)_[i[r][1]][i[r][2]].push(new Kz(i[r][0],i[r][5],[i[r][1],i[r][2]],[i[r][6],i[r][7]],void 0)),i[r][11]&&w.push(new Qz(i[r][0],[i[r][1],i[r][2]],[i[r][6],i[r][7]],void 0,void 0,!0,!0));for(var M=w.length,r=0;r<_.length;r++)for(var l=0;l<_[r].length;l++)_[r][l].sort(function(Pe,St){return Pe.param<St.param?-1:1});for(var P=[],r=0;r<M;r++)P.push({minX:w[r].coord[0],minY:w[r].coord[1],maxX:w[r].coord[0],maxY:w[r].coord[1],index:r});var j=new Op;j.load(P);for(var r=0;r<_.length;r++)for(var l=0;l<_[r].length;l++)for(var G=0;G<_[r][l].length;G++){var z;G==_[r][l].length-1?z=_[r][cE(l+1,e.geometry.coordinates[r].length-1)][0].coord:z=_[r][l][G+1].coord;var q=j.search({minX:z[0],minY:z[1],maxX:z[0],maxY:z[1]})[0];_[r][l][G].nxtIsectAlongEdgeIn=q.index}for(var r=0;r<_.length;r++)for(var l=0;l<_[r].length;l++)for(var G=0;G<_[r][l].length;G++){var z=_[r][l][G].coord,q=j.search({minX:z[0],minY:z[1],maxX:z[0],maxY:z[1]})[0],Y=q.index;Y<u?w[Y].nxtIsectAlongRingAndEdge2=_[r][l][G].nxtIsectAlongEdgeIn:F2(w[Y].ringAndEdge1,_[r][l][G].ringAndEdgeIn)?w[Y].nxtIsectAlongRingAndEdge1=_[r][l][G].nxtIsectAlongEdgeIn:w[Y].nxtIsectAlongRingAndEdge2=_[r][l][G].nxtIsectAlongEdgeIn}for(var J=[],r=0,l=0;l<t;l++){for(var ne=r,G=0;G<e.geometry.coordinates[l].length-1;G++)w[r].coord[0]<w[ne].coord[0]&&(ne=r),r++;for(var ie=w[ne].nxtIsectAlongRingAndEdge2,G=0;G<w.length;G++)if(w[G].nxtIsectAlongRingAndEdge1==ne||w[G].nxtIsectAlongRingAndEdge2==ne){var ue=G;break}var oe=BA([w[ue].coord,w[ne].coord,w[ie].coord],!0)?1:-1;J.push({isect:ne,parent:-1,winding:oe})}J.sort(function(Ze,Qe){return w[Ze.isect].coord>w[Qe.isect].coord?-1:1});for(var b=[];J.length>0;){var K=J.pop(),se=K.isect,pe=K.parent,ve=K.winding,Te=b.length,Me=[w[se].coord],xe=se;if(w[se].ringAndEdge1Walkable)var Se=w[se].ringAndEdge1,he=w[se].nxtIsectAlongRingAndEdge1;else var Se=w[se].ringAndEdge2,he=w[se].nxtIsectAlongRingAndEdge2;for(;!F2(w[se].coord,w[he].coord);){Me.push(w[he].coord);for(var we=void 0,r=0;r<J.length;r++)if(J[r].isect==he){we=r;break}if(we!=null&&J.splice(we,1),F2(Se,w[he].ringAndEdge1)){if(Se=w[he].ringAndEdge2,w[he].ringAndEdge2Walkable=!1,w[he].ringAndEdge1Walkable){var _e={isect:he};BA([w[xe].coord,w[he].coord,w[w[he].nxtIsectAlongRingAndEdge2].coord],ve==1)?(_e.parent=pe,_e.winding=-ve):(_e.parent=Te,_e.winding=ve),J.push(_e)}xe=he,he=w[he].nxtIsectAlongRingAndEdge2}else{if(Se=w[he].ringAndEdge1,w[he].ringAndEdge1Walkable=!1,w[he].ringAndEdge2Walkable){var _e={isect:he};BA([w[xe].coord,w[he].coord,w[w[he].nxtIsectAlongRingAndEdge1].coord],ve==1)?(_e.parent=pe,_e.winding=-ve):(_e.parent=Te,_e.winding=ve),J.push(_e)}xe=he,he=w[he].nxtIsectAlongRingAndEdge1}}Me.push(w[he].coord),b.push($b([Me],{index:Te,parent:pe,winding:ve,netWinding:void 0}))}var Be=Wl(b);He(),Re();function He(){for(var Ze=[],Qe=0;Qe<Be.features.length;Qe++)Be.features[Qe].properties.parent==-1&&Ze.push(Qe);if(Ze.length>1)for(var Qe=0;Qe<Ze.length;Qe++){for(var Pe=-1,St=1/0,Nt=0;Nt<Be.features.length;Nt++)Ze[Qe]!=Nt&&N1(Be.features[Ze[Qe]].geometry.coordinates[0][0],Be.features[Nt],{ignoreBoundary:!0})&&NDe(Be.features[Nt])<St&&(Pe=Nt);Be.features[Ze[Qe]].properties.parent=Pe}}function Re(){for(var Ze=0;Ze<Be.features.length;Ze++)if(Be.features[Ze].properties.parent==-1){var Qe=Be.features[Ze].properties.winding;Be.features[Ze].properties.netWinding=Qe,je(Ze,Qe)}}function je(Ze,Qe){for(var Pe=0;Pe<Be.features.length;Pe++)if(Be.features[Pe].properties.parent==Ze){var St=Qe+Be.features[Pe].properties.winding;Be.features[Pe].properties.netWinding=St,je(Pe,St)}}return Be}var Kz=function(e,t,n,r,a){this.coord=e,this.param=t,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=a},Qz=function(e,t,n,r,a,l,u){this.coord=e,this.ringAndEdge1=t,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=a,this.ringAndEdge1Walkable=l,this.ringAndEdge2Walkable=u};function BA(e,t){if(typeof t>"u"&&(t=!0),e.length!=3)throw new Error("This function requires an array of three points [x,y]");var n=(e[1][0]-e[0][0])*(e[2][1]-e[0][1])-(e[1][1]-e[0][1])*(e[2][0]-e[0][0]);return n>=0==t}function VDe(e){for(var t=0,n=0;n<e.length-1;n++)e[n][0]<e[t][0]&&(t=n);if(BA([e[cE(t-1,e.length-1)],e[t],e[cE(t+1,e.length-1)]],!0))var r=1;else var r=-1;return r}function F2(e,t){if(!e||!t||e.length!=t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!F2(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function cE(e,t){return(e%t+t)%t}function qDe(e){for(var t={},n=1,r=0,a=e.length;r<a;++r){if(Object.prototype.hasOwnProperty.call(t,e[r])){n=0;break}t[e[r]]=1}return n}function YDe(e){var t=[];return zb(e,function(n){n.geometry.type==="Polygon"&&Py(HDe(n),function(r){t.push($b(r.geometry.coordinates,n.properties))})}),Wl(t)}var WDe=YDe;class ZDe extends mv{mode="polygon";shape="polygon";lineDrawer=new jF(this.gm,{snappingMarkers:"first",targetShape:"polygon"});eventHandlers={[`${gr}:draw`]:this.forwardLineDrawerEvent.bind(this),mousemove:this.onMouseMove.bind(this)};onEndAction(){this.lineDrawer.endAction()}onStartAction(){this.lineDrawer.startAction(),this.lineDrawer.on("firstMarkerClick",this.polygonFinished.bind(this))}onMouseMove(t){return gl(t)?(this.lineDrawer.featureData||this.fireMarkerPointerUpdateEvent(),{next:!0}):{next:!0}}polygonFinished(t){if(this.lineDrawer.endShape(),t.shapeCoordinates.length<3)return;const n=this.fixShapeGeoJson($F(t.geoJson));n&&this.gm.features.createFeature({shapeGeoJson:{...n,properties:{shape:this.shape}},sourceName:Kn.main})}fixShapeGeoJson(t){try{return V3e(EDe(WDe(t))).features[0]}catch{return null}}}class XDe extends mv{mode="rectangle";shape="rectangle";startLngLat=null;eventHandlers={mousemove:this.onMouseMove.bind(this),click:this.onMouseClick.bind(this)};throttledMethods=rx({updateFeaturePosition:this.updateFeaturePosition},this,this.gm.options.settings.throttlingDelay);onStartAction(){this.gm.markerPointer.enable()}onEndAction(){this.removeTmpFeature(),this.startLngLat=null,this.gm.markerPointer.disable(),this.fireFinishEvent()}onMouseClick(t){if(!gl(t,{warning:!0}))return{next:!1};const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();if(this.startLngLat){const r=this.getFeatureGeoJson(tE(this.startLngLat,n));this.fireBeforeFeatureCreate({geoJsonFeatures:[r]}),this.flags.featureCreateAllowed&&this.finishShape(n)}else{const r=this.getFeatureGeoJson(tE(n,n));if(this.fireBeforeFeatureCreate({geoJsonFeatures:[r]}),this.flags.featureCreateAllowed){const a=this.startShape(n);if(a){const l=this.getControlMarkerData(["geometry","coordinates",4]);this.fireStartEvent(a,l)}}}return{next:!1}}onMouseMove(t){if(!gl(t,{warning:!0}))return{next:!1};if(!this.startLngLat)return this.fireMarkerPointerUpdateEvent(),{next:!1};const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray(),r=tE(this.startLngLat,n),a=this.getFeatureGeoJson(r);return this.fireBeforeFeatureCreate({geoJsonFeatures:[a]}),this.flags.featureCreateAllowed&&this.throttledMethods.updateFeaturePosition(r),{next:!1}}startShape(t){this.startLngLat=t;const n=tE(this.startLngLat,this.startLngLat);return this.featureData=this.createFeature(n),this.featureData}finishShape(t){if(this.startLngLat){const n=tE(this.startLngLat,t);this.throttledMethods.updateFeaturePosition(n)}this.featureData&&(this.isFeatureGeoJsonValid()?this.saveFeature():this.removeTmpFeature()),this.startLngLat=null,this.fireFinishEvent()}createFeature(t){return this.gm.features.createFeature({shapeGeoJson:this.getFeatureGeoJson(t),sourceName:Kn.temporary})}isFeatureGeoJsonValid(){return this.featureData?OF(this.featureData.getGeoJson()):!1}getFeatureGeoJson(t){return{...gD([t[0],t[1]],[t[2],t[3]]),properties:{shape:this.shape}}}updateFeaturePosition(t){if(!this.featureData)return;const n=gD([t[0],t[1]],[t[2],t[3]]);this.featureData.updateGeoJsonGeometry(n.geometry);const r=this.getControlMarkerData(["geometry","coordinates",4]);this.fireUpdateEvent(this.featureData,r)}getControlMarkerData(t){const n=this.gm.markerPointer.marker;return n?{type:"dom",instance:n,position:{coordinate:n.getLngLat(),path:t}}:null}fireStartEvent(t,n){const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"start",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireUpdateEvent(t,n){const r={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"update",featureData:t,markerData:n};this.gm.events.fire(`${gr}:draw`,r)}fireFinishEvent(){const t={name:`${gr}:draw:shape`,level:"system",actionType:"draw",mode:this.shape,variant:null,action:"finish"};this.gm.events.fire(`${gr}:draw`,t)}}class KDe extends mv{mode="text_marker";shape="text_marker";textarea=null;eventHandlers={click:this.onMouseClick.bind(this),mousemove:this.onMouseMove.bind(this)};onStartAction(){this.gm.markerPointer.enable({invisibleMarker:!0})}onEndAction(){this.removeTextarea(),this.removeTmpFeature(),this.featureData=null,this.gm.markerPointer.disable(),this.fireMarkerPointerFinishEvent()}onMouseMove(t){return gl(t,{warning:!0})?(this.fireMarkerPointerUpdateEvent(),{next:!0}):{next:!0}}onMouseClick(t){if(!gl(t,{warning:!0}))return{next:!0};if(this.textarea)this.endShape(),this.gm.markerPointer.enable({invisibleMarker:!0,lngLat:t.lngLat.toArray()}),this.fireMarkerPointerUpdateEvent();else{const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getFeatureGeoJson(n)]}),this.flags.featureCreateAllowed&&(this.featureData=this.createFeature(n),this.gm.markerPointer.disable(),this.fireMarkerPointerFinishEvent())}return{next:!1}}createFeature(t){const n=this.gm.mapAdapter.project(t);return this.createTextarea(n),this.gm.features.createFeature({shapeGeoJson:this.getFeatureGeoJson(t),sourceName:Kn.temporary})}endShape(){const t=this.textarea?.value||"";this.removeTextarea(),t.trim()?(this.updateFeatureSource(t),this.saveFeature()):this.removeTmpFeature()}createTextarea(t){this.textarea=document.createElement("textarea"),this.textarea.style.position="absolute",this.textarea.style.left=`${t[0]}px`,this.textarea.style.top=`${t[1]}px`,this.textarea.style.opacity="0.7",this.gm.mapAdapter.getContainer().appendChild(this.textarea),this.textarea.focus()}removeTextarea(){this.textarea?.remove(),this.textarea=null}getFeatureGeoJson(t){return{type:"Feature",properties:{shape:this.shape,text:""},geometry:{type:"Point",coordinates:t}}}updateFeatureSource(t){this.featureData&&this.featureData._updateAllProperties({shape:this.shape,text:t})}}class QDe extends BF{mode="ellipse";shape="ellipse";xSemiAxisPoint=null;xSemiAxisLngLat=null;throttledMethods=rx({updateFeatureGeoJson:this.updateFeatureGeoJson},this,this.gm.options.settings.throttlingDelay);onMouseClick(t){if(!gl(t))return{next:!0};const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();if(this.circleCenterLngLat&&this.xSemiAxisLngLat)this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getEllipseGeoJson(this.circleCenterLngLat,this.xSemiAxisLngLat,n)]}),this.flags.featureCreateAllowed&&(this.saveEllipseFeature(n),this.circleCenterLngLat=null,this.circleCenterPoint=null,this.xSemiAxisPoint=null,this.xSemiAxisLngLat=null,this.fireFinishEvent());else if(this.circleCenterLngLat)this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getEllipseGeoJson(this.circleCenterLngLat,n)]}),this.flags.featureCreateAllowed&&(this.xSemiAxisLngLat=n,this.xSemiAxisPoint=this.gm.mapAdapter.project(this.circleCenterLngLat));else if(this.fireBeforeFeatureCreate({geoJsonFeatures:[this.getFeatureGeoJson(n)]}),this.flags.featureCreateAllowed){this.circleCenterLngLat=n,this.circleCenterPoint=this.gm.mapAdapter.project(this.circleCenterLngLat),this.featureData=this.createFeature();const r=this.getControlMarkerData();this.featureData&&r&&this.fireStartEvent(this.featureData,r)}return{next:!1}}onMouseMove(){if(this.circleCenterLngLat&&this.gm.markerPointer.marker){const t=this.gm.markerPointer.marker.getLngLat();this.fireBeforeFeatureCreate({geoJsonFeatures:[this.xSemiAxisLngLat?this.getEllipseGeoJson(this.circleCenterLngLat,this.xSemiAxisLngLat,t):this.getEllipseGeoJson(this.circleCenterLngLat,t)]}),this.flags.featureCreateAllowed&&this.throttledMethods.updateFeatureGeoJson(t)}return this.circleCenterLngLat||this.fireMarkerPointerUpdateEvent(),{next:!1}}updateFeatureGeoJson(t){if(!this.featureData||!this.circleCenterLngLat)return;const n=this.xSemiAxisLngLat?this.getEllipseGeoJson(this.circleCenterLngLat,this.xSemiAxisLngLat,t):this.getEllipseGeoJson(this.circleCenterLngLat,t);this.featureData.updateGeoJsonGeometry(n.geometry),this.featureData._updateAllProperties({shape:n.properties.shape});const r=this.getControlMarkerData();r&&this.fireUpdateEvent(this.featureData,r)}saveEllipseFeature(t){if(!(!this.circleCenterLngLat||!this.xSemiAxisLngLat)&&this.featureData){const n=this.gm.markerPointer.marker?.getLngLat()||t;this.updateFeatureGeoJson(n);const{xSemiAxis:r,ySemiAxis:a,angle:l}=zz({center:this.circleCenterLngLat,xSemiAxisLngLat:this.xSemiAxisLngLat,rimLngLat:n});this.featureData.setShapeProperty("center",this.circleCenterLngLat),this.featureData.setShapeProperty("xSemiAxis",r),this.featureData.setShapeProperty("ySemiAxis",a),this.featureData.setShapeProperty("angle",l),this.isFeatureGeoJsonValid()?this.saveFeature():this.removeTmpFeature()}}isFeatureGeoJsonValid(){return this.featureData?OF(this.featureData.getGeoJson()):!1}getEllipseGeoJson(t,n,r){const{xSemiAxis:a,ySemiAxis:l,angle:u}=zz({center:t,xSemiAxisLngLat:n,rimLngLat:r});return FN({center:t,xSemiAxis:a,ySemiAxis:l,angle:u})}}const vD={marker:_De,ellipse:QDe,circle:pDe,circle_marker:sDe,text_marker:KDe,line:bDe,rectangle:XDe,polygon:ZDe,freehand:null,custom_shape:null},JDe=(e,t)=>vD[t]?new vD[t](e):(rr.error(`Draw "${t}" is not available`),null),Rw=e=>av(e)&&e.actionType==="edit",eLe=e=>N3e.includes(e),tLe=e=>VQ.includes(e),nLe=e=>YQ.includes(e),rLe=e=>qQ.includes(e),aLe=e=>tLe(e)||nLe(e)||rLe(e);class iLe extends ON{eventHandlers={[`${gr}:draw`]:this.handleDrawEvent.bind(this)};constructor(t,n){super(t),n.attachEvents(this.eventHandlers)}handleDrawEvent(t){if(!FF(t))return{next:!0};const n=`${t.actionType}__${t.mode}`;return t.action==="mode_start"?(this.trackExclusiveModes(t),this.start(n,t),this.trackRelatedModes(t)):t.action==="mode_end"&&(this.trackRelatedModes(t),this.end(n)),{next:!0}}start(t,n){const r=JDe(this.gm,n.mode);r&&(t in this.gm.actionInstances&&rr.error(`Action instance "${t}" already exists`),this.gm.actionInstances[t]=r,r.startAction())}end(t){const n=this.gm.actionInstances[t];n instanceof mv?(n.endAction(),delete this.gm.actionInstances[t]):console.error(`Wrong action instance for draw event "${t}":`,n)}}class QT extends PF{actionType="edit";featureData=null;cursorExcludedLayerIds=["rectangle-line","polygon-line","circle-line"];layerEventHandlersData=[];startAction(){this.setEventsForLayers("mouseenter",this.setCursorToPointer.bind(this)),this.setEventsForLayers("mouseleave",this.setCursorToEmpty.bind(this)),super.startAction()}endAction(){this.clearEventsForLayers(),super.endAction()}setCursorToPointer(){this.flags.actionInProgress||this.gm.mapAdapter.setCursor("pointer")}setCursorToEmpty(){this.flags.actionInProgress||this.gm.mapAdapter.setCursor("")}getFeatureByMouseEvent({event:t,sourceNames:n}){const r=this.gm.features.getFeatureByMouseEvent({event:t,sourceNames:n});return!r||r.getShapeProperty("disableEdit")===!0?null:r}setEventsForLayers(t,n){this.gm.features.layers.map(r=>r.id).filter(r=>!this.cursorExcludedLayerIds.some(a=>r.includes(a))).forEach(r=>{this.gm.mapAdapter.on(t,r,n),this.layerEventHandlersData.push({eventName:t,layerId:r,callback:n})})}clearEventsForLayers(){this.layerEventHandlersData.forEach(({eventName:t,layerId:n,callback:r})=>{this.gm.mapAdapter.off(t,n,r)}),this.layerEventHandlersData=[]}updateFeatureGeoJson({featureData:t,featureGeoJson:n,forceMode:r=void 0}){return this.flags.featureUpdateAllowed?(t.updateGeoJsonGeometry(n.geometry),Cw(t.getGeoJson().properties,n.properties)||t._updateAllProperties(n.properties),this.fireFeatureUpdatedEvent({sourceFeatures:[t],targetFeatures:[t],forceMode:r}),!0):!1}fireBeforeFeatureUpdate({features:t,geoJsonFeatures:n,forceMode:r=void 0}){this.flags.featureUpdateAllowed=!0;const a={name:`${gr}:feature:before_update`,level:"system",actionType:"edit",mode:r||this.mode,action:"before_update",features:t,geoJsonFeatures:n};this.gm.events.fire(`${gr}:${this.actionType}`,a)}fireFeatureUpdatedEvent({sourceFeatures:t,targetFeatures:n,markerData:r=void 0,forceMode:a=void 0}){const l={name:`${gr}:edit:feature_updated`,level:"system",actionType:"edit",action:"feature_updated",mode:a||this.mode,sourceFeatures:t,targetFeatures:n,markerData:r||null};this.gm.events.fire(`${gr}:edit`,l)}fireFeatureEditStartEvent({feature:t,forceMode:n=void 0}){const r={name:`${gr}:edit:feature_edit_start`,level:"system",actionType:"edit",action:"feature_edit_start",mode:n||this.mode,feature:t};this.gm.events.fire(`${gr}:edit`,r)}fireFeatureEditEndEvent({feature:t,forceMode:n=void 0}){const r={name:`${gr}:edit:feature_edit_end`,level:"system",actionType:"edit",action:"feature_edit_end",mode:n||this.mode,feature:t};this.gm.events.fire(`${gr}:edit`,r)}fireMarkerPointerUpdateEvent(){if(!this.gm.markerPointer.marker)return;const t=this.gm.markerPointer.marker,n={name:`${gr}:draw:shape_with_data`,level:"system",variant:null,actionType:"draw",mode:this.getLineDrawerMode(),action:"update",markerData:{type:"dom",instance:t,position:{coordinate:t.getLngLat(),path:[-1]}},featureData:null};this.gm.events.fire(`${gr}:draw`,n)}forwardLineDrawerEvent(t){if(!hJ(t)||!["cut","split"].includes(this.mode))return{next:!0};if(t.action==="start"||t.action==="update"){const n={name:`${gr}:draw:shape_with_data`,level:"system",actionType:"draw",mode:this.getLineDrawerMode(),variant:null,action:t.action,featureData:t.featureData,markerData:t.markerData};this.gm.events.fire(`${gr}:draw`,n)}else if(t.action==="finish"||t.action==="cancel"){const n={name:`${gr}:draw:shape`,level:"system",actionType:"draw",mode:this.getLineDrawerMode(),variant:null,action:t.action};this.gm.events.fire(`${gr}:draw`,n)}return{next:!0}}fireFeatureRemovedEvent(t){if(Rb(t.shape,V0)){const n={name:`${gr}:edit:feature_removed`,level:"system",actionType:"edit",mode:t.shape,action:"feature_removed",featureData:t};this.gm.events.fire(`${gr}:edit`,n)}}getLineDrawerMode(){return this.mode==="cut"?"polygon":(this.mode,"line")}}function oLe(e,t={}){const n=D0(e),r=(n[0]+n[2])/2,a=(n[1]+n[3])/2;return Km([r,a],t.properties,t)}var bD={exports:{}},sLe=bD.exports,Jz;function lLe(){return Jz||(Jz=1,(function(e,t){(function(n,r){e.exports=r()})(sLe,(function(){function n(R,p){(p==null||p>R.length)&&(p=R.length);for(var v=0,A=Array(p);v<p;v++)A[v]=R[v];return A}function r(R,p,v){return p=_(p),(function(A,H){if(H&&(typeof H=="object"||typeof H=="function"))return H;if(H!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(te){if(te===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return te})(A)})(R,M()?Reflect.construct(p,v||[],_(R).constructor):p.apply(R,v))}function a(R,p){if(!(R instanceof p))throw new TypeError("Cannot call a class as a function")}function l(R,p,v){if(M())return Reflect.construct.apply(null,arguments);var A=[null];A.push.apply(A,p);var H=new(R.bind.apply(R,A));return v&&P(H,v.prototype),H}function u(R,p){for(var v=0;v<p.length;v++){var A=p[v];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(R,z(A.key),A)}}function i(R,p,v){return p&&u(R.prototype,p),v&&u(R,v),Object.defineProperty(R,"prototype",{writable:!1}),R}function m(R,p){var v=typeof Symbol<"u"&&R[Symbol.iterator]||R["@@iterator"];if(!v){if(Array.isArray(R)||(v=q(R))||p){v&&(R=v);var A=0,H=function(){};return{s:H,n:function(){return A>=R.length?{done:!0}:{done:!1,value:R[A++]}},e:function(Ue){throw Ue},f:H}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,me=!0,Ie=!1;return{s:function(){v=v.call(R)},n:function(){var Ue=v.next();return me=Ue.done,Ue},e:function(Ue){Ie=!0,te=Ue},f:function(){try{me||v.return==null||v.return()}finally{if(Ie)throw te}}}}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(R,p,v){var A=(function(te,me){for(;!{}.hasOwnProperty.call(te,me)&&(te=_(te))!==null;);return te})(R,p);if(A){var H=Object.getOwnPropertyDescriptor(A,p);return H.get?H.get.call(arguments.length<3?R:v):H.value}},b.apply(null,arguments)}function _(R){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},_(R)}function w(R,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(p&&p.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),p&&P(R,p)}function M(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(M=function(){return!!R})()}function P(R,p){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,A){return v.__proto__=A,v},P(R,p)}function j(R,p,v,A){var H=b(_(1&A?R.prototype:R),p,v);return 2&A&&typeof H=="function"?function(te){return H.apply(v,te)}:H}function G(R){return(function(p){if(Array.isArray(p))return n(p)})(R)||(function(p){if(typeof Symbol<"u"&&p[Symbol.iterator]!=null||p["@@iterator"]!=null)return Array.from(p)})(R)||q(R)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function z(R){var p=(function(v,A){if(typeof v!="object"||!v)return v;var H=v[Symbol.toPrimitive];if(H!==void 0){var te=H.call(v,A);if(typeof te!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)})(R,"string");return typeof p=="symbol"?p:p+""}function q(R,p){if(R){if(typeof R=="string")return n(R,p);var v={}.toString.call(R).slice(8,-1);return v==="Object"&&R.constructor&&(v=R.constructor.name),v==="Map"||v==="Set"?Array.from(R):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?n(R,p):void 0}}function Y(R){var p=typeof Map=="function"?new Map:void 0;return Y=function(v){if(v===null||!(function(H){try{return Function.toString.call(H).indexOf("[native code]")!==-1}catch{return typeof H=="function"}})(v))return v;if(typeof v!="function")throw new TypeError("Super expression must either be null or a function");if(p!==void 0){if(p.has(v))return p.get(v);p.set(v,A)}function A(){return l(v,arguments,_(this).constructor)}return A.prototype=Object.create(v.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),P(A,v)},Y(R)}var J=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(p){this._quadrantSegments=p,this._quadrantSegments===0&&(this._joinStyle=R.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=R.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),p<=0&&(this._quadrantSegments=1),this._joinStyle!==R.JOIN_ROUND&&(this._quadrantSegments=R.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(p){this._joinStyle=p}},{key:"setSimplifyFactor",value:function(p){this._simplifyFactor=p<0?0:p}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(p){this._endCapStyle=p}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(p){this._mitreLimit=p}},{key:"setSingleSided",value:function(p){this._isSingleSided=p}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=R.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=R.CAP_ROUND,this._joinStyle=R.JOIN_ROUND,this._mitreLimit=R.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=R.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var p=arguments[0];this.setQuadrantSegments(p)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this.setQuadrantSegments(v),this.setEndCapStyle(A)}else if(arguments.length===4){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3];this.setQuadrantSegments(H),this.setEndCapStyle(te),this.setJoinStyle(me),this.setMitreLimit(Ie)}}}},{key:"bufferDistanceError",value:function(p){var v=Math.PI/2/p;return 1-Math.cos(v/2)}}])})();J.CAP_ROUND=1,J.CAP_FLAT=2,J.CAP_SQUARE=3,J.JOIN_ROUND=1,J.JOIN_MITRE=2,J.JOIN_BEVEL=3,J.DEFAULT_QUADRANT_SEGMENTS=8,J.DEFAULT_MITRE_LIMIT=5,J.DEFAULT_SIMPLIFY_FACTOR=.01;var ne=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({Exception:p})[0],A}return w(p,R),i(p,[{key:"toString",value:function(){return this.message}}])})(Y(Error)),ie=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({IllegalArgumentException:p})[0],A}return w(p,R),i(p)})(ne),ue=(function(){return i((function R(){a(this,R)}),[{key:"filter",value:function(R){}}])})();function oe(){}function K(){}function se(){}var pe,ve,Te,Me,xe,Se,he,we,_e=(function(){return i((function R(){a(this,R)}),null,[{key:"equalsWithTolerance",value:function(R,p,v){return Math.abs(R-p)<=v}}])})(),Be=(function(){return i((function R(p,v){a(this,R),this.low=v||0,this.high=p||0}),null,[{key:"toBinaryString",value:function(R){var p,v="";for(p=2147483648;p>0;p>>>=1)v+=(R.high&p)===p?"1":"0";for(p=2147483648;p>0;p>>>=1)v+=(R.low&p)===p?"1":"0";return v}}])})();function He(){}function Re(){}He.NaN=NaN,He.isNaN=function(R){return Number.isNaN(R)},He.isInfinite=function(R){return!Number.isFinite(R)},He.MAX_VALUE=Number.MAX_VALUE,He.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,He.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(Se=2146435072,he=new Float64Array(1),we=new Int32Array(he.buffer),He.doubleToLongBits=function(R){he[0]=R;var p=0|we[0],v=0|we[1];return(v&Se)===Se&&1048575&v&&p!==0&&(p=0,v=2146959360),new Be(v,p)},He.longBitsToDouble=function(R){return we[0]=R.low,we[1]=R.high,he[0]}):(pe=1023,ve=Math.log2,Te=Math.floor,Me=Math.pow,xe=(function(){for(var R=53;R>0;R--){var p=Me(2,R)-1;if(Te(ve(p))+1===R)return p}return 0})(),He.doubleToLongBits=function(R){var p,v,A,H,te,me,Ie,Ue,ot;if(R<0||1/R===Number.NEGATIVE_INFINITY?(me=1<<31,R=-R):me=0,R===0)return new Be(Ue=me,ot=0);if(R===1/0)return new Be(Ue=2146435072|me,ot=0);if(R!=R)return new Be(Ue=2146959360,ot=0);if(H=0,ot=0,(p=Te(R))>1)if(p<=xe)(H=Te(ve(p)))<=20?(ot=0,Ue=p<<20-H&1048575):(ot=p%(v=Me(2,A=H-20))<<32-A,Ue=p/v&1048575);else for(A=p,ot=0;(A=Te(v=A/2))!==0;)H++,ot>>>=1,ot|=(1&Ue)<<31,Ue>>>=1,v!==A&&(Ue|=524288);if(Ie=H+pe,te=p===0,p=R-p,H<52&&p!==0)for(A=0;;){if((v=2*p)>=1?(p=v-1,te?(Ie--,te=!1):(A<<=1,A|=1,H++)):(p=v,te?--Ie==0&&(H++,te=!1):(A<<=1,H++)),H===20)Ue|=A,A=0;else if(H===52){ot|=A;break}if(v===1){H<20?Ue|=A<<20-H:H<52&&(ot|=A<<52-H);break}}return Ue|=Ie<<20,new Be(Ue|=me,ot)},He.longBitsToDouble=function(R){var p,v,A,H,te=R.high,me=R.low,Ie=te&1<<31?-1:1;for(A=((2146435072&te)>>20)-pe,H=0,v=1<<19,p=1;p<=20;p++)te&v&&(H+=Me(2,-p)),v>>>=1;for(v=1<<31,p=21;p<=52;p++)me&v&&(H+=Me(2,-p)),v>>>=1;if(A===-1023){if(H===0)return 0*Ie;A=-1022}else{if(A===1024)return H===0?Ie/0:NaN;H+=1}return Ie*H*Me(2,A)});var je=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({RuntimeException:p})[0],A}return w(p,R),i(p)})(ne),Ze=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,null,[{key:"constructor_",value:function(){if(arguments.length===0)je.constructor_.call(this);else if(arguments.length===1){var v=arguments[0];je.constructor_.call(this,v)}}}])})(je),Qe=(function(){function R(){a(this,R)}return i(R,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)R.shouldNeverReachHere(null);else if(arguments.length===1){var p=arguments[0];throw new Ze("Should never reach here"+(p!==null?": "+p:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var p=arguments[0];R.isTrue(p,null)}else if(arguments.length===2){var v=arguments[1];if(!arguments[0])throw v===null?new Ze:new Ze(v)}}},{key:"equals",value:function(){if(arguments.length===2){var p=arguments[0],v=arguments[1];R.equals(p,v,null)}else if(arguments.length===3){var A=arguments[0],H=arguments[1],te=arguments[2];if(!H.equals(A))throw new Ze("Expected "+A+" but encountered "+H+(te!==null?": "+te:""))}}}])})(),Pe=new ArrayBuffer(8),St=new Float64Array(Pe),Nt=new Int32Array(Pe),We=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getM",value:function(){return He.NaN}},{key:"setOrdinate",value:function(p,v){switch(p){case R.X:this.x=v;break;case R.Y:this.y=v;break;case R.Z:this.setZ(v);break;default:throw new ie("Invalid ordinate index: "+p)}}},{key:"equals2D",value:function(){if(arguments.length===1){var p=arguments[0];return this.x===p.x&&this.y===p.y}if(arguments.length===2){var v=arguments[0],A=arguments[1];return!!_e.equalsWithTolerance(this.x,v.x,A)&&!!_e.equalsWithTolerance(this.y,v.y,A)}}},{key:"setM",value:function(p){throw new ie("Invalid ordinate index: "+R.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(p){switch(p){case R.X:return this.x;case R.Y:return this.y;case R.Z:return this.getZ()}throw new ie("Invalid ordinate index: "+p)}},{key:"equals3D",value:function(p){return this.x===p.x&&this.y===p.y&&(this.getZ()===p.getZ()||He.isNaN(this.getZ())&&He.isNaN(p.getZ()))}},{key:"equals",value:function(p){return p instanceof R&&this.equals2D(p)}},{key:"equalInZ",value:function(p,v){return _e.equalsWithTolerance(this.getZ(),p.getZ(),v)}},{key:"setX",value:function(p){this.x=p}},{key:"compareTo",value:function(p){var v=p;return this.x<v.x?-1:this.x>v.x?1:this.y<v.y?-1:this.y>v.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(p){this.z=p}},{key:"clone",value:function(){try{return null}catch(p){if(p instanceof CloneNotSupportedException)return Qe.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw p}}},{key:"copy",value:function(){return new R(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(p){var v=this.x-p.x,A=this.y-p.y,H=this.getZ()-p.getZ();return Math.sqrt(v*v+A*A+H*H)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(p){this.y=p}},{key:"distance",value:function(p){var v=this.x-p.x,A=this.y-p.y;return Math.sqrt(v*v+A*A)}},{key:"hashCode",value:function(){var p=17;return p=37*(p=37*p+R.hashCode(this.x))+R.hashCode(this.y)}},{key:"setCoordinate",value:function(p){this.x=p.x,this.y=p.y,this.z=p.getZ()}},{key:"interfaces_",get:function(){return[oe,K,se]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)R.constructor_.call(this,0,0);else if(arguments.length===1){var p=arguments[0];R.constructor_.call(this,p.x,p.y,p.getZ())}else if(arguments.length===2){var v=arguments[0],A=arguments[1];R.constructor_.call(this,v,A,R.NULL_ORDINATE)}else if(arguments.length===3){var H=arguments[0],te=arguments[1],me=arguments[2];this.x=H,this.y=te,this.z=me}}},{key:"hashCode",value:function(p){return St[0]=p,Nt[0]^Nt[1]}}])})(),en=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"compare",value:function(p,v){var A=R.compare(p.x,v.x);if(A!==0)return A;var H=R.compare(p.y,v.y);return H!==0?H:this._dimensionsToTest<=2?0:R.compare(p.getZ(),v.getZ())}},{key:"interfaces_",get:function(){return[Re]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)R.constructor_.call(this,2);else if(arguments.length===1){var p=arguments[0];if(p!==2&&p!==3)throw new ie("only 2 or 3 dimensions may be specified");this._dimensionsToTest=p}}},{key:"compare",value:function(p,v){return p<v?-1:p>v?1:He.isNaN(p)?He.isNaN(v)?0:-1:He.isNaN(v)?1:0}}])})();We.DimensionalComparator=en,We.NULL_ORDINATE=He.NaN,We.X=0,We.Y=1,We.Z=2,We.M=3;var zt=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(p){if(!(p instanceof R))return!1;var v=p;return this.isNull()?v.isNull():this._maxx===v.getMaxX()&&this._maxy===v.getMaxY()&&this._minx===v.getMinX()&&this._miny===v.getMinY()}},{key:"intersection",value:function(p){if(this.isNull()||p.isNull()||!this.intersects(p))return new R;var v=this._minx>p._minx?this._minx:p._minx,A=this._miny>p._miny?this._miny:p._miny;return new R(v,this._maxx<p._maxx?this._maxx:p._maxx,A,this._maxy<p._maxy?this._maxy:p._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof We){var p=arguments[0];return this.covers(p.x,p.y)}if(arguments[0]instanceof R){var v=arguments[0];return!this.isNull()&&!v.isNull()&&v.getMinX()>=this._minx&&v.getMaxX()<=this._maxx&&v.getMinY()>=this._miny&&v.getMaxY()<=this._maxy}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];return!this.isNull()&&A>=this._minx&&A<=this._maxx&&H>=this._miny&&H<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof R){var p=arguments[0];return!this.isNull()&&!p.isNull()&&!(p._minx>this._maxx||p._maxx<this._minx||p._miny>this._maxy||p._maxy<this._miny)}if(arguments[0]instanceof We){var v=arguments[0];return this.intersects(v.x,v.y)}}else if(arguments.length===2){if(arguments[0]instanceof We&&arguments[1]instanceof We){var A=arguments[0],H=arguments[1];return!this.isNull()&&!((A.x<H.x?A.x:H.x)>this._maxx)&&!((A.x>H.x?A.x:H.x)<this._minx)&&!((A.y<H.y?A.y:H.y)>this._maxy)&&!((A.y>H.y?A.y:H.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var te=arguments[0],me=arguments[1];return!this.isNull()&&!(te>this._maxx||te<this._minx||me>this._maxy||me<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var p=this.getWidth(),v=this.getHeight();return Math.sqrt(p*p+v*v)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof We){var p=arguments[0];this.expandToInclude(p.x,p.y)}else if(arguments[0]instanceof R){var v=arguments[0];if(v.isNull())return null;this.isNull()?(this._minx=v.getMinX(),this._maxx=v.getMaxX(),this._miny=v.getMinY(),this._maxy=v.getMaxY()):(v._minx<this._minx&&(this._minx=v._minx),v._maxx>this._maxx&&(this._maxx=v._maxx),v._miny<this._miny&&(this._miny=v._miny),v._maxy>this._maxy&&(this._maxy=v._maxy))}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.isNull()?(this._minx=A,this._maxx=A,this._miny=H,this._maxy=H):(A<this._minx&&(this._minx=A),A>this._maxx&&(this._maxx=A),H<this._miny&&(this._miny=H),H>this._maxy&&(this._maxy=H))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var p=this.getWidth(),v=this.getHeight();return p<v?p:v}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(p){var v=p;return this.isNull()?v.isNull()?0:-1:v.isNull()?1:this._minx<v._minx?-1:this._minx>v._minx?1:this._miny<v._miny?-1:this._miny>v._miny?1:this._maxx<v._maxx?-1:this._maxx>v._maxx?1:this._maxy<v._maxy?-1:this._maxy>v._maxy?1:0}},{key:"translate",value:function(p,v){if(this.isNull())return null;this.init(this.getMinX()+p,this.getMaxX()+p,this.getMinY()+v,this.getMaxY()+v)}},{key:"copy",value:function(){return new R(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(p){return!(!this.isNull()&&!p.isNull())||p._minx>this._maxx||p._maxx<this._minx||p._miny>this._maxy||p._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var p=this.getWidth(),v=this.getHeight();return p>v?p:v}},{key:"expandBy",value:function(){if(arguments.length===1){var p=arguments[0];this.expandBy(p,p)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];if(this.isNull())return null;this._minx-=v,this._maxx+=v,this._miny-=A,this._maxy+=A,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof R){var p=arguments[0];return this.covers(p)}if(arguments[0]instanceof We){var v=arguments[0];return this.covers(v)}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];return this.covers(A,H)}}},{key:"centre",value:function(){return this.isNull()?null:new We((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof We){var p=arguments[0];this.init(p.x,p.x,p.y,p.y)}else if(arguments[0]instanceof R){var v=arguments[0];this._minx=v._minx,this._maxx=v._maxx,this._miny=v._miny,this._maxy=v._maxy}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.init(A.x,H.x,A.y,H.y)}else if(arguments.length===4){var te=arguments[0],me=arguments[1],Ie=arguments[2],Ue=arguments[3];te<me?(this._minx=te,this._maxx=me):(this._minx=me,this._maxx=te),Ie<Ue?(this._miny=Ie,this._maxy=Ue):(this._miny=Ue,this._maxy=Ie)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(p){if(this.intersects(p))return 0;var v=0;this._maxx<p._minx?v=p._minx-this._maxx:this._minx>p._maxx&&(v=this._minx-p._maxx);var A=0;return this._maxy<p._miny?A=p._miny-this._maxy:this._miny>p._maxy&&(A=this._miny-p._maxy),v===0?A:A===0?v:Math.sqrt(v*v+A*A)}},{key:"hashCode",value:function(){var p=17;return p=37*(p=37*(p=37*(p=37*p+We.hashCode(this._minx))+We.hashCode(this._maxx))+We.hashCode(this._miny))+We.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[oe,se]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof We){var p=arguments[0];this.init(p.x,p.x,p.y,p.y)}else if(arguments[0]instanceof R){var v=arguments[0];this.init(v)}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.init(A.x,H.x,A.y,H.y)}else if(arguments.length===4){var te=arguments[0],me=arguments[1],Ie=arguments[2],Ue=arguments[3];this.init(te,me,Ie,Ue)}}},{key:"intersects",value:function(){if(arguments.length===3){var p=arguments[0],v=arguments[1],A=arguments[2];return A.x>=(p.x<v.x?p.x:v.x)&&A.x<=(p.x>v.x?p.x:v.x)&&A.y>=(p.y<v.y?p.y:v.y)&&A.y<=(p.y>v.y?p.y:v.y)}if(arguments.length===4){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3],Ue=Math.min(me.x,Ie.x),ot=Math.max(me.x,Ie.x),Ht=Math.min(H.x,te.x),Wt=Math.max(H.x,te.x);return!(Ht>ot)&&!(Wt<Ue)&&(Ue=Math.min(me.y,Ie.y),ot=Math.max(me.y,Ie.y),Ht=Math.min(H.y,te.y),Wt=Math.max(H.y,te.y),!(Ht>ot)&&!(Wt<Ue))}}}])})(),rn=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===R.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(p){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(p){return this===p||this.equalsExact(p,0)}},{key:"geometryChanged",value:function(){this.apply(R.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(p){return p!==null&&this.norm().equalsExact(p.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var p;if(arguments.length===1){var v=arguments[0];return p=v,this.getTypeCode()!==p.getTypeCode()?this.getTypeCode()-p.getTypeCode():this.isEmpty()&&p.isEmpty()?0:this.isEmpty()?-1:p.isEmpty()?1:this.compareToSameClass(v)}if(arguments.length===2){var A=arguments[0],H=arguments[1];return p=A,this.getTypeCode()!==p.getTypeCode()?this.getTypeCode()-p.getTypeCode():this.isEmpty()&&p.isEmpty()?0:this.isEmpty()?-1:p.isEmpty()?1:this.compareToSameClass(A,H)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(p){if(p.getTypeCode()===R.TYPECODE_GEOMETRYCOLLECTION)throw new ie("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(p,v,A){return A===0?p.equals(v):p.distance(v)<=A}},{key:"norm",value:function(){var p=this.copy();return p.normalize(),p}},{key:"reverse",value:function(){var p=this.reverseInternal();return this.envelope!=null&&(p.envelope=this.envelope.copy()),p.setSRID(this.getSRID()),p}},{key:"copy",value:function(){var p=this.copyInternal();return p.envelope=this._envelope==null?null:this._envelope.copy(),p._SRID=this._SRID,p._userData=this._userData,p}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new zt(this._envelope)}},{key:"setSRID",value:function(p){this._SRID=p}},{key:"setUserData",value:function(p){this._userData=p}},{key:"compare",value:function(p,v){for(var A=p.iterator(),H=v.iterator();A.hasNext()&&H.hasNext();){var te=A.next(),me=H.next(),Ie=te.compareTo(me);if(Ie!==0)return Ie}return A.hasNext()?1:H.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(p){return this.getClass()===p.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===R.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===R.TYPECODE_MULTIPOINT||this.getTypeCode()===R.TYPECODE_MULTILINESTRING||this.getTypeCode()===R.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[K,oe,se]}},{key:"getClass",value:function(){return R}}],[{key:"hasNonEmptyElements",value:function(p){for(var v=0;v<p.length;v++)if(!p[v].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(p){for(var v=0;v<p.length;v++)if(p[v]===null)return!0;return!1}}])})();rn.constructor_=function(R){R&&(this._envelope=null,this._userData=null,this._factory=R,this._SRID=R.getSRID())},rn.TYPECODE_POINT=0,rn.TYPECODE_MULTIPOINT=1,rn.TYPECODE_LINESTRING=2,rn.TYPECODE_LINEARRING=3,rn.TYPECODE_MULTILINESTRING=4,rn.TYPECODE_POLYGON=5,rn.TYPECODE_MULTIPOLYGON=6,rn.TYPECODE_GEOMETRYCOLLECTION=7,rn.TYPENAME_POINT="Point",rn.TYPENAME_MULTIPOINT="MultiPoint",rn.TYPENAME_LINESTRING="LineString",rn.TYPENAME_LINEARRING="LinearRing",rn.TYPENAME_MULTILINESTRING="MultiLineString",rn.TYPENAME_POLYGON="Polygon",rn.TYPENAME_MULTIPOLYGON="MultiPolygon",rn.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",rn.geometryChangedFilter={get interfaces_(){return[ue]},filter:function(R){R.geometryChangedAction()}};var Ge=(function(){function R(){a(this,R)}return i(R,null,[{key:"toLocationSymbol",value:function(p){switch(p){case R.EXTERIOR:return"e";case R.BOUNDARY:return"b";case R.INTERIOR:return"i";case R.NONE:return"-"}throw new ie("Unknown location value: "+p)}}])})();Ge.INTERIOR=0,Ge.BOUNDARY=1,Ge.EXTERIOR=2,Ge.NONE=-1;var kn=(function(){return i((function R(){a(this,R)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),_n=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({NoSuchElementException:p})[0],A}return w(p,R),i(p)})(ne),Lt=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({UnsupportedOperationException:p})[0],A}return w(p,R),i(p)})(ne),pn=(function(R){function p(){return a(this,p),r(this,p,arguments)}return w(p,R),i(p,[{key:"contains",value:function(){}}])})(kn),Tn=(function(R){function p(v){var A;return a(this,p),(A=r(this,p)).map=new Map,v instanceof kn&&A.addAll(v),A}return w(p,R),i(p,[{key:"contains",value:function(v){var A=v.hashCode?v.hashCode():v;return!!this.map.has(A)}},{key:"add",value:function(v){var A=v.hashCode?v.hashCode():v;return!this.map.has(A)&&!!this.map.set(A,v)}},{key:"addAll",value:function(v){var A,H=m(v);try{for(H.s();!(A=H.n()).done;){var te=A.value;this.add(te)}}catch(me){H.e(me)}finally{H.f()}return!0}},{key:"remove",value:function(){throw new Lt}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new tr(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(pn),tr=(function(){return i((function R(p){a(this,R),this.iterator=p.values();var v=this.iterator.next(),A=v.done,H=v.value;this.done=A,this.value=H}),[{key:"next",value:function(){if(this.done)throw new _n;var R=this.value,p=this.iterator.next(),v=p.done,A=p.value;return this.done=v,this.value=A,R}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new Lt}}])})(),Vt=(function(){function R(){a(this,R)}return i(R,null,[{key:"opposite",value:function(p){return p===R.LEFT?R.RIGHT:p===R.RIGHT?R.LEFT:p}}])})();Vt.ON=0,Vt.LEFT=1,Vt.RIGHT=2;var lr=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({EmptyStackException:p})[0],A}return w(p,R),i(p)})(ne),sr=(function(R){function p(v){var A;return a(this,p),(A=r(this,p,[v])).name=Object.keys({IndexOutOfBoundsException:p})[0],A}return w(p,R),i(p)})(ne),xn=(function(R){function p(){return a(this,p),r(this,p,arguments)}return w(p,R),i(p,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(kn),En=(function(R){function p(){var v;return a(this,p),(v=r(this,p)).array=[],v}return w(p,R),i(p,[{key:"add",value:function(v){return this.array.push(v),!0}},{key:"get",value:function(v){if(v<0||v>=this.size())throw new sr;return this.array[v]}},{key:"push",value:function(v){return this.array.push(v),v}},{key:"pop",value:function(){if(this.array.length===0)throw new lr;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new lr;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(v){return this.array.indexOf(v)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})(xn);function hn(R,p){return R.interfaces_&&R.interfaces_.indexOf(p)>-1}var jn=(function(){return i((function R(p){a(this,R),this.str=p}),[{key:"append",value:function(R){this.str+=R}},{key:"setCharAt",value:function(R,p){this.str=this.str.substr(0,R)+p+this.str.substr(R+1)}},{key:"toString",value:function(){return this.str}}])})(),_t=(function(){function R(p){a(this,R),this.value=p}return i(R,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(p){return this.value<p?-1:this.value>p?1:0}}],[{key:"compare",value:function(p,v){return p<v?-1:p>v?1:0}},{key:"isNan",value:function(p){return Number.isNaN(p)}},{key:"valueOf",value:function(p){return new R(p)}}])})(),Oe=(function(){return i((function R(){a(this,R)}),null,[{key:"isWhitespace",value:function(R){return R<=32&&R>=0||R===127}},{key:"toUpperCase",value:function(R){return R.toUpperCase()}}])})(),ke=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"le",value:function(p){return this._hi<p._hi||this._hi===p._hi&&this._lo<=p._lo}},{key:"extractSignificantDigits",value:function(p,v){var A=this.abs(),H=R.magnitude(A._hi),te=R.TEN.pow(H);(A=A.divide(te)).gt(R.TEN)?(A=A.divide(R.TEN),H+=1):A.lt(R.ONE)&&(A=A.multiply(R.TEN),H-=1);for(var me=H+1,Ie=new jn,Ue=R.MAX_PRINT_DIGITS-1,ot=0;ot<=Ue;ot++){p&&ot===me&&Ie.append(".");var Ht=Math.trunc(A._hi);if(Ht<0)break;var Wt=!1,Fn=0;Ht>9?(Wt=!0,Fn="9"):Fn="0"+Ht,Ie.append(Fn),A=A.subtract(R.valueOf(Ht)).multiply(R.TEN),Wt&&A.selfAdd(R.TEN);var pr=!0,xr=R.magnitude(A._hi);if(xr<0&&Math.abs(xr)>=Ue-ot&&(pr=!1),!pr)break}return v[0]=H,Ie.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return this.add(p.negate())}if(typeof arguments[0]=="number"){var v=arguments[0];return this.add(-v)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof R){var p=arguments[0];return this._hi===p._hi&&this._lo===p._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return this.isNaN()?this:this.selfAdd(-p._hi,-p._lo)}if(typeof arguments[0]=="number"){var v=arguments[0];return this.isNaN()?this:this.selfAdd(-v,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(p){return this.le(p)?this:p}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof R){var p=arguments[0];return this.selfDivide(p._hi,p._lo)}if(typeof arguments[0]=="number"){var v=arguments[0];return this.selfDivide(v,0)}}else if(arguments.length===2){var A,H,te,me,Ie=arguments[0],Ue=arguments[1],ot=null,Ht=null,Wt=null,Fn=null;return te=this._hi/Ie,Fn=(ot=(Wt=R.SPLIT*te)-(ot=Wt-te))*(Ht=(Fn=R.SPLIT*Ie)-(Ht=Fn-Ie))-(me=te*Ie)+ot*(H=Ie-Ht)+(A=te-ot)*Ht+A*H,Fn=te+(Wt=(this._hi-me-Fn+this._lo-te*Ue)/Ie),this._hi=Fn,this._lo=te-Fn+Wt,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof R){var p,v,A,H,te=arguments[0],me=null,Ie=null,Ue=null,ot=null;return p=(A=this._hi/te._hi)-(me=(Ue=R.SPLIT*A)-(me=Ue-A)),ot=me*(Ie=(ot=R.SPLIT*te._hi)-(Ie=ot-te._hi))-(H=A*te._hi)+me*(v=te._hi-Ie)+p*Ie+p*v,new R(ot=A+(Ue=(this._hi-H-ot+this._lo-A*te._lo)/te._hi),A-ot+Ue)}if(typeof arguments[0]=="number"){var Ht=arguments[0];return He.isNaN(Ht)?R.createNaN():R.copy(this).selfDivide(Ht,0)}}},{key:"ge",value:function(p){return this._hi>p._hi||this._hi===p._hi&&this._lo>=p._lo}},{key:"pow",value:function(p){if(p===0)return R.valueOf(1);var v=new R(this),A=R.valueOf(1),H=Math.abs(p);if(H>1)for(;H>0;)H%2==1&&A.selfMultiply(v),(H/=2)>0&&(v=v.sqr());else A=v;return p<0?A.reciprocal():A}},{key:"ceil",value:function(){if(this.isNaN())return R.NaN;var p=Math.ceil(this._hi),v=0;return p===this._hi&&(v=Math.ceil(this._lo)),new R(p,v)}},{key:"compareTo",value:function(p){var v=p;return this._hi<v._hi?-1:this._hi>v._hi?1:this._lo<v._lo?-1:this._lo>v._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return this.init(p),this}if(typeof arguments[0]=="number"){var v=arguments[0];return this.init(v),this}}},{key:"max",value:function(p){return this.ge(p)?this:p}},{key:"sqrt",value:function(){if(this.isZero())return R.valueOf(0);if(this.isNegative())return R.NaN;var p=1/Math.sqrt(this._hi),v=this._hi*p,A=R.valueOf(v),H=this.subtract(A.sqr())._hi*(.5*p);return A.add(H)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof R){var p=arguments[0];return this.selfAdd(p._hi,p._lo)}if(typeof arguments[0]=="number"){var v,A,H,te,me,Ie=arguments[0],Ue=null;return Ue=(H=this._hi+Ie)-(te=H-this._hi),A=(me=(Ue=Ie-te+(this._hi-Ue))+this._lo)+(H-(v=H+me)),this._hi=v+A,this._lo=A+(v-this._hi),this}}else if(arguments.length===2){var ot,Ht,Wt,Fn,pr=arguments[0],xr=arguments[1],Dr=null,ga=null,yr=null;Wt=this._hi+pr,Ht=this._lo+xr,ga=Wt-(yr=Wt-this._hi),Dr=Ht-(Fn=Ht-this._lo);var oi=(ot=Wt+(yr=(ga=pr-yr+(this._hi-ga))+Ht))+(yr=(Dr=xr-Fn+(this._lo-Dr))+(yr+(Wt-ot))),to=yr+(ot-oi);return this._hi=oi,this._lo=to,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof R){var p=arguments[0];return this.selfMultiply(p._hi,p._lo)}if(typeof arguments[0]=="number"){var v=arguments[0];return this.selfMultiply(v,0)}}else if(arguments.length===2){var A,H,te=arguments[0],me=arguments[1],Ie=null,Ue=null,ot=null,Ht=null;Ie=(ot=R.SPLIT*this._hi)-this._hi,Ht=R.SPLIT*te,Ie=ot-Ie,A=this._hi-Ie,Ue=Ht-te;var Wt=(ot=this._hi*te)+(Ht=Ie*(Ue=Ht-Ue)-ot+Ie*(H=te-Ue)+A*Ue+A*H+(this._hi*me+this._lo*te)),Fn=Ht+(Ie=ot-Wt);return this._hi=Wt,this._lo=Fn,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return R.NaN;var p=Math.floor(this._hi),v=0;return p===this._hi&&(v=Math.floor(this._lo)),new R(p,v)}},{key:"negate",value:function(){return this.isNaN()?this:new R(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(p){if(p instanceof CloneNotSupportedException)return null;throw p}}},{key:"multiply",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return p.isNaN()?R.createNaN():R.copy(this).selfMultiply(p)}if(typeof arguments[0]=="number"){var v=arguments[0];return He.isNaN(v)?R.createNaN():R.copy(this).selfMultiply(v,0)}}},{key:"isNaN",value:function(){return He.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var p=R.magnitude(this._hi);return p>=-3&&p<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var p=this.getSpecialNumberString();if(p!==null)return p;var v=new Array(1).fill(null),A=this.extractSignificantDigits(!0,v),H=v[0]+1,te=A;if(A.charAt(0)===".")te="0"+A;else if(H<0)te="0."+R.stringOfChar("0",-H)+A;else if(A.indexOf(".")===-1){var me=H-A.length;te=A+R.stringOfChar("0",me)+".0"}return this.isNegative()?"-"+te:te}},{key:"reciprocal",value:function(){var p,v,A,H,te=null,me=null,Ie=null,Ue=null;p=(A=1/this._hi)-(te=(Ie=R.SPLIT*A)-(te=Ie-A)),me=(Ue=R.SPLIT*this._hi)-this._hi;var ot=A+(Ie=(1-(H=A*this._hi)-(Ue=te*(me=Ue-me)-H+te*(v=this._hi-me)+p*me+p*v)-A*this._lo)/this._hi);return new R(ot,A-ot+Ie)}},{key:"toSciNotation",value:function(){if(this.isZero())return R.SCI_NOT_ZERO;var p=this.getSpecialNumberString();if(p!==null)return p;var v=new Array(1).fill(null),A=this.extractSignificantDigits(!1,v),H=R.SCI_NOT_EXPONENT_CHAR+v[0];if(A.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+A);var te="";A.length>1&&(te=A.substring(1));var me=A.charAt(0)+"."+te;return this.isNegative()?"-"+me+H:me+H}},{key:"abs",value:function(){return this.isNaN()?R.NaN:this.isNegative()?this.negate():new R(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(p){return this._hi<p._hi||this._hi===p._hi&&this._lo<p._lo}},{key:"add",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return R.copy(this).selfAdd(p)}if(typeof arguments[0]=="number"){var v=arguments[0];return R.copy(this).selfAdd(v)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var p=arguments[0];this._hi=p,this._lo=0}else if(arguments[0]instanceof R){var v=arguments[0];this._hi=v._hi,this._lo=v._lo}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this._hi=A,this._lo=H}}},{key:"gt",value:function(p){return this._hi>p._hi||this._hi===p._hi&&this._lo>p._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?R.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[se,oe,K]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var p=arguments[0];this.init(p)}else if(arguments[0]instanceof R){var v=arguments[0];this.init(v)}else if(typeof arguments[0]=="string"){var A=arguments[0];R.constructor_.call(this,R.parse(A))}}else if(arguments.length===2){var H=arguments[0],te=arguments[1];this.init(H,te)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1],A=arguments[2],H=arguments[3];return R.determinant(R.valueOf(p),R.valueOf(v),R.valueOf(A),R.valueOf(H))}if(arguments[3]instanceof R&&arguments[2]instanceof R&&arguments[0]instanceof R&&arguments[1]instanceof R){var te=arguments[1],me=arguments[2],Ie=arguments[3];return arguments[0].multiply(Ie).selfSubtract(te.multiply(me))}}},{key:"sqr",value:function(p){return R.valueOf(p).selfMultiply(p)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var p=arguments[0];return R.parse(p)}if(typeof arguments[0]=="number")return new R(arguments[0])}},{key:"sqrt",value:function(p){return R.valueOf(p).sqrt()}},{key:"parse",value:function(p){for(var v=0,A=p.length;Oe.isWhitespace(p.charAt(v));)v++;var H=!1;if(v<A){var te=p.charAt(v);te!=="-"&&te!=="+"||(v++,te==="-"&&(H=!0))}for(var me=new R,Ie=0,Ue=0,ot=0,Ht=!1;!(v>=A);){var Wt=p.charAt(v);if(v++,Oe.isDigit(Wt)){var Fn=Wt-"0";me.selfMultiply(R.TEN),me.selfAdd(Fn),Ie++}else{if(Wt!=="."){if(Wt==="e"||Wt==="E"){var pr=p.substring(v);try{ot=_t.parseInt(pr)}catch(oi){throw oi instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+pr+" in string "+p):oi}break}throw new NumberFormatException("Unexpected character '"+Wt+"' at position "+v+" in string "+p)}Ue=Ie,Ht=!0}}var xr=me;Ht||(Ue=Ie);var Dr=Ie-Ue-ot;if(Dr===0)xr=me;else if(Dr>0){var ga=R.TEN.pow(Dr);xr=me.divide(ga)}else if(Dr<0){var yr=R.TEN.pow(-Dr);xr=me.multiply(yr)}return H?xr.negate():xr}},{key:"createNaN",value:function(){return new R(He.NaN,He.NaN)}},{key:"copy",value:function(p){return new R(p)}},{key:"magnitude",value:function(p){var v=Math.abs(p),A=Math.log(v)/Math.log(10),H=Math.trunc(Math.floor(A));return 10*Math.pow(10,H)<=v&&(H+=1),H}},{key:"stringOfChar",value:function(p,v){for(var A=new jn,H=0;H<v;H++)A.append(p);return A.toString()}}])})();ke.PI=new ke(3.141592653589793,12246467991473532e-32),ke.TWO_PI=new ke(6.283185307179586,24492935982947064e-32),ke.PI_2=new ke(1.5707963267948966,6123233995736766e-32),ke.E=new ke(2.718281828459045,14456468917292502e-32),ke.NaN=new ke(He.NaN,He.NaN),ke.EPS=123259516440783e-46,ke.SPLIT=134217729,ke.MAX_PRINT_DIGITS=32,ke.TEN=ke.valueOf(10),ke.ONE=ke.valueOf(1),ke.SCI_NOT_EXPONENT_CHAR="E",ke.SCI_NOT_ZERO="0.0E0";var qe=(function(){function R(){a(this,R)}return i(R,null,[{key:"orientationIndex",value:function(p,v,A){var H=R.orientationIndexFilter(p,v,A);if(H<=1)return H;var te=ke.valueOf(v.x).selfAdd(-p.x),me=ke.valueOf(v.y).selfAdd(-p.y),Ie=ke.valueOf(A.x).selfAdd(-v.x),Ue=ke.valueOf(A.y).selfAdd(-v.y);return te.selfMultiply(Ue).selfSubtract(me.selfMultiply(Ie)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof ke&&arguments[2]instanceof ke&&arguments[0]instanceof ke&&arguments[1]instanceof ke){var p=arguments[1],v=arguments[2],A=arguments[3];return arguments[0].multiply(A).selfSubtract(p.multiply(v)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3],Ue=ke.valueOf(H),ot=ke.valueOf(te),Ht=ke.valueOf(me),Wt=ke.valueOf(Ie);return Ue.multiply(Wt).selfSubtract(ot.multiply(Ht)).signum()}}},{key:"intersection",value:function(p,v,A,H){var te=new ke(p.y).selfSubtract(v.y),me=new ke(v.x).selfSubtract(p.x),Ie=new ke(p.x).selfMultiply(v.y).selfSubtract(new ke(v.x).selfMultiply(p.y)),Ue=new ke(A.y).selfSubtract(H.y),ot=new ke(H.x).selfSubtract(A.x),Ht=new ke(A.x).selfMultiply(H.y).selfSubtract(new ke(H.x).selfMultiply(A.y)),Wt=me.multiply(Ht).selfSubtract(ot.multiply(Ie)),Fn=Ue.multiply(Ie).selfSubtract(te.multiply(Ht)),pr=te.multiply(ot).selfSubtract(Ue.multiply(me)),xr=Wt.selfDivide(pr).doubleValue(),Dr=Fn.selfDivide(pr).doubleValue();return He.isNaN(xr)||He.isInfinite(xr)||He.isNaN(Dr)||He.isInfinite(Dr)?null:new We(xr,Dr)}},{key:"orientationIndexFilter",value:function(p,v,A){var H=null,te=(p.x-A.x)*(v.y-A.y),me=(p.y-A.y)*(v.x-A.x),Ie=te-me;if(te>0){if(me<=0)return R.signum(Ie);H=te+me}else{if(!(te<0)||me>=0)return R.signum(Ie);H=-te-me}var Ue=R.DP_SAFE_EPSILON*H;return Ie>=Ue||-Ie>=Ue?R.signum(Ie):2}},{key:"signum",value:function(p){return p>0?1:p<0?-1:0}}])})();qe.DP_SAFE_EPSILON=1e-15;var ut=(function(){return i((function R(){a(this,R)}),[{key:"getM",value:function(R){if(this.hasM()){var p=this.getDimension()-this.getMeasures();return this.getOrdinate(R,p)}return He.NaN}},{key:"setOrdinate",value:function(R,p,v){}},{key:"getZ",value:function(R){return this.hasZ()?this.getOrdinate(R,2):He.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(R,p){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(R){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(R){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(R){}},{key:"copy",value:function(){}},{key:"getY",value:function(R){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[K]}}])})();ut.X=0,ut.Y=1,ut.Z=2,ut.M=3;var dt=(function(){function R(){a(this,R)}return i(R,null,[{key:"index",value:function(p,v,A){return qe.orientationIndex(p,v,A)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var p=arguments[0],v=p.length-1;if(v<3)throw new ie("Ring has fewer than 4 points, so orientation cannot be determined");for(var A=p[0],H=0,te=1;te<=v;te++){var me=p[te];me.y>A.y&&(A=me,H=te)}var Ie=H;do(Ie-=1)<0&&(Ie=v);while(p[Ie].equals2D(A)&&Ie!==H);var Ue=H;do Ue=(Ue+1)%v;while(p[Ue].equals2D(A)&&Ue!==H);var ot=p[Ie],Ht=p[Ue];if(ot.equals2D(A)||Ht.equals2D(A)||ot.equals2D(Ht))return!1;var Wt=R.index(ot,A,Ht);return Wt===0?ot.x>Ht.x:Wt>0}if(hn(arguments[0],ut)){var Fn=arguments[0],pr=Fn.size()-1;if(pr<3)throw new ie("Ring has fewer than 4 points, so orientation cannot be determined");for(var xr=Fn.getCoordinate(0),Dr=0,ga=1;ga<=pr;ga++){var yr=Fn.getCoordinate(ga);yr.y>xr.y&&(xr=yr,Dr=ga)}var oi=null,to=Dr;do(to-=1)<0&&(to=pr),oi=Fn.getCoordinate(to);while(oi.equals2D(xr)&&to!==Dr);var Ka=null,vs=Dr;do vs=(vs+1)%pr,Ka=Fn.getCoordinate(vs);while(Ka.equals2D(xr)&&vs!==Dr);if(oi.equals2D(xr)||Ka.equals2D(xr)||oi.equals2D(Ka))return!1;var wo=R.index(oi,xr,Ka);return wo===0?oi.x>Ka.x:wo>0}}}])})();dt.CLOCKWISE=-1,dt.RIGHT=dt.CLOCKWISE,dt.COUNTERCLOCKWISE=1,dt.LEFT=dt.COUNTERCLOCKWISE,dt.COLLINEAR=0,dt.STRAIGHT=dt.COLLINEAR;var Ut=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(R,p){var v=this.getRightmostSideOfSegment(R,p);return v<0&&(v=this.getRightmostSideOfSegment(R,p-1)),v<0&&(this._minCoord=null,this.checkForRightmostCoordinate(R)),v}},{key:"findRightmostEdgeAtVertex",value:function(){var R=this._minDe.getEdge().getCoordinates();Qe.isTrue(this._minIndex>0&&this._minIndex<R.length,"rightmost point expected to be interior vertex of edge");var p=R[this._minIndex-1],v=R[this._minIndex+1],A=dt.index(this._minCoord,v,p),H=!1;(p.y<this._minCoord.y&&v.y<this._minCoord.y&&A===dt.COUNTERCLOCKWISE||p.y>this._minCoord.y&&v.y>this._minCoord.y&&A===dt.CLOCKWISE)&&(H=!0),H&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(R,p){var v=R.getEdge().getCoordinates();if(p<0||p+1>=v.length||v[p].y===v[p+1].y)return-1;var A=Vt.LEFT;return v[p].y<v[p+1].y&&(A=Vt.RIGHT),A}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(R){for(var p=R.getEdge().getCoordinates(),v=0;v<p.length-1;v++)(this._minCoord===null||p[v].x>this._minCoord.x)&&(this._minDe=R,this._minIndex=v,this._minCoord=p[v])}},{key:"findRightmostEdgeAtNode",value:function(){var R=this._minDe.getNode().getEdges();this._minDe=R.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(R){for(var p=R.iterator();p.hasNext();){var v=p.next();v.isForward()&&this.checkForRightmostCoordinate(v)}Qe.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Vt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),Bt=(function(R){function p(v,A){var H;return a(this,p),(H=r(this,p,[A?v+" [ "+A+" ]":v])).pt=A?new We(A):void 0,H.name=Object.keys({TopologyException:p})[0],H}return w(p,R),i(p,[{key:"getCoordinate",value:function(){return this.pt}}])})(je),xt=(function(){return i((function R(){a(this,R),this.array=[]}),[{key:"addLast",value:function(R){this.array.push(R)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Ct=(function(R){function p(v){var A;return a(this,p),(A=r(this,p)).array=[],v instanceof kn&&A.addAll(v),A}return w(p,R),i(p,[{key:"interfaces_",get:function(){return[xn,kn]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(v){return arguments.length===1?this.array.push(v):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(v){var A,H=m(v);try{for(H.s();!(A=H.n()).done;){var te=A.value;this.array.push(te)}}catch(me){H.e(me)}finally{H.f()}}},{key:"set",value:function(v,A){var H=this.array[v];return this.array[v]=A,H}},{key:"iterator",value:function(){return new sn(this)}},{key:"get",value:function(v){if(v<0||v>=this.size())throw new sr;return this.array[v]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(v){v?this.array.sort((function(A,H){return v.compare(A,H)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(v){for(var A=0,H=this.array.length;A<H;A++)if(this.array[A]===v)return!!this.array.splice(A,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})(xn),sn=(function(){return i((function R(p){a(this,R),this.arrayList=p,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new _n;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(R){return this.arrayList.set(this.position-1,R)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),mn=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var R=this._dirEdgeList.iterator();R.hasNext();)R.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(R){for(var p=null,v=R.getEdges().iterator();v.hasNext();){var A=v.next();if(A.isVisited()||A.getSym().isVisited()){p=A;break}}if(p===null)throw new Bt("unable to find edge to compute depths at "+R.getCoordinate());R.getEdges().computeDepths(p);for(var H=R.getEdges().iterator();H.hasNext();){var te=H.next();te.setVisited(!0),this.copySymDepths(te)}}},{key:"computeDepth",value:function(R){this.clearVisitedEdges();var p=this._finder.getEdge();p.getNode(),p.getLabel(),p.setEdgeDepths(Vt.RIGHT,R),this.copySymDepths(p),this.computeDepths(p)}},{key:"create",value:function(R){this.addReachable(R),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var R=this._dirEdgeList.iterator();R.hasNext();){var p=R.next();p.getDepth(Vt.RIGHT)>=1&&p.getDepth(Vt.LEFT)<=0&&!p.isInteriorAreaEdge()&&p.setInResult(!0)}}},{key:"computeDepths",value:function(R){var p=new Tn,v=new xt,A=R.getNode();for(v.addLast(A),p.add(A),R.setVisited(!0);!v.isEmpty();){var H=v.removeFirst();p.add(H),this.computeNodeDepth(H);for(var te=H.getEdges().iterator();te.hasNext();){var me=te.next().getSym();if(!me.isVisited()){var Ie=me.getNode();p.contains(Ie)||(v.addLast(Ie),p.add(Ie))}}}}},{key:"compareTo",value:function(R){var p=R;return this._rightMostCoord.x<p._rightMostCoord.x?-1:this._rightMostCoord.x>p._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var R=new zt,p=this._dirEdgeList.iterator();p.hasNext();)for(var v=p.next().getEdge().getCoordinates(),A=0;A<v.length-1;A++)R.expandToInclude(v[A]);this._env=R}return this._env}},{key:"addReachable",value:function(R){var p=new En;for(p.add(R);!p.empty();){var v=p.pop();this.add(v,p)}}},{key:"copySymDepths",value:function(R){var p=R.getSym();p.setDepth(Vt.LEFT,R.getDepth(Vt.RIGHT)),p.setDepth(Vt.RIGHT,R.getDepth(Vt.LEFT))}},{key:"add",value:function(R,p){R.setVisited(!0),this._nodes.add(R);for(var v=R.getEdges().iterator();v.hasNext();){var A=v.next();this._dirEdgeList.add(A);var H=A.getSym().getNode();H.isVisited()||p.push(H)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Ct,this._nodes=new Ct,this._rightMostCoord=null,this._env=null,this._finder=new Ut}}])})(),Vn=(function(){return i((function R(){a(this,R)}),null,[{key:"intersection",value:function(R,p,v,A){var H=R.x<p.x?R.x:p.x,te=R.y<p.y?R.y:p.y,me=R.x>p.x?R.x:p.x,Ie=R.y>p.y?R.y:p.y,Ue=v.x<A.x?v.x:A.x,ot=v.y<A.y?v.y:A.y,Ht=v.x>A.x?v.x:A.x,Wt=v.y>A.y?v.y:A.y,Fn=((H>Ue?H:Ue)+(me<Ht?me:Ht))/2,pr=((te>ot?te:ot)+(Ie<Wt?Ie:Wt))/2,xr=R.x-Fn,Dr=R.y-pr,ga=p.x-Fn,yr=p.y-pr,oi=v.x-Fn,to=v.y-pr,Ka=A.x-Fn,vs=A.y-pr,wo=Dr-yr,wu=ga-xr,eu=xr*yr-ga*Dr,Ls=to-vs,dc=Ka-oi,Su=oi*vs-Ka*to,bs=wo*dc-Ls*wu,hf=(wu*Su-dc*eu)/bs,fc=(Ls*eu-wo*Su)/bs;return He.isNaN(hf)||He.isInfinite(hf)||He.isNaN(fc)||He.isInfinite(fc)?null:new We(hf+Fn,fc+pr)}}])})(),gn=(function(){return i((function R(){a(this,R)}),null,[{key:"arraycopy",value:function(R,p,v,A,H){for(var te=0,me=p;me<p+H;me++)v[A+te]=R[me],te++}},{key:"getProperty",value:function(R){return{"line.separator":`
`}[R]}}])})(),qn=(function(){function R(){a(this,R)}return i(R,null,[{key:"log10",value:function(p){var v=Math.log(p);return He.isInfinite(v)||He.isNaN(v)?v:v/R.LOG_10}},{key:"min",value:function(p,v,A,H){var te=p;return v<te&&(te=v),A<te&&(te=A),H<te&&(te=H),te}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1],A=arguments[2];return p<v?v:p>A?A:p}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var H=arguments[0],te=arguments[1],me=arguments[2];return H<te?te:H>me?me:H}}},{key:"wrap",value:function(p,v){return p<0?v- -p%v:p%v}},{key:"max",value:function(){if(arguments.length===3){var p=arguments[1],v=arguments[2],A=arguments[0];return p>A&&(A=p),v>A&&(A=v),A}if(arguments.length===4){var H=arguments[1],te=arguments[2],me=arguments[3],Ie=arguments[0];return H>Ie&&(Ie=H),te>Ie&&(Ie=te),me>Ie&&(Ie=me),Ie}}},{key:"average",value:function(p,v){return(p+v)/2}}])})();qn.LOG_10=Math.log(10);var Xn=(function(){function R(){a(this,R)}return i(R,null,[{key:"segmentToSegment",value:function(p,v,A,H){if(p.equals(v))return R.pointToSegment(p,A,H);if(A.equals(H))return R.pointToSegment(H,p,v);var te=!1;if(zt.intersects(p,v,A,H)){var me=(v.x-p.x)*(H.y-A.y)-(v.y-p.y)*(H.x-A.x);if(me===0)te=!0;else{var Ie=(p.y-A.y)*(H.x-A.x)-(p.x-A.x)*(H.y-A.y),Ue=((p.y-A.y)*(v.x-p.x)-(p.x-A.x)*(v.y-p.y))/me,ot=Ie/me;(ot<0||ot>1||Ue<0||Ue>1)&&(te=!0)}}else te=!0;return te?qn.min(R.pointToSegment(p,A,H),R.pointToSegment(v,A,H),R.pointToSegment(A,p,v),R.pointToSegment(H,p,v)):0}},{key:"pointToSegment",value:function(p,v,A){if(v.x===A.x&&v.y===A.y)return p.distance(v);var H=(A.x-v.x)*(A.x-v.x)+(A.y-v.y)*(A.y-v.y),te=((p.x-v.x)*(A.x-v.x)+(p.y-v.y)*(A.y-v.y))/H;if(te<=0)return p.distance(v);if(te>=1)return p.distance(A);var me=((v.y-p.y)*(A.x-v.x)-(v.x-p.x)*(A.y-v.y))/H;return Math.abs(me)*Math.sqrt(H)}},{key:"pointToLinePerpendicular",value:function(p,v,A){var H=(A.x-v.x)*(A.x-v.x)+(A.y-v.y)*(A.y-v.y),te=((v.y-p.y)*(A.x-v.x)-(v.x-p.x)*(A.y-v.y))/H;return Math.abs(te)*Math.sqrt(H)}},{key:"pointToSegmentString",value:function(p,v){if(v.length===0)throw new ie("Line array must contain at least one vertex");for(var A=p.distance(v[0]),H=0;H<v.length-1;H++){var te=R.pointToSegment(p,v[H],v[H+1]);te<A&&(A=te)}return A}}])})(),Qn=(function(){return i((function R(){a(this,R)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||hn(arguments[0],ut);else if(arguments.length!==2&&arguments.length===3){var R=arguments[0],p=arguments[1];return this.create(R,p)}}}])})(),Pt=(function(){return i((function R(){a(this,R)}),[{key:"filter",value:function(R){}}])})(),wn=(function(){return i((function R(){a(this,R)}),null,[{key:"ofLine",value:function(R){var p=R.size();if(p<=1)return 0;var v=0,A=new We;R.getCoordinate(0,A);for(var H=A.x,te=A.y,me=1;me<p;me++){R.getCoordinate(me,A);var Ie=A.x,Ue=A.y,ot=Ie-H,Ht=Ue-te;v+=Math.sqrt(ot*ot+Ht*Ht),H=Ie,te=Ue}return v}}])})(),Mr=i((function R(){a(this,R)})),Mn=(function(){function R(){a(this,R)}return i(R,null,[{key:"copyCoord",value:function(p,v,A,H){for(var te=Math.min(p.getDimension(),A.getDimension()),me=0;me<te;me++)A.setOrdinate(H,me,p.getOrdinate(v,me))}},{key:"isRing",value:function(p){var v=p.size();return v===0||!(v<=3)&&p.getOrdinate(0,ut.X)===p.getOrdinate(v-1,ut.X)&&p.getOrdinate(0,ut.Y)===p.getOrdinate(v-1,ut.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(hn(arguments[0],ut)&&Number.isInteger(arguments[1])){var p=arguments[0],v=arguments[1];R.scroll(p,v,R.isRing(p))}else if(hn(arguments[0],ut)&&arguments[1]instanceof We){var A=arguments[0],H=arguments[1],te=R.indexOf(H,A);if(te<=0)return null;R.scroll(A,te)}}else if(arguments.length===3){var me=arguments[0],Ie=arguments[1],Ue=arguments[2];if(Ie<=0)return null;for(var ot=me.copy(),Ht=Ue?me.size()-1:me.size(),Wt=0;Wt<Ht;Wt++)for(var Fn=0;Fn<me.getDimension();Fn++)me.setOrdinate(Wt,Fn,ot.getOrdinate((Ie+Wt)%Ht,Fn));if(Ue)for(var pr=0;pr<me.getDimension();pr++)me.setOrdinate(Ht,pr,me.getOrdinate(0,pr))}}},{key:"isEqual",value:function(p,v){var A=p.size();if(A!==v.size())return!1;for(var H=Math.min(p.getDimension(),v.getDimension()),te=0;te<A;te++)for(var me=0;me<H;me++){var Ie=p.getOrdinate(te,me),Ue=v.getOrdinate(te,me);if(p.getOrdinate(te,me)!==v.getOrdinate(te,me)&&(!He.isNaN(Ie)||!He.isNaN(Ue)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var p=arguments[0];return R.minCoordinateIndex(p,0,p.size()-1)}if(arguments.length===3){for(var v=arguments[0],A=arguments[2],H=-1,te=null,me=arguments[1];me<=A;me++){var Ie=v.getCoordinate(me);(te===null||te.compareTo(Ie)>0)&&(te=Ie,H=me)}return H}}},{key:"extend",value:function(p,v,A){var H=p.create(A,v.getDimension()),te=v.size();if(R.copy(v,0,H,0,te),te>0)for(var me=te;me<A;me++)R.copy(v,te-1,H,me,1);return H}},{key:"reverse",value:function(p){for(var v=p.size()-1,A=Math.trunc(v/2),H=0;H<=A;H++)R.swap(p,H,v-H)}},{key:"swap",value:function(p,v,A){if(v===A)return null;for(var H=0;H<p.getDimension();H++){var te=p.getOrdinate(v,H);p.setOrdinate(v,H,p.getOrdinate(A,H)),p.setOrdinate(A,H,te)}}},{key:"copy",value:function(p,v,A,H,te){for(var me=0;me<te;me++)R.copyCoord(p,v+me,A,H+me)}},{key:"ensureValidRing",value:function(p,v){var A=v.size();return A===0?v:A<=3?R.createClosedRing(p,v,4):v.getOrdinate(0,ut.X)===v.getOrdinate(A-1,ut.X)&&v.getOrdinate(0,ut.Y)===v.getOrdinate(A-1,ut.Y)?v:R.createClosedRing(p,v,A+1)}},{key:"indexOf",value:function(p,v){for(var A=0;A<v.size();A++)if(p.x===v.getOrdinate(A,ut.X)&&p.y===v.getOrdinate(A,ut.Y))return A;return-1}},{key:"createClosedRing",value:function(p,v,A){var H=p.create(A,v.getDimension()),te=v.size();R.copy(v,0,H,0,te);for(var me=te;me<A;me++)R.copy(v,0,H,me,1);return H}},{key:"minCoordinate",value:function(p){for(var v=null,A=0;A<p.size();A++){var H=p.getCoordinate(A);(v===null||v.compareTo(H)>0)&&(v=H)}return v}}])})(),on=(function(){function R(){a(this,R)}return i(R,null,[{key:"toDimensionSymbol",value:function(p){switch(p){case R.FALSE:return R.SYM_FALSE;case R.TRUE:return R.SYM_TRUE;case R.DONTCARE:return R.SYM_DONTCARE;case R.P:return R.SYM_P;case R.L:return R.SYM_L;case R.A:return R.SYM_A}throw new ie("Unknown dimension value: "+p)}},{key:"toDimensionValue",value:function(p){switch(Oe.toUpperCase(p)){case R.SYM_FALSE:return R.FALSE;case R.SYM_TRUE:return R.TRUE;case R.SYM_DONTCARE:return R.DONTCARE;case R.SYM_P:return R.P;case R.SYM_L:return R.L;case R.SYM_A:return R.A}throw new ie("Unknown dimension symbol: "+p)}}])})();on.P=0,on.L=1,on.A=2,on.FALSE=-1,on.TRUE=-2,on.DONTCARE=-3,on.SYM_FALSE="F",on.SYM_TRUE="T",on.SYM_DONTCARE="*",on.SYM_P="0",on.SYM_L="1",on.SYM_A="2";var Wr=(function(){return i((function R(){a(this,R)}),[{key:"filter",value:function(R){}}])})(),Tr=(function(){return i((function R(){a(this,R)}),[{key:"filter",value:function(R,p){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),Ir=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new zt:this._points.expandEnvelope(new zt)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new p(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];if(!this.isEquivalentClass(v))return!1;var H=v;if(this._points.size()!==H._points.size())return!1;for(var te=0;te<this._points.size();te++)if(!this.equal(this._points.getCoordinate(te),H._points.getCoordinate(te),A))return!1;return!0}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var v=0;v<Math.trunc(this._points.size()/2);v++){var A=this._points.size()-1-v;if(!this._points.getCoordinate(v).equals(this._points.getCoordinate(A))){if(this._points.getCoordinate(v).compareTo(this._points.getCoordinate(A))>0){var H=this._points.copy();Mn.reverse(H),this._points=H}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?on.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var v=this._points.copy();return Mn.reverse(v),this.getFactory().createLineString(v)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return rn.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return wn.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var v=arguments[0],A=0,H=0;A<this._points.size()&&H<v._points.size();){var te=this._points.getCoordinate(A).compareTo(v._points.getCoordinate(H));if(te!==0)return te;A++,H++}return A<this._points.size()?1:H<v._points.size()?-1:0}if(arguments.length===2){var me=arguments[0];return arguments[1].compare(this._points,me._points)}}},{key:"apply",value:function(){if(hn(arguments[0],Pt))for(var v=arguments[0],A=0;A<this._points.size();A++)v.filter(this._points.getCoordinate(A));else if(hn(arguments[0],Tr)){var H=arguments[0];if(this._points.size()===0)return null;for(var te=0;te<this._points.size()&&(H.filter(this._points,te),!H.isDone());te++);H.isGeometryChanged()&&this.geometryChanged()}else hn(arguments[0],Wr)?arguments[0].filter(this):hn(arguments[0],ue)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new Lt}},{key:"isEquivalentClass",value:function(v){return v instanceof p}},{key:"getCoordinateN",value:function(v){return this._points.getCoordinate(v)}},{key:"getGeometryType",value:function(){return rn.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(v){if(v===null&&(v=this.getFactory().getCoordinateSequenceFactory().create([])),v.size()===1)throw new ie("Invalid number of points in LineString (found "+v.size()+" - must be 0 or >= 2)");this._points=v}},{key:"isCoordinate",value:function(v){for(var A=0;A<this._points.size();A++)if(this._points.getCoordinate(A).equals(v))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(v){return this.getFactory().createPoint(this._points.getCoordinate(v))}},{key:"interfaces_",get:function(){return[Mr]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0&&arguments.length===2){var v=arguments[0],A=arguments[1];rn.constructor_.call(this,A),this.init(v)}}}])})(rn),Xr=i((function R(){a(this,R)})),yt=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new zt;var v=new zt;return v.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),v}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new p(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];return!!this.isEquivalentClass(v)&&(!(!this.isEmpty()||!v.isEmpty())||this.isEmpty()===v.isEmpty()&&this.equal(v.getCoordinate(),this.getCoordinate(),A))}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return on.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return rn.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var v=arguments[0];return this.getCoordinate().compareTo(v.getCoordinate())}if(arguments.length===2){var A=arguments[0];return arguments[1].compare(this._coordinates,A._coordinates)}}},{key:"apply",value:function(){if(hn(arguments[0],Pt)){var v=arguments[0];if(this.isEmpty())return null;v.filter(this.getCoordinate())}else if(hn(arguments[0],Tr)){var A=arguments[0];if(this.isEmpty())return null;A.filter(this._coordinates,0),A.isGeometryChanged()&&this.geometryChanged()}else hn(arguments[0],Wr)?arguments[0].filter(this):hn(arguments[0],ue)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return rn.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(v){v===null&&(v=this.getFactory().getCoordinateSequenceFactory().create([])),Qe.isTrue(v.size()<=1),this._coordinates=v}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[Xr]}}],[{key:"constructor_",value:function(){this._coordinates=null;var v=arguments[0],A=arguments[1];rn.constructor_.call(this,A),this.init(v)}}])})(rn),Ft=(function(){function R(){a(this,R)}return i(R,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var p=arguments[0];return Math.abs(R.ofRingSigned(p))}if(hn(arguments[0],ut)){var v=arguments[0];return Math.abs(R.ofRingSigned(v))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var p=arguments[0];if(p.length<3)return 0;for(var v=0,A=p[0].x,H=1;H<p.length-1;H++){var te=p[H].x-A,me=p[H+1].y;v+=te*(p[H-1].y-me)}return v/2}if(hn(arguments[0],ut)){var Ie=arguments[0],Ue=Ie.size();if(Ue<3)return 0;var ot=new We,Ht=new We,Wt=new We;Ie.getCoordinate(0,Ht),Ie.getCoordinate(1,Wt);var Fn=Ht.x;Wt.x-=Fn;for(var pr=0,xr=1;xr<Ue-1;xr++)ot.y=Ht.y,Ht.x=Wt.x,Ht.y=Wt.y,Ie.getCoordinate(xr+1,Wt),Wt.x-=Fn,pr+=Ht.x*(ot.y-Wt.y);return pr/2}}}])})(),Yt=(function(){return i((function R(){a(this,R)}),null,[{key:"sort",value:function(){var R=arguments,p=arguments[0];if(arguments.length===1)p.sort((function(Fn,pr){return Fn.compareTo(pr)}));else if(arguments.length===2)p.sort((function(Fn,pr){return R[1].compare(Fn,pr)}));else if(arguments.length===3){var v=p.slice(arguments[1],arguments[2]);v.sort();var A=p.slice(0,arguments[1]).concat(v,p.slice(arguments[2],p.length));p.splice(0,p.length);var H,te=m(A);try{for(te.s();!(H=te.n()).done;){var me=H.value;p.push(me)}}catch(Fn){te.e(Fn)}finally{te.f()}}else if(arguments.length===4){var Ie=p.slice(arguments[1],arguments[2]);Ie.sort((function(Fn,pr){return R[3].compare(Fn,pr)}));var Ue=p.slice(0,arguments[1]).concat(Ie,p.slice(arguments[2],p.length));p.splice(0,p.length);var ot,Ht=m(Ue);try{for(Ht.s();!(ot=Ht.n()).done;){var Wt=ot.value;p.push(Wt)}}catch(Fn){Ht.e(Fn)}finally{Ht.f()}}}},{key:"asList",value:function(R){var p,v=new Ct,A=m(R);try{for(A.s();!(p=A.n()).done;){var H=p.value;v.add(H)}}catch(te){A.e(te)}finally{A.f()}return v}},{key:"copyOf",value:function(R,p){return R.slice(0,p)}}])})(),Ot=i((function R(){a(this,R)})),Pn=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var v=new Array(this.getNumPoints()).fill(null),A=-1,H=this._shell.getCoordinates(),te=0;te<H.length;te++)v[++A]=H[te];for(var me=0;me<this._holes.length;me++)for(var Ie=this._holes[me].getCoordinates(),Ue=0;Ue<Ie.length;Ue++)v[++A]=Ie[Ue];return v}},{key:"getArea",value:function(){var v=0;v+=Ft.ofRing(this._shell.getCoordinateSequence());for(var A=0;A<this._holes.length;A++)v-=Ft.ofRing(this._holes[A].getCoordinateSequence());return v}},{key:"copyInternal",value:function(){for(var v=this._shell.copy(),A=new Array(this._holes.length).fill(null),H=0;H<this._holes.length;H++)A[H]=this._holes[H].copy();return new p(v,A,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var v=this._shell.getCoordinateSequence(),A=this.getEnvelopeInternal(),H=0;H<5;H++){var te=v.getX(H);if(te!==A.getMinX()&&te!==A.getMaxX())return!1;var me=v.getY(H);if(me!==A.getMinY()&&me!==A.getMaxY())return!1}for(var Ie=v.getX(0),Ue=v.getY(0),ot=1;ot<=4;ot++){var Ht=v.getX(ot),Wt=v.getY(ot);if(Ht!==Ie==(Wt!==Ue))return!1;Ie=Ht,Ue=Wt}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];if(!this.isEquivalentClass(v))return!1;var H=v,te=this._shell,me=H._shell;if(!te.equalsExact(me,A)||this._holes.length!==H._holes.length)return!1;for(var Ie=0;Ie<this._holes.length;Ie++)if(!this._holes[Ie].equalsExact(H._holes[Ie],A))return!1;return!0}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var v=0;v<this._holes.length;v++)this._holes[v]=this.normalized(this._holes[v],!1);Yt.sort(this._holes)}else if(arguments.length===2){var A=arguments[0],H=arguments[1];if(A.isEmpty())return null;var te=A.getCoordinateSequence(),me=Mn.minCoordinateIndex(te,0,te.size()-2);Mn.scroll(te,me,!0),dt.isCCW(te)===H&&Mn.reverse(te)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var v=this.getExteriorRing().reverse(),A=new Array(this.getNumInteriorRing()).fill(null),H=0;H<A.length;H++)A[H]=this.getInteriorRingN(H).reverse();return this.getFactory().createPolygon(v,A)}},{key:"getTypeCode",value:function(){return rn.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var v=0;v+=this._shell.getLength();for(var A=0;A<this._holes.length;A++)v+=this._holes[A].getLength();return v}},{key:"getNumPoints",value:function(){for(var v=this._shell.getNumPoints(),A=0;A<this._holes.length;A++)v+=this._holes[A].getNumPoints();return v}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(v,A){var H=v.copy();return this.normalize(H,A),H}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var v=arguments[0],A=this._shell,H=v._shell;return A.compareToSameClass(H)}if(arguments.length===2){var te=arguments[1],me=arguments[0],Ie=this._shell,Ue=me._shell,ot=Ie.compareToSameClass(Ue,te);if(ot!==0)return ot;for(var Ht=this.getNumInteriorRing(),Wt=me.getNumInteriorRing(),Fn=0;Fn<Ht&&Fn<Wt;){var pr=this.getInteriorRingN(Fn),xr=me.getInteriorRingN(Fn),Dr=pr.compareToSameClass(xr,te);if(Dr!==0)return Dr;Fn++}return Fn<Ht?1:Fn<Wt?-1:0}}},{key:"apply",value:function(){if(hn(arguments[0],Pt)){var v=arguments[0];this._shell.apply(v);for(var A=0;A<this._holes.length;A++)this._holes[A].apply(v)}else if(hn(arguments[0],Tr)){var H=arguments[0];if(this._shell.apply(H),!H.isDone())for(var te=0;te<this._holes.length&&(this._holes[te].apply(H),!H.isDone());te++);H.isGeometryChanged()&&this.geometryChanged()}else if(hn(arguments[0],Wr))arguments[0].filter(this);else if(hn(arguments[0],ue)){var me=arguments[0];me.filter(this),this._shell.apply(me);for(var Ie=0;Ie<this._holes.length;Ie++)this._holes[Ie].apply(me)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var v=new Array(this._holes.length+1).fill(null);v[0]=this._shell;for(var A=0;A<this._holes.length;A++)v[A+1]=this._holes[A];return v.length<=1?this.getFactory().createLinearRing(v[0].getCoordinateSequence()):this.getFactory().createMultiLineString(v)}},{key:"getGeometryType",value:function(){return rn.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(v){return this._holes[v]}},{key:"interfaces_",get:function(){return[Ot]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var v=arguments[0],A=arguments[1],H=arguments[2];if(rn.constructor_.call(this,H),v===null&&(v=this.getFactory().createLinearRing()),A===null&&(A=[]),rn.hasNullElements(A))throw new ie("holes must not contain null elements");if(v.isEmpty()&&rn.hasNonEmptyElements(A))throw new ie("shell is empty but holes are not");this._shell=v,this._holes=A}}])})(rn),nr=(function(R){function p(){return a(this,p),r(this,p,arguments)}return w(p,R),i(p)})(pn),fr=(function(R){function p(v){var A;return a(this,p),(A=r(this,p)).array=[],v instanceof kn&&A.addAll(v),A}return w(p,R),i(p,[{key:"contains",value:function(v){var A,H=m(this.array);try{for(H.s();!(A=H.n()).done;)if(A.value.compareTo(v)===0)return!0}catch(te){H.e(te)}finally{H.f()}return!1}},{key:"add",value:function(v){if(this.contains(v))return!1;for(var A=0,H=this.array.length;A<H;A++)if(this.array[A].compareTo(v)===1)return!!this.array.splice(A,0,v);return this.array.push(v),!0}},{key:"addAll",value:function(v){var A,H=m(v);try{for(H.s();!(A=H.n()).done;){var te=A.value;this.add(te)}}catch(me){H.e(me)}finally{H.f()}return!0}},{key:"remove",value:function(){throw new Lt}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Jn(this.array)}}])})(nr),Jn=(function(){return i((function R(p){a(this,R),this.array=p,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new _n;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new Lt}}])})(),qt=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"computeEnvelopeInternal",value:function(){for(var v=new zt,A=0;A<this._geometries.length;A++)v.expandToInclude(this._geometries[A].getEnvelopeInternal());return v}},{key:"getGeometryN",value:function(v){return this._geometries[v]}},{key:"getCoordinates",value:function(){for(var v=new Array(this.getNumPoints()).fill(null),A=-1,H=0;H<this._geometries.length;H++)for(var te=this._geometries[H].getCoordinates(),me=0;me<te.length;me++)v[++A]=te[me];return v}},{key:"getArea",value:function(){for(var v=0,A=0;A<this._geometries.length;A++)v+=this._geometries[A].getArea();return v}},{key:"copyInternal",value:function(){for(var v=new Array(this._geometries.length).fill(null),A=0;A<v.length;A++)v[A]=this._geometries[A].copy();return new p(v,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];if(!this.isEquivalentClass(v))return!1;var H=v;if(this._geometries.length!==H._geometries.length)return!1;for(var te=0;te<this._geometries.length;te++)if(!this._geometries[te].equalsExact(H._geometries[te],A))return!1;return!0}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var v=0;v<this._geometries.length;v++)this._geometries[v].normalize();Yt.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var v=on.FALSE,A=0;A<this._geometries.length;A++)v=Math.max(v,this._geometries[A].getBoundaryDimension());return v}},{key:"reverseInternal",value:function(){for(var v=this._geometries.length,A=new Ct(v),H=0;H<v;H++)A.add(this._geometries[H].reverse());return this.getFactory().buildGeometry(A)}},{key:"getTypeCode",value:function(){return rn.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var v=on.FALSE,A=0;A<this._geometries.length;A++)v=Math.max(v,this._geometries[A].getDimension());return v}},{key:"getLength",value:function(){for(var v=0,A=0;A<this._geometries.length;A++)v+=this._geometries[A].getLength();return v}},{key:"getNumPoints",value:function(){for(var v=0,A=0;A<this._geometries.length;A++)v+=this._geometries[A].getNumPoints();return v}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var v=arguments[0],A=new fr(Yt.asList(this._geometries)),H=new fr(Yt.asList(v._geometries));return this.compare(A,H)}if(arguments.length===2){for(var te=arguments[1],me=arguments[0],Ie=this.getNumGeometries(),Ue=me.getNumGeometries(),ot=0;ot<Ie&&ot<Ue;){var Ht=this.getGeometryN(ot),Wt=me.getGeometryN(ot),Fn=Ht.compareToSameClass(Wt,te);if(Fn!==0)return Fn;ot++}return ot<Ie?1:ot<Ue?-1:0}}},{key:"apply",value:function(){if(hn(arguments[0],Pt))for(var v=arguments[0],A=0;A<this._geometries.length;A++)this._geometries[A].apply(v);else if(hn(arguments[0],Tr)){var H=arguments[0];if(this._geometries.length===0)return null;for(var te=0;te<this._geometries.length&&(this._geometries[te].apply(H),!H.isDone());te++);H.isGeometryChanged()&&this.geometryChanged()}else if(hn(arguments[0],Wr)){var me=arguments[0];me.filter(this);for(var Ie=0;Ie<this._geometries.length;Ie++)this._geometries[Ie].apply(me)}else if(hn(arguments[0],ue)){var Ue=arguments[0];Ue.filter(this);for(var ot=0;ot<this._geometries.length;ot++)this._geometries[ot].apply(Ue)}}},{key:"getBoundary",value:function(){return rn.checkNotGeometryCollection(this),Qe.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return rn.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var v=0;v<this._geometries.length;v++)if(!this._geometries[v].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0&&arguments.length===2){var v=arguments[0],A=arguments[1];if(rn.constructor_.call(this,A),v===null&&(v=[]),rn.hasNullElements(v))throw new ie("geometries must not contain null elements");this._geometries=v}}}])})(rn),Gn=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"copyInternal",value:function(){for(var v=new Array(this._geometries.length).fill(null),A=0;A<v.length;A++)v[A]=this._geometries[A].copy();return new p(v,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];return!!this.isEquivalentClass(v)&&j(p,"equalsExact",this,1).call(this,v,A)}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var v=arguments[0];return this._geometries[v].getCoordinate()}return j(p,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return on.FALSE}},{key:"getTypeCode",value:function(){return rn.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return rn.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[Xr]}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];qt.constructor_.call(this,v,A)}}])})(qt),zn=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"copyInternal",value:function(){return new p(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return on.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||j(p,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var v=this._points.copy();return Mn.reverse(v),this.getFactory().createLinearRing(v)}},{key:"getTypeCode",value:function(){return rn.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!j(p,"isClosed",this,1).call(this))throw new ie("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<p.MINIMUM_VALID_SIZE)throw new ie("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return rn.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];Ir.constructor_.call(this,v,A),this.validateConstruction()}}])})(Ir);zn.MINIMUM_VALID_SIZE=4;var hr=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"setOrdinate",value:function(v,A){switch(v){case p.X:this.x=A;break;case p.Y:this.y=A;break;default:throw new ie("Invalid ordinate index: "+v)}}},{key:"getZ",value:function(){return We.NULL_ORDINATE}},{key:"getOrdinate",value:function(v){switch(v){case p.X:return this.x;case p.Y:return this.y}throw new ie("Invalid ordinate index: "+v)}},{key:"setZ",value:function(v){throw new ie("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(v){this.x=v.x,this.y=v.y,this.z=v.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)We.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof p){var v=arguments[0];We.constructor_.call(this,v.x,v.y)}else if(arguments[0]instanceof We){var A=arguments[0];We.constructor_.call(this,A.x,A.y)}}else if(arguments.length===2){var H=arguments[0],te=arguments[1];We.constructor_.call(this,H,te,We.NULL_ORDINATE)}}}])})(We);hr.X=0,hr.Y=1,hr.Z=-1,hr.M=-1;var ra=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(v,A){switch(v){case p.X:this.x=A;break;case p.Y:this.y=A;break;case p.M:this._m=A;break;default:throw new ie("Invalid ordinate index: "+v)}}},{key:"setM",value:function(v){this._m=v}},{key:"getZ",value:function(){return We.NULL_ORDINATE}},{key:"getOrdinate",value:function(v){switch(v){case p.X:return this.x;case p.Y:return this.y;case p.M:return this._m}throw new ie("Invalid ordinate index: "+v)}},{key:"setZ",value:function(v){throw new ie("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(v){this.x=v.x,this.y=v.y,this.z=v.getZ(),this._m=v.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)We.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof p){var v=arguments[0];We.constructor_.call(this,v.x,v.y),this._m=v._m}else if(arguments[0]instanceof We){var A=arguments[0];We.constructor_.call(this,A.x,A.y),this._m=this.getM()}}else if(arguments.length===3){var H=arguments[0],te=arguments[1],me=arguments[2];We.constructor_.call(this,H,te,We.NULL_ORDINATE),this._m=me}}}])})(We);ra.X=0,ra.Y=1,ra.Z=-1,ra.M=2;var ua=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(v,A){switch(v){case We.X:this.x=A;break;case We.Y:this.y=A;break;case We.Z:this.z=A;break;case We.M:this._m=A;break;default:throw new ie("Invalid ordinate index: "+v)}}},{key:"setM",value:function(v){this._m=v}},{key:"getOrdinate",value:function(v){switch(v){case We.X:return this.x;case We.Y:return this.y;case We.Z:return this.getZ();case We.M:return this.getM()}throw new ie("Invalid ordinate index: "+v)}},{key:"copy",value:function(){return new p(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(v){this.x=v.x,this.y=v.y,this.z=v.getZ(),this._m=v.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)We.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof p){var v=arguments[0];We.constructor_.call(this,v),this._m=v._m}else if(arguments[0]instanceof We){var A=arguments[0];We.constructor_.call(this,A),this._m=this.getM()}}else if(arguments.length===4){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3];We.constructor_.call(this,H,te,me),this._m=Ie}}}])})(We),ft=(function(){function R(){a(this,R)}return i(R,null,[{key:"measures",value:function(p){return p instanceof hr?0:p instanceof ra||p instanceof ua?1:0}},{key:"dimension",value:function(p){return p instanceof hr?2:p instanceof ra?3:p instanceof ua?4:3}},{key:"create",value:function(){if(arguments.length===1){var p=arguments[0];return R.create(p,0)}if(arguments.length===2){var v=arguments[0],A=arguments[1];return v===2?new hr:v===3&&A===0?new We:v===3&&A===1?new ra:v===4&&A===1?new ua:new We}}}])})(),Ke=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getCoordinate",value:function(v){return this.get(v)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&hn(arguments[0],kn)){for(var v=arguments[1],A=!1,H=arguments[0].iterator();H.hasNext();)this.add(H.next(),v),A=!0;return A}return j(p,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var v=j(p,"clone",this,1).call(this),A=0;A<this.size();A++)v.add(A,this.get(A).clone());return v}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(p.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(p.coordArrayType);for(var v=this.size(),A=new Array(v).fill(null),H=0;H<v;H++)A[H]=this.get(v-H-1);return A}}},{key:"add",value:function(){if(arguments.length===1){var v=arguments[0];return j(p,"add",this,1).call(this,v)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var A=arguments[0],H=arguments[1];return this.add(A,H,!0),!0}if(arguments[0]instanceof We&&typeof arguments[1]=="boolean"){var te=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(te))return null;j(p,"add",this,1).call(this,te)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var me=arguments[0],Ie=arguments[1];return this.add(me,Ie),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Ue=arguments[0],ot=arguments[1];if(arguments[2])for(var Ht=0;Ht<Ue.length;Ht++)this.add(Ue[Ht],ot);else for(var Wt=Ue.length-1;Wt>=0;Wt--)this.add(Ue[Wt],ot);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof We){var Fn=arguments[0],pr=arguments[1];if(!arguments[2]){var xr=this.size();if(xr>0&&(Fn>0&&this.get(Fn-1).equals2D(pr)||Fn<xr&&this.get(Fn).equals2D(pr)))return null}j(p,"add",this,1).call(this,Fn,pr)}}else if(arguments.length===4){var Dr=arguments[0],ga=arguments[1],yr=arguments[2],oi=arguments[3],to=1;yr>oi&&(to=-1);for(var Ka=yr;Ka!==oi;Ka+=to)this.add(Dr[Ka],ga);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var v=this.get(0).copy();this.add(v,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var v=arguments[0];this.ensureCapacity(v.length),this.add(v,!0)}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.ensureCapacity(A.length),this.add(A,H)}}}}])})(Ct);Ke.coordArrayType=new Array(0).fill(null);var mt=(function(){function R(){a(this,R)}return i(R,null,[{key:"isRing",value:function(p){return!(p.length<4)&&!!p[0].equals2D(p[p.length-1])}},{key:"ptNotInList",value:function(p,v){for(var A=0;A<p.length;A++){var H=p[A];if(R.indexOf(H,v)<0)return H}return null}},{key:"scroll",value:function(p,v){var A=R.indexOf(v,p);if(A<0)return null;var H=new Array(p.length).fill(null);gn.arraycopy(p,A,H,0,p.length-A),gn.arraycopy(p,0,H,p.length-A,A),gn.arraycopy(H,0,p,0,p.length)}},{key:"equals",value:function(){if(arguments.length===2){var p=arguments[0],v=arguments[1];if(p===v)return!0;if(p===null||v===null||p.length!==v.length)return!1;for(var A=0;A<p.length;A++)if(!p[A].equals(v[A]))return!1;return!0}if(arguments.length===3){var H=arguments[0],te=arguments[1],me=arguments[2];if(H===te)return!0;if(H===null||te===null||H.length!==te.length)return!1;for(var Ie=0;Ie<H.length;Ie++)if(me.compare(H[Ie],te[Ie])!==0)return!1;return!0}}},{key:"intersection",value:function(p,v){for(var A=new Ke,H=0;H<p.length;H++)v.intersects(p[H])&&A.add(p[H],!0);return A.toCoordinateArray()}},{key:"measures",value:function(p){if(p===null||p.length===0)return 0;var v,A=0,H=m(p);try{for(H.s();!(v=H.n()).done;){var te=v.value;A=Math.max(A,ft.measures(te))}}catch(me){H.e(me)}finally{H.f()}return A}},{key:"hasRepeatedPoints",value:function(p){for(var v=1;v<p.length;v++)if(p[v-1].equals(p[v]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(p){return R.hasRepeatedPoints(p)?new Ke(p,!1).toCoordinateArray():p}},{key:"reverse",value:function(p){for(var v=p.length-1,A=Math.trunc(v/2),H=0;H<=A;H++){var te=p[H];p[H]=p[v-H],p[v-H]=te}}},{key:"removeNull",value:function(p){for(var v=0,A=0;A<p.length;A++)p[A]!==null&&v++;var H=new Array(v).fill(null);if(v===0)return H;for(var te=0,me=0;me<p.length;me++)p[me]!==null&&(H[te++]=p[me]);return H}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var p=arguments[0],v=new Array(p.length).fill(null),A=0;A<p.length;A++)v[A]=p[A].copy();return v}if(arguments.length===5)for(var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3],Ue=arguments[4],ot=0;ot<Ue;ot++)me[Ie+ot]=H[te+ot].copy()}},{key:"isEqualReversed",value:function(p,v){for(var A=0;A<p.length;A++){var H=p[A],te=v[p.length-A-1];if(H.compareTo(te)!==0)return!1}return!0}},{key:"envelope",value:function(p){for(var v=new zt,A=0;A<p.length;A++)v.expandToInclude(p[A]);return v}},{key:"toCoordinateArray",value:function(p){return p.toArray(R.coordArrayType)}},{key:"dimension",value:function(p){if(p===null||p.length===0)return 3;var v,A=0,H=m(p);try{for(H.s();!(v=H.n()).done;){var te=v.value;A=Math.max(A,ft.dimension(te))}}catch(me){H.e(me)}finally{H.f()}return A}},{key:"atLeastNCoordinatesOrNothing",value:function(p,v){return v.length>=p?v:[]}},{key:"indexOf",value:function(p,v){for(var A=0;A<v.length;A++)if(p.equals(v[A]))return A;return-1}},{key:"increasingDirection",value:function(p){for(var v=0;v<Math.trunc(p.length/2);v++){var A=p.length-1-v,H=p[v].compareTo(p[A]);if(H!==0)return H}return 1}},{key:"compare",value:function(p,v){for(var A=0;A<p.length&&A<v.length;){var H=p[A].compareTo(v[A]);if(H!==0)return H;A++}return A<v.length?-1:A<p.length?1:0}},{key:"minCoordinate",value:function(p){for(var v=null,A=0;A<p.length;A++)(v===null||v.compareTo(p[A])>0)&&(v=p[A]);return v}},{key:"extract",value:function(p,v,A){v=qn.clamp(v,0,p.length);var H=(A=qn.clamp(A,-1,p.length))-v+1;A<0&&(H=0),v>=p.length&&(H=0),A<v&&(H=0);var te=new Array(H).fill(null);if(H===0)return te;for(var me=0,Ie=v;Ie<=A;Ie++)te[me++]=p[Ie];return te}}])})(),Xt=(function(){return i((function R(){a(this,R)}),[{key:"compare",value:function(R,p){var v=R,A=p;return mt.compare(v,A)}},{key:"interfaces_",get:function(){return[Re]}}])})(),Cn=(function(){return i((function R(){a(this,R)}),[{key:"compare",value:function(R,p){var v=R,A=p;if(v.length<A.length)return-1;if(v.length>A.length)return 1;if(v.length===0)return 0;var H=mt.compare(v,A);return mt.isEqualReversed(v,A)?0:H}},{key:"OLDcompare",value:function(R,p){var v=R,A=p;if(v.length<A.length)return-1;if(v.length>A.length)return 1;if(v.length===0)return 0;for(var H=mt.increasingDirection(v),te=mt.increasingDirection(A),me=H>0?0:v.length-1,Ie=te>0?0:v.length-1,Ue=0;Ue<v.length;Ue++){var ot=v[me].compareTo(A[Ie]);if(ot!==0)return ot;me+=H,Ie+=te}return 0}},{key:"interfaces_",get:function(){return[Re]}}])})();mt.ForwardComparator=Xt,mt.BidirectionalComparator=Cn,mt.coordArrayType=new Array(0).fill(null);var Yn=(function(){return i((function R(p){a(this,R),this.str=p}),[{key:"append",value:function(R){this.str+=R}},{key:"setCharAt",value:function(R,p){this.str=this.str.substr(0,R)+p+this.str.substr(R+1)}},{key:"toString",value:function(){return this.str}}])})(),Wn=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getM",value:function(p){return this.hasM()?this._coordinates[p].getM():He.NaN}},{key:"setOrdinate",value:function(p,v,A){switch(v){case ut.X:this._coordinates[p].x=A;break;case ut.Y:this._coordinates[p].y=A;break;default:this._coordinates[p].setOrdinate(v,A)}}},{key:"getZ",value:function(p){return this.hasZ()?this._coordinates[p].getZ():He.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(p,v){switch(v){case ut.X:return this._coordinates[p].x;case ut.Y:return this._coordinates[p].y;default:return this._coordinates[p].getOrdinate(v)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var p=arguments[0];return this._coordinates[p]}if(arguments.length===2){var v=arguments[0];arguments[1].setCoordinate(this._coordinates[v])}}},{key:"getCoordinateCopy",value:function(p){var v=this.createCoordinate();return v.setCoordinate(this._coordinates[p]),v}},{key:"createCoordinate",value:function(){return ft.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(p){return this._coordinates[p].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(p){for(var v=0;v<this._coordinates.length;v++)p.expandToInclude(this._coordinates[v]);return p}},{key:"copy",value:function(){for(var p=new Array(this.size()).fill(null),v=0;v<this._coordinates.length;v++){var A=this.createCoordinate();A.setCoordinate(this._coordinates[v]),p[v]=A}return new R(p,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var p=new Yn(17*this._coordinates.length);p.append("("),p.append(this._coordinates[0]);for(var v=1;v<this._coordinates.length;v++)p.append(", "),p.append(this._coordinates[v]);return p.append(")"),p.toString()}return"()"}},{key:"getY",value:function(p){return this._coordinates[p].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[ut,se]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var p=arguments[0];R.constructor_.call(this,p,mt.dimension(p),mt.measures(p))}else if(Number.isInteger(arguments[0])){var v=arguments[0];this._coordinates=new Array(v).fill(null);for(var A=0;A<v;A++)this._coordinates[A]=new We}else if(hn(arguments[0],ut)){var H=arguments[0];if(H===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=H.getDimension(),this._measures=H.getMeasures(),this._coordinates=new Array(H.size()).fill(null);for(var te=0;te<this._coordinates.length;te++)this._coordinates[te]=H.getCoordinateCopy(te)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var me=arguments[0],Ie=arguments[1];R.constructor_.call(this,me,Ie,mt.measures(me))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ue=arguments[0],ot=arguments[1];this._coordinates=new Array(Ue).fill(null),this._dimension=ot;for(var Ht=0;Ht<Ue;Ht++)this._coordinates[Ht]=ft.create(ot)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var Wt=arguments[0],Fn=arguments[1],pr=arguments[2];this._dimension=Fn,this._measures=pr,this._coordinates=Wt===null?new Array(0).fill(null):Wt}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var xr=arguments[0],Dr=arguments[1],ga=arguments[2];this._coordinates=new Array(xr).fill(null),this._dimension=Dr,this._measures=ga;for(var yr=0;yr<xr;yr++)this._coordinates[yr]=this.createCoordinate()}}}}])})(),br=(function(){function R(){a(this,R)}return i(R,[{key:"readResolve",value:function(){return R.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Wn(arguments[0]);if(hn(arguments[0],ut))return new Wn(arguments[0])}else{if(arguments.length===2){var p=arguments[1];return p>3&&(p=3),p<2&&(p=2),new Wn(arguments[0],p)}if(arguments.length===3){var v=arguments[2],A=arguments[1]-v;return v>1&&(v=1),A>3&&(A=3),A<2&&(A=2),new Wn(arguments[0],A+v,v)}}}},{key:"interfaces_",get:function(){return[Qn,se]}}],[{key:"instance",value:function(){return R.instanceObject}}])})();br.instanceObject=new br;var Br=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"copyInternal",value:function(){for(var v=new Array(this._geometries.length).fill(null),A=0;A<v.length;A++)v[A]=this._geometries[A].copy();return new p(v,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];return!!this.isEquivalentClass(v)&&j(p,"equalsExact",this,1).call(this,v,A)}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return rn.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var v=new Ct,A=0;A<this._geometries.length;A++)for(var H=this._geometries[A].getBoundary(),te=0;te<H.getNumGeometries();te++)v.add(H.getGeometryN(te));var me=new Array(v.size()).fill(null);return this.getFactory().createMultiLineString(v.toArray(me))}},{key:"getGeometryType",value:function(){return rn.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Ot]}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];qt.constructor_.call(this,v,A)}}])})(qt),_r=(function(){return i((function R(){a(this,R)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),Nr=(function(R){function p(){var v;return a(this,p),(v=r(this,p)).map=new Map,v}return w(p,R),i(p,[{key:"get",value:function(v){return this.map.get(v)||null}},{key:"put",value:function(v,A){return this.map.set(v,A),A}},{key:"values",value:function(){for(var v=new Ct,A=this.map.values(),H=A.next();!H.done;)v.add(H.value),H=A.next();return v}},{key:"entrySet",value:function(){var v=new Tn;return this.map.entries().forEach((function(A){return v.add(A)})),v}},{key:"size",value:function(){return this.map.size()}}])})(_r),Ur=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"equals",value:function(p){if(!(p instanceof R))return!1;var v=p;return this._modelType===v._modelType&&this._scale===v._scale}},{key:"compareTo",value:function(p){var v=p,A=this.getMaximumSignificantDigits(),H=v.getMaximumSignificantDigits();return _t.compare(A,H)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===R.FLOATING||this._modelType===R.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var p="UNKNOWN";return this._modelType===R.FLOATING?p="Floating":this._modelType===R.FLOATING_SINGLE?p="Floating-Single":this._modelType===R.FIXED&&(p="Fixed (Scale="+this.getScale()+")"),p}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var p=arguments[0];return He.isNaN(p)||this._modelType===R.FLOATING_SINGLE?p:this._modelType===R.FIXED?Math.round(p*this._scale)/this._scale:p}if(arguments[0]instanceof We){var v=arguments[0];if(this._modelType===R.FLOATING)return null;v.x=this.makePrecise(v.x),v.y=this.makePrecise(v.y)}}},{key:"getMaximumSignificantDigits",value:function(){var p=16;return this._modelType===R.FLOATING?p=16:this._modelType===R.FLOATING_SINGLE?p=6:this._modelType===R.FIXED&&(p=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),p}},{key:"setScale",value:function(p){this._scale=Math.abs(p)}},{key:"interfaces_",get:function(){return[se,oe]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=R.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Wa){var p=arguments[0];this._modelType=p,p===R.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var v=arguments[0];this._modelType=R.FIXED,this.setScale(v)}else if(arguments[0]instanceof R){var A=arguments[0];this._modelType=A._modelType,this._scale=A._scale}}}},{key:"mostPrecise",value:function(p,v){return p.compareTo(v)>=0?p:v}}])})(),Wa=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"readResolve",value:function(){return R.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[se]}}],[{key:"constructor_",value:function(){this._name=null;var p=arguments[0];this._name=p,R.nameToTypeMap.put(p,this)}}])})();Wa.nameToTypeMap=new Nr,Ur.Type=Wa,Ur.FIXED=new Wa("FIXED"),Ur.FLOATING=new Wa("FLOATING"),Ur.FLOATING_SINGLE=new Wa("FLOATING SINGLE"),Ur.maximumPreciseValue=9007199254740992;var Or=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"copyInternal",value:function(){for(var v=new Array(this._geometries.length).fill(null),A=0;A<v.length;A++)v[A]=this._geometries[A].copy();return new p(v,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof rn){var v=arguments[0],A=arguments[1];return!!this.isEquivalentClass(v)&&j(p,"equalsExact",this,1).call(this,v,A)}return j(p,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?on.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var v=0;v<this._geometries.length;v++)if(!this._geometries[v].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return rn.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new Lt}},{key:"getGeometryType",value:function(){return rn.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[Mr]}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];qt.constructor_.call(this,v,A)}}])})(qt),Kr=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"createEmpty",value:function(p){switch(p){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new ie("Invalid dimension: "+p)}}},{key:"toGeometry",value:function(p){return p.isNull()?this.createPoint():p.getMinX()===p.getMaxX()&&p.getMinY()===p.getMaxY()?this.createPoint(new We(p.getMinX(),p.getMinY())):p.getMinX()===p.getMaxX()||p.getMinY()===p.getMaxY()?this.createLineString([new We(p.getMinX(),p.getMinY()),new We(p.getMaxX(),p.getMaxY())]):this.createPolygon(this.createLinearRing([new We(p.getMinX(),p.getMinY()),new We(p.getMinX(),p.getMaxY()),new We(p.getMaxX(),p.getMaxY()),new We(p.getMaxX(),p.getMinY()),new We(p.getMinX(),p.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var p=arguments[0];return this.createLineString(p!==null?this.getCoordinateSequenceFactory().create(p):null)}if(hn(arguments[0],ut))return new Ir(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new Or(null,this):arguments.length===1?new Or(arguments[0],this):void 0}},{key:"buildGeometry",value:function(p){for(var v=null,A=!1,H=!1,te=p.iterator();te.hasNext();){var me=te.next(),Ie=me.getTypeCode();v===null&&(v=Ie),Ie!==v&&(A=!0),me instanceof qt&&(H=!0)}if(v===null)return this.createGeometryCollection();if(A||H)return this.createGeometryCollection(R.toGeometryArray(p));var Ue=p.iterator().next();if(p.size()>1){if(Ue instanceof Pn)return this.createMultiPolygon(R.toPolygonArray(p));if(Ue instanceof Ir)return this.createMultiLineString(R.toLineStringArray(p));if(Ue instanceof yt)return this.createMultiPoint(R.toPointArray(p));Qe.shouldNeverReachHere("Unhandled geometry type: "+Ue.getGeometryType())}return Ue}},{key:"createMultiPointFromCoords",value:function(p){return this.createMultiPoint(p!==null?this.getCoordinateSequenceFactory().create(p):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof We){var p=arguments[0];return this.createPoint(p!==null?this.getCoordinateSequenceFactory().create([p]):null)}if(hn(arguments[0],ut))return new yt(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(hn(arguments[0],ut)){var p=arguments[0];return this.createPolygon(this.createLinearRing(p))}if(arguments[0]instanceof Array){var v=arguments[0];return this.createPolygon(this.createLinearRing(v))}if(arguments[0]instanceof zn){var A=arguments[0];return this.createPolygon(A,null)}}else if(arguments.length===2)return new Pn(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new qt(null,this):arguments.length===1?new qt(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var p=arguments[0];return this.createLinearRing(p!==null?this.getCoordinateSequenceFactory().create(p):null)}if(hn(arguments[0],ut))return new zn(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new Br(null,this):arguments.length===1?new Br(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Gn(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Gn(arguments[0],this);if(hn(arguments[0],ut)){var p=arguments[0];if(p===null)return this.createMultiPoint(new Array(0).fill(null));for(var v=new Array(p.size()).fill(null),A=0;A<p.size();A++){var H=this.getCoordinateSequenceFactory().create(1,p.getDimension(),p.getMeasures());Mn.copy(p,A,H,0,1),v[A]=this.createPoint(H)}return this.createMultiPoint(v)}}}},{key:"interfaces_",get:function(){return[se]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)R.constructor_.call(this,new Ur,0);else if(arguments.length===1){if(hn(arguments[0],Qn)){var p=arguments[0];R.constructor_.call(this,new Ur,0,p)}else if(arguments[0]instanceof Ur){var v=arguments[0];R.constructor_.call(this,v,0,R.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];R.constructor_.call(this,A,H,R.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var te=arguments[0],me=arguments[1],Ie=arguments[2];this._precisionModel=te,this._coordinateSequenceFactory=Ie,this._SRID=me}}},{key:"toMultiPolygonArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toGeometryArray",value:function(p){if(p===null)return null;var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return br.instance()}},{key:"toMultiLineStringArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toLineStringArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toMultiPointArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toLinearRingArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toPointArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"toPolygonArray",value:function(p){var v=new Array(p.size()).fill(null);return p.toArray(v)}},{key:"createPointFromInternalCoord",value:function(p,v){return v.getPrecisionModel().makePrecise(p),v.getFactory().createPoint(p)}}])})(),za="XY",Za="XYZ",pa="XYM",aa="XYZM",Ol={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},$c="EMPTY",yl=1,hs=2,va=3,Ua=4,wi=5,Zs=6;for(var Kl in Ol)Ol[Kl].toUpperCase();var bo=(function(){return i((function R(p){a(this,R),this.wkt=p,this.index_=-1}),[{key:"isAlpha_",value:function(R){return R>="a"&&R<="z"||R>="A"&&R<="Z"}},{key:"isNumeric_",value:function(R,p){return R>="0"&&R<="9"||R=="."&&!(p!==void 0&&p)}},{key:"isWhiteSpace_",value:function(R){return R==" "||R=="	"||R=="\r"||R==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var R,p=this.nextChar_(),v=this.index_,A=p;if(p=="(")R=hs;else if(p==",")R=wi;else if(p==")")R=va;else if(this.isNumeric_(p)||p=="-")R=Ua,A=this.readNumber_();else if(this.isAlpha_(p))R=yl,A=this.readText_();else{if(this.isWhiteSpace_(p))return this.nextToken();if(p!=="")throw new Error("Unexpected character: "+p);R=Zs}return{position:v,value:A,type:R}}},{key:"readNumber_",value:function(){var R,p=this.index_,v=!1,A=!1;do R=="."?v=!0:R!="e"&&R!="E"||(A=!0),R=this.nextChar_();while(this.isNumeric_(R,v)||!A&&(R=="e"||R=="E")||A&&(R=="-"||R=="+"));return parseFloat(this.wkt.substring(p,this.index_--))}},{key:"readText_",value:function(){var R,p=this.index_;do R=this.nextChar_();while(this.isAlpha_(R));return this.wkt.substring(p,this.index_--).toUpperCase()}}])})(),_o=(function(){return i((function R(p,v){a(this,R),this.lexer_=p,this.token_,this.layout_=za,this.factory=v}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(R){return this.token_.type==R}},{key:"match",value:function(R){var p=this.isTokenType(R);return p&&this.consume_(),p}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var R=za,p=this.token_;if(this.isTokenType(yl)){var v=p.value;v==="Z"?R=Za:v==="M"?R=pa:v==="ZM"&&(R=aa),R!==za&&this.consume_()}return R}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(hs)){var R=[];do R.push(this.parseGeometry_());while(this.match(wi));if(this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(hs)){var R=this.parsePoint_();if(this.match(va))return R}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(hs)){var R=this.parsePointList_();if(this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(hs)){var R=this.parseLineStringTextList_();if(this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var R;if(this.match(hs)){if(R=this.token_.type==hs?this.parsePointTextList_():this.parsePointList_(),this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(hs)){var R=this.parseLineStringTextList_();if(this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(hs)){var R=this.parsePolygonTextList_();if(this.match(va))return R}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var R=[],p=this.layout_.length,v=0;v<p;++v){var A=this.token_;if(!this.match(Ua))break;R.push(A.value)}if(R.length==p)return R;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var R=[this.parsePoint_()];this.match(wi);)R.push(this.parsePoint_());return R}},{key:"parsePointTextList_",value:function(){for(var R=[this.parsePointText_()];this.match(wi);)R.push(this.parsePointText_());return R}},{key:"parseLineStringTextList_",value:function(){for(var R=[this.parseLineStringText_()];this.match(wi);)R.push(this.parseLineStringText_());return R}},{key:"parsePolygonTextList_",value:function(){for(var R=[this.parsePolygonText_()];this.match(wi);)R.push(this.parsePolygonText_());return R}},{key:"isEmptyGeometry_",value:function(){var R=this.isTokenType(yl)&&this.token_.value==$c;return R&&this.consume_(),R}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var R=this.factory,p=function(Dr){return l(We,G(Dr))},v=function(Dr){var ga=Dr.map((function(yr){return R.createLinearRing(yr.map(p))}));return ga.length>1?R.createPolygon(ga[0],ga.slice(1)):R.createPolygon(ga[0])},A=this.token_;if(this.match(yl)){var H=A.value;if(this.layout_=this.parseGeometryLayout_(),H=="GEOMETRYCOLLECTION"){var te=this.parseGeometryCollectionText_();return R.createGeometryCollection(te)}switch(H){case"POINT":var me=this.parsePointText_();return me?R.createPoint(l(We,G(me))):R.createPoint();case"LINESTRING":var Ie=this.parseLineStringText_().map(p);return R.createLineString(Ie);case"LINEARRING":var Ue=this.parseLineStringText_().map(p);return R.createLinearRing(Ue);case"POLYGON":var ot=this.parsePolygonText_();return ot&&ot.length!==0?v(ot):R.createPolygon();case"MULTIPOINT":var Ht=this.parseMultiPointText_();if(!Ht||Ht.length===0)return R.createMultiPoint();var Wt=Ht.map(p).map((function(Dr){return R.createPoint(Dr)}));return R.createMultiPoint(Wt);case"MULTILINESTRING":var Fn=this.parseMultiLineStringText_().map((function(Dr){return R.createLineString(Dr.map(p))}));return R.createMultiLineString(Fn);case"MULTIPOLYGON":var pr=this.parseMultiPolygonText_();if(!pr||pr.length===0)return R.createMultiPolygon();var xr=pr.map(v);return R.createMultiPolygon(xr);default:throw new Error("Invalid geometry type: "+H)}}throw new Error(this.formatErrorMessage_())}}])})();function Xs(R){if(R.isEmpty())return"";var p=R.getCoordinate(),v=[p.x,p.y];return p.z===void 0||Number.isNaN(p.z)||v.push(p.z),p.m===void 0||Number.isNaN(p.m)||v.push(p.m),v.join(" ")}function Lo(R){for(var p=R.getCoordinates().map((function(te){var me=[te.x,te.y];return te.z===void 0||Number.isNaN(te.z)||me.push(te.z),te.m===void 0||Number.isNaN(te.m)||me.push(te.m),me})),v=[],A=0,H=p.length;A<H;++A)v.push(p[A].join(" "));return v.join(", ")}function co(R){var p=[];p.push("("+Lo(R.getExteriorRing())+")");for(var v=0,A=R.getNumInteriorRing();v<A;++v)p.push("("+Lo(R.getInteriorRingN(v))+")");return p.join(", ")}var _u={Point:Xs,LineString:Lo,LinearRing:Lo,Polygon:co,MultiPoint:function(R){for(var p=[],v=0,A=R.getNumGeometries();v<A;++v)p.push("("+Xs(R.getGeometryN(v))+")");return p.join(", ")},MultiLineString:function(R){for(var p=[],v=0,A=R.getNumGeometries();v<A;++v)p.push("("+Lo(R.getGeometryN(v))+")");return p.join(", ")},MultiPolygon:function(R){for(var p=[],v=0,A=R.getNumGeometries();v<A;++v)p.push("("+co(R.getGeometryN(v))+")");return p.join(", ")},GeometryCollection:function(R){for(var p=[],v=0,A=R.getNumGeometries();v<A;++v)p.push(Po(R.getGeometryN(v)));return p.join(", ")}};function Po(R){var p=R.getGeometryType(),v=_u[p];p=p.toUpperCase();var A=(function(H){var te="";if(H.isEmpty())return te;var me=H.getCoordinate();return me.z===void 0||Number.isNaN(me.z)||(te+="Z"),me.m===void 0||Number.isNaN(me.m)||(te+="M"),te})(R);return A.length>0&&(p+=" "+A),R.isEmpty()?p+" "+$c:p+" ("+v(R)+")"}var wd=(function(){return i((function R(p){a(this,R),this.geometryFactory=p||new Kr,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(R){var p=new bo(R);return new _o(p,this.geometryFactory).parse()}},{key:"write",value:function(R){return Po(R)}}])})(),Is=(function(){return i((function R(p){a(this,R),this.parser=new wd(p)}),[{key:"write",value:function(R){return this.parser.write(R)}}],[{key:"toLineString",value:function(R,p){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+R.x+" "+R.y+", "+p.x+" "+p.y+" )"}}])})(),Aa=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getIndexAlongSegment",value:function(p,v){return this.computeIntLineIndex(),this._intLineIndex[p][v]}},{key:"getTopologySummary",value:function(){var p=new Yn;return this.isEndPoint()&&p.append(" endpoint"),this._isProper&&p.append(" proper"),this.isCollinear()&&p.append(" collinear"),p.toString()}},{key:"computeIntersection",value:function(p,v,A,H){this._inputLines[0][0]=p,this._inputLines[0][1]=v,this._inputLines[1][0]=A,this._inputLines[1][1]=H,this._result=this.computeIntersect(p,v,A,H)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var p=arguments[0];this.getEdgeDistance(p,0)>this.getEdgeDistance(p,1)?(this._intLineIndex[p][0]=0,this._intLineIndex[p][1]=1):(this._intLineIndex[p][0]=1,this._intLineIndex[p][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(p){this._precisionModel=p}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var p=arguments[0],v=0;v<this._result;v++)if(!this._intPt[v].equals2D(this._inputLines[p][0])&&!this._intPt[v].equals2D(this._inputLines[p][1]))return!0;return!1}}},{key:"getIntersection",value:function(p){return this._intPt[p]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==R.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(p,v){return R.computeEdgeDistance(this._intPt[v],this._inputLines[p][0],this._inputLines[p][1])}},{key:"isCollinear",value:function(){return this._result===R.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return Is.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Is.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(p,v){return this._inputLines[p][v]}},{key:"isIntersection",value:function(p){for(var v=0;v<this._result;v++)if(this._intPt[v].equals2D(p))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(p,v){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[p][v]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new We,this._intPt[1]=new We,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(p,v,A){var H=Math.abs(A.x-v.x),te=Math.abs(A.y-v.y),me=-1;if(p.equals(v))me=0;else if(p.equals(A))me=H>te?H:te;else{var Ie=Math.abs(p.x-v.x),Ue=Math.abs(p.y-v.y);(me=H>te?Ie:Ue)!==0||p.equals(v)||(me=Math.max(Ie,Ue))}return Qe.isTrue(!(me===0&&!p.equals(v)),"Bad distance calculation"),me}},{key:"nonRobustComputeEdgeDistance",value:function(p,v,A){var H=p.x-v.x,te=p.y-v.y,me=Math.sqrt(H*H+te*te);return Qe.isTrue(!(me===0&&!p.equals(v)),"Invalid distance calculation"),me}}])})();Aa.DONT_INTERSECT=0,Aa.DO_INTERSECT=1,Aa.COLLINEAR=2,Aa.NO_INTERSECTION=0,Aa.POINT_INTERSECTION=1,Aa.COLLINEAR_INTERSECTION=2;var Fo=(function(R){function p(){return a(this,p),r(this,p)}return w(p,R),i(p,[{key:"isInSegmentEnvelopes",value:function(v){var A=new zt(this._inputLines[0][0],this._inputLines[0][1]),H=new zt(this._inputLines[1][0],this._inputLines[1][1]);return A.contains(v)&&H.contains(v)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return j(p,"computeIntersection",this,1).apply(this,arguments);var v=arguments[0],A=arguments[1],H=arguments[2];if(this._isProper=!1,zt.intersects(A,H,v)&&dt.index(A,H,v)===0&&dt.index(H,A,v)===0)return this._isProper=!0,(v.equals(A)||v.equals(H))&&(this._isProper=!1),this._result=Aa.POINT_INTERSECTION,null;this._result=Aa.NO_INTERSECTION}},{key:"intersection",value:function(v,A,H,te){var me=this.intersectionSafe(v,A,H,te);return this.isInSegmentEnvelopes(me)||(me=new We(p.nearestEndpoint(v,A,H,te))),this._precisionModel!==null&&this._precisionModel.makePrecise(me),me}},{key:"checkDD",value:function(v,A,H,te,me){var Ie=qe.intersection(v,A,H,te),Ue=this.isInSegmentEnvelopes(Ie);gn.out.println("DD in env = "+Ue+"  --------------------- "+Ie),me.distance(Ie)>1e-4&&gn.out.println("Distance = "+me.distance(Ie))}},{key:"intersectionSafe",value:function(v,A,H,te){var me=Vn.intersection(v,A,H,te);return me===null&&(me=p.nearestEndpoint(v,A,H,te)),me}},{key:"computeCollinearIntersection",value:function(v,A,H,te){var me=zt.intersects(v,A,H),Ie=zt.intersects(v,A,te),Ue=zt.intersects(H,te,v),ot=zt.intersects(H,te,A);return me&&Ie?(this._intPt[0]=H,this._intPt[1]=te,Aa.COLLINEAR_INTERSECTION):Ue&&ot?(this._intPt[0]=v,this._intPt[1]=A,Aa.COLLINEAR_INTERSECTION):me&&Ue?(this._intPt[0]=H,this._intPt[1]=v,!H.equals(v)||Ie||ot?Aa.COLLINEAR_INTERSECTION:Aa.POINT_INTERSECTION):me&&ot?(this._intPt[0]=H,this._intPt[1]=A,!H.equals(A)||Ie||Ue?Aa.COLLINEAR_INTERSECTION:Aa.POINT_INTERSECTION):Ie&&Ue?(this._intPt[0]=te,this._intPt[1]=v,!te.equals(v)||me||ot?Aa.COLLINEAR_INTERSECTION:Aa.POINT_INTERSECTION):Ie&&ot?(this._intPt[0]=te,this._intPt[1]=A,!te.equals(A)||me||Ue?Aa.COLLINEAR_INTERSECTION:Aa.POINT_INTERSECTION):Aa.NO_INTERSECTION}},{key:"computeIntersect",value:function(v,A,H,te){if(this._isProper=!1,!zt.intersects(v,A,H,te))return Aa.NO_INTERSECTION;var me=dt.index(v,A,H),Ie=dt.index(v,A,te);if(me>0&&Ie>0||me<0&&Ie<0)return Aa.NO_INTERSECTION;var Ue=dt.index(H,te,v),ot=dt.index(H,te,A);return Ue>0&&ot>0||Ue<0&&ot<0?Aa.NO_INTERSECTION:me===0&&Ie===0&&Ue===0&&ot===0?this.computeCollinearIntersection(v,A,H,te):(me===0||Ie===0||Ue===0||ot===0?(this._isProper=!1,v.equals2D(H)||v.equals2D(te)?this._intPt[0]=v:A.equals2D(H)||A.equals2D(te)?this._intPt[0]=A:me===0?this._intPt[0]=new We(H):Ie===0?this._intPt[0]=new We(te):Ue===0?this._intPt[0]=new We(v):ot===0&&(this._intPt[0]=new We(A))):(this._isProper=!0,this._intPt[0]=this.intersection(v,A,H,te)),Aa.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(v,A,H,te){var me=v,Ie=Xn.pointToSegment(v,H,te),Ue=Xn.pointToSegment(A,H,te);return Ue<Ie&&(Ie=Ue,me=A),(Ue=Xn.pointToSegment(H,v,A))<Ie&&(Ie=Ue,me=H),(Ue=Xn.pointToSegment(te,v,A))<Ie&&(Ie=Ue,me=te),me}}])})(Aa),Jr=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"countSegment",value:function(p,v){if(p.x<this._p.x&&v.x<this._p.x)return null;if(this._p.x===v.x&&this._p.y===v.y)return this._isPointOnSegment=!0,null;if(p.y===this._p.y&&v.y===this._p.y){var A=p.x,H=v.x;return A>H&&(A=v.x,H=p.x),this._p.x>=A&&this._p.x<=H&&(this._isPointOnSegment=!0),null}if(p.y>this._p.y&&v.y<=this._p.y||v.y>this._p.y&&p.y<=this._p.y){var te=dt.index(p,v,this._p);if(te===dt.COLLINEAR)return this._isPointOnSegment=!0,null;v.y<p.y&&(te=-te),te===dt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==Ge.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?Ge.BOUNDARY:this._crossingCount%2==1?Ge.INTERIOR:Ge.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var p=arguments[0];this._p=p}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof We&&hn(arguments[1],ut)){for(var p=arguments[1],v=new R(arguments[0]),A=new We,H=new We,te=1;te<p.size();te++)if(p.getCoordinate(te,A),p.getCoordinate(te-1,H),v.countSegment(A,H),v.isOnSegment())return v.getLocation();return v.getLocation()}if(arguments[0]instanceof We&&arguments[1]instanceof Array){for(var me=arguments[1],Ie=new R(arguments[0]),Ue=1;Ue<me.length;Ue++){var ot=me[Ue],Ht=me[Ue-1];if(Ie.countSegment(ot,Ht),Ie.isOnSegment())return Ie.getLocation()}return Ie.getLocation()}}}])})(),ps=(function(){function R(){a(this,R)}return i(R,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof We&&hn(arguments[1],ut)){for(var p=arguments[0],v=arguments[1],A=new Fo,H=new We,te=new We,me=v.size(),Ie=1;Ie<me;Ie++)if(v.getCoordinate(Ie-1,H),v.getCoordinate(Ie,te),A.computeIntersection(p,H,te),A.hasIntersection())return!0;return!1}if(arguments[0]instanceof We&&arguments[1]instanceof Array){for(var Ue=arguments[0],ot=arguments[1],Ht=new Fo,Wt=1;Wt<ot.length;Wt++){var Fn=ot[Wt-1],pr=ot[Wt];if(Ht.computeIntersection(Ue,Fn,pr),Ht.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(p,v){return Jr.locatePointInRing(p,v)}},{key:"isInRing",value:function(p,v){return R.locateInRing(p,v)!==Ge.EXTERIOR}}])})(),xo=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"setAllLocations",value:function(p){for(var v=0;v<this.location.length;v++)this.location[v]=p}},{key:"isNull",value:function(){for(var p=0;p<this.location.length;p++)if(this.location[p]!==Ge.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(p){for(var v=0;v<this.location.length;v++)this.location[v]===Ge.NONE&&(this.location[v]=p)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(p){if(p.location.length>this.location.length){var v=new Array(3).fill(null);v[Vt.ON]=this.location[Vt.ON],v[Vt.LEFT]=Ge.NONE,v[Vt.RIGHT]=Ge.NONE,this.location=v}for(var A=0;A<this.location.length;A++)this.location[A]===Ge.NONE&&A<p.location.length&&(this.location[A]=p.location[A])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var p=this.location[Vt.LEFT];this.location[Vt.LEFT]=this.location[Vt.RIGHT],this.location[Vt.RIGHT]=p}},{key:"toString",value:function(){var p=new jn;return this.location.length>1&&p.append(Ge.toLocationSymbol(this.location[Vt.LEFT])),p.append(Ge.toLocationSymbol(this.location[Vt.ON])),this.location.length>1&&p.append(Ge.toLocationSymbol(this.location[Vt.RIGHT])),p.toString()}},{key:"setLocations",value:function(p,v,A){this.location[Vt.ON]=p,this.location[Vt.LEFT]=v,this.location[Vt.RIGHT]=A}},{key:"get",value:function(p){return p<this.location.length?this.location[p]:Ge.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var p=0;p<this.location.length;p++)if(this.location[p]===Ge.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var p=arguments[0];this.setLocation(Vt.ON,p)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this.location[v]=A}}},{key:"init",value:function(p){this.location=new Array(p).fill(null),this.setAllLocations(Ge.NONE)}},{key:"isEqualOnSide",value:function(p,v){return this.location[v]===p.location[v]}},{key:"allPositionsEqual",value:function(p){for(var v=0;v<this.location.length;v++)if(this.location[v]!==p)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var p=arguments[0];this.init(p.length)}else if(Number.isInteger(arguments[0])){var v=arguments[0];this.init(1),this.location[Vt.ON]=v}else if(arguments[0]instanceof R){var A=arguments[0];if(this.init(A.location.length),A!==null)for(var H=0;H<this.location.length;H++)this.location[H]=A.location[H]}}else if(arguments.length===3){var te=arguments[0],me=arguments[1],Ie=arguments[2];this.init(3),this.location[Vt.ON]=te,this.location[Vt.LEFT]=me,this.location[Vt.RIGHT]=Ie}}}])})(),Qi=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getGeometryCount",value:function(){var p=0;return this.elt[0].isNull()||p++,this.elt[1].isNull()||p++,p}},{key:"setAllLocations",value:function(p,v){this.elt[p].setAllLocations(v)}},{key:"isNull",value:function(p){return this.elt[p].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var p=arguments[0];this.setAllLocationsIfNull(0,p),this.setAllLocationsIfNull(1,p)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this.elt[v].setAllLocationsIfNull(A)}}},{key:"isLine",value:function(p){return this.elt[p].isLine()}},{key:"merge",value:function(p){for(var v=0;v<2;v++)this.elt[v]===null&&p.elt[v]!==null?this.elt[v]=new xo(p.elt[v]):this.elt[v].merge(p.elt[v])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var p=arguments[0];return this.elt[p].get(Vt.ON)}if(arguments.length===2){var v=arguments[0],A=arguments[1];return this.elt[v].get(A)}}},{key:"toString",value:function(){var p=new jn;return this.elt[0]!==null&&(p.append("A:"),p.append(this.elt[0].toString())),this.elt[1]!==null&&(p.append(" B:"),p.append(this.elt[1].toString())),p.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var p=arguments[0];return this.elt[p].isArea()}}},{key:"isAnyNull",value:function(p){return this.elt[p].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var p=arguments[0],v=arguments[1];this.elt[p].setLocation(Vt.ON,v)}else if(arguments.length===3){var A=arguments[0],H=arguments[1],te=arguments[2];this.elt[A].setLocation(H,te)}}},{key:"isEqualOnSide",value:function(p,v){return this.elt[0].isEqualOnSide(p.elt[0],v)&&this.elt[1].isEqualOnSide(p.elt[1],v)}},{key:"allPositionsEqual",value:function(p,v){return this.elt[p].allPositionsEqual(v)}},{key:"toLine",value:function(p){this.elt[p].isArea()&&(this.elt[p]=new xo(this.elt[p].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var p=arguments[0];this.elt[0]=new xo(p),this.elt[1]=new xo(p)}else if(arguments[0]instanceof R){var v=arguments[0];this.elt[0]=new xo(v.elt[0]),this.elt[1]=new xo(v.elt[1])}}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.elt[0]=new xo(Ge.NONE),this.elt[1]=new xo(Ge.NONE),this.elt[A].setLocation(H)}else if(arguments.length===3){var te=arguments[0],me=arguments[1],Ie=arguments[2];this.elt[0]=new xo(te,me,Ie),this.elt[1]=new xo(te,me,Ie)}else if(arguments.length===4){var Ue=arguments[0],ot=arguments[1],Ht=arguments[2],Wt=arguments[3];this.elt[0]=new xo(Ge.NONE,Ge.NONE,Ge.NONE),this.elt[1]=new xo(Ge.NONE,Ge.NONE,Ge.NONE),this.elt[Ue].setLocations(ot,Ht,Wt)}}},{key:"toLineLabel",value:function(p){for(var v=new R(Ge.NONE),A=0;A<2;A++)v.setLocation(A,p.getLocation(A));return v}}])})(),ji=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var R=new Array(this._pts.size()).fill(null),p=0;p<this._pts.size();p++)R[p]=this._pts.get(p);this._ring=this._geometryFactory.createLinearRing(R),this._isHole=dt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(R){this._startDe=R;var p=R,v=!0;do{if(p===null)throw new Bt("Found null DirectedEdge");if(p.getEdgeRing()===this)throw new Bt("Directed Edge visited twice during ring-building at "+p.getCoordinate());this._edges.add(p);var A=p.getLabel();Qe.isTrue(A.isArea()),this.mergeLabel(A),this.addPoints(p.getEdge(),p.isForward(),v),v=!1,this.setEdgeRing(p,this),p=this.getNext(p)}while(p!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(R){return this._pts.get(R)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var R=this._startDe;do{var p=R.getNode().getEdges().getOutgoingDegree(this);p>this._maxNodeDegree&&(this._maxNodeDegree=p),R=this.getNext(R)}while(R!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(R,p,v){var A=R.getCoordinates();if(p){var H=1;v&&(H=0);for(var te=H;te<A.length;te++)this._pts.add(A[te])}else{var me=A.length-2;v&&(me=A.length-1);for(var Ie=me;Ie>=0;Ie--)this._pts.add(A[Ie])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var R=this._startDe;do R.getEdge().setInResult(!0),R=R.getNext();while(R!==this._startDe)}},{key:"containsPoint",value:function(R){var p=this.getLinearRing();if(!p.getEnvelopeInternal().contains(R)||!ps.isInRing(R,p.getCoordinates()))return!1;for(var v=this._holes.iterator();v.hasNext();)if(v.next().containsPoint(R))return!1;return!0}},{key:"addHole",value:function(R){this._holes.add(R)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var R=arguments[0];this.mergeLabel(R,0),this.mergeLabel(R,1)}else if(arguments.length===2){var p=arguments[1],v=arguments[0].getLocation(p,Vt.RIGHT);if(v===Ge.NONE)return null;if(this._label.getLocation(p)===Ge.NONE)return this._label.setLocation(p,v),null}}},{key:"setShell",value:function(R){this._shell=R,R!==null&&R.addHole(this)}},{key:"toPolygon",value:function(R){for(var p=new Array(this._holes.size()).fill(null),v=0;v<this._holes.size();v++)p[v]=this._holes.get(v).getLinearRing();return R.createPolygon(this.getLinearRing(),p)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Ct,this._pts=new Ct,this._label=new Qi(Ge.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Ct,this._geometryFactory=null,arguments.length!==0&&arguments.length===2){var R=arguments[0],p=arguments[1];this._geometryFactory=p,this.computePoints(R),this.computeRing()}}}])})(),Ji=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"setEdgeRing",value:function(v,A){v.setMinEdgeRing(A)}},{key:"getNext",value:function(v){return v.getNextMin()}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];ji.constructor_.call(this,v,A)}}])})(ji),Si=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"buildMinimalRings",value:function(){var v=new Ct,A=this._startDe;do{if(A.getMinEdgeRing()===null){var H=new Ji(A,this._geometryFactory);v.add(H)}A=A.getNext()}while(A!==this._startDe);return v}},{key:"setEdgeRing",value:function(v,A){v.setEdgeRing(A)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var v=this._startDe;do v.getNode().getEdges().linkMinimalDirectedEdges(this),v=v.getNext();while(v!==this._startDe)}},{key:"getNext",value:function(v){return v.getNext()}}],[{key:"constructor_",value:function(){var v=arguments[0],A=arguments[1];ji.constructor_.call(this,v,A)}}])})(ji),Vr=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(R){this._isVisited=R}},{key:"setInResult",value:function(R){this._isInResult=R}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(R){this._label=R}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(R){this._isCovered=R,this._isCoveredSet=!0}},{key:"updateIM",value:function(R){Qe.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(R)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0&&arguments.length===1){var R=arguments[0];this._label=R}}}])})(),Va=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"isIncidentEdgeInResult",value:function(){for(var v=this.getEdges().getEdges().iterator();v.hasNext();)if(v.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(v){v.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(v){}},{key:"computeMergedLocation",value:function(v,A){var H=Ge.NONE;if(H=this._label.getLocation(A),!v.isNull(A)){var te=v.getLocation(A);H!==Ge.BOUNDARY&&(H=te)}return H}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return j(p,"setLabel",this,1).apply(this,arguments);var v=arguments[0],A=arguments[1];this._label===null?this._label=new Qi(v,A):this._label.setLocation(v,A)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof p){var v=arguments[0];this.mergeLabel(v._label)}else if(arguments[0]instanceof Qi)for(var A=arguments[0],H=0;H<2;H++){var te=this.computeMergedLocation(A,H);this._label.getLocation(H)===Ge.NONE&&this._label.setLocation(H,te)}}},{key:"add",value:function(v){this._edges.insert(v),v.setNode(this)}},{key:"setLabelBoundary",value:function(v){if(this._label===null)return null;var A=Ge.NONE;this._label!==null&&(A=this._label.getLocation(v));var H=null;switch(A){case Ge.BOUNDARY:H=Ge.INTERIOR;break;case Ge.INTERIOR:default:H=Ge.BOUNDARY}this._label.setLocation(v,H)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var v=arguments[0],A=arguments[1];this._coord=v,this._edges=A,this._label=new Qi(0,Ge.NONE)}}])})(Vr),Ks=(function(R){function p(){return a(this,p),r(this,p,arguments)}return w(p,R),i(p)})(_r);function Oi(R){return R==null?0:R.color}function da(R){return R==null?null:R.parent}function li(R,p){R!==null&&(R.color=p)}function Ns(R){return R==null?null:R.left}function Ql(R){return R==null?null:R.right}var Qr=(function(R){function p(){var v;return a(this,p),(v=r(this,p)).root_=null,v.size_=0,v}return w(p,R),i(p,[{key:"get",value:function(v){for(var A=this.root_;A!==null;){var H=v.compareTo(A.key);if(H<0)A=A.left;else{if(!(H>0))return A.value;A=A.right}}return null}},{key:"put",value:function(v,A){if(this.root_===null)return this.root_={key:v,value:A,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var H,te,me=this.root_;do if(H=me,(te=v.compareTo(me.key))<0)me=me.left;else{if(!(te>0)){var Ie=me.value;return me.value=A,Ie}me=me.right}while(me!==null);var Ue={key:v,left:null,right:null,value:A,parent:H,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return te<0?H.left=Ue:H.right=Ue,this.fixAfterInsertion(Ue),this.size_++,null}},{key:"fixAfterInsertion",value:function(v){var A;for(v.color=1;v!=null&&v!==this.root_&&v.parent.color===1;)da(v)===Ns(da(da(v)))?Oi(A=Ql(da(da(v))))===1?(li(da(v),0),li(A,0),li(da(da(v)),1),v=da(da(v))):(v===Ql(da(v))&&(v=da(v),this.rotateLeft(v)),li(da(v),0),li(da(da(v)),1),this.rotateRight(da(da(v)))):Oi(A=Ns(da(da(v))))===1?(li(da(v),0),li(A,0),li(da(da(v)),1),v=da(da(v))):(v===Ns(da(v))&&(v=da(v),this.rotateRight(v)),li(da(v),0),li(da(da(v)),1),this.rotateLeft(da(da(v))));this.root_.color=0}},{key:"values",value:function(){var v=new Ct,A=this.getFirstEntry();if(A!==null)for(v.add(A.value);(A=p.successor(A))!==null;)v.add(A.value);return v}},{key:"entrySet",value:function(){var v=new Tn,A=this.getFirstEntry();if(A!==null)for(v.add(A);(A=p.successor(A))!==null;)v.add(A);return v}},{key:"rotateLeft",value:function(v){if(v!=null){var A=v.right;v.right=A.left,A.left!=null&&(A.left.parent=v),A.parent=v.parent,v.parent==null?this.root_=A:v.parent.left===v?v.parent.left=A:v.parent.right=A,A.left=v,v.parent=A}}},{key:"rotateRight",value:function(v){if(v!=null){var A=v.left;v.left=A.right,A.right!=null&&(A.right.parent=v),A.parent=v.parent,v.parent==null?this.root_=A:v.parent.right===v?v.parent.right=A:v.parent.left=A,A.right=v,v.parent=A}}},{key:"getFirstEntry",value:function(){var v=this.root_;if(v!=null)for(;v.left!=null;)v=v.left;return v}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(v){for(var A=this.root_;A!==null;){var H=v.compareTo(A.key);if(H<0)A=A.left;else{if(!(H>0))return!0;A=A.right}}return!1}}],[{key:"successor",value:function(v){var A;if(v===null)return null;if(v.right!==null){for(A=v.right;A.left!==null;)A=A.left;return A}A=v.parent;for(var H=v;A!==null&&H===A.right;)H=A,A=A.parent;return A}}])})(Ks),Pa=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"find",value:function(R){return this.nodeMap.get(R)}},{key:"addNode",value:function(){if(arguments[0]instanceof We){var R=arguments[0],p=this.nodeMap.get(R);return p===null&&(p=this.nodeFact.createNode(R),this.nodeMap.put(R,p)),p}if(arguments[0]instanceof Va){var v=arguments[0],A=this.nodeMap.get(v.getCoordinate());return A===null?(this.nodeMap.put(v.getCoordinate(),v),v):(A.mergeLabel(v),A)}}},{key:"print",value:function(R){for(var p=this.iterator();p.hasNext();)p.next().print(R)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(R){for(var p=new Ct,v=this.iterator();v.hasNext();){var A=v.next();A.getLabel().getLocation(R)===Ge.BOUNDARY&&p.add(A)}return p}},{key:"add",value:function(R){var p=R.getCoordinate();this.addNode(p).add(R)}}],[{key:"constructor_",value:function(){this.nodeMap=new Qr,this.nodeFact=null;var R=arguments[0];this.nodeFact=R}}])})(),gi=(function(){function R(){a(this,R)}return i(R,null,[{key:"isNorthern",value:function(p){return p===R.NE||p===R.NW}},{key:"isOpposite",value:function(p,v){return p!==v&&(p-v+4)%4===2}},{key:"commonHalfPlane",value:function(p,v){if(p===v)return p;if((p-v+4)%4===2)return-1;var A=p<v?p:v;return A===0&&(p>v?p:v)===3?3:A}},{key:"isInHalfPlane",value:function(p,v){return v===R.SE?p===R.SE||p===R.SW:p===v||p===v+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1];if(p===0&&v===0)throw new ie("Cannot compute the quadrant for point ( "+p+", "+v+" )");return p>=0?v>=0?R.NE:R.SE:v>=0?R.NW:R.SW}if(arguments[0]instanceof We&&arguments[1]instanceof We){var A=arguments[0],H=arguments[1];if(H.x===A.x&&H.y===A.y)throw new ie("Cannot compute the quadrant for two identical points "+A);return H.x>=A.x?H.y>=A.y?R.NE:R.SE:H.y>=A.y?R.NW:R.SW}}}])})();gi.NE=0,gi.NW=1,gi.SW=2,gi.SE=3;var jc=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"compareDirection",value:function(p){return this._dx===p._dx&&this._dy===p._dy?0:this._quadrant>p._quadrant?1:this._quadrant<p._quadrant?-1:dt.index(p._p0,p._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(p){this._node=p}},{key:"print",value:function(p){var v=Math.atan2(this._dy,this._dx),A=this.getClass().getName(),H=A.lastIndexOf("."),te=A.substring(H+1);p.print("  "+te+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+v+"   "+this._label)}},{key:"compareTo",value:function(p){var v=p;return this.compareDirection(v)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var p=Math.atan2(this._dy,this._dx),v=this.getClass().getName(),A=v.lastIndexOf(".");return"  "+v.substring(A+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+p+"   "+this._label}},{key:"computeLabel",value:function(p){}},{key:"init",value:function(p,v){this._p0=p,this._p1=v,this._dx=v.x-p.x,this._dy=v.y-p.y,this._quadrant=gi.quadrant(this._dx,this._dy),Qe.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var p=arguments[0];this._edge=p}else if(arguments.length===3){var v=arguments[0],A=arguments[1],H=arguments[2];R.constructor_.call(this,v,A,H,null)}else if(arguments.length===4){var te=arguments[0],me=arguments[1],Ie=arguments[2],Ue=arguments[3];R.constructor_.call(this,te),this.init(me,Ie),this._label=Ue}}}])})(),rs=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(v){return this._depth[v]}},{key:"setVisited",value:function(v){this._isVisited=v}},{key:"computeDirectedLabel",value:function(){this._label=new Qi(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(v,A){if(this._depth[v]!==-999&&this._depth[v]!==A)throw new Bt("assigned depths do not match",this.getCoordinate());this._depth[v]=A}},{key:"isInteriorAreaEdge",value:function(){for(var v=!0,A=0;A<2;A++)this._label.isArea(A)&&this._label.getLocation(A,Vt.LEFT)===Ge.INTERIOR&&this._label.getLocation(A,Vt.RIGHT)===Ge.INTERIOR||(v=!1);return v}},{key:"setNextMin",value:function(v){this._nextMin=v}},{key:"print",value:function(v){j(p,"print",this,1).call(this,v),v.print(" "+this._depth[Vt.LEFT]+"/"+this._depth[Vt.RIGHT]),v.print(" ("+this.getDepthDelta()+")"),this._isInResult&&v.print(" inResult")}},{key:"setMinEdgeRing",value:function(v){this._minEdgeRing=v}},{key:"isLineEdge",value:function(){var v=this._label.isLine(0)||this._label.isLine(1),A=!this._label.isArea(0)||this._label.allPositionsEqual(0,Ge.EXTERIOR),H=!this._label.isArea(1)||this._label.allPositionsEqual(1,Ge.EXTERIOR);return v&&A&&H}},{key:"setEdgeRing",value:function(v){this._edgeRing=v}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var v=this._edge.getDepthDelta();return this._isForward||(v=-v),v}},{key:"setInResult",value:function(v){this._isInResult=v}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(v){this.print(v),v.print(" "),this._isForward?this._edge.print(v):this._edge.printReverse(v)}},{key:"setSym",value:function(v){this._sym=v}},{key:"setVisitedEdge",value:function(v){this.setVisited(v),this._sym.setVisited(v)}},{key:"setEdgeDepths",value:function(v,A){var H=this.getEdge().getDepthDelta();this._isForward||(H=-H);var te=1;v===Vt.LEFT&&(te=-1);var me=Vt.opposite(v),Ie=A+H*te;this.setDepth(v,A),this.setDepth(me,Ie)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(v){this._next=v}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var v=arguments[0],A=arguments[1];if(jc.constructor_.call(this,v),this._isForward=A,A)this.init(v.getCoordinate(0),v.getCoordinate(1));else{var H=v.getNumPoints()-1;this.init(v.getCoordinate(H),v.getCoordinate(H-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(v,A){return v===Ge.EXTERIOR&&A===Ge.INTERIOR?1:v===Ge.INTERIOR&&A===Ge.EXTERIOR?-1:0}}])})(jc),eo=(function(){return i((function R(){a(this,R)}),[{key:"createNode",value:function(R){return new Va(R,null)}}])})(),ms=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(R){R.println("Edges:");for(var p=0;p<this._edges.size();p++){R.println("edge "+p+":");var v=this._edges.get(p);v.print(R),v.eiList.print(R)}}},{key:"find",value:function(R){return this._nodes.find(R)}},{key:"addNode",value:function(){if(arguments[0]instanceof Va){var R=arguments[0];return this._nodes.addNode(R)}if(arguments[0]instanceof We){var p=arguments[0];return this._nodes.addNode(p)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var R=this._nodes.iterator();R.hasNext();)R.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(R){gn.out.println(R)}},{key:"isBoundaryNode",value:function(R,p){var v=this._nodes.find(p);if(v===null)return!1;var A=v.getLabel();return A!==null&&A.getLocation(R)===Ge.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var R=this._nodes.iterator();R.hasNext();)R.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(R,p,v,A){return!!R.equals(v)&&dt.index(R,p,A)===dt.COLLINEAR&&gi.quadrant(R,p)===gi.quadrant(v,A)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(R){gn.out.print(R)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(R,p){for(var v=0;v<this._edges.size();v++){var A=this._edges.get(v),H=A.getCoordinates();if(this.matchInSameDirection(R,p,H[0],H[1])||this.matchInSameDirection(R,p,H[H.length-1],H[H.length-2]))return A}return null}},{key:"insertEdge",value:function(R){this._edges.add(R)}},{key:"findEdgeEnd",value:function(R){for(var p=this.getEdgeEnds().iterator();p.hasNext();){var v=p.next();if(v.getEdge()===R)return v}return null}},{key:"addEdges",value:function(R){for(var p=R.iterator();p.hasNext();){var v=p.next();this._edges.add(v);var A=new rs(v,!0),H=new rs(v,!1);A.setSym(H),H.setSym(A),this.add(A),this.add(H)}}},{key:"add",value:function(R){this._nodes.add(R),this._edgeEndList.add(R)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(R,p){for(var v=0;v<this._edges.size();v++){var A=this._edges.get(v),H=A.getCoordinates();if(R.equals(H[0])&&p.equals(H[1]))return A}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Ct,this._nodes=null,this._edgeEndList=new Ct,arguments.length===0)this._nodes=new Pa(new eo);else if(arguments.length===1){var R=arguments[0];this._nodes=new Pa(R)}}},{key:"linkResultDirectedEdges",value:function(R){for(var p=R.iterator();p.hasNext();)p.next().getEdges().linkResultDirectedEdges()}}])})(),Qf=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"sortShellsAndHoles",value:function(p,v,A){for(var H=p.iterator();H.hasNext();){var te=H.next();te.isHole()?A.add(te):v.add(te)}}},{key:"computePolygons",value:function(p){for(var v=new Ct,A=p.iterator();A.hasNext();){var H=A.next().toPolygon(this._geometryFactory);v.add(H)}return v}},{key:"placeFreeHoles",value:function(p,v){for(var A=v.iterator();A.hasNext();){var H=A.next();if(H.getShell()===null){var te=R.findEdgeRingContaining(H,p);if(te===null)throw new Bt("unable to assign hole to a shell",H.getCoordinate(0));H.setShell(te)}}}},{key:"buildMinimalEdgeRings",value:function(p,v,A){for(var H=new Ct,te=p.iterator();te.hasNext();){var me=te.next();if(me.getMaxNodeDegree()>2){me.linkDirectedEdgesForMinimalEdgeRings();var Ie=me.buildMinimalRings(),Ue=this.findShell(Ie);Ue!==null?(this.placePolygonHoles(Ue,Ie),v.add(Ue)):A.addAll(Ie)}else H.add(me)}return H}},{key:"buildMaximalEdgeRings",value:function(p){for(var v=new Ct,A=p.iterator();A.hasNext();){var H=A.next();if(H.isInResult()&&H.getLabel().isArea()&&H.getEdgeRing()===null){var te=new Si(H,this._geometryFactory);v.add(te),te.setInResult()}}return v}},{key:"placePolygonHoles",value:function(p,v){for(var A=v.iterator();A.hasNext();){var H=A.next();H.isHole()&&H.setShell(p)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(p){for(var v=0,A=null,H=p.iterator();H.hasNext();){var te=H.next();te.isHole()||(A=te,v++)}return Qe.isTrue(v<=1,"found two shells in MinimalEdgeRing list"),A}},{key:"add",value:function(){if(arguments.length===1){var p=arguments[0];this.add(p.getEdgeEnds(),p.getNodes())}else if(arguments.length===2){var v=arguments[0],A=arguments[1];ms.linkResultDirectedEdges(A);var H=this.buildMaximalEdgeRings(v),te=new Ct,me=this.buildMinimalEdgeRings(H,this._shellList,te);this.sortShellsAndHoles(me,this._shellList,te),this.placeFreeHoles(this._shellList,te)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Ct;var p=arguments[0];this._geometryFactory=p}},{key:"findEdgeRingContaining",value:function(p,v){for(var A=p.getLinearRing(),H=A.getEnvelopeInternal(),te=A.getCoordinateN(0),me=null,Ie=null,Ue=v.iterator();Ue.hasNext();){var ot=Ue.next(),Ht=ot.getLinearRing(),Wt=Ht.getEnvelopeInternal();if(!Wt.equals(H)&&Wt.contains(H)){te=mt.ptNotInList(A.getCoordinates(),Ht.getCoordinates());var Fn=!1;ps.isInRing(te,Ht.getCoordinates())&&(Fn=!0),Fn&&(me===null||Ie.contains(Wt))&&(Ie=(me=ot).getLinearRing().getEnvelopeInternal())}}return me}}])})(),rc=(function(){return i((function R(){a(this,R)}),[{key:"getBounds",value:function(){}}])})(),Rs=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[rc,se]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var R=arguments[0],p=arguments[1];this._bounds=R,this._item=p}}])})(),ia=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var R=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),R}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(R){for(var p=null,v=this._items.get(R);2*R<=this._size&&((p=2*R)!==this._size&&this._items.get(p+1).compareTo(this._items.get(p))<0&&p++,this._items.get(p).compareTo(v)<0);R=p)this._items.set(R,this._items.get(p));this._items.set(R,v)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(R){this._items.add(null),this._size+=1;var p=this._size;for(this._items.set(0,R);R.compareTo(this._items.get(Math.trunc(p/2)))<0;p/=2)this._items.set(p,this._items.get(Math.trunc(p/2)));this._items.set(p,R)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Ct,this._items.add(null)}}])})(),xu=(function(){return i((function R(){a(this,R)}),[{key:"insert",value:function(R,p){}},{key:"remove",value:function(R,p){}},{key:"query",value:function(){}}])})(),Gr=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(R){Qe.isTrue(this._bounds===null),this._childBoundables.add(R)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[rc,se]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Ct,this._bounds=null,this._level=null,arguments.length!==0&&arguments.length===1){var R=arguments[0];this._level=R}}}])})(),Zr={reverseOrder:function(){return{compare:function(R,p){return p.compareTo(R)}}},min:function(R){return Zr.sort(R),R.get(0)},sort:function(R,p){var v=R.toArray();p?Yt.sort(v,p):Yt.sort(v);for(var A=R.iterator(),H=0,te=v.length;H<te;H++)A.next(),A.set(v[H])},singletonList:function(R){var p=new Ct;return p.add(R),p}},ac=(function(){function R(){a(this,R)}return i(R,null,[{key:"maxDistance",value:function(p,v,A,H,te,me,Ie,Ue){var ot=R.distance(p,v,te,me);return ot=Math.max(ot,R.distance(p,v,Ie,Ue)),ot=Math.max(ot,R.distance(A,H,te,me)),ot=Math.max(ot,R.distance(A,H,Ie,Ue))}},{key:"distance",value:function(p,v,A,H){var te=A-p,me=H-v;return Math.sqrt(te*te+me*me)}},{key:"maximumDistance",value:function(p,v){var A=Math.min(p.getMinX(),v.getMinX()),H=Math.min(p.getMinY(),v.getMinY()),te=Math.max(p.getMaxX(),v.getMaxX()),me=Math.max(p.getMaxY(),v.getMaxY());return R.distance(A,H,te,me)}},{key:"minMaxDistance",value:function(p,v){var A=p.getMinX(),H=p.getMinY(),te=p.getMaxX(),me=p.getMaxY(),Ie=v.getMinX(),Ue=v.getMinY(),ot=v.getMaxX(),Ht=v.getMaxY(),Wt=R.maxDistance(A,H,A,me,Ie,Ue,Ie,Ht);return Wt=Math.min(Wt,R.maxDistance(A,H,A,me,Ie,Ue,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(A,H,A,me,ot,Ht,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(A,H,A,me,ot,Ht,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(A,H,te,H,Ie,Ue,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(A,H,te,H,Ie,Ue,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(A,H,te,H,ot,Ht,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(A,H,te,H,ot,Ht,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(te,me,A,me,Ie,Ue,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(te,me,A,me,Ie,Ue,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(te,me,A,me,ot,Ht,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(te,me,A,me,ot,Ht,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(te,me,te,H,Ie,Ue,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(te,me,te,H,Ie,Ue,ot,Ue)),Wt=Math.min(Wt,R.maxDistance(te,me,te,H,ot,Ht,Ie,Ht)),Wt=Math.min(Wt,R.maxDistance(te,me,te,H,ot,Ht,ot,Ue))}}])})(),ea=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"maximumDistance",value:function(){return ac.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(p,v){var A=R.isComposite(this._boundable1),H=R.isComposite(this._boundable2);if(A&&H)return R.area(this._boundable1)>R.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,p,v),null):(this.expand(this._boundable2,this._boundable1,!0,p,v),null);if(A)return this.expand(this._boundable1,this._boundable2,!1,p,v),null;if(H)return this.expand(this._boundable2,this._boundable1,!0,p,v),null;throw new ie("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(R.isComposite(this._boundable1)||R.isComposite(this._boundable2))}},{key:"compareTo",value:function(p){var v=p;return this._distance<v._distance?-1:this._distance>v._distance?1:0}},{key:"expand",value:function(p,v,A,H,te){for(var me=p.getChildBoundables().iterator();me.hasNext();){var Ie=me.next(),Ue=null;(Ue=A?new R(v,Ie,this._itemDistance):new R(Ie,v,this._itemDistance)).getDistance()<te&&H.add(Ue)}}},{key:"getBoundable",value:function(p){return p===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var p=arguments[0],v=arguments[1],A=arguments[2];this._boundable1=p,this._boundable2=v,this._itemDistance=A,this._distance=this.distance()}},{key:"area",value:function(p){return p.getBounds().getArea()}},{key:"isComposite",value:function(p){return p instanceof Gr}}])})(),Sd=(function(){return i((function R(){a(this,R)}),[{key:"visitItem",value:function(R){}}])})(),Bo=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"queryInternal",value:function(){if(hn(arguments[2],Sd)&&arguments[0]instanceof Object&&arguments[1]instanceof Gr)for(var p=arguments[0],v=arguments[2],A=arguments[1].getChildBoundables(),H=0;H<A.size();H++){var te=A.get(H);this.getIntersectsOp().intersects(te.getBounds(),p)&&(te instanceof Gr?this.queryInternal(p,te,v):te instanceof Rs?v.visitItem(te.getItem()):Qe.shouldNeverReachHere())}else if(hn(arguments[2],xn)&&arguments[0]instanceof Object&&arguments[1]instanceof Gr)for(var me=arguments[0],Ie=arguments[2],Ue=arguments[1].getChildBoundables(),ot=0;ot<Ue.size();ot++){var Ht=Ue.get(ot);this.getIntersectsOp().intersects(Ht.getBounds(),me)&&(Ht instanceof Gr?this.queryInternal(me,Ht,Ie):Ht instanceof Rs?Ie.add(Ht.getItem()):Qe.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(p){return p.get(p.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var p=0,v=arguments[0].getChildBoundables().iterator();v.hasNext();){var A=v.next();A instanceof Gr?p+=this.size(A):A instanceof Rs&&(p+=1)}return p}}},{key:"removeItem",value:function(p,v){for(var A=null,H=p.getChildBoundables().iterator();H.hasNext();){var te=H.next();te instanceof Rs&&te.getItem()===v&&(A=te)}return A!==null&&(p.getChildBoundables().remove(A),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var p=this.itemsTree(this._root);return p===null?new Ct:p}if(arguments.length===1){for(var v=arguments[0],A=new Ct,H=v.getChildBoundables().iterator();H.hasNext();){var te=H.next();if(te instanceof Gr){var me=this.itemsTree(te);me!==null&&A.add(me)}else te instanceof Rs?A.add(te.getItem()):Qe.shouldNeverReachHere()}return A.size()<=0?null:A}}},{key:"insert",value:function(p,v){Qe.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Rs(p,v))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var p=arguments[0],v=new Ct;return this.boundablesAtLevel(p,this._root,v),v}if(arguments.length===3){var A=arguments[0],H=arguments[1],te=arguments[2];if(Qe.isTrue(A>-2),H.getLevel()===A)return te.add(H),null;for(var me=H.getChildBoundables().iterator();me.hasNext();){var Ie=me.next();Ie instanceof Gr?this.boundablesAtLevel(A,Ie,te):(Qe.isTrue(Ie instanceof Rs),A===-1&&te.add(Ie))}return null}}},{key:"query",value:function(){if(arguments.length===1){var p=arguments[0];this.build();var v=new Ct;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),p)&&this.queryInternal(p,this._root,v),v}if(arguments.length===2){var A=arguments[0],H=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),A)&&this.queryInternal(A,this._root,H)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var p=arguments[0],v=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),p)&&this.remove(p,this._root,v)}if(arguments.length===3){var A=arguments[0],H=arguments[1],te=arguments[2],me=this.removeItem(H,te);if(me)return!0;for(var Ie=null,Ue=H.getChildBoundables().iterator();Ue.hasNext();){var ot=Ue.next();if(this.getIntersectsOp().intersects(ot.getBounds(),A)&&ot instanceof Gr&&(me=this.remove(A,ot,te))){Ie=ot;break}}return Ie!==null&&Ie.getChildBoundables().isEmpty()&&H.getChildBoundables().remove(Ie),me}}},{key:"createHigherLevels",value:function(p,v){Qe.isTrue(!p.isEmpty());var A=this.createParentBoundables(p,v+1);return A.size()===1?A.get(0):this.createHigherLevels(A,v+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var p=0,v=arguments[0].getChildBoundables().iterator();v.hasNext();){var A=v.next();if(A instanceof Gr){var H=this.depth(A);H>p&&(p=H)}}return p+1}}},{key:"createParentBoundables",value:function(p,v){Qe.isTrue(!p.isEmpty());var A=new Ct;A.add(this.createNode(v));var H=new Ct(p);Zr.sort(H,this.getComparator());for(var te=H.iterator();te.hasNext();){var me=te.next();this.lastNode(A).getChildBoundables().size()===this.getNodeCapacity()&&A.add(this.createNode(v)),this.lastNode(A).addChildBoundable(me)}return A}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[se]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Ct,this._nodeCapacity=null,arguments.length===0)R.constructor_.call(this,R.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var p=arguments[0];Qe.isTrue(p>1,"Node capacity must be greater than 1"),this._nodeCapacity=p}}},{key:"compareDoubles",value:function(p,v){return p>v?1:p<v?-1:0}}])})();Bo.IntersectsOp=function(){},Bo.DEFAULT_NODE_CAPACITY=10;var ic=(function(){return i((function R(){a(this,R)}),[{key:"distance",value:function(R,p){}}])})(),$o=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"createParentBoundablesFromVerticalSlices",value:function(v,A){Qe.isTrue(v.length>0);for(var H=new Ct,te=0;te<v.length;te++)H.addAll(this.createParentBoundablesFromVerticalSlice(v[te],A));return H}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var v=arguments[0],A=arguments[1];return this.nearestNeighbourK(v,He.POSITIVE_INFINITY,A)}if(arguments.length===3){var H=arguments[0],te=arguments[2],me=arguments[1],Ie=new ia;Ie.add(H);for(var Ue=new ia;!Ie.isEmpty()&&me>=0;){var ot=Ie.poll(),Ht=ot.getDistance();if(Ht>=me)break;ot.isLeaves()?Ue.size()<te?Ue.add(ot):(Ue.peek().getDistance()>Ht&&(Ue.poll(),Ue.add(ot)),me=Ue.peek().getDistance()):ot.expandToQueue(Ie,me)}return p.getItems(Ue)}}},{key:"createNode",value:function(v){return new Zh(v)}},{key:"size",value:function(){return arguments.length===0?j(p,"size",this,1).call(this):j(p,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof zt))return j(p,"insert",this,1).apply(this,arguments);var v=arguments[0],A=arguments[1];if(v.isNull())return null;j(p,"insert",this,1).call(this,v,A)}},{key:"getIntersectsOp",value:function(){return p.intersectsOp}},{key:"verticalSlices",value:function(v,A){for(var H=Math.trunc(Math.ceil(v.size()/A)),te=new Array(A).fill(null),me=v.iterator(),Ie=0;Ie<A;Ie++){te[Ie]=new Ct;for(var Ue=0;me.hasNext()&&Ue<H;){var ot=me.next();te[Ie].add(ot),Ue++}}return te}},{key:"query",value:function(){if(arguments.length===1){var v=arguments[0];return j(p,"query",this,1).call(this,v)}if(arguments.length===2){var A=arguments[0],H=arguments[1];j(p,"query",this,1).call(this,A,H)}}},{key:"getComparator",value:function(){return p.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(v,A){return j(p,"createParentBoundables",this,1).call(this,v,A)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof zt){var v=arguments[0],A=arguments[1];return j(p,"remove",this,1).call(this,v,A)}return j(p,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?j(p,"depth",this,1).call(this):j(p,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(v,A){Qe.isTrue(!v.isEmpty());var H=Math.trunc(Math.ceil(v.size()/this.getNodeCapacity())),te=new Ct(v);Zr.sort(te,p.xComparator);var me=this.verticalSlices(te,Math.trunc(Math.ceil(Math.sqrt(H))));return this.createParentBoundablesFromVerticalSlices(me,A)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(hn(arguments[0],ic)){var v=arguments[0];if(this.isEmpty())return null;var A=new ea(this.getRoot(),this.getRoot(),v);return this.nearestNeighbour(A)}if(arguments[0]instanceof ea){var H=arguments[0],te=He.POSITIVE_INFINITY,me=null,Ie=new ia;for(Ie.add(H);!Ie.isEmpty()&&te>0;){var Ue=Ie.poll(),ot=Ue.getDistance();if(ot>=te)break;Ue.isLeaves()?(te=ot,me=Ue):Ue.expandToQueue(Ie,te)}return me===null?null:[me.getBoundable(0).getItem(),me.getBoundable(1).getItem()]}}else{if(arguments.length===2){var Ht=arguments[0],Wt=arguments[1];if(this.isEmpty()||Ht.isEmpty())return null;var Fn=new ea(this.getRoot(),Ht.getRoot(),Wt);return this.nearestNeighbour(Fn)}if(arguments.length===3){var pr=arguments[2],xr=new Rs(arguments[0],arguments[1]),Dr=new ea(this.getRoot(),xr,pr);return this.nearestNeighbour(Dr)[0]}if(arguments.length===4){var ga=arguments[2],yr=arguments[3],oi=new Rs(arguments[0],arguments[1]),to=new ea(this.getRoot(),oi,ga);return this.nearestNeighbourK(to,yr)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var v=arguments[0],A=arguments[1],H=He.POSITIVE_INFINITY,te=new ia;for(te.add(v);!te.isEmpty();){var me=te.poll(),Ie=me.getDistance();if(Ie>A)return!1;if(me.maximumDistance()<=A)return!0;if(me.isLeaves()){if((H=Ie)<=A)return!0}else me.expandToQueue(te,H)}return!1}if(arguments.length===3){var Ue=arguments[0],ot=arguments[1],Ht=arguments[2],Wt=new ea(this.getRoot(),Ue.getRoot(),ot);return this.isWithinDistance(Wt,Ht)}}},{key:"interfaces_",get:function(){return[xu,se]}}],[{key:"constructor_",value:function(){if(arguments.length===0)p.constructor_.call(this,p.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var v=arguments[0];Bo.constructor_.call(this,v)}}},{key:"centreX",value:function(v){return p.avg(v.getMinX(),v.getMaxX())}},{key:"avg",value:function(v,A){return(v+A)/2}},{key:"getItems",value:function(v){for(var A=new Array(v.size()).fill(null),H=0;!v.isEmpty();){var te=v.poll();A[H]=te.getBoundable(0).getItem(),H++}return A}},{key:"centreY",value:function(v){return p.avg(v.getMinY(),v.getMaxY())}}])})(Bo),Zh=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"computeBounds",value:function(){for(var v=null,A=this.getChildBoundables().iterator();A.hasNext();){var H=A.next();v===null?v=new zt(H.getBounds()):v.expandToInclude(H.getBounds())}return v}}],[{key:"constructor_",value:function(){var v=arguments[0];Gr.constructor_.call(this,v)}}])})(Gr);$o.STRtreeNode=Zh,$o.xComparator=new((function(){return i((function R(){a(this,R)}),[{key:"interfaces_",get:function(){return[Re]}},{key:"compare",value:function(R,p){return Bo.compareDoubles($o.centreX(R.getBounds()),$o.centreX(p.getBounds()))}}])})()),$o.yComparator=new((function(){return i((function R(){a(this,R)}),[{key:"interfaces_",get:function(){return[Re]}},{key:"compare",value:function(R,p){return Bo.compareDoubles($o.centreY(R.getBounds()),$o.centreY(p.getBounds()))}}])})()),$o.intersectsOp=new((function(){return i((function R(){a(this,R)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(R,p){return R.intersects(p)}}])})()),$o.DEFAULT_NODE_CAPACITY=10;var sf=(function(){function R(){a(this,R)}return i(R,null,[{key:"relativeSign",value:function(p,v){return p<v?-1:p>v?1:0}},{key:"compare",value:function(p,v,A){if(v.equals2D(A))return 0;var H=R.relativeSign(v.x,A.x),te=R.relativeSign(v.y,A.y);switch(p){case 0:return R.compareValue(H,te);case 1:return R.compareValue(te,H);case 2:return R.compareValue(te,-H);case 3:return R.compareValue(-H,te);case 4:return R.compareValue(-H,-te);case 5:return R.compareValue(-te,-H);case 6:return R.compareValue(-te,H);case 7:return R.compareValue(H,-te)}return Qe.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(p,v){return p<0?-1:p>0?1:v<0?-1:v>0?1:0}}])})(),Ms=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(R){R.print(this.coord),R.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(R){var p=R;return this.segmentIndex<p.segmentIndex?-1:this.segmentIndex>p.segmentIndex?1:this.coord.equals2D(p.coord)?0:this._isInterior?p._isInterior?sf.compare(this._segmentOctant,this.coord,p.coord):1:-1}},{key:"isEndPoint",value:function(R){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===R}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var R=arguments[0],p=arguments[1],v=arguments[2],A=arguments[3];this._segString=R,this.coord=new We(p),this.segmentIndex=v,this._segmentOctant=A,this._isInterior=!p.equals2D(R.getCoordinate(v))}}])})(),Hy=(function(){return i((function R(){a(this,R)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),Qs=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var R=new Ke;this.addEndpoints();for(var p=this.iterator(),v=p.next();p.hasNext();){var A=p.next();this.addEdgeCoordinates(v,A,R),v=A}return R.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var R=new Ct;this.findCollapsesFromInsertedNodes(R),this.findCollapsesFromExistingVertices(R);for(var p=R.iterator();p.hasNext();){var v=p.next().intValue();this.add(this._edge.getCoordinate(v),v)}}},{key:"createSplitEdgePts",value:function(R,p){var v=p.segmentIndex-R.segmentIndex+2;if(v===2)return[new We(R.coord),new We(p.coord)];var A=this._edge.getCoordinate(p.segmentIndex),H=p.isInterior()||!p.coord.equals2D(A);H||v--;var te=new Array(v).fill(null),me=0;te[me++]=new We(R.coord);for(var Ie=R.segmentIndex+1;Ie<=p.segmentIndex;Ie++)te[me++]=this._edge.getCoordinate(Ie);return H&&(te[me]=new We(p.coord)),te}},{key:"print",value:function(R){R.println("Intersections:");for(var p=this.iterator();p.hasNext();)p.next().print(R)}},{key:"findCollapsesFromExistingVertices",value:function(R){for(var p=0;p<this._edge.size()-2;p++){var v=this._edge.getCoordinate(p);this._edge.getCoordinate(p+1);var A=this._edge.getCoordinate(p+2);v.equals2D(A)&&R.add(_t.valueOf(p+1))}}},{key:"addEdgeCoordinates",value:function(R,p,v){var A=this.createSplitEdgePts(R,p);v.add(A,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(R){this.addEndpoints(),this.addCollapsedNodes();for(var p=this.iterator(),v=p.next();p.hasNext();){var A=p.next(),H=this.createSplitEdge(v,A);R.add(H),v=A}}},{key:"findCollapseIndex",value:function(R,p,v){if(!R.coord.equals2D(p.coord))return!1;var A=p.segmentIndex-R.segmentIndex;return p.isInterior()||A--,A===1&&(v[0]=R.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(R){for(var p=new Array(1).fill(null),v=this.iterator(),A=v.next();v.hasNext();){var H=v.next();this.findCollapseIndex(A,H,p)&&R.add(_t.valueOf(p[0])),A=H}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var R=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(R),R)}},{key:"createSplitEdge",value:function(R,p){var v=this.createSplitEdgePts(R,p);return new gs(v,this._edge.getData())}},{key:"add",value:function(R,p){var v=new Ms(this._edge,R,p,this._edge.getSegmentOctant(p)),A=this._nodeMap.get(v);return A!==null?(Qe.isTrue(A.coord.equals2D(R),"Found equal nodes with different coordinates"),A):(this._nodeMap.put(v,v),v)}},{key:"checkSplitEdgesCorrectness",value:function(R){var p=this._edge.getCoordinates(),v=R.get(0).getCoordinate(0);if(!v.equals2D(p[0]))throw new je("bad split edge start point at "+v);var A=R.get(R.size()-1).getCoordinates(),H=A[A.length-1];if(!H.equals2D(p[p.length-1]))throw new je("bad split edge end point at "+H)}}],[{key:"constructor_",value:function(){this._nodeMap=new Qr,this._edge=null;var R=arguments[0];this._edge=R}}])})(),Os=(function(){function R(){a(this,R)}return i(R,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var p=arguments[0],v=arguments[1];if(p===0&&v===0)throw new ie("Cannot compute the octant for point ( "+p+", "+v+" )");var A=Math.abs(p),H=Math.abs(v);return p>=0?v>=0?A>=H?0:1:A>=H?7:6:v>=0?A>=H?3:2:A>=H?4:5}if(arguments[0]instanceof We&&arguments[1]instanceof We){var te=arguments[0],me=arguments[1],Ie=me.x-te.x,Ue=me.y-te.y;if(Ie===0&&Ue===0)throw new ie("Cannot compute the octant for two identical points "+te);return R.octant(Ie,Ue)}}}])})(),Jl=(function(){return i((function R(){a(this,R)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(R){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(R){}},{key:"getData",value:function(){}}])})(),qa=(function(){return i((function R(){a(this,R)}),[{key:"addIntersection",value:function(R,p){}},{key:"interfaces_",get:function(){return[Jl]}}])})(),gs=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(p){return this._pts[p]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(p){return p===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(p),this.getCoordinate(p+1))}},{key:"setData",value:function(p){this._data=p}},{key:"safeOctant",value:function(p,v){return p.equals2D(v)?0:Os.octant(p,v)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var p=arguments[0],v=arguments[1];this.addIntersectionNode(p,v)}else if(arguments.length===4){var A=arguments[1],H=arguments[3],te=new We(arguments[0].getIntersection(H));this.addIntersection(te,A)}}},{key:"toString",value:function(){return Is.toLineString(new Wn(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(p,v){var A=v,H=A+1;if(H<this._pts.length){var te=this._pts[H];p.equals2D(te)&&(A=H)}return this._nodeList.add(p,A)}},{key:"addIntersections",value:function(p,v,A){for(var H=0;H<p.getIntersectionNum();H++)this.addIntersection(p,v,A,H)}},{key:"interfaces_",get:function(){return[qa]}}],[{key:"constructor_",value:function(){this._nodeList=new Qs(this),this._pts=null,this._data=null;var p=arguments[0],v=arguments[1];this._pts=p,this._data=v}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var p=arguments[0],v=new Ct;return R.getNodedSubstrings(p,v),v}if(arguments.length===2)for(var A=arguments[1],H=arguments[0].iterator();H.hasNext();)H.next().getNodeList().addSplitEdges(A)}}])})(),Eo=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof R){var p=arguments[0],v=dt.index(this.p0,this.p1,p.p0),A=dt.index(this.p0,this.p1,p.p1);return v>=0&&A>=0||v<=0&&A<=0?Math.max(v,A):0}if(arguments[0]instanceof We){var H=arguments[0];return dt.index(this.p0,this.p1,H)}}},{key:"toGeometry",value:function(p){return p.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(p){if(!(p instanceof R))return!1;var v=p;return this.p0.equals(v.p0)&&this.p1.equals(v.p1)}},{key:"intersection",value:function(p){var v=new Fo;return v.computeIntersection(this.p0,this.p1,p.p0,p.p1),v.hasIntersection()?v.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof We){var p=arguments[0];if(p.equals(this.p0)||p.equals(this.p1))return new We(p);var v=this.projectionFactor(p),A=new We;return A.x=this.p0.x+v*(this.p1.x-this.p0.x),A.y=this.p0.y+v*(this.p1.y-this.p0.y),A}if(arguments[0]instanceof R){var H=arguments[0],te=this.projectionFactor(H.p0),me=this.projectionFactor(H.p1);if(te>=1&&me>=1||te<=0&&me<=0)return null;var Ie=this.project(H.p0);te<0&&(Ie=this.p0),te>1&&(Ie=this.p1);var Ue=this.project(H.p1);return me<0&&(Ue=this.p0),me>1&&(Ue=this.p1),new R(Ie,Ue)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(p){return p===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(p){return Xn.pointToLinePerpendicular(p,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return R.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(p){if(p.equals(this.p0))return 0;if(p.equals(this.p1))return 1;var v=this.p1.x-this.p0.x,A=this.p1.y-this.p0.y,H=v*v+A*A;return H<=0?He.NaN:((p.x-this.p0.x)*v+(p.y-this.p0.y)*A)/H}},{key:"closestPoints",value:function(p){var v=this.intersection(p);if(v!==null)return[v,v];var A=new Array(2).fill(null),H=He.MAX_VALUE,te=null,me=this.closestPoint(p.p0);H=me.distance(p.p0),A[0]=me,A[1]=p.p0;var Ie=this.closestPoint(p.p1);(te=Ie.distance(p.p1))<H&&(H=te,A[0]=Ie,A[1]=p.p1);var Ue=p.closestPoint(this.p0);(te=Ue.distance(this.p0))<H&&(H=te,A[0]=this.p0,A[1]=Ue);var ot=p.closestPoint(this.p1);return(te=ot.distance(this.p1))<H&&(H=te,A[0]=this.p1,A[1]=ot),A}},{key:"closestPoint",value:function(p){var v=this.projectionFactor(p);return v>0&&v<1?this.project(p):this.p0.distance(p)<this.p1.distance(p)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(p){var v=p,A=this.p0.compareTo(v.p0);return A!==0?A:this.p1.compareTo(v.p1)}},{key:"reverse",value:function(){var p=this.p0;this.p0=this.p1,this.p1=p}},{key:"equalsTopo",value:function(p){return this.p0.equals(p.p0)&&this.p1.equals(p.p1)||this.p0.equals(p.p1)&&this.p1.equals(p.p0)}},{key:"lineIntersection",value:function(p){return Vn.intersection(this.p0,this.p1,p.p0,p.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(p,v){var A=this.p0.x+p*(this.p1.x-this.p0.x),H=this.p0.y+p*(this.p1.y-this.p0.y),te=this.p1.x-this.p0.x,me=this.p1.y-this.p0.y,Ie=Math.sqrt(te*te+me*me),Ue=0,ot=0;if(v!==0){if(Ie<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");Ue=v*te/Ie,ot=v*me/Ie}return new We(A-ot,H+Ue)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var p=arguments[0];this.setCoordinates(p.p0,p.p1)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this.p0.x=v.x,this.p0.y=v.y,this.p1.x=A.x,this.p1.y=A.y}}},{key:"segmentFraction",value:function(p){var v=this.projectionFactor(p);return v<0?v=0:(v>1||He.isNaN(v))&&(v=1),v}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(p){var v=this.p1.getY()-this.p0.getY(),A=this.p0.getX()-this.p1.getX(),H=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),te=v*v+A*A,me=v*v-A*A,Ie=p.getX(),Ue=p.getY();return new We((-me*Ie-2*v*A*Ue-2*v*H)/te,(me*Ue-2*v*A*Ie-2*A*H)/te)}},{key:"distance",value:function(){if(arguments[0]instanceof R){var p=arguments[0];return Xn.segmentToSegment(this.p0,this.p1,p.p0,p.p1)}if(arguments[0]instanceof We){var v=arguments[0];return Xn.pointToSegment(v,this.p0,this.p1)}}},{key:"pointAlong",value:function(p){var v=new We;return v.x=this.p0.x+p*(this.p1.x-this.p0.x),v.y=this.p0.y+p*(this.p1.y-this.p0.y),v}},{key:"hashCode",value:function(){var p=He.doubleToLongBits(this.p0.x);p^=31*He.doubleToLongBits(this.p0.y);var v=Math.trunc(p)^Math.trunc(p>>32),A=He.doubleToLongBits(this.p1.x);return A^=31*He.doubleToLongBits(this.p1.y),v^(Math.trunc(A)^Math.trunc(A>>32))}},{key:"interfaces_",get:function(){return[oe,se]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)R.constructor_.call(this,new We,new We);else if(arguments.length===1){var p=arguments[0];R.constructor_.call(this,p.p0,p.p1)}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this.p0=v,this.p1=A}else if(arguments.length===4){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3];R.constructor_.call(this,new We(H,te),new We(me,Ie))}}},{key:"midPoint",value:function(p,v){return new We((p.x+v.x)/2,(p.y+v.y)/2)}}])})(),ui=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2&&arguments.length===4){var R=arguments[1],p=arguments[2],v=arguments[3];arguments[0].getLineSegment(R,this._overlapSeg1),p.getLineSegment(v,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new Eo,this._overlapSeg2=new Eo}}])})(),Xa=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(R,p){p.p0=this._pts[R],p.p1=this._pts[R+1]}},{key:"computeSelect",value:function(R,p,v,A){var H=this._pts[p],te=this._pts[v];if(v-p==1)return A.select(this,p),null;if(!R.intersects(H,te))return null;var me=Math.trunc((p+v)/2);p<me&&this.computeSelect(R,p,me,A),me<v&&this.computeSelect(R,me,v,A)}},{key:"getCoordinates",value:function(){for(var R=new Array(this._end-this._start+1).fill(null),p=0,v=this._start;v<=this._end;v++)R[p++]=this._pts[v];return R}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var R=arguments[0],p=arguments[1];this.computeOverlaps(this._start,this._end,R,R._start,R._end,p)}else if(arguments.length===6){var v=arguments[0],A=arguments[1],H=arguments[2],te=arguments[3],me=arguments[4],Ie=arguments[5];if(A-v==1&&me-te==1)return Ie.overlap(this,v,H,te),null;if(!this.overlaps(v,A,H,te,me))return null;var Ue=Math.trunc((v+A)/2),ot=Math.trunc((te+me)/2);v<Ue&&(te<ot&&this.computeOverlaps(v,Ue,H,te,ot,Ie),ot<me&&this.computeOverlaps(v,Ue,H,ot,me,Ie)),Ue<A&&(te<ot&&this.computeOverlaps(Ue,A,H,te,ot,Ie),ot<me&&this.computeOverlaps(Ue,A,H,ot,me,Ie))}}},{key:"setId",value:function(R){this._id=R}},{key:"select",value:function(R,p){this.computeSelect(R,this._start,this._end,p)}},{key:"getEnvelope",value:function(){if(this._env===null){var R=this._pts[this._start],p=this._pts[this._end];this._env=new zt(R,p)}return this._env}},{key:"overlaps",value:function(R,p,v,A,H){return zt.intersects(this._pts[R],this._pts[p],v._pts[A],v._pts[H])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var R=arguments[0],p=arguments[1],v=arguments[2],A=arguments[3];this._pts=R,this._start=p,this._end=v,this._context=A}}])})(),Xh=(function(){function R(){a(this,R)}return i(R,null,[{key:"findChainEnd",value:function(p,v){for(var A=v;A<p.length-1&&p[A].equals2D(p[A+1]);)A++;if(A>=p.length-1)return p.length-1;for(var H=gi.quadrant(p[A],p[A+1]),te=v+1;te<p.length&&!(!p[te-1].equals2D(p[te])&&gi.quadrant(p[te-1],p[te])!==H);)te++;return te-1}},{key:"getChains",value:function(){if(arguments.length===1){var p=arguments[0];return R.getChains(p,null)}if(arguments.length===2){var v=arguments[0],A=arguments[1],H=new Ct,te=0;do{var me=R.findChainEnd(v,te),Ie=new Xa(v,te,me,A);H.add(Ie),te=me}while(te<v.length-1);return H}}}])})(),lf=(function(){return i((function R(){a(this,R)}),[{key:"computeNodes",value:function(R){}},{key:"getNodedSubstrings",value:function(){}}])})(),Jf=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(R){this._segInt=R}},{key:"interfaces_",get:function(){return[lf]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0&&arguments.length===1){var R=arguments[0];this.setSegmentIntersector(R)}}}])})(),tm=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return gs.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(v){for(var A=Xh.getChains(v.getCoordinates(),v).iterator();A.hasNext();){var H=A.next();H.setId(this._idCounter++),this._index.insert(H.getEnvelope(),H),this._monoChains.add(H)}}},{key:"computeNodes",value:function(v){this._nodedSegStrings=v;for(var A=v.iterator();A.hasNext();)this.add(A.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var v=new Td(this._segInt),A=this._monoChains.iterator();A.hasNext();)for(var H=A.next(),te=this._index.query(H.getEnvelope()).iterator();te.hasNext();){var me=te.next();if(me.getId()>H.getId()&&(H.computeOverlaps(me,v),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Ct,this._index=new $o,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0&&arguments.length===1){var v=arguments[0];Jf.constructor_.call(this,v)}}}])})(Jf),Td=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"overlap",value:function(){if(arguments.length!==4)return j(p,"overlap",this,1).apply(this,arguments);var v=arguments[1],A=arguments[2],H=arguments[3],te=arguments[0].getContext(),me=A.getContext();this._si.processIntersections(te,v,me,H)}}],[{key:"constructor_",value:function(){this._si=null;var v=arguments[0];this._si=v}}])})(ui);tm.SegmentOverlapAction=Td;var Js=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"isDeletable",value:function(p,v,A,H){var te=this._inputLine[p],me=this._inputLine[v],Ie=this._inputLine[A];return!!this.isConcave(te,me,Ie)&&!!this.isShallow(te,me,Ie,H)&&this.isShallowSampled(te,me,p,A,H)}},{key:"deleteShallowConcavities",value:function(){for(var p=1,v=this.findNextNonDeletedIndex(p),A=this.findNextNonDeletedIndex(v),H=!1;A<this._inputLine.length;){var te=!1;this.isDeletable(p,v,A,this._distanceTol)&&(this._isDeleted[v]=R.DELETE,te=!0,H=!0),p=te?A:v,v=this.findNextNonDeletedIndex(p),A=this.findNextNonDeletedIndex(v)}return H}},{key:"isShallowConcavity",value:function(p,v,A,H){return dt.index(p,v,A)===this._angleOrientation&&Xn.pointToSegment(v,p,A)<H}},{key:"isShallowSampled",value:function(p,v,A,H,te){var me=Math.trunc((H-A)/R.NUM_PTS_TO_CHECK);me<=0&&(me=1);for(var Ie=A;Ie<H;Ie+=me)if(!this.isShallow(p,v,this._inputLine[Ie],te))return!1;return!0}},{key:"isConcave",value:function(p,v,A){var H=dt.index(p,v,A)===this._angleOrientation;return H}},{key:"simplify",value:function(p){this._distanceTol=Math.abs(p),p<0&&(this._angleOrientation=dt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var v=!1;do v=this.deleteShallowConcavities();while(v);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(p){for(var v=p+1;v<this._inputLine.length&&this._isDeleted[v]===R.DELETE;)v++;return v}},{key:"isShallow",value:function(p,v,A,H){return Xn.pointToSegment(v,p,A)<H}},{key:"collapseLine",value:function(){for(var p=new Ke,v=0;v<this._inputLine.length;v++)this._isDeleted[v]!==R.DELETE&&p.add(this._inputLine[v]);return p.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=dt.COUNTERCLOCKWISE;var p=arguments[0];this._inputLine=p}},{key:"simplify",value:function(p,v){return new R(p).simplify(v)}}])})();Js.INIT=0,Js.DELETE=1,Js.KEEP=1,Js.NUM_PTS_TO_CHECK=10;var zc=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getCoordinates",value:function(){return this._ptList.toArray(R.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(p){this._precisionModel=p}},{key:"addPt",value:function(p){var v=new We(p);if(this._precisionModel.makePrecise(v),this.isRedundant(v))return null;this._ptList.add(v)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(p,v){if(v)for(var A=0;A<p.length;A++)this.addPt(p[A]);else for(var H=p.length-1;H>=0;H--)this.addPt(p[H])}},{key:"isRedundant",value:function(p){if(this._ptList.size()<1)return!1;var v=this._ptList.get(this._ptList.size()-1);return p.distance(v)<this._minimimVertexDistance}},{key:"toString",value:function(){return new Kr().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var p=new We(this._ptList.get(0)),v=this._ptList.get(this._ptList.size()-1);if(p.equals(v))return null;this._ptList.add(p)}},{key:"setMinimumVertexDistance",value:function(p){this._minimimVertexDistance=p}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Ct}}])})();zc.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var jo=(function(){function R(){a(this,R)}return i(R,null,[{key:"toDegrees",value:function(p){return 180*p/Math.PI}},{key:"normalize",value:function(p){for(;p>Math.PI;)p-=R.PI_TIMES_2;for(;p<=-Math.PI;)p+=R.PI_TIMES_2;return p}},{key:"angle",value:function(){if(arguments.length===1){var p=arguments[0];return Math.atan2(p.y,p.x)}if(arguments.length===2){var v=arguments[0],A=arguments[1],H=A.x-v.x,te=A.y-v.y;return Math.atan2(te,H)}}},{key:"isAcute",value:function(p,v,A){var H=p.x-v.x,te=p.y-v.y;return H*(A.x-v.x)+te*(A.y-v.y)>0}},{key:"isObtuse",value:function(p,v,A){var H=p.x-v.x,te=p.y-v.y;return H*(A.x-v.x)+te*(A.y-v.y)<0}},{key:"interiorAngle",value:function(p,v,A){var H=R.angle(v,p),te=R.angle(v,A);return Math.abs(te-H)}},{key:"normalizePositive",value:function(p){if(p<0){for(;p<0;)p+=R.PI_TIMES_2;p>=R.PI_TIMES_2&&(p=0)}else{for(;p>=R.PI_TIMES_2;)p-=R.PI_TIMES_2;p<0&&(p=0)}return p}},{key:"angleBetween",value:function(p,v,A){var H=R.angle(v,p),te=R.angle(v,A);return R.diff(H,te)}},{key:"diff",value:function(p,v){var A=null;return(A=p<v?v-p:p-v)>Math.PI&&(A=2*Math.PI-A),A}},{key:"toRadians",value:function(p){return p*Math.PI/180}},{key:"getTurn",value:function(p,v){var A=Math.sin(v-p);return A>0?R.COUNTERCLOCKWISE:A<0?R.CLOCKWISE:R.NONE}},{key:"angleBetweenOriented",value:function(p,v,A){var H=R.angle(v,p),te=R.angle(v,A)-H;return te<=-Math.PI?te+R.PI_TIMES_2:te>Math.PI?te-R.PI_TIMES_2:te}}])})();jo.PI_TIMES_2=2*Math.PI,jo.PI_OVER_2=Math.PI/2,jo.PI_OVER_4=Math.PI/4,jo.COUNTERCLOCKWISE=dt.COUNTERCLOCKWISE,jo.CLOCKWISE=dt.CLOCKWISE,jo.NONE=dt.COLLINEAR;var el=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"addNextSegment",value:function(p,v){if(this._s0=this._s1,this._s1=this._s2,this._s2=p,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var A=dt.index(this._s0,this._s1,this._s2),H=A===dt.CLOCKWISE&&this._side===Vt.LEFT||A===dt.COUNTERCLOCKWISE&&this._side===Vt.RIGHT;A===0?this.addCollinear(v):H?this.addOutsideTurn(A,v):this.addInsideTurn(A,v)}},{key:"addLineEndCap",value:function(p,v){var A=new Eo(p,v),H=new Eo;this.computeOffsetSegment(A,Vt.LEFT,this._distance,H);var te=new Eo;this.computeOffsetSegment(A,Vt.RIGHT,this._distance,te);var me=v.x-p.x,Ie=v.y-p.y,Ue=Math.atan2(Ie,me);switch(this._bufParams.getEndCapStyle()){case J.CAP_ROUND:this._segList.addPt(H.p1),this.addDirectedFillet(v,Ue+Math.PI/2,Ue-Math.PI/2,dt.CLOCKWISE,this._distance),this._segList.addPt(te.p1);break;case J.CAP_FLAT:this._segList.addPt(H.p1),this._segList.addPt(te.p1);break;case J.CAP_SQUARE:var ot=new We;ot.x=Math.abs(this._distance)*Math.cos(Ue),ot.y=Math.abs(this._distance)*Math.sin(Ue);var Ht=new We(H.p1.x+ot.x,H.p1.y+ot.y),Wt=new We(te.p1.x+ot.x,te.p1.y+ot.y);this._segList.addPt(Ht),this._segList.addPt(Wt)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(p,v,A,H){var te=Vn.intersection(v.p0,v.p1,A.p0,A.p1);if(te!==null&&(H<=0?1:te.distance(p)/Math.abs(H))<=this._bufParams.getMitreLimit())return this._segList.addPt(te),null;this.addLimitedMitreJoin(v,A,H,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(p,v){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*R.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===J.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===J.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(v&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,p,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(p){this._segList.addPt(new We(p.x+this._distance,p.y+this._distance)),this._segList.addPt(new We(p.x+this._distance,p.y-this._distance)),this._segList.addPt(new We(p.x-this._distance,p.y-this._distance)),this._segList.addPt(new We(p.x-this._distance,p.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(p,v){this._segList.addPts(p,v)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(p,v,A,H,te){var me=v.x-p.x,Ie=v.y-p.y,Ue=Math.atan2(Ie,me),ot=A.x-p.x,Ht=A.y-p.y,Wt=Math.atan2(Ht,ot);H===dt.CLOCKWISE?Ue<=Wt&&(Ue+=2*Math.PI):Ue>=Wt&&(Ue-=2*Math.PI),this._segList.addPt(v),this.addDirectedFillet(p,Ue,Wt,H,te),this._segList.addPt(A)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(p,v,A){this._s1=p,this._s2=v,this._side=A,this._seg1.setCoordinates(p,v),this.computeOffsetSegment(this._seg1,A,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(p,v,A,H){var te=this._seg0.p1,me=jo.angle(te,this._seg0.p0),Ie=jo.angleBetweenOriented(this._seg0.p0,te,this._seg1.p1)/2,Ue=jo.normalize(me+Ie),ot=jo.normalize(Ue+Math.PI),Ht=H*A,Wt=A-Ht*Math.abs(Math.sin(Ie)),Fn=te.x+Ht*Math.cos(ot),pr=te.y+Ht*Math.sin(ot),xr=new We(Fn,pr),Dr=new Eo(te,xr),ga=Dr.pointAlongOffset(1,Wt),yr=Dr.pointAlongOffset(1,-Wt);this._side===Vt.LEFT?(this._segList.addPt(ga),this._segList.addPt(yr)):(this._segList.addPt(yr),this._segList.addPt(ga))}},{key:"addDirectedFillet",value:function(p,v,A,H,te){var me=H===dt.CLOCKWISE?-1:1,Ie=Math.abs(v-A),Ue=Math.trunc(Ie/this._filletAngleQuantum+.5);if(Ue<1)return null;for(var ot=Ie/Ue,Ht=new We,Wt=0;Wt<Ue;Wt++){var Fn=v+me*Wt*ot;Ht.x=p.x+te*Math.cos(Fn),Ht.y=p.y+te*Math.sin(Fn),this._segList.addPt(Ht)}}},{key:"computeOffsetSegment",value:function(p,v,A,H){var te=v===Vt.LEFT?1:-1,me=p.p1.x-p.p0.x,Ie=p.p1.y-p.p0.y,Ue=Math.sqrt(me*me+Ie*Ie),ot=te*A*me/Ue,Ht=te*A*Ie/Ue;H.p0.x=p.p0.x-Ht,H.p0.y=p.p0.y+ot,H.p1.x=p.p1.x-Ht,H.p1.y=p.p1.y+ot}},{key:"addInsideTurn",value:function(p,v){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*R.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var A=new We((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(A);var H=new We((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(H)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(p){var v=new We(p.x+this._distance,p.y);this._segList.addPt(v),this.addDirectedFillet(p,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(p,v){this._segList.addPt(p.p1),this._segList.addPt(v.p0)}},{key:"init",value:function(p){this._distance=p,this._maxCurveSegmentError=p*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new zc,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(p*R.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(p){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===J.JOIN_BEVEL||this._bufParams.getJoinStyle()===J.JOIN_MITRE?(p&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,dt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Eo,this._seg1=new Eo,this._offset0=new Eo,this._offset1=new Eo,this._side=0,this._hasNarrowConcaveAngle=!1;var p=arguments[0],v=arguments[1],A=arguments[2];this._precisionModel=p,this._bufParams=v,this._li=new Fo,this._filletAngleQuantum=Math.PI/2/v.getQuadrantSegments(),v.getQuadrantSegments()>=8&&v.getJoinStyle()===J.JOIN_ROUND&&(this._closingSegLengthFactor=R.MAX_CLOSING_SEG_LEN_FACTOR),this.init(A)}}])})();el.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,el.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,el.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,el.MAX_CLOSING_SEG_LEN_FACTOR=80;var uf=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getOffsetCurve",value:function(p,v){if(this._distance=v,v===0)return null;var A=v<0,H=Math.abs(v),te=this.getSegGen(H);p.length<=1?this.computePointCurve(p[0],te):this.computeOffsetCurve(p,A,te);var me=te.getCoordinates();return A&&mt.reverse(me),me}},{key:"computeSingleSidedBufferCurve",value:function(p,v,A){var H=this.simplifyTolerance(this._distance);if(v){A.addSegments(p,!0);var te=Js.simplify(p,-H),me=te.length-1;A.initSideSegments(te[me],te[me-1],Vt.LEFT),A.addFirstSegment();for(var Ie=me-2;Ie>=0;Ie--)A.addNextSegment(te[Ie],!0)}else{A.addSegments(p,!1);var Ue=Js.simplify(p,H),ot=Ue.length-1;A.initSideSegments(Ue[0],Ue[1],Vt.LEFT),A.addFirstSegment();for(var Ht=2;Ht<=ot;Ht++)A.addNextSegment(Ue[Ht],!0)}A.addLastSegment(),A.closeRing()}},{key:"computeRingBufferCurve",value:function(p,v,A){var H=this.simplifyTolerance(this._distance);v===Vt.RIGHT&&(H=-H);var te=Js.simplify(p,H),me=te.length-1;A.initSideSegments(te[me-1],te[0],v);for(var Ie=1;Ie<=me;Ie++){var Ue=Ie!==1;A.addNextSegment(te[Ie],Ue)}A.closeRing()}},{key:"computeLineBufferCurve",value:function(p,v){var A=this.simplifyTolerance(this._distance),H=Js.simplify(p,A),te=H.length-1;v.initSideSegments(H[0],H[1],Vt.LEFT);for(var me=2;me<=te;me++)v.addNextSegment(H[me],!0);v.addLastSegment(),v.addLineEndCap(H[te-1],H[te]);var Ie=Js.simplify(p,-A),Ue=Ie.length-1;v.initSideSegments(Ie[Ue],Ie[Ue-1],Vt.LEFT);for(var ot=Ue-2;ot>=0;ot--)v.addNextSegment(Ie[ot],!0);v.addLastSegment(),v.addLineEndCap(Ie[1],Ie[0]),v.closeRing()}},{key:"computePointCurve",value:function(p,v){switch(this._bufParams.getEndCapStyle()){case J.CAP_ROUND:v.createCircle(p);break;case J.CAP_SQUARE:v.createSquare(p)}}},{key:"getLineCurve",value:function(p,v){if(this._distance=v,this.isLineOffsetEmpty(v))return null;var A=Math.abs(v),H=this.getSegGen(A);if(p.length<=1)this.computePointCurve(p[0],H);else if(this._bufParams.isSingleSided()){var te=v<0;this.computeSingleSidedBufferCurve(p,te,H)}else this.computeLineBufferCurve(p,H);return H.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(p){return p*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(p,v,A){if(this._distance=A,p.length<=2)return this.getLineCurve(p,A);if(A===0)return R.copyCoordinates(p);var H=this.getSegGen(A);return this.computeRingBufferCurve(p,v,H),H.getCoordinates()}},{key:"computeOffsetCurve",value:function(p,v,A){var H=this.simplifyTolerance(this._distance);if(v){var te=Js.simplify(p,-H),me=te.length-1;A.initSideSegments(te[me],te[me-1],Vt.LEFT),A.addFirstSegment();for(var Ie=me-2;Ie>=0;Ie--)A.addNextSegment(te[Ie],!0)}else{var Ue=Js.simplify(p,H),ot=Ue.length-1;A.initSideSegments(Ue[0],Ue[1],Vt.LEFT),A.addFirstSegment();for(var Ht=2;Ht<=ot;Ht++)A.addNextSegment(Ue[Ht],!0)}A.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(p){return p===0||p<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(p){return new el(this._precisionModel,this._bufParams,p)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var p=arguments[0],v=arguments[1];this._precisionModel=p,this._bufParams=v}},{key:"copyCoordinates",value:function(p){for(var v=new Array(p.length).fill(null),A=0;A<v.length;A++)v[A]=new We(p[A]);return v}}])})(),Uc=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var R=arguments[0],p=new Ct,v=this._subgraphs.iterator();v.hasNext();){var A=v.next(),H=A.getEnvelope();R.y<H.getMinY()||R.y>H.getMaxY()||this.findStabbedSegments(R,A.getDirectedEdges(),p)}return p}if(arguments.length===3){if(hn(arguments[2],xn)&&arguments[0]instanceof We&&arguments[1]instanceof rs){for(var te=arguments[0],me=arguments[1],Ie=arguments[2],Ue=me.getEdge().getCoordinates(),ot=0;ot<Ue.length-1;ot++)if(this._seg.p0=Ue[ot],this._seg.p1=Ue[ot+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<te.x||this._seg.isHorizontal()||te.y<this._seg.p0.y||te.y>this._seg.p1.y||dt.index(this._seg.p0,this._seg.p1,te)===dt.RIGHT)){var Ht=me.getDepth(Vt.LEFT);this._seg.p0.equals(Ue[ot])||(Ht=me.getDepth(Vt.RIGHT));var Wt=new Di(this._seg,Ht);Ie.add(Wt)}}else if(hn(arguments[2],xn)&&arguments[0]instanceof We&&hn(arguments[1],xn))for(var Fn=arguments[0],pr=arguments[2],xr=arguments[1].iterator();xr.hasNext();){var Dr=xr.next();Dr.isForward()&&this.findStabbedSegments(Fn,Dr,pr)}}}},{key:"getDepth",value:function(R){var p=this.findStabbedSegments(R);return p.size()===0?0:Zr.min(p)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new Eo;var R=arguments[0];this._subgraphs=R}}])})(),Di=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(R){var p=R;if(this._upwardSeg.minX()>=p._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=p._upwardSeg.minX())return-1;var v=this._upwardSeg.orientationIndex(p._upwardSeg);return v!==0||(v=-1*p._upwardSeg.orientationIndex(this._upwardSeg))!==0?v:this._upwardSeg.compareTo(p._upwardSeg)}},{key:"compareX",value:function(R,p){var v=R.p0.compareTo(p.p0);return v!==0?v:R.p1.compareTo(p.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var R=arguments[0],p=arguments[1];this._upwardSeg=new Eo(R),this._leftDepth=p}}])})();Uc.DepthSegment=Di;var oc=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,null,[{key:"constructor_",value:function(){ne.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(ne),Eu=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getY",value:function(){var p=this.y/this.w;if(He.isNaN(p)||He.isInfinite(p))throw new oc;return p}},{key:"getX",value:function(){var p=this.x/this.w;if(He.isNaN(p)||He.isInfinite(p))throw new oc;return p}},{key:"getCoordinate",value:function(){var p=new We;return p.x=this.getX(),p.y=this.getY(),p}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var p=arguments[0];this.x=p.x,this.y=p.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var v=arguments[0],A=arguments[1];this.x=v,this.y=A,this.w=1}else if(arguments[0]instanceof R&&arguments[1]instanceof R){var H=arguments[0],te=arguments[1];this.x=H.y*te.w-te.y*H.w,this.y=te.x*H.w-H.x*te.w,this.w=H.x*te.y-te.x*H.y}else if(arguments[0]instanceof We&&arguments[1]instanceof We){var me=arguments[0],Ie=arguments[1];this.x=me.y-Ie.y,this.y=Ie.x-me.x,this.w=me.x*Ie.y-Ie.x*me.y}}else if(arguments.length===3){var Ue=arguments[0],ot=arguments[1],Ht=arguments[2];this.x=Ue,this.y=ot,this.w=Ht}else if(arguments.length===4){var Wt=arguments[0],Fn=arguments[1],pr=arguments[2],xr=arguments[3],Dr=Wt.y-Fn.y,ga=Fn.x-Wt.x,yr=Wt.x*Fn.y-Fn.x*Wt.y,oi=pr.y-xr.y,to=xr.x-pr.x,Ka=pr.x*xr.y-xr.x*pr.y;this.x=ga*Ka-to*yr,this.y=oi*yr-Dr*Ka,this.w=Dr*to-oi*ga}}}])})(),Cd=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"area",value:function(){return R.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return R.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(p){if(p===null)throw new ie("Supplied point is null.");return R.interpolateZ(p,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return R.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return R.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return R.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return R.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return R.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return R.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var p=arguments[0],v=arguments[1],A=arguments[2];this.p0=p,this.p1=v,this.p2=A}},{key:"area",value:function(p,v,A){return Math.abs(((A.x-p.x)*(v.y-p.y)-(v.x-p.x)*(A.y-p.y))/2)}},{key:"signedArea",value:function(p,v,A){return((A.x-p.x)*(v.y-p.y)-(v.x-p.x)*(A.y-p.y))/2}},{key:"det",value:function(p,v,A,H){return p*H-v*A}},{key:"interpolateZ",value:function(p,v,A,H){var te=v.x,me=v.y,Ie=A.x-te,Ue=H.x-te,ot=A.y-me,Ht=H.y-me,Wt=Ie*Ht-Ue*ot,Fn=p.x-te,pr=p.y-me,xr=(Ht*Fn-Ue*pr)/Wt,Dr=(-ot*Fn+Ie*pr)/Wt;return v.getZ()+xr*(A.getZ()-v.getZ())+Dr*(H.getZ()-v.getZ())}},{key:"longestSideLength",value:function(p,v,A){var H=p.distance(v),te=v.distance(A),me=A.distance(p),Ie=H;return te>Ie&&(Ie=te),me>Ie&&(Ie=me),Ie}},{key:"circumcentreDD",value:function(p,v,A){var H=ke.valueOf(p.x).subtract(A.x),te=ke.valueOf(p.y).subtract(A.y),me=ke.valueOf(v.x).subtract(A.x),Ie=ke.valueOf(v.y).subtract(A.y),Ue=ke.determinant(H,te,me,Ie).multiply(2),ot=H.sqr().add(te.sqr()),Ht=me.sqr().add(Ie.sqr()),Wt=ke.determinant(te,ot,Ie,Ht),Fn=ke.determinant(H,ot,me,Ht),pr=ke.valueOf(A.x).subtract(Wt.divide(Ue)).doubleValue(),xr=ke.valueOf(A.y).add(Fn.divide(Ue)).doubleValue();return new We(pr,xr)}},{key:"isAcute",value:function(p,v,A){return!!jo.isAcute(p,v,A)&&!!jo.isAcute(v,A,p)&&!!jo.isAcute(A,p,v)}},{key:"circumcentre",value:function(p,v,A){var H=A.x,te=A.y,me=p.x-H,Ie=p.y-te,Ue=v.x-H,ot=v.y-te,Ht=2*R.det(me,Ie,Ue,ot),Wt=R.det(Ie,me*me+Ie*Ie,ot,Ue*Ue+ot*ot),Fn=R.det(me,me*me+Ie*Ie,Ue,Ue*Ue+ot*ot);return new We(H-Wt/Ht,te+Fn/Ht)}},{key:"perpendicularBisector",value:function(p,v){var A=v.x-p.x,H=v.y-p.y,te=new Eu(p.x+A/2,p.y+H/2,1),me=new Eu(p.x-H+A/2,p.y+A+H/2,1);return new Eu(te,me)}},{key:"angleBisector",value:function(p,v,A){var H=v.distance(p),te=H/(H+v.distance(A)),me=A.x-p.x,Ie=A.y-p.y;return new We(p.x+te*me,p.y+te*Ie)}},{key:"area3D",value:function(p,v,A){var H=v.x-p.x,te=v.y-p.y,me=v.getZ()-p.getZ(),Ie=A.x-p.x,Ue=A.y-p.y,ot=A.getZ()-p.getZ(),Ht=te*ot-me*Ue,Wt=me*Ie-H*ot,Fn=H*Ue-te*Ie,pr=Ht*Ht+Wt*Wt+Fn*Fn,xr=Math.sqrt(pr)/2;return xr}},{key:"centroid",value:function(p,v,A){var H=(p.x+v.x+A.x)/3,te=(p.y+v.y+A.y)/3;return new We(H,te)}},{key:"inCentre",value:function(p,v,A){var H=v.distance(A),te=p.distance(A),me=p.distance(v),Ie=H+te+me,Ue=(H*p.x+te*v.x+me*A.x)/Ie,ot=(H*p.y+te*v.y+me*A.y)/Ie;return new We(Ue,ot)}}])})(),Gc=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(R,p,v,A,H){if(p===0&&R.length<zn.MINIMUM_VALID_SIZE)return null;var te=A,me=H;R.length>=zn.MINIMUM_VALID_SIZE&&dt.isCCW(R)&&(te=H,me=A,v=Vt.opposite(v));var Ie=this._curveBuilder.getRingCurve(R,v,p);this.addCurve(Ie,te,me)}},{key:"addRingBothSides",value:function(R,p){this.addRingSide(R,p,Vt.LEFT,Ge.EXTERIOR,Ge.INTERIOR),this.addRingSide(R,p,Vt.RIGHT,Ge.INTERIOR,Ge.EXTERIOR)}},{key:"addPoint",value:function(R){if(this._distance<=0)return null;var p=R.getCoordinates(),v=this._curveBuilder.getLineCurve(p,this._distance);this.addCurve(v,Ge.EXTERIOR,Ge.INTERIOR)}},{key:"addPolygon",value:function(R){var p=this._distance,v=Vt.LEFT;this._distance<0&&(p=-this._distance,v=Vt.RIGHT);var A=R.getExteriorRing(),H=mt.removeRepeatedPoints(A.getCoordinates());if(this._distance<0&&this.isErodedCompletely(A,this._distance)||this._distance<=0&&H.length<3)return null;this.addRingSide(H,p,v,Ge.EXTERIOR,Ge.INTERIOR);for(var te=0;te<R.getNumInteriorRing();te++){var me=R.getInteriorRingN(te),Ie=mt.removeRepeatedPoints(me.getCoordinates());this._distance>0&&this.isErodedCompletely(me,-this._distance)||this.addRingSide(Ie,p,Vt.opposite(v),Ge.INTERIOR,Ge.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(R,p){var v=new Cd(R[0],R[1],R[2]),A=v.inCentre();return Xn.pointToSegment(A,v.p0,v.p1)<Math.abs(p)}},{key:"addLineString",value:function(R){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var p=mt.removeRepeatedPoints(R.getCoordinates());if(mt.isRing(p)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(p,this._distance);else{var v=this._curveBuilder.getLineCurve(p,this._distance);this.addCurve(v,Ge.EXTERIOR,Ge.INTERIOR)}}},{key:"addCurve",value:function(R,p,v){if(R===null||R.length<2)return null;var A=new gs(R,new Qi(0,Ge.BOUNDARY,p,v));this._curveList.add(A)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(R){if(R.isEmpty())return null;if(R instanceof Pn)this.addPolygon(R);else if(R instanceof Ir)this.addLineString(R);else if(R instanceof yt)this.addPoint(R);else if(R instanceof Gn)this.addCollection(R);else if(R instanceof Or)this.addCollection(R);else if(R instanceof Br)this.addCollection(R);else{if(!(R instanceof qt))throw new Lt(R.getGeometryType());this.addCollection(R)}}},{key:"isErodedCompletely",value:function(R,p){var v=R.getCoordinates();if(v.length<4)return p<0;if(v.length===4)return this.isTriangleErodedCompletely(v,p);var A=R.getEnvelopeInternal(),H=Math.min(A.getHeight(),A.getWidth());return p<0&&2*Math.abs(p)>H}},{key:"addCollection",value:function(R){for(var p=0;p<R.getNumGeometries();p++){var v=R.getGeometryN(p);this.add(v)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Ct;var R=arguments[0],p=arguments[1],v=arguments[2];this._inputGeom=R,this._distance=p,this._curveBuilder=v}}])})(),Kh=(function(){return i((function R(){a(this,R)}),[{key:"locate",value:function(R){}}])})(),Ad=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,R.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new _n;var p=this._parent.getGeometryN(this._index++);return p instanceof qt?(this._subcollectionIterator=new R(p),this._subcollectionIterator.next()):p}},{key:"remove",value:function(){throw new Lt(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[Hy]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var p=arguments[0];this._parent=p,this._atStart=!0,this._index=0,this._max=p.getNumGeometries()}},{key:"isAtomic",value:function(p){return!(p instanceof qt)}}])})(),bg=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"locate",value:function(p){return R.locate(p,this._geom)}},{key:"interfaces_",get:function(){return[Kh]}}],[{key:"constructor_",value:function(){this._geom=null;var p=arguments[0];this._geom=p}},{key:"locatePointInPolygon",value:function(p,v){if(v.isEmpty())return Ge.EXTERIOR;var A=v.getExteriorRing(),H=R.locatePointInRing(p,A);if(H!==Ge.INTERIOR)return H;for(var te=0;te<v.getNumInteriorRing();te++){var me=v.getInteriorRingN(te),Ie=R.locatePointInRing(p,me);if(Ie===Ge.BOUNDARY)return Ge.BOUNDARY;if(Ie===Ge.INTERIOR)return Ge.EXTERIOR}return Ge.INTERIOR}},{key:"locatePointInRing",value:function(p,v){return v.getEnvelopeInternal().intersects(p)?ps.locateInRing(p,v.getCoordinates()):Ge.EXTERIOR}},{key:"containsPointInPolygon",value:function(p,v){return Ge.EXTERIOR!==R.locatePointInPolygon(p,v)}},{key:"locateInGeometry",value:function(p,v){if(v instanceof Pn)return R.locatePointInPolygon(p,v);if(v instanceof qt)for(var A=new Ad(v);A.hasNext();){var H=A.next();if(H!==v){var te=R.locateInGeometry(p,H);if(te!==Ge.EXTERIOR)return te}}return Ge.EXTERIOR}},{key:"isContained",value:function(p,v){return Ge.EXTERIOR!==R.locate(p,v)}},{key:"locate",value:function(p,v){return v.isEmpty()?Ge.EXTERIOR:v.getEnvelopeInternal().intersects(p)?R.locateInGeometry(p,v):Ge.EXTERIOR}}])})(),Dl=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(R){this.getEdges();var p=this._edgeList.indexOf(R),v=p-1;return p===0&&(v=this._edgeList.size()-1),this._edgeList.get(v)}},{key:"propagateSideLabels",value:function(R){for(var p=Ge.NONE,v=this.iterator();v.hasNext();){var A=v.next().getLabel();A.isArea(R)&&A.getLocation(R,Vt.LEFT)!==Ge.NONE&&(p=A.getLocation(R,Vt.LEFT))}if(p===Ge.NONE)return null;for(var H=p,te=this.iterator();te.hasNext();){var me=te.next(),Ie=me.getLabel();if(Ie.getLocation(R,Vt.ON)===Ge.NONE&&Ie.setLocation(R,Vt.ON,H),Ie.isArea(R)){var Ue=Ie.getLocation(R,Vt.LEFT),ot=Ie.getLocation(R,Vt.RIGHT);if(ot!==Ge.NONE){if(ot!==H)throw new Bt("side location conflict",me.getCoordinate());Ue===Ge.NONE&&Qe.shouldNeverReachHere("found single null side (at "+me.getCoordinate()+")"),H=Ue}else Qe.isTrue(Ie.getLocation(R,Vt.LEFT)===Ge.NONE,"found single null side"),Ie.setLocation(R,Vt.RIGHT,H),Ie.setLocation(R,Vt.LEFT,H)}}}},{key:"getCoordinate",value:function(){var R=this.iterator();return R.hasNext()?R.next().getCoordinate():null}},{key:"print",value:function(R){gn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var p=this.iterator();p.hasNext();)p.next().print(R)}},{key:"isAreaLabelsConsistent",value:function(R){return this.computeEdgeEndLabels(R.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(R){var p=this.getEdges();if(p.size()<=0)return!0;var v=p.size()-1,A=p.get(v).getLabel().getLocation(R,Vt.LEFT);Qe.isTrue(A!==Ge.NONE,"Found unlabelled area edge");for(var H=A,te=this.iterator();te.hasNext();){var me=te.next().getLabel();Qe.isTrue(me.isArea(R),"Found non-area edge");var Ie=me.getLocation(R,Vt.LEFT),Ue=me.getLocation(R,Vt.RIGHT);if(Ie===Ue||Ue!==H)return!1;H=Ie}return!0}},{key:"findIndex",value:function(R){this.iterator();for(var p=0;p<this._edgeList.size();p++)if(this._edgeList.get(p)===R)return p;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Ct(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(R,p,v){return this._ptInAreaLocation[R]===Ge.NONE&&(this._ptInAreaLocation[R]=bg.locate(p,v[R].getGeometry())),this._ptInAreaLocation[R]}},{key:"toString",value:function(){var R=new jn;R.append("EdgeEndStar:   "+this.getCoordinate()),R.append(`
`);for(var p=this.iterator();p.hasNext();){var v=p.next();R.append(v),R.append(`
`)}return R.toString()}},{key:"computeEdgeEndLabels",value:function(R){for(var p=this.iterator();p.hasNext();)p.next().computeLabel(R)}},{key:"computeLabelling",value:function(R){this.computeEdgeEndLabels(R[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var p=[!1,!1],v=this.iterator();v.hasNext();)for(var A=v.next().getLabel(),H=0;H<2;H++)A.isLine(H)&&A.getLocation(H)===Ge.BOUNDARY&&(p[H]=!0);for(var te=this.iterator();te.hasNext();)for(var me=te.next(),Ie=me.getLabel(),Ue=0;Ue<2;Ue++)if(Ie.isAnyNull(Ue)){var ot=Ge.NONE;if(p[Ue])ot=Ge.EXTERIOR;else{var Ht=me.getCoordinate();ot=this.getLocation(Ue,Ht,R)}Ie.setAllLocationsIfNull(Ue,ot)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(R,p){this._edgeMap.put(R,p),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Qr,this._edgeList=null,this._ptInAreaLocation=[Ge.NONE,Ge.NONE]}}])})(),ys=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var v=null,A=null,H=this._SCANNING_FOR_INCOMING,te=0;te<this._resultAreaEdgeList.size();te++){var me=this._resultAreaEdgeList.get(te),Ie=me.getSym();if(me.getLabel().isArea())switch(v===null&&me.isInResult()&&(v=me),H){case this._SCANNING_FOR_INCOMING:if(!Ie.isInResult())continue;A=Ie,H=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!me.isInResult())continue;A.setNext(me),H=this._SCANNING_FOR_INCOMING}}if(H===this._LINKING_TO_OUTGOING){if(v===null)throw new Bt("no outgoing dirEdge found",this.getCoordinate());Qe.isTrue(v.isInResult(),"unable to link last incoming dirEdge"),A.setNext(v)}}},{key:"insert",value:function(v){var A=v;this.insertEdgeEnd(A,A)}},{key:"getRightmostEdge",value:function(){var v=this.getEdges(),A=v.size();if(A<1)return null;var H=v.get(0);if(A===1)return H;var te=v.get(A-1),me=H.getQuadrant(),Ie=te.getQuadrant();return gi.isNorthern(me)&&gi.isNorthern(Ie)?H:gi.isNorthern(me)||gi.isNorthern(Ie)?H.getDy()!==0?H:te.getDy()!==0?te:(Qe.shouldNeverReachHere("found two horizontal edges incident on node"),null):te}},{key:"print",value:function(v){gn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var A=this.iterator();A.hasNext();){var H=A.next();v.print("out "),H.print(v),v.println(),v.print("in "),H.getSym().print(v),v.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Ct;for(var v=this.iterator();v.hasNext();){var A=v.next();(A.isInResult()||A.getSym().isInResult())&&this._resultAreaEdgeList.add(A)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(v){for(var A=this.iterator();A.hasNext();){var H=A.next().getLabel();H.setAllLocationsIfNull(0,v.getLocation(0)),H.setAllLocationsIfNull(1,v.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var v=null,A=null,H=this._edgeList.size()-1;H>=0;H--){var te=this._edgeList.get(H),me=te.getSym();A===null&&(A=me),v!==null&&me.setNext(v),v=te}A.setNext(v)}},{key:"computeDepths",value:function(){if(arguments.length===1){var v=arguments[0],A=this.findIndex(v),H=v.getDepth(Vt.LEFT),te=v.getDepth(Vt.RIGHT),me=this.computeDepths(A+1,this._edgeList.size(),H);if(this.computeDepths(0,A,me)!==te)throw new Bt("depth mismatch at "+v.getCoordinate())}else if(arguments.length===3){for(var Ie=arguments[1],Ue=arguments[2],ot=arguments[0];ot<Ie;ot++){var Ht=this._edgeList.get(ot);Ht.setEdgeDepths(Vt.RIGHT,Ue),Ue=Ht.getDepth(Vt.LEFT)}return Ue}}},{key:"mergeSymLabels",value:function(){for(var v=this.iterator();v.hasNext();){var A=v.next();A.getLabel().merge(A.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(v){for(var A=null,H=null,te=this._SCANNING_FOR_INCOMING,me=this._resultAreaEdgeList.size()-1;me>=0;me--){var Ie=this._resultAreaEdgeList.get(me),Ue=Ie.getSym();switch(A===null&&Ie.getEdgeRing()===v&&(A=Ie),te){case this._SCANNING_FOR_INCOMING:if(Ue.getEdgeRing()!==v)continue;H=Ue,te=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(Ie.getEdgeRing()!==v)continue;H.setNextMin(Ie),te=this._SCANNING_FOR_INCOMING}}te===this._LINKING_TO_OUTGOING&&(Qe.isTrue(A!==null,"found null for first outgoing dirEdge"),Qe.isTrue(A.getEdgeRing()===v,"unable to link last incoming dirEdge"),H.setNextMin(A))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var v=0,A=this.iterator();A.hasNext();)A.next().isInResult()&&v++;return v}if(arguments.length===1){for(var H=arguments[0],te=0,me=this.iterator();me.hasNext();)me.next().getEdgeRing()===H&&te++;return te}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var v=Ge.NONE,A=this.iterator();A.hasNext();){var H=A.next(),te=H.getSym();if(!H.isLineEdge()){if(H.isInResult()){v=Ge.INTERIOR;break}if(te.isInResult()){v=Ge.EXTERIOR;break}}}if(v===Ge.NONE)return null;for(var me=v,Ie=this.iterator();Ie.hasNext();){var Ue=Ie.next(),ot=Ue.getSym();Ue.isLineEdge()?Ue.getEdge().setCovered(me===Ge.INTERIOR):(Ue.isInResult()&&(me=Ge.EXTERIOR),ot.isInResult()&&(me=Ge.INTERIOR))}}},{key:"computeLabelling",value:function(v){j(p,"computeLabelling",this,1).call(this,v),this._label=new Qi(Ge.NONE);for(var A=this.iterator();A.hasNext();)for(var H=A.next().getEdge().getLabel(),te=0;te<2;te++){var me=H.getLocation(te);me!==Ge.INTERIOR&&me!==Ge.BOUNDARY||this._label.setLocation(te,Ge.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(Dl),Qh=(function(R){function p(){return a(this,p),r(this,p)}return w(p,R),i(p,[{key:"createNode",value:function(v){return new Va(v,new ys)}}])})(eo),kd=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"compareTo",value:function(p){var v=p;return R.compareOriented(this._pts,this._orientation,v._pts,v._orientation)}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var p=arguments[0];this._pts=p,this._orientation=R.orientation(p)}},{key:"orientation",value:function(p){return mt.increasingDirection(p)===1}},{key:"compareOriented",value:function(p,v,A,H){for(var te=v?1:-1,me=H?1:-1,Ie=v?p.length:-1,Ue=H?A.length:-1,ot=v?0:p.length-1,Ht=H?0:A.length-1;;){var Wt=p[ot].compareTo(A[Ht]);if(Wt!==0)return Wt;var Fn=(ot+=te)===Ie,pr=(Ht+=me)===Ue;if(Fn&&!pr)return-1;if(!Fn&&pr)return 1;if(Fn&&pr)return 0}}}])})(),eh=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"print",value:function(R){R.print("MULTILINESTRING ( ");for(var p=0;p<this._edges.size();p++){var v=this._edges.get(p);p>0&&R.print(","),R.print("(");for(var A=v.getCoordinates(),H=0;H<A.length;H++)H>0&&R.print(","),R.print(A[H].x+" "+A[H].y);R.println(")")}R.print(")  ")}},{key:"addAll",value:function(R){for(var p=R.iterator();p.hasNext();)this.add(p.next())}},{key:"findEdgeIndex",value:function(R){for(var p=0;p<this._edges.size();p++)if(this._edges.get(p).equals(R))return p;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(R){return this._edges.get(R)}},{key:"findEqualEdge",value:function(R){var p=new kd(R.getCoordinates());return this._ocaMap.get(p)}},{key:"add",value:function(R){this._edges.add(R);var p=new kd(R.getCoordinates());this._ocaMap.put(p,R)}}],[{key:"constructor_",value:function(){this._edges=new Ct,this._ocaMap=new Qr}}])})(),cf=(function(){return i((function R(){a(this,R)}),[{key:"processIntersections",value:function(R,p,v,A){}},{key:"isDone",value:function(){}}])})(),Id=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"isTrivialIntersection",value:function(p,v,A,H){if(p===A&&this._li.getIntersectionNum()===1){if(R.isAdjacentSegments(v,H))return!0;if(p.isClosed()){var te=p.size()-1;if(v===0&&H===te||H===0&&v===te)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(p,v,A,H){if(p===A&&v===H)return null;this.numTests++;var te=p.getCoordinates()[v],me=p.getCoordinates()[v+1],Ie=A.getCoordinates()[H],Ue=A.getCoordinates()[H+1];this._li.computeIntersection(te,me,Ie,Ue),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(p,v,A,H)||(this._hasIntersection=!0,p.addIntersections(this._li,v,0),A.addIntersections(this._li,H,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[cf]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var p=arguments[0];this._li=p}},{key:"isAdjacentSegments",value:function(p,v){return Math.abs(p-v)===1}}])})(),df=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(R){R.print(this.coord),R.print(" seg # = "+this.segmentIndex),R.println(" dist = "+this.dist)}},{key:"compareTo",value:function(R){var p=R;return this.compare(p.segmentIndex,p.dist)}},{key:"isEndPoint",value:function(R){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===R}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(R,p){return this.segmentIndex<R?-1:this.segmentIndex>R?1:this.dist<p?-1:this.dist>p?1:0}},{key:"interfaces_",get:function(){return[oe]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var R=arguments[0],p=arguments[1],v=arguments[2];this.coord=new We(R),this.segmentIndex=p,this.dist=v}}])})(),_g=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"print",value:function(R){R.println("Intersections:");for(var p=this.iterator();p.hasNext();)p.next().print(R)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(R){this.addEndpoints();for(var p=this.iterator(),v=p.next();p.hasNext();){var A=p.next(),H=this.createSplitEdge(v,A);R.add(H),v=A}}},{key:"addEndpoints",value:function(){var R=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[R],R,0)}},{key:"createSplitEdge",value:function(R,p){var v=p.segmentIndex-R.segmentIndex+2,A=this.edge.pts[p.segmentIndex],H=p.dist>0||!p.coord.equals2D(A);H||v--;var te=new Array(v).fill(null),me=0;te[me++]=new We(R.coord);for(var Ie=R.segmentIndex+1;Ie<=p.segmentIndex;Ie++)te[me++]=this.edge.pts[Ie];return H&&(te[me]=p.coord),new ff(te,new Qi(this.edge._label))}},{key:"add",value:function(R,p,v){var A=new df(R,p,v),H=this._nodeMap.get(A);return H!==null?H:(this._nodeMap.put(A,A),A)}},{key:"isIntersection",value:function(R){for(var p=this.iterator();p.hasNext();)if(p.next().coord.equals(R))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Qr,this.edge=null;var R=arguments[0];this.edge=R}}])})(),th=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])||R.isTrue(this._matrix[Ge.INTERIOR][Ge.BOUNDARY])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.INTERIOR])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.BOUNDARY]))&&this._matrix[Ge.EXTERIOR][Ge.INTERIOR]===on.FALSE&&this._matrix[Ge.EXTERIOR][Ge.BOUNDARY]===on.FALSE}},{key:"isCoveredBy",value:function(){return(R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])||R.isTrue(this._matrix[Ge.INTERIOR][Ge.BOUNDARY])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.INTERIOR])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.BOUNDARY]))&&this._matrix[Ge.INTERIOR][Ge.EXTERIOR]===on.FALSE&&this._matrix[Ge.BOUNDARY][Ge.EXTERIOR]===on.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var p=arguments[0],v=0;v<p.length;v++){var A=Math.trunc(v/3),H=v%3;this._matrix[A][H]=on.toDimensionValue(p.charAt(v))}else if(arguments.length===3){var te=arguments[0],me=arguments[1],Ie=arguments[2];this._matrix[te][me]=Ie}}},{key:"isContains",value:function(){return R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&this._matrix[Ge.EXTERIOR][Ge.INTERIOR]===on.FALSE&&this._matrix[Ge.EXTERIOR][Ge.BOUNDARY]===on.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var p=arguments[0],v=0;v<p.length;v++){var A=Math.trunc(v/3),H=v%3;this.setAtLeast(A,H,on.toDimensionValue(p.charAt(v)))}else if(arguments.length===3){var te=arguments[0],me=arguments[1],Ie=arguments[2];this._matrix[te][me]<Ie&&(this._matrix[te][me]=Ie)}}},{key:"setAtLeastIfValid",value:function(p,v,A){p>=0&&v>=0&&this.setAtLeast(p,v,A)}},{key:"isWithin",value:function(){return R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&this._matrix[Ge.INTERIOR][Ge.EXTERIOR]===on.FALSE&&this._matrix[Ge.BOUNDARY][Ge.EXTERIOR]===on.FALSE}},{key:"isTouches",value:function(p,v){return p>v?this.isTouches(v,p):(p===on.A&&v===on.A||p===on.L&&v===on.L||p===on.L&&v===on.A||p===on.P&&v===on.A||p===on.P&&v===on.L)&&this._matrix[Ge.INTERIOR][Ge.INTERIOR]===on.FALSE&&(R.isTrue(this._matrix[Ge.INTERIOR][Ge.BOUNDARY])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.INTERIOR])||R.isTrue(this._matrix[Ge.BOUNDARY][Ge.BOUNDARY]))}},{key:"isOverlaps",value:function(p,v){return p===on.P&&v===on.P||p===on.A&&v===on.A?R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&R.isTrue(this._matrix[Ge.INTERIOR][Ge.EXTERIOR])&&R.isTrue(this._matrix[Ge.EXTERIOR][Ge.INTERIOR]):p===on.L&&v===on.L&&this._matrix[Ge.INTERIOR][Ge.INTERIOR]===1&&R.isTrue(this._matrix[Ge.INTERIOR][Ge.EXTERIOR])&&R.isTrue(this._matrix[Ge.EXTERIOR][Ge.INTERIOR])}},{key:"isEquals",value:function(p,v){return p===v&&R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&this._matrix[Ge.INTERIOR][Ge.EXTERIOR]===on.FALSE&&this._matrix[Ge.BOUNDARY][Ge.EXTERIOR]===on.FALSE&&this._matrix[Ge.EXTERIOR][Ge.INTERIOR]===on.FALSE&&this._matrix[Ge.EXTERIOR][Ge.BOUNDARY]===on.FALSE}},{key:"toString",value:function(){for(var p=new Yn("123456789"),v=0;v<3;v++)for(var A=0;A<3;A++)p.setCharAt(3*v+A,on.toDimensionSymbol(this._matrix[v][A]));return p.toString()}},{key:"setAll",value:function(p){for(var v=0;v<3;v++)for(var A=0;A<3;A++)this._matrix[v][A]=p}},{key:"get",value:function(p,v){return this._matrix[p][v]}},{key:"transpose",value:function(){var p=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=p,p=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=p,p=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=p,this}},{key:"matches",value:function(p){if(p.length!==9)throw new ie("Should be length 9: "+p);for(var v=0;v<3;v++)for(var A=0;A<3;A++)if(!R.matches(this._matrix[v][A],p.charAt(3*v+A)))return!1;return!0}},{key:"add",value:function(p){for(var v=0;v<3;v++)for(var A=0;A<3;A++)this.setAtLeast(v,A,p.get(v,A))}},{key:"isDisjoint",value:function(){return this._matrix[Ge.INTERIOR][Ge.INTERIOR]===on.FALSE&&this._matrix[Ge.INTERIOR][Ge.BOUNDARY]===on.FALSE&&this._matrix[Ge.BOUNDARY][Ge.INTERIOR]===on.FALSE&&this._matrix[Ge.BOUNDARY][Ge.BOUNDARY]===on.FALSE}},{key:"isCrosses",value:function(p,v){return p===on.P&&v===on.L||p===on.P&&v===on.A||p===on.L&&v===on.A?R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&R.isTrue(this._matrix[Ge.INTERIOR][Ge.EXTERIOR]):p===on.L&&v===on.P||p===on.A&&v===on.P||p===on.A&&v===on.L?R.isTrue(this._matrix[Ge.INTERIOR][Ge.INTERIOR])&&R.isTrue(this._matrix[Ge.EXTERIOR][Ge.INTERIOR]):p===on.L&&v===on.L&&this._matrix[Ge.INTERIOR][Ge.INTERIOR]===0}},{key:"interfaces_",get:function(){return[K]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(on.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var p=arguments[0];R.constructor_.call(this),this.set(p)}else if(arguments[0]instanceof R){var v=arguments[0];R.constructor_.call(this),this._matrix[Ge.INTERIOR][Ge.INTERIOR]=v._matrix[Ge.INTERIOR][Ge.INTERIOR],this._matrix[Ge.INTERIOR][Ge.BOUNDARY]=v._matrix[Ge.INTERIOR][Ge.BOUNDARY],this._matrix[Ge.INTERIOR][Ge.EXTERIOR]=v._matrix[Ge.INTERIOR][Ge.EXTERIOR],this._matrix[Ge.BOUNDARY][Ge.INTERIOR]=v._matrix[Ge.BOUNDARY][Ge.INTERIOR],this._matrix[Ge.BOUNDARY][Ge.BOUNDARY]=v._matrix[Ge.BOUNDARY][Ge.BOUNDARY],this._matrix[Ge.BOUNDARY][Ge.EXTERIOR]=v._matrix[Ge.BOUNDARY][Ge.EXTERIOR],this._matrix[Ge.EXTERIOR][Ge.INTERIOR]=v._matrix[Ge.EXTERIOR][Ge.INTERIOR],this._matrix[Ge.EXTERIOR][Ge.BOUNDARY]=v._matrix[Ge.EXTERIOR][Ge.BOUNDARY],this._matrix[Ge.EXTERIOR][Ge.EXTERIOR]=v._matrix[Ge.EXTERIOR][Ge.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var p=arguments[0],v=arguments[1];return v===on.SYM_DONTCARE||v===on.SYM_TRUE&&(p>=0||p===on.TRUE)||v===on.SYM_FALSE&&p===on.FALSE||v===on.SYM_P&&p===on.P||v===on.SYM_L&&p===on.L||v===on.SYM_A&&p===on.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var A=arguments[1];return new R(arguments[0]).matches(A)}}},{key:"isTrue",value:function(p){return p>=0||p===on.TRUE}}])})(),Hc=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(p){return p===null||p.length===0?null:(this.ensureCapacity(this._size+p.length),gn.arraycopy(p,0,this._data,this._size,p.length),void(this._size+=p.length))}},{key:"ensureCapacity",value:function(p){if(p<=this._data.length)return null;var v=Math.max(p,2*this._data.length);this._data=Yt.copyOf(this._data,v)}},{key:"toArray",value:function(){var p=new Array(this._size).fill(null);return gn.arraycopy(this._data,0,p,0,this._size),p}},{key:"add",value:function(p){this.ensureCapacity(this._size+1),this._data[this._size]=p,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)R.constructor_.call(this,10);else if(arguments.length===1){var p=arguments[0];this._data=new Array(p).fill(null)}}}])})(),Vc=(function(){function R(){a(this,R)}return i(R,[{key:"getChainStartIndices",value:function(p){var v=0,A=new Hc(Math.trunc(p.length/2));A.add(v);do{var H=this.findChainEnd(p,v);A.add(H),v=H}while(v<p.length-1);return A.toArray()}},{key:"findChainEnd",value:function(p,v){for(var A=gi.quadrant(p[v],p[v+1]),H=v+1;H<p.length&&gi.quadrant(p[H-1],p[H])===A;)H++;return H-1}},{key:"OLDgetChainStartIndices",value:function(p){var v=0,A=new Ct;A.add(v);do{var H=this.findChainEnd(p,v);A.add(H),v=H}while(v<p.length-1);return R.toIntArray(A)}}],[{key:"toIntArray",value:function(p){for(var v=new Array(p.size()).fill(null),A=0;A<v.length;A++)v[A]=p.get(A).intValue();return v}}])})(),nh=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(R){var p=this.pts[this.startIndex[R]].x,v=this.pts[this.startIndex[R+1]].x;return p>v?p:v}},{key:"getMinX",value:function(R){var p=this.pts[this.startIndex[R]].x,v=this.pts[this.startIndex[R+1]].x;return p<v?p:v}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var R=arguments[0],p=arguments[1],v=arguments[2],A=arguments[3];this.computeIntersectsForChain(this.startIndex[R],this.startIndex[R+1],p,p.startIndex[v],p.startIndex[v+1],A)}else if(arguments.length===6){var H=arguments[0],te=arguments[1],me=arguments[2],Ie=arguments[3],Ue=arguments[4],ot=arguments[5];if(te-H==1&&Ue-Ie==1)return ot.addIntersections(this.e,H,me.e,Ie),null;if(!this.overlaps(H,te,me,Ie,Ue))return null;var Ht=Math.trunc((H+te)/2),Wt=Math.trunc((Ie+Ue)/2);H<Ht&&(Ie<Wt&&this.computeIntersectsForChain(H,Ht,me,Ie,Wt,ot),Wt<Ue&&this.computeIntersectsForChain(H,Ht,me,Wt,Ue,ot)),Ht<te&&(Ie<Wt&&this.computeIntersectsForChain(Ht,te,me,Ie,Wt,ot),Wt<Ue&&this.computeIntersectsForChain(Ht,te,me,Wt,Ue,ot))}}},{key:"overlaps",value:function(R,p,v,A,H){return zt.intersects(this.pts[R],this.pts[p],v.pts[A],v.pts[H])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(R,p){for(var v=0;v<this.startIndex.length-1;v++)for(var A=0;A<R.startIndex.length-1;A++)this.computeIntersectsForChain(v,R,A,p)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var R=arguments[0];this.e=R,this.pts=R.getCoordinates();var p=new Vc;this.startIndex=p.getChainStartIndices(this.pts)}}])})(),sc=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"getDepth",value:function(p,v){return this._depth[p][v]}},{key:"setDepth",value:function(p,v,A){this._depth[p][v]=A}},{key:"isNull",value:function(){if(arguments.length===0){for(var p=0;p<2;p++)for(var v=0;v<3;v++)if(this._depth[p][v]!==R.NULL_VALUE)return!1;return!0}if(arguments.length===1){var A=arguments[0];return this._depth[A][1]===R.NULL_VALUE}if(arguments.length===2){var H=arguments[0],te=arguments[1];return this._depth[H][te]===R.NULL_VALUE}}},{key:"normalize",value:function(){for(var p=0;p<2;p++)if(!this.isNull(p)){var v=this._depth[p][1];this._depth[p][2]<v&&(v=this._depth[p][2]),v<0&&(v=0);for(var A=1;A<3;A++){var H=0;this._depth[p][A]>v&&(H=1),this._depth[p][A]=H}}}},{key:"getDelta",value:function(p){return this._depth[p][Vt.RIGHT]-this._depth[p][Vt.LEFT]}},{key:"getLocation",value:function(p,v){return this._depth[p][v]<=0?Ge.EXTERIOR:Ge.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var p=arguments[0],v=0;v<2;v++)for(var A=1;A<3;A++){var H=p.getLocation(v,A);H!==Ge.EXTERIOR&&H!==Ge.INTERIOR||(this.isNull(v,A)?this._depth[v][A]=R.depthAtLocation(H):this._depth[v][A]+=R.depthAtLocation(H))}else if(arguments.length===3){var te=arguments[0],me=arguments[1];arguments[2]===Ge.INTERIOR&&this._depth[te][me]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var p=0;p<2;p++)for(var v=0;v<3;v++)this._depth[p][v]=R.NULL_VALUE}},{key:"depthAtLocation",value:function(p){return p===Ge.EXTERIOR?0:p===Ge.INTERIOR?1:R.NULL_VALUE}}])})();sc.NULL_VALUE=-1;var ff=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var v=new Array(2).fill(null);return v[0]=this.pts[0],v[1]=this.pts[1],new p(v,Qi.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(v){this._isIsolated=v}},{key:"setName",value:function(v){this._name=v}},{key:"equals",value:function(v){if(!(v instanceof p))return!1;var A=v;if(this.pts.length!==A.pts.length)return!1;for(var H=!0,te=!0,me=this.pts.length,Ie=0;Ie<this.pts.length;Ie++)if(this.pts[Ie].equals2D(A.pts[Ie])||(H=!1),this.pts[Ie].equals2D(A.pts[--me])||(te=!1),!H&&!te)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var v=arguments[0];return this.pts[v]}}},{key:"print",value:function(v){v.print("edge "+this._name+": "),v.print("LINESTRING (");for(var A=0;A<this.pts.length;A++)A>0&&v.print(","),v.print(this.pts[A].x+" "+this.pts[A].y);v.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(v){p.updateIM(this._label,v)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(v){v.print("edge "+this._name+": ");for(var A=this.pts.length-1;A>=0;A--)v.print(this.pts[A]+" ");v.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new nh(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new zt;for(var v=0;v<this.pts.length;v++)this._env.expandToInclude(this.pts[v])}return this._env}},{key:"addIntersection",value:function(v,A,H,te){var me=new We(v.getIntersection(te)),Ie=A,Ue=v.getEdgeDistance(H,te),ot=Ie+1;if(ot<this.pts.length){var Ht=this.pts[ot];me.equals2D(Ht)&&(Ie=ot,Ue=0)}this.eiList.add(me,Ie,Ue)}},{key:"toString",value:function(){var v=new Yn;v.append("edge "+this._name+": "),v.append("LINESTRING (");for(var A=0;A<this.pts.length;A++)A>0&&v.append(","),v.append(this.pts[A].x+" "+this.pts[A].y);return v.append(")  "+this._label+" "+this._depthDelta),v.toString()}},{key:"isPointwiseEqual",value:function(v){if(this.pts.length!==v.pts.length)return!1;for(var A=0;A<this.pts.length;A++)if(!this.pts[A].equals2D(v.pts[A]))return!1;return!0}},{key:"setDepthDelta",value:function(v){this._depthDelta=v}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(v,A,H){for(var te=0;te<v.getIntersectionNum();te++)this.addIntersection(v,A,H,te)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new _g(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new sc,this._depthDelta=0,arguments.length===1){var v=arguments[0];p.constructor_.call(this,v,null)}else if(arguments.length===2){var A=arguments[0],H=arguments[1];this.pts=A,this._label=H}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof th&&arguments[0]instanceof Qi))return j(p,"updateIM",this).apply(this,arguments);var v=arguments[0],A=arguments[1];A.setAtLeastIfValid(v.getLocation(0,Vt.ON),v.getLocation(1,Vt.ON),1),v.isArea()&&(A.setAtLeastIfValid(v.getLocation(0,Vt.LEFT),v.getLocation(1,Vt.LEFT),2),A.setAtLeastIfValid(v.getLocation(0,Vt.RIGHT),v.getLocation(1,Vt.RIGHT),2))}}])})(Vr),Nd=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"setWorkingPrecisionModel",value:function(p){this._workingPrecisionModel=p}},{key:"insertUniqueEdge",value:function(p){var v=this._edgeList.findEqualEdge(p);if(v!==null){var A=v.getLabel(),H=p.getLabel();v.isPointwiseEqual(p)||(H=new Qi(p.getLabel())).flip(),A.merge(H);var te=R.depthDelta(H),me=v.getDepthDelta()+te;v.setDepthDelta(me)}else this._edgeList.add(p),p.setDepthDelta(R.depthDelta(p.getLabel()))}},{key:"buildSubgraphs",value:function(p,v){for(var A=new Ct,H=p.iterator();H.hasNext();){var te=H.next(),me=te.getRightmostCoordinate(),Ie=new Uc(A).getDepth(me);te.computeDepth(Ie),te.findResultEdges(),A.add(te),v.add(te.getDirectedEdges(),te.getNodes())}}},{key:"createSubgraphs",value:function(p){for(var v=new Ct,A=p.getNodes().iterator();A.hasNext();){var H=A.next();if(!H.isVisited()){var te=new mn;te.create(H),v.add(te)}}return Zr.sort(v,Zr.reverseOrder()),v}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(p){if(this._workingNoder!==null)return this._workingNoder;var v=new tm,A=new Fo;return A.setPrecisionModel(p),v.setSegmentIntersector(new Id(A)),v}},{key:"buffer",value:function(p,v){var A=this._workingPrecisionModel;A===null&&(A=p.getPrecisionModel()),this._geomFact=p.getFactory();var H=new uf(A,this._bufParams),te=new Gc(p,v,H).getCurves();if(te.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(te,A),this._graph=new ms(new Qh),this._graph.addEdges(this._edgeList.getEdges());var me=this.createSubgraphs(this._graph),Ie=new Qf(this._geomFact);this.buildSubgraphs(me,Ie);var Ue=Ie.getPolygons();return Ue.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(Ue)}},{key:"computeNodedEdges",value:function(p,v){var A=this.getNoder(v);A.computeNodes(p);for(var H=A.getNodedSubstrings().iterator();H.hasNext();){var te=H.next(),me=te.getCoordinates();if(me.length!==2||!me[0].equals2D(me[1])){var Ie=te.getData(),Ue=new ff(te.getCoordinates(),new Qi(Ie));this.insertUniqueEdge(Ue)}}}},{key:"setNoder",value:function(p){this._workingNoder=p}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new eh;var p=arguments[0];this._bufParams=p}},{key:"depthDelta",value:function(p){var v=p.getLocation(0,Vt.LEFT),A=p.getLocation(0,Vt.RIGHT);return v===Ge.INTERIOR&&A===Ge.EXTERIOR?1:v===Ge.EXTERIOR&&A===Ge.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(p){for(var v=new Kr,A=new Ct;p.hasNext();){var H=p.next(),te=v.createLineString(H.getCoordinates());A.add(te)}return v.buildGeometry(A)}}])})(),lc=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"rescale",value:function(){if(hn(arguments[0],kn))for(var p=arguments[0].iterator();p.hasNext();){var v=p.next();this.rescale(v.getCoordinates())}else if(arguments[0]instanceof Array){for(var A=arguments[0],H=0;H<A.length;H++)A[H].x=A[H].x/this._scaleFactor+this._offsetX,A[H].y=A[H].y/this._scaleFactor+this._offsetY;A.length===2&&A[0].equals2D(A[1])&&gn.out.println(A)}}},{key:"scale",value:function(){if(hn(arguments[0],kn)){for(var p=arguments[0],v=new Ct(p.size()),A=p.iterator();A.hasNext();){var H=A.next();v.add(new gs(this.scale(H.getCoordinates()),H.getData()))}return v}if(arguments[0]instanceof Array){for(var te=arguments[0],me=new Array(te.length).fill(null),Ie=0;Ie<te.length;Ie++)me[Ie]=new We(Math.round((te[Ie].x-this._offsetX)*this._scaleFactor),Math.round((te[Ie].y-this._offsetY)*this._scaleFactor),te[Ie].getZ());return mt.removeRepeatedPoints(me)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var p=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(p),p}},{key:"computeNodes",value:function(p){var v=p;this._isScaled&&(v=this.scale(p)),this._noder.computeNodes(v)}},{key:"interfaces_",get:function(){return[lf]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var p=arguments[0],v=arguments[1];R.constructor_.call(this,p,v,0,0)}else if(arguments.length===4){var A=arguments[0],H=arguments[1];this._noder=A,this._scaleFactor=H,this._isScaled=!this.isIntegerPrecision()}}}])})(),rh=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var p=this._segStrings.iterator();p.hasNext();){var v=p.next().getCoordinates();this.checkEndPtVertexIntersections(v[0],this._segStrings),this.checkEndPtVertexIntersections(v[v.length-1],this._segStrings)}else if(arguments.length===2){for(var A=arguments[0],H=arguments[1].iterator();H.hasNext();)for(var te=H.next().getCoordinates(),me=1;me<te.length-1;me++)if(te[me].equals(A))throw new je("found endpt/interior pt intersection at index "+me+" :pt "+A)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var p=this._segStrings.iterator();p.hasNext();)for(var v=p.next(),A=this._segStrings.iterator();A.hasNext();){var H=A.next();this.checkInteriorIntersections(v,H)}else if(arguments.length===2)for(var te=arguments[0],me=arguments[1],Ie=te.getCoordinates(),Ue=me.getCoordinates(),ot=0;ot<Ie.length-1;ot++)for(var Ht=0;Ht<Ue.length-1;Ht++)this.checkInteriorIntersections(te,ot,me,Ht);else if(arguments.length===4){var Wt=arguments[0],Fn=arguments[1],pr=arguments[2],xr=arguments[3];if(Wt===pr&&Fn===xr)return null;var Dr=Wt.getCoordinates()[Fn],ga=Wt.getCoordinates()[Fn+1],yr=pr.getCoordinates()[xr],oi=pr.getCoordinates()[xr+1];if(this._li.computeIntersection(Dr,ga,yr,oi),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Dr,ga)||this.hasInteriorIntersection(this._li,yr,oi)))throw new je("found non-noded intersection at "+Dr+"-"+ga+" and "+yr+"-"+oi)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var p=this._segStrings.iterator();p.hasNext();){var v=p.next();this.checkCollapses(v)}else if(arguments.length===1)for(var A=arguments[0].getCoordinates(),H=0;H<A.length-2;H++)this.checkCollapse(A[H],A[H+1],A[H+2])}},{key:"hasInteriorIntersection",value:function(p,v,A){for(var H=0;H<p.getIntersectionNum();H++){var te=p.getIntersection(H);if(!te.equals(v)&&!te.equals(A))return!0}return!1}},{key:"checkCollapse",value:function(p,v,A){if(p.equals(A))throw new je("found non-noded collapse at "+R.fact.createLineString([p,v,A]))}}],[{key:"constructor_",value:function(){this._li=new Fo,this._segStrings=null;var p=arguments[0];this._segStrings=p}}])})();rh.fact=new Kr;var Jh=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"intersectsScaled",value:function(p,v){var A=Math.min(p.x,v.x),H=Math.max(p.x,v.x),te=Math.min(p.y,v.y),me=Math.max(p.y,v.y),Ie=this._maxx<A||this._minx>H||this._maxy<te||this._miny>me;if(Ie)return!1;var Ue=this.intersectsToleranceSquare(p,v);return Qe.isTrue(!(Ie&&Ue),"Found bad envelope test"),Ue}},{key:"initCorners",value:function(p){var v=.5;this._minx=p.x-v,this._maxx=p.x+v,this._miny=p.y-v,this._maxy=p.y+v,this._corner[0]=new We(this._maxx,this._maxy),this._corner[1]=new We(this._minx,this._maxy),this._corner[2]=new We(this._minx,this._miny),this._corner[3]=new We(this._maxx,this._miny)}},{key:"intersects",value:function(p,v){return this._scaleFactor===1?this.intersectsScaled(p,v):(this.copyScaled(p,this._p0Scaled),this.copyScaled(v,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(p){return Math.round(p*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(p,v){v.x=this.scale(p.x),v.y=this.scale(p.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var p=R.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new zt(this._originalPt.x-p,this._originalPt.x+p,this._originalPt.y-p,this._originalPt.y+p)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(p,v){return this._li.computeIntersection(p,v,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(p,v,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(p,v,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(p,v,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(p,v){var A=!1,H=!1;return this._li.computeIntersection(p,v,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(p,v,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(A=!0),this._li.computeIntersection(p,v,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(H=!0),this._li.computeIntersection(p,v,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!A||!H)||!!p.equals(this._pt)||!!v.equals(this._pt))))}},{key:"addSnappedNode",value:function(p,v){var A=p.getCoordinate(v),H=p.getCoordinate(v+1);return!!this.intersects(A,H)&&(p.addIntersection(this.getCoordinate(),v),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var p=arguments[0],v=arguments[1],A=arguments[2];if(this._originalPt=p,this._pt=p,this._scaleFactor=v,this._li=A,v<=0)throw new ie("Scale factor must be non-zero");v!==1&&(this._pt=new We(this.scale(p.x),this.scale(p.y)),this._p0Scaled=new We,this._p1Scaled=new We),this.initCorners(this._pt)}}])})();Jh.SAFE_ENV_EXPANSION_FACTOR=.75;var ah=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1&&arguments.length===2){var R=arguments[1];arguments[0].getLineSegment(R,this.selectedSegment),this.select(this.selectedSegment)}}}],[{key:"constructor_",value:function(){this.selectedSegment=new Eo}}])})(),nm=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var R=arguments[0];return this.snap(R,null,-1)}if(arguments.length===3){var p=arguments[0],v=arguments[1],A=arguments[2],H=p.getSafeEnvelope(),te=new uc(p,v,A);return this._index.query(H,new((function(){return i((function me(){a(this,me)}),[{key:"interfaces_",get:function(){return[Sd]}},{key:"visitItem",value:function(me){me.select(H,te)}}])})())),te.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var R=arguments[0];this._index=R}}])})(),uc=(function(R){function p(){var v;return a(this,p),v=r(this,p),p.constructor_.apply(v,arguments),v}return w(p,R),i(p,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof Xa))return j(p,"select",this,1).apply(this,arguments);var v=arguments[1],A=arguments[0].getContext();if(this._parentEdge===A&&(v===this._hotPixelVertexIndex||v+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(A,v)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var v=arguments[0],A=arguments[1],H=arguments[2];this._hotPixel=v,this._parentEdge=A,this._hotPixelVertexIndex=H}}])})(ah);nm.HotPixelSnapAction=uc;var Li=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(R,p,v,A){if(R===v&&p===A)return null;var H=R.getCoordinates()[p],te=R.getCoordinates()[p+1],me=v.getCoordinates()[A],Ie=v.getCoordinates()[A+1];if(this._li.computeIntersection(H,te,me,Ie),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Ue=0;Ue<this._li.getIntersectionNum();Ue++)this._interiorIntersections.add(this._li.getIntersection(Ue));R.addIntersections(this._li,p,0),v.addIntersections(this._li,A,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[cf]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var R=arguments[0];this._li=R,this._interiorIntersections=new Ct}}])})(),cc=(function(){return i((function R(){a(this,R),R.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(R){var p=gs.getNodedSubstrings(R),v=new rh(p);try{v.checkValid()}catch(A){if(!(A instanceof ne))throw A;A.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return gs.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(R,p){var v=this.findInteriorIntersections(R,p);this.computeIntersectionSnaps(v),this.computeVertexSnaps(R)}},{key:"findInteriorIntersections",value:function(R,p){var v=new Li(p);return this._noder.setSegmentIntersector(v),this._noder.computeNodes(R),v.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(hn(arguments[0],kn))for(var R=arguments[0].iterator();R.hasNext();){var p=R.next();this.computeVertexSnaps(p)}else if(arguments[0]instanceof gs)for(var v=arguments[0],A=v.getCoordinates(),H=0;H<A.length;H++){var te=new Jh(A[H],this._scaleFactor,this._li);this._pointSnapper.snap(te,v,H)&&v.addIntersection(A[H],H)}}},{key:"computeNodes",value:function(R){this._nodedSegStrings=R,this._noder=new tm,this._pointSnapper=new nm(this._noder.getIndex()),this.snapRound(R,this._li)}},{key:"computeIntersectionSnaps",value:function(R){for(var p=R.iterator();p.hasNext();){var v=p.next(),A=new Jh(v,this._scaleFactor,this._li);this._pointSnapper.snap(A)}}},{key:"interfaces_",get:function(){return[lf]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var R=arguments[0];this._pm=R,this._li=new Fo,this._li.setPrecisionModel(R),this._scaleFactor=R.getScale()}}])})(),as=(function(){function R(){a(this,R),R.constructor_.apply(this,arguments)}return i(R,[{key:"bufferFixedPrecision",value:function(p){var v=new lc(new cc(new Ur(1)),p.getScale()),A=new Nd(this._bufParams);A.setWorkingPrecisionModel(p),A.setNoder(v),this._resultGeometry=A.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var p=R.MAX_PRECISION_DIGITS;p>=0;p--){try{this.bufferReducedPrecision(p)}catch(te){if(!(te instanceof Bt))throw te;this._saveException=te}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var v=arguments[0],A=R.precisionScaleFactor(this._argGeom,this._distance,v),H=new Ur(A);this.bufferFixedPrecision(H)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var p=this._argGeom.getFactory().getPrecisionModel();p.getType()===Ur.FIXED?this.bufferFixedPrecision(p):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(p){this._bufParams.setQuadrantSegments(p)}},{key:"bufferOriginalPrecision",value:function(){try{var p=new Nd(this._bufParams);this._resultGeometry=p.buffer(this._argGeom,this._distance)}catch(v){if(!(v instanceof je))throw v;this._saveException=v}}},{key:"getResultGeometry",value:function(p){return this._distance=p,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(p){this._bufParams.setEndCapStyle(p)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new J,this._resultGeometry=null,this._saveException=null,arguments.length===1){var p=arguments[0];this._argGeom=p}else if(arguments.length===2){var v=arguments[0],A=arguments[1];this._argGeom=v,this._bufParams=A}}},{key:"bufferOp",value:function(){if(arguments.length===2){var p=arguments[1];return new R(arguments[0]).getResultGeometry(p)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof rn&&typeof arguments[1]=="number"){var v=arguments[1],A=arguments[2],H=new R(arguments[0]);return H.setQuadrantSegments(A),H.getResultGeometry(v)}if(arguments[2]instanceof J&&arguments[0]instanceof rn&&typeof arguments[1]=="number"){var te=arguments[1];return new R(arguments[0],arguments[2]).getResultGeometry(te)}}else if(arguments.length===4){var me=arguments[1],Ie=arguments[2],Ue=arguments[3],ot=new R(arguments[0]);return ot.setQuadrantSegments(Ie),ot.setEndCapStyle(Ue),ot.getResultGeometry(me)}}},{key:"precisionScaleFactor",value:function(p,v,A){var H=p.getEnvelopeInternal(),te=qn.max(Math.abs(H.getMaxX()),Math.abs(H.getMaxY()),Math.abs(H.getMinX()),Math.abs(H.getMinY()))+2*(v>0?v:0),me=A-Math.trunc(Math.log(te)/Math.log(10)+1);return Math.pow(10,me)}}])})();as.CAP_ROUND=J.CAP_ROUND,as.CAP_BUTT=J.CAP_FLAT,as.CAP_FLAT=J.CAP_FLAT,as.CAP_SQUARE=J.CAP_SQUARE,as.MAX_PRECISION_DIGITS=12;var ih=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],oh=(function(){return i((function R(p){a(this,R),this.geometryFactory=p||new Kr}),[{key:"read",value:function(R){var p,v=(p=typeof R=="string"?JSON.parse(R):R).type;if(!Ds[v])throw new Error("Unknown GeoJSON type: "+p.type);return ih.indexOf(v)!==-1?Ds[v].call(this,p.coordinates):v==="GeometryCollection"?Ds[v].call(this,p.geometries):Ds[v].call(this,p)}},{key:"write",value:function(R){var p=R.getGeometryType();if(!tl[p])throw new Error("Geometry is not supported");return tl[p].call(this,R)}}])})(),Ds={Feature:function(R){var p={};for(var v in R)p[v]=R[v];if(R.geometry){var A=R.geometry.type;if(!Ds[A])throw new Error("Unknown GeoJSON type: "+R.type);p.geometry=this.read(R.geometry)}return R.bbox&&(p.bbox=Ds.bbox.call(this,R.bbox)),p},FeatureCollection:function(R){var p={};if(R.features){p.features=[];for(var v=0;v<R.features.length;++v)p.features.push(this.read(R.features[v]))}return R.bbox&&(p.bbox=this.parse.bbox.call(this,R.bbox)),p},coordinates:function(R){for(var p=[],v=0;v<R.length;++v){var A=R[v];p.push(l(We,G(A)))}return p},bbox:function(R){return this.geometryFactory.createLinearRing([new We(R[0],R[1]),new We(R[2],R[1]),new We(R[2],R[3]),new We(R[0],R[3]),new We(R[0],R[1])])},Point:function(R){var p=l(We,G(R));return this.geometryFactory.createPoint(p)},MultiPoint:function(R){for(var p=[],v=0;v<R.length;++v)p.push(Ds.Point.call(this,R[v]));return this.geometryFactory.createMultiPoint(p)},LineString:function(R){var p=Ds.coordinates.call(this,R);return this.geometryFactory.createLineString(p)},MultiLineString:function(R){for(var p=[],v=0;v<R.length;++v)p.push(Ds.LineString.call(this,R[v]));return this.geometryFactory.createMultiLineString(p)},Polygon:function(R){for(var p=Ds.coordinates.call(this,R[0]),v=this.geometryFactory.createLinearRing(p),A=[],H=1;H<R.length;++H){var te=R[H],me=Ds.coordinates.call(this,te),Ie=this.geometryFactory.createLinearRing(me);A.push(Ie)}return this.geometryFactory.createPolygon(v,A)},MultiPolygon:function(R){for(var p=[],v=0;v<R.length;++v){var A=R[v];p.push(Ds.Polygon.call(this,A))}return this.geometryFactory.createMultiPolygon(p)},GeometryCollection:function(R){for(var p=[],v=0;v<R.length;++v){var A=R[v];p.push(this.read(A))}return this.geometryFactory.createGeometryCollection(p)}},tl={coordinate:function(R){var p=[R.x,R.y];return R.z&&p.push(R.z),R.m&&p.push(R.m),p},Point:function(R){return{type:"Point",coordinates:tl.coordinate.call(this,R.getCoordinate())}},MultiPoint:function(R){for(var p=[],v=0;v<R._geometries.length;++v){var A=R._geometries[v],H=tl.Point.call(this,A);p.push(H.coordinates)}return{type:"MultiPoint",coordinates:p}},LineString:function(R){for(var p=[],v=R.getCoordinates(),A=0;A<v.length;++A){var H=v[A];p.push(tl.coordinate.call(this,H))}return{type:"LineString",coordinates:p}},MultiLineString:function(R){for(var p=[],v=0;v<R._geometries.length;++v){var A=R._geometries[v],H=tl.LineString.call(this,A);p.push(H.coordinates)}return{type:"MultiLineString",coordinates:p}},Polygon:function(R){var p=[],v=tl.LineString.call(this,R._shell);p.push(v.coordinates);for(var A=0;A<R._holes.length;++A){var H=R._holes[A],te=tl.LineString.call(this,H);p.push(te.coordinates)}return{type:"Polygon",coordinates:p}},MultiPolygon:function(R){for(var p=[],v=0;v<R._geometries.length;++v){var A=R._geometries[v],H=tl.Polygon.call(this,A);p.push(H.coordinates)}return{type:"MultiPolygon",coordinates:p}},GeometryCollection:function(R){for(var p=[],v=0;v<R._geometries.length;++v){var A=R._geometries[v],H=A.getGeometryType();p.push(tl[H].call(this,A))}return{type:"GeometryCollection",geometries:p}}};return{BufferOp:as,GeoJSONReader:(function(){return i((function R(p){a(this,R),this.parser=new oh(p||new Kr)}),[{key:"read",value:function(R){return this.parser.read(R)}}])})(),GeoJSONWriter:(function(){return i((function R(){a(this,R),this.parser=new oh(this.geometryFactory)}),[{key:"write",value:function(R){return this.parser.write(R)}}])})()}}))})(bD)),bD.exports}var uLe=lLe();const cLe=zK(uLe);function Qb(){return new Uk}function Uk(){this.reset()}Uk.prototype={constructor:Uk,reset:function(){this.s=this.t=0},add:function(e){eU(KC,e,this.t),eU(this,KC.s,this.s),this.s?this.t+=KC.t:this.s=KC.t},valueOf:function(){return this.s}};var KC=new Uk;function eU(e,t,n){var r=e.s=t+n,a=r-t,l=r-a;e.t=t-l+(n-a)}var ts=1e-6,Bi=Math.PI,wy=Bi/2,tU=Bi/4,Fy=Bi*2,fb=180/Bi,Lp=Bi/180,Ju=Math.abs,dLe=Math.atan,ZE=Math.atan2,qs=Math.cos,Ys=Math.sin,Mw=Math.sqrt;function gJ(e){return e>1?0:e<-1?Bi:Math.acos(e)}function R1(e){return e>1?wy:e<-1?-wy:Math.asin(e)}function B2(){}function Gk(e,t){e&&rU.hasOwnProperty(e.type)&&rU[e.type](e,t)}var nU={Feature:function(e,t){Gk(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)Gk(n[r].geometry,t)}},rU={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){_D(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)_D(n[r],t,0)},Polygon:function(e,t){aU(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)aU(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)Gk(n[r],t)}};function _D(e,t,n){var r=-1,a=e.length-n,l;for(t.lineStart();++r<a;)l=e[r],t.point(l[0],l[1],l[2]);t.lineEnd()}function aU(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)_D(e[n],t,1);t.polygonEnd()}function fLe(e,t){e&&nU.hasOwnProperty(e.type)?nU[e.type](e,t):Gk(e,t)}Qb();Qb();function xD(e){return[ZE(e[1],e[0]),R1(e[2])]}function XE(e){var t=e[0],n=e[1],r=qs(n);return[r*qs(t),r*Ys(t),Ys(n)]}function QC(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Hk(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function DM(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function JC(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function ED(e){var t=Mw(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}Qb();function yJ(e,t){function n(r,a){return r=e(r,a),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,a){return r=t.invert(r,a),r&&e.invert(r[0],r[1])}),n}function wD(e,t){return[e>Bi?e-Fy:e<-Bi?e+Fy:e,t]}wD.invert=wD;function hLe(e,t,n){return(e%=Fy)?t||n?yJ(oU(e),sU(t,n)):oU(e):t||n?sU(t,n):wD}function iU(e){return function(t,n){return t+=e,[t>Bi?t-Fy:t<-Bi?t+Fy:t,n]}}function oU(e){var t=iU(e);return t.invert=iU(-e),t}function sU(e,t){var n=qs(e),r=Ys(e),a=qs(t),l=Ys(t);function u(i,m){var b=qs(m),_=qs(i)*b,w=Ys(i)*b,M=Ys(m),P=M*n+_*r;return[ZE(w*a-P*l,_*n-M*r),R1(P*a+w*l)]}return u.invert=function(i,m){var b=qs(m),_=qs(i)*b,w=Ys(i)*b,M=Ys(m),P=M*a-w*l;return[ZE(w*a+M*l,_*n+P*r),R1(P*n-_*r)]},u}function pLe(e,t,n,r,a,l){if(n){var u=qs(t),i=Ys(t),m=r*n;a==null?(a=t+r*Fy,l=t-m/2):(a=lU(u,a),l=lU(u,l),(r>0?a<l:a>l)&&(a+=r*Fy));for(var b,_=a;r>0?_>l:_<l;_-=m)b=xD([u,-i*qs(_),-i*Ys(_)]),e.point(b[0],b[1])}}function lU(e,t){t=XE(t),t[0]-=e,ED(t);var n=gJ(-t[1]);return((-t[2]<0?-n:n)+Fy-ts)%Fy}function vJ(){var e=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){e.push(t=[])},lineEnd:B2,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function mLe(e,t,n,r,a,l){var u=e[0],i=e[1],m=t[0],b=t[1],_=0,w=1,M=m-u,P=b-i,j;if(j=n-u,!(!M&&j>0)){if(j/=M,M<0){if(j<_)return;j<w&&(w=j)}else if(M>0){if(j>w)return;j>_&&(_=j)}if(j=a-u,!(!M&&j<0)){if(j/=M,M<0){if(j>w)return;j>_&&(_=j)}else if(M>0){if(j<_)return;j<w&&(w=j)}if(j=r-i,!(!P&&j>0)){if(j/=P,P<0){if(j<_)return;j<w&&(w=j)}else if(P>0){if(j>w)return;j>_&&(_=j)}if(j=l-i,!(!P&&j<0)){if(j/=P,P<0){if(j>w)return;j>_&&(_=j)}else if(P>0){if(j<_)return;j<w&&(w=j)}return _>0&&(e[0]=u+_*M,e[1]=i+_*P),w<1&&(t[0]=u+w*M,t[1]=i+w*P),!0}}}}}function $A(e,t){return Ju(e[0]-t[0])<ts&&Ju(e[1]-t[1])<ts}function eA(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function bJ(e,t,n,r,a){var l=[],u=[],i,m;if(e.forEach(function(j){if(!((G=j.length-1)<=0)){var G,z=j[0],q=j[G],Y;if($A(z,q)){for(a.lineStart(),i=0;i<G;++i)a.point((z=j[i])[0],z[1]);a.lineEnd();return}l.push(Y=new eA(z,j,null,!0)),u.push(Y.o=new eA(z,null,Y,!1)),l.push(Y=new eA(q,j,null,!1)),u.push(Y.o=new eA(q,null,Y,!0))}}),!!l.length){for(u.sort(t),uU(l),uU(u),i=0,m=u.length;i<m;++i)u[i].e=n=!n;for(var b=l[0],_,w;;){for(var M=b,P=!0;M.v;)if((M=M.n)===b)return;_=M.z,a.lineStart();do{if(M.v=M.o.v=!0,M.e){if(P)for(i=0,m=_.length;i<m;++i)a.point((w=_[i])[0],w[1]);else r(M.x,M.n.x,1,a);M=M.n}else{if(P)for(_=M.p.z,i=_.length-1;i>=0;--i)a.point((w=_[i])[0],w[1]);else r(M.x,M.p.x,-1,a);M=M.p}M=M.o,_=M.z,P=!P}while(!M.v);a.lineEnd()}}}function uU(e){if(t=e.length){for(var t,n=0,r=e[0],a;++n<t;)r.n=a=e[n],a.p=r,r=a;r.n=a=e[0],a.p=r}}function _J(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function gLe(e){return e.length===1&&(e=yLe(e)),{left:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var l=r+a>>>1;e(t[l],n)<0?r=l+1:a=l}return r},right:function(t,n,r,a){for(r==null&&(r=0),a==null&&(a=t.length);r<a;){var l=r+a>>>1;e(t[l],n)>0?a=l:r=l+1}return r}}}function yLe(e){return function(t,n){return _J(e(t),n)}}gLe(_J);function xJ(e){for(var t=e.length,n,r=-1,a=0,l,u;++r<t;)a+=e[r].length;for(l=new Array(a);--t>=0;)for(u=e[t],n=u.length;--n>=0;)l[--a]=u[n];return l}var $2=1e9,tA=-$2;function vLe(e,t,n,r){function a(b,_){return e<=b&&b<=n&&t<=_&&_<=r}function l(b,_,w,M){var P=0,j=0;if(b==null||(P=u(b,w))!==(j=u(_,w))||m(b,_)<0^w>0)do M.point(P===0||P===3?e:n,P>1?r:t);while((P=(P+w+4)%4)!==j);else M.point(_[0],_[1])}function u(b,_){return Ju(b[0]-e)<ts?_>0?0:3:Ju(b[0]-n)<ts?_>0?2:1:Ju(b[1]-t)<ts?_>0?1:0:_>0?3:2}function i(b,_){return m(b.x,_.x)}function m(b,_){var w=u(b,1),M=u(_,1);return w!==M?w-M:w===0?_[1]-b[1]:w===1?b[0]-_[0]:w===2?b[1]-_[1]:_[0]-b[0]}return function(b){var _=b,w=vJ(),M,P,j,G,z,q,Y,J,ne,ie,ue,oe={point:K,lineStart:Te,lineEnd:Me,polygonStart:pe,polygonEnd:ve};function K(Se,he){a(Se,he)&&_.point(Se,he)}function se(){for(var Se=0,he=0,we=P.length;he<we;++he)for(var _e=P[he],Be=1,He=_e.length,Re=_e[0],je,Ze,Qe=Re[0],Pe=Re[1];Be<He;++Be)je=Qe,Ze=Pe,Re=_e[Be],Qe=Re[0],Pe=Re[1],Ze<=r?Pe>r&&(Qe-je)*(r-Ze)>(Pe-Ze)*(e-je)&&++Se:Pe<=r&&(Qe-je)*(r-Ze)<(Pe-Ze)*(e-je)&&--Se;return Se}function pe(){_=w,M=[],P=[],ue=!0}function ve(){var Se=se(),he=ue&&Se,we=(M=xJ(M)).length;(he||we)&&(b.polygonStart(),he&&(b.lineStart(),l(null,null,1,b),b.lineEnd()),we&&bJ(M,i,Se,l,b),b.polygonEnd()),_=b,M=P=j=null}function Te(){oe.point=xe,P&&P.push(j=[]),ie=!0,ne=!1,Y=J=NaN}function Me(){M&&(xe(G,z),q&&ne&&w.rejoin(),M.push(w.result())),oe.point=K,ne&&_.lineEnd()}function xe(Se,he){var we=a(Se,he);if(P&&j.push([Se,he]),ie)G=Se,z=he,q=we,ie=!1,we&&(_.lineStart(),_.point(Se,he));else if(we&&ne)_.point(Se,he);else{var _e=[Y=Math.max(tA,Math.min($2,Y)),J=Math.max(tA,Math.min($2,J))],Be=[Se=Math.max(tA,Math.min($2,Se)),he=Math.max(tA,Math.min($2,he))];mLe(_e,Be,e,t,n,r)?(ne||(_.lineStart(),_.point(_e[0],_e[1])),_.point(Be[0],Be[1]),we||_.lineEnd(),ue=!1):we&&(_.lineStart(),_.point(Se,he),ue=!1)}Y=Se,J=he,ne=we}return oe}}var LM=Qb();function bLe(e,t){var n=t[0],r=t[1],a=[Ys(n),-qs(n),0],l=0,u=0;LM.reset();for(var i=0,m=e.length;i<m;++i)if(_=(b=e[i]).length)for(var b,_,w=b[_-1],M=w[0],P=w[1]/2+tU,j=Ys(P),G=qs(P),z=0;z<_;++z,M=Y,j=ne,G=ie,w=q){var q=b[z],Y=q[0],J=q[1]/2+tU,ne=Ys(J),ie=qs(J),ue=Y-M,oe=ue>=0?1:-1,K=oe*ue,se=K>Bi,pe=j*ne;if(LM.add(ZE(pe*oe*Ys(K),G*ie+pe*qs(K))),l+=se?ue+oe*Fy:ue,se^M>=n^Y>=n){var ve=Hk(XE(w),XE(q));ED(ve);var Te=Hk(a,ve);ED(Te);var Me=(se^ue>=0?-1:1)*R1(Te[2]);(r>Me||r===Me&&(ve[0]||ve[1]))&&(u+=se^ue>=0?1:-1)}}return(l<-ts||l<ts&&LM<-ts)^u&1}Qb();function cU(e){return e}Qb();Qb();var KE=1/0,Vk=KE,VS=-KE,qk=VS,dU={point:_Le,lineStart:B2,lineEnd:B2,polygonStart:B2,polygonEnd:B2,result:function(){var e=[[KE,Vk],[VS,qk]];return VS=qk=-(Vk=KE=1/0),e}};function _Le(e,t){e<KE&&(KE=e),e>VS&&(VS=e),t<Vk&&(Vk=t),t>qk&&(qk=t)}Qb();function EJ(e,t,n,r){return function(a,l){var u=t(l),i=a.invert(r[0],r[1]),m=vJ(),b=t(m),_=!1,w,M,P,j={point:G,lineStart:q,lineEnd:Y,polygonStart:function(){j.point=J,j.lineStart=ne,j.lineEnd=ie,M=[],w=[]},polygonEnd:function(){j.point=G,j.lineStart=q,j.lineEnd=Y,M=xJ(M);var ue=bLe(w,i);M.length?(_||(l.polygonStart(),_=!0),bJ(M,ELe,ue,n,l)):ue&&(_||(l.polygonStart(),_=!0),l.lineStart(),n(null,null,1,l),l.lineEnd()),_&&(l.polygonEnd(),_=!1),M=w=null},sphere:function(){l.polygonStart(),l.lineStart(),n(null,null,1,l),l.lineEnd(),l.polygonEnd()}};function G(ue,oe){var K=a(ue,oe);e(ue=K[0],oe=K[1])&&l.point(ue,oe)}function z(ue,oe){var K=a(ue,oe);u.point(K[0],K[1])}function q(){j.point=z,u.lineStart()}function Y(){j.point=G,u.lineEnd()}function J(ue,oe){P.push([ue,oe]);var K=a(ue,oe);b.point(K[0],K[1])}function ne(){b.lineStart(),P=[]}function ie(){J(P[0][0],P[0][1]),b.lineEnd();var ue=b.clean(),oe=m.result(),K,se=oe.length,pe,ve,Te;if(P.pop(),w.push(P),P=null,!!se){if(ue&1){if(ve=oe[0],(pe=ve.length-1)>0){for(_||(l.polygonStart(),_=!0),l.lineStart(),K=0;K<pe;++K)l.point((Te=ve[K])[0],Te[1]);l.lineEnd()}return}se>1&&ue&2&&oe.push(oe.pop().concat(oe.shift())),M.push(oe.filter(xLe))}}return j}}function xLe(e){return e.length>1}function ELe(e,t){return((e=e.x)[0]<0?e[1]-wy-ts:wy-e[1])-((t=t.x)[0]<0?t[1]-wy-ts:wy-t[1])}const fU=EJ(function(){return!0},wLe,TLe,[-Bi,-wy]);function wLe(e){var t=NaN,n=NaN,r=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(l,u){var i=l>0?Bi:-Bi,m=Ju(l-t);Ju(m-Bi)<ts?(e.point(t,n=(n+u)/2>0?wy:-wy),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(i,n),e.point(l,n),a=0):r!==i&&m>=Bi&&(Ju(t-r)<ts&&(t-=r*ts),Ju(l-i)<ts&&(l-=i*ts),n=SLe(t,n,l,u),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(i,n),a=0),e.point(t=l,n=u),r=i},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-a}}}function SLe(e,t,n,r){var a,l,u=Ys(e-n);return Ju(u)>ts?dLe((Ys(t)*(l=qs(r))*Ys(n)-Ys(r)*(a=qs(t))*Ys(e))/(a*l*u)):(t+r)/2}function TLe(e,t,n,r){var a;if(e==null)a=n*wy,r.point(-Bi,a),r.point(0,a),r.point(Bi,a),r.point(Bi,0),r.point(Bi,-a),r.point(0,-a),r.point(-Bi,-a),r.point(-Bi,0),r.point(-Bi,a);else if(Ju(e[0]-t[0])>ts){var l=e[0]<t[0]?Bi:-Bi;a=n*l/2,r.point(-l,a),r.point(0,a),r.point(l,a)}else r.point(t[0],t[1])}function CLe(e,t){var n=qs(e),r=n>0,a=Ju(n)>ts;function l(_,w,M,P){pLe(P,e,t,M,_,w)}function u(_,w){return qs(_)*qs(w)>n}function i(_){var w,M,P,j,G;return{lineStart:function(){j=P=!1,G=1},point:function(z,q){var Y=[z,q],J,ne=u(z,q),ie=r?ne?0:b(z,q):ne?b(z+(z<0?Bi:-Bi),q):0;if(!w&&(j=P=ne)&&_.lineStart(),ne!==P&&(J=m(w,Y),(!J||$A(w,J)||$A(Y,J))&&(Y[0]+=ts,Y[1]+=ts,ne=u(Y[0],Y[1]))),ne!==P)G=0,ne?(_.lineStart(),J=m(Y,w),_.point(J[0],J[1])):(J=m(w,Y),_.point(J[0],J[1]),_.lineEnd()),w=J;else if(a&&w&&r^ne){var ue;!(ie&M)&&(ue=m(Y,w,!0))&&(G=0,r?(_.lineStart(),_.point(ue[0][0],ue[0][1]),_.point(ue[1][0],ue[1][1]),_.lineEnd()):(_.point(ue[1][0],ue[1][1]),_.lineEnd(),_.lineStart(),_.point(ue[0][0],ue[0][1])))}ne&&(!w||!$A(w,Y))&&_.point(Y[0],Y[1]),w=Y,P=ne,M=ie},lineEnd:function(){P&&_.lineEnd(),w=null},clean:function(){return G|(j&&P)<<1}}}function m(_,w,M){var P=XE(_),j=XE(w),G=[1,0,0],z=Hk(P,j),q=QC(z,z),Y=z[0],J=q-Y*Y;if(!J)return!M&&_;var ne=n*q/J,ie=-n*Y/J,ue=Hk(G,z),oe=JC(G,ne),K=JC(z,ie);DM(oe,K);var se=ue,pe=QC(oe,se),ve=QC(se,se),Te=pe*pe-ve*(QC(oe,oe)-1);if(!(Te<0)){var Me=Mw(Te),xe=JC(se,(-pe-Me)/ve);if(DM(xe,oe),xe=xD(xe),!M)return xe;var Se=_[0],he=w[0],we=_[1],_e=w[1],Be;he<Se&&(Be=Se,Se=he,he=Be);var He=he-Se,Re=Ju(He-Bi)<ts,je=Re||He<ts;if(!Re&&_e<we&&(Be=we,we=_e,_e=Be),je?Re?we+_e>0^xe[1]<(Ju(xe[0]-Se)<ts?we:_e):we<=xe[1]&&xe[1]<=_e:He>Bi^(Se<=xe[0]&&xe[0]<=he)){var Ze=JC(se,(-pe+Me)/ve);return DM(Ze,oe),[xe,xD(Ze)]}}}function b(_,w){var M=r?e:Bi-e,P=0;return _<-M?P|=1:_>M&&(P|=2),w<-M?P|=4:w>M&&(P|=8),P}return EJ(u,i,l,r?[0,-e]:[-Bi,e-Bi])}function wJ(e){return function(t){var n=new SD;for(var r in e)n[r]=e[r];return n.stream=t,n}}function SD(){}SD.prototype={constructor:SD,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function SJ(e,t,n){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],l=e.clipExtent&&e.clipExtent();e.scale(150).translate([0,0]),l!=null&&e.clipExtent(null),fLe(n,e.stream(dU));var u=dU.result(),i=Math.min(r/(u[1][0]-u[0][0]),a/(u[1][1]-u[0][1])),m=+t[0][0]+(r-i*(u[1][0]+u[0][0]))/2,b=+t[0][1]+(a-i*(u[1][1]+u[0][1]))/2;return l!=null&&e.clipExtent(l),e.scale(i*150).translate([m,b])}function ALe(e,t,n){return SJ(e,[[0,0],t],n)}var hU=16,kLe=qs(30*Lp);function pU(e,t){return+t?NLe(e,t):ILe(e)}function ILe(e){return wJ({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function NLe(e,t){function n(r,a,l,u,i,m,b,_,w,M,P,j,G,z){var q=b-r,Y=_-a,J=q*q+Y*Y;if(J>4*t&&G--){var ne=u+M,ie=i+P,ue=m+j,oe=Mw(ne*ne+ie*ie+ue*ue),K=R1(ue/=oe),se=Ju(Ju(ue)-1)<ts||Ju(l-w)<ts?(l+w)/2:ZE(ie,ne),pe=e(se,K),ve=pe[0],Te=pe[1],Me=ve-r,xe=Te-a,Se=Y*Me-q*xe;(Se*Se/J>t||Ju((q*Me+Y*xe)/J-.5)>.3||u*M+i*P+m*j<kLe)&&(n(r,a,l,u,i,m,ve,Te,se,ne/=oe,ie/=oe,ue,G,z),z.point(ve,Te),n(ve,Te,se,ne,ie,ue,b,_,w,M,P,j,G,z))}}return function(r){var a,l,u,i,m,b,_,w,M,P,j,G,z={point:q,lineStart:Y,lineEnd:ne,polygonStart:function(){r.polygonStart(),z.lineStart=ie},polygonEnd:function(){r.polygonEnd(),z.lineStart=Y}};function q(K,se){K=e(K,se),r.point(K[0],K[1])}function Y(){w=NaN,z.point=J,r.lineStart()}function J(K,se){var pe=XE([K,se]),ve=e(K,se);n(w,M,_,P,j,G,w=ve[0],M=ve[1],_=K,P=pe[0],j=pe[1],G=pe[2],hU,r),r.point(w,M)}function ne(){z.point=q,r.lineEnd()}function ie(){Y(),z.point=ue,z.lineEnd=oe}function ue(K,se){J(a=K,se),l=w,u=M,i=P,m=j,b=G,z.point=J}function oe(){n(w,M,_,P,j,G,l,u,a,i,m,b,hU,r),z.lineEnd=ne,ne()}return z}}var RLe=wJ({point:function(e,t){this.stream.point(e*Lp,t*Lp)}});function MLe(e){return OLe(function(){return e})()}function OLe(e){var t,n=150,r=480,a=250,l,u,i=0,m=0,b=0,_=0,w=0,M,P,j=null,G=fU,z=null,q,Y,J,ne=cU,ie=.5,ue=pU(ve,ie),oe,K;function se(xe){return xe=P(xe[0]*Lp,xe[1]*Lp),[xe[0]*n+l,u-xe[1]*n]}function pe(xe){return xe=P.invert((xe[0]-l)/n,(u-xe[1])/n),xe&&[xe[0]*fb,xe[1]*fb]}function ve(xe,Se){return xe=t(xe,Se),[xe[0]*n+l,u-xe[1]*n]}se.stream=function(xe){return oe&&K===xe?oe:oe=RLe(G(M,ue(ne(K=xe))))},se.clipAngle=function(xe){return arguments.length?(G=+xe?CLe(j=xe*Lp,6*Lp):(j=null,fU),Me()):j*fb},se.clipExtent=function(xe){return arguments.length?(ne=xe==null?(z=q=Y=J=null,cU):vLe(z=+xe[0][0],q=+xe[0][1],Y=+xe[1][0],J=+xe[1][1]),Me()):z==null?null:[[z,q],[Y,J]]},se.scale=function(xe){return arguments.length?(n=+xe,Te()):n},se.translate=function(xe){return arguments.length?(r=+xe[0],a=+xe[1],Te()):[r,a]},se.center=function(xe){return arguments.length?(i=xe[0]%360*Lp,m=xe[1]%360*Lp,Te()):[i*fb,m*fb]},se.rotate=function(xe){return arguments.length?(b=xe[0]%360*Lp,_=xe[1]%360*Lp,w=xe.length>2?xe[2]%360*Lp:0,Te()):[b*fb,_*fb,w*fb]},se.precision=function(xe){return arguments.length?(ue=pU(ve,ie=xe*xe),Me()):Mw(ie)},se.fitExtent=function(xe,Se){return SJ(se,xe,Se)},se.fitSize=function(xe,Se){return ALe(se,xe,Se)};function Te(){P=yJ(M=hLe(b,_,w),t);var xe=t(i,m);return l=r-xe[0]*n,u=a+xe[1]*n,Me()}function Me(){return oe=K=null,se}return function(){return t=e.apply(this,arguments),se.invert=t.invert&&pe,Te()}}function TJ(e){return function(t,n){var r=qs(t),a=qs(n),l=e(r*a);return[l*a*Ys(t),l*Ys(n)]}}function CJ(e){return function(t,n){var r=Mw(t*t+n*n),a=e(r),l=Ys(a),u=qs(a);return[ZE(t*l,r*u),R1(r&&n*l/r)]}}var DLe=TJ(function(e){return Mw(2/(1+e))});DLe.invert=CJ(function(e){return 2*R1(e/2)});var AJ=TJ(function(e){return(e=gJ(e))&&e/Ys(e)});AJ.invert=CJ(function(e){return e});function LLe(){return MLe(AJ).scale(79.4188).clipAngle(180-.001)}function mU(e,t){return[e,t]}mU.invert=mU;var{BufferOp:PLe,GeoJSONReader:FLe,GeoJSONWriter:BLe}=cLe;function $Le(e,t,n){n=n||{};var r=n.units||"kilometers",a=n.steps||8;if(!e)throw new Error("geojson is required");if(typeof n!="object")throw new Error("options must be an object");if(typeof a!="number")throw new Error("steps must be an number");if(t===void 0)throw new Error("radius is required");if(a<=0)throw new Error("steps must be greater than 0");var l=[];switch(e.type){case"GeometryCollection":return nx(e,function(u){var i=jA(u,t,r,a);i&&l.push(i)}),Wl(l);case"FeatureCollection":return Py(e,function(u){var i=jA(u,t,r,a);i&&Py(i,function(m){m&&l.push(m)})}),Wl(l)}return jA(e,t,r,a)}function jA(e,t,n,r){var a=e.properties||{},l=e.type==="Feature"?e.geometry:e;if(l.type==="GeometryCollection"){var u=[];return nx(e,function(G){var z=jA(G,t,n,r);z&&u.push(z)}),Wl(u)}var i=jLe(l),m={type:l.type,coordinates:IJ(l.coordinates,i)},b=new FLe,_=b.read(m),w=IF(NF(t,n),"meters"),M=PLe.bufferOp(_,w,r),P=new BLe;if(M=P.write(M),!kJ(M.coordinates)){var j={type:M.type,coordinates:NJ(M.coordinates,i)};return ug(j,a)}}function kJ(e){return Array.isArray(e[0])?kJ(e[0]):isNaN(e[0])}function IJ(e,t){return typeof e[0]!="object"?t(e):e.map(function(n){return IJ(n,t)})}function NJ(e,t){return typeof e[0]!="object"?t.invert(e):e.map(function(n){return NJ(n,t)})}function jLe(e){var t=oLe(e).geometry.coordinates,n=[-t[0],-t[1]];return LLe().rotate(n).scale(Yu)}var zLe=$Le;class RJ{constructor(t=[],n=ULe){if(this.data=t,this.length=this.data.length,this.compare=n,this.length>0)for(let r=(this.length>>1)-1;r>=0;r--)this._down(r)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const t=this.data[0],n=this.data.pop();return this.length--,this.length>0&&(this.data[0]=n,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:n,compare:r}=this,a=n[t];for(;t>0;){const l=t-1>>1,u=n[l];if(r(a,u)>=0)break;n[t]=u,t=l}n[t]=a}_down(t){const{data:n,compare:r}=this,a=this.length>>1,l=n[t];for(;t<a;){let u=(t<<1)+1,i=n[u];const m=u+1;if(m<this.length&&r(n[m],i)<0&&(u=m,i=n[m]),r(i,l)>=0)break;n[t]=i,t=u}n[t]=l}}function ULe(e,t){return e<t?-1:e>t?1:0}function MJ(e,t){return e.p.x>t.p.x?1:e.p.x<t.p.x?-1:e.p.y!==t.p.y?e.p.y>t.p.y?1:-1:1}function GLe(e,t){return e.rightSweepEvent.p.x>t.rightSweepEvent.p.x?1:e.rightSweepEvent.p.x<t.rightSweepEvent.p.x?-1:e.rightSweepEvent.p.y!==t.rightSweepEvent.p.y?e.rightSweepEvent.p.y<t.rightSweepEvent.p.y?1:-1:1}class gU{constructor(t,n,r,a){this.p={x:t[0],y:t[1]},this.featureId=n,this.ringId=r,this.eventId=a,this.otherEvent=null,this.isLeftEndpoint=null}isSamePoint(t){return this.p.x===t.p.x&&this.p.y===t.p.y}}function HLe(e,t){if(e.type==="FeatureCollection"){const n=e.features;for(let r=0;r<n.length;r++)yU(n[r],t)}else yU(e,t)}let nA=0,rA=0,aA=0;function yU(e,t){const n=e.type==="Feature"?e.geometry:e;let r=n.coordinates;(n.type==="Polygon"||n.type==="MultiLineString")&&(r=[r]),n.type==="LineString"&&(r=[[r]]);for(let a=0;a<r.length;a++)for(let l=0;l<r[a].length;l++){let u=r[a][l][0],i=null;rA=rA+1;for(let m=0;m<r[a][l].length-1;m++){i=r[a][l][m+1];const b=new gU(u,nA,rA,aA),_=new gU(i,nA,rA,aA+1);b.otherEvent=_,_.otherEvent=b,MJ(b,_)>0?(_.isLeftEndpoint=!0,b.isLeftEndpoint=!1):(b.isLeftEndpoint=!0,_.isLeftEndpoint=!1),t.push(b),t.push(_),u=i,aA=aA+1}}nA=nA+1}let VLe=class{constructor(e){this.leftSweepEvent=e,this.rightSweepEvent=e.otherEvent}};function qLe(e,t){if(e===null||t===null||e.leftSweepEvent.ringId===t.leftSweepEvent.ringId&&(e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.leftSweepEvent)||e.rightSweepEvent.isSamePoint(t.rightSweepEvent)||e.leftSweepEvent.isSamePoint(t.leftSweepEvent)||e.leftSweepEvent.isSamePoint(t.rightSweepEvent)))return!1;const n=e.leftSweepEvent.p.x,r=e.leftSweepEvent.p.y,a=e.rightSweepEvent.p.x,l=e.rightSweepEvent.p.y,u=t.leftSweepEvent.p.x,i=t.leftSweepEvent.p.y,m=t.rightSweepEvent.p.x,b=t.rightSweepEvent.p.y,_=(b-i)*(a-n)-(m-u)*(l-r),w=(m-u)*(r-i)-(b-i)*(n-u),M=(a-n)*(r-i)-(l-r)*(n-u);if(_===0)return!1;const P=w/_,j=M/_;if(P>=0&&P<=1&&j>=0&&j<=1){const G=n+P*(a-n),z=r+P*(l-r);return[G,z]}return!1}function YLe(e,t){t=t||!1;const n=[],r=new RJ([],GLe);for(;e.length;){const a=e.pop();if(a.isLeftEndpoint){const l=new VLe(a);for(let u=0;u<r.data.length;u++){const i=r.data[u];if(t&&i.leftSweepEvent.featureId===a.featureId)continue;const m=qLe(l,i);m!==!1&&n.push(m)}r.push(l)}else a.isLeftEndpoint===!1&&r.pop()}return n}function WLe(e,t){const n=new RJ([],MJ);return HLe(e,n),YLe(n,t)}var ZLe=WLe;function JT(e,t,n={}){const{removeDuplicates:r=!0,ignoreSelfIntersections:a=!0}=n;let l=[];e.type==="FeatureCollection"?l=l.concat(e.features):e.type==="Feature"?l.push(e):(e.type==="LineString"||e.type==="Polygon"||e.type==="MultiLineString"||e.type==="MultiPolygon")&&l.push(ug(e)),t.type==="FeatureCollection"?l=l.concat(t.features):t.type==="Feature"?l.push(t):(t.type==="LineString"||t.type==="Polygon"||t.type==="MultiLineString"||t.type==="MultiPolygon")&&l.push(ug(t));const u=ZLe(Wl(l),a);let i=[];if(r){const m={};u.forEach(b=>{const _=b.join(",");m[_]||(m[_]=!0,i.push(b))})}else i=u;return Wl(i.map(m=>Km(m)))}var XLe=JT;function TD(e){const t=$h(e);let n=0,r=1,a,l;for(;r<t.length;)a=l||t[0],l=t[r],n+=(l[0]-a[0])*(l[1]+a[1]),r++;return n>0}function KLe(e,t={}){var n,r;if(t=t||{},!DN(t))throw new Error("options is invalid");const a=(n=t.mutate)!=null?n:!1,l=(r=t.reverse)!=null?r:!1;if(!e)throw new Error("<geojson> is required");if(typeof l!="boolean")throw new Error("<reverse> must be a boolean");if(typeof a!="boolean")throw new Error("<mutate> must be a boolean");!a&&e.type!=="Point"&&e.type!=="MultiPoint"&&(e=LN(e));const u=[];switch(e.type){case"GeometryCollection":return nx(e,function(i){zA(i,l)}),e;case"FeatureCollection":return Py(e,function(i){const m=zA(i,l);Py(m,function(b){u.push(b)})}),Wl(u)}return zA(e,l)}function zA(e,t){switch(e.type==="Feature"?e.geometry.type:e.type){case"GeometryCollection":return nx(e,function(n){zA(n,t)}),e;case"LineString":return vU($h(e),t),e;case"Polygon":return bU($h(e),t),e;case"MultiLineString":return $h(e).forEach(function(n){vU(n,t)}),e;case"MultiPolygon":return $h(e).forEach(function(n){bU(n,t)}),e;case"Point":case"MultiPoint":return e}}function vU(e,t){TD(e)===t&&e.reverse()}function bU(e,t){TD(e[0])!==t&&e[0].reverse();for(let n=1;n<e.length;n++)TD(e[n])===t&&e[n].reverse()}var QLe=KLe;const JLe=["Point","MultiPoint"],ePe=["LineString","MultiLineString","Polygon","MultiPolygon"],OJ=e=>JLe.includes(e.geometry.type),CD=e=>ePe.includes(e.geometry.type),tPe=(e,t)=>(XT(e,n=>{const r=n.coordinate;r[0]+=t.lng,r[1]+=t.lat}),e),nPe=(e,t)=>{const n=e.getBounds(),r=iJ(n[0],n[1],{units:"meters"});return zLe(t,r*1e-4,{units:"meters"})||null},rPe=(e,t)=>{const n=Vh(e.getGeoJson());return tPe(n,t),n},aPe=(e,t)=>{try{XT(e,n=>{if(!N1(n.coordinate,t))throw new Error("stop")})}catch{return!1}return!0},iA=(e,t)=>{const n=aPe(e,t);return OJ(e)?n:n&&CD(e)?!XLe(e,t,{ignoreSelfIntersections:!0}).features.length:!1},zF=e=>{const t=e.getGeoJson();return typeof t!="object"?null:dJ(t)},iPe=e=>{if(CD(e)){const t=QLe(e,{mutate:!1});if(t.type==="Feature"&&CD(t))return{...t,properties:e.properties||{}}}return OJ(e)?e:null},oPe=(e,t)=>{const n=e.properties?.[t];return typeof n=="string"||typeof n=="number"?n:null};class UF extends QT{mode="drag";previousLngLat=null;pointBasedShapes=["marker","circle_marker","text_marker"];throttledMethods=rx({onMouseMove:this.onMouseMove},this,this.gm.options.settings.throttlingDelay);eventHandlers={[`${gr}:edit`]:this.handleGmEdit.bind(this),mousedown:this.onMouseDown.bind(this),touchstart:this.onMouseDown.bind(this),mousemove:this.throttledMethods.onMouseMove.bind(this),touchmove:this.throttledMethods.onMouseMove.bind(this),mouseup:this.onMouseUp.bind(this),touchend:this.onMouseUp.bind(this)};getUpdatedGeoJsonHandlers={marker:this.moveSource.bind(this),ellipse:this.moveEllipse.bind(this),circle:this.moveCircle.bind(this),circle_marker:this.moveSource.bind(this),text_marker:this.moveSource.bind(this),line:this.moveSource.bind(this),rectangle:this.moveSource.bind(this),polygon:this.moveSource.bind(this)};onMouseDown(t){if(!gl(t))return{next:!0};const n=this.getFeatureByMouseEvent({event:t,sourceNames:[Kn.main]});return n&&this.getUpdatedGeoJsonHandlers[n.shape]?(this.featureData=n,this.featureData.changeSource({sourceName:Kn.temporary,atomic:!0}),this.gm.mapAdapter.setDragPan(!1),this.snappingHelper?.addExcludedFeature(this.featureData),this.fireFeatureEditStartEvent({feature:this.featureData,forceMode:"drag"}),this.flags.actionInProgress=!0,this.isPointBasedShape()&&this.alignShapeCenterWithControlMarker(this.featureData,t),{next:!1}):{next:!0}}onMouseUp(t){return!this.featureData||!gl(t,{warning:!0})?{next:!0}:(this.snappingHelper?.clearExcludedFeatures(),this.featureData.changeSource({sourceName:Kn.main,atomic:!0}),this.previousLngLat=null,this.gm.mapAdapter.setDragPan(!0),this.fireFeatureEditEndEvent({feature:this.featureData,forceMode:"drag"}),this.flags.actionInProgress=!1,this.featureData=null,{next:!0})}onMouseMove(t){if(!this.flags.actionInProgress||!gl(t,{warning:!0}))return{next:!0};if(this.featureData){const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();this.moveFeature(this.featureData,n)}return{next:!1}}isPointBasedShape(){return!!this.featureData&&this.pointBasedShapes.includes(this.featureData.shape)}alignShapeCenterWithControlMarker(t,n){const r=zF(t);r&&(this.gm.markerPointer.marker?.setLngLat(r),this.onMouseMove(n))}moveFeature(t,n){if(!this.flags.actionInProgress)return;if(!this.previousLngLat){this.previousLngLat=n;return}const r=this.getUpdatedGeoJsonHandlers[t.shape];if(r){const a=r(t,this.previousLngLat,n);if(!a){rr.error("BaseDrag.moveFeature: invalid updatedGeoJson",t);return}this.fireBeforeFeatureUpdate({features:[t],geoJsonFeatures:[a],forceMode:"drag"});const l=this.updateFeatureGeoJson({featureData:t,featureGeoJson:a,forceMode:"drag"});Cw(t.getGeoJson().properties,a.properties)||t._updateAllProperties(a.properties),l&&(this.previousLngLat=n)}}moveSource(t,n,r){const a=kM(n,r);return rPe(t,a)}moveEllipse(t,n,r){if(t.shape!=="ellipse")return rr.error("BaseDrag.moveCircle: invalid shape type",t),null;const a=t.getShapeProperty("center"),l=t.getShapeProperty("xSemiAxis"),u=t.getShapeProperty("ySemiAxis"),i=t.getShapeProperty("angle");if(!Array.isArray(a)||typeof l!="number"||typeof u!="number"||typeof i!="number")return rr.error("BaseDrag.moveEllipse: missing center, xSemiAxis, ySemiAxis or angle in the featureData",t),null;const m=kM(n,r),b=[a[0]+m.lng,a[1]+m.lat];return FN({center:b,xSemiAxis:l,ySemiAxis:u,angle:i})}moveCircle(t,n,r){if(t.shape!=="circle")return rr.error("BaseDrag.moveCircle: invalid shape type",t),null;const a=t.getShapeProperty("center");if(!Array.isArray(a))return rr.error("BaseDrag.moveCircle: missing center in the featureData",t),null;const l=t.getGeoJson(),u=kM(n,r),i=dJ(l);if(!i)return rr.error("BaseDrag.moveCircle: missing center circleRimLngLat"),null;const m=[a[0]+u.lng,a[1]+u.lat];t.setShapeProperty("center",m);const b=DF({center:m,radius:this.gm.mapAdapter.getDistance(a,i)});return{type:"Feature",properties:{shape:"circle"},geometry:b.geometry}}}const sPe=(e,t)=>(e%t+t)%t;class lPe extends UF{mode="change";cutVertexShapeTypes=["line","polygon","rectangle"];markerData=null;shapeUpdateHandlers={marker:this.updateSingleVertex.bind(this),circle:this.updateCircle.bind(this),circle_marker:this.updateSingleVertex.bind(this),ellipse:this.updateEllipse.bind(this),text_marker:this.updateSingleVertex.bind(this),line:this.updateSingleVertex.bind(this),rectangle:this.updateRectangle.bind(this),polygon:this.updateSingleVertex.bind(this)};get snapGuidesInstance(){const t=this.gm.actionInstances.helper__snap_guides;return pJ(t)?t:null}onStartAction(){}onEndAction(){this.snapGuidesInstance?.removeSnapGuides()}handleGmEdit(t){if(!Rw(t))return{next:!0};if(t.action==="marker_move"&&t.lngLatStart&&t.markerData){if(t.markerData.type==="vertex")return this.moveVertex(t),{next:!1};if(t.lngLatEnd)return this.moveSource(t.featureData,t.lngLatStart,t.lngLatEnd),{next:!1}}return t.action==="marker_right_click"?(this.cutVertex(t),this.fireFeatureEditEndEvent({feature:t.featureData})):t.action==="edge_marker_click"?this.insertVertex(t):t.action==="marker_captured"?(this.setCursorToPointer(),t.featureData.changeSource({sourceName:Kn.temporary,atomic:!0}),this.flags.actionInProgress=!0,this.fireFeatureEditStartEvent({feature:t.featureData})):t.action==="marker_released"&&(this.markerData=null,this.snapGuidesInstance?.removeSnapGuides(),t.featureData.changeSource({sourceName:Kn.main,atomic:!0}),this.fireFeatureEditEndEvent({feature:t.featureData}),this.flags.actionInProgress=!1),{next:!0}}moveVertex(t){this.markerData||(this.markerData=t.markerData||null,this.snapGuidesInstance?.updateSnapGuides(t.featureData.getGeoJson(),t.lngLatStart));const n=t.featureData,r=n.shape,a=this.shapeUpdateHandlers[r]?.(t)||null;a?(this.fireBeforeFeatureUpdate({features:[n],geoJsonFeatures:[a]}),this.updateFeatureGeoJson({featureData:n,featureGeoJson:a})):rr.error("EditChange.moveVertex: invalid geojson",a,t)}cutVertex(t){const n=t.featureData;if(t.markerData.type!=="vertex"||!this.cutVertexShapeTypes.includes(n.shape))return;let r=!1;const a=n.getGeoJson(),l=t.markerData.instance;if(sJ(a)){if(IM(a)<=2){this.gm.features.delete(n);return}}else if(uJ(a)){if(IM(a)<=3){this.gm.features.delete(n);return}}else if(lJ(a)&&IM(a)<=3){this.gm.features.delete(n);return}const u=zF(l);u&&(r=nDe(a,u)),r?(n.convertToPolygon(),n.updateGeoJsonGeometry(a.geometry),this.fireFeatureUpdatedEvent({sourceFeatures:[n],targetFeatures:[n],markerData:t.markerData})):rr.error("EditChange.cutVertex: feature not updated",t)}insertVertex(t){if(t.markerData.type!=="edge")return;const n=t.featureData.getGeoJson(),r=t.markerData.segment.end.path,a=r.pop(),l=HE(n,r);typeof a=="number"&&(l.splice(a,0,[...t.markerData.position.coordinate]),t.featureData.updateGeoJsonGeometry(n.geometry),t.featureData.convertToPolygon(),this.fireFeatureUpdatedEvent({sourceFeatures:[t.featureData],targetFeatures:[t.featureData],markerData:t.markerData}))}updateSingleVertex({featureData:t,lngLatEnd:n,markerData:r}){const a=Vh(t.getGeoJson()),l=Vh(r.position.path),u=l.pop(),i=HE(a,l);return Array.isArray(i)&&typeof u=="number"?(i[u]=[...n],u===0&&t.shape==="polygon"&&(i[i.length-1]=[...n])):rr.error("BaseDrag.moveSingleVertex: invalid coordinates",a,l),a}updateCircle({featureData:t,lngLatEnd:n}){const r=t.getShapeProperty("center");if(t.shape!=="circle"||!r)return rr.error("BaseDrag.moveCircle: invalid shape type / missing center",t),null;const a=DF({center:r,radius:this.gm.mapAdapter.getDistance(r,n)});return{type:"Feature",properties:{shape:"circle"},geometry:a.geometry}}updateEllipse(t){const{featureData:n,lngLatEnd:r,markerData:a}=t;if(n.shape!=="ellipse")return rr.error("EditChange.updateEllipse: invalid shape type",n),null;const l=n.getShapeProperty("center");let u=n.getShapeProperty("xSemiAxis"),i=n.getShapeProperty("ySemiAxis");const m=n.getShapeProperty("angle");if(!Array.isArray(l)||typeof u!="number"||typeof i!="number"||typeof m!="number")return rr.error("updateEllipse: missing center, xSemiAxis, ySemiAxis or angle in the featureData",n),null;const b=this.gm.mapAdapter.getDistance(l,r),_=a.position.path[3],w=Math.floor(_/fJ*4);return(w===0||w===2?"x":"y")=="x"?u=b:i=b,FN({center:l,xSemiAxis:u,ySemiAxis:i,angle:m})}updateRectangle({featureData:t,lngLatStart:n,lngLatEnd:r}){const a=t.getGeoJson(),l=a.geometry.coordinates[0],{absCoordIndex:u}=PN(a,n);if(u===-1)return rr.error("EditChange.updateRectangle: start vertex not found",t),null;const i=sPe(u-2,4),m=l[i];return gD(r,m)}}function uPe(e,t,{ignoreSelfIntersections:n=!0}={ignoreSelfIntersections:!0}){let r=!0;return zb(e,a=>{zb(t,l=>{if(r===!1)return!1;r=cPe(a.geometry,l.geometry,n)})}),r}function cPe(e,t,n){switch(e.type){case"Point":switch(t.type){case"Point":return!pPe(e.coordinates,t.coordinates);case"LineString":return!_U(t,e);case"Polygon":return!N1(e,t)}break;case"LineString":switch(t.type){case"Point":return!_U(e,t);case"LineString":return!dPe(e,t,n);case"Polygon":return!xU(t,e,n)}break;case"Polygon":switch(t.type){case"Point":return!N1(t,e);case"LineString":return!xU(e,t,n);case"Polygon":return!fPe(t,e,n)}}return!1}function _U(e,t){for(let n=0;n<e.coordinates.length-1;n++)if(hPe(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function dPe(e,t,n){return JT(e,t,{ignoreSelfIntersections:n}).features.length>0}function xU(e,t,n){for(const r of t.coordinates)if(N1(r,e))return!0;return JT(t,mD(e),{ignoreSelfIntersections:n}).features.length>0}function fPe(e,t,n){for(const r of e.coordinates[0])if(N1(r,t))return!0;for(const r of t.coordinates[0])if(N1(r,e))return!0;return JT(mD(e),mD(t),{ignoreSelfIntersections:n}).features.length>0}function hPe(e,t,n){const r=n[0]-e[0],a=n[1]-e[1],l=t[0]-e[0],u=t[1]-e[1];return r*u-a*l!==0?!1:Math.abs(l)>=Math.abs(u)?l>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:u>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]}function pPe(e,t){return e[0]===t[0]&&e[1]===t[1]}function mPe(e,t,{ignoreSelfIntersections:n=!0}={}){let r=!1;return zb(e,a=>{zb(t,l=>{if(r===!0)return!0;r=!uPe(a.geometry,l.geometry,{ignoreSelfIntersections:n})})}),r}var gPe=mPe,yPe=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,PM=Math.ceil,Rp=Math.floor,jf="[BigNumber Error] ",EU=jf+"Number primitive has more than 15 significant digits: ",Pm=1e14,Da=14,FM=9007199254740991,BM=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],hb=1e7,Gu=1e9;function DJ(e){var t,n,r,a=Y.prototype={constructor:Y,toString:null,valueOf:null},l=new Y(1),u=20,i=4,m=-7,b=21,_=-1e7,w=1e7,M=!1,P=1,j=0,G={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},z="0123456789abcdefghijklmnopqrstuvwxyz",q=!0;function Y(K,se){var pe,ve,Te,Me,xe,Se,he,we,_e=this;if(!(_e instanceof Y))return new Y(K,se);if(se==null){if(K&&K._isBigNumber===!0){_e.s=K.s,!K.c||K.e>w?_e.c=_e.e=null:K.e<_?_e.c=[_e.e=0]:(_e.e=K.e,_e.c=K.c.slice());return}if((Se=typeof K=="number")&&K*0==0){if(_e.s=1/K<0?(K=-K,-1):1,K===~~K){for(Me=0,xe=K;xe>=10;xe/=10,Me++);Me>w?_e.c=_e.e=null:(_e.e=Me,_e.c=[K]);return}we=String(K)}else{if(!yPe.test(we=String(K)))return r(_e,we,Se);_e.s=we.charCodeAt(0)==45?(we=we.slice(1),-1):1}(Me=we.indexOf("."))>-1&&(we=we.replace(".","")),(xe=we.search(/e/i))>0?(Me<0&&(Me=xe),Me+=+we.slice(xe+1),we=we.substring(0,xe)):Me<0&&(Me=we.length)}else{if(Gs(se,2,z.length,"Base"),se==10&&q)return _e=new Y(K),ue(_e,u+_e.e+1,i);if(we=String(K),Se=typeof K=="number"){if(K*0!=0)return r(_e,we,Se,se);if(_e.s=1/K<0?(we=we.slice(1),-1):1,Y.DEBUG&&we.replace(/^0\.0*|\./,"").length>15)throw Error(EU+K)}else _e.s=we.charCodeAt(0)===45?(we=we.slice(1),-1):1;for(pe=z.slice(0,se),Me=xe=0,he=we.length;xe<he;xe++)if(pe.indexOf(ve=we.charAt(xe))<0){if(ve=="."){if(xe>Me){Me=he;continue}}else if(!Te&&(we==we.toUpperCase()&&(we=we.toLowerCase())||we==we.toLowerCase()&&(we=we.toUpperCase()))){Te=!0,xe=-1,Me=0;continue}return r(_e,String(K),Se,se)}Se=!1,we=n(we,se,10,_e.s),(Me=we.indexOf("."))>-1?we=we.replace(".",""):Me=we.length}for(xe=0;we.charCodeAt(xe)===48;xe++);for(he=we.length;we.charCodeAt(--he)===48;);if(we=we.slice(xe,++he)){if(he-=xe,Se&&Y.DEBUG&&he>15&&(K>FM||K!==Rp(K)))throw Error(EU+_e.s*K);if((Me=Me-xe-1)>w)_e.c=_e.e=null;else if(Me<_)_e.c=[_e.e=0];else{if(_e.e=Me,_e.c=[],xe=(Me+1)%Da,Me<0&&(xe+=Da),xe<he){for(xe&&_e.c.push(+we.slice(0,xe)),he-=Da;xe<he;)_e.c.push(+we.slice(xe,xe+=Da));xe=Da-(we=we.slice(xe)).length}else xe-=he;for(;xe--;we+="0");_e.c.push(+we)}}else _e.c=[_e.e=0]}Y.clone=DJ,Y.ROUND_UP=0,Y.ROUND_DOWN=1,Y.ROUND_CEIL=2,Y.ROUND_FLOOR=3,Y.ROUND_HALF_UP=4,Y.ROUND_HALF_DOWN=5,Y.ROUND_HALF_EVEN=6,Y.ROUND_HALF_CEIL=7,Y.ROUND_HALF_FLOOR=8,Y.EUCLID=9,Y.config=Y.set=function(K){var se,pe;if(K!=null)if(typeof K=="object"){if(K.hasOwnProperty(se="DECIMAL_PLACES")&&(pe=K[se],Gs(pe,0,Gu,se),u=pe),K.hasOwnProperty(se="ROUNDING_MODE")&&(pe=K[se],Gs(pe,0,8,se),i=pe),K.hasOwnProperty(se="EXPONENTIAL_AT")&&(pe=K[se],pe&&pe.pop?(Gs(pe[0],-Gu,0,se),Gs(pe[1],0,Gu,se),m=pe[0],b=pe[1]):(Gs(pe,-Gu,Gu,se),m=-(b=pe<0?-pe:pe))),K.hasOwnProperty(se="RANGE"))if(pe=K[se],pe&&pe.pop)Gs(pe[0],-Gu,-1,se),Gs(pe[1],1,Gu,se),_=pe[0],w=pe[1];else if(Gs(pe,-Gu,Gu,se),pe)_=-(w=pe<0?-pe:pe);else throw Error(jf+se+" cannot be zero: "+pe);if(K.hasOwnProperty(se="CRYPTO"))if(pe=K[se],pe===!!pe)if(pe)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))M=pe;else throw M=!pe,Error(jf+"crypto unavailable");else M=pe;else throw Error(jf+se+" not true or false: "+pe);if(K.hasOwnProperty(se="MODULO_MODE")&&(pe=K[se],Gs(pe,0,9,se),P=pe),K.hasOwnProperty(se="POW_PRECISION")&&(pe=K[se],Gs(pe,0,Gu,se),j=pe),K.hasOwnProperty(se="FORMAT"))if(pe=K[se],typeof pe=="object")G=pe;else throw Error(jf+se+" not an object: "+pe);if(K.hasOwnProperty(se="ALPHABET"))if(pe=K[se],typeof pe=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(pe))q=pe.slice(0,10)=="0123456789",z=pe;else throw Error(jf+se+" invalid: "+pe)}else throw Error(jf+"Object expected: "+K);return{DECIMAL_PLACES:u,ROUNDING_MODE:i,EXPONENTIAL_AT:[m,b],RANGE:[_,w],CRYPTO:M,MODULO_MODE:P,POW_PRECISION:j,FORMAT:G,ALPHABET:z}},Y.isBigNumber=function(K){if(!K||K._isBigNumber!==!0)return!1;if(!Y.DEBUG)return!0;var se,pe,ve=K.c,Te=K.e,Me=K.s;e:if({}.toString.call(ve)=="[object Array]"){if((Me===1||Me===-1)&&Te>=-Gu&&Te<=Gu&&Te===Rp(Te)){if(ve[0]===0){if(Te===0&&ve.length===1)return!0;break e}if(se=(Te+1)%Da,se<1&&(se+=Da),String(ve[0]).length==se){for(se=0;se<ve.length;se++)if(pe=ve[se],pe<0||pe>=Pm||pe!==Rp(pe))break e;if(pe!==0)return!0}}}else if(ve===null&&Te===null&&(Me===null||Me===1||Me===-1))return!0;throw Error(jf+"Invalid BigNumber: "+K)},Y.maximum=Y.max=function(){return ne(arguments,-1)},Y.minimum=Y.min=function(){return ne(arguments,1)},Y.random=(function(){var K=9007199254740992,se=Math.random()*K&2097151?function(){return Rp(Math.random()*K)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(pe){var ve,Te,Me,xe,Se,he=0,we=[],_e=new Y(l);if(pe==null?pe=u:Gs(pe,0,Gu),xe=PM(pe/Da),M)if(crypto.getRandomValues){for(ve=crypto.getRandomValues(new Uint32Array(xe*=2));he<xe;)Se=ve[he]*131072+(ve[he+1]>>>11),Se>=9e15?(Te=crypto.getRandomValues(new Uint32Array(2)),ve[he]=Te[0],ve[he+1]=Te[1]):(we.push(Se%1e14),he+=2);he=xe/2}else if(crypto.randomBytes){for(ve=crypto.randomBytes(xe*=7);he<xe;)Se=(ve[he]&31)*281474976710656+ve[he+1]*1099511627776+ve[he+2]*4294967296+ve[he+3]*16777216+(ve[he+4]<<16)+(ve[he+5]<<8)+ve[he+6],Se>=9e15?crypto.randomBytes(7).copy(ve,he):(we.push(Se%1e14),he+=7);he=xe/7}else throw M=!1,Error(jf+"crypto unavailable");if(!M)for(;he<xe;)Se=se(),Se<9e15&&(we[he++]=Se%1e14);for(xe=we[--he],pe%=Da,xe&&pe&&(Se=BM[Da-pe],we[he]=Rp(xe/Se)*Se);we[he]===0;we.pop(),he--);if(he<0)we=[Me=0];else{for(Me=-1;we[0]===0;we.splice(0,1),Me-=Da);for(he=1,Se=we[0];Se>=10;Se/=10,he++);he<Da&&(Me-=Da-he)}return _e.e=Me,_e.c=we,_e}})(),Y.sum=function(){for(var K=1,se=arguments,pe=new Y(se[0]);K<se.length;)pe=pe.plus(se[K++]);return pe},n=(function(){var K="0123456789";function se(pe,ve,Te,Me){for(var xe,Se=[0],he,we=0,_e=pe.length;we<_e;){for(he=Se.length;he--;Se[he]*=ve);for(Se[0]+=Me.indexOf(pe.charAt(we++)),xe=0;xe<Se.length;xe++)Se[xe]>Te-1&&(Se[xe+1]==null&&(Se[xe+1]=0),Se[xe+1]+=Se[xe]/Te|0,Se[xe]%=Te)}return Se.reverse()}return function(pe,ve,Te,Me,xe){var Se,he,we,_e,Be,He,Re,je,Ze=pe.indexOf("."),Qe=u,Pe=i;for(Ze>=0&&(_e=j,j=0,pe=pe.replace(".",""),je=new Y(ve),He=je.pow(pe.length-Ze),j=_e,je.c=se(R0(Ip(He.c),He.e,"0"),10,Te,K),je.e=je.c.length),Re=se(pe,ve,Te,xe?(Se=z,K):(Se=K,z)),we=_e=Re.length;Re[--_e]==0;Re.pop());if(!Re[0])return Se.charAt(0);if(Ze<0?--we:(He.c=Re,He.e=we,He.s=Me,He=t(He,je,Qe,Pe,Te),Re=He.c,Be=He.r,we=He.e),he=we+Qe+1,Ze=Re[he],_e=Te/2,Be=Be||he<0||Re[he+1]!=null,Be=Pe<4?(Ze!=null||Be)&&(Pe==0||Pe==(He.s<0?3:2)):Ze>_e||Ze==_e&&(Pe==4||Be||Pe==6&&Re[he-1]&1||Pe==(He.s<0?8:7)),he<1||!Re[0])pe=Be?R0(Se.charAt(1),-Qe,Se.charAt(0)):Se.charAt(0);else{if(Re.length=he,Be)for(--Te;++Re[--he]>Te;)Re[he]=0,he||(++we,Re=[1].concat(Re));for(_e=Re.length;!Re[--_e];);for(Ze=0,pe="";Ze<=_e;pe+=Se.charAt(Re[Ze++]));pe=R0(pe,we,Se.charAt(0))}return pe}})(),t=(function(){function K(ve,Te,Me){var xe,Se,he,we,_e=0,Be=ve.length,He=Te%hb,Re=Te/hb|0;for(ve=ve.slice();Be--;)he=ve[Be]%hb,we=ve[Be]/hb|0,xe=Re*he+we*He,Se=He*he+xe%hb*hb+_e,_e=(Se/Me|0)+(xe/hb|0)+Re*we,ve[Be]=Se%Me;return _e&&(ve=[_e].concat(ve)),ve}function se(ve,Te,Me,xe){var Se,he;if(Me!=xe)he=Me>xe?1:-1;else for(Se=he=0;Se<Me;Se++)if(ve[Se]!=Te[Se]){he=ve[Se]>Te[Se]?1:-1;break}return he}function pe(ve,Te,Me,xe){for(var Se=0;Me--;)ve[Me]-=Se,Se=ve[Me]<Te[Me]?1:0,ve[Me]=Se*xe+ve[Me]-Te[Me];for(;!ve[0]&&ve.length>1;ve.splice(0,1));}return function(ve,Te,Me,xe,Se){var he,we,_e,Be,He,Re,je,Ze,Qe,Pe,St,Nt,We,en,zt,rn,Ge,kn=ve.s==Te.s?1:-1,_n=ve.c,Lt=Te.c;if(!_n||!_n[0]||!Lt||!Lt[0])return new Y(!ve.s||!Te.s||(_n?Lt&&_n[0]==Lt[0]:!Lt)?NaN:_n&&_n[0]==0||!Lt?kn*0:kn/0);for(Ze=new Y(kn),Qe=Ze.c=[],we=ve.e-Te.e,kn=Me+we+1,Se||(Se=Pm,we=Mp(ve.e/Da)-Mp(Te.e/Da),kn=kn/Da|0),_e=0;Lt[_e]==(_n[_e]||0);_e++);if(Lt[_e]>(_n[_e]||0)&&we--,kn<0)Qe.push(1),Be=!0;else{for(en=_n.length,rn=Lt.length,_e=0,kn+=2,He=Rp(Se/(Lt[0]+1)),He>1&&(Lt=K(Lt,He,Se),_n=K(_n,He,Se),rn=Lt.length,en=_n.length),We=rn,Pe=_n.slice(0,rn),St=Pe.length;St<rn;Pe[St++]=0);Ge=Lt.slice(),Ge=[0].concat(Ge),zt=Lt[0],Lt[1]>=Se/2&&zt++;do{if(He=0,he=se(Lt,Pe,rn,St),he<0){if(Nt=Pe[0],rn!=St&&(Nt=Nt*Se+(Pe[1]||0)),He=Rp(Nt/zt),He>1)for(He>=Se&&(He=Se-1),Re=K(Lt,He,Se),je=Re.length,St=Pe.length;se(Re,Pe,je,St)==1;)He--,pe(Re,rn<je?Ge:Lt,je,Se),je=Re.length,he=1;else He==0&&(he=He=1),Re=Lt.slice(),je=Re.length;if(je<St&&(Re=[0].concat(Re)),pe(Pe,Re,St,Se),St=Pe.length,he==-1)for(;se(Lt,Pe,rn,St)<1;)He++,pe(Pe,rn<St?Ge:Lt,St,Se),St=Pe.length}else he===0&&(He++,Pe=[0]);Qe[_e++]=He,Pe[0]?Pe[St++]=_n[We]||0:(Pe=[_n[We]],St=1)}while((We++<en||Pe[0]!=null)&&kn--);Be=Pe[0]!=null,Qe[0]||Qe.splice(0,1)}if(Se==Pm){for(_e=1,kn=Qe[0];kn>=10;kn/=10,_e++);ue(Ze,Me+(Ze.e=_e+we*Da-1)+1,xe,Be)}else Ze.e=we,Ze.r=+Be;return Ze}})();function J(K,se,pe,ve){var Te,Me,xe,Se,he;if(pe==null?pe=i:Gs(pe,0,8),!K.c)return K.toString();if(Te=K.c[0],xe=K.e,se==null)he=Ip(K.c),he=ve==1||ve==2&&(xe<=m||xe>=b)?sA(he,xe):R0(he,xe,"0");else if(K=ue(new Y(K),se,pe),Me=K.e,he=Ip(K.c),Se=he.length,ve==1||ve==2&&(se<=Me||Me<=m)){for(;Se<se;he+="0",Se++);he=sA(he,Me)}else if(se-=xe+(ve===2&&Me>xe),he=R0(he,Me,"0"),Me+1>Se){if(--se>0)for(he+=".";se--;he+="0");}else if(se+=Me-Se,se>0)for(Me+1==Se&&(he+=".");se--;he+="0");return K.s<0&&Te?"-"+he:he}function ne(K,se){for(var pe,ve,Te=1,Me=new Y(K[0]);Te<K.length;Te++)ve=new Y(K[Te]),(!ve.s||(pe=e1(Me,ve))===se||pe===0&&Me.s===se)&&(Me=ve);return Me}function ie(K,se,pe){for(var ve=1,Te=se.length;!se[--Te];se.pop());for(Te=se[0];Te>=10;Te/=10,ve++);return(pe=ve+pe*Da-1)>w?K.c=K.e=null:pe<_?K.c=[K.e=0]:(K.e=pe,K.c=se),K}r=(function(){var K=/^(-?)0([xbo])(?=\w[\w.]*$)/i,se=/^([^.]+)\.$/,pe=/^\.([^.]+)$/,ve=/^-?(Infinity|NaN)$/,Te=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Me,xe,Se,he){var we,_e=Se?xe:xe.replace(Te,"");if(ve.test(_e))Me.s=isNaN(_e)?null:_e<0?-1:1;else{if(!Se&&(_e=_e.replace(K,function(Be,He,Re){return we=(Re=Re.toLowerCase())=="x"?16:Re=="b"?2:8,!he||he==we?He:Be}),he&&(we=he,_e=_e.replace(se,"$1").replace(pe,"0.$1")),xe!=_e))return new Y(_e,we);if(Y.DEBUG)throw Error(jf+"Not a"+(he?" base "+he:"")+" number: "+xe);Me.s=null}Me.c=Me.e=null}})();function ue(K,se,pe,ve){var Te,Me,xe,Se,he,we,_e,Be=K.c,He=BM;if(Be){e:{for(Te=1,Se=Be[0];Se>=10;Se/=10,Te++);if(Me=se-Te,Me<0)Me+=Da,xe=se,he=Be[we=0],_e=Rp(he/He[Te-xe-1]%10);else if(we=PM((Me+1)/Da),we>=Be.length)if(ve){for(;Be.length<=we;Be.push(0));he=_e=0,Te=1,Me%=Da,xe=Me-Da+1}else break e;else{for(he=Se=Be[we],Te=1;Se>=10;Se/=10,Te++);Me%=Da,xe=Me-Da+Te,_e=xe<0?0:Rp(he/He[Te-xe-1]%10)}if(ve=ve||se<0||Be[we+1]!=null||(xe<0?he:he%He[Te-xe-1]),ve=pe<4?(_e||ve)&&(pe==0||pe==(K.s<0?3:2)):_e>5||_e==5&&(pe==4||ve||pe==6&&(Me>0?xe>0?he/He[Te-xe]:0:Be[we-1])%10&1||pe==(K.s<0?8:7)),se<1||!Be[0])return Be.length=0,ve?(se-=K.e+1,Be[0]=He[(Da-se%Da)%Da],K.e=-se||0):Be[0]=K.e=0,K;if(Me==0?(Be.length=we,Se=1,we--):(Be.length=we+1,Se=He[Da-Me],Be[we]=xe>0?Rp(he/He[Te-xe]%He[xe])*Se:0),ve)for(;;)if(we==0){for(Me=1,xe=Be[0];xe>=10;xe/=10,Me++);for(xe=Be[0]+=Se,Se=1;xe>=10;xe/=10,Se++);Me!=Se&&(K.e++,Be[0]==Pm&&(Be[0]=1));break}else{if(Be[we]+=Se,Be[we]!=Pm)break;Be[we--]=0,Se=1}for(Me=Be.length;Be[--Me]===0;Be.pop());}K.e>w?K.c=K.e=null:K.e<_&&(K.c=[K.e=0])}return K}function oe(K){var se,pe=K.e;return pe===null?K.toString():(se=Ip(K.c),se=pe<=m||pe>=b?sA(se,pe):R0(se,pe,"0"),K.s<0?"-"+se:se)}return a.absoluteValue=a.abs=function(){var K=new Y(this);return K.s<0&&(K.s=1),K},a.comparedTo=function(K,se){return e1(this,new Y(K,se))},a.decimalPlaces=a.dp=function(K,se){var pe,ve,Te,Me=this;if(K!=null)return Gs(K,0,Gu),se==null?se=i:Gs(se,0,8),ue(new Y(Me),K+Me.e+1,se);if(!(pe=Me.c))return null;if(ve=((Te=pe.length-1)-Mp(this.e/Da))*Da,Te=pe[Te])for(;Te%10==0;Te/=10,ve--);return ve<0&&(ve=0),ve},a.dividedBy=a.div=function(K,se){return t(this,new Y(K,se),u,i)},a.dividedToIntegerBy=a.idiv=function(K,se){return t(this,new Y(K,se),0,1)},a.exponentiatedBy=a.pow=function(K,se){var pe,ve,Te,Me,xe,Se,he,we,_e,Be=this;if(K=new Y(K),K.c&&!K.isInteger())throw Error(jf+"Exponent not an integer: "+oe(K));if(se!=null&&(se=new Y(se)),Se=K.e>14,!Be.c||!Be.c[0]||Be.c[0]==1&&!Be.e&&Be.c.length==1||!K.c||!K.c[0])return _e=new Y(Math.pow(+oe(Be),Se?K.s*(2-oA(K)):+oe(K))),se?_e.mod(se):_e;if(he=K.s<0,se){if(se.c?!se.c[0]:!se.s)return new Y(NaN);ve=!he&&Be.isInteger()&&se.isInteger(),ve&&(Be=Be.mod(se))}else{if(K.e>9&&(Be.e>0||Be.e<-1||(Be.e==0?Be.c[0]>1||Se&&Be.c[1]>=24e7:Be.c[0]<8e13||Se&&Be.c[0]<=9999975e7)))return Me=Be.s<0&&oA(K)?-0:0,Be.e>-1&&(Me=1/Me),new Y(he?1/Me:Me);j&&(Me=PM(j/Da+2))}for(Se?(pe=new Y(.5),he&&(K.s=1),we=oA(K)):(Te=Math.abs(+oe(K)),we=Te%2),_e=new Y(l);;){if(we){if(_e=_e.times(Be),!_e.c)break;Me?_e.c.length>Me&&(_e.c.length=Me):ve&&(_e=_e.mod(se))}if(Te){if(Te=Rp(Te/2),Te===0)break;we=Te%2}else if(K=K.times(pe),ue(K,K.e+1,1),K.e>14)we=oA(K);else{if(Te=+oe(K),Te===0)break;we=Te%2}Be=Be.times(Be),Me?Be.c&&Be.c.length>Me&&(Be.c.length=Me):ve&&(Be=Be.mod(se))}return ve?_e:(he&&(_e=l.div(_e)),se?_e.mod(se):Me?ue(_e,j,i,xe):_e)},a.integerValue=function(K){var se=new Y(this);return K==null?K=i:Gs(K,0,8),ue(se,se.e+1,K)},a.isEqualTo=a.eq=function(K,se){return e1(this,new Y(K,se))===0},a.isFinite=function(){return!!this.c},a.isGreaterThan=a.gt=function(K,se){return e1(this,new Y(K,se))>0},a.isGreaterThanOrEqualTo=a.gte=function(K,se){return(se=e1(this,new Y(K,se)))===1||se===0},a.isInteger=function(){return!!this.c&&Mp(this.e/Da)>this.c.length-2},a.isLessThan=a.lt=function(K,se){return e1(this,new Y(K,se))<0},a.isLessThanOrEqualTo=a.lte=function(K,se){return(se=e1(this,new Y(K,se)))===-1||se===0},a.isNaN=function(){return!this.s},a.isNegative=function(){return this.s<0},a.isPositive=function(){return this.s>0},a.isZero=function(){return!!this.c&&this.c[0]==0},a.minus=function(K,se){var pe,ve,Te,Me,xe=this,Se=xe.s;if(K=new Y(K,se),se=K.s,!Se||!se)return new Y(NaN);if(Se!=se)return K.s=-se,xe.plus(K);var he=xe.e/Da,we=K.e/Da,_e=xe.c,Be=K.c;if(!he||!we){if(!_e||!Be)return _e?(K.s=-se,K):new Y(Be?xe:NaN);if(!_e[0]||!Be[0])return Be[0]?(K.s=-se,K):new Y(_e[0]?xe:i==3?-0:0)}if(he=Mp(he),we=Mp(we),_e=_e.slice(),Se=he-we){for((Me=Se<0)?(Se=-Se,Te=_e):(we=he,Te=Be),Te.reverse(),se=Se;se--;Te.push(0));Te.reverse()}else for(ve=(Me=(Se=_e.length)<(se=Be.length))?Se:se,Se=se=0;se<ve;se++)if(_e[se]!=Be[se]){Me=_e[se]<Be[se];break}if(Me&&(Te=_e,_e=Be,Be=Te,K.s=-K.s),se=(ve=Be.length)-(pe=_e.length),se>0)for(;se--;_e[pe++]=0);for(se=Pm-1;ve>Se;){if(_e[--ve]<Be[ve]){for(pe=ve;pe&&!_e[--pe];_e[pe]=se);--_e[pe],_e[ve]+=Pm}_e[ve]-=Be[ve]}for(;_e[0]==0;_e.splice(0,1),--we);return _e[0]?ie(K,_e,we):(K.s=i==3?-1:1,K.c=[K.e=0],K)},a.modulo=a.mod=function(K,se){var pe,ve,Te=this;return K=new Y(K,se),!Te.c||!K.s||K.c&&!K.c[0]?new Y(NaN):!K.c||Te.c&&!Te.c[0]?new Y(Te):(P==9?(ve=K.s,K.s=1,pe=t(Te,K,0,3),K.s=ve,pe.s*=ve):pe=t(Te,K,0,P),K=Te.minus(pe.times(K)),!K.c[0]&&P==1&&(K.s=Te.s),K)},a.multipliedBy=a.times=function(K,se){var pe,ve,Te,Me,xe,Se,he,we,_e,Be,He,Re,je,Ze,Qe,Pe=this,St=Pe.c,Nt=(K=new Y(K,se)).c;if(!St||!Nt||!St[0]||!Nt[0])return!Pe.s||!K.s||St&&!St[0]&&!Nt||Nt&&!Nt[0]&&!St?K.c=K.e=K.s=null:(K.s*=Pe.s,!St||!Nt?K.c=K.e=null:(K.c=[0],K.e=0)),K;for(ve=Mp(Pe.e/Da)+Mp(K.e/Da),K.s*=Pe.s,he=St.length,Be=Nt.length,he<Be&&(je=St,St=Nt,Nt=je,Te=he,he=Be,Be=Te),Te=he+Be,je=[];Te--;je.push(0));for(Ze=Pm,Qe=hb,Te=Be;--Te>=0;){for(pe=0,He=Nt[Te]%Qe,Re=Nt[Te]/Qe|0,xe=he,Me=Te+xe;Me>Te;)we=St[--xe]%Qe,_e=St[xe]/Qe|0,Se=Re*we+_e*He,we=He*we+Se%Qe*Qe+je[Me]+pe,pe=(we/Ze|0)+(Se/Qe|0)+Re*_e,je[Me--]=we%Ze;je[Me]=pe}return pe?++ve:je.splice(0,1),ie(K,je,ve)},a.negated=function(){var K=new Y(this);return K.s=-K.s||null,K},a.plus=function(K,se){var pe,ve=this,Te=ve.s;if(K=new Y(K,se),se=K.s,!Te||!se)return new Y(NaN);if(Te!=se)return K.s=-se,ve.minus(K);var Me=ve.e/Da,xe=K.e/Da,Se=ve.c,he=K.c;if(!Me||!xe){if(!Se||!he)return new Y(Te/0);if(!Se[0]||!he[0])return he[0]?K:new Y(Se[0]?ve:Te*0)}if(Me=Mp(Me),xe=Mp(xe),Se=Se.slice(),Te=Me-xe){for(Te>0?(xe=Me,pe=he):(Te=-Te,pe=Se),pe.reverse();Te--;pe.push(0));pe.reverse()}for(Te=Se.length,se=he.length,Te-se<0&&(pe=he,he=Se,Se=pe,se=Te),Te=0;se;)Te=(Se[--se]=Se[se]+he[se]+Te)/Pm|0,Se[se]=Pm===Se[se]?0:Se[se]%Pm;return Te&&(Se=[Te].concat(Se),++xe),ie(K,Se,xe)},a.precision=a.sd=function(K,se){var pe,ve,Te,Me=this;if(K!=null&&K!==!!K)return Gs(K,1,Gu),se==null?se=i:Gs(se,0,8),ue(new Y(Me),K,se);if(!(pe=Me.c))return null;if(Te=pe.length-1,ve=Te*Da+1,Te=pe[Te]){for(;Te%10==0;Te/=10,ve--);for(Te=pe[0];Te>=10;Te/=10,ve++);}return K&&Me.e+1>ve&&(ve=Me.e+1),ve},a.shiftedBy=function(K){return Gs(K,-FM,FM),this.times("1e"+K)},a.squareRoot=a.sqrt=function(){var K,se,pe,ve,Te,Me=this,xe=Me.c,Se=Me.s,he=Me.e,we=u+4,_e=new Y("0.5");if(Se!==1||!xe||!xe[0])return new Y(!Se||Se<0&&(!xe||xe[0])?NaN:xe?Me:1/0);if(Se=Math.sqrt(+oe(Me)),Se==0||Se==1/0?(se=Ip(xe),(se.length+he)%2==0&&(se+="0"),Se=Math.sqrt(+se),he=Mp((he+1)/2)-(he<0||he%2),Se==1/0?se="5e"+he:(se=Se.toExponential(),se=se.slice(0,se.indexOf("e")+1)+he),pe=new Y(se)):pe=new Y(Se+""),pe.c[0]){for(he=pe.e,Se=he+we,Se<3&&(Se=0);;)if(Te=pe,pe=_e.times(Te.plus(t(Me,Te,we,1))),Ip(Te.c).slice(0,Se)===(se=Ip(pe.c)).slice(0,Se))if(pe.e<he&&--Se,se=se.slice(Se-3,Se+1),se=="9999"||!ve&&se=="4999"){if(!ve&&(ue(Te,Te.e+u+2,0),Te.times(Te).eq(Me))){pe=Te;break}we+=4,Se+=4,ve=1}else{(!+se||!+se.slice(1)&&se.charAt(0)=="5")&&(ue(pe,pe.e+u+2,1),K=!pe.times(pe).eq(Me));break}}return ue(pe,pe.e+u+1,i,K)},a.toExponential=function(K,se){return K!=null&&(Gs(K,0,Gu),K++),J(this,K,se,1)},a.toFixed=function(K,se){return K!=null&&(Gs(K,0,Gu),K=K+this.e+1),J(this,K,se)},a.toFormat=function(K,se,pe){var ve,Te=this;if(pe==null)K!=null&&se&&typeof se=="object"?(pe=se,se=null):K&&typeof K=="object"?(pe=K,K=se=null):pe=G;else if(typeof pe!="object")throw Error(jf+"Argument not an object: "+pe);if(ve=Te.toFixed(K,se),Te.c){var Me,xe=ve.split("."),Se=+pe.groupSize,he=+pe.secondaryGroupSize,we=pe.groupSeparator||"",_e=xe[0],Be=xe[1],He=Te.s<0,Re=He?_e.slice(1):_e,je=Re.length;if(he&&(Me=Se,Se=he,he=Me,je-=Me),Se>0&&je>0){for(Me=je%Se||Se,_e=Re.substr(0,Me);Me<je;Me+=Se)_e+=we+Re.substr(Me,Se);he>0&&(_e+=we+Re.slice(Me)),He&&(_e="-"+_e)}ve=Be?_e+(pe.decimalSeparator||"")+((he=+pe.fractionGroupSize)?Be.replace(new RegExp("\\d{"+he+"}\\B","g"),"$&"+(pe.fractionGroupSeparator||"")):Be):_e}return(pe.prefix||"")+ve+(pe.suffix||"")},a.toFraction=function(K){var se,pe,ve,Te,Me,xe,Se,he,we,_e,Be,He,Re=this,je=Re.c;if(K!=null&&(Se=new Y(K),!Se.isInteger()&&(Se.c||Se.s!==1)||Se.lt(l)))throw Error(jf+"Argument "+(Se.isInteger()?"out of range: ":"not an integer: ")+oe(Se));if(!je)return new Y(Re);for(se=new Y(l),we=pe=new Y(l),ve=he=new Y(l),He=Ip(je),Me=se.e=He.length-Re.e-1,se.c[0]=BM[(xe=Me%Da)<0?Da+xe:xe],K=!K||Se.comparedTo(se)>0?Me>0?se:we:Se,xe=w,w=1/0,Se=new Y(He),he.c[0]=0;_e=t(Se,se,0,1),Te=pe.plus(_e.times(ve)),Te.comparedTo(K)!=1;)pe=ve,ve=Te,we=he.plus(_e.times(Te=we)),he=Te,se=Se.minus(_e.times(Te=se)),Se=Te;return Te=t(K.minus(pe),ve,0,1),he=he.plus(Te.times(we)),pe=pe.plus(Te.times(ve)),he.s=we.s=Re.s,Me=Me*2,Be=t(we,ve,Me,i).minus(Re).abs().comparedTo(t(he,pe,Me,i).minus(Re).abs())<1?[we,ve]:[he,pe],w=xe,Be},a.toNumber=function(){return+oe(this)},a.toPrecision=function(K,se){return K!=null&&Gs(K,1,Gu),J(this,K,se,2)},a.toString=function(K){var se,pe=this,ve=pe.s,Te=pe.e;return Te===null?ve?(se="Infinity",ve<0&&(se="-"+se)):se="NaN":(K==null?se=Te<=m||Te>=b?sA(Ip(pe.c),Te):R0(Ip(pe.c),Te,"0"):K===10&&q?(pe=ue(new Y(pe),u+Te+1,i),se=R0(Ip(pe.c),pe.e,"0")):(Gs(K,2,z.length,"Base"),se=n(R0(Ip(pe.c),Te,"0"),10,K,ve,!0)),ve<0&&pe.c[0]&&(se="-"+se)),se},a.valueOf=a.toJSON=function(){return oe(this)},a._isBigNumber=!0,a[Symbol.toStringTag]="BigNumber",a[Symbol.for("nodejs.util.inspect.custom")]=a.valueOf,e!=null&&Y.set(e),Y}function Mp(e){var t=e|0;return e>0||e===t?t:t-1}function Ip(e){for(var t,n,r=1,a=e.length,l=e[0]+"";r<a;){for(t=e[r++]+"",n=Da-t.length;n--;t="0"+t);l+=t}for(a=l.length;l.charCodeAt(--a)===48;);return l.slice(0,a+1||1)}function e1(e,t){var n,r,a=e.c,l=t.c,u=e.s,i=t.s,m=e.e,b=t.e;if(!u||!i)return null;if(n=a&&!a[0],r=l&&!l[0],n||r)return n?r?0:-i:u;if(u!=i)return u;if(n=u<0,r=m==b,!a||!l)return r?0:!a^n?1:-1;if(!r)return m>b^n?1:-1;for(i=(m=a.length)<(b=l.length)?m:b,u=0;u<i;u++)if(a[u]!=l[u])return a[u]>l[u]^n?1:-1;return m==b?0:m>b^n?1:-1}function Gs(e,t,n,r){if(e<t||e>n||e!==Rp(e))throw Error(jf+(r||"Argument")+(typeof e=="number"?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function oA(e){var t=e.c.length-1;return Mp(e.e/Da)==t&&e.c[t]%2!=0}function sA(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function R0(e,t,n){var r,a;if(t<0){for(a=n+".";++t;a+=n);e=a+e}else if(r=e.length,++t>r){for(a=n,t-=r;--t;a+=n);e+=a}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}var Sy=DJ(),vPe=class{key;left=null;right=null;constructor(e){this.key=e}},_2=class extends vPe{constructor(e){super(e)}},bPe=class{size=0;modificationCount=0;splayCount=0;splay(e){const t=this.root;if(t==null)return this.compare(e,e),-1;let n=null,r=null,a=null,l=null,u=t;const i=this.compare;let m;for(;;)if(m=i(u.key,e),m>0){let b=u.left;if(b==null||(m=i(b.key,e),m>0&&(u.left=b.right,b.right=u,u=b,b=u.left,b==null)))break;n==null?r=u:n.left=u,n=u,u=b}else if(m<0){let b=u.right;if(b==null||(m=i(b.key,e),m<0&&(u.right=b.left,b.left=u,u=b,b=u.right,b==null)))break;a==null?l=u:a.right=u,a=u,u=b}else break;return a!=null&&(a.right=u.left,u.left=l),n!=null&&(n.left=u.right,u.right=r),this.root!==u&&(this.root=u,this.splayCount++),m}splayMin(e){let t=e,n=t.left;for(;n!=null;){const r=n;t.left=r.right,r.right=t,t=r,n=t.left}return t}splayMax(e){let t=e,n=t.right;for(;n!=null;){const r=n;t.right=r.left,r.left=t,t=r,n=t.right}return t}_delete(e){if(this.root==null||this.splay(e)!=0)return null;let t=this.root;const n=t,r=t.left;if(this.size--,r==null)this.root=t.right;else{const a=t.right;t=this.splayMax(r),t.right=a,this.root=t}return this.modificationCount++,n}addNewRoot(e,t){this.size++,this.modificationCount++;const n=this.root;if(n==null){this.root=e;return}t<0?(e.left=n,e.right=n.right,n.right=null):(e.right=n,e.left=n.left,n.left=null),this.root=e}_first(){const e=this.root;return e==null?null:(this.root=this.splayMin(e),this.root)}_last(){const e=this.root;return e==null?null:(this.root=this.splayMax(e),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(e){return this.validKey(e)&&this.splay(e)==0}defaultCompare(){return(e,t)=>e<t?-1:e>t?1:0}wrap(){return{getRoot:()=>this.root,setRoot:e=>{this.root=e},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:e=>{this.splayCount=e},splay:e=>this.splay(e),has:e=>this.has(e)}}},Yk=class j2 extends bPe{root=null;compare;validKey;constructor(t,n){super(),this.compare=t??this.defaultCompare(),this.validKey=n??(r=>r!=null&&r!=null)}delete(t){return this.validKey(t)?this._delete(t)!=null:!1}deleteAll(t){for(const n of t)this.delete(n)}forEach(t){const n=this[Symbol.iterator]();let r;for(;r=n.next(),!r.done;)t(r.value,r.value,this)}add(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new _2(t),n),this}addAndReturn(t){const n=this.splay(t);return n!=0&&this.addNewRoot(new _2(t),n),this.root.key}addAll(t){for(const n of t)this.add(n)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)<0)return this.root.key;let n=this.root.left;if(n==null)return null;let r=n.right;for(;r!=null;)n=r,r=n.right;return n.key}firstAfter(t){if(t==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(t)>0)return this.root.key;let n=this.root.right;if(n==null)return null;let r=n.left;for(;r!=null;)n=r,r=n.left;return n.key}retainAll(t){const n=new j2(this.compare,this.validKey),r=this.modificationCount;for(const a of t){if(r!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(a)&&this.splay(a)==0&&n.add(this.root.key)}n.size!=this.size&&(this.root=n.root,this.size=n.size,this.modificationCount++)}lookup(t){return!this.validKey(t)||this.splay(t)!=0?null:this.root.key}intersection(t){const n=new j2(this.compare,this.validKey);for(const r of this)t.has(r)&&n.add(r);return n}difference(t){const n=new j2(this.compare,this.validKey);for(const r of this)t.has(r)||n.add(r);return n}union(t){const n=this.clone();return n.addAll(t),n}clone(){const t=new j2(this.compare,this.validKey);return t.size=this.size,t.root=this.copyNode(this.root),t}copyNode(t){if(t==null)return null;function n(a,l){let u,i;do{if(u=a.left,i=a.right,u!=null){const m=new _2(u.key);l.left=m,n(u,m)}if(i!=null){const m=new _2(i.key);l.right=m,a=i,l=m}}while(i!=null)}const r=new _2(t.key);return n(t,r),r}toSet(){return this.clone()}entries(){return new xPe(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new _Pe(this.wrap())}[Symbol.toStringTag]="[object Set]"},LJ=class{tree;path=new Array;modificationCount=null;splayCount;constructor(e){this.tree=e,this.splayCount=e.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const e=this.path[this.path.length-1];return this.getValue(e)}rebuildPath(e){this.path.splice(0,this.path.length),this.tree.splay(e),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(e){for(;e!=null;)this.path.push(e),e=e.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let n=this.tree.getRoot();for(;n!=null;)this.path.push(n),n=n.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let e=this.path[this.path.length-1],t=e.right;if(t!=null){for(;t!=null;)this.path.push(t),t=t.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===e;)e=this.path.pop();return this.path.length>0}},_Pe=class extends LJ{getValue(e){return e.key}},xPe=class extends LJ{getValue(e){return[e.key,e.key]}},PJ=e=>()=>e,AD=e=>{const t=e?(n,r)=>r.minus(n).abs().isLessThanOrEqualTo(e):PJ(!1);return(n,r)=>t(n,r)?0:n.comparedTo(r)};function EPe(e){const t=e?(n,r,a,l,u)=>n.exponentiatedBy(2).isLessThanOrEqualTo(l.minus(r).exponentiatedBy(2).plus(u.minus(a).exponentiatedBy(2)).times(e)):PJ(!1);return(n,r,a)=>{const l=n.x,u=n.y,i=a.x,m=a.y,b=u.minus(m).times(r.x.minus(i)).minus(l.minus(i).times(r.y.minus(m)));return t(b,l,u,i,m)?0:b.comparedTo(0)}}var wPe=e=>e,SPe=e=>{if(e){const t=new Yk(AD(e)),n=new Yk(AD(e)),r=(l,u)=>u.addAndReturn(l),a=l=>({x:r(l.x,t),y:r(l.y,n)});return a({x:new Sy(0),y:new Sy(0)}),a}return wPe},kD=e=>({set:t=>{iv=kD(t)},reset:()=>kD(e),compare:AD(e),snap:SPe(e),orient:EPe(e)}),iv=kD(),x2=(e,t)=>e.ll.x.isLessThanOrEqualTo(t.x)&&t.x.isLessThanOrEqualTo(e.ur.x)&&e.ll.y.isLessThanOrEqualTo(t.y)&&t.y.isLessThanOrEqualTo(e.ur.y),ID=(e,t)=>{if(t.ur.x.isLessThan(e.ll.x)||e.ur.x.isLessThan(t.ll.x)||t.ur.y.isLessThan(e.ll.y)||e.ur.y.isLessThan(t.ll.y))return null;const n=e.ll.x.isLessThan(t.ll.x)?t.ll.x:e.ll.x,r=e.ur.x.isLessThan(t.ur.x)?e.ur.x:t.ur.x,a=e.ll.y.isLessThan(t.ll.y)?t.ll.y:e.ll.y,l=e.ur.y.isLessThan(t.ur.y)?e.ur.y:t.ur.y;return{ll:{x:n,y:a},ur:{x:r,y:l}}},UA=(e,t)=>e.x.times(t.y).minus(e.y.times(t.x)),FJ=(e,t)=>e.x.times(t.x).plus(e.y.times(t.y)),Wk=e=>FJ(e,e).sqrt(),TPe=(e,t,n)=>{const r={x:t.x.minus(e.x),y:t.y.minus(e.y)},a={x:n.x.minus(e.x),y:n.y.minus(e.y)};return UA(a,r).div(Wk(a)).div(Wk(r))},CPe=(e,t,n)=>{const r={x:t.x.minus(e.x),y:t.y.minus(e.y)},a={x:n.x.minus(e.x),y:n.y.minus(e.y)};return FJ(a,r).div(Wk(a)).div(Wk(r))},wU=(e,t,n)=>t.y.isZero()?null:{x:e.x.plus(t.x.div(t.y).times(n.minus(e.y))),y:n},SU=(e,t,n)=>t.x.isZero()?null:{x:n,y:e.y.plus(t.y.div(t.x).times(n.minus(e.x)))},APe=(e,t,n,r)=>{if(t.x.isZero())return SU(n,r,e.x);if(r.x.isZero())return SU(e,t,n.x);if(t.y.isZero())return wU(n,r,e.y);if(r.y.isZero())return wU(e,t,n.y);const a=UA(t,r);if(a.isZero())return null;const l={x:n.x.minus(e.x),y:n.y.minus(e.y)},u=UA(l,t).div(a),i=UA(l,r).div(a),m=e.x.plus(i.times(t.x)),b=n.x.plus(u.times(r.x)),_=e.y.plus(i.times(t.y)),w=n.y.plus(u.times(r.y)),M=m.plus(b).div(2),P=_.plus(w).div(2);return{x:M,y:P}},hy=class BJ{point;isLeft;segment;otherSE;consumedBy;static compare(t,n){const r=BJ.comparePoints(t.point,n.point);return r!==0?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:Zk.compare(t.segment,n.segment))}static comparePoints(t,n){return t.x.isLessThan(n.x)?-1:t.x.isGreaterThan(n.x)?1:t.y.isLessThan(n.y)?-1:t.y.isGreaterThan(n.y)?1:0}constructor(t,n){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const n=t.point.events;for(let r=0,a=n.length;r<a;r++){const l=n[r];this.point.events.push(l),l.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let n=0;n<t;n++){const r=this.point.events[n];if(r.segment.consumedBy===void 0)for(let a=n+1;a<t;a++){const l=this.point.events[a];l.consumedBy===void 0&&r.otherSE.point.events===l.otherSE.point.events&&r.segment.consume(l.segment)}}}getAvailableLinkedEvents(){const t=[];for(let n=0,r=this.point.events.length;n<r;n++){const a=this.point.events[n];a!==this&&!a.segment.ringOut&&a.segment.isInResult()&&t.push(a)}return t}getLeftmostComparator(t){const n=new Map,r=a=>{const l=a.otherSE;n.set(a,{sine:TPe(this.point,t.point,l.point),cosine:CPe(this.point,t.point,l.point)})};return(a,l)=>{n.has(a)||r(a),n.has(l)||r(l);const{sine:u,cosine:i}=n.get(a),{sine:m,cosine:b}=n.get(l);return u.isGreaterThanOrEqualTo(0)&&m.isGreaterThanOrEqualTo(0)?i.isLessThan(b)?1:i.isGreaterThan(b)?-1:0:u.isLessThan(0)&&m.isLessThan(0)?i.isLessThan(b)?-1:i.isGreaterThan(b)?1:0:m.isLessThan(u)?-1:m.isGreaterThan(u)?1:0}}},kPe=class ND{events;poly;_isExteriorRing;_enclosingRing;static factory(t){const n=[];for(let r=0,a=t.length;r<a;r++){const l=t[r];if(!l.isInResult()||l.ringOut)continue;let u=null,i=l.leftSE,m=l.rightSE;const b=[i],_=i.point,w=[];for(;u=i,i=m,b.push(i),i.point!==_;)for(;;){const M=i.getAvailableLinkedEvents();if(M.length===0){const G=b[0].point,z=b[b.length-1].point;throw new Error(`Unable to complete output ring starting at [${G.x}, ${G.y}]. Last matching segment found ends at [${z.x}, ${z.y}].`)}if(M.length===1){m=M[0].otherSE;break}let P=null;for(let G=0,z=w.length;G<z;G++)if(w[G].point===i.point){P=G;break}if(P!==null){const G=w.splice(P)[0],z=b.splice(G.index);z.unshift(z[0].otherSE),n.push(new ND(z.reverse()));continue}w.push({index:b.length,point:i.point});const j=i.getLeftmostComparator(u);m=M.sort(j)[0].otherSE;break}n.push(new ND(b))}return n}constructor(t){this.events=t;for(let n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const n=[t];for(let b=1,_=this.events.length-1;b<_;b++){const w=this.events[b].point,M=this.events[b+1].point;iv.orient(w,t,M)!==0&&(n.push(w),t=w)}if(n.length===1)return null;const r=n[0],a=n[1];iv.orient(r,t,a)===0&&n.shift(),n.push(n[0]);const l=this.isExteriorRing()?1:-1,u=this.isExteriorRing()?0:n.length-1,i=this.isExteriorRing()?n.length:-1,m=[];for(let b=u;b!=i;b+=l)m.push([n[b].x.toNumber(),n[b].y.toNumber()]);return m}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let a=1,l=this.events.length;a<l;a++){const u=this.events[a];hy.compare(t,u)>0&&(t=u)}let n=t.segment.prevInResult(),r=n?n.prevInResult():null;for(;;){if(!n)return null;if(!r)return n.ringOut;if(r.ringOut!==n.ringOut)return r.ringOut?.enclosingRing()!==n.ringOut?n.ringOut:n.ringOut?.enclosingRing();n=r.prevInResult(),r=n?n.prevInResult():null}}},TU=class{exteriorRing;interiorRings;constructor(e){this.exteriorRing=e,e.poly=this,this.interiorRings=[]}addInterior(e){this.interiorRings.push(e),e.poly=this}getGeom(){const e=this.exteriorRing.getGeom();if(e===null)return null;const t=[e];for(let n=0,r=this.interiorRings.length;n<r;n++){const a=this.interiorRings[n].getGeom();a!==null&&t.push(a)}return t}},IPe=class{rings;polys;constructor(e){this.rings=e,this.polys=this._composePolys(e)}getGeom(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const r=this.polys[t].getGeom();r!==null&&e.push(r)}return e}_composePolys(e){const t=[];for(let n=0,r=e.length;n<r;n++){const a=e[n];if(!a.poly)if(a.isExteriorRing())t.push(new TU(a));else{const l=a.enclosingRing();l?.poly||t.push(new TU(l)),l?.poly?.addInterior(a)}}return t}},NPe=class{queue;tree;segments;constructor(e,t=Zk.compare){this.queue=e,this.tree=new Yk(t),this.segments=[]}process(e){const t=e.segment,n=[];if(e.consumedBy)return e.isLeft?this.queue.delete(e.otherSE):this.tree.delete(t),n;e.isLeft&&this.tree.add(t);let r=t,a=t;do r=this.tree.lastBefore(r);while(r!=null&&r.consumedBy!=null);do a=this.tree.firstAfter(a);while(a!=null&&a.consumedBy!=null);if(e.isLeft){let l=null;if(r){const i=r.getIntersection(t);if(i!==null&&(t.isAnEndpoint(i)||(l=i),!r.isAnEndpoint(i))){const m=this._splitSafely(r,i);for(let b=0,_=m.length;b<_;b++)n.push(m[b])}}let u=null;if(a){const i=a.getIntersection(t);if(i!==null&&(t.isAnEndpoint(i)||(u=i),!a.isAnEndpoint(i))){const m=this._splitSafely(a,i);for(let b=0,_=m.length;b<_;b++)n.push(m[b])}}if(l!==null||u!==null){let i=null;l===null?i=u:u===null?i=l:i=hy.comparePoints(l,u)<=0?l:u,this.queue.delete(t.rightSE),n.push(t.rightSE);const m=t.split(i);for(let b=0,_=m.length;b<_;b++)n.push(m[b])}n.length>0?(this.tree.delete(t),n.push(e)):(this.segments.push(t),t.prev=r)}else{if(r&&a){const l=r.getIntersection(a);if(l!==null){if(!r.isAnEndpoint(l)){const u=this._splitSafely(r,l);for(let i=0,m=u.length;i<m;i++)n.push(u[i])}if(!a.isAnEndpoint(l)){const u=this._splitSafely(a,l);for(let i=0,m=u.length;i<m;i++)n.push(u[i])}}}this.tree.delete(t)}return n}_splitSafely(e,t){this.tree.delete(e);const n=e.rightSE;this.queue.delete(n);const r=e.split(t);return r.push(n),e.consumedBy===void 0&&this.tree.add(e),r}},RPe=class{type;numMultiPolys;run(e,t,n){z2.type=e;const r=[new AU(t,!0)];for(let m=0,b=n.length;m<b;m++)r.push(new AU(n[m],!1));if(z2.numMultiPolys=r.length,z2.type==="difference"){const m=r[0];let b=1;for(;b<r.length;)ID(r[b].bbox,m.bbox)!==null?b++:r.splice(b,1)}if(z2.type==="intersection")for(let m=0,b=r.length;m<b;m++){const _=r[m];for(let w=m+1,M=r.length;w<M;w++)if(ID(_.bbox,r[w].bbox)===null)return[]}const a=new Yk(hy.compare);for(let m=0,b=r.length;m<b;m++){const _=r[m].getSweepEvents();for(let w=0,M=_.length;w<M;w++)a.add(_[w])}const l=new NPe(a);let u=null;for(a.size!=0&&(u=a.first(),a.delete(u));u;){const m=l.process(u);for(let b=0,_=m.length;b<_;b++){const w=m[b];w.consumedBy===void 0&&a.add(w)}a.size!=0?(u=a.first(),a.delete(u)):u=null}iv.reset();const i=kPe.factory(l.segments);return new IPe(i).getGeom()}},z2=new RPe,RD=z2,MPe=0,Zk=class GA{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(t,n){const r=t.leftSE.point.x,a=n.leftSE.point.x,l=t.rightSE.point.x,u=n.rightSE.point.x;if(u.isLessThan(r))return 1;if(l.isLessThan(a))return-1;const i=t.leftSE.point.y,m=n.leftSE.point.y,b=t.rightSE.point.y,_=n.rightSE.point.y;if(r.isLessThan(a)){if(m.isLessThan(i)&&m.isLessThan(b))return 1;if(m.isGreaterThan(i)&&m.isGreaterThan(b))return-1;const w=t.comparePoint(n.leftSE.point);if(w<0)return 1;if(w>0)return-1;const M=n.comparePoint(t.rightSE.point);return M!==0?M:-1}if(r.isGreaterThan(a)){if(i.isLessThan(m)&&i.isLessThan(_))return-1;if(i.isGreaterThan(m)&&i.isGreaterThan(_))return 1;const w=n.comparePoint(t.leftSE.point);if(w!==0)return w;const M=t.comparePoint(n.rightSE.point);return M<0?1:M>0?-1:1}if(i.isLessThan(m))return-1;if(i.isGreaterThan(m))return 1;if(l.isLessThan(u)){const w=n.comparePoint(t.rightSE.point);if(w!==0)return w}if(l.isGreaterThan(u)){const w=t.comparePoint(n.rightSE.point);if(w<0)return 1;if(w>0)return-1}if(!l.eq(u)){const w=b.minus(i),M=l.minus(r),P=_.minus(m),j=u.minus(a);if(w.isGreaterThan(M)&&P.isLessThan(j))return 1;if(w.isLessThan(M)&&P.isGreaterThan(j))return-1}return l.isGreaterThan(u)?1:l.isLessThan(u)||b.isLessThan(_)?-1:b.isGreaterThan(_)?1:t.id<n.id?-1:t.id>n.id?1:0}constructor(t,n,r,a){this.id=++MPe,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=a}static fromRing(t,n,r){let a,l,u;const i=hy.comparePoints(t,n);if(i<0)a=t,l=n,u=1;else if(i>0)a=n,l=t,u=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const m=new hy(a,!0),b=new hy(l,!1);return new GA(m,b,[r],[u])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t.isLessThan(n)?t:n},ur:{x:this.rightSE.point.x,y:t.isGreaterThan(n)?t:n}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(t){return t.x.eq(this.leftSE.point.x)&&t.y.eq(this.leftSE.point.y)||t.x.eq(this.rightSE.point.x)&&t.y.eq(this.rightSE.point.y)}comparePoint(t){return iv.orient(this.leftSE.point,t,this.rightSE.point)}getIntersection(t){const n=this.bbox(),r=t.bbox(),a=ID(n,r);if(a===null)return null;const l=this.leftSE.point,u=this.rightSE.point,i=t.leftSE.point,m=t.rightSE.point,b=x2(n,i)&&this.comparePoint(i)===0,_=x2(r,l)&&t.comparePoint(l)===0,w=x2(n,m)&&this.comparePoint(m)===0,M=x2(r,u)&&t.comparePoint(u)===0;if(_&&b)return M&&!w?u:!M&&w?m:null;if(_)return w&&l.x.eq(m.x)&&l.y.eq(m.y)?null:l;if(b)return M&&u.x.eq(i.x)&&u.y.eq(i.y)?null:i;if(M&&w)return null;if(M)return u;if(w)return m;const P=APe(l,this.vector(),i,t.vector());return P===null||!x2(a,P)?null:iv.snap(P)}split(t){const n=[],r=t.events!==void 0,a=new hy(t,!0),l=new hy(t,!1),u=this.rightSE;this.replaceRightSE(l),n.push(l),n.push(a);const i=new GA(a,u,this.rings.slice(),this.windings.slice());return hy.comparePoints(i.leftSE.point,i.rightSE.point)>0&&i.swapEvents(),hy.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(a.checkForConsuming(),l.checkForConsuming()),n}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}consume(t){let n=this,r=t;for(;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const a=GA.compare(n,r);if(a!==0){if(a>0){const l=n;n=r,r=l}if(n.prev===r){const l=n;n=r,r=l}for(let l=0,u=r.rings.length;l<u;l++){const i=r.rings[l],m=r.windings[l],b=n.rings.indexOf(i);b===-1?(n.rings.push(i),n.windings.push(m)):n.windings[b]+=m}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const n=this._afterState.rings,r=this._afterState.windings,a=this._afterState.multiPolys;for(let i=0,m=this.rings.length;i<m;i++){const b=this.rings[i],_=this.windings[i],w=n.indexOf(b);w===-1?(n.push(b),r.push(_)):r[w]+=_}const l=[],u=[];for(let i=0,m=n.length;i<m;i++){if(r[i]===0)continue;const b=n[i],_=b.poly;if(u.indexOf(_)===-1)if(b.isExterior)l.push(_);else{u.indexOf(_)===-1&&u.push(_);const w=l.indexOf(b.poly);w!==-1&&l.splice(w,1)}}for(let i=0,m=l.length;i<m;i++){const b=l[i].multiPoly;a.indexOf(b)===-1&&a.push(b)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(RD.type){case"union":{const r=t.length===0,a=n.length===0;this._isInResult=r!==a;break}case"intersection":{let r,a;t.length<n.length?(r=t.length,a=n.length):(r=n.length,a=t.length),this._isInResult=a===RD.numMultiPolys&&r<a;break}case"xor":{const r=Math.abs(t.length-n.length);this._isInResult=r%2===1;break}case"difference":{const r=a=>a.length===1&&a[0].isSubject;this._isInResult=r(t)!==r(n);break}}return this._isInResult}},CU=class{poly;isExterior;segments;bbox;constructor(e,t,n){if(!Array.isArray(e)||e.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=t,this.isExterior=n,this.segments=[],typeof e[0][0]!="number"||typeof e[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const r=iv.snap({x:new Sy(e[0][0]),y:new Sy(e[0][1])});this.bbox={ll:{x:r.x,y:r.y},ur:{x:r.x,y:r.y}};let a=r;for(let l=1,u=e.length;l<u;l++){if(typeof e[l][0]!="number"||typeof e[l][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=iv.snap({x:new Sy(e[l][0]),y:new Sy(e[l][1])});i.x.eq(a.x)&&i.y.eq(a.y)||(this.segments.push(Zk.fromRing(a,i,this)),i.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=i.x),i.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=i.y),i.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=i.x),i.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=i.y),a=i)}(!r.x.eq(a.x)||!r.y.eq(a.y))&&this.segments.push(Zk.fromRing(a,r,this))}getSweepEvents(){const e=[];for(let t=0,n=this.segments.length;t<n;t++){const r=this.segments[t];e.push(r.leftSE),e.push(r.rightSE)}return e}},OPe=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new CU(e[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let n=1,r=e.length;n<r;n++){const a=new CU(e[n],this,!1);a.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=a.bbox.ur.y),this.interiorRings.push(a)}this.multiPoly=t}getSweepEvents(){const e=this.exteriorRing.getSweepEvents();for(let t=0,n=this.interiorRings.length;t<n;t++){const r=this.interiorRings[t].getSweepEvents();for(let a=0,l=r.length;a<l;a++)e.push(r[a])}return e}},AU=class{isSubject;polys;bbox;constructor(e,t){if(!Array.isArray(e))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof e[0][0][0]=="number"&&(e=[e])}catch{}this.polys=[],this.bbox={ll:{x:new Sy(Number.POSITIVE_INFINITY),y:new Sy(Number.POSITIVE_INFINITY)},ur:{x:new Sy(Number.NEGATIVE_INFINITY),y:new Sy(Number.NEGATIVE_INFINITY)}};for(let n=0,r=e.length;n<r;n++){const a=new OPe(e[n],this);a.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=a.bbox.ll.x),a.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=a.bbox.ll.y),a.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=a.bbox.ur.x),a.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=a.bbox.ur.y),this.polys.push(a)}this.isSubject=t}getSweepEvents(){const e=[];for(let t=0,n=this.polys.length;t<n;t++){const r=this.polys[t].getSweepEvents();for(let a=0,l=r.length;a<l;a++)e.push(r[a])}return e}},DPe=(e,...t)=>RD.run("difference",e,t);iv.set;function LPe(e){const t=[];if(nx(e,a=>{t.push(a.coordinates)}),t.length<2)throw new Error("Must have at least two features");const n=e.features[0].properties||{},r=DPe(t[0],...t.slice(1));return r.length===0?null:r.length===1?$b(r[0],n):ZQ(r,n)}var PPe=LPe;function $J(e){var t=new Op(e);return t.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:D0(n),Op.prototype.insert.call(this,n)},t.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:D0(a),r.push(a)}):Py(n,function(a){if(a.type!=="Feature")throw new Error("invalid features");a.bbox=a.bbox?a.bbox:D0(a),r.push(a)}),Op.prototype.load.call(this,r)},t.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:D0(n),Op.prototype.remove.call(this,n,r)},t.clear=function(){return Op.prototype.clear.call(this)},t.search=function(n){var r=Op.prototype.search.call(this,this.toBBox(n));return Wl(r)},t.collides=function(n){return Op.prototype.collides.call(this,this.toBBox(n))},t.all=function(){var n=Op.prototype.all.call(this);return Wl(n)},t.toJSON=function(){return Op.prototype.toJSON.call(this)},t.fromJSON=function(n){return Op.prototype.fromJSON.call(this,n)},t.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=D0(n);else if(n.type==="FeatureCollection")r=D0(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},t}function FPe(e,t){if(t=t??{},!DN(t))throw new Error("options is invalid");var n=t.precision,r=t.coordinates,a=t.mutate;if(n=n==null||isNaN(n)?6:n,r=r==null||isNaN(r)?3:r,!e)throw new Error("<geojson> is required");if(typeof n!="number")throw new Error("<precision> must be a number");if(typeof r!="number")throw new Error("<coordinates> must be a number");(a===!1||a===void 0)&&(e=JSON.parse(JSON.stringify(e)));var l=Math.pow(10,n);return Xb(e,function(u){BPe(u,l,r)}),e}function BPe(e,t,n){e.length>n&&e.splice(n,e.length);for(var r=0;r<e.length;r++)e[r]=Math.round(e[r]*t)/t;return e}function $Pe(e){if(!e)throw new Error("geojson is required");const t=[];return zb(e,n=>{jPe(n,t)}),Wl(t)}function jPe(e,t){let n=[];const r=e.geometry;if(r!==null){switch(r.type){case"Polygon":n=$h(r);break;case"LineString":n=[$h(r)]}n.forEach(a=>{zPe(a,e.properties).forEach(l=>{l.id=t.length,t.push(l)})})}}function zPe(e,t){const n=[];return e.reduce((r,a)=>{const l=jb([r,a],t);return l.bbox=UPe(r,a),n.push(l),a}),n}function UPe(e,t){const n=e[0],r=e[1],a=t[0],l=t[1],u=n<a?n:a,i=r<l?r:l,m=n>a?n:a,b=r>l?r:l;return[u,i,m,b]}var GPe=Object.defineProperty,HPe=Object.defineProperties,VPe=Object.getOwnPropertyDescriptors,kU=Object.getOwnPropertySymbols,qPe=Object.prototype.hasOwnProperty,YPe=Object.prototype.propertyIsEnumerable,IU=(e,t,n)=>t in e?GPe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,NU=(e,t)=>{for(var n in t||(t={}))qPe.call(t,n)&&IU(e,n,t[n]);if(kU)for(var n of kU(t))YPe.call(t,n)&&IU(e,n,t[n]);return e},RU=(e,t)=>HPe(e,VPe(t));function WPe(e,t,n={}){if(!e||!t)throw new Error("lines and pt are required arguments");const r=Ml(t);let a=Km([1/0,1/0],{dist:1/0,index:-1,multiFeatureIndex:-1,location:-1}),l=0;return zb(e,function(u,i,m){const b=$h(u);for(let _=0;_<b.length-1;_++){const w=Km(b[_]),M=Ml(w),P=Km(b[_+1]),j=Ml(P),G=TE(w,P,n);let z,q;j[0]===r[0]&&j[1]===r[1]?[z,q]=[j,!0]:M[0]===r[0]&&M[1]===r[1]?[z,q]=[M,!1]:[z,q]=KPe(M,j,r);const Y=Km(z,{dist:TE(t,z,n),multiFeatureIndex:m,location:l+TE(w,z,n)});Y.properties.dist<a.properties.dist&&(a=RU(NU({},Y),{properties:RU(NU({},Y.properties),{index:q?_+1:_})})),l+=G}}),a}function t1(e,t){const[n,r,a]=e,[l,u,i]=t;return n*l+r*u+a*i}function E2(e,t){const[n,r,a]=e,[l,u,i]=t;return[r*i-a*u,a*l-n*i,n*u-r*l]}function ZPe(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function MU(e){const t=ZPe(e);return[e[0]/t,e[1]/t,e[2]/t]}function $M(e){const t=Qu(e[1]),n=Qu(e[0]);return[Math.cos(t)*Math.cos(n),Math.cos(t)*Math.sin(n),Math.sin(t)]}function XPe(e){const[t,n,r]=e,a=Math.min(Math.max(r,-1),1),l=I1(Math.asin(a));return[I1(Math.atan2(n,t)),l]}function KPe(e,t,n){const r=$M(e),a=$M(t),l=$M(n),u=E2(r,a);if(u[0]===0&&u[1]===0&&u[2]===0)return t1(r,a)>0?[[...t],!0]:[[...n],!1];const i=E2(u,l);if(i[0]===0&&i[1]===0&&i[2]===0)return[[...t],!0];const m=E2(i,u),b=MU(m),_=[-b[0],-b[1],-b[2]],w=t1(l,b)>t1(l,_)?b:_,M=MU(u),P=t1(E2(r,w),M),j=t1(E2(w,a),M);return P>=0&&j>=0?[XPe(w),!1]:t1(r,l)>t1(a,l)?[[...e],!1]:[[...t],!0]}function QPe(e,t){if(!e)throw new Error("line is required");if(!t)throw new Error("splitter is required");var n=Fz(e),r=Fz(t);if(n!=="LineString")throw new Error("line must be LineString");if(r==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(r==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var a=FPe(t,{precision:7});switch(r){case"Point":return MD(e,a);case"MultiPoint":return OU(e,a);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return OU(e,JT(e,a,{ignoreSelfIntersections:!0}))}}function OU(e,t){var n=[],r=$J();return zb(t,function(a){if(n.forEach(function(i,m){i.id=m}),!n.length)n=MD(e,a).features,r.load(Wl(n));else{var l=r.search(a);if(l.features.length){var u=jJ(a,l);n=n.filter(function(i){return i.id!==u.id}),r.remove(u),Py(MD(u,a),function(i){n.push(i),r.insert(i)})}}}),Wl(n)}function MD(e,t){var n=[],r=$h(e)[0],a=$h(e)[e.geometry.coordinates.length-1];if(jM(r,Ml(t))||jM(a,Ml(t)))return Wl([e]);var l=$J(),u=$Pe(e);l.load(u);var i=l.search(t);if(!i.features.length)return Wl([e]);var m=jJ(t,i),b=[r],_=L3e(u,function(w,M,P){var j=$h(M)[1],G=Ml(t);return P===m.id?(w.push(G),n.push(jb(w)),jM(G,j)?[G]:[G,j]):(w.push(j),w)},b);return _.length>1&&n.push(jb(_)),Wl(n)}function jJ(e,t){if(!t.features.length)throw new Error("lines must contain features");if(t.features.length===1)return t.features[0];var n,r=1/0;return Py(t,function(a){var l=WPe(a,e),u=l.properties.dist;u<r&&(n=a,r=u)}),n}function jM(e,t){return e[0]===t[0]&&e[1]===t[1]}var DU=QPe;class JPe extends QT{mode="cut";lineDrawer=new jF(this.gm,{snappingMarkers:"first",targetShape:"polygon"});cutShapesAllowed=["circle","ellipse","line","rectangle","polygon"];eventHandlers={[`${gr}:draw`]:this.forwardLineDrawerEvent.bind(this),mousemove:this.onMouseMove.bind(this)};onStartAction(){this.lineDrawer.startAction(),this.lineDrawer.on("firstMarkerClick",this.cutPolygonFinished.bind(this))}onEndAction(){this.lineDrawer.endAction()}onMouseMove(t){return gl(t)?(this.lineDrawer.featureData||this.fireMarkerPointerUpdateEvent(),{next:!0}):{next:!0}}cutPolygonFinished(t){this.lineDrawer.endShape();const n=$F(t.geoJson),r=this.getBBoxFeaturesByPolygon(n);this.cutFeaturesByPolygon(r,n)}getBBoxFeaturesByPolygon(t){const n=MF(t),r=this.gm.mapAdapter.coordBoundsToScreenBounds(n);return this.gm.mapAdapter.queryFeaturesByScreenCoordinates({queryCoordinates:r,sourceNames:[Kn.main]})}cutFeaturesByPolygon(t,n){t.forEach(r=>{if(r.getShapeProperty("disableEdit")!==!0){if(iA(r.getGeoJson(),n)){this.gm.features.delete(r),this.fireFeatureRemovedEvent(r);return}if(gPe(r.getGeoJson(),n)&&this.cutShapesAllowed.includes(r.shape)){if(r.shape==="line"){this.cutLineFeatureByPolygon(r,n);return}this.cutPolygonFeatureByPolygon(r.id,n)}}})}cutLineFeatureByPolygon(t,n){const r=t.getGeoJson(),a=nPe(this.gm.mapAdapter,n);let l=!1,u=[];if(a){if(r.geometry.type==="MultiLineString")r.geometry.coordinates.forEach(i=>{if(iA(jb(i),n))return;const m=DU(jb(i),n);if(m.features.length===0){u.push(i);return}m.features.filter(b=>!iA(b,a)).forEach(b=>{l=!0,u.push(b.geometry.coordinates)})});else if(r.geometry.type==="LineString"){const i=DU(r,n);u=i.features.filter(m=>!iA(m,a)&&m.geometry.type==="LineString").map(m=>m.geometry.coordinates),i.features.length>0&&(l=!0)}l&&u.length&&(u.length===1?t.updateGeoJsonGeometry({type:"LineString",coordinates:u[0]}):t.updateGeoJsonGeometry({type:"MultiLineString",coordinates:u}),this.fireFeatureUpdatedEvent({sourceFeatures:[t],targetFeatures:[t]}))}}cutPolygonFeatureByPolygon(t,n){const r=this.gm.features.get(Kn.main,t);if(!r){rr.warn("cutPolygonFeatureByPolygon: featureData not found",t);return}r.convertToPolygon();const a=r.getGeoJson(),l=this.getGeoJsonDifference(a,n);l&&(r.updateGeoJsonGeometry(l.geometry),this.fireFeatureUpdatedEvent({sourceFeatures:[r],targetFeatures:[r]}))}getGeoJsonDifference(t,n){const r=Wl([t,n]),a=PPe(r);return a?a.type==="Feature"?a:(a.type==="FeatureCollection"&&rr.error("getGeoJsonDifference: FeatureCollection detected (not supported)",a),null):null}}class e4e extends QT{mode="delete";allowedShapes=[...V0];eventHandlers={click:this.onMouseClick.bind(this)};onStartAction(){this.gm.markerPointer.enable({invisibleMarker:!0}),this.gm.markerPointer.pauseSnapping()}onEndAction(){this.gm.markerPointer.resumeSnapping(),this.gm.markerPointer.disable()}onMouseClick(t){if(!gl(t,{warning:!0}))return{next:!1};const n=this.getFeatureByMouseEvent({event:t,sourceNames:[Kn.main]});return n&&this.allowedShapes.includes(n.shape)&&(this.gm.features.delete(n),this.fireFeatureRemovedEvent(n)),{next:!1}}}class t4e extends UF{mode="drag";onStartAction(){}onEndAction(){}handleGmEdit(t){return Rw(t)?t.action==="marker_move"&&t.lngLatStart&&t.lngLatEnd?(this.previousLngLat||(this.previousLngLat=t.lngLatStart),this.moveFeature(t.featureData,t.lngLatEnd),{next:!1}):(t.action==="marker_captured"?(t.featureData.changeSource({sourceName:Kn.temporary,atomic:!0}),this.flags.actionInProgress=!0,this.fireFeatureEditStartEvent({feature:t.featureData}),this.setCursorToPointer()):t.action==="marker_released"&&(this.previousLngLat=null,t.featureData.changeSource({sourceName:Kn.main,atomic:!0}),this.fireFeatureEditEndEvent({feature:t.featureData}),this.flags.actionInProgress=!1),{next:!0}):(rr.error("EditDrag.handleGmEdit: not an edit event",t),{next:!0})}}class n4e extends UF{mode="rotate";allowedShapes=["line","rectangle","polygon","ellipse"];convertFeaturesTypes=["rectangle"];shapeRotateHandlers={marker:this.rotateFeature.bind(this),circle:this.rotateFeature.bind(this),circle_marker:this.rotateFeature.bind(this),text_marker:this.rotateFeature.bind(this),line:this.rotateFeature.bind(this),rectangle:this.rotateFeature.bind(this),polygon:this.rotateFeature.bind(this),ellipse:this.rotateEllipse.bind(this)};onStartAction(){}onEndAction(){}handleGmEdit(t){return Rw(t)?this.isFeatureAllowed(t)?{next:!0}:t.action==="marker_move"&&t.lngLatStart&&t.lngLatEnd?(t.markerData?.type==="vertex"?this.moveVertex(t):this.moveSource(t.featureData,t.lngLatStart,t.lngLatEnd),{next:!1}):(t.action==="marker_captured"?(t.featureData.changeSource({sourceName:Kn.temporary,atomic:!0}),this.setCursorToPointer(),this.flags.actionInProgress=!0,this.fireFeatureEditStartEvent({feature:t.featureData})):t.action==="marker_released"&&(t.featureData.changeSource({sourceName:Kn.main,atomic:!0}),this.fireFeatureEditEndEvent({feature:t.featureData}),this.flags.actionInProgress=!1),{next:!0}):(rr.error("EditChange.handleGmEdit: not an edit event",t),{next:!1})}isFeatureAllowed(t){return"featureData"in t&&!this.allowedShapes.includes(t.featureData.shape)}moveVertex(t){const n=t.featureData,r=this.shapeRotateHandlers[n.shape]?.(t)||null;r?(this.fireBeforeFeatureUpdate({features:[n],geoJsonFeatures:[r]}),this.updateFeatureGeoJson({featureData:n,featureGeoJson:r})&&this.convertFeaturesTypes.includes(n.shape)&&n.convertToPolygon()):rr.error("EditRotate.moveVertex: invalid geojson",r,t)}rotateEllipse(t){const{featureData:n}=t;if(n.shape!=="ellipse")return rr.error("EditRotate.rotateEllipse: invalid shape type",n),null;const r=n.getShapeProperty("center"),a=n.getShapeProperty("xSemiAxis"),l=n.getShapeProperty("ySemiAxis"),u=n.getShapeProperty("angle");if(!Array.isArray(r)||typeof a!="number"||typeof l!="number"||typeof u!="number")return rr.error("rotateEllipse: missing center, xSemiAxis, ySemiAxis or angle in the featureData",n),null;const i=this.calculateRotationAngle(r,t.lngLatStart,t.lngLatEnd,!1);return FN({center:r,xSemiAxis:a,ySemiAxis:l,angle:u+i})}rotateFeature(t){const n=t.featureData,r=Vh(n.getGeoJson()),a=yD(pD(r)),l=this.calculateRotationAngle(a,t.lngLatStart,t.lngLatEnd);return r.geometry=q3e(r,l,{pivot:a}).geometry,r}calculateRotationAngle(t,n,r,a=!0){const l=jk(t,n),u=jk(t,r)-l;return a?(u+360)%360:u}}const OD={drag:t4e,change:lPe,rotate:n4e,scale:null,copy:null,cut:JPe,split:null,union:null,difference:null,line_simplification:null,lasso:null,delete:e4e},r4e=(e,t)=>OD[t]?new OD[t](e):(rr.error(`Edit "${t}" is not available`),null);class a4e extends ON{eventHandlers={[`${gr}:edit`]:this.handleEditEvent.bind(this)};constructor(t,n){super(t),n.attachEvents(this.eventHandlers)}handleEditEvent(t){if(!Rw(t))return{next:!0};const n=`${t.actionType}__${t.mode}`;return t.action==="mode_start"?(this.trackExclusiveModes(t),this.start(n,t),this.trackRelatedModes(t)):t.action==="mode_end"&&(this.trackRelatedModes(t),this.end(n)),{next:!0}}start(t,n){if(n.action!=="mode_start")return;const r=r4e(this.gm,n.mode);r&&(t in this.gm.actionInstances&&rr.error(`Action instance "${t}" already exists`),this.gm.actionInstances[t]=r,r.startAction())}end(t){const n=this.gm.actionInstances[t];n instanceof QT?(n.endAction(),delete this.gm.actionInstances[t]):console.error(`Wrong action instance for edit event "${t}": `,n)}}class i4e extends Kb{mode="shape_markers";pinEnabled=this.gm.options.controls.helper.pin?.active||!1;previousPosition=null;activeMarker=null;activeFeatureData=null;sharedMarkers=[];allowedShapes=["circle","line","rectangle","polygon","ellipse"];edgeMarkersAllowed=!1;edgeMarkerAllowedShapes=["line","rectangle","polygon"];shapeMarkerAllowedModes=["drag","change","cut","split"];eventHandlers={[`${gr}:draw`]:this.handleGmDraw.bind(this),[`${gr}:edit`]:this.handleGmEdit.bind(this),mousedown:this.onMouseDown.bind(this),touchstart:this.onMouseDown.bind(this),mouseup:this.onMouseUp.bind(this),touchend:this.onMouseUp.bind(this),mousemove:this.onMouseMove.bind(this),touchmove:this.onMouseMove.bind(this),contextmenu:this.onMouseRightButtonClick.bind(this)};throttledMethods=rx({sendMarkerMoveEvent:this.sendMarkerMoveEvent,sendMarkerRightClickEvent:this.sendMarkerRightClickEvent},this,this.gm.options.settings.throttlingDelay);debouncedMethods=uDe({refreshMarkers:this.refreshMarkers},this,this.gm.options.settings.throttlingDelay*10);get pinHelperInstance(){return this.pinEnabled&&Object.values(this.gm.actionInstances).find(gDe)||null}onStartAction(){this.isShapeMarkerAllowed()&&this.gm.markerPointer.enable({invisibleMarker:!0}),this.edgeMarkersAllowed=this.gm.getActiveEditModes().includes("change"),this.addMarkers()}onEndAction(){this.gm.markerPointer.disable(),this.removeMarkers()}setPin(t){this.pinEnabled=t}onMouseDown(t){const n=["mousedown","touchstart"];if(!gl(t,{warning:!0})||!n.includes(t.type)||fDe(t))return{next:!0};if(t.type==="mousedown"&&t.originalEvent.button!==0)return{next:!0};const r=this.getFeatureMarkerByMouseEvent(t);return this.activeMarker=r||null,this.activeFeatureData=r?.instance.parent||null,this.activeMarker&&this.activeFeatureData?(this.previousPosition=zF(this.activeMarker.instance),this.gm.mapAdapter.setDragPan(!1),this.activeMarker.type==="edge"&&this.sendMarkerEvent("edge_marker_click",this.activeFeatureData,this.activeMarker),this.pinEnabled&&this.pinHelperInstance?(this.sharedMarkers=this.pinHelperInstance.getSharedMarkers(this.activeMarker.position.coordinate),this.sharedMarkers.forEach(a=>this.snappingHelper?.addExcludedFeature(a.featureData))):this.snappingHelper?.addExcludedFeature(this.activeFeatureData),this.sendMarkerEvent("marker_captured",this.activeFeatureData,this.activeMarker),{next:!1}):{next:!0}}onMouseUp(){if(!this.activeMarker)return{next:!0};const t={featureData:this.activeFeatureData,markerData:this.activeMarker};return this.activeMarker=null,this.activeFeatureData=null,this.sharedMarkers=[],this.snappingHelper?.clearExcludedFeatures(),this.previousPosition=null,this.gm.mapAdapter.setDragPan(!0),t.featureData&&t.markerData?(this.sendMarkerEvent("marker_released",t.featureData,t.markerData),{next:!1}):(rr.debug("ShapeMarkersHelper.onMouseUp: no active marker or featureData",t),{next:!0})}onMouseMove(t){return!this.activeMarker||!gl(t,{warning:!0})?{next:!0}:(this.throttledMethods.sendMarkerMoveEvent(t),{next:!1})}onMouseRightButtonClick(t){if(!gl(t,{warning:!0}))return{next:!0};const n=this.getFeatureMarkerByMouseEvent(t);return n&&n.instance.parent?(this.throttledMethods.sendMarkerRightClickEvent(n.instance.parent,n),{next:!1}):{next:!0}}isShapeMarkerAllowed(){return FRe(this.shapeMarkerAllowedModes,this.gm.getActiveEditModes()).length>0}convertToVertexMarker(t){if(t.type==="edge"&&t.instance.parent){const n=t.position,r=t.instance.parent;this.removeMarker(t);const a=this.createMarker({type:"vertex",positionData:n,parentFeature:r}),l=r.getGeoJson(),u=X3e(l,n.coordinate);if(u){const i=u.path.join("."),m=r.markers.get(i);return m&&this.removeMarker(m),r.markers.set(i,a),a}}return rr.error("ShapeMarkersHelper.convertToVertexMarker: invalid marker type",t),t}getFeatureMarkerByMouseEvent(t){const n=this.gm.features.getFeatureByMouseEvent({event:t,sourceNames:[Kn.main]});if(n?.parent?.markers){const r=eMe(n.parent.markers,a=>a.instance===n);if(r?.type!=="dom")return r}return null}addMarkers(){this.gm.features.forEach(t=>{if(!t||!this.allowedShapes.includes(t.shape)||t.getShapeProperty("disableEdit")===!0)return;this.addCenterMarker(t);const n=this.getAllShapeSegments(t),r=this.getEndMarkerIndexes(t);n.forEach((a,l)=>{if(this.isMarkerIndexAllowed(t.shape,l,n.length)){const u=this.createOrUpdateVertexMarker(a.segment.start,t);if(t.markers.set(u.markerKey,u.markerData),r.has(l)){const i=this.createOrUpdateVertexMarker(a.segment.end,t);t.markers.set(i.markerKey,i.markerData)}}if(this.isEdgeMarkerAllowed(t)){const u=this.createOrUpdateEdgeMarker(a,t);t.markers.set(u.markerKey,u.markerData)}})})}addCenterMarker(t){const n=t.getShapeProperty("center");if(n){const r=this.createMarker({type:"center",positionData:{path:[],coordinate:n},parentFeature:t});t.markers.set("center",r)}}getAllShapeSegments(t){const n=t.getGeoJson(),r=[];return cJ(n,(a,l)=>{r.push({segment:a,middle:this.getSegmentMiddlePosition(a),edgeMarkerKey:this.getEdgeMarkerKey(l)})}),r}isEdgeMarkerAllowed(t){return this.edgeMarkersAllowed&&this.edgeMarkerAllowedShapes.includes(t.shape)}isMarkerIndexAllowed(t,n,r){const a=Math.floor(r/4);return t==="circle"?(n+a/2)%a===0:t==="ellipse"?n%a===0:!0}getEdgeMarkerKey(t){return`edge.${t}`}getEndMarkerIndexes(t){const n=t.getGeoJson().geometry;return t.shape!=="line"||!["LineString","MultiLineString"].includes(n.type)?new Set:n.type==="MultiLineString"?n.coordinates.reduce((r,a)=>(r.indexes.add(r.sum+a.length-2),r.sum+=a.length-1,r),{sum:0,indexes:new Set}).indexes:new Set([n.coordinates.length-2])}getSegmentMiddlePosition(t){const n=this.gm.mapAdapter.project(t.start.coordinate),r=this.gm.mapAdapter.project(t.end.coordinate),a=[(n[0]+r[0])/2,(n[1]+r[1])/2],l=t.start.path.slice(0,t.start.path.length-1).concat([-1]);return{coordinate:this.gm.mapAdapter.unproject(a),path:l}}removeMarkers(){this.gm.features.forEach((t,n)=>{const r=this.gm.features.get(Kn.main,n);r&&(r.markers.forEach(a=>{a.type!=="dom"?this.gm.features.delete(a.instance):rr.error("Non a FeatureData marker",a)}),r.markers=new Map)})}removeMarker(t){if(t.type==="dom"){rr.error("Wrong marker type",t);return}const n=t.instance.parent;if(!n){rr.error("Missing parent feature data",t);return}try{n.markers.forEach((r,a)=>{if(r===t)throw this.gm.features.delete(r.instance),n.markers.delete(a),new Error("break")})}catch{}}handleGmDraw(t){return FF(t)?(["feature_created","mode_start"].includes(t.action)&&this.debouncedMethods.refreshMarkers(),{next:!0}):(rr.error("ShapeMarkersHelper.handleGmDraw: not a draw event",t),{next:!0})}refreshMarkers(){this.gm.options.isModeEnabled("helper","shape_markers")&&(this.removeMarkers(),this.addMarkers())}handleGmEdit(t){return Rw(t)?(t.action==="feature_updated"&&this.handleShapeUpdate(t),{next:!0}):(rr.error("ShapeMarkersHelper.handleGmEdit: not an edit event",t),{next:!0})}handleShapeUpdate(t){const n=t.targetFeatures[0];if(!n){rr.error("ShapeMarkersHelper.handleShapeUpdate: no featureData",t);return}this.activeMarker?.type==="edge"&&(this.activeMarker=this.convertToVertexMarker(this.activeMarker));const r=this.getAllShapeSegments(n),a=new Set(n.markers.keys()),l=this.getEndMarkerIndexes(n);r.forEach((u,i)=>{if(this.isMarkerIndexAllowed(n.shape,i,r.length)){const m=this.createOrUpdateVertexMarker(u.segment.start,n);if(a.delete(m.markerKey),l.has(i)){const b=this.createOrUpdateVertexMarker(u.segment.end,n);a.delete(b.markerKey)}}if(this.isEdgeMarkerAllowed(n)){const m=this.createOrUpdateEdgeMarker(u,n);a.delete(m.markerKey)}}),this.updateCenterMarkerPosition(n),a.delete("center"),a.forEach(u=>{const i=n.markers.get(u);i&&i.type!=="dom"?this.gm.features.delete(i.instance):rr.error("Non a FeatureData marker"),n.markers.delete(u)})}createOrUpdateVertexMarker(t,n){const r=t.path.join(".");let a=n.markers.get(r)||null;if(a&&a?.type!=="vertex")throw new Error(`Invalid marker type "${a?.type}" for edge marker`);return a?(jz(a.position.coordinate,t.coordinate)||this.gm.features.updateMarkerFeaturePosition(a.instance,t.coordinate),a.position=t):(a=this.createMarker({type:"vertex",positionData:t,parentFeature:n}),n.markers.set(r,a)),{markerKey:r,markerData:a}}createOrUpdateEdgeMarker(t,n){let r=n.markers.get(t.edgeMarkerKey)||null;if(r&&r?.type!=="edge")throw new Error(`Invalid marker type "${r?.type}" for edge marker`);return r?(jz(r.position.coordinate,t.middle.coordinate)||r.instance.updateGeoJsonGeometry({type:"Point",coordinates:t.middle.coordinate}),r.position=t.middle,r.segment=t.segment):(r=this.createMarker({type:"edge",positionData:t.middle,segment:t.segment,parentFeature:n}),n.markers.set(t.edgeMarkerKey,r)),{markerKey:t.edgeMarkerKey,markerData:r}}updateCenterMarkerPosition(t){const n=t.markers.get("center")||null,r=t.getShapeProperty("center");n&&n.type!=="dom"&&r&&(n.instance.updateGeoJsonGeometry({type:"Point",coordinates:r}),n.position.coordinate=r)}sendMarkerEvent(t,n,r){const a={name:`${gr}:edit:marker`,level:"system",actionType:"edit",mode:"change",action:t,featureData:n,markerData:r};this.gm.events.fire(`${gr}:edit`,a)}sendMarkerRightClickEvent(t,n){const r={name:`${gr}:edit:marker`,level:"system",actionType:"edit",mode:"change",action:"marker_right_click",featureData:t,markerData:n};this.gm.events.fire(`${gr}:edit`,r)}sendMarkerMoveEvent(t){const n=this.gm.markerPointer.marker?.getLngLat()||t.lngLat.toArray();this.activeMarker&&this.activeFeatureData&&(this.pinEnabled?this.sharedMarkers:[{markerData:this.activeMarker,featureData:this.activeFeatureData}]).forEach(r=>{if(this.previousPosition){const a={name:`${gr}:edit:marker_move`,level:"system",actionType:"edit",mode:"drag",action:"marker_move",featureData:r.featureData,markerData:r.markerData,lngLatStart:this.previousPosition,lngLatEnd:n};this.gm.events.fire(`${gr}:edit`,a)}}),this.previousPosition=n}createMarker({type:t,segment:n,positionData:r,parentFeature:a}){const l=r.coordinate,u=this.gm.features.createMarkerFeature({sourceName:a.sourceName,parentFeature:a,type:t,coordinate:l});if(!u)throw new Error(`Missine feature data for the "${t}" marker`);if(t==="edge"&&n)return{type:t,instance:u,position:Vh(r),segment:n};if(t==="vertex"||t==="center")return{type:t,instance:u,position:Vh(r)};throw new Error(`Invalid marker type "${t}" with segment: ${n}`)}}class o4e extends Kb{mode="snapping";tolerance=18;lineSnappingShapes=["circle","line","rectangle","polygon","snap_guide"];eventHandlers={};shapeSnappingHandlers={marker:this.getPointsSnapping.bind(this),circle:this.getLineSnapping.bind(this),circle_marker:this.getPointsSnapping.bind(this),text_marker:this.getPointsSnapping.bind(this),line:this.getLineSnapping.bind(this),rectangle:this.getLineSnapping.bind(this),polygon:this.getLineSnapping.bind(this),snap_guide:this.getLineSnapping.bind(this)};excludedFeature=new Set;customSnappingLngLats=new Map;customSnappingFeatures=new Set;onStartAction(){this.gm.markerPointer.setSnapping(!0)}onEndAction(){this.gm.markerPointer.setSnapping(!1)}addExcludedFeature(t){this.excludedFeature.add(t)}clearExcludedFeatures(){this.excludedFeature.clear()}addCustomSnappingFeature(t){this.customSnappingFeatures.add(t)}removeCustomSnappingFeature(t){this.customSnappingFeatures.delete(t)}clearCustomSnappingFeature(){this.customSnappingFeatures.clear()}setCustomSnappingCoordinates(t,n){this.customSnappingLngLats.set(t,n)}clearCustomSnappingCoordinates(t){this.customSnappingLngLats.delete(t)}getSnappedLngLat(t,n){let r=this.getCustomLngLatsSnapping(n);if(r)return r;const a=this.getFeaturesInPointBounds(n).filter(l=>!this.excludedFeature.has(l));return r=this.getFeaturePointsSnapping(a,t,n),r||(r=this.getFeatureLinesSnapping(a,t,n),r)?r:t}getCustomLngLatsSnapping(t){const n={distance:1/0,lngLat:null};return this.customSnappingLngLats.forEach(r=>{r.forEach(a=>{const l=this.gm.mapAdapter.project(a),u=FA(t,l);u<this.tolerance&&u<n.distance&&(n.distance=u,n.lngLat=a)})}),n.lngLat}getFeaturePointsSnapping(t,n,r){let a=t.map(l=>({shape:l.shape,...this.getPointsSnapping(l,n,r)})).filter(l=>l.distance<this.tolerance);return a.length?(a=cz(a,["distance"]),a[0].lngLat):null}getFeatureLinesSnapping(t,n,r){let a=t.filter(l=>this.lineSnappingShapes.includes(l.shape)).map(l=>{const u=this.shapeSnappingHandlers[l.shape];return u?{shape:l.shape,...u(l,n,r)}:null}).filter(l=>l!==null&&l.distance<this.tolerance);return a.length?(a=cz(a,["distance"]),a[0].lngLat):null}getFeaturesInPointBounds(t){const n=[[t[0]-this.tolerance,t[1]-this.tolerance],[t[0]+this.tolerance,t[1]+this.tolerance]];return this.gm.features.getFeaturesByScreenBounds({bounds:n,sourceNames:[Kn.main,Kn.temporary]}).filter(r=>r.temporary?this.customSnappingFeatures.has(r):!0)||[]}getPointsSnapping(t,n,r){const a=t.getGeoJson(),l={distance:1/0,coord:null};return XT(a,u=>{const i=this.gm.mapAdapter.project(u.coordinate),m=FA(r,i);m<this.tolerance&&m<l.distance&&(l.distance=m,l.coord=u.coordinate)},!0),{lngLat:l.coord?l.coord:n,distance:l.distance}}getLineSnapping(t,n,r){const a=t.getGeoJson();return this.getNearestLinePointData(a,n,r)}getNearestLinePointData(t,n,r){const a={lngLat:n,distance:1/0},l=this.gm.mapAdapter.getEuclideanNearestLngLat(t,n),u=this.gm.mapAdapter.project(l);return a.distance=FA(u,r),a.distance<this.tolerance&&(a.lngLat=l),a}}class s4e extends Kb{mode="zoom_to_features";eventHandlers={};onStartAction(){this.fitMapToFeatures(),setTimeout(()=>{this.gm.options.disableMode("helper","zoom_to_features")})}onEndAction(){}fitMapToFeatures(){const t=this.gm.features.asGeoJsonFeatureCollection({sourceNames:[Kn.main,...qu?[Kn.standby]:[]]}),n=KQ(t),r=[[n[0],n[1]],[n[2],n[3]]];try{this.gm.mapAdapter.fitBounds(r,{padding:20})}catch{rr.warn("Wrong bounds for zooming to features",r,t)}}}const DD={shape_markers:i4e,pin:null,snapping:o4e,snap_guides:null,measurements:null,auto_trace:null,geofencing:null,zoom_to_features:s4e,click_to_edit:null},l4e=(e,t)=>DD[t]?new DD[t](e):(rr.error(`Helper "${t}" is not available`),null);class u4e extends ON{eventHandlers={[`${gr}:helper`]:this.handleHelperEvent.bind(this)};constructor(t,n){super(t),n.attachEvents(this.eventHandlers)}handleHelperEvent(t){if(!LF(t))return{next:!0};const n=`${t.actionType}__${t.mode}`;return t.action==="mode_start"?(this.trackExclusiveModes(t),this.start(n,t),this.trackRelatedModes(t)):t.action==="mode_end"&&(this.trackRelatedModes(t),this.end(n)),{next:!0}}start(t,n){const r=l4e(this.gm,n.mode);r&&(t in this.gm.actionInstances&&rr.error(`Action instance "${t}" already exists`),this.gm.actionInstances[t]=r,r.startAction())}end(t){const n=this.gm.actionInstances[t];n instanceof Kb?(n.endAction(),delete this.gm.actionInstances[t]):console.error(`Wrong action instance for edit event "${t}":`,n)}}class c4e{gm;bus;listeners={};constructor(t){this.gm=t,this.bus=new k3e(this.gm),this.listeners={draw:new iLe(this.gm,this.bus),edit:new a4e(this.gm,this.bus),helper:new u4e(this.gm,this.bus),control:new I3e(this.gm,this.bus)}}fire(t,n){this.listeners[n.actionType]||rr.error(`Can't find event listener for "${n.actionType}" event type`),this.bus.fireEvent(t,n)}}const LU=5e3;class d4e{gm;updateStorage;autoUpdatesEnabled=!0;delayedSourceUpdateMethods;pendingUpdatePromises;constructor(t){this.gm=t,this.updateStorage=Object.fromEntries(hD(Kn).map(n=>[n,[]])),this.pendingUpdatePromises={},this.delayedSourceUpdateMethods=Object.fromEntries(hD(Kn).map(n=>[n,jK(()=>this.updateSourceActual(n),this.gm.options.settings.throttlingDelay)]))}updatesPending(t){return!!this.updateStorage[t]?.length||!!(this.pendingUpdatePromises[t]?.length??0)}getFeatureId(t){const n=t.properties?.[Mh]??t.id;return n==null&&console.warn("Feature id is null or undefined",t),n}updateSource({sourceName:t,diff:n}){n&&this.updateStorage[t].push(n),this.delayedSourceUpdateMethods[t]()}updateSourceActual(t){const n=this.gm.features.sources[t];if(this.autoUpdatesEnabled&&n){if(!n.loaded){setTimeout(()=>{this.updateSourceActual(t)},this.gm.options.settings.throttlingDelay);return}const r=this.getCombinedDiff(t);if(r){const a=n.updateData(r);this.addPendingPromise(t,a)}this.updateStorage[t].length>0&&setTimeout(()=>this.updateSourceActual(t),this.gm.options.settings.throttlingDelay)}}addPendingPromise(t,n){this.pendingUpdatePromises[t]||(this.pendingUpdatePromises[t]=[]),this.pendingUpdatePromises[t].push(n),n.finally(()=>{const r=this.pendingUpdatePromises[t];if(r){const a=r.indexOf(n);a!==-1&&r.splice(a,1),r.length===0&&delete this.pendingUpdatePromises[t]}})}async waitForPendingUpdates(t){const n=this.gm.features.sources[t];if(n){for(;this.updateStorage[t]?.length||this.pendingUpdatePromises[t]?.length;){if(this.updateStorage[t]?.length){const a=this.getCombinedDiff(t);if(a){const l=n.updateData(a);this.addPendingPromise(t,l)}}const r=this.pendingUpdatePromises[t];r?.length&&await Promise.all(r),await new Promise(a=>setTimeout(a,0))}await new Promise(r=>requestAnimationFrame(r))}}withAtomicSourcesUpdate(t){try{return this.autoUpdatesEnabled=!1,t()}finally{Rl(this.gm.features.sources).forEach(n=>{this.updateSource({sourceName:n})}),this.autoUpdatesEnabled=!0}}getCombinedDiff(t){let n={remove:[],add:[],update:[]};for(let r=0;r<LU&&this.updateStorage[t][r]!==void 0;r+=1)n=this.mergeGeoJsonDiff(n,this.updateStorage[t][r]);return this.updateStorage[t]=this.updateStorage[t].slice(LU),Object.values(n).find(r=>r.length)?n:null}mergeGeoJsonDiff(t,n){const r=t??{add:[],update:[],remove:[]},a=n??{add:[],update:[],remove:[]},l=new Set(a.remove),u=r.add?.filter(b=>!l.has(this.getFeatureId(b)))||[],i=r.update?.filter(b=>!l.has(this.getFeatureId(b)))||[],m=[];return a.update?.forEach(b=>{const _=u.findIndex(M=>this.getFeatureId(M)===this.getFeatureId(b)),w=i.findIndex(M=>this.getFeatureId(M)===this.getFeatureId(b));if(_===-1&&w===-1){m.push(b);return}_!==-1&&(u[_]=b),w!==-1&&(i[w]=b)}),{add:[...u,...a.add||[]],update:[...i,...m],remove:[...r.remove||[],...a.remove||[]]}}}class f4e{isInstanceAvailable(){return this.sourceInstance?!0:(rr.error("Source instance is not available"),!1)}}class h4e{gm;featureCounter=0;featureStore=new Map;featureStoreAllowedSources=[Kn.main,Kn.temporary];sources;defaultSourceName=Kn.main;updateManager;layers;constructor(t){this.gm=t,this.updateManager=new d4e(t),this.sources=Object.fromEntries(hD(Kn).map(n=>[n,null])),this.layers=[]}get forEach(){return this.filteredForEach(t=>!t.temporary)}get tmpForEach(){return this.filteredForEach(t=>t.temporary)}init(){if(Object.values(this.sources).some(t=>t!==null)){rr.warn("features.init(): features are already initialized");return}Rl(this.sources).forEach(t=>{this.sources[t]=this.createSource(t)}),this.hydrateFromExistingSources(),this.gm.options.settings.useDefaultLayers&&(this.layers=this.createLayers())}hydrateFromExistingSources(){let t=0;Rl(this.sources).forEach(n=>{const r=this.sources[n];if(r)try{const a=r.getGeoJson();if(a&&"features"in a)for(const l of a.features){const u=l.properties?.[Mh];if(!u)continue;if(typeof u=="string"&&u.startsWith("feature-")){const b=parseInt(u.replace("feature-",""),10);!isNaN(b)&&b>t&&(t=b)}if(this.featureStore.has(u))continue;const i=l,m=new rS({gm:this.gm,id:u,parent:null,source:r,geoJsonShapeFeature:Vh(i),skipSourceUpdate:!0});this.featureStore.set(u,m)}}catch{}}),t>this.featureCounter&&(this.featureCounter=t)}getNewFeatureId(t){if(this.featureCounter+=1,this.gm.options.settings.idGenerator)return this.gm.options.settings.idGenerator(t);let n=`feature-${this.featureCounter}`;for(;this.featureStore.has(n);)this.featureCounter+=1,n=`feature-${this.featureCounter}`;return n}filteredForEach(t){return n=>{this.featureStore.forEach((r,a,l)=>{t(r)&&n(r,a,l)})}}has(t,n){const r=this.featureStore.get(n);return!!r&&r?.source===this.sources[t]}get(t,n){const r=this.featureStore.get(n)||null;return r?.source===this.sources[t]?r:null}add(t){if(this.featureStore.has(t.id)){rr.error(`features.add: feature with the id "${t.id}" already exists`);return}this.featureStoreAllowedSources.includes(t.source.id)&&this.featureStore.set(t.id,t)}setDefaultSourceName(t){this.defaultSourceName=t}createSource(t){const n=this.gm.mapAdapter.addSource(t,{type:"FeatureCollection",features:[]});if(n)return n;throw new Error(`Features: failed to create the source: "${t}"`)}delete(t){let n;t instanceof rS?n=t:n=this.featureStore.get(t)||null,n?(this.featureStore.delete(n.id),n.delete()):rr.error(`features.delete: feature "${t}" not found`)}deleteAll(){this.featureStore.forEach(t=>{t.delete()}),this.featureStore.clear()}getFeatureByMouseEvent({event:t,sourceNames:n}){if(!gl(t,{warning:!0}))return null;const r=[t.point.x,t.point.y],a=this.gm.mapAdapter.queryFeaturesByScreenCoordinates({queryCoordinates:r,sourceNames:n});return a.length?a[0]:null}getFeaturesByGeoJsonBounds({geoJson:t,sourceNames:n}){const r=MF(t),a=this.gm.mapAdapter.coordBoundsToScreenBounds(r);return this.getFeaturesByScreenBounds({bounds:a,sourceNames:n})}getFeaturesByScreenBounds({bounds:t,sourceNames:n}){return this.gm.mapAdapter.queryFeaturesByScreenCoordinates({queryCoordinates:t,sourceNames:n})}createFeature({featureId:t,shapeGeoJson:n,parent:r,sourceName:a,imported:l}){const u=this.sources[a];if(!u)return rr.error("Features.createFeature Missing source for feature creation"),null;const i=t??n.properties[Mh]??this.getNewFeatureId(n);if(this.featureStore.get(i))return rr.error(`Features.createFeature: feature with the id "${i}" already exists`,this.featureStore.get(i)),null;const m=new rS({gm:this.gm,id:i,parent:r||null,source:u,geoJsonShapeFeature:Vh(n)});return this.add(m),!m.temporary&&!l&&this.fireFeatureCreatedEvent(m),this.featureCounter+=1,m}importGeoJson(t,n){const r=n??{},a="features"in t?t.features:[t],l={stats:{total:0,success:0,failed:0,overwritten:0},addedFeatures:[]};return a.forEach(u=>{let i=null;l.stats.total+=1;const m=iPe(u);if(m){if(r.idPropertyName){const b=oPe(m,r.idPropertyName);b&&(m.id=b)}if(r.overwrite){const b=m.id??m.properties?.[Mh];b&&this.featureStore.has(b)&&(this.delete(b),l.stats.overwritten+=1)}i=this.importGeoJsonFeature(m)}i?(l.addedFeatures.push(i),l.stats.success+=1):l.stats.failed+=1}),l}importGeoJsonFeature(t){const n=this.defaultSourceName,r=this.getFeatureShapeByGeoJson(t);return r?this.createFeature({featureId:t.id,shapeGeoJson:t,sourceName:n,imported:!0}):(rr.error("features.addGeoJsonFeature: unknown shape",r),null)}getAll(){return this.exportGeoJson()}exportGeoJson({allowedShapes:t,idPropertyName:n}={allowedShapes:void 0}){return this.asGeoJsonFeatureCollection({sourceNames:[Kn.main,...qu?[Kn.standby]:[]],shapeTypes:t||[...V0],idPropertyName:n,useMapLibreSource:!1})}exportGeoJsonFromSource({allowedShapes:t,idPropertyName:n}={allowedShapes:void 0}){return this.asGeoJsonFeatureCollection({sourceNames:[Kn.main,...qu?[Kn.standby]:[]],shapeTypes:t||[...V0],idPropertyName:n,useMapLibreSource:!0})}asGeoJsonFeatureCollection({shapeTypes:t,sourceNames:n,idPropertyName:r,useMapLibreSource:a=!1}){const l={type:"FeatureCollection",features:[]};return r??=Mh,n.forEach(u=>{const i=this.sources[u];i&&(a?i.getGeoJson():i.getGmGeoJson()).features.filter(m=>!!m).forEach(m=>{const b=this.get(u,m.id);if(!b)return;const _=m.properties[Mh];r!==Mh&&(m.properties[r]=_,delete m.properties[Mh]),(t===void 0||t.includes(b.shape))&&l.features.push({...m,id:_})})}),l}convertSourceToGm(t){const n=[],r=t.getGeoJson(),a="features"in r?r.features:[r];return this.gm.mapAdapter.getSource(t.id).remove(),a.forEach(l=>{const u=this.addGeoJsonFeature({shapeGeoJson:l,defaultSource:!0});u&&n.push(u)}),n}addGeoJsonFeature({shapeGeoJson:t,sourceName:n,defaultSource:r}){let a;if(r?(a=this.defaultSourceName,n&&rr.warn("features.addGeoJsonFeature: default source is set, sourceName is ignored")):a=n||null,!a)return rr.error("features.addGeoJsonFeature: missing sourceName"),null;const l=this.getFeatureShapeByGeoJson(t);return l?this.createFeature({featureId:t.id,shapeGeoJson:{...t,properties:{...t.properties,shape:l}},sourceName:a}):(rr.error("features.addGeoJsonFeature: unknown shape",l),null)}createLayers(){const t=[];return Rl(this.sources).forEach(n=>{Rl(this.gm.options.layerStyles).forEach(r=>{this.gm.options.layerStyles[r][n].forEach(a=>{const l=this.createGenericLayer({sourceName:n,shapeNames:[r],partialStyle:a});l&&t.push(l)})})}),t}createGenericLayer({sourceName:t,shapeNames:n,partialStyle:r}){const a=this.getGenericLayerName({sourceName:t,shapeNames:n,partialStyle:r});if(!a)throw new Error(`Can't create a layer, for ${{sourceName:t,shapeNames:n,partialStyle:r}}`);const l={...r,id:a,source:t,filter:["in",["get",`${dd}shape`],["literal",n]]};return this.gm.mapAdapter.addLayer(l)}getGenericLayerName({sourceName:t,shapeNames:n,partialStyle:r}){const a=n.length===1?n[0]:"mixed",l=i=>`${t}-${a}__${r.type}-layer-${i}`;let u=null;for(let i=0;i<100;i+=1){const m=l(i);if(!this.gm.mapAdapter.getLayer(m))return u=m,u}return null}getFeatureShapeByGeoJson(t){const n={Point:"marker",LineString:"line",MultiLineString:"line",Polygon:"polygon",MultiPolygon:"polygon"},r=t.properties;return r?.shape&&V0.includes(r?.shape)?r?.shape:n[t.geometry.type]||null}createMarkerFeature({parentFeature:t,coordinate:n,type:r,sourceName:a}){return this.createFeature({sourceName:a,parent:t,shapeGeoJson:{type:"Feature",geometry:{type:"Point",coordinates:n},properties:{[`${dd}shape`]:`${r}_marker`}}})}updateMarkerFeaturePosition(t,n){t.updateGeoJsonGeometry({type:"Point",coordinates:n})}fireFeatureCreatedEvent(t){if(Rb(t.shape,V0)){const n={name:`${gr}:draw:feature_created`,level:"system",actionType:"draw",mode:t.shape,action:"feature_created",featureData:t};this.gm.events.fire(`${gr}:draw`,n)}}}class p4e{getEuclideanNearestLngLat(t,n){const r=this.project(n);let a=[0,0],l=1/0;return cJ(t,u=>{const i=this.project(u.start.coordinate),m=this.project(u.end.coordinate),b=Q3e(i,m,r),_=FA(r,b);_<l&&(l=_,a=[b[0],b[1]])}),this.unproject(a)}getDistance(t,n){return iJ(t,n,{units:"meters"})}}class m4e{isInstanceAvailable(){return this.layerInstance?!0:(rr.error("layerInstance is not available"),!1)}}class zM extends m4e{gm;layerInstance=null;mapInstance;constructor({gm:t,layerId:n,options:r}){super(),this.gm=t,this.mapInstance=this.gm.mapAdapter.mapInstance,r?this.layerInstance=this.createLayer(r):this.layerInstance=this.mapInstance.getLayer(n)||null}get id(){if(!this.isInstanceAvailable())throw new Error("Layer instance is not available");return this.layerInstance.id}get source(){if(!this.isInstanceAvailable())throw new Error("Layer instance is not available");return this.layerInstance.source}createLayer(t){let n=this.mapInstance.getLayer(t.id);return n?rr.warn(`Layer "${t.id}" already exists, skipping`):(this.mapInstance.addLayer(t),n=this.mapInstance.getLayer(t.id)),n??null}remove(){this.isInstanceAvailable()&&this.mapInstance.removeLayer(this.id),this.layerInstance=null}}class g4e extends kF{markerInstance;constructor({mapInstance:t,options:n,lngLat:r}){super(),this.markerInstance=new jT.Marker(n).setLngLat(r).addTo(t)}getElement(){return this.isMarkerInstanceAvailable()&&this.markerInstance?.getElement()||null}setLngLat(t){this.isMarkerInstanceAvailable()&&this.markerInstance?.setLngLat(t)}getLngLat(){return this.isMarkerInstanceAvailable()?this.markerInstance?.getLngLat().toArray()||[0,0]:[0,0]}remove(){this.markerInstance?.remove()}}class y4e{isInstanceAvailable(){return this.popupInstance?!0:(rr.error("Popup instance is not available"),!1)}}class v4e extends y4e{popupInstance;constructor({mapInstance:t,options:n,lngLat:r}){super(),this.popupInstance=new jT.Popup(n).addTo(t),r&&this.setLngLat(r)}getLngLat(){return this.isInstanceAvailable()?this.popupInstance.getLngLat().toArray()||[0,0]:[0,0]}setLngLat(t){this.isInstanceAvailable()&&this.popupInstance.setLngLat(t)}setHtml(t){this.isInstanceAvailable()&&this.popupInstance.setHTML(t)}remove(){this.isInstanceAvailable()&&this.popupInstance.remove()}}class PU extends f4e{gm;mapInstance;sourceInstance;constructor({gm:t,geoJson:n,sourceId:r}){super(),this.gm=t,this.mapInstance=this.gm.mapAdapter.mapInstance,n?this.sourceInstance=this.createSource({geoJson:n,sourceId:r}):this.sourceInstance=this.mapInstance.getSource(r)||null}get id(){if(!this.isInstanceAvailable())throw new Error("Source instance is not available");return this.sourceInstance.id}get loaded(){return this.mapInstance.isSourceLoaded(this.id)}createSource({geoJson:t,sourceId:n}){let r=this.mapInstance.getSource(n);return r?rr.warn(`Source "${r.id}" already exists, skipping`):(this.mapInstance.addSource(n,{type:"geojson",data:t,promoteId:Mh}),r=this.mapInstance.getSource(n)),r??null}getGeoJson(){if(!this.isInstanceAvailable())throw new Error("Source instance is not available");return this.sourceInstance.serialize().data}getGmGeoJson(){if(!this.isInstanceAvailable())throw new Error("Source instance is not available");const t={type:"FeatureCollection",features:[]};return this.gm.features.filteredForEach(n=>n.source.id===this.sourceInstance?.id)(n=>{V0.includes(n.shape)&&t.features.push(n.getGeoJson())}),t}async setData(t){if(!this.isInstanceAvailable())throw new Error("Source instance is not available");await this.sourceInstance.setData(t,!0)}async updateData(t){if(!this.isInstanceAvailable())return;const n=this.convertUniversalDiffToMlDiff(t);await this.sourceInstance.updateData(n,!0)}convertUniversalDiffToMlDiff(t){return{add:t.add?.map(this.sanitizeFeatureForAdd.bind(this)),update:t.update?.map(this.convertFeatureToMlUpdateDiff.bind(this)),remove:t.remove}}sanitizeFeatureForAdd(t){if(!t.properties)return t;const n={};for(const[r,a]of Object.entries(t.properties))a!==void 0&&(n[r]=a);return{...t,properties:n}}convertFeatureToMlUpdateDiff(t){const n=[],r=[];return Object.entries(t.properties||{}).forEach(([a,l])=>{l===void 0?r.push(a):n.push({key:a,value:l})}),{id:t.properties?.[Mh],newGeometry:t.geometry,addOrUpdateProperties:n,removeProperties:r}}remove(){this.isInstanceAvailable()&&(this.gm.mapAdapter.eachLayer(t=>{t.source===this.sourceInstance.id&&this.gm.mapAdapter.removeLayer(t.id)}),this.mapInstance.removeSource(this.sourceInstance.id))}}const b4e=["click","dblclick","mousedown","mouseup","mousemove","mouseenter","mouseleave","mouseover","mouseout","contextmenu","touchstart","touchend","touchcancel"],UM=e=>b4e.includes(e);class _4e extends p4e{gm;mapType="maplibre";mapInstance;constructor(t,n){super(),this.gm=n,this.mapInstance=t}getMapInstance(){return this.mapInstance}isLoaded(){return this.mapInstance._loaded}getContainer(){return this.mapInstance.getContainer()}getCanvas(){return this.mapInstance.getCanvas()}addControl(t){this.mapInstance.addControl(t)}removeControl(t){this.mapInstance.removeControl(t)}async loadImage({id:t,image:n}){if(!this.mapInstance.hasImage(t)){const r=await this.mapInstance.loadImage(n);this.mapInstance.addImage(t,r.data)}}removeImage(t){try{this.mapInstance.hasImage(t)&&this.mapInstance.removeImage(t)}catch{}}getBounds(){return this.mapInstance.getBounds().toArray()}fitBounds(t,n){this.mapInstance.fitBounds(t,n)}setCursor(t){this.mapInstance.getCanvas().style.cursor=t}disableMapInteractions(t){t.forEach(n=>{this.mapInstance[n].disable()})}enableMapInteractions(t){t.forEach(n=>{this.mapInstance[n].enable()})}setDragPan(t){t?this.mapInstance.dragPan.enable():this.mapInstance.dragPan.disable()}queryFeaturesByScreenCoordinates({queryCoordinates:t=void 0,sourceNames:n}){return dz(this.mapInstance.queryRenderedFeatures(t).map(r=>({featureId:r.properties[Mh],featureSourceName:r.source})),Cw).map(({featureId:r,featureSourceName:a})=>r===void 0||!n.includes(a)?null:this.gm.features.get(a,r)||null).filter(r=>!!r)}queryGeoJsonFeatures({queryCoordinates:t=void 0,sourceNames:n}){const r=(a,l)=>a?.id===l?.id;return dz(this.mapInstance.queryRenderedFeatures(t).map(a=>{const l=this.convertToGeoJsonImportFeature(a);return l?{id:a.properties[Mh],sourceName:a.source,geoJson:l}:null}),r).filter(a=>!!a&&a.id!==void 0&&a.geoJson&&n.includes(a.sourceName))}convertToGeoJsonImportFeature(t){const n=t.properties[Mh];return n===void 0||t.geometry.type==="GeometryCollection"?null:{id:n,type:"Feature",properties:t.properties,geometry:t.geometry}}addSource(t,n){return new PU({gm:this.gm,sourceId:t,geoJson:n})}getSource(t){return new PU({gm:this.gm,sourceId:t})}addLayer(t){const n=t.id;return new zM({gm:this.gm,layerId:n,options:t})}getLayer(t){return this.mapInstance.getLayer(t)?new zM({gm:this.gm,layerId:t}):null}removeLayer(t){const n=this.getLayer(t);n&&n.remove()}eachLayer(t){this.mapInstance.getStyle().layers.forEach(n=>{t(new zM({gm:this.gm,layerId:n.id}))})}createDomMarker(t,n){return new g4e({mapInstance:this.mapInstance,options:t,lngLat:n})}createPopup(t,n){return new v4e({mapInstance:this.mapInstance,options:t,lngLat:n})}project(t){const n=this.mapInstance.project(t);return[n.x,n.y]}unproject(t){const n=this.mapInstance.unproject(t);return[n.lng,n.lat]}coordBoundsToScreenBounds(t){const n=new jT.LngLatBounds(t),r=this.project(n.getSouthWest().toArray()),a=this.project(n.getNorthEast().toArray());return[r,a]}fire(t,n){this.mapInstance.fire(t,n)}on(t,n,r){if(typeof n=="string"&&r&&UM(t))this.mapInstance.on(t,n,r);else if(typeof n=="function")this.mapInstance.on(t,n);else throw new Error("Invalid arguments passed to 'on' method")}once(t,n,r){if(typeof n=="string"&&r&&UM(t))this.mapInstance.once(t,n,r);else if(typeof n=="function")this.mapInstance.once(t,n);else throw new Error("Invalid arguments passed to 'once' method.")}off(t,n,r){if(typeof n=="string"&&r&&UM(t))this.mapInstance.off(t,n,r);else if(typeof n=="function")this.mapInstance.off(t,n);else throw new Error("Invalid arguments passed to 'off' method")}}const x4e=(e,t)=>new _4e(t,e),E4e=(e,t)=>{if(!Array.isArray(e)||!Array.isArray(t))return;if(t.some(a=>!hDe(a))){rr.warn("Wrong partial layer detected for layer styles");return}const n=BRe(e,"type"),r=wRe(t,"type");if(Object.values(r).some(a=>a>1))throw new Error('Multiple layers for the same shape are detected. Use "useDefaultLayers: false" and define layers manually.');return t.forEach(a=>{n[a.type]?$Re(n[a.type],a):n[a.type]=Vh(a)}),ORe(n)};class w4e{gm;settings;controls;layerStyles;constructor(t,n){this.gm=t;const r=this.getMergedOptions(n);this.settings=r.settings,this.controls=r.controls,this.layerStyles=r.layerStyles}getMergedOptions(t={}){const n=eD();return typeof t.settings?.controlsUiEnabledByDefault=="boolean"&&(n.settings.controlsUiEnabledByDefault=t.settings.controlsUiEnabledByDefault),tMe(n),IRe(n,t,E4e)}enableMode(t,n){const r=this.isModeEnabled(t,n),a=this.isModeAvailable(t,n);if(a||rr.warn(`Unable to enable mode, "${t}:${n}" is not available`),r||!a)return;const l=this.controls[t][n];l?(l.active=!0,this.fireModeEvent(t,n,"mode_start"),this.fireControlEvent(t,n,"on"),this.fireModeEvent(t,n,"mode_started")):rr.error("Can't find control section for",t,n)}disableMode(t,n){const r=this.isModeEnabled(t,n),a=this.isModeAvailable(t,n);if(!r||!a)return;const l=this.controls[t][n];l?(l.active=!1,this.fireModeEvent(t,n,"mode_end"),this.fireControlEvent(t,n,"off"),this.fireModeEvent(t,n,"mode_ended")):rr.error("Can't find control section for",t,n)}syncModeState(t,n){const r=this.controls[t][n],a=this.isModeAvailable(t,n);r&&(a?r.active?this.enableMode(t,n):this.disableMode(t,n):(console.log(`Not available mode: ${t}:${n}`),r.active=!1,r.uiEnabled=!1))}toggleMode(t,n){this.isModeEnabled(t,n)?this.disableMode(t,n):this.enableMode(t,n)}isModeEnabled(t,n){return!!Object.entries(this.gm.actionInstances).find(([r,a])=>r===`${t}__${n}`&&a)}isModeAvailable(t,n){return t==="draw"&&Rb(n,VQ)?!!this.gm.drawClassMap[n]:t==="edit"&&Rb(n,YQ)?!!this.gm.editClassMap[n]:t==="helper"&&Rb(n,qQ)?!!this.gm.helperClassMap[n]:!1}getControlOptions({modeType:t,modeName:n}){return t&&n&&this.controls[t][n]||null}fireModeEvent(t,n,r){const a={name:`${gr}:${n}:mode`,level:"system",actionType:t,mode:n,action:r};GF(a)&&(FF(a)?this.gm.events.fire(`${gr}:${t}`,a):Rw(a)?this.gm.events.fire(`${gr}:${t}`,a):LF(a)?this.gm.events.fire(`${gr}:${t}`,a):rr.warn("Unknown mode event: ",a))}fireControlEvent(t,n,r){const a={name:`${gr}:control:switch`,level:"system",actionType:"control",section:t,mode:n,action:r};this.gm.events.fire(`${gr}:control`,a)}}class S4e{gm;marker=null;tmpMarker=null;snapping=!1;oldSnapping=void 0;constructor(t){this.gm=t,this.initEventHandlers()}get snappingHelper(){return this.gm.actionInstances.helper__snapping||null}initEventHandlers(){this.throttledMethods=rx({onMouseMove:this.onMouseMove},this,this.gm.options.settings.throttlingDelay),this.eventHandlers={mousemove:this.throttledMethods.onMouseMove.bind(this)}}setSnapping(t){if(t&&!this.snappingHelper){rr.error("MarkerPointer: snapping is not available");return}this.snapping=t}pauseSnapping(){this.oldSnapping!==void 0&&rr.error("MarkerPointer: snapping is already paused"),this.oldSnapping=this.snapping,this.setSnapping(!1)}resumeSnapping(){this.oldSnapping===void 0?(rr.error("MarkerPointer: resumeSnapping is called before pauseSnapping"),this.setSnapping(!0)):(this.setSnapping(this.oldSnapping),this.oldSnapping=void 0)}enable({lngLat:t,customMarker:n,invisibleMarker:r}={lngLat:[0,0],customMarker:void 0,invisibleMarker:!1}){if(!lDe()){if(n&&r)throw new Error("MarkerPointer: customMarker and invisibleMarker can't be used together");if(this.marker)throw new Error("MarkerPointer: marker is already enabled");this.gm.events.bus.attachEvents(this.eventHandlers),r?this.marker=this.createInvisibleMarker(t||[0,0]):this.marker=n||this.createMarker(t||[0,0]),this.gm.getActiveDrawModes().length&&this.gm.mapAdapter.setCursor("crosshair")}}disable(){this.marker&&(this.gm.events.bus.detachEvents(this.eventHandlers),this.marker.remove(),this.marker=null),this.gm.mapAdapter.setCursor("")}createMarker(t=[0,0]){return this.gm.mapAdapter.createDomMarker({anchor:"center",element:this.gm.createSvgMarkerElement("control",{pointerEvents:"none"})},t)}createInvisibleMarker(t=[0,0]){const n=document.createElement("div");return n.style.width="0px",n.style.height="0px",this.gm.mapAdapter.createDomMarker({anchor:"center",element:n},t)}onMouseMove(t){if(gl(t,{warning:!0})&&this.marker)if(this.snapping&&this.snappingHelper){const n=[t.point.x,t.point.y],r=this.snappingHelper.getSnappedLngLat(t.lngLat.toArray(),n);this.marker.setLngLat(r)}else this.marker.setLngLat(t.lngLat.toArray());return{next:!0}}syncTmpMarker(t){this.tmpMarker||(this.tmpMarker=this.createMarker(t)),this.tmpMarker.setLngLat(t)}}const T4e=["mode_start","mode_started","mode_end","mode_ended"],GF=e=>av(e)&&Rb(e.action,T4e);class C4e{mapAdapterInstance=null;globalLngLatBounds=this.getGlobalLngLatBounds();features;loaded=!1;destroyed=!1;options;events;control;actionInstances={};markerPointer;constructor(t,n={}){this.options=this.initCoreOptions(n),this.events=this.initCoreEvents(),this.features=this.initCoreFeatures(),this.control=this.initCoreControls(),this.markerPointer=this.initMarkerPointer();const r=Object.assign(t,{gm:this});this.mapAdapterInstance=x4e(this,r),this.waitForBaseMap().then(this.init.bind(this)).catch(a=>{rr.error("Geoman initialization failed:",a),this.destroy()})}get drawClassMap(){return vD}get editClassMap(){return OD}get helperClassMap(){return DD}get mapAdapter(){if(this.mapAdapterInstance)return this.mapAdapterInstance;throw rr.trace("Map adapter is not initialized"),new Error("Map adapter is not initialized")}initCoreOptions(t={}){return new w4e(this,t)}initCoreEvents(){return new c4e(this)}initCoreFeatures(){return new h4e(this)}initCoreControls(){return new T3e(this)}initMarkerPointer(){return new S4e(this)}addControls(t=void 0){return new Promise(n=>{(async()=>{t?this.control.createControls(t):this.mapAdapter.addControl(this.control),await this.onMapLoad(),n()})().then()})}async waitForBaseMap(){const t=this.mapAdapter.mapInstance;if(!dDe(t)){rr.error('Map instance does not have a "once" method',t);return}return this.mapAdapter.isLoaded()||await Uz(new Promise(n=>{const r=()=>n(t);t.once("load",r),this.mapAdapter.isLoaded()&&(t.off("load",r),n(t))}),"waitForBaseMap failed"),t}async waitForGeomanLoaded(){if(this.loaded)return this;if(this.destroyed)return;const t=await this.waitForBaseMap();if(!t){rr.error("Map instance is not available",t);return}const n=`${Wu}:loaded`;return await Uz(new Promise(r=>{const a=()=>r(this);t.once(n,a),this.loaded&&(t.off(n,a),r(this))}),"waitForGeomanLoaded failed"),this}async init(){this.destroyed||(this.features.init(),!this.destroyed&&await this.addControls())}async destroy({removeSources:t}={removeSources:!1}){if(this.destroyed=!0,this.mapAdapterInstance&&"gm"in this.mapAdapterInstance.mapInstance&&delete this.mapAdapterInstance.mapInstance.gm,this.loaded?(this.removeControls(),this.mapAdapter.removeImage("default-marker")):this.events.bus.detachAllEvents(),t)for(const n of Object.values(this.features.sources))n&&n.remove()}removeControls(){this.disableAllModes(),this.mapAdapter.removeControl(this.control)}async onMapLoad(){if(this.loaded||this.destroyed||(await this.mapAdapter.loadImage({id:"default-marker",image:oCe}),this.destroyed))return;const t={name:`${gr}:control:load`,level:"system",actionType:"control",action:"loaded"};this.events.fire(`${gr}:control`,t),this.loaded=!0}disableAllModes(){Rl(this.actionInstances).forEach(t=>{const[n,r]=t.split("__");eLe(n)&&aLe(r)&&this.options.disableMode(n,r)})}getActiveDrawModes(){return Rl(this.actionInstances).map(t=>{const n=this.actionInstances[t];return n instanceof mv?n.mode:null}).filter(t=>t!==null)}getActiveEditModes(){return Rl(this.actionInstances).map(t=>{const n=this.actionInstances[t];return n instanceof QT?n.mode:null}).filter(t=>t!==null)}getActiveHelperModes(){return Rl(this.actionInstances).map(t=>{const n=this.actionInstances[t];return n instanceof Kb?n.mode:null}).filter(t=>t!==null)}getGlobalLngLatBounds(){const t=85.051129;return[[-179.99999,-t],[179.99999,t]]}setGlobalEventsListener(t=null){this.events.bus.forwarder.globalEventsListener=t}createSvgMarkerElement(t,n=void 0){const r=this.options.settings.markerIcons;r[t]||rr.error(`createMarkerElement: marker type "${t}" not found`);const a=document.createElement("div");a.classList.add("marker-wrapper"),a.style.lineHeight="0",a.innerHTML=r[t]||"NO_ICON";const l=a.firstChild;if(typeof l!="object")throw rr.error(`createMarkerElement: no icon "${t}" found`),new Error(`No icon "${t}" found`);return n&&Object.assign(l.style,n),a}enableMode(t,n){this.options.enableMode(t,n)}disableMode(t,n){this.options.disableMode(t,n)}toggleMode(t,n){this.options.toggleMode(t,n)}isModeEnabled(t,n){return this.options.isModeEnabled(t,n)}enableDraw(t){this.options.enableMode("draw",t)}disableDraw(){this.getActiveDrawModes().forEach(t=>this.options.disableMode("draw",t))}toggleDraw(t){this.options.toggleMode("draw",t)}drawEnabled(t){return this.options.isModeEnabled("draw",t)}enableGlobalDragMode(){this.options.enableMode("edit","drag")}disableGlobalDragMode(){this.options.disableMode("edit","drag")}toggleGlobalDragMode(){this.options.toggleMode("edit","drag")}globalDragModeEnabled(){return this.options.isModeEnabled("edit","drag")}enableGlobalEditMode(){this.options.enableMode("edit","change")}disableGlobalEditMode(){this.options.disableMode("edit","change")}toggleGlobalEditMode(){this.options.toggleMode("edit","change")}globalEditModeEnabled(){return this.options.isModeEnabled("edit","change")}enableGlobalRotateMode(){this.options.enableMode("edit","rotate")}disableGlobalRotateMode(){this.options.disableMode("edit","rotate")}toggleGlobalRotateMode(){this.options.toggleMode("edit","rotate")}globalRotateModeEnabled(){return this.options.isModeEnabled("edit","rotate")}enableGlobalCutMode(){this.options.enableMode("edit","cut")}disableGlobalCutMode(){this.options.disableMode("edit","cut")}toggleGlobalCutMode(){this.options.toggleMode("edit","cut")}globalCutModeEnabled(){return this.options.isModeEnabled("edit","cut")}enableGlobalRemovalMode(){this.options.enableMode("edit","delete")}disableGlobalRemovalMode(){this.options.disableMode("edit","delete")}toggleGlobalRemovalMode(){this.options.toggleMode("edit","delete")}globalRemovalModeEnabled(){return this.options.isModeEnabled("edit","delete")}}const A4e={version:8,sources:{osm:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:""}},layers:[{id:"osm",type:"raster",source:"osm"}]},k4e=(e=!1)=>({controls:{draw:{polygon:{uiEnabled:!e,active:!1},rectangle:{uiEnabled:!1},circle:{uiEnabled:!1},circle_marker:{uiEnabled:!1},ellipse:{uiEnabled:!1},text_marker:{uiEnabled:!1},line:{uiEnabled:!1},marker:{uiEnabled:!1},freehand:{uiEnabled:!1},custom_shape:{uiEnabled:!1}},edit:{drag:{uiEnabled:!e},change:{uiEnabled:!e},rotate:{uiEnabled:!e},scale:{uiEnabled:!e},copy:{uiEnabled:!e},cut:{uiEnabled:!e},split:{uiEnabled:!e},union:{uiEnabled:!e},difference:{uiEnabled:!e},line_simplification:{uiEnabled:!e},lasso:{uiEnabled:!e},delete:{uiEnabled:!e}},helper:{snapping:{uiEnabled:!e,active:!e}}}}),LD=e=>{const t=$.useRef(null),n=$.useRef(null),r=$.useRef(null),a=$.useMemo(()=>k4e(e.onlyView),[e.onlyView]),[l,u]=$.useState([]);$.useEffect(()=>{e.onlyView&&_()},[e.values]);const i=$.useCallback(w=>{console.log("Event",w.name),w.name&&["gm:create","gm:edit","gm:remove"].includes(w.name)&&m()},[]),m=()=>{console.log("----> Get Api GeoJson In Map");let w=r.current.features.exportGeoJson();console.log("----> GeoJson",w);let M=[];w.features.forEach(P=>{P.geometry.type==="Polygon"&&M.push({geometry:{type:"Polygon",coordinates:P.geometry.coordinates}}),P.geometry.type==="MultiPolygon"&&M.push({geometry:{type:"Polygon",coordinates:P.geometry.coordinates[0]}})}),e.onChange(M),console.log("----> Data",M)},b=$.useCallback(()=>{if(!(!r.current||!n.current))try{const w=r.current.features.exportGeoJson();if(!w.features||w.features.length===0){console.log("No features to zoom to");return}let M=1/0,P=1/0,j=-1/0,G=-1/0;if(w.features.forEach(z=>{const q=z.geometry.coordinates;let Y=[];z.geometry.type==="Polygon"?Y=q:z.geometry.type==="MultiPolygon"&&(Y=q.flat()),Y.forEach(J=>{J.forEach(ne=>{const[ie,ue]=ne;M=Math.min(M,ie),P=Math.min(P,ue),j=Math.max(j,ie),G=Math.max(G,ue)})})}),M!==1/0&&P!==1/0&&j!==-1/0&&G!==-1/0){const z=[[M,P],[j,G]];(M!==j||P!==G)&&n.current.fitBounds(z,{padding:50})}}catch(w){console.error("Error zooming to features:",w)}},[]),_=()=>{if(!r.current){console.warn("Geoman not loaded yet");return}r.current.features.deleteAll(),e.values?.forEach(w=>{let M={type:"Feature",properties:{shape:"polygon"},geometry:{type:"Polygon",coordinates:w.geometry?.coordinates}};console.log("GeoJson",M),r.current.features.importGeoJsonFeature(M)}),setTimeout(()=>{b()},1e3)};return $.useEffect(()=>{if(t.current){const w=new jT.Map({style:A4e,container:t.current,center:[37.6156,55.7558],zoom:5,fadeDuration:50});n.current=w;const M=new C4e(w,a);r.current=M,w.on("gm:loaded",()=>{console.log("Geoman loaded",M),e.onlyView&&M.disableAllModes(),_()}),w.on("gm:globaldrawmodetoggled",i),w.on("gm:globaleditmodetoggled",i),w.on("gm:globalremovemodetoggled",i),w.on("gm:globalrotatemodetoggled",i),w.on("gm:globaldragmodetoggled",i),w.on("gm:globalcutmodetoggled",i),w.on("gm:globalsnappingmodetoggled",i),w.on("gm:create",i),w.on("gm:editstart",i),w.on("gm:editend",i),w.on("gm:remove",i),w.on("gm:rotatestart",i),w.on("gm:rotateend",i),w.on("gm:dragstart",i),w.on("gm:dragend",i),w.on("gm:cut",i),w.on("gm:helper",i),w.on("gm:control",i)}return()=>{n.current&&n.current.remove()}},[i,e.onlyView]),S.jsx("div",{className:e.onlyView?"hide-geoman-controls":"",ref:t,style:{width:"100%",height:e.height}})},zJ=Ve.createRef(),I4e=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),[a,l]=$.useState([]),u=$.useRef(null),{isMobile:i}=Fr();return $.useImperativeHandle(t,()=>({open:m=>{l(m.initialValues),u.current=m.onSave,r(!0)},close:()=>{r(!1)}})),i?S.jsx(Yh,{opened:n,onBackdropClick:()=>r(!1),children:S.jsxs(Dc,{className:"overflow-hidden",children:[S.jsx(Oc,{title:tt.key("region_editor"),right:S.jsx(ks,{onClick:()=>r(!1),children:S.jsx(Yl,{})})}),n&&S.jsx(LD,{height:window.innerHeight,onlyView:!1,values:a,onChange:m=>{l(m)}}),S.jsx(Jm,{className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",icon:S.jsx(Joe,{}),onClick:()=>{u.current?.(a),r(!1)},text:tt.key("save")})]})}):S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsxs(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] overflow-hidden ",children:[n&&S.jsx(LD,{height:window.innerHeight-200,onlyView:!1,values:a,onChange:m=>{l(m)}}),S.jsxs(B1,{children:[S.jsx(Bn,{onClick:()=>{r(!1)},children:tt.key("cancel")}),S.jsx(Bn,{onClick:()=>{u.current?.(a),r(!1)},children:tt.key("save")})]})]})})}),N4e=e=>{const[t,n]=$.useState(e.getValue());return $.useEffect(()=>{e.setValue(t)},[t]),S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(LD,{height:200,onlyView:!0,values:t??[],onChange:r=>{n(r)}}),S.jsx(La,{...e}),S.jsx(Bn,{className:"w-full",onClick:()=>{zJ.current?.open({initialValues:t??[],onSave:r=>{n(r)}})},children:tt.key("edit")})]})},R4e=e=>{const[t,n]=$.useState(e.getValue()??null);$.useEffect(()=>{e.setValue(t)},[t]);const r=t?.palette&&t.palette.length>0?t.palette:[{color:"#ffffff",offset:"0.00"},{color:"#ffffff",offset:"1.00"}],[a,l]=$.useState(r),[u,i]=$.useState(t?.angle??0),[m,b]=$.useState(null);$.useEffect(()=>{n({palette:a.length>0?a:void 0,angle:u})},[a,u]);const _=q=>w.reduce((J,ne)=>Math.abs(ne.angle-q)<Math.abs(J.angle-q)?ne:J,w[0]).icon,w=[{angle:0,icon:S.jsx(bse,{className:"h-4 w-4"})},{angle:45,icon:S.jsx(yse,{className:"h-4 w-4"})},{angle:90,icon:S.jsx(hse,{className:"h-4 w-4"})},{angle:135,icon:S.jsx(sse,{className:"h-4 w-4"})},{angle:180,icon:S.jsx(use,{className:"h-4 w-4"})},{angle:225,icon:S.jsx(ise,{className:"h-4 w-4"})},{angle:270,icon:S.jsx(dse,{className:"h-4 w-4"})},{angle:315,icon:S.jsx(mse,{className:"h-4 w-4"})}];$.useEffect(()=>{const q=e.getValue();q?.palette&&q.palette.length>0&&l(q.palette),q?.angle!==void 0&&i(q.angle)},[]);const M=()=>{const q={color:"#ffffff",offset:"0.00"};l(Y=>{let J=[...Y,q];return J=J.map((ne,ie)=>({...ne,offset:(1/(J.length-1)*ie).toFixed(2)})),J})},P=q=>{l(Y=>{let J=[...Y];return J.splice(q,1),J=J.map((ne,ie)=>({...ne,offset:(1/(J.length-1)*ie).toFixed(2)})),J.length<2?(Ca.error(tt.key("min_colors_gradient")),Y):J})},j=(q,Y)=>{l(J=>J.map((ne,ie)=>ie===q?{...ne,color:Y}:ne))},G=()=>{if(!a||a.length===0)return"";const q=a.map(Y=>{let J=Y.color||"#ffffff";if(Y.opacity!==void 0&&Y.opacity!==1&&J.startsWith("#")){const ie=parseInt(J.slice(1,3),16),ue=parseInt(J.slice(3,5),16),oe=parseInt(J.slice(5,7),16);J=`rgba(${ie}, ${ue}, ${oe}, ${Y.opacity})`}let ne=+(Y.offset||"0.00")*100;return`${J} ${ne}%`}).join(", ");return`linear-gradient(${u}deg, ${q})`};if(e.onlyShow||!e.structure.editable)return S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:a&&a.length>0?S.jsx("div",{style:{background:G(),height:"100px",width:"100%",borderRadius:"4px"}}):null}),S.jsx(La,{...e})]});const z=()=>{if(!w.some(ne=>ne.angle===u)){i(0);return}let Y=w.findIndex(ne=>ne.angle===u)+1;Y>=w.length&&(Y=0);let J=w[Y].angle;i(J)};return S.jsxs("div",{className:"w-full space-y-4",children:[S.jsx(ma,{...e}),S.jsx("div",{className:"h-10 hover:h-52 transition-all duration-300 mt-2",style:{background:G(),width:"100%",borderRadius:"10px"}}),S.jsx("div",{className:"space-y-2",children:S.jsxs("div",{className:"space-y-2 flex flex-wrap gap-2",children:[S.jsx(Bn,{onClick:()=>z(),variant:"outline",size:"sm",className:"w-8",children:_(u)}),a.map((q,Y)=>S.jsxs("div",{className:"flex items-center gap-2 ",children:[S.jsxs(xZ,{value:q.color||"#ffffff",onValueChange:J=>j(Y,J),open:m===Y,onOpenChange:J=>b(J?Y:null),children:[S.jsx(EZ,{asChild:!0,children:S.jsxs(Bn,{variant:"outline",size:"sm",className:"w-32",children:[S.jsx(CZ,{className:"size-4 mr-2"}),q.color||"#ffffff"]})}),S.jsxs(wZ,{children:[S.jsx(SZ,{}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(AZ,{}),S.jsx(TZ,{})]}),S.jsx(kZ,{})]})]}),S.jsx(Bn,{type:"button",variant:"ghost",size:"sm",onClick:()=>P(Y),disabled:a.length<=2,className:"h-8 w-8 p-0",children:S.jsx(hd,{className:"h-4 w-4"})})]},Y)),S.jsxs(Bn,{type:"button",variant:"outline",size:"sm",onClick:M,className:"h-8",children:[S.jsx(gS,{className:"h-4 w-4 mr-1"}),tt.key("add_color")]})]})}),S.jsxs(Bn,{type:"button",variant:"outline",onClick:()=>{l([{color:"#ffffff",offset:"0.00"},{color:"#000000",offset:"1.00"}]),i(0)},className:"w-full",children:[S.jsx(Ose,{className:"h-4 w-4 mr-2"}),tt.key("reset")]}),S.jsx(La,{...e})]})};var HA={exports:{}},M4e=HA.exports,FU;function O4e(){return FU||(FU=1,(function(e,t){(function(n,r){e.exports=r()})(M4e,function(){Array.isArray||(Array.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"});function n(l){for(var u=[],i=0,m=l.length;i<m;i++)u.indexOf(l[i])===-1&&u.push(l[i]);return u}var r={},a={"==":function(l,u){return l==u},"===":function(l,u){return l===u},"!=":function(l,u){return l!=u},"!==":function(l,u){return l!==u},">":function(l,u){return l>u},">=":function(l,u){return l>=u},"<":function(l,u,i){return i===void 0?l<u:l<u&&u<i},"<=":function(l,u,i){return i===void 0?l<=u:l<=u&&u<=i},"!!":function(l){return r.truthy(l)},"!":function(l){return!r.truthy(l)},"%":function(l,u){return l%u},log:function(l){return console.log(l),l},in:function(l,u){return!u||typeof u.indexOf>"u"?!1:u.indexOf(l)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(l,u,i){if(i<0){var m=String(l).substr(u);return m.substr(0,m.length+i)}return String(l).substr(u,i)},"+":function(){return Array.prototype.reduce.call(arguments,function(l,u){return parseFloat(l,10)+parseFloat(u,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(l,u){return parseFloat(l,10)*parseFloat(u,10)})},"-":function(l,u){return u===void 0?-l:l-u},"/":function(l,u){return l/u},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(l,u){return l.concat(u)},[])},var:function(l,u){var i=u===void 0?null:u,m=this;if(typeof l>"u"||l===""||l===null)return m;for(var b=String(l).split("."),_=0;_<b.length;_++)if(m==null||(m=m[b[_]],m===void 0))return i;return m},missing:function(){for(var l=[],u=Array.isArray(arguments[0])?arguments[0]:arguments,i=0;i<u.length;i++){var m=u[i],b=r.apply({var:m},this);(b===null||b==="")&&l.push(m)}return l},missing_some:function(l,u){var i=r.apply({missing:u},this);return u.length-i.length>=l?[]:i}};return r.is_logic=function(l){return typeof l=="object"&&l!==null&&!Array.isArray(l)&&Object.keys(l).length===1},r.truthy=function(l){return Array.isArray(l)&&l.length===0?!1:!!l},r.get_operator=function(l){return Object.keys(l)[0]},r.get_values=function(l){return l[r.get_operator(l)]},r.apply=function(l,u){if(Array.isArray(l))return l.map(function(z){return r.apply(z,u)});if(!r.is_logic(l))return l;var i=r.get_operator(l),m=l[i],b,_,w,M,P;if(Array.isArray(m)||(m=[m]),i==="if"||i=="?:"){for(b=0;b<m.length-1;b+=2)if(r.truthy(r.apply(m[b],u)))return r.apply(m[b+1],u);return m.length===b+1?r.apply(m[b],u):null}else if(i==="and"){for(b=0;b<m.length;b+=1)if(_=r.apply(m[b],u),!r.truthy(_))return _;return _}else if(i==="or"){for(b=0;b<m.length;b+=1)if(_=r.apply(m[b],u),r.truthy(_))return _;return _}else{if(i==="filter")return M=r.apply(m[0],u),w=m[1],Array.isArray(M)?M.filter(function(z){return r.truthy(r.apply(w,z))}):[];if(i==="map")return M=r.apply(m[0],u),w=m[1],Array.isArray(M)?M.map(function(z){return r.apply(w,z)}):[];if(i==="reduce")return M=r.apply(m[0],u),w=m[1],P=typeof m[2]<"u"?r.apply(m[2],u):null,Array.isArray(M)?M.reduce(function(z,q){return r.apply(w,{current:q,accumulator:z})},P):P;if(i==="all"){if(M=r.apply(m[0],u),w=m[1],!Array.isArray(M)||!M.length)return!1;for(b=0;b<M.length;b+=1)if(!r.truthy(r.apply(w,M[b])))return!1;return!0}else if(i==="none"){if(M=r.apply(m[0],u),w=m[1],!Array.isArray(M)||!M.length)return!0;for(b=0;b<M.length;b+=1)if(r.truthy(r.apply(w,M[b])))return!1;return!0}else if(i==="some"){if(M=r.apply(m[0],u),w=m[1],!Array.isArray(M)||!M.length)return!1;for(b=0;b<M.length;b+=1)if(r.truthy(r.apply(w,M[b])))return!0;return!1}}if(m=m.map(function(z){return r.apply(z,u)}),a.hasOwnProperty(i)&&typeof a[i]=="function")return a[i].apply(u,m);if(i.indexOf(".")>0){var j=String(i).split("."),G=a;for(b=0;b<j.length;b++){if(!G.hasOwnProperty(j[b]))throw new Error("Unrecognized operation "+i+" (failed at "+j.slice(0,b+1).join(".")+")");G=G[j[b]]}return G.apply(u,m)}throw new Error("Unrecognized operation "+i)},r.uses_data=function(l){var u=[];if(r.is_logic(l)){var i=r.get_operator(l),m=l[i];Array.isArray(m)||(m=[m]),i==="var"?u.push(m[0]):m.forEach(function(b){u.push.apply(u,r.uses_data(b))})}return n(u)},r.add_operation=function(l,u){a[l]=u},r.rm_operation=function(l){delete a[l]},r.rule_like=function(l,u){if(u===l||u==="@")return!0;if(u==="number")return typeof l=="number";if(u==="string")return typeof l=="string";if(u==="array")return Array.isArray(l)&&!r.is_logic(l);if(r.is_logic(u)){if(r.is_logic(l)){var i=r.get_operator(u),m=r.get_operator(l);if(i==="@"||i===m)return r.rule_like(r.get_values(l,!1),r.get_values(u,!1))}return!1}if(Array.isArray(u))if(Array.isArray(l)){if(u.length!==l.length)return!1;for(var b=0;b<u.length;b+=1)if(!r.rule_like(l[b],u[b]))return!1;return!0}else return!1;return!1},r})})(HA)),HA.exports}var D4e=O4e();const PD=qh(D4e),L4e=e=>{const[t,n]=$.useState(!1),r=$.useRef(e),a=$.useRef(e.structure.cond??[]),l=$.useRef(e.structure.localCond??[]);$.useEffect(()=>{r.current=e,a.current=e.structure.cond??[],l.current=e.structure.localCond??[]},[e]);const u=$.useMemo(()=>e.structure.cond??[],[e.structure.cond]),i=$.useMemo(()=>e.structure.localCond??[],[e.structure.localCond]),m=()=>{const b=r.current,_=b?.getDataValue?.()??{},w=b?.getParentValue?.()??{},M=a.current,P=l.current,G=[...M.map(z=>({condition:z,context:_})),...P.map(z=>({condition:z,context:w}))].some(({condition:z,context:q})=>!PD.apply(z,q));n(G)};return $.useEffect(()=>{if(u.length===0&&i.length===0){n(!1);return}m();const b=Ym.subscribe("updateField",()=>{m()});return()=>{b()}},[u,i]),t?null:S.jsx(S.Fragment,{children:e.children})},BU="snow",$U={toolbar:[["bold","italic","underline","strike"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],["link","image","video"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}},jU=["bold","italic","underline","strike","align","list","indent","size","header","link","image","video","color","background"];function w2(e,t){if(e==null)throw new TypeError("Cannot convert undefined or null to object");const n=Object(e);for(let r=1;r<arguments.length;r++){const a=arguments[r];if(a!=null)for(const l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n}const P4e=(e={theme:BU,modules:$U,formats:jU})=>{const t=$.useRef(null),[n,r]=$.useState(!1),[a,l]=$.useState({Quill:void 0,quillRef:t,quill:void 0,editorRef:t,editor:void 0});return $.useEffect(()=>{if(a.Quill||l(u=>w2(u,{Quill:require("quill").default})),a.Quill&&!a.quill&&t&&t.current&&n){const u=w2(e,{modules:w2($U,e.modules),formats:e.formats||jU,theme:e.theme||BU}),i=new a.Quill(t.current,u);l(w2(w2({},a),{quill:i,editor:i}))}r(!0)},[n,a,e]),a},F4e=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const r=()=>{const u=document.createElement("input");u.setAttribute("type","file"),u.setAttribute("accept","image/*"),u.click(),u.onchange=async()=>{const i=u?.files?.[0];if(!i)return;Ca.info(tt.key("uploading_image_wait"));const m=new FormData;m.append("file",i);try{const b=await ja.imageUpload(m);if(b?.url&&a){const _=a.getSelection();_&&a.insertEmbed(_.index,"image",b.url)}}catch{Ca.error(tt.key("error_uploading_image"))}}},{quill:a,quillRef:l}=P4e({modules:{toolbar:{container:[[{font:[]}],[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image"],[{script:"sub"},{script:"super"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]],handlers:{image:r}}},formats:["font","header","bold","italic","underline","strike","blockquote","list","bullet","indent","link","image","script","direction","size","color","background","align"],readOnly:!1,placeholder:" ..."});return $.useEffect(()=>{a&&(a.clipboard.dangerouslyPasteHTML(t||""),a.on("text-change",()=>{const u=a.root.innerHTML;n(u)}),setTimeout(()=>{a.blur()},100))},[a]),e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx("div",{dangerouslySetInnerHTML:{__html:t}}),S.jsx(La,{...e})]}):S.jsxs("div",{style:{width:"100%"},children:[S.jsx(ma,{...e}),S.jsx("div",{ref:l}),S.jsx(La,{...e})]})},UJ=new Map,aS=new Map;let lA=null;const B4e=50,GJ=(e,t)=>`${e}:${t}`,HJ=(e,t)=>{const n=GJ(e,t);return UJ.get(n)},zU=(e,t,n)=>{const r=GJ(e,t);UJ.set(r,n)},$4e=async()=>{if(aS.size===0)return;const e=Array.from(aS.entries());aS.clear();for(const[t,n]of e){const r=Array.from(n.ids),a=[],l=new Map;for(const u of r){const i=HJ(t,u);i!==void 0?l.set(u,i):a.push(u)}for(const[u,i]of l){const m=n.resolvers.get(u);if(m){for(const b of m)try{b(i)}catch(_){console.error("Error resolving cached promise:",_)}n.resolvers.delete(u),n.rejectors.delete(u)}}if(a.length>0)try{const u=await ja.displayValues({collection:t,ids:a}),i=new Map;if(u?.data){for(const m of u.data)if(m._id){const b=m.displayValue??null;zU(t,m._id,b),i.set(m._id,b)}}for(const m of a){const b=n.resolvers.get(m),_=i.get(m);if(_===void 0&&zU(t,m,null),b)for(const w of b)try{w(_??null)}catch(M){console.error("Error resolving promise:",M)}n.resolvers.delete(m),n.rejectors.delete(m)}}catch(u){for(const i of a){const m=n.resolvers.get(i),b=n.rejectors.get(i);if(b)for(const _ of b)try{_(u)}catch(w){console.error("Error rejecting promise:",w)}else if(m)for(const _ of m)try{_(null)}catch(w){console.error("Error resolving promise on error:",w)}n.resolvers.delete(i),n.rejectors.delete(i)}}}},j4e=(e,t)=>new Promise((n,r)=>{const a=HJ(e,t);if(a!==void 0){n(a);return}let l=aS.get(e);if(l||(l={collection:e,ids:new Set,resolvers:new Map,rejectors:new Map},aS.set(e,l)),l.ids.has(t)){const u=l.resolvers.get(t)||[],i=l.rejectors.get(t)||[];u.push(n),i.push(r),l.resolvers.set(t,u),l.rejectors.set(t,i)}else l.ids.add(t),l.resolvers.set(t,[n]),l.rejectors.set(t,[r]);lA&&clearTimeout(lA),lA=setTimeout(()=>{lA=null,$4e().catch(u=>{console.error("Error processing batch:",u)})},B4e)}),QE=({value:e,collection:t})=>{const[n,r]=$.useState(null),[a,l]=$.useState(!0);return $.useEffect(()=>{t&&e?(l(!0),j4e(t,e).then(u=>{r(u)}).catch(u=>{console.error("Error fetching display value:",u),r(null)}).finally(()=>{l(!1)})):(r(null),l(!1))},[e,t]),S.jsxs("span",{className:"text-sm font-medium",children:[n," ",a&&S.jsx(QA,{className:"size-4 animate-spin"})]})};function eC({className:e,style:t,direction:n="row",...r}){return S.jsx("div",{"data-slot":"grid",className:Dn("w-full ",n==="row"?"flex flex-row":"flex flex-col",e),style:{...t},...r})}function X0({className:e,width:t,style:n,...r}){const l={...t?{flexShrink:0,flexGrow:0,width:typeof t=="number"?`${t}px`:t}:{flexGrow:1,flexShrink:1,flexBasis:0,minWidth:0},...n,...t&&{width:typeof t=="number"?`${t}px`:t}};return S.jsx("div",{"data-slot":"grid-col",className:Dn("h-full flex flex-col",e),style:l,...r})}function yd({className:e,height:t,style:n,autoSize:r=!1,children:a,onRef:l,...u}){const i=$.useRef(null),[m,b]=$.useState(null);$.useEffect(()=>{l&&l(i)},[l]);const _=$.useCallback(()=>{if(i.current){const P=i.current.style.height;i.current.style.height="auto";const j=i.current.scrollHeight;i.current.style.height=P,b(G=>G!==j?j:G)}},[]);$.useEffect(()=>{if(!r){b(null);return}if(!i.current)return;const P=G=>{i.current&&Array.from(i.current.children).forEach(z=>{z instanceof HTMLElement&&G.observe(z)})},j=setTimeout(()=>{_()},0);if(typeof ResizeObserver<"u"){const G=new ResizeObserver(()=>{requestAnimationFrame(()=>{_()})});i.current&&(G.observe(i.current),P(G));const z=new MutationObserver(()=>{i.current&&(P(G),requestAnimationFrame(()=>{_()}))});return i.current&&z.observe(i.current,{childList:!0,subtree:!0}),()=>{clearTimeout(j),G.disconnect(),z.disconnect()}}else{const G=setInterval(()=>{_()},100);return()=>{clearTimeout(j),clearInterval(G)}}},[r,a,_]);const M={...r?{flexShrink:0,flexGrow:0,height:m!==null?`${m}px`:"auto",overflow:"visible"}:t?{flexShrink:0,flexGrow:0,height:typeof t=="number"?`${t}px`:t}:{flexGrow:1,flexShrink:1,flexBasis:0,minHeight:0},...n,...t&&!r&&{height:typeof t=="number"?`${t}px`:t},...r&&m!==null&&{height:`${m}px`}};return S.jsx("div",{ref:i,"data-slot":"grid-row",className:Dn("w-full flex flex-row overflow-y-auto",e),style:M,...u,children:a})}const qS=({total:e,limit:t,offset:n,onChangeOffset:r,mini:a})=>{const{isMobile:l}=Fr(),[u,i]=Ve.useState(1),[m,b]=Ve.useState(Math.ceil(e/t));Ve.useEffect(()=>{i(Math.floor(n/t)+1),b(Math.ceil(e/t))},[e,t,n]);const _=Y=>{Y<1||Y>m||Y!==u&&r((Y-1)*t)},w=l?Math.max(1,u-1):Math.max(1,u-3),M=l?Math.min(m,u+2):Math.min(m,u+3),P=[];for(let Y=w;Y<=M;Y++)P.push(Y);const j=u-1,G=u+1,z=j>=1,q=G<=m;return l?S.jsxs("div",{className:"flex items-center gap-2 justify-between mt-2 mx-2",children:[!a&&S.jsx("div",{className:"flex items-center gap-2",children:S.jsx(vu,{className:"px-3",rounded:!0,children:e})}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(vu,{rounded:!0,onClick:()=>_(j),"aria-disabled":!z,className:z?"cursor-pointer  px-3":"pointer-events-none opacity-50 px-3",children:S.jsx(_O,{className:"size-4"})}),P.map(Y=>S.jsx(vu,{rounded:!0,className:Y===u?"cursor-default  px-3":"cursor-pointer  px-3",outline:Y!==u,onClick:()=>_(Y),children:Y})),S.jsx(vu,{rounded:!0,onClick:()=>_(G),outline:!q,"aria-disabled":!q,className:q?"cursor-pointer  px-3":"pointer-events-none opacity-50  px-3",children:S.jsx(pS,{className:"size-4"})})]})]}):S.jsxs("div",{className:"flex items-center gap-2 justify-between mt-2 mx-2",children:[!a&&S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsxs(pl,{variant:"outline",className:"px-3",children:[tt.key("total")," ",e]}),S.jsxs(pl,{variant:"outline",className:"px-3",children:[tt.key("page")," ",u," / ",m]})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(pl,{variant:"outline",onClick:()=>_(j),"aria-disabled":!z,className:z?"cursor-pointer":"pointer-events-none opacity-50",children:S.jsx(_O,{className:"size-4"})}),P.map(Y=>S.jsx(pl,{className:Y===u?"cursor-default":"cursor-pointer",variant:Y===u?"secondary":"outline",onClick:()=>_(Y),children:Y})),S.jsx(pl,{onClick:()=>_(G),variant:"outline","aria-disabled":!q,className:q?"cursor-pointer":"pointer-events-none opacity-50",children:S.jsx(pS,{className:"size-4"})})]})]})},z4e=({collection:e,onSelect:t})=>{const[n,r]=$.useState(""),a=$.useRef(null),[l,u]=$.useState(null),i=()=>{clearTimeout(a.current),a.current=setTimeout(()=>{M()},1e3)},[m,b]=$.useState(!1),[_,w]=$.useState(0);$.useEffect(()=>{M()},[e,_]);const M=()=>{b(!0),ja.displayValues({collection:e,offset:_,search:n.trim()?n.trim():void 0}).then(P=>{P&&(u(P),b(!1))}).finally(()=>{b(!1)})};return $.useEffect(()=>{i()},[n]),S.jsxs(S.Fragment,{children:[S.jsxs(yd,{className:"flex flex-row gap-0",autoSize:!0,children:[S.jsx("div",{className:"flex-1",children:S.jsx(ml,{value:n,onChange:P=>r(P.target.value),placeholder:tt.key("search_placeholder")})}),S.jsx(Bn,{onClick:()=>{t?.(null)},size:"icon",className:"ml-1",variant:"secondary",children:S.jsx(hd,{})})]}),S.jsx(yd,{className:"flex flex-col pt-2",children:l?.data?.map(P=>S.jsx(FT,{onClick:()=>{t?.(P._id??null)},variant:"outline",children:S.jsx(BT,{children:S.jsx($T,{children:P.displayValue})})}))}),S.jsx(yd,{autoSize:!0,className:"flex flex-row",children:S.jsx(qS,{mini:!0,total:l?.total??0,limit:l?.limit??0,offset:l?.offset??0,onChangeOffset:P=>{w(P)}})})]})},VJ=Ve.createRef(),U4e=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),[a,l]=$.useState("");$.useRef(null);const[u,i]=$.useState(""),m=$.useRef(null);$.useImperativeHandle(t,()=>({open:_=>{i(_.collection),m.current=_.onSelect,r(!0)},close:()=>{r(!1)}}));const{isMobile:b}=Fr();return S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsx(Pc,{className:"sm:max-w-[500px] sm:h-[80vh]",children:S.jsx(eC,{className:" h-full w-full",children:S.jsxs(X0,{children:[b&&S.jsx(yd,{autoSize:!0,children:S.jsx(Oc,{title:"",right:S.jsx(ks,{iconOnly:!0,onClick:()=>r(!1),children:S.jsx(Yl,{})})})}),S.jsx(z4e,{collection:u,onSelect:_=>{m.current?.(_),r(!1)}})]})})})})}),G4e=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const{color:r,openDialog:a}=Fr();return e.structure.collection?e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",onClick:()=>{t&&e.structure?.collection&&t&&a({collection:e.structure?.collection??"",_id:t??"",modalKey:`view_${e.structure?.collection}_${t}`})},children:[t?S.jsx(QE,{value:t,collection:e.structure?.collection??""}):tt.key("no_data_short"),S.jsx(qoe,{})]}),S.jsx(La,{...e})]}):S.jsxs("div",{className:"w-full ",children:[S.jsx(ma,{...e}),S.jsxs(Bn,{variant:"outline",role:"combobox",className:"w-full justify-between",onClick:()=>{VJ.current?.open({collection:e.structure?.collection??"",onSelect:l=>{n(l)}})},children:[t?S.jsx(QE,{value:t,collection:e.structure?.collection??""}):tt.key("select_value"),S.jsx(wI,{className:"opacity-50"})]}),S.jsx(La,{...e})]}):S.jsx(RL,{...e})};var H4e=Symbol("radix.slottable");function V4e(e){const t=({children:n})=>S.jsx(S.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=H4e,t}var qJ="AlertDialog",[q4e]=vd(qJ,[mY]),gv=mY(),YJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=gv(t);return S.jsx(RY,{...r,...n,modal:!0})};YJ.displayName=qJ;var Y4e="AlertDialogTrigger",W4e=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gv(n);return S.jsx(yye,{...a,...r,ref:t})});W4e.displayName=Y4e;var Z4e="AlertDialogPortal",WJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=gv(t);return S.jsx(MY,{...r,...n})};WJ.displayName=Z4e;var X4e="AlertDialogOverlay",ZJ=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gv(n);return S.jsx(OY,{...a,...r,ref:t})});ZJ.displayName=X4e;var CE="AlertDialogContent",[K4e,Q4e]=q4e(CE),J4e=V4e("AlertDialogContent"),XJ=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...a}=e,l=gv(n),u=$.useRef(null),i=ni(t,u),m=$.useRef(null);return S.jsx(hye,{contentName:CE,titleName:KJ,docsSlug:"alert-dialog",children:S.jsx(K4e,{scope:n,cancelRef:m,children:S.jsxs(DY,{role:"alertdialog",...l,...a,ref:i,onOpenAutoFocus:kr(a.onOpenAutoFocus,b=>{b.preventDefault(),m.current?.focus({preventScroll:!0})}),onPointerDownOutside:b=>b.preventDefault(),onInteractOutside:b=>b.preventDefault(),children:[S.jsx(J4e,{children:r}),S.jsx(r6e,{contentRef:u})]})})})});XJ.displayName=CE;var KJ="AlertDialogTitle",QJ=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gv(n);return S.jsx(LY,{...a,...r,ref:t})});QJ.displayName=KJ;var JJ="AlertDialogDescription",eee=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gv(n);return S.jsx(PY,{...a,...r,ref:t})});eee.displayName=JJ;var e6e="AlertDialogAction",t6e=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,a=gv(n);return S.jsx(BL,{...a,...r,ref:t})});t6e.displayName=e6e;var tee="AlertDialogCancel",n6e=$.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:a}=Q4e(tee,n),l=gv(n),u=ni(t,a);return S.jsx(BL,{...l,...r,ref:u})});n6e.displayName=tee;var r6e=({contentRef:e})=>{const t=`\`${CE}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${CE}\` by passing a \`${JJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${CE}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return $.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},a6e=YJ,i6e=WJ,o6e=ZJ,s6e=XJ,l6e=QJ,u6e=eee;function c6e({...e}){return S.jsx(a6e,{"data-slot":"alert-dialog",...e})}function d6e({...e}){return S.jsx(i6e,{"data-slot":"alert-dialog-portal",...e})}function f6e({className:e,...t}){return S.jsx(o6e,{"data-slot":"alert-dialog-overlay",className:Dn("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function h6e({className:e,...t}){return S.jsxs(d6e,{children:[S.jsx(f6e,{}),S.jsx(s6e,{"data-slot":"alert-dialog-content",className:Dn("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...t})]})}function p6e({className:e,...t}){return S.jsx("div",{"data-slot":"alert-dialog-header",className:Dn("flex flex-col gap-2 text-center sm:text-left",e),...t})}function m6e({className:e,...t}){return S.jsx("div",{"data-slot":"alert-dialog-footer",className:Dn("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function g6e({className:e,...t}){return S.jsx(l6e,{"data-slot":"alert-dialog-title",className:Dn("text-lg font-semibold",e),...t})}function y6e({className:e,...t}){return S.jsx(u6e,{"data-slot":"alert-dialog-description",className:Dn("text-muted-foreground text-sm",e),...t})}const K0=Ve.createRef(),v6e=$.forwardRef((e,t)=>{const{isMobile:n}=Fr(),[r,a]=$.useState(!1),[l,u]=$.useState(null);return $.useImperativeHandle(t,()=>({open:i=>{u(i),a(!0)},close:()=>{a(!1)}})),n?S.jsx(XV,{opened:r,onBackdropClick:()=>a(!1),title:l?.title,content:l?.description,buttons:S.jsx("div",{className:"flex gap-2 flex-col w-full",children:l?.buttons.map(i=>S.jsx(TA,{onClick:()=>{a(!1),i.onClick()},strong:!0,children:i.label},i.label))})}):S.jsx(c6e,{open:r,onOpenChange:a,children:S.jsxs(h6e,{children:[S.jsxs(p6e,{children:[S.jsx(g6e,{children:l?.title}),S.jsx(y6e,{children:l?.description})]}),S.jsx(m6e,{children:l?.buttons.map(i=>S.jsx(Bn,{onClick:()=>{K0.current?.close(),i.onClick()},children:i.label},i.label))})]})})});var BN="Checkbox",[b6e]=vd(BN),[_6e,HF]=b6e(BN);function x6e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:a,disabled:l,form:u,name:i,onCheckedChange:m,required:b,value:_="on",internal_do_not_use_render:w}=e,[M,P]=Zf({prop:n,defaultProp:a??!1,onChange:m,caller:BN}),[j,G]=$.useState(null),[z,q]=$.useState(null),Y=$.useRef(!1),J=j?!!u||!!j.closest("form"):!0,ne={checked:M,disabled:l,setChecked:P,control:j,setControl:G,name:i,form:u,value:_,hasConsumerStoppedPropagationRef:Y,required:b,defaultChecked:Mb(a)?!1:a,isFormControl:J,bubbleInput:z,setBubbleInput:q};return S.jsx(_6e,{scope:t,...ne,children:E6e(w)?w(ne):r})}var nee="CheckboxTrigger",ree=$.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},a)=>{const{control:l,value:u,disabled:i,checked:m,required:b,setControl:_,setChecked:w,hasConsumerStoppedPropagationRef:M,isFormControl:P,bubbleInput:j}=HF(nee,e),G=ni(a,_),z=$.useRef(m);return $.useEffect(()=>{const q=l?.form;if(q){const Y=()=>w(z.current);return q.addEventListener("reset",Y),()=>q.removeEventListener("reset",Y)}},[l,w]),S.jsx(xa.button,{type:"button",role:"checkbox","aria-checked":Mb(m)?"mixed":m,"aria-required":b,"data-state":uee(m),"data-disabled":i?"":void 0,disabled:i,value:u,...r,ref:G,onKeyDown:kr(t,q=>{q.key==="Enter"&&q.preventDefault()}),onClick:kr(n,q=>{w(Y=>Mb(Y)?!0:!Y),j&&P&&(M.current=q.isPropagationStopped(),M.current||q.stopPropagation())})})});ree.displayName=nee;var aee=$.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:l,required:u,disabled:i,value:m,onCheckedChange:b,form:_,...w}=e;return S.jsx(x6e,{__scopeCheckbox:n,checked:a,defaultChecked:l,disabled:i,required:u,onCheckedChange:b,name:r,form:_,value:m,internal_do_not_use_render:({isFormControl:M})=>S.jsxs(S.Fragment,{children:[S.jsx(ree,{...w,ref:t,__scopeCheckbox:n}),M&&S.jsx(lee,{__scopeCheckbox:n})]})})});aee.displayName=BN;var iee="CheckboxIndicator",oee=$.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,l=HF(iee,n);return S.jsx(ec,{present:r||Mb(l.checked)||l.checked===!0,children:S.jsx(xa.span,{"data-state":uee(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});oee.displayName=iee;var see="CheckboxBubbleInput",lee=$.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:a,checked:l,defaultChecked:u,required:i,disabled:m,name:b,value:_,form:w,bubbleInput:M,setBubbleInput:P}=HF(see,e),j=ni(n,P),G=$L(l),z=NI(r);$.useEffect(()=>{const Y=M;if(!Y)return;const J=window.HTMLInputElement.prototype,ie=Object.getOwnPropertyDescriptor(J,"checked").set,ue=!a.current;if(G!==l&&ie){const oe=new Event("click",{bubbles:ue});Y.indeterminate=Mb(l),ie.call(Y,Mb(l)?!1:l),Y.dispatchEvent(oe)}},[M,G,l,a]);const q=$.useRef(Mb(l)?!1:l);return S.jsx(xa.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??q.current,required:i,disabled:m,name:b,value:_,form:w,...t,tabIndex:-1,ref:j,style:{...t.style,...z,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lee.displayName=see;function E6e(e){return typeof e=="function"}function Mb(e){return e==="indeterminate"}function uee(e){return Mb(e)?"indeterminate":e?"checked":"unchecked"}function iS({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(Gce,{"data-slot":"checkbox",checked:!!t.checked}):S.jsx(aee,{"data-slot":"checkbox",className:Dn("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:S.jsx(oee,{"data-slot":"checkbox-indicator",className:"grid place-content-center text-current transition-none",children:S.jsx(h1,{className:"size-3.5"})})})}const uA=({collection:e,ignoreIds:t,includeIds:n,onLeftClick:r,onRightClick:a,onClear:l})=>{const{isMobile:u}=Fr(),[i,m]=$.useState(""),b=$.useRef(null),[_,w]=$.useState(null),M=()=>{clearTimeout(b.current),b.current=setTimeout(()=>{J()},1e3)},[P,j]=$.useState(!1),[G,z]=$.useState([]),[q,Y]=$.useState(0);$.useEffect(()=>{J()},[e,t,n,q]);const J=()=>{j(!0),z([]),ja.displayValues({collection:e,offset:q,filter:{_id:{nin:t??[],in:n??[]}},search:i.trim()?i.trim():void 0}).then(ie=>{ie&&(w(ie),j(!1))}).finally(()=>{j(!1)})};$.useEffect(()=>{M()},[i]);const ne=ie=>{z(ue=>ue.includes(ie)?ue.filter(oe=>oe!==oe):[...ue,ie])};return u?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex  mx-4  sticky top-0 z-10",children:S.jsx(KV,{value:i,onChange:ie=>m(ie.target.value),placeholder:tt.key("search_placeholder")})}),S.jsx(Pb,{outline:!0,style:{marginBottom:window.innerHeight*.5,opacity:P?.5:1,pointerEvents:P?"none":"auto"},children:_?.data?.map(ie=>S.jsx(ql,{dividers:!0,onClick:()=>{ne(ie._id)},media:S.jsx(iS,{onCheckedChange:ue=>{alert(1)},checked:!!ie._id&&G.includes(ie._id)}),title:ie.displayValue}))}),!!r&&S.jsx(Jm,{style:{opacity:G.length?1:.5},className:"fixed left-1/2 bottom-safe-20 transform -translate-x-1/2 z-20",text:S.jsx("div",{className:" text-center ",children:tt.key("remove_selected")}),textPosition:"after",icon:S.jsx(hd,{}),onClick:()=>{G.length&&r(G)}}),!!a&&S.jsx(Jm,{style:{opacity:G.length?1:.5},onClick:()=>{G.length&&a(G)},className:"fixed left-1/2 bottom-safe-20 transform -translate-x-1/2 z-20 ",text:S.jsx("div",{className:" text-center ",children:tt.key("add_selected")}),textPosition:"after",icon:S.jsx(gS,{})}),S.jsx(vL,{className:"left-0 fixed bottom-0 w-full mt-auto",children:S.jsx(qS,{mini:!0,total:_?.total??0,limit:_?.limit??0,offset:_?.offset??0,onChangeOffset:ie=>{Y(ie)}})})]}):S.jsxs("div",{children:[S.jsxs("div",{className:"flex flex-row gap-0",children:[r?S.jsx(Bn,{size:"icon",disabled:!G.length,className:"mr-1",onClick:()=>{r(G)},variant:"secondary",children:S.jsx(YH,{})}):S.jsx("div",{className:" flex items-center justify-center mx-2",onClick:()=>{_?.data?.length===G.length?z([]):z(_?.data?.map(ie=>ie._id)??[])},children:S.jsx(iS,{checked:_?.data?.length===G.length})}),S.jsx("div",{className:"flex-1",children:S.jsx(ml,{value:i,onChange:ie=>m(ie.target.value),placeholder:tt.key("search_placeholder")})}),a?S.jsx(Bn,{disabled:!G.length,onClick:()=>{a(G)},size:"icon",className:"ml-1",variant:"secondary",children:S.jsx(doe,{})}):S.jsx(Bn,{onClick:()=>{z([]),l?.()},size:"icon",className:"ml-1",variant:"secondary",children:S.jsx(hd,{})})]}),S.jsx(eK,{className:"pt-1",style:{height:window.innerHeight*.5,opacity:P?.5:1,pointerEvents:P?"none":"auto"},children:_?.data?.map(ie=>S.jsxs(FT,{onClick:()=>{z(ue=>ie._id?G.includes(ie._id)?ue.filter(oe=>oe!==ie._id):[...ue,ie._id]:ue)},variant:"outline",children:[S.jsx(eF,{children:S.jsx(iS,{checked:!!ie._id&&G.includes(ie._id)})}),S.jsx(BT,{children:S.jsx($T,{children:ie.displayValue})})]}))}),S.jsx(qS,{mini:!0,total:_?.total??0,limit:_?.limit??0,offset:_?.offset??0,onChangeOffset:ie=>{Y(ie)}})]})},cee=Ve.createRef(),w6e=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),[a,l]=$.useState(""),[u,i]=$.useState(null),m=$.useRef(null),[b,_]=$.useState([]),{isMobile:w}=Fr();$.useImperativeHandle(t,()=>({open:P=>{J0&&console.log("DEV: Open IDsSearchCommand",P),l(P.collection),_(P.values),m.current=P.onSelect,r(!0)},close:()=>{r(!1)}}));const M=()=>{if(r(!1),b.length===0){m.current?.([]);return}else m.current?.(b)};if($.useEffect(()=>{a&&ja.collection({collection:a}).then(P=>{i(P?.structure??null)})},[a]),w){const[P,j]=$.useState("all");return S.jsx(Yh,{opened:n,onBackdropClick:()=>r(!1),children:S.jsxs(Dc,{className:"flex flex-col",children:[S.jsx(Oc,{title:u?.title,right:S.jsx(ks,{onClick:()=>{K0.current?.open({title:tt.key("confirm_ids_selection"),description:tt.key("confirm_ids_selection_description"),buttons:[{label:tt.key("cancel"),onClick:()=>{r(!1)}},{label:tt.key("save"),onClick:()=>{M()}}]})},children:S.jsx(Yl,{})}),subnavbar:S.jsxs(qce,{children:[S.jsx(r9,{active:P==="all",onClick:()=>j("all"),value:"all",children:tt.key("all")}),S.jsxs(r9,{active:P==="selected",onClick:()=>j("selected"),value:"selected",children:[tt.key("selected")," ",S.jsx(n3,{className:"ml-2",children:b.length})]})]})}),P==="all"&&!!u&&S.jsx(uA,{ignoreIds:b,onRightClick:G=>{_(z=>ck.uniq([...z,...G]))},collection:a}),P==="selected"&&!!u&&S.jsx(uA,{onClear:()=>{_([])},includeIds:b.length?b:["none"],onLeftClick:G=>{_(z=>z.filter(q=>!G.includes(q)))},collection:a})]})})}return S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsxs(Pc,{className:"sm:max-w-[800px] ",children:[S.jsx(F1,{children:S.jsx(qb,{children:u?.title})}),S.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[!!u&&S.jsx(uA,{ignoreIds:b,onRightClick:P=>{_(j=>ck.uniq([...j,...P]))},collection:a}),!!u&&S.jsx(uA,{onClear:()=>{_([])},includeIds:b.length?b:["none"],onLeftClick:P=>{_(j=>j.filter(G=>!P.includes(G)))},collection:a})]}),S.jsx(B1,{children:S.jsxs("div",{className:"flex flex-row gap-2 justify-end",children:[S.jsx(Bn,{variant:"secondary",onClick:()=>{r(!1)},children:tt.key("cancel")}),S.jsxs(Bn,{variant:"default",onClick:()=>{M()},children:[S.jsx(s1,{})," ",tt.key("save")]})]})})]})})}),S6e=e=>{const[t,n]=$.useState(e.getValue()??[]);return $.useEffect(()=>{e.setValue(t)},[t]),e.structure?.collection?e.onlyShow||!e.structure.editable?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full h-auto",children:S.jsx("div",{className:"flex flex-wrap gap-2 w-full",children:t?.length>0?S.jsx(S.Fragment,{children:t?.map((r,a)=>S.jsx(pl,{children:S.jsx(QE,{value:r,collection:e.structure?.collection??""})},r))}):tt.key("no_data_short")})}),S.jsx(La,{...e})]}):S.jsxs(Ve.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(Bn,{onClick:()=>{cee.current?.open({collection:e.structure?.collection??"",values:t,onSelect:r=>{n(r)}})},variant:"outline",className:"w-full h-auto",children:S.jsx("div",{className:"flex flex-wrap gap-2 w-full",children:t?.length>0?S.jsx(S.Fragment,{children:t?.map((r,a)=>S.jsx(pl,{children:S.jsx(QE,{value:r,collection:e.structure?.collection??""})},r))}):tt.key("no_data_short")})}),S.jsx(La,{...e})]}):S.jsx(RL,{...e})},GM=e=>{const[t,n]=$.useState(e.getValue());return $.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",onClick:()=>{t&&qf(t)},children:[t||" - ",S.jsx(p1,{})]}),S.jsx(La,{...e})]}):S.jsxs(S.Fragment,{children:[S.jsxs(Bq,{children:[S.jsx($q,{asChild:!0,children:S.jsx(ma,{...e})}),S.jsx(jq,{children:e.structure.type=="float"?tt.key("enabled_float_number"):tt.key("only_int_number")})]}),S.jsx(ml,{placeholder:e.structure.title??"",min:e.structure.min??void 0,max:e.structure.max??void 0,className:"w-full",value:t,onChange:r=>{let a=r.target.value;e.structure.type=="float"?(a.includes(",")&&(a=a.replace(",",".")),a=a.replace(/[^0-9.]/g,"")):a=a.replace(/[^0-9.,-]/g,""),n(a)}}),S.jsx(La,{...e})]})},FD=e=>{for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*r));return t},T6e=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const[r,a]=$.useState(!1),l=u=>{let i=u.target.value??null;n(i)};return e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:S.jsx(xO,{className:"text-gray-300 text-base "})}),S.jsx(La,{...e})]}):S.jsxs(Ve.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(Bn,{onClick:()=>a(!0),children:tt.key("set_password")}),t&&S.jsxs(pl,{onClick:()=>{n(null)},className:"ml-4",children:[tt.key("new_password"),": ",t]}),S.jsx(La,{...e}),S.jsx(Lc,{open:r,onOpenChange:()=>a(!1),children:S.jsxs(Pc,{children:[S.jsx(qb,{children:tt.key("set_password")}),S.jsx(ml,{className:"w-full",value:t,onChange:l}),S.jsx(Bn,{variant:"outline",style:{marginTop:15,width:"100%"},onClick:()=>n(FD(16)),children:tt.key("generate_random_password")}),S.jsx(Bn,{style:{marginTop:15,width:"100%"},onClick:()=>a(!1),children:tt.key("close")})]})})]})},C6e=e=>{const[t,n]=$.useState(e.getValue());return $.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",onClick:()=>{t&&qf(`+${t}`)},children:t?`+${t}`:tt.key("no_data_short")}),S.jsx(La,{...e})]}):S.jsxs(Ve.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(ml,{phoneInput:!0,value:t?String(t):void 0,onChange:r=>{n(r.target.value)}}),S.jsx(La,{...e})]})},A6e=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const r=e.structure.items?.from??null;return e.onlyShow||!e.structure.editable?!t?.from&&!t?.to?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:tt.key("no_data_short")})]}):r?.type=="unixdate"?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:S.jsxs("div",{children:[yo.unix(t?.from).format("DD.MM.YYYY")," - ",yo.unix(t?.to).format("DD.MM.YYYY")]})})]}):r?.type=="unixdatetime"?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:S.jsxs("div",{children:[yo.unix(t?.from).format("DD.MM.YYYY HH:mm")," - ",yo.unix(t?.to).format("DD.MM.YYYY HH:mm")]})})]}):r?.type=="time"?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:S.jsxs("div",{children:[t?.from?.h??"",":",t?.from?.m??""," - ",t?.to?.h??"",":",t?.to?.m??""]})})]}):S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:S.jsxs("div",{children:[t?.from??""," - ",t?.to??""]})})]}):S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(IE,{children:na.map(e.structure?.items,(a,l)=>S.jsx(JE,{inline:e.inline,getDataStructure:e.getDataStructure,structureLevel:0,arrayLevel:e.arrayLevel,getParentValue:()=>e.getValue(),getDataValue:e.getDataValue,getValue:()=>e.getValue()?.[l],rootParent:e.parent,parent:e.structure,setValue:u=>{e.setValue({...e.getValue(),[l]:u})},hideLabel:!0,structure:{...a}}))}),S.jsx(La,{...e})]})};function k6e(e){return tc({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"},child:[]}]})(e)}const I6e=e=>{const[t,n]=$.useState(e.getValue());$.useEffect(()=>{e.setValue(t)},[t]);const r=a=>{n(a)};return e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{variant:"secondary",className:"w-full flex items-center justify-between",children:t?S.jsxs(S.Fragment,{children:[t," ",S.jsx(zse,{})]}):tt.key("no_data_short")})]}):S.jsxs(Ve.Fragment,{children:[S.jsx(ma,{...e}),S.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(a=>S.jsx(Bn,{variant:"secondary",onClick:()=>r(a),className:"w-full flex items-center justify-between",children:S.jsx(k6e,{color:a<=t?"yellow":"gray",size:22})},a))}),S.jsx(La,{...e})]})};var $N="Tabs",[N6e]=vd($N,[Sw]),dee=Sw(),[R6e,VF]=N6e($N),fee=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:l,orientation:u="horizontal",dir:i,activationMode:m="automatic",...b}=e,_=W1(i),[w,M]=Zf({prop:r,onChange:a,defaultProp:l??"",caller:$N});return S.jsx(R6e,{scope:n,baseId:eg(),value:w,onValueChange:M,orientation:u,dir:_,activationMode:m,children:S.jsx(xa.div,{dir:_,"data-orientation":u,...b,ref:t})})});fee.displayName=$N;var hee="TabsList",pee=$.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,l=VF(hee,n),u=dee(n);return S.jsx(K8,{asChild:!0,...u,orientation:l.orientation,dir:l.dir,loop:r,children:S.jsx(xa.div,{role:"tablist","aria-orientation":l.orientation,...a,ref:t})})});pee.displayName=hee;var mee="TabsTrigger",gee=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...l}=e,u=VF(mee,n),i=dee(n),m=bee(u.baseId,r),b=_ee(u.baseId,r),_=r===u.value;return S.jsx(Q8,{asChild:!0,...i,focusable:!a,active:_,children:S.jsx(xa.button,{type:"button",role:"tab","aria-selected":_,"aria-controls":b,"data-state":_?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:m,...l,ref:t,onMouseDown:kr(e.onMouseDown,w=>{!a&&w.button===0&&w.ctrlKey===!1?u.onValueChange(r):w.preventDefault()}),onKeyDown:kr(e.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&u.onValueChange(r)}),onFocus:kr(e.onFocus,()=>{const w=u.activationMode!=="manual";!_&&!a&&w&&u.onValueChange(r)})})})});gee.displayName=mee;var yee="TabsContent",vee=$.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:l,...u}=e,i=VF(yee,n),m=bee(i.baseId,r),b=_ee(i.baseId,r),_=r===i.value,w=$.useRef(_);return $.useEffect(()=>{const M=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(M)},[]),S.jsx(ec,{present:a||_,children:({present:M})=>S.jsx(xa.div,{"data-state":_?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":m,hidden:!M,id:b,tabIndex:0,...u,ref:t,style:{...e.style,animationDuration:w.current?"0s":void 0},children:M&&l})})});vee.displayName=yee;function bee(e,t){return`${e}-trigger-${t}`}function _ee(e,t){return`${e}-content-${t}`}var M6e=fee,O6e=pee,D6e=gee,L6e=vee;function xee({className:e,...t}){return S.jsx(M6e,{"data-slot":"tabs",className:Dn("flex flex-col gap-2",e),...t})}function Eee({className:e,...t}){return S.jsx(O6e,{"data-slot":"tabs-list",className:Dn("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function VA({className:e,...t}){return S.jsx(D6e,{"data-slot":"tabs-trigger",className:Dn("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function qA({className:e,...t}){return S.jsx(L6e,{"data-slot":"tabs-content",className:Dn("flex-1 outline-none",e),...t})}const P6e=e=>{const{color:t}=Fr(),[n,r]=$.useState(!1);$.useEffect(()=>{r(xde(e.getValue()))},[]);const a=()=>e.getValue(),l=na.groupBy(e.structure?.items,u=>u.group?.key);return na.size(l)>1?S.jsxs(xee,{className:"w-[400px]",children:[S.jsx(Eee,{children:na.map(l,(u,i)=>S.jsx(VA,{value:i,children:u[0].group?.title||""}))}),na.map(l,(u,i)=>S.jsx(qA,{value:i,children:S.jsx(IE,{children:na.map(u,m=>S.jsx(JE,{inline:e.inline,getDataStructure:e.getDataStructure,structureLevel:e.structureLevel+1,getDataValue:e.getDataValue,rootParent:e.parent,onlyShow:e.onlyShow,arrayLevel:e.arrayLevel,getValue:()=>{if(m.key)return e.getValue()?.[m.key]},getParentValue:a,parent:e.structure,setValue:b=>{m.key&&e.setValue({...e.getValue(),[m.key]:b})},structure:m}))})}))]}):S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(La,{...e}),S.jsx(IE,{style:{},children:na.map(e.structure?.items,(u,i)=>S.jsx(JE,{inline:e.inline,descriptions:e.descriptions?.items?.[i],structureLevel:e.structureLevel+1,getDataStructure:e.getDataStructure,rootParent:e.parent,onlyShow:e.onlyShow,arrayLevel:e.arrayLevel,getValue:()=>e.getValue()?.[i],getParentValue:a,getDataValue:e.getDataValue,parent:e.structure,setValue:m=>{e.setValue({...e.getValue(),[i]:m})},structure:u}))})]})},S2=e=>{const[t,n]=$.useState(e.getValue());return $.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsxs(Bn,{onClick:()=>{t&&qf(t)},variant:"secondary",className:"w-full flex items-center justify-between truncate",children:[t||tt.key("no_data_short"),"  ",S.jsx(p1,{})]}),S.jsx(La,{...e})]}):e.structure.type=="text"?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(aK,{placeholder:e.structure.title??"",className:"w-full",value:t,onChange:r=>{n(r.target.value)}}),S.jsx(La,{...e})]}):e.structure.type=="login"?S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(ml,{value:t,placeholder:e.structure.title??"",onChange:r=>{const a=r.target.value.replace(/[^a-zA-Z0-9_-]/g,"");n(a)}}),S.jsx(La,{...e})]}):S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsx(ml,{placeholder:e.structure.title??"",value:t,onChange:r=>{n(r.target.value)}}),S.jsx(La,{...e})]})},F6e=e=>{const[t,n]=$.useState(e.getValue());return $.useEffect(()=>{e.setValue(t)},[t]),e.onlyShow||!e.structure.editable?S.jsxs("div",{children:[S.jsx(ma,{...e}),S.jsx(Bn,{onClick:()=>{t&&qf(`${t?.h??""}:${t?.m??""}`)},variant:"secondary",className:"w-full flex items-center justify-between",children:t?`${t?.h??""}:{localValue?.m ?? ''}`:tt.key("no_data_short")}),S.jsx(La,{...e})]}):S.jsxs(S.Fragment,{children:[S.jsx(ma,{...e}),S.jsxs(cX,{className:"w-full",openOnFocus:!0,value:t?.h!==void 0&&t?.m!==void 0?`${t?.h}:${t?.m}`:"",onValueChange:r=>{n({h:Number(r.split(":")[0]),m:Number(r.split(":")[1])})},children:[S.jsxs(fX,{children:[S.jsx(kk,{placeholder:"00",segment:"hour"}),S.jsx(xX,{}),S.jsx(kk,{placeholder:"00",segment:"minute"}),S.jsx(hX,{})]}),S.jsxs(gX,{children:[S.jsx(vX,{}),S.jsx(bX,{}),S.jsx(_X,{})]})]}),S.jsx(La,{...e})]})},B6e=e=>e.inAdmin&&!e.hide&&e.type!="uuid",JE=e=>{const{hideLabel:t,collapse:n,rootParent:r,structure:a,getParentValue:l,getValue:u,setValue:i,onlyShow:m,parent:b,descriptions:_,arrayLevel:w}=e;if(!B6e(a))return S.jsx(S.Fragment,{});const M={string:S2,text:S2,bool:Rye,float:GM,int:GM,ID:G4e,login:S2,password:T6e,email:S2,url:S2,enums:iTe,phone:C6e,fileAudio:sy,fileDocumentLink:sy,fileDocument:sy,fileImageID:sy,fileVideoID:sy,fileAudioID:sy,fileDocumentID:sy,fileImageLink:sy,fileImage:sy,fileVideo:sy,html:F4e,enum:aTe,range:A6e,unixdate:y7,unixdatetime:y7,color:OEe,gradient:R4e,array:wye,structure:P6e,time:F6e,rate:I6e,geopoint:tCe,IDs:S6e,balance:GM,geoRegion:N4e,code:Axe};if(a?.type){if(a.type=="action"&&a.actionPosition!="inline")return S.jsx(S.Fragment,{});if(M[a?.type]){const P=M[a?.type];let j="px-1 py-2";if(b?.type=="array"&&(j="px-0 pb-1"),a?.type=="structure"&&n&&(j="px-0 py-1"),P)return S.jsx(L4e,{...e,children:S.jsx(vS,{className:"ItemData",col:a.col??24,children:S.jsxs("div",{className:j,style:{position:"relative"},children:[J0&&S.jsxs("div",{onClick:()=>{qf(a.type??""),console.log("DEV: Copy structure",a),console.log("DEV: PROP VALUE",e),console.log("DEV: PROP VALUE",e.getValue())},className:"opacity-10 hover:opacity-100 transition-opacity duration-300 cursor-pointer text-[10px] px-1 font-bold text-white absolute top-0 right-2 bg-red-500 ",children:[a.key," ",a.type]}),S.jsx(P,{descriptions:_,hideLabel:t,onlyShow:m,arrayLevel:w,collapse:n,parent:b,structure:a,getValue:u,getParentValue:l,setValue:i})]})})})}}return S.jsx(vS,{col:a.col??24,children:S.jsx(RL,{...e})})},ov=({structure:e,valuesRef:t,groupKey:n,noPaddingBottom:r,inline:a=!1,onlyShow:l=!1,descriptions:u})=>{if(!e)return null;const i=({children:m})=>a?S.jsx("div",{className:"flex flex-wrap gap-4",children:m}):S.jsx("div",{className:"overflow-y-auto flex-1 p-4",children:S.jsx(IE,{style:{paddingBottom:r?"0":"30vh"},children:m})});return na.size(e.items)>0?S.jsx(i,{children:na.map(n?na.filter(e.items,m=>m.group?.key===n):e.items,m=>m?S.jsx(JE,{inline:a,structureLevel:0,descriptions:u?.[m?.key]??null,onlyShow:l,arrayLevel:0,parent:null,rootParent:null,getDataStructure:()=>e,getParentValue:()=>t.current,getDataValue:()=>t.current,getValue:()=>m?.key?t.current[m?.key]??void 0:void 0,setValue:b=>{t.current[m.key]=b,Ym.execute("updateField",m.key),J0&&console.log("DEV: Update field Event",m.key,b)},structure:m}):null)}):S.jsx(i,{children:S.jsx(JE,{inline:a,structureLevel:0,onlyShow:l,descriptions:u,arrayLevel:0,parent:null,rootParent:null,getDataStructure:()=>e,getParentValue:()=>t.current,getDataValue:()=>t.current,getValue:()=>e?.key?t.current[e?.key]??void 0:void 0,setValue:m=>{t.current[e.key]=m,Ym.execute("updateField",e.key),J0&&console.log("DEV: Update field Event",e.key,m)},structure:e})})};function Mi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error(typeof e=="number"?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var $6e={};function qF(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:$6e}var wee=Object.assign,Xk=Object.getOwnPropertyDescriptor,Ay=Object.defineProperty,tC=Object.prototype,BD=[];Object.freeze(BD);var See={};Object.freeze(See);var j6e=typeof Proxy<"u",z6e=Object.toString();function Tee(){j6e||Mi("Proxy not available")}function Cee(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var dE=function(){};function cg(e){return typeof e=="function"}function M1(e){var t=typeof e;switch(t){case"string":case"symbol":case"number":return!0}return!1}function jN(e){return e!==null&&typeof e=="object"}function Ub(e){if(!jN(e))return!1;var t=Object.getPrototypeOf(e);if(t==null)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n.toString()===z6e}function Aee(e){var t=e?.constructor;return t?t.name==="GeneratorFunction"||t.displayName==="GeneratorFunction":!1}function YF(e,t,n){Ay(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function kee(e,t,n){Ay(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function Jb(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(r){return jN(r)&&r[n]===!0}}function Ow(e){return e!=null&&Object.prototype.toString.call(e)==="[object Map]"}function U6e(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r=Object.getPrototypeOf(n);return r===null}function B0(e){return e!=null&&Object.prototype.toString.call(e)==="[object Set]"}var Iee=typeof Object.getOwnPropertySymbols<"u";function G6e(e){var t=Object.keys(e);if(!Iee)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter(function(r){return tC.propertyIsEnumerable.call(e,r)})):t}var WF=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Iee?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function Nee(e){return e===null?null:typeof e=="object"?""+e:e}function Ob(e,t){return tC.hasOwnProperty.call(e,t)}var H6e=Object.getOwnPropertyDescriptors||function(t){var n={};return WF(t).forEach(function(r){n[r]=Xk(t,r)}),n};function Ph(e,t){return!!(e&t)}function Fh(e,t,n){return n?e|=t:e&=~t,e}function UU(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function V6e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Y6e(r.key),r)}}function Dw(e,t,n){return t&&V6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fE(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=W6e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ew.apply(null,arguments)}function Ree(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$D(e,t)}function $D(e,t){return $D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},$D(e,t)}function q6e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y6e(e){var t=q6e(e,"string");return typeof t=="symbol"?t:t+""}function W6e(e,t){if(e){if(typeof e=="string")return UU(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?UU(e,t):void 0}}var hE=Symbol("mobx-stored-annotations");function ky(e){function t(n,r){if(rC(r))return e.decorate_20223_(n,r);nC(n,r,e)}return Object.assign(t,e)}function nC(e,t,n){Ob(e,hE)||YF(e,hE,ew({},e[hE])),e5e(n)||(e[hE][t]=n)}function rC(e){return typeof e=="object"&&typeof e.kind=="string"}var wa=Symbol("mobx administration"),e_=(function(){function e(n){n===void 0&&(n="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=$i.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=n}var t=e.prototype;return t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.reportObserved=function(){return qee(this)},t.reportChanged=function(){Hp(),Yee(this),Vp()},t.toString=function(){return this.name_},Dw(e,[{key:"isBeingObserved",get:function(){return Ph(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ph(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ph(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Fh(this.flags_,e.diffValueMask_,r===1)}}])})();e_.isBeingObservedMask_=1;e_.isPendingUnobservationMask_=2;e_.diffValueMask_=4;var ZF=Jb("Atom",e_);function Mee(e,t,n){t===void 0&&(t=dE),n===void 0&&(n=dE);var r=new e_(e);return t!==dE&&a8e(r,t),n!==dE&&Qee(r,n),r}function Z6e(e,t){return lte(e,t)}function X6e(e,t){return Object.is?Object.is(e,t):e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Kk={structural:Z6e,default:X6e};function O1(e,t,n){return eB(e)?e:Array.isArray(e)?Rc.array(e,{name:n}):Ub(e)?Rc.object(e,void 0,{name:n}):Ow(e)?Rc.map(e,{name:n}):B0(e)?Rc.set(e,{name:n}):typeof e=="function"&&!WS(e)&&!ZS(e)?Aee(e)?tw(e):YS(n,e):e}function K6e(e,t,n){if(e==null||cC(e)||lC(e)||t_(e)||Hm(e))return e;if(Array.isArray(e))return Rc.array(e,{name:n,deep:!1});if(Ub(e))return Rc.object(e,void 0,{name:n,deep:!1});if(Ow(e))return Rc.map(e,{name:n,deep:!1});if(B0(e))return Rc.set(e,{name:n,deep:!1})}function zN(e){return e}function Q6e(e,t){return lte(e,t)?t:e}var J6e="override";function e5e(e){return e.annotationType_===J6e}function aC(e,t){return{annotationType_:e,options_:t,make_:t5e,extend_:n5e,decorate_20223_:r5e}}function t5e(e,t,n,r){var a;if((a=this.options_)!=null&&a.bound)return this.extend_(e,t,n,!1)===null?0:1;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if(WS(n.value))return 1;var l=Oee(e,this,t,n,!1);return Ay(r,t,l),2}function n5e(e,t,n,r){var a=Oee(e,this,t,n);return e.defineProperty_(t,a,r)}function r5e(e,t){var n=t.kind,r=t.name,a=t.addInitializer,l=this,u=function(b){var _,w,M,P;return D1((_=(w=l.options_)==null?void 0:w.name)!=null?_:r.toString(),b,(M=(P=l.options_)==null?void 0:P.autoAction)!=null?M:!1)};if(n=="field")return function(m){var b,_=m;return WS(_)||(_=u(_)),(b=l.options_)!=null&&b.bound&&(_=_.bind(this),_.isMobxAction=!0),_};if(n=="method"){var i;return WS(e)||(e=u(e)),(i=this.options_)!=null&&i.bound&&a(function(){var m=this,b=m[r].bind(m);b.isMobxAction=!0,m[r]=b}),e}Mi("Cannot apply '"+l.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):"+(`
'`+l.annotationType_+"' can only be used on properties with a function value."))}function a5e(e,t,n,r){t.annotationType_,r.value}function Oee(e,t,n,r,a){var l,u,i,m,b,_,w;a===void 0&&(a=zr.safeDescriptors),a5e(e,t,n,r);var M=r.value;if((l=t.options_)!=null&&l.bound){var P;M=M.bind((P=e.proxy_)!=null?P:e.target_)}return{value:D1((u=(i=t.options_)==null?void 0:i.name)!=null?u:n.toString(),M,(m=(b=t.options_)==null?void 0:b.autoAction)!=null?m:!1,(_=t.options_)!=null&&_.bound?(w=e.proxy_)!=null?w:e.target_:void 0),configurable:a?e.isPlainObject_:!0,enumerable:!1,writable:!a}}function Dee(e,t){return{annotationType_:e,options_:t,make_:i5e,extend_:o5e,decorate_20223_:s5e}}function i5e(e,t,n,r){var a;if(r===e.target_)return this.extend_(e,t,n,!1)===null?0:2;if((a=this.options_)!=null&&a.bound&&(!Ob(e.target_,t)||!ZS(e.target_[t]))&&this.extend_(e,t,n,!1)===null)return 0;if(ZS(n.value))return 1;var l=Lee(e,this,t,n,!1,!1);return Ay(r,t,l),2}function o5e(e,t,n,r){var a,l=Lee(e,this,t,n,(a=this.options_)==null?void 0:a.bound);return e.defineProperty_(t,l,r)}function s5e(e,t){var n,r=t.name,a=t.addInitializer;return ZS(e)||(e=tw(e)),(n=this.options_)!=null&&n.bound&&a(function(){var l=this,u=l[r].bind(l);u.isMobXFlow=!0,l[r]=u}),e}function l5e(e,t,n,r){t.annotationType_,r.value}function Lee(e,t,n,r,a,l){l===void 0&&(l=zr.safeDescriptors),l5e(e,t,n,r);var u=r.value;if(ZS(u)||(u=tw(u)),a){var i;u=u.bind((i=e.proxy_)!=null?i:e.target_),u.isMobXFlow=!0}return{value:u,configurable:l?e.isPlainObject_:!0,enumerable:!1,writable:!l}}function XF(e,t){return{annotationType_:e,options_:t,make_:u5e,extend_:c5e,decorate_20223_:d5e}}function u5e(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function c5e(e,t,n,r){return f5e(e,this,t,n),e.defineComputedProperty_(t,ew({},this.options_,{get:n.get,set:n.set}),r)}function d5e(e,t){var n=this,r=t.name,a=t.addInitializer;return a(function(){var l=uC(this)[wa],u=ew({},n.options_,{get:e,context:this});u.name||(u.name="ObservableObject."+r.toString()),l.values_.set(r,new dg(u))}),function(){return this[wa].getObservablePropValue_(r)}}function f5e(e,t,n,r){t.annotationType_,r.get}function UN(e,t){return{annotationType_:e,options_:t,make_:h5e,extend_:p5e,decorate_20223_:m5e}}function h5e(e,t,n){return this.extend_(e,t,n,!1)===null?0:1}function p5e(e,t,n,r){var a,l;return g5e(e,this),e.defineObservableProperty_(t,n.value,(a=(l=this.options_)==null?void 0:l.enhancer)!=null?a:O1,r)}function m5e(e,t){var n=this,r=t.kind,a=t.name,l=new WeakSet;function u(i,m){var b,_,w=uC(i)[wa],M=new Db(m,(b=(_=n.options_)==null?void 0:_.enhancer)!=null?b:O1,"ObservableObject."+a.toString(),!1);w.values_.set(a,M),l.add(i)}if(r=="accessor")return{get:function(){return l.has(this)||u(this,e.get.call(this)),this[wa].getObservablePropValue_(a)},set:function(m){return l.has(this)||u(this,m),this[wa].setObservablePropValue_(a,m)},init:function(m){return l.has(this)||u(this,m),m}}}function g5e(e,t,n,r){t.annotationType_}var y5e="true",v5e=Pee();function Pee(e){return{annotationType_:y5e,options_:e,make_:b5e,extend_:_5e,decorate_20223_:x5e}}function b5e(e,t,n,r){var a,l;if(n.get)return GN.make_(e,t,n,r);if(n.set){var u=D1(t.toString(),n.set);return r===e.target_?e.defineProperty_(t,{configurable:zr.safeDescriptors?e.isPlainObject_:!0,set:u})===null?0:2:(Ay(r,t,{configurable:!0,set:u}),2)}if(r!==e.target_&&typeof n.value=="function"){var i;if(Aee(n.value)){var m,b=(m=this.options_)!=null&&m.autoBind?tw.bound:tw;return b.make_(e,t,n,r)}var _=(i=this.options_)!=null&&i.autoBind?YS.bound:YS;return _.make_(e,t,n,r)}var w=((a=this.options_)==null?void 0:a.deep)===!1?Rc.ref:Rc;if(typeof n.value=="function"&&(l=this.options_)!=null&&l.autoBind){var M;n.value=n.value.bind((M=e.proxy_)!=null?M:e.target_)}return w.make_(e,t,n,r)}function _5e(e,t,n,r){var a,l;if(n.get)return GN.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:zr.safeDescriptors?e.isPlainObject_:!0,set:D1(t.toString(),n.set)},r);if(typeof n.value=="function"&&(a=this.options_)!=null&&a.autoBind){var u;n.value=n.value.bind((u=e.proxy_)!=null?u:e.target_)}var i=((l=this.options_)==null?void 0:l.deep)===!1?Rc.ref:Rc;return i.extend_(e,t,n,r)}function x5e(e,t){Mi("'"+this.annotationType_+"' cannot be used as a decorator")}var E5e="observable",w5e="observable.ref",S5e="observable.shallow",T5e="observable.struct",Fee={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Fee);function cA(e){return e||Fee}var jD=UN(E5e),C5e=UN(w5e,{enhancer:zN}),A5e=UN(S5e,{enhancer:K6e}),k5e=UN(T5e,{enhancer:Q6e}),Bee=ky(jD);function dA(e){return e.deep===!0?O1:e.deep===!1?zN:N5e(e.defaultDecorator)}function I5e(e){var t;return e?(t=e.defaultDecorator)!=null?t:Pee(e):void 0}function N5e(e){var t,n;return e&&(t=(n=e.options_)==null?void 0:n.enhancer)!=null?t:O1}function $ee(e,t,n){if(rC(t))return jD.decorate_20223_(e,t);if(M1(t)){nC(e,t,jD);return}return eB(e)?e:Ub(e)?Rc.object(e,t,n):Array.isArray(e)?Rc.array(e,t):Ow(e)?Rc.map(e,t):B0(e)?Rc.set(e,t):typeof e=="object"&&e!==null?e:Rc.box(e,t)}wee($ee,Bee);var R5e={box:function(t,n){var r=cA(n);return new Db(t,dA(r),r.name,!0,r.equals)},array:function(t,n){var r=cA(n);return(zr.useProxies===!1||r.proxy===!1?S8e:p8e)(t,dA(r),r.name)},map:function(t,n){var r=cA(n);return new nte(t,dA(r),r.name)},set:function(t,n){var r=cA(n);return new rte(t,dA(r),r.name)},object:function(t,n,r){return Lw(function(){return i8e(zr.useProxies===!1||r?.proxy===!1?uC({},r):d8e({},r),t,n)})},ref:ky(C5e),shallow:ky(A5e),deep:Bee,struct:ky(k5e)},Rc=wee($ee,R5e),jee="computed",M5e="computed.struct",zD=XF(jee),O5e=XF(M5e,{equals:Kk.structural}),GN=function(t,n){if(rC(n))return zD.decorate_20223_(t,n);if(M1(n))return nC(t,n,zD);if(Ub(t))return ky(XF(jee,t));var r=Ub(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new dg(r)};Object.assign(GN,zD);GN.struct=ky(O5e);var GU,HU,Qk=0,D5e=1,L5e=(GU=(HU=Xk(function(){},"name"))==null?void 0:HU.configurable)!=null?GU:!1,VU={value:"action",configurable:!0,writable:!1,enumerable:!1};function D1(e,t,n,r){n===void 0&&(n=!1);function a(){return P5e(e,n,t,r||this,arguments)}return a.isMobxAction=!0,a.toString=function(){return t.toString()},L5e&&(VU.value=e,Ay(a,"name",VU)),a}function P5e(e,t,n,r,a){var l=F5e(e,t);try{return n.apply(r,a)}catch(u){throw l.error_=u,u}finally{B5e(l)}}function F5e(e,t,n,r){var a=!1,l=0,u=zr.trackingDerivation,i=!t||!u;Hp();var m=zr.allowStateChanges;i&&(ax(),m=KF(!0));var b=JF(!0),_={runAsAction_:i,prevDerivation_:u,prevAllowStateChanges_:m,prevAllowStateReads_:b,notifySpy_:a,startTime_:l,actionId_:D5e++,parentActionId_:Qk};return Qk=_.actionId_,_}function B5e(e){Qk!==e.actionId_&&Mi(30),Qk=e.parentActionId_,e.error_!==void 0&&(zr.suppressReactionErrors=!0),QF(e.prevAllowStateChanges_),oS(e.prevAllowStateReads_),Vp(),e.runAsAction_&&Q0(e.prevDerivation_),zr.suppressReactionErrors=!1}function KF(e){var t=zr.allowStateChanges;return zr.allowStateChanges=e,t}function QF(e){zr.allowStateChanges=e}var Db=(function(e){function t(r,a,l,u,i){var m;return l===void 0&&(l="ObservableValue"),i===void 0&&(i=Kk.default),m=e.call(this,l)||this,m.enhancer=void 0,m.name_=void 0,m.equals=void 0,m.hasUnreportedChange_=!1,m.interceptors_=void 0,m.changeListeners_=void 0,m.value_=void 0,m.dehancer=void 0,m.enhancer=a,m.name_=l,m.equals=i,m.value_=a(r,void 0,l),m}Ree(t,e);var n=t.prototype;return n.dehanceValue=function(a){return this.dehancer!==void 0?this.dehancer(a):a},n.set=function(a){this.value_,a=this.prepareNewValue_(a),a!==zr.UNCHANGED&&this.setNewValue_(a)},n.prepareNewValue_=function(a){if(Up(this)){var l=Gp(this,{object:this,type:Iy,newValue:a});if(!l)return zr.UNCHANGED;a=l.newValue}return a=this.enhancer(a,this.value_,this.name_),this.equals(this.value_,a)?zr.UNCHANGED:a},n.setNewValue_=function(a){var l=this.value_;this.value_=a,this.reportChanged(),rg(this)&&ag(this,{type:Iy,object:this,newValue:a,oldValue:l})},n.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function(a){return oC(this,a)},n.observe_=function(a,l){return l&&a({observableKind:"value",debugObjectName:this.name_,object:this,type:Iy,newValue:this.value_,oldValue:void 0}),sC(this,a)},n.raw=function(){return this.value_},n.toJSON=function(){return this.get()},n.toString=function(){return this.name_+"["+this.value_+"]"},n.valueOf=function(){return Nee(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t})(e_),$5e=Jb("ObservableValue",Db),dg=(function(){function e(n){this.dependenciesState_=$i.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=$i.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new eI(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=Jk.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,n.get||Mi(31),this.derivation=n.get,this.name_=n.name||"ComputedValue",n.set&&(this.setter_=D1("ComputedValue-setter",n.set)),this.equals_=n.equals||(n.compareStructural||n.struct?Kk.structural:Kk.default),this.scope_=n.context,this.requiresReaction_=n.requiresReaction,this.keepAlive_=!!n.keepAlive}var t=e.prototype;return t.onBecomeStale_=function(){G5e(this)},t.onBO=function(){this.onBOL&&this.onBOL.forEach(function(r){return r()})},t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(r){return r()})},t.get=function(){if(this.isComputing&&Mi(32,this.name_,this.derivation),zr.inBatch===0&&this.observers_.size===0&&!this.keepAlive_)UD(this)&&(this.warnAboutUntrackedRead_(),Hp(),this.value_=this.computeValue_(!1),Vp());else if(qee(this),UD(this)){var r=zr.trackingContext;this.keepAlive_&&!r&&(zr.trackingContext=this),this.trackAndCompute()&&U5e(this),zr.trackingContext=r}var a=this.value_;if(YA(a))throw a.cause;return a},t.set=function(r){if(this.setter_){this.isRunningSetter&&Mi(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,r)}finally{this.isRunningSetter=!1}}else Mi(34,this.name_)},t.trackAndCompute=function(){var r=this.value_,a=this.dependenciesState_===$i.NOT_TRACKING_,l=this.computeValue_(!0),u=a||YA(r)||YA(l)||!this.equals_(r,l);return u&&(this.value_=l),u},t.computeValue_=function(r){this.isComputing=!0;var a=KF(!1),l;if(r)l=zee(this,this.derivation,this.scope_);else if(zr.disableErrorBoundaries===!0)l=this.derivation.call(this.scope_);else try{l=this.derivation.call(this.scope_)}catch(u){l=new eI(u)}return QF(a),this.isComputing=!1,l},t.suspend_=function(){this.keepAlive_||(GD(this),this.value_=void 0)},t.observe_=function(r,a){var l=this,u=!0,i=void 0;return J5e(function(){var m=l.get();if(!u||a){var b=ax();r({observableKind:"computed",debugObjectName:l.name_,type:Iy,object:l,newValue:m,oldValue:i}),Q0(b)}u=!1,i=m})},t.warnAboutUntrackedRead_=function(){},t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function(){return Nee(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Dw(e,[{key:"isComputing",get:function(){return Ph(this.flags_,e.isComputingMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isComputingMask_,r)}},{key:"isRunningSetter",get:function(){return Ph(this.flags_,e.isRunningSetterMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isRunningSetterMask_,r)}},{key:"isBeingObserved",get:function(){return Ph(this.flags_,e.isBeingObservedMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isBeingObservedMask_,r)}},{key:"isPendingUnobservation",get:function(){return Ph(this.flags_,e.isPendingUnobservationMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isPendingUnobservationMask_,r)}},{key:"diffValue",get:function(){return Ph(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Fh(this.flags_,e.diffValueMask_,r===1)}}])})();dg.isComputingMask_=1;dg.isRunningSetterMask_=2;dg.isBeingObservedMask_=4;dg.isPendingUnobservationMask_=8;dg.diffValueMask_=16;var iC=Jb("ComputedValue",dg),$i;(function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"})($i||($i={}));var Jk;(function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"})(Jk||(Jk={}));var eI=function(t){this.cause=void 0,this.cause=t};function YA(e){return e instanceof eI}function UD(e){switch(e.dependenciesState_){case $i.UP_TO_DATE_:return!1;case $i.NOT_TRACKING_:case $i.STALE_:return!0;case $i.POSSIBLY_STALE_:{for(var t=JF(!0),n=ax(),r=e.observing_,a=r.length,l=0;l<a;l++){var u=r[l];if(iC(u)){if(zr.disableErrorBoundaries)u.get();else try{u.get()}catch{return Q0(n),oS(t),!0}if(e.dependenciesState_===$i.STALE_)return Q0(n),oS(t),!0}}return Gee(e),Q0(n),oS(t),!1}}}function zee(e,t,n){var r=JF(!0);Gee(e),e.newObserving_=new Array(e.runId_===0?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++zr.runId;var a=zr.trackingDerivation;zr.trackingDerivation=e,zr.inBatch++;var l;if(zr.disableErrorBoundaries===!0)l=t.call(n);else try{l=t.call(n)}catch(u){l=new eI(u)}return zr.inBatch--,zr.trackingDerivation=a,j5e(e),oS(r),l}function j5e(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=$i.UP_TO_DATE_,a=0,l=e.unboundDepsCount_,u=0;u<l;u++){var i=n[u];i.diffValue===0&&(i.diffValue=1,a!==u&&(n[a]=i),a++),i.dependenciesState_>r&&(r=i.dependenciesState_)}for(n.length=a,e.newObserving_=null,l=t.length;l--;){var m=t[l];m.diffValue===0&&Hee(m,e),m.diffValue=0}for(;a--;){var b=n[a];b.diffValue===1&&(b.diffValue=0,z5e(b,e))}r!==$i.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function GD(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)Hee(t[n],e);e.dependenciesState_=$i.NOT_TRACKING_}function Uee(e){var t=ax();try{return e()}finally{Q0(t)}}function ax(){var e=zr.trackingDerivation;return zr.trackingDerivation=null,e}function Q0(e){zr.trackingDerivation=e}function JF(e){var t=zr.allowStateReads;return zr.allowStateReads=e,t}function oS(e){zr.allowStateReads=e}function Gee(e){if(e.dependenciesState_!==$i.UP_TO_DATE_){e.dependenciesState_=$i.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=$i.UP_TO_DATE_}}var HM=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},VM=!0,zr=(function(){var e=qF();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(VM=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==new HM().version&&(VM=!1),VM?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new HM):(setTimeout(function(){Mi(35)},1),new HM)})();function z5e(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function Hee(e,t){e.observers_.delete(t),e.observers_.size===0&&Vee(e)}function Vee(e){e.isPendingUnobservation===!1&&(e.isPendingUnobservation=!0,zr.pendingUnobservations.push(e))}function Hp(){zr.inBatch++}function Vp(){if(--zr.inBatch===0){Wee();for(var e=zr.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,n.observers_.size===0&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof dg&&n.suspend_())}zr.pendingUnobservations=[]}}function qee(e){var t=zr.trackingDerivation;return t!==null?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&zr.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(e.observers_.size===0&&zr.inBatch>0&&Vee(e),!1)}function Yee(e){e.lowestObserverState_!==$i.STALE_&&(e.lowestObserverState_=$i.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===$i.UP_TO_DATE_&&t.onBecomeStale_(),t.dependenciesState_=$i.STALE_}))}function U5e(e){e.lowestObserverState_!==$i.STALE_&&(e.lowestObserverState_=$i.STALE_,e.observers_.forEach(function(t){t.dependenciesState_===$i.POSSIBLY_STALE_?t.dependenciesState_=$i.STALE_:t.dependenciesState_===$i.UP_TO_DATE_&&(e.lowestObserverState_=$i.UP_TO_DATE_)}))}function G5e(e){e.lowestObserverState_===$i.UP_TO_DATE_&&(e.lowestObserverState_=$i.POSSIBLY_STALE_,e.observers_.forEach(function(t){t.dependenciesState_===$i.UP_TO_DATE_&&(t.dependenciesState_=$i.POSSIBLY_STALE_,t.onBecomeStale_())}))}var Gb=(function(){function e(n,r,a,l){n===void 0&&(n="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=$i.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=Jk.NONE,this.name_=n,this.onInvalidate_=r,this.errorHandler_=a,this.requiresObservable_=l}var t=e.prototype;return t.onBecomeStale_=function(){this.schedule_()},t.schedule_=function(){this.isScheduled||(this.isScheduled=!0,zr.pendingReactions.push(this),Wee())},t.runReaction_=function(){if(!this.isDisposed){Hp(),this.isScheduled=!1;var r=zr.trackingContext;if(zr.trackingContext=this,UD(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(a){this.reportExceptionInDerivation_(a)}}zr.trackingContext=r,Vp()}},t.track=function(r){if(!this.isDisposed){Hp(),this.isRunning=!0;var a=zr.trackingContext;zr.trackingContext=this;var l=zee(this,r,void 0);zr.trackingContext=a,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&GD(this),YA(l)&&this.reportExceptionInDerivation_(l.cause),Vp()}},t.reportExceptionInDerivation_=function(r){var a=this;if(this.errorHandler_){this.errorHandler_(r,this);return}if(zr.disableErrorBoundaries)throw r;var l="[mobx] uncaught error in '"+this+"'";zr.suppressReactionErrors||console.error(l,r),zr.globalReactionErrorHandlers.forEach(function(u){return u(r,a)})},t.dispose=function(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Hp(),GD(this),Vp()))},t.getDisposer_=function(r){var a=this,l=function u(){a.dispose(),r==null||r.removeEventListener==null||r.removeEventListener("abort",u)};return r==null||r.addEventListener==null||r.addEventListener("abort",l),l[wa]=this,l},t.toString=function(){return"Reaction["+this.name_+"]"},t.trace=function(r){},Dw(e,[{key:"isDisposed",get:function(){return Ph(this.flags_,e.isDisposedMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isDisposedMask_,r)}},{key:"isScheduled",get:function(){return Ph(this.flags_,e.isScheduledMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isScheduledMask_,r)}},{key:"isTrackPending",get:function(){return Ph(this.flags_,e.isTrackPendingMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isTrackPendingMask_,r)}},{key:"isRunning",get:function(){return Ph(this.flags_,e.isRunningMask_)},set:function(r){this.flags_=Fh(this.flags_,e.isRunningMask_,r)}},{key:"diffValue",get:function(){return Ph(this.flags_,e.diffValueMask_)?1:0},set:function(r){this.flags_=Fh(this.flags_,e.diffValueMask_,r===1)}}])})();Gb.isDisposedMask_=1;Gb.isScheduledMask_=2;Gb.isTrackPendingMask_=4;Gb.isRunningMask_=8;Gb.diffValueMask_=16;var H5e=100,V5e=function(t){return t()};function Wee(){zr.inBatch>0||zr.isRunningReactions||V5e(q5e)}function q5e(){zr.isRunningReactions=!0;for(var e=zr.pendingReactions,t=0;e.length>0;){++t===H5e&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,a=n.length;r<a;r++)n[r].runReaction_()}zr.isRunningReactions=!1}var tI=Jb("Reaction",Gb);function sS(){return!1}function Y5e(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var Zee="action",W5e="action.bound",Xee="autoAction",Z5e="autoAction.bound",X5e="<unnamed action>",HD=aC(Zee),K5e=aC(W5e,{bound:!0}),VD=aC(Xee,{autoAction:!0}),Q5e=aC(Z5e,{autoAction:!0,bound:!0});function Kee(e){var t=function(r,a){if(cg(r))return D1(r.name||X5e,r,e);if(cg(a))return D1(r,a,e);if(rC(a))return(e?VD:HD).decorate_20223_(r,a);if(M1(a))return nC(r,a,e?VD:HD);if(M1(r))return ky(aC(e?Xee:Zee,{name:r,autoAction:e}))};return t}var pE=Kee(!1);Object.assign(pE,HD);var YS=Kee(!0);Object.assign(YS,VD);pE.bound=ky(K5e);YS.bound=ky(Q5e);function WS(e){return cg(e)&&e.isMobxAction===!0}function J5e(e,t){var n,r,a,l;t===void 0&&(t=See);var u=(n=(r=t)==null?void 0:r.name)!=null?n:"Autorun",i=!t.scheduler&&!t.delay,m;if(i)m=new Gb(u,function(){this.track(w)},t.onError,t.requiresObservable);else{var b=t8e(t),_=!1;m=new Gb(u,function(){_||(_=!0,b(function(){_=!1,m.isDisposed||m.track(w)}))},t.onError,t.requiresObservable)}function w(){e(m)}return(a=t)!=null&&(a=a.signal)!=null&&a.aborted||m.schedule_(),m.getDisposer_((l=t)==null?void 0:l.signal)}var e8e=function(t){return t()};function t8e(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:e8e}var n8e="onBO",r8e="onBUO";function a8e(e,t,n){return Jee(n8e,e,t,n)}function Qee(e,t,n){return Jee(r8e,e,t,n)}function Jee(e,t,n,r){var a=qD(t),l=cg(r)?r:n,u=e+"L";return a[u]?a[u].add(l):a[u]=new Set([l]),function(){var i=a[u];i&&(i.delete(l),i.size===0&&delete a[u])}}function i8e(e,t,n,r){var a=H6e(t);return Lw(function(){var l=uC(e,r)[wa];WF(a).forEach(function(u){l.extend_(u,a[u],n&&u in n?n[u]:!0)})}),e}var o8e=0;function ete(){this.message="FLOW_CANCELLED"}ete.prototype=Object.create(Error.prototype);var qM=Dee("flow"),s8e=Dee("flow.bound",{bound:!0}),tw=Object.assign(function(t,n){if(rC(n))return qM.decorate_20223_(t,n);if(M1(n))return nC(t,n,qM);var r=t,a=r.name||"<unnamed flow>",l=function(){var i=this,m=arguments,b=++o8e,_=pE(a+" - runid: "+b+" - init",r).apply(i,m),w,M=void 0,P=new Promise(function(j,G){var z=0;w=G;function q(ne){M=void 0;var ie;try{ie=pE(a+" - runid: "+b+" - yield "+z++,_.next).call(_,ne)}catch(ue){return G(ue)}J(ie)}function Y(ne){M=void 0;var ie;try{ie=pE(a+" - runid: "+b+" - yield "+z++,_.throw).call(_,ne)}catch(ue){return G(ue)}J(ie)}function J(ne){if(cg(ne?.then)){ne.then(J,G);return}return ne.done?j(ne.value):(M=Promise.resolve(ne.value),M.then(q,Y))}q(void 0)});return P.cancel=pE(a+" - runid: "+b+" - cancel",function(){try{M&&qU(M);var j=_.return(void 0),G=Promise.resolve(j.value);G.then(dE,dE),qU(G),w(new ete)}catch(z){w(z)}}),P};return l.isMobXFlow=!0,l},qM);tw.bound=ky(s8e);function qU(e){cg(e.cancel)&&e.cancel()}function ZS(e){return e?.isMobXFlow===!0}function l8e(e,t){return e?cC(e)||!!e[wa]||ZF(e)||tI(e)||iC(e):!1}function eB(e){return l8e(e)}function u8e(e){if(cC(e))return e[wa].ownKeys_();Mi(38)}function fA(e,t,n){return e.set(t,n),n}function rE(e,t){if(e==null||typeof e!="object"||e instanceof Date||!eB(e))return e;if($5e(e)||iC(e))return rE(e.get(),t);if(t.has(e))return t.get(e);if(lC(e)){var n=fA(t,e,new Array(e.length));return e.forEach(function(u,i){n[i]=rE(u,t)}),n}if(Hm(e)){var r=fA(t,e,new Set);return e.forEach(function(u){r.add(rE(u,t))}),r}if(t_(e)){var a=fA(t,e,new Map);return e.forEach(function(u,i){a.set(i,rE(u,t))}),a}else{var l=fA(t,e,{});return u8e(e).forEach(function(u){tC.propertyIsEnumerable.call(e,u)&&(l[u]=rE(e[u],t))}),l}}function hA(e,t){return rE(e,new Map)}function $0(e,t){t===void 0&&(t=void 0),Hp();try{return e.apply(t)}finally{Vp()}}function Xx(e){return e[wa]}var c8e={has:function(t,n){return Xx(t).has_(n)},get:function(t,n){return Xx(t).get_(n)},set:function(t,n,r){var a;return M1(n)?(a=Xx(t).set_(n,r,!0))!=null?a:!0:!1},deleteProperty:function(t,n){var r;return M1(n)?(r=Xx(t).delete_(n,!0))!=null?r:!0:!1},defineProperty:function(t,n,r){var a;return(a=Xx(t).defineProperty_(n,r))!=null?a:!0},ownKeys:function(t){return Xx(t).ownKeys_()},preventExtensions:function(t){Mi(13)}};function d8e(e,t){var n,r;return Tee(),e=uC(e,t),(r=(n=e[wa]).proxy_)!=null?r:n.proxy_=new Proxy(e,c8e)}function Up(e){return e.interceptors_!==void 0&&e.interceptors_.length>0}function oC(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),Cee(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function Gp(e,t){var n=ax();try{for(var r=[].concat(e.interceptors_||[]),a=0,l=r.length;a<l&&(t=r[a](t),t&&!t.type&&Mi(14),!!t);a++);return t}finally{Q0(n)}}function rg(e){return e.changeListeners_!==void 0&&e.changeListeners_.length>0}function sC(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),Cee(function(){var r=n.indexOf(t);r!==-1&&n.splice(r,1)})}function ag(e,t){var n=ax(),r=e.changeListeners_;if(r){r=r.slice();for(var a=0,l=r.length;a<l;a++)r[a](t);Q0(n)}}var YU="splice",Iy="update",f8e=1e4,h8e={get:function(t,n){var r=t[wa];return n===wa?r:n==="length"?r.getArrayLength_():typeof n=="string"&&!isNaN(n)?r.get_(parseInt(n)):Ob(nI,n)?nI[n]:t[n]},set:function(t,n,r){var a=t[wa];return n==="length"&&a.setArrayLength_(r),typeof n=="symbol"||isNaN(n)?t[n]=r:a.set_(parseInt(n),r),!0},preventExtensions:function(){Mi(15)}},tB=(function(){function e(n,r,a,l){n===void 0&&(n="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=a,this.legacyMode_=l,this.atom_=new e_(n),this.enhancer_=function(u,i){return r(u,i,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.dehanceValues_=function(r){return this.dehancer!==void 0&&r.length>0?r.map(this.dehancer):r},t.intercept_=function(r){return oC(this,r)},t.observe_=function(r,a){return a===void 0&&(a=!1),a&&r({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),sC(this,r)},t.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function(r){(typeof r!="number"||isNaN(r)||r<0)&&Mi("Out of range: "+r);var a=this.values_.length;if(r!==a)if(r>a){for(var l=new Array(r-a),u=0;u<r-a;u++)l[u]=void 0;this.spliceWithArray_(a,0,l)}else this.spliceWithArray_(r,a-r)},t.updateArrayLength_=function(r,a){r!==this.lastKnownLength_&&Mi(16),this.lastKnownLength_+=a,this.legacyMode_&&a>0&&ste(r+a+1)},t.spliceWithArray_=function(r,a,l){var u=this;this.atom_;var i=this.values_.length;if(r===void 0?r=0:r>i?r=i:r<0&&(r=Math.max(0,i+r)),arguments.length===1?a=i-r:a==null?a=0:a=Math.max(0,Math.min(a,i-r)),l===void 0&&(l=BD),Up(this)){var m=Gp(this,{object:this.proxy_,type:YU,index:r,removedCount:a,added:l});if(!m)return BD;a=m.removedCount,l=m.added}if(l=l.length===0?l:l.map(function(w){return u.enhancer_(w,void 0)}),this.legacyMode_){var b=l.length-a;this.updateArrayLength_(i,b)}var _=this.spliceItemsIntoValues_(r,a,l);return(a!==0||l.length!==0)&&this.notifyArraySplice_(r,l,_),this.dehanceValues_(_)},t.spliceItemsIntoValues_=function(r,a,l){if(l.length<f8e){var u;return(u=this.values_).splice.apply(u,[r,a].concat(l))}else{var i=this.values_.slice(r,r+a),m=this.values_.slice(r+a);this.values_.length+=l.length-a;for(var b=0;b<l.length;b++)this.values_[r+b]=l[b];for(var _=0;_<m.length;_++)this.values_[r+l.length+_]=m[_];return i}},t.notifyArrayChildUpdate_=function(r,a,l){var u=!this.owned_&&sS(),i=rg(this),m=i||u?{observableKind:"array",object:this.proxy_,type:Iy,debugObjectName:this.atom_.name_,index:r,newValue:a,oldValue:l}:null;this.atom_.reportChanged(),i&&ag(this,m)},t.notifyArraySplice_=function(r,a,l){var u=!this.owned_&&sS(),i=rg(this),m=i||u?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:YU,index:r,removed:l,added:a,removedCount:l.length,addedCount:a.length}:null;this.atom_.reportChanged(),i&&ag(this,m)},t.get_=function(r){if(this.legacyMode_&&r>=this.values_.length){console.warn("[mobx] Out of bounds read: "+r);return}return this.atom_.reportObserved(),this.dehanceValue_(this.values_[r])},t.set_=function(r,a){var l=this.values_;if(this.legacyMode_&&r>l.length&&Mi(17,r,l.length),r<l.length){this.atom_;var u=l[r];if(Up(this)){var i=Gp(this,{type:Iy,object:this.proxy_,index:r,newValue:a});if(!i)return;a=i.newValue}a=this.enhancer_(a,u);var m=a!==u;m&&(l[r]=a,this.notifyArrayChildUpdate_(r,a,u))}else{for(var b=new Array(r+1-l.length),_=0;_<b.length-1;_++)b[_]=void 0;b[b.length-1]=a,this.spliceWithArray_(l.length,0,b)}},e})();function p8e(e,t,n,r){return n===void 0&&(n="ObservableArray"),r===void 0&&(r=!1),Tee(),Lw(function(){var a=new tB(n,t,r,!1);kee(a.values_,wa,a);var l=new Proxy(a.values_,h8e);return a.proxy_=l,e&&e.length&&a.spliceWithArray_(0,0,e),l})}var nI={clear:function(){return this.splice(0)},replace:function(t){var n=this[wa];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function(){return this.slice()},splice:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];var u=this[wa];switch(arguments.length){case 0:return[];case 1:return u.spliceWithArray_(t);case 2:return u.spliceWithArray_(t,n)}return u.spliceWithArray_(t,n,a)},spliceWithArray:function(t,n,r){return this[wa].spliceWithArray_(t,n,r)},push:function(){for(var t=this[wa],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function(){return this.splice(Math.max(this[wa].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=this[wa],n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function(){return zr.trackingDerivation&&Mi(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){zr.trackingDerivation&&Mi(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function(t){var n=this[wa],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1?(this.splice(r,1),!0):!1}};ns("at",Wh);ns("concat",Wh);ns("flat",Wh);ns("includes",Wh);ns("indexOf",Wh);ns("join",Wh);ns("lastIndexOf",Wh);ns("slice",Wh);ns("toString",Wh);ns("toLocaleString",Wh);ns("toSorted",Wh);ns("toSpliced",Wh);ns("with",Wh);ns("every",vg);ns("filter",vg);ns("find",vg);ns("findIndex",vg);ns("findLast",vg);ns("findLastIndex",vg);ns("flatMap",vg);ns("forEach",vg);ns("map",vg);ns("some",vg);ns("toReversed",vg);ns("reduce",tte);ns("reduceRight",tte);function ns(e,t){typeof Array.prototype[e]=="function"&&(nI[e]=t(e))}function Wh(e){return function(){var t=this[wa];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function vg(e){return function(t,n){var r=this,a=this[wa];a.atom_.reportObserved();var l=a.dehanceValues_(a.values_);return l[e](function(u,i){return t.call(n,u,i,r)})}}function tte(e){return function(){var t=this,n=this[wa];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),a=arguments[0];return arguments[0]=function(l,u,i){return a(l,u,i,t)},r[e].apply(r,arguments)}}var m8e=Jb("ObservableArrayAdministration",tB);function lC(e){return jN(e)&&m8e(e[wa])}var g8e={},Cb="add",rI="delete",nte=(function(){function e(n,r,a){var l=this;r===void 0&&(r=O1),a===void 0&&(a="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[wa]=g8e,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=r,this.name_=a,cg(Map)||Mi(18),Lw(function(){l.keysAtom_=Mee("ObservableMap.keys()"),l.data_=new Map,l.hasMap_=new Map,n&&l.merge(n)})}var t=e.prototype;return t.has_=function(r){return this.data_.has(r)},t.has=function(r){var a=this;if(!zr.trackingDerivation)return this.has_(r);var l=this.hasMap_.get(r);if(!l){var u=l=new Db(this.has_(r),zN,"ObservableMap.key?",!1);this.hasMap_.set(r,u),Qee(u,function(){return a.hasMap_.delete(r)})}return l.get()},t.set=function(r,a){var l=this.has_(r);if(Up(this)){var u=Gp(this,{type:l?Iy:Cb,object:this,newValue:a,name:r});if(!u)return this;a=u.newValue}return l?this.updateValue_(r,a):this.addValue_(r,a),this},t.delete=function(r){var a=this;if(this.keysAtom_,Up(this)){var l=Gp(this,{type:rI,object:this,name:r});if(!l)return!1}if(this.has_(r)){var u=sS(),i=rg(this),m=i||u?{observableKind:"map",debugObjectName:this.name_,type:rI,object:this,oldValue:this.data_.get(r).value_,name:r}:null;return $0(function(){var b;a.keysAtom_.reportChanged(),(b=a.hasMap_.get(r))==null||b.setNewValue_(!1);var _=a.data_.get(r);_.setNewValue_(void 0),a.data_.delete(r)}),i&&ag(this,m),!0}return!1},t.updateValue_=function(r,a){var l=this.data_.get(r);if(a=l.prepareNewValue_(a),a!==zr.UNCHANGED){var u=sS(),i=rg(this),m=i||u?{observableKind:"map",debugObjectName:this.name_,type:Iy,object:this,oldValue:l.value_,name:r,newValue:a}:null;l.setNewValue_(a),i&&ag(this,m)}},t.addValue_=function(r,a){var l=this;this.keysAtom_,$0(function(){var b,_=new Db(a,l.enhancer_,"ObservableMap.key",!1);l.data_.set(r,_),a=_.value_,(b=l.hasMap_.get(r))==null||b.setNewValue_(!0),l.keysAtom_.reportChanged()});var u=sS(),i=rg(this),m=i||u?{observableKind:"map",debugObjectName:this.name_,type:Cb,object:this,name:r,newValue:a}:null;i&&ag(this,m)},t.get=function(r){return this.has(r)?this.dehanceValue_(this.data_.get(r).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function(){var r=this,a=this.keys();return WU({next:function(){var u=a.next(),i=u.done,m=u.value;return{done:i,value:i?void 0:r.get(m)}}})},t.entries=function(){var r=this,a=this.keys();return WU({next:function(){var u=a.next(),i=u.done,m=u.value;return{done:i,value:i?void 0:[m,r.get(m)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function(r,a){for(var l=fE(this),u;!(u=l()).done;){var i=u.value,m=i[0],b=i[1];r.call(a,b,m,this)}},t.merge=function(r){var a=this;return t_(r)&&(r=new Map(r)),$0(function(){Ub(r)?G6e(r).forEach(function(l){return a.set(l,r[l])}):Array.isArray(r)?r.forEach(function(l){var u=l[0],i=l[1];return a.set(u,i)}):Ow(r)?(U6e(r)||Mi(19,r),r.forEach(function(l,u){return a.set(u,l)})):r!=null&&Mi(20,r)}),this},t.clear=function(){var r=this;$0(function(){Uee(function(){for(var a=fE(r.keys()),l;!(l=a()).done;){var u=l.value;r.delete(u)}})})},t.replace=function(r){var a=this;return $0(function(){for(var l=y8e(r),u=new Map,i=!1,m=fE(a.data_.keys()),b;!(b=m()).done;){var _=b.value;if(!l.has(_)){var w=a.delete(_);if(w)i=!0;else{var M=a.data_.get(_);u.set(_,M)}}}for(var P=fE(l.entries()),j;!(j=P()).done;){var G=j.value,z=G[0],q=G[1],Y=a.data_.has(z);if(a.set(z,q),a.data_.has(z)){var J=a.data_.get(z);u.set(z,J),Y||(i=!0)}}if(!i)if(a.data_.size!==u.size)a.keysAtom_.reportChanged();else for(var ne=a.data_.keys(),ie=u.keys(),ue=ne.next(),oe=ie.next();!ue.done;){if(ue.value!==oe.value){a.keysAtom_.reportChanged();break}ue=ne.next(),oe=ie.next()}a.data_=u}),this},t.toString=function(){return"[object ObservableMap]"},t.toJSON=function(){return Array.from(this)},t.observe_=function(r,a){return sC(this,r)},t.intercept_=function(r){return oC(this,r)},Dw(e,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])})(),t_=Jb("ObservableMap",nte);function WU(e){return e[Symbol.toStringTag]="MapIterator",rB(e)}function y8e(e){if(Ow(e)||t_(e))return e;if(Array.isArray(e))return new Map(e);if(Ub(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}else return Mi(21,e)}var v8e={},rte=(function(){function e(n,r,a){var l=this;r===void 0&&(r=O1),a===void 0&&(a="ObservableSet"),this.name_=void 0,this[wa]=v8e,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=a,cg(Set)||Mi(22),this.enhancer_=function(u,i){return r(u,i,a)},Lw(function(){l.atom_=Mee(l.name_),n&&l.replace(n)})}var t=e.prototype;return t.dehanceValue_=function(r){return this.dehancer!==void 0?this.dehancer(r):r},t.clear=function(){var r=this;$0(function(){Uee(function(){for(var a=fE(r.data_.values()),l;!(l=a()).done;){var u=l.value;r.delete(u)}})})},t.forEach=function(r,a){for(var l=fE(this),u;!(u=l()).done;){var i=u.value;r.call(a,i,i,this)}},t.add=function(r){var a=this;if(this.atom_,Up(this)){var l=Gp(this,{type:Cb,object:this,newValue:r});if(!l)return this;r=l.newValue}if(!this.has(r)){$0(function(){a.data_.add(a.enhancer_(r,void 0)),a.atom_.reportChanged()});var u=!1,i=rg(this),m=i||u?{observableKind:"set",debugObjectName:this.name_,type:Cb,object:this,newValue:r}:null;i&&ag(this,m)}return this},t.delete=function(r){var a=this;if(Up(this)){var l=Gp(this,{type:rI,object:this,oldValue:r});if(!l)return!1}if(this.has(r)){var u=!1,i=rg(this),m=i||u?{observableKind:"set",debugObjectName:this.name_,type:rI,object:this,oldValue:r}:null;return $0(function(){a.atom_.reportChanged(),a.data_.delete(r)}),i&&ag(this,m),!0}return!1},t.has=function(r){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(r))},t.entries=function(){var r=this.values();return ZU({next:function(){var l=r.next(),u=l.value,i=l.done;return i?{value:void 0,done:i}:{value:[u,u],done:i}}})},t.keys=function(){return this.values()},t.values=function(){this.atom_.reportObserved();var r=this,a=this.data_.values();return ZU({next:function(){var u=a.next(),i=u.value,m=u.done;return m?{value:void 0,done:m}:{value:r.dehanceValue_(i),done:m}}})},t.intersection=function(r){if(B0(r)&&!Hm(r))return r.intersection(this);var a=new Set(this);return a.intersection(r)},t.union=function(r){if(B0(r)&&!Hm(r))return r.union(this);var a=new Set(this);return a.union(r)},t.difference=function(r){return new Set(this).difference(r)},t.symmetricDifference=function(r){if(B0(r)&&!Hm(r))return r.symmetricDifference(this);var a=new Set(this);return a.symmetricDifference(r)},t.isSubsetOf=function(r){return new Set(this).isSubsetOf(r)},t.isSupersetOf=function(r){return new Set(this).isSupersetOf(r)},t.isDisjointFrom=function(r){if(B0(r)&&!Hm(r))return r.isDisjointFrom(this);var a=new Set(this);return a.isDisjointFrom(r)},t.replace=function(r){var a=this;return Hm(r)&&(r=new Set(r)),$0(function(){Array.isArray(r)?(a.clear(),r.forEach(function(l){return a.add(l)})):B0(r)?(a.clear(),r.forEach(function(l){return a.add(l)})):r!=null&&Mi("Cannot initialize set from "+r)}),this},t.observe_=function(r,a){return sC(this,r)},t.intercept_=function(r){return oC(this,r)},t.toJSON=function(){return Array.from(this)},t.toString=function(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Dw(e,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])})(),Hm=Jb("ObservableSet",rte);function ZU(e){return e[Symbol.toStringTag]="SetIterator",rB(e)}var XU=Object.create(null),KU="remove",ate=(function(){function e(n,r,a,l){r===void 0&&(r=new Map),l===void 0&&(l=v5e),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=n,this.values_=r,this.name_=a,this.defaultAnnotation_=l,this.keysAtom_=new e_("ObservableObject.keys"),this.isPlainObject_=Ub(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function(r){return this.values_.get(r).get()},t.setObservablePropValue_=function(r,a){var l=this.values_.get(r);if(l instanceof dg)return l.set(a),!0;if(Up(this)){var u=Gp(this,{type:Iy,object:this.proxy_||this.target_,name:r,newValue:a});if(!u)return null;a=u.newValue}if(a=l.prepareNewValue_(a),a!==zr.UNCHANGED){var i=rg(this),m=!1,b=i||m?{type:Iy,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:l.value_,name:r,newValue:a}:null;l.setNewValue_(a),i&&ag(this,b)}return!0},t.get_=function(r){return zr.trackingDerivation&&!Ob(this.target_,r)&&this.has_(r),this.target_[r]},t.set_=function(r,a,l){return l===void 0&&(l=!1),Ob(this.target_,r)?this.values_.has(r)?this.setObservablePropValue_(r,a):l?Reflect.set(this.target_,r,a):(this.target_[r]=a,!0):this.extend_(r,{value:a,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,l)},t.has_=function(r){if(!zr.trackingDerivation)return r in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var a=this.pendingKeys_.get(r);return a||(a=new Db(r in this.target_,zN,"ObservableObject.key?",!1),this.pendingKeys_.set(r,a)),a.get()},t.make_=function(r,a){if(a===!0&&(a=this.defaultAnnotation_),a!==!1){if(!(r in this.target_)){var l;if((l=this.target_[hE])!=null&&l[r])return;Mi(1,a.annotationType_,this.name_+"."+r.toString())}for(var u=this.target_;u&&u!==tC;){var i=Xk(u,r);if(i){var m=a.make_(this,r,i,u);if(m===0)return;if(m===1)break}u=Object.getPrototypeOf(u)}JU(this,a,r)}},t.extend_=function(r,a,l,u){if(u===void 0&&(u=!1),l===!0&&(l=this.defaultAnnotation_),l===!1)return this.defineProperty_(r,a,u);var i=l.extend_(this,r,a,u);return i&&JU(this,l,r),i},t.defineProperty_=function(r,a,l){l===void 0&&(l=!1),this.keysAtom_;try{Hp();var u=this.delete_(r);if(!u)return u;if(Up(this)){var i=Gp(this,{object:this.proxy_||this.target_,name:r,type:Cb,newValue:a.value});if(!i)return null;var m=i.newValue;a.value!==m&&(a=ew({},a,{value:m}))}if(l){if(!Reflect.defineProperty(this.target_,r,a))return!1}else Ay(this.target_,r,a);this.notifyPropertyAddition_(r,a.value)}finally{Vp()}return!0},t.defineObservableProperty_=function(r,a,l,u){u===void 0&&(u=!1),this.keysAtom_;try{Hp();var i=this.delete_(r);if(!i)return i;if(Up(this)){var m=Gp(this,{object:this.proxy_||this.target_,name:r,type:Cb,newValue:a});if(!m)return null;a=m.newValue}var b=QU(r),_={configurable:zr.safeDescriptors?this.isPlainObject_:!0,enumerable:!0,get:b.get,set:b.set};if(u){if(!Reflect.defineProperty(this.target_,r,_))return!1}else Ay(this.target_,r,_);var w=new Db(a,l,"ObservableObject.key",!1);this.values_.set(r,w),this.notifyPropertyAddition_(r,w.value_)}finally{Vp()}return!0},t.defineComputedProperty_=function(r,a,l){l===void 0&&(l=!1),this.keysAtom_;try{Hp();var u=this.delete_(r);if(!u)return u;if(Up(this)){var i=Gp(this,{object:this.proxy_||this.target_,name:r,type:Cb,newValue:void 0});if(!i)return null}a.name||(a.name="ObservableObject.key"),a.context=this.proxy_||this.target_;var m=QU(r),b={configurable:zr.safeDescriptors?this.isPlainObject_:!0,enumerable:!1,get:m.get,set:m.set};if(l){if(!Reflect.defineProperty(this.target_,r,b))return!1}else Ay(this.target_,r,b);this.values_.set(r,new dg(a)),this.notifyPropertyAddition_(r,void 0)}finally{Vp()}return!0},t.delete_=function(r,a){if(a===void 0&&(a=!1),this.keysAtom_,!Ob(this.target_,r))return!0;if(Up(this)){var l=Gp(this,{object:this.proxy_||this.target_,name:r,type:KU});if(!l)return null}try{var u;Hp();var i=rg(this),m=!1,b=this.values_.get(r),_=void 0;if(!b&&(i||m)){var w;_=(w=Xk(this.target_,r))==null?void 0:w.value}if(a){if(!Reflect.deleteProperty(this.target_,r))return!1}else delete this.target_[r];if(b&&(this.values_.delete(r),b instanceof Db&&(_=b.value_),Yee(b)),this.keysAtom_.reportChanged(),(u=this.pendingKeys_)==null||(u=u.get(r))==null||u.set(r in this.target_),i||m){var M={type:KU,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:_,name:r};i&&ag(this,M)}}finally{Vp()}return!0},t.observe_=function(r,a){return sC(this,r)},t.intercept_=function(r){return oC(this,r)},t.notifyPropertyAddition_=function(r,a){var l,u=rg(this),i=!1;if(u||i){var m=u||i?{type:Cb,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:r,newValue:a}:null;u&&ag(this,m)}(l=this.pendingKeys_)==null||(l=l.get(r))==null||l.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function(){return this.keysAtom_.reportObserved(),WF(this.target_)},t.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e})();function uC(e,t){var n;if(Ob(e,wa))return e;var r=(n=t?.name)!=null?n:"ObservableObject",a=new ate(e,new Map,String(r),I5e(t));return YF(e,wa,a),e}var b8e=Jb("ObservableObjectAdministration",ate);function QU(e){return XU[e]||(XU[e]={get:function(){return this[wa].getObservablePropValue_(e)},set:function(n){return this[wa].setObservablePropValue_(e,n)}})}function cC(e){return jN(e)?b8e(e[wa]):!1}function JU(e,t,n){var r;(r=e.target_[hE])==null||delete r[n]}var _8e=ote(0),x8e=(function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function(){e=!0}}),Object.create(t)[0]=1,e===!1})(),YM=0,ite=function(){};function E8e(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):e.prototype.__proto__!==void 0?e.prototype.__proto__=t:e.prototype=t}E8e(ite,Array.prototype);var nB=(function(e){function t(r,a,l,u){var i;return l===void 0&&(l="ObservableArray"),u===void 0&&(u=!1),i=e.call(this)||this,Lw(function(){var m=new tB(l,a,u,!0);m.proxy_=i,kee(i,wa,m),r&&r.length&&i.spliceWithArray(0,0,r),x8e&&Object.defineProperty(i,"0",_8e)}),i}Ree(t,e);var n=t.prototype;return n.concat=function(){this[wa].atom_.reportObserved();for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),l.map(function(i){return lC(i)?i.slice():i}))},n[Symbol.iterator]=function(){var r=this,a=0;return rB({next:function(){return a<r.length?{value:r[a++],done:!1}:{done:!0,value:void 0}}})},Dw(t,[{key:"length",get:function(){return this[wa].getArrayLength_()},set:function(a){this[wa].setArrayLength_(a)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])})(ite);Object.entries(nI).forEach(function(e){var t=e[0],n=e[1];t!=="concat"&&YF(nB.prototype,t,n)});function ote(e){return{enumerable:!1,configurable:!0,get:function(){return this[wa].get_(e)},set:function(n){this[wa].set_(e,n)}}}function w8e(e){Ay(nB.prototype,""+e,ote(e))}function ste(e){if(e>YM){for(var t=YM;t<e+100;t++)w8e(t);YM=e}}ste(1e3);function S8e(e,t,n){return new nB(e,t,n)}function qD(e,t){if(typeof e=="object"&&e!==null){if(lC(e))return t!==void 0&&Mi(23),e[wa].atom_;if(Hm(e))return e.atom_;if(t_(e)){if(t===void 0)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||Mi(25,t,YD(e)),n}if(cC(e)){if(!t)return Mi(26);var r=e[wa].values_.get(t);return r||Mi(27,t,YD(e)),r}if(ZF(e)||iC(e)||tI(e))return e}else if(cg(e)&&tI(e[wa]))return e[wa];Mi(28)}function T8e(e,t){if(e||Mi(29),ZF(e)||iC(e)||tI(e)||t_(e)||Hm(e))return e;if(e[wa])return e[wa];Mi(24,e)}function YD(e,t){var n;if(t!==void 0)n=qD(e,t);else{if(WS(e))return e.name;cC(e)||t_(e)||Hm(e)?n=T8e(e):n=qD(e)}return n.name_}function Lw(e){var t=ax(),n=KF(!0);Hp();try{return e()}finally{Vp(),QF(n),Q0(t)}}var eG=tC.toString;function lte(e,t,n){return n===void 0&&(n=-1),WD(e,t,n)}function WD(e,t,n,r,a){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return!1;if(e!==e)return t!==t;var l=typeof e;if(l!=="function"&&l!=="object"&&typeof t!="object")return!1;var u=eG.call(e);if(u!==eG.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:+e==0?1/+e===1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++;break}e=tG(e),t=tG(t);var i=u==="[object Array]";if(!i){if(typeof e!="object"||typeof t!="object")return!1;var m=e.constructor,b=t.constructor;if(m!==b&&!(cg(m)&&m instanceof m&&cg(b)&&b instanceof b)&&"constructor"in e&&"constructor"in t)return!1}if(n===0)return!1;n<0&&(n=-1),r=r||[],a=a||[];for(var _=r.length;_--;)if(r[_]===e)return a[_]===t;if(r.push(e),a.push(t),i){if(_=e.length,_!==t.length)return!1;for(;_--;)if(!WD(e[_],t[_],n-1,r,a))return!1}else{var w=Object.keys(e),M=w.length;if(Object.keys(t).length!==M)return!1;for(var P=0;P<M;P++){var j=w[P];if(!(Ob(t,j)&&WD(e[j],t[j],n-1,r,a)))return!1}}return r.pop(),a.pop(),!0}function tG(e){return lC(e)?e.slice():Ow(e)||t_(e)||B0(e)||Hm(e)?Array.from(e.entries()):e}var nG,C8e=((nG=qF().Iterator)==null?void 0:nG.prototype)||{};function rB(e){return e[Symbol.iterator]=A8e,Object.assign(Object.create(C8e),e)}function A8e(){return this}["Symbol","Map","Set"].forEach(function(e){var t=qF();typeof t[e]>"u"&&Mi("MobX requires global '"+e+"' to be available or polyfilled")});typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Y5e,extras:{getDebugName:YD},$mobx:wa});const k8e=(e,t)=>({showCopyButton:()=>e?.single?!1:!!t,showCloneButton:()=>e?.single?!1:!!(t&&e?.canCreate),showRelationButton:()=>!(!t||e?.single),showActionButton:()=>!(e?.single||!t),showDeleteButton:()=>!t||e?.single?!1:e?.canDelete??!1,showCreateButton:()=>e?.single?!1:e?.canCreate??!1,showSaveButton:()=>t?e?.canUpdate??!1:e?.canCreate??!1}),XS=(e,t,n,r)=>{console.log("requiredValidation",e,t,n);let a=[],l=t.items;return(!l||na.size(l)===0)&&(l={[t.key]:t}),console.log("==>items",l),na.map(l,u=>{if(!u.key)return;let i=hA(u.localCond);if(i?!i.every(w=>PD.apply(w,hA(e))):!1)return;let b=hA(u.cond);if(!(b&&!b.every(w=>PD.apply(w,hA(n))))){if(u.required){if(u.type=="IDs"||u.type=="enums"){(!e[u.key]||e?.[u.key]?.length===0)&&a.push([...r,u.title??u.key].join(" > "));return}u.type=="bool",u.type=="string"||u.type=="text"||u.type=="html"?(!e[u.key]||e[u.key].trim()==="")&&a.push([...r,u.title??u.key].join(" > ")):(e[u.key]==null||e[u.key]===null)&&a.push([...r,u.title??u.key].join(" > "))}if(u.itemType&&(u.required&&(!e[u.key]||e?.[u.key]?.length===0)?a.push(u.title??u.key):na.map(e[u.key],(w,M)=>{if(!u.itemType)return;let P=tt.key("Element")+" "+(M+1),j=u.title?u.title:u.key??"",G=XS(w??{},u.itemType,e,[...r,j,P]);G.length>0&&(a=[...a,...G])})),u.type=="structure"){let w=XS(e[u.key]??{},u,e,[...r,u.title??u.key]);w.length>0&&(a=[...a,...w])}}}),a},aB=Ve.createRef(),I8e=$.forwardRef((e,t)=>{const{isMobile:n}=Fr(),[r,a]=$.useState(null),l=$.useRef([]),u=$.useRef(""),i=$.useRef(null),[m,b]=$.useState(!1),_=$.useRef({}),[w,M]=$.useState(!1),[P,j]=$.useState(!1),[G,z]=$.useState(null);$.useImperativeHandle(t,()=>({open:Y=>{j(!1),z(null),M(!1),_.current={},u.current=Y.collection,a(Y.action),l.current=Y.ids,i.current=Y.onSuccess,b(!0)}}));const q=()=>{if(!r)return;let Y={..._.current,ids:l.current};if(r?.args){let ne=XS(_.current,r.args,_.current,[]);if(ne.length>0){Ca.error(`${ne[0]} ${tt.key("is_required")}`);return}}if(!r.key){Ca.error(tt.key("action_error_required"));return}let J=Ca.loading(tt.key("executing"));console.log("  ActionDialog: ",Y),ja.runAction({collection:u.current,action:r.key,args:Y}).then(ne=>{i.current?.(),j(!0),z(ne?.payload?.url??null),Ca.success(tt.key("action_dialog_success_title"))}).finally(()=>{Ca.dismiss(J)})};return n?r?.args?S.jsx(Yh,{opened:m,onBackdropClick:()=>b(!1),children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:r?.title,right:S.jsx(ks,{onClick:()=>b(!1),children:S.jsx(Yl,{})})}),P?S.jsx(S.Fragment,{children:S.jsxs(m1,{children:[S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(k$,{})}),S.jsx(v1,{children:tt.key("action_dialog_success_title")}),S.jsx(b1,{children:r?.title})]}),!!G&&S.jsx(i3,{children:S.jsx(Bn,{onClick:()=>{G&&window.open(G,"_blank")},children:tt.key("open_link")})})]})}):S.jsx(S.Fragment,{children:r?.args&&S.jsx(ov,{noPaddingBottom:!0,structure:r?.args,valuesRef:_})}),S.jsx(Jm,{onClick:q,className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",icon:S.jsx(h1,{}),text:tt.key("execute"),textPosition:"after"})]})}):S.jsx(XV,{opened:m,onBackdropClick:()=>b(!1),title:r?.title,content:P?tt.key("action_dialog_success_title"):tt.key("run_action_confirm"),buttons:S.jsxs(S.Fragment,{children:[S.jsx(TA,{onClick:()=>b(!1),children:tt.key("close")}),G&&S.jsx(TA,{onClick:()=>{G&&window.open(G,"_blank")},children:tt.key("open_link")}),!P&&S.jsx(TA,{strong:!0,onClick:q,children:tt.key("execute")})]})}):S.jsx(Lc,{open:m,onOpenChange:Y=>b(Y),children:S.jsxs(Pc,{children:[S.jsx(F1,{children:S.jsx(qb,{children:r?.title})}),P?S.jsx(S.Fragment,{children:S.jsxs(m1,{children:[S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(k$,{})}),S.jsx(v1,{children:tt.key("action_dialog_success_title")}),S.jsx(b1,{children:r?.title})]}),!!G&&S.jsx(i3,{children:S.jsx(Bn,{onClick:()=>{G&&window.open(G,"_blank")},children:tt.key("open_link")})})]})}):S.jsx(S.Fragment,{children:r?.args&&S.jsx(ov,{noPaddingBottom:!0,structure:r?.args,valuesRef:_})}),S.jsxs(B1,{children:[!P&&S.jsx(Bn,{onClick:q,disabled:w,children:tt.key("execute")}),S.jsx(Bn,{onClick:()=>b(!1),variant:"outline",children:tt.key("close")})]})]})})}),ute=Ve.createRef(),cte=$.forwardRef((e,t)=>{const{isMobile:n}=Fr(),[r,a]=$.useState(!1),[l,u]=$.useState(null),i=$.useRef({}),m=$.useRef(null);$.useImperativeHandle(t,()=>({open:w=>{m.current=w,u(w.structure),i.current=w.initialValues?{...w.initialValues}:{},a(!0)},close:()=>{a(!1)}}));const b=()=>{if(m.current&&l){let w=XS(i.current,l,i.current,[]);if(w.length>0){Ca.error(`${w[0]} ${tt.key("is_required")}`);return}m.current.onSave(i.current),a(!1)}},_=()=>{a(!1)};return r?n?S.jsx(Yh,{opened:r,onBackdropClick:_,children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("edit_fields"),subtitle:l?.title??"",right:S.jsx(ks,{onClick:_,children:S.jsx(Yl,{})})}),S.jsx(ov,{noPaddingBottom:!0,structure:l,valuesRef:i}),S.jsx(Jm,{className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",icon:S.jsx(s1,{}),onClick:b,text:tt.key("save")})]})}):S.jsx(Lc,{open:r,onOpenChange:a,children:S.jsxs(Pc,{showCloseButton:!n,children:[S.jsx(ov,{noPaddingBottom:!0,structure:l,valuesRef:i}),S.jsx(B1,{children:S.jsx(Bn,{onClick:b,children:tt.key("save")})})]})}):null});cte.displayName="CollectionFieldsDialog";function N8e(e,t,n){$.useEffect(()=>{let r;const a=setTimeout(()=>{r=t()},e);return()=>{clearTimeout(a),r&&r()}},n)}function fd({className:e,...t}){return S.jsx("div",{"data-slot":"skeleton",className:Dn("bg-accent animate-pulse rounded-md",e),...t})}const L1=Ve.createRef(),R8e=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1);$.useImperativeHandle(t,()=>({open:()=>{r(!0)}}),[]);const[a,l]=$.useState(!1),[u,i]=$.useState([]),m=$.useRef(null);$.useEffect(()=>(n&&(m.current=setInterval(()=>{ja.listExport().then(P=>{i(P||[])})},3e3),l(!0),ja.listExport().then(P=>{i(P||[])}).finally(()=>{l(!1)})),()=>{m.current&&(clearInterval(m.current),m.current=null)}),[n]);const{color:b}=Fr(),_=P=>{switch(P.status){case"pending":return tt.key("export_data_pending");case"processing":return tt.key("export_data_processing");case"done":return tt.key("export_data_done");case"error":return tt.key("export_data_error");default:return null}},w=P=>{switch(P.status){case"pending":return S.jsx(QA,{className:"animate-spin",size:20});case"processing":return S.jsx(XH,{className:"animate-pulse",size:20});case"done":return S.jsx(Coe,{className:"text-green-800",size:20});case"error":return S.jsx(Fse,{className:"text-red-500",size:20});default:return null}},{isMobile:M}=Fr();return M?S.jsx(Yh,{opened:n,onBackdropClick:()=>{r(!1)},children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("export_data"),right:S.jsx(ks,{onClick:()=>{r(!1)},children:S.jsx(Yl,{})})}),a&&[1,2,3,4].map(()=>S.jsx(fd,{className:"w-full h-10"})),!a&&u.length==0&&S.jsx(m1,{children:S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(mS,{})}),S.jsx(v1,{children:tt.key("no_export_data")}),S.jsx(b1,{children:tt.key("no_export_data_description")})]})}),!a&&u.length>0&&S.jsx(Pb,{outline:!0,children:u.map(P=>S.jsx(ql,{media:w(P),title:P.title,footer:_(P),after:S.jsxs("div",{className:"flex gap-2",children:[P.status=="done"&&S.jsx(vu,{onClick:()=>{window.open(P.fileUrl,"_blank")},children:S.jsx(k9,{size:20})}),S.jsx(vu,{onClick:()=>{ja.deleteExport({_id:P._id}).then(()=>{i(j=>j.filter(G=>G._id!=P._id))})},children:S.jsx(hd,{size:20})})]})}))})]})}):S.jsx(Lc,{onOpenChange:P=>{r(!1)},open:n,children:S.jsxs(Pc,{children:[S.jsx(F1,{children:S.jsx(qb,{children:tt.key("export_data")})}),a&&[1,2,3,4].map(()=>S.jsx(fd,{className:"w-full h-10"})),!a&&u.length==0&&S.jsx(m1,{children:S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(mS,{})}),S.jsx(v1,{children:tt.key("no_export_data")}),S.jsx(b1,{children:tt.key("no_export_data_description")})]})}),!a&&u.length>0&&u.map(P=>S.jsxs(FT,{variant:"outline",children:[S.jsx(eF,{children:w(P)}),S.jsxs(BT,{children:[S.jsx($T,{children:P.title}),S.jsx($X,{children:_(P)})]}),S.jsxs(jX,{children:[S.jsx(Bn,{onClick:()=>{window.open(P.fileUrl,"_blank")},disabled:P.status!="done",variant:"outline",size:"sm",children:S.jsx(k9,{size:20})}),S.jsx(Bn,{onClick:()=>{ja.deleteExport({_id:P._id}).then(()=>{i(j=>j.filter(G=>G._id!=P._id))})},variant:"outline",size:"sm",children:S.jsx(hd,{size:20})})]})]}))]})})}),rG=({lock:e,collection:t,limit:n,offset:r,search:a,sort:l,stage:u,currentHash:i,onHashUpdate:m})=>{const[b,_]=$.useState(!1);return $.useEffect(()=>{if(e||!t)return;_(!1);const w=setInterval(()=>{_(!0),ja.hash({collection:t,limit:n,offset:r,search:a&&a.trim()?a.trim():void 0,sort:l||void 0,stage:u??void 0}).then(M=>{M&&M!==i&&m()}).catch(M=>{}).finally(()=>{_(!1)})},5e3);return()=>{clearInterval(w)}},[e,t,n,r,a,l,u,i,m]),S.jsx(S.Fragment,{})};function M8e(e){const t=O8e(e),n=$.forwardRef((r,a)=>{const{children:l,...u}=r,i=$.Children.toArray(l),m=i.find(L8e);if(m){const b=m.props.children,_=i.map(w=>w===m?$.Children.count(b)>1?$.Children.only(null):$.isValidElement(b)?b.props.children:null:w);return S.jsx(t,{...u,ref:a,children:$.isValidElement(b)?$.cloneElement(b,void 0,_):null})}return S.jsx(t,{...u,ref:a,children:l})});return n.displayName=`${e}.Slot`,n}function O8e(e){const t=$.forwardRef((n,r)=>{const{children:a,...l}=n;if($.isValidElement(a)){const u=F8e(a),i=P8e(l,a.props);return a.type!==$.Fragment&&(i.ref=r?uv(r,u):u),$.cloneElement(a,i)}return $.Children.count(a)>1?$.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var D8e=Symbol("radix.slottable");function L8e(e){return $.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===D8e}function P8e(e,t){const n={...t};for(const r in t){const a=e[r],l=t[r];/^on[A-Z]/.test(r)?a&&l?n[r]=(...i)=>{const m=l(...i);return a(...i),m}:a&&(n[r]=a):r==="style"?n[r]={...a,...l}:r==="className"&&(n[r]=[a,l].filter(Boolean).join(" "))}return{...e,...n}}function F8e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ZD=["Enter"," "],B8e=["ArrowDown","PageUp","Home"],dte=["ArrowUp","PageDown","End"],$8e=[...B8e,...dte],j8e={ltr:[...ZD,"ArrowRight"],rtl:[...ZD,"ArrowLeft"]},z8e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dC="Menu",[KS,U8e,G8e]=$8(dC),[ix,HN]=vd(dC,[G8e,fw,Sw]),fC=fw(),fte=Sw(),[hte,n_]=ix(dC),[H8e,hC]=ix(dC),pte=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:a,onOpenChange:l,modal:u=!0}=e,i=fC(t),[m,b]=$.useState(null),_=$.useRef(!1),w=Xu(l),M=W1(a);return $.useEffect(()=>{const P=()=>{_.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>_.current=!1;return document.addEventListener("keydown",P,{capture:!0}),()=>{document.removeEventListener("keydown",P,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),S.jsx(RI,{...i,children:S.jsx(hte,{scope:t,open:n,onOpenChange:w,content:m,onContentChange:b,children:S.jsx(H8e,{scope:t,onClose:$.useCallback(()=>w(!1),[w]),isUsingKeyboardRef:_,dir:M,modal:u,children:r})})})};pte.displayName=dC;var V8e="MenuAnchor",iB=$.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=fC(n);return S.jsx(MI,{...a,...r,ref:t})});iB.displayName=V8e;var oB="MenuPortal",[q8e,mte]=ix(oB,{forceMount:void 0}),gte=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:a}=e,l=n_(oB,t);return S.jsx(q8e,{scope:t,forceMount:n,children:S.jsx(ec,{present:n||l.open,children:S.jsx(pT,{asChild:!0,container:a,children:r})})})};gte.displayName=oB;var qp="MenuContent",[Y8e,sB]=ix(qp),yte=$.forwardRef((e,t)=>{const n=mte(qp,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,l=n_(qp,e.__scopeMenu),u=hC(qp,e.__scopeMenu);return S.jsx(KS.Provider,{scope:e.__scopeMenu,children:S.jsx(ec,{present:r||l.open,children:S.jsx(KS.Slot,{scope:e.__scopeMenu,children:u.modal?S.jsx(W8e,{...a,ref:t}):S.jsx(Z8e,{...a,ref:t})})})})}),W8e=$.forwardRef((e,t)=>{const n=n_(qp,e.__scopeMenu),r=$.useRef(null),a=ni(t,r);return $.useEffect(()=>{const l=r.current;if(l)return DL(l)},[]),S.jsx(lB,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:kr(e.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Z8e=$.forwardRef((e,t)=>{const n=n_(qp,e.__scopeMenu);return S.jsx(lB,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),X8e=M8e("MenuContent.ScrollLock"),lB=$.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:a,onOpenAutoFocus:l,onCloseAutoFocus:u,disableOutsidePointerEvents:i,onEntryFocus:m,onEscapeKeyDown:b,onPointerDownOutside:_,onFocusOutside:w,onInteractOutside:M,onDismiss:P,disableOutsideScroll:j,...G}=e,z=n_(qp,n),q=hC(qp,n),Y=fC(n),J=fte(n),ne=U8e(n),[ie,ue]=$.useState(null),oe=$.useRef(null),K=ni(t,oe,z.onContentChange),se=$.useRef(0),pe=$.useRef(""),ve=$.useRef(0),Te=$.useRef(null),Me=$.useRef("right"),xe=$.useRef(0),Se=j?FI:$.Fragment,he=j?{as:X8e,allowPinchZoom:!0}:void 0,we=Be=>{const He=pe.current+Be,Re=ne().filter(Nt=>!Nt.disabled),je=document.activeElement,Ze=Re.find(Nt=>Nt.ref.current===je)?.textValue,Qe=Re.map(Nt=>Nt.textValue),Pe=lFe(Qe,He,Ze),St=Re.find(Nt=>Nt.textValue===Pe)?.ref.current;(function Nt(We){pe.current=We,window.clearTimeout(se.current),We!==""&&(se.current=window.setTimeout(()=>Nt(""),1e3))})(He),St&&setTimeout(()=>St.focus())};$.useEffect(()=>()=>window.clearTimeout(se.current),[]),OL();const _e=$.useCallback(Be=>Me.current===Te.current?.side&&cFe(Be,Te.current?.area),[]);return S.jsx(Y8e,{scope:n,searchRef:pe,onItemEnter:$.useCallback(Be=>{_e(Be)&&Be.preventDefault()},[_e]),onItemLeave:$.useCallback(Be=>{_e(Be)||(oe.current?.focus(),ue(null))},[_e]),onTriggerLeave:$.useCallback(Be=>{_e(Be)&&Be.preventDefault()},[_e]),pointerGraceTimerRef:ve,onPointerGraceIntentChange:$.useCallback(Be=>{Te.current=Be},[]),children:S.jsx(Se,{...he,children:S.jsx(LI,{asChild:!0,trapped:a,onMountAutoFocus:kr(l,Be=>{Be.preventDefault(),oe.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:S.jsx(fT,{asChild:!0,disableOutsidePointerEvents:i,onEscapeKeyDown:b,onPointerDownOutside:_,onFocusOutside:w,onInteractOutside:M,onDismiss:P,children:S.jsx(K8,{asChild:!0,...J,dir:q.dir,orientation:"vertical",loop:r,currentTabStopId:ie,onCurrentTabStopIdChange:ue,onEntryFocus:kr(m,Be=>{q.isUsingKeyboardRef.current||Be.preventDefault()}),preventScrollOnEntryFocus:!0,children:S.jsx(AL,{role:"menu","aria-orientation":"vertical","data-state":Dte(z.open),"data-radix-menu-content":"",dir:q.dir,...Y,...G,ref:K,style:{outline:"none",...G.style},onKeyDown:kr(G.onKeyDown,Be=>{const Re=Be.target.closest("[data-radix-menu-content]")===Be.currentTarget,je=Be.ctrlKey||Be.altKey||Be.metaKey,Ze=Be.key.length===1;Re&&(Be.key==="Tab"&&Be.preventDefault(),!je&&Ze&&we(Be.key));const Qe=oe.current;if(Be.target!==Qe||!$8e.includes(Be.key))return;Be.preventDefault();const St=ne().filter(Nt=>!Nt.disabled).map(Nt=>Nt.ref.current);dte.includes(Be.key)&&St.reverse(),oFe(St)}),onBlur:kr(e.onBlur,Be=>{Be.currentTarget.contains(Be.target)||(window.clearTimeout(se.current),pe.current="")}),onPointerMove:kr(e.onPointerMove,QS(Be=>{const He=Be.target,Re=xe.current!==Be.clientX;if(Be.currentTarget.contains(He)&&Re){const je=Be.clientX>xe.current?"right":"left";Me.current=je,xe.current=Be.clientX}}))})})})})})})});yte.displayName=qp;var K8e="MenuGroup",uB=$.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(xa.div,{role:"group",...r,ref:t})});uB.displayName=K8e;var Q8e="MenuLabel",vte=$.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(xa.div,{...r,ref:t})});vte.displayName=Q8e;var aI="MenuItem",aG="menu.itemSelect",VN=$.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...a}=e,l=$.useRef(null),u=hC(aI,e.__scopeMenu),i=sB(aI,e.__scopeMenu),m=ni(t,l),b=$.useRef(!1),_=()=>{const w=l.current;if(!n&&w){const M=new CustomEvent(aG,{bubbles:!0,cancelable:!0});w.addEventListener(aG,P=>r?.(P),{once:!0}),aq(w,M),M.defaultPrevented?b.current=!1:u.onClose()}};return S.jsx(bte,{...a,ref:m,disabled:n,onClick:kr(e.onClick,_),onPointerDown:w=>{e.onPointerDown?.(w),b.current=!0},onPointerUp:kr(e.onPointerUp,w=>{b.current||w.currentTarget?.click()}),onKeyDown:kr(e.onKeyDown,w=>{const M=i.searchRef.current!=="";n||M&&w.key===" "||ZD.includes(w.key)&&(w.currentTarget.click(),w.preventDefault())})})});VN.displayName=aI;var bte=$.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:a,...l}=e,u=sB(aI,n),i=fte(n),m=$.useRef(null),b=ni(t,m),[_,w]=$.useState(!1),[M,P]=$.useState("");return $.useEffect(()=>{const j=m.current;j&&P((j.textContent??"").trim())},[l.children]),S.jsx(KS.ItemSlot,{scope:n,disabled:r,textValue:a??M,children:S.jsx(Q8,{asChild:!0,...i,focusable:!r,children:S.jsx(xa.div,{role:"menuitem","data-highlighted":_?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...l,ref:b,onPointerMove:kr(e.onPointerMove,QS(j=>{r?u.onItemLeave(j):(u.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:kr(e.onPointerLeave,QS(j=>u.onItemLeave(j))),onFocus:kr(e.onFocus,()=>w(!0)),onBlur:kr(e.onBlur,()=>w(!1))})})})}),J8e="MenuCheckboxItem",_te=$.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...a}=e;return S.jsx(Tte,{scope:e.__scopeMenu,checked:n,children:S.jsx(VN,{role:"menuitemcheckbox","aria-checked":iI(n)?"mixed":n,...a,ref:t,"data-state":fB(n),onSelect:kr(a.onSelect,()=>r?.(iI(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_te.displayName=J8e;var xte="MenuRadioGroup",[eFe,tFe]=ix(xte,{value:void 0,onValueChange:()=>{}}),Ete=$.forwardRef((e,t)=>{const{value:n,onValueChange:r,...a}=e,l=Xu(r);return S.jsx(eFe,{scope:e.__scopeMenu,value:n,onValueChange:l,children:S.jsx(uB,{...a,ref:t})})});Ete.displayName=xte;var wte="MenuRadioItem",Ste=$.forwardRef((e,t)=>{const{value:n,...r}=e,a=tFe(wte,e.__scopeMenu),l=n===a.value;return S.jsx(Tte,{scope:e.__scopeMenu,checked:l,children:S.jsx(VN,{role:"menuitemradio","aria-checked":l,...r,ref:t,"data-state":fB(l),onSelect:kr(r.onSelect,()=>a.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});Ste.displayName=wte;var cB="MenuItemIndicator",[Tte,nFe]=ix(cB,{checked:!1}),Cte=$.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...a}=e,l=nFe(cB,n);return S.jsx(ec,{present:r||iI(l.checked)||l.checked===!0,children:S.jsx(xa.span,{...a,ref:t,"data-state":fB(l.checked)})})});Cte.displayName=cB;var rFe="MenuSeparator",Ate=$.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return S.jsx(xa.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});Ate.displayName=rFe;var aFe="MenuArrow",kte=$.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,a=fC(n);return S.jsx(kL,{...a,...r,ref:t})});kte.displayName=aFe;var dB="MenuSub",[iFe,Ite]=ix(dB),Nte=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:a}=e,l=n_(dB,t),u=fC(t),[i,m]=$.useState(null),[b,_]=$.useState(null),w=Xu(a);return $.useEffect(()=>(l.open===!1&&w(!1),()=>w(!1)),[l.open,w]),S.jsx(RI,{...u,children:S.jsx(hte,{scope:t,open:r,onOpenChange:w,content:b,onContentChange:_,children:S.jsx(iFe,{scope:t,contentId:eg(),triggerId:eg(),trigger:i,onTriggerChange:m,children:n})})})};Nte.displayName=dB;var U2="MenuSubTrigger",Rte=$.forwardRef((e,t)=>{const n=n_(U2,e.__scopeMenu),r=hC(U2,e.__scopeMenu),a=Ite(U2,e.__scopeMenu),l=sB(U2,e.__scopeMenu),u=$.useRef(null),{pointerGraceTimerRef:i,onPointerGraceIntentChange:m}=l,b={__scopeMenu:e.__scopeMenu},_=$.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return $.useEffect(()=>_,[_]),$.useEffect(()=>{const w=i.current;return()=>{window.clearTimeout(w),m(null)}},[i,m]),S.jsx(iB,{asChild:!0,...b,children:S.jsx(bte,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":Dte(n.open),...e,ref:uv(t,a.onTriggerChange),onClick:w=>{e.onClick?.(w),!(e.disabled||w.defaultPrevented)&&(w.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:kr(e.onPointerMove,QS(w=>{l.onItemEnter(w),!w.defaultPrevented&&!e.disabled&&!n.open&&!u.current&&(l.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{n.onOpenChange(!0),_()},100))})),onPointerLeave:kr(e.onPointerLeave,QS(w=>{_();const M=n.content?.getBoundingClientRect();if(M){const P=n.content?.dataset.side,j=P==="right",G=j?-5:5,z=M[j?"left":"right"],q=M[j?"right":"left"];l.onPointerGraceIntentChange({area:[{x:w.clientX+G,y:w.clientY},{x:z,y:M.top},{x:q,y:M.top},{x:q,y:M.bottom},{x:z,y:M.bottom}],side:P}),window.clearTimeout(i.current),i.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(w),w.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:kr(e.onKeyDown,w=>{const M=l.searchRef.current!=="";e.disabled||M&&w.key===" "||j8e[r.dir].includes(w.key)&&(n.onOpenChange(!0),n.content?.focus(),w.preventDefault())})})})});Rte.displayName=U2;var Mte="MenuSubContent",Ote=$.forwardRef((e,t)=>{const n=mte(qp,e.__scopeMenu),{forceMount:r=n.forceMount,...a}=e,l=n_(qp,e.__scopeMenu),u=hC(qp,e.__scopeMenu),i=Ite(Mte,e.__scopeMenu),m=$.useRef(null),b=ni(t,m);return S.jsx(KS.Provider,{scope:e.__scopeMenu,children:S.jsx(ec,{present:r||l.open,children:S.jsx(KS.Slot,{scope:e.__scopeMenu,children:S.jsx(lB,{id:i.contentId,"aria-labelledby":i.triggerId,...a,ref:b,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:_=>{u.isUsingKeyboardRef.current&&m.current?.focus(),_.preventDefault()},onCloseAutoFocus:_=>_.preventDefault(),onFocusOutside:kr(e.onFocusOutside,_=>{_.target!==i.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:kr(e.onEscapeKeyDown,_=>{u.onClose(),_.preventDefault()}),onKeyDown:kr(e.onKeyDown,_=>{const w=_.currentTarget.contains(_.target),M=z8e[u.dir].includes(_.key);w&&M&&(l.onOpenChange(!1),i.trigger?.focus(),_.preventDefault())})})})})})});Ote.displayName=Mte;function Dte(e){return e?"open":"closed"}function iI(e){return e==="indeterminate"}function fB(e){return iI(e)?"indeterminate":e?"checked":"unchecked"}function oFe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function sFe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function lFe(e,t,n){const a=t.length>1&&Array.from(t).every(b=>b===t[0])?t[0]:t,l=n?e.indexOf(n):-1;let u=sFe(e,Math.max(l,0));a.length===1&&(u=u.filter(b=>b!==n));const m=u.find(b=>b.toLowerCase().startsWith(a.toLowerCase()));return m!==n?m:void 0}function uFe(e,t){const{x:n,y:r}=e;let a=!1;for(let l=0,u=t.length-1;l<t.length;u=l++){const i=t[l],m=t[u],b=i.x,_=i.y,w=m.x,M=m.y;_>r!=M>r&&n<(w-b)*(r-_)/(M-_)+b&&(a=!a)}return a}function cFe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return uFe(n,t)}function QS(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Lte=pte,Pte=iB,Fte=gte,Bte=yte,$te=uB,jte=vte,zte=VN,Ute=_te,Gte=Ete,Hte=Ste,Vte=Cte,qte=Ate,Yte=kte,Wte=Nte,Zte=Rte,Xte=Ote,qN="DropdownMenu",[dFe]=vd(qN,[HN]),_d=HN(),[fFe,Kte]=dFe(qN),Qte=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:a,defaultOpen:l,onOpenChange:u,modal:i=!0}=e,m=_d(t),b=$.useRef(null),[_,w]=Zf({prop:a,defaultProp:l??!1,onChange:u,caller:qN});return S.jsx(fFe,{scope:t,triggerId:eg(),triggerRef:b,contentId:eg(),open:_,onOpenChange:w,onOpenToggle:$.useCallback(()=>w(M=>!M),[w]),modal:i,children:S.jsx(Lte,{...m,open:_,onOpenChange:w,dir:r,modal:i,children:n})})};Qte.displayName=qN;var Jte="DropdownMenuTrigger",ene=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...a}=e,l=Kte(Jte,n),u=_d(n);return S.jsx(Pte,{asChild:!0,...u,children:S.jsx(xa.button,{type:"button",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":l.open,"aria-controls":l.open?l.contentId:void 0,"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...a,ref:uv(t,l.triggerRef),onPointerDown:kr(e.onPointerDown,i=>{!r&&i.button===0&&i.ctrlKey===!1&&(l.onOpenToggle(),l.open||i.preventDefault())}),onKeyDown:kr(e.onKeyDown,i=>{r||(["Enter"," "].includes(i.key)&&l.onOpenToggle(),i.key==="ArrowDown"&&l.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(i.key)&&i.preventDefault())})})})});ene.displayName=Jte;var hFe="DropdownMenuPortal",tne=e=>{const{__scopeDropdownMenu:t,...n}=e,r=_d(t);return S.jsx(Fte,{...r,...n})};tne.displayName=hFe;var nne="DropdownMenuContent",rne=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=Kte(nne,n),l=_d(n),u=$.useRef(!1);return S.jsx(Bte,{id:a.contentId,"aria-labelledby":a.triggerId,...l,...r,ref:t,onCloseAutoFocus:kr(e.onCloseAutoFocus,i=>{u.current||a.triggerRef.current?.focus(),u.current=!1,i.preventDefault()}),onInteractOutside:kr(e.onInteractOutside,i=>{const m=i.detail.originalEvent,b=m.button===0&&m.ctrlKey===!0,_=m.button===2||b;(!a.modal||_)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rne.displayName=nne;var pFe="DropdownMenuGroup",ane=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx($te,{...a,...r,ref:t})});ane.displayName=pFe;var mFe="DropdownMenuLabel",gFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(jte,{...a,...r,ref:t})});gFe.displayName=mFe;var yFe="DropdownMenuItem",ine=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(zte,{...a,...r,ref:t})});ine.displayName=yFe;var vFe="DropdownMenuCheckboxItem",bFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Ute,{...a,...r,ref:t})});bFe.displayName=vFe;var _Fe="DropdownMenuRadioGroup",xFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Gte,{...a,...r,ref:t})});xFe.displayName=_Fe;var EFe="DropdownMenuRadioItem",wFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Hte,{...a,...r,ref:t})});wFe.displayName=EFe;var SFe="DropdownMenuItemIndicator",TFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Vte,{...a,...r,ref:t})});TFe.displayName=SFe;var CFe="DropdownMenuSeparator",one=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(qte,{...a,...r,ref:t})});one.displayName=CFe;var AFe="DropdownMenuArrow",kFe=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Yte,{...a,...r,ref:t})});kFe.displayName=AFe;var IFe=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:a,defaultOpen:l}=e,u=_d(t),[i,m]=Zf({prop:r,defaultProp:l??!1,onChange:a,caller:"DropdownMenuSub"});return S.jsx(Wte,{...u,open:i,onOpenChange:m,children:n})},NFe="DropdownMenuSubTrigger",sne=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Zte,{...a,...r,ref:t})});sne.displayName=NFe;var RFe="DropdownMenuSubContent",lne=$.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,a=_d(n);return S.jsx(Xte,{...a,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lne.displayName=RFe;var MFe=Qte,OFe=ene,une=tne,DFe=rne,LFe=ane,PFe=ine,FFe=one,BFe=IFe,$Fe=sne,jFe=lne;function oI({...e}){return S.jsx(MFe,{"data-slot":"dropdown-menu",...e})}function zFe({...e}){return S.jsx(une,{"data-slot":"dropdown-menu-portal",...e})}function sI({...e}){return S.jsx(OFe,{"data-slot":"dropdown-menu-trigger",...e})}function lI({className:e,sideOffset:t=4,...n}){return S.jsx(une,{children:S.jsx(DFe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function aE({...e}){return S.jsx(LFe,{"data-slot":"dropdown-menu-group",...e})}function Uf({className:e,inset:t,variant:n="default",...r}){return S.jsx(PFe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:Dn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function JS({className:e,...t}){return S.jsx(FFe,{"data-slot":"dropdown-menu-separator",className:Dn("bg-border -mx-1 my-1 h-px",e),...t})}function UFe({...e}){return S.jsx(BFe,{"data-slot":"dropdown-menu-sub",...e})}function GFe({className:e,inset:t,children:n,...r}){return S.jsxs($Fe,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:Dn("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,S.jsx(pS,{className:"ml-auto size-4"})]})}function HFe({className:e,...t}){return S.jsx(jFe,{"data-slot":"dropdown-menu-sub-content",className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}const VFe=e=>{const[t,n]=$.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsx(ql,{dividers:!0,style:{paddingLeft:cne(e.depth)},header:e.prefix,title:e.title,chevron:!1,media:t?S.jsx(Eoe,{}):S.jsx(i1,{}),onClick:()=>n(!t)}),t&&S.jsx(S.Fragment,{children:e.children})]})},cne=e=>e*20,nw=({menu:e,children:t,className:n})=>{const{isMobile:r}=Fr(),[a,l]=$.useState(!1),u=$.useRef(null),i=({prefix:m,items:b,subMenu:_=!1,depth:w})=>{const{isMobile:M}=Fr();return b.map(P=>P.type==="separator"?M?null:S.jsx(JS,{}):P.submenu?M?P.disabled?null:S.jsx(VFe,{depth:w,title:P.label,children:S.jsx(i,{depth:w+1,prefix:P.label,items:P.submenu,subMenu:!0})}):S.jsxs(UFe,{children:[S.jsx(GFe,{children:P.label}),S.jsx(zFe,{children:S.jsx(HFe,{children:S.jsx(i,{depth:w,items:P.submenu,subMenu:!0})})})]}):M?P.disabled?null:S.jsx(ql,{dividers:!0,style:{paddingLeft:cne(w)},title:P.label,header:m,link:!0,chevron:!1,onClick:()=>{P.disabled||(P.click?.(),l(!1))},media:P.htmlIcon}):S.jsxs(Uf,{onClick:()=>{P.click?.()},children:[P.htmlIcon,P.label]}))};return r?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:n,onClick:()=>l(!0),ref:u,children:t}),S.jsx(QV,{className:"pb-safe ",opened:a,onBackdropClick:()=>l(!1),children:S.jsxs("div",{className:"max-h-[80vh] overflow-y-auto ",children:[S.jsxs(vL,{top:!0,className:"justify-end ios:pt-4 sticky top-0 z-10",children:[S.jsx("div",{className:"ios:hidden"}),S.jsx(Qce,{children:S.jsx(ks,{iconOnly:!0,onClick:()=>l(!1),children:S.jsx(Yl,{})})})]}),S.jsx("ul",{children:S.jsx(i,{depth:0,items:e,subMenu:!0})})]})})]}):S.jsxs(oI,{children:[S.jsx(sI,{asChild:!0,children:t}),S.jsx(lI,{align:"end",children:S.jsx(i,{depth:0,items:e})})]})},qFe=e=>{const t=e.value;return!t||na.size(t)===0?S.jsx("div",{className:"flex items-center justify-center",children:"-"}):e.structure?.itemType?.type=="structure"?S.jsx("div",{children:na.map(t,(n,r)=>S.jsx(bB,{value:n,structure:e.structure?.itemType??null}))}):S.jsxs(pl,{children:[na.size(t),"x ",e.structure?.title]})};function XD(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M427 234.625H167.296l119.702-119.702L256 85 85 256l171 171 29.922-29.924-118.626-119.701H427v-42.75z"},child:[]}]})(e)}function YFe(e){return tc({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M186.301 339.893L96 249.461l-32 30.507L186.301 402 448 140.506 416 110z"},child:[]}]})(e)}const WFe=e=>{const t=e.value;return S.jsx("div",{className:"flex items-center justify-center",children:t?S.jsx(YFe,{size:20}):S.jsx(dTe,{size:20})})},ZFe=e=>{const t=e.value;return S.jsx("div",{className:"flex items-center justify-center",children:t?S.jsx("div",{className:"w-4 h-4 rounded-md",style:{backgroundColor:t}}):" - "})},r_=e=>S.jsx("div",{style:{opacity:.2},children:"  "}),XFe=e=>{const t=e.value,n=e.structure?.values;if(!t||!n?.[t])return S.jsx(r_,{...e});const r=t?.includes("cancel")||t?.includes("error")||t?.includes("fail");return S.jsx("div",{children:S.jsx(pl,{variant:r?"destructive":"default",children:n?.[t]})})},KFe=e=>{const t=e.value,n=e.structure?.itemType?.values;return!t||na.size(t)==0?S.jsx(r_,{...e}):S.jsx("div",{children:na.map(t,(r,a)=>S.jsx(pl,{children:n?.[r]??" - "}))})},WM=e=>{const t=e.value;return e.structure?.type=="fileImage"||e.structure?.type=="fileImageID"?t?.url?S.jsx("img",{className:"w-10 h-10 object-cover rounded-md",src:t?.url_small??t?.url_medium??t?.url,alt:e.structure?.title??""}):S.jsx("div",{className:"w-10 h-10 flex items-center justify-center opacity-50",children:S.jsx(C9,{size:24})}):e.structure?.type=="fileImageLink"?t?S.jsx("img",{className:"w-10 h-10 object-cover rounded-md",src:t,alt:e.structure?.title??""}):S.jsx("div",{className:"w-10 h-10 flex items-center justify-center  opacity-50",children:S.jsx(C9,{size:24})}):S.jsx("div",{})},QFe=e=>{const t=e.value;return t?S.jsx("div",{className:"truncate-2-lines",children:t.address}):S.jsx("div",{style:{opacity:.2},children:e.structure?.title})};function JFe(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}const eBe=e=>{const t=e.value;return S.jsx("div",{className:"truncate-2-lines",children:JFe(t)})},tBe=e=>{const t=e.value;return t?S.jsx(QE,{value:t,collection:e.structure?.collection??""}):S.jsx(r_,{...e})},nBe=e=>{const t=e.value;return!t||na.size(t)==0?S.jsx("div",{style:{opacity:.2},children:e.structure?.title}):S.jsxs("div",{children:[na.map(t,(n,r)=>r>4?null:S.jsx(pl,{children:S.jsx(QE,{value:n,collection:e.structure?.collection??""})})),na.size(t)>5&&S.jsxs(pl,{children:["+",na.size(t)-5]})]})};var WA={exports:{}};var rBe=WA.exports,iG;function aBe(){return iG||(iG=1,(function(e){(function(t,n){e.exports?e.exports=n():t.numeral=n()})(rBe,function(){var t,n,r="2.0.6",a={},l={},u={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},i={currentLocale:u.currentLocale,zeroFormat:u.zeroFormat,nullFormat:u.nullFormat,defaultFormat:u.defaultFormat,scalePercentBy100:u.scalePercentBy100};function m(b,_){this._input=b,this._value=_}return t=function(b){var _,w,M,P;if(t.isNumeral(b))_=b.value();else if(b===0||typeof b>"u")_=0;else if(b===null||n.isNaN(b))_=null;else if(typeof b=="string")if(i.zeroFormat&&b===i.zeroFormat)_=0;else if(i.nullFormat&&b===i.nullFormat||!b.replace(/[^0-9]+/g,"").length)_=null;else{for(w in a)if(P=typeof a[w].regexps.unformat=="function"?a[w].regexps.unformat():a[w].regexps.unformat,P&&b.match(P)){M=a[w].unformat;break}M=M||t._.stringToNumber,_=M(b)}else _=Number(b)||null;return new m(b,_)},t.version=r,t.isNumeral=function(b){return b instanceof m},t._=n={numberToFormat:function(b,_,w){var M=l[t.options.currentLocale],P=!1,j=!1,G=0,z="",q=1e12,Y=1e9,J=1e6,ne=1e3,ie="",ue=!1,oe,K,se,pe,ve,Te,Me;if(b=b||0,K=Math.abs(b),t._.includes(_,"(")?(P=!0,_=_.replace(/[\(|\)]/g,"")):(t._.includes(_,"+")||t._.includes(_,"-"))&&(ve=t._.includes(_,"+")?_.indexOf("+"):b<0?_.indexOf("-"):-1,_=_.replace(/[\+|\-]/g,"")),t._.includes(_,"a")&&(oe=_.match(/a(k|m|b|t)?/),oe=oe?oe[1]:!1,t._.includes(_," a")&&(z=" "),_=_.replace(new RegExp(z+"a[kmbt]?"),""),K>=q&&!oe||oe==="t"?(z+=M.abbreviations.trillion,b=b/q):K<q&&K>=Y&&!oe||oe==="b"?(z+=M.abbreviations.billion,b=b/Y):K<Y&&K>=J&&!oe||oe==="m"?(z+=M.abbreviations.million,b=b/J):(K<J&&K>=ne&&!oe||oe==="k")&&(z+=M.abbreviations.thousand,b=b/ne)),t._.includes(_,"[.]")&&(j=!0,_=_.replace("[.]",".")),se=b.toString().split(".")[0],pe=_.split(".")[1],Te=_.indexOf(","),G=(_.split(".")[0].split(",")[0].match(/0/g)||[]).length,pe?(t._.includes(pe,"[")?(pe=pe.replace("]",""),pe=pe.split("["),ie=t._.toFixed(b,pe[0].length+pe[1].length,w,pe[1].length)):ie=t._.toFixed(b,pe.length,w),se=ie.split(".")[0],t._.includes(ie,".")?ie=M.delimiters.decimal+ie.split(".")[1]:ie="",j&&Number(ie.slice(1))===0&&(ie="")):se=t._.toFixed(b,0,w),z&&!oe&&Number(se)>=1e3&&z!==M.abbreviations.trillion)switch(se=String(Number(se)/1e3),z){case M.abbreviations.thousand:z=M.abbreviations.million;break;case M.abbreviations.million:z=M.abbreviations.billion;break;case M.abbreviations.billion:z=M.abbreviations.trillion;break}if(t._.includes(se,"-")&&(se=se.slice(1),ue=!0),se.length<G)for(var xe=G-se.length;xe>0;xe--)se="0"+se;return Te>-1&&(se=se.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+M.delimiters.thousands)),_.indexOf(".")===0&&(se=""),Me=se+ie+(z||""),P?Me=(P&&ue?"(":"")+Me+(P&&ue?")":""):ve>=0?Me=ve===0?(ue?"-":"+")+Me:Me+(ue?"-":"+"):ue&&(Me="-"+Me),Me},stringToNumber:function(b){var _=l[i.currentLocale],w=b,M={thousand:3,million:6,billion:9,trillion:12},P,j,G;if(i.zeroFormat&&b===i.zeroFormat)j=0;else if(i.nullFormat&&b===i.nullFormat||!b.replace(/[^0-9]+/g,"").length)j=null;else{j=1,_.delimiters.decimal!=="."&&(b=b.replace(/\./g,"").replace(_.delimiters.decimal,"."));for(P in M)if(G=new RegExp("[^a-zA-Z]"+_.abbreviations[P]+"(?:\\)|(\\"+_.currency.symbol+")?(?:\\))?)?$"),w.match(G)){j*=Math.pow(10,M[P]);break}j*=(b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1,b=b.replace(/[^0-9\.]+/g,""),j*=Number(b)}return j},isNaN:function(b){return typeof b=="number"&&isNaN(b)},includes:function(b,_){return b.indexOf(_)!==-1},insert:function(b,_,w){return b.slice(0,w)+_+b.slice(w)},reduce:function(b,_){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof _!="function")throw new TypeError(_+" is not a function");var w=Object(b),M=w.length>>>0,P=0,j;if(arguments.length===3)j=arguments[2];else{for(;P<M&&!(P in w);)P++;if(P>=M)throw new TypeError("Reduce of empty array with no initial value");j=w[P++]}for(;P<M;P++)P in w&&(j=_(j,w[P],P,w));return j},multiplier:function(b){var _=b.toString().split(".");return _.length<2?1:Math.pow(10,_[1].length)},correctionFactor:function(){var b=Array.prototype.slice.call(arguments);return b.reduce(function(_,w){var M=n.multiplier(w);return _>M?_:M},1)},toFixed:function(b,_,w,M){var P=b.toString().split("."),j=_-(M||0),G,z,q,Y;return P.length===2?G=Math.min(Math.max(P[1].length,j),_):G=j,q=Math.pow(10,G),Y=(w(b+"e+"+G)/q).toFixed(G),M>_-G&&(z=new RegExp("\\.?0{1,"+(M-(_-G))+"}$"),Y=Y.replace(z,"")),Y}},t.options=i,t.formats=a,t.locales=l,t.locale=function(b){return b&&(i.currentLocale=b.toLowerCase()),i.currentLocale},t.localeData=function(b){if(!b)return l[i.currentLocale];if(b=b.toLowerCase(),!l[b])throw new Error("Unknown locale : "+b);return l[b]},t.reset=function(){for(var b in u)i[b]=u[b]},t.zeroFormat=function(b){i.zeroFormat=typeof b=="string"?b:null},t.nullFormat=function(b){i.nullFormat=typeof b=="string"?b:null},t.defaultFormat=function(b){i.defaultFormat=typeof b=="string"?b:"0.0"},t.register=function(b,_,w){if(_=_.toLowerCase(),this[b+"s"][_])throw new TypeError(_+" "+b+" already registered.");return this[b+"s"][_]=w,w},t.validate=function(b,_){var w,M,P,j,G,z,q,Y;if(typeof b!="string"&&(b+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",b)),b=b.trim(),b.match(/^\d+$/))return!0;if(b==="")return!1;try{q=t.localeData(_)}catch{q=t.localeData(t.locale())}return P=q.currency.symbol,G=q.abbreviations,w=q.delimiters.decimal,q.delimiters.thousands==="."?M="\\.":M=q.delimiters.thousands,Y=b.match(/^[^\d]+/),Y!==null&&(b=b.substr(1),Y[0]!==P)||(Y=b.match(/[^\d]+$/),Y!==null&&(b=b.slice(0,-1),Y[0]!==G.thousand&&Y[0]!==G.million&&Y[0]!==G.billion&&Y[0]!==G.trillion))?!1:(z=new RegExp(M+"{2}"),b.match(/[^\d.,]/g)?!1:(j=b.split(w),j.length>2?!1:j.length<2?!!j[0].match(/^\d+.*\d$/)&&!j[0].match(z):j[0].length===1?!!j[0].match(/^\d+$/)&&!j[0].match(z)&&!!j[1].match(/^\d+$/):!!j[0].match(/^\d+.*\d$/)&&!j[0].match(z)&&!!j[1].match(/^\d+$/)))},t.fn=m.prototype={clone:function(){return t(this)},format:function(b,_){var w=this._value,M=b||i.defaultFormat,P,j,G;if(_=_||Math.round,w===0&&i.zeroFormat!==null)j=i.zeroFormat;else if(w===null&&i.nullFormat!==null)j=i.nullFormat;else{for(P in a)if(M.match(a[P].regexps.format)){G=a[P].format;break}G=G||t._.numberToFormat,j=G(w,M,_)}return j},value:function(){return this._value},input:function(){return this._input},set:function(b){return this._value=Number(b),this},add:function(b){var _=n.correctionFactor.call(null,this._value,b);function w(M,P,j,G){return M+Math.round(_*P)}return this._value=n.reduce([this._value,b],w,0)/_,this},subtract:function(b){var _=n.correctionFactor.call(null,this._value,b);function w(M,P,j,G){return M-Math.round(_*P)}return this._value=n.reduce([b],w,Math.round(this._value*_))/_,this},multiply:function(b){function _(w,M,P,j){var G=n.correctionFactor(w,M);return Math.round(w*G)*Math.round(M*G)/Math.round(G*G)}return this._value=n.reduce([this._value,b],_,1),this},divide:function(b){function _(w,M,P,j){var G=n.correctionFactor(w,M);return Math.round(w*G)/Math.round(M*G)}return this._value=n.reduce([this._value,b],_),this},difference:function(b){return Math.abs(t(this._value).subtract(b).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(b){var _=b%10;return~~(b%100/10)===1?"th":_===1?"st":_===2?"nd":_===3?"rd":"th"},currency:{symbol:"$"}}),(function(){t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(b,_,w){var M=t._.includes(_," BPS")?" ":"",P;return b=b*1e4,_=_.replace(/\s?BPS/,""),P=t._.numberToFormat(b,_,w),t._.includes(P,")")?(P=P.split(""),P.splice(-1,0,M+"BPS"),P=P.join("")):P=P+M+"BPS",P},unformat:function(b){return+(t._.stringToNumber(b)*1e-4).toFixed(15)}})})(),(function(){var b={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},_={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},w=b.suffixes.concat(_.suffixes.filter(function(P){return b.suffixes.indexOf(P)<0})),M=w.join("|");M="("+M.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(M)},format:function(P,j,G){var z,q=t._.includes(j,"ib")?_:b,Y=t._.includes(j," b")||t._.includes(j," ib")?" ":"",J,ne,ie;for(j=j.replace(/\s?i?b/,""),J=0;J<=q.suffixes.length;J++)if(ne=Math.pow(q.base,J),ie=Math.pow(q.base,J+1),P===null||P===0||P>=ne&&P<ie){Y+=q.suffixes[J],ne>0&&(P=P/ne);break}return z=t._.numberToFormat(P,j,G),z+Y},unformat:function(P){var j=t._.stringToNumber(P),G,z;if(j){for(G=b.suffixes.length-1;G>=0;G--){if(t._.includes(P,b.suffixes[G])){z=Math.pow(b.base,G);break}if(t._.includes(P,_.suffixes[G])){z=Math.pow(_.base,G);break}}j*=z||1}return j}})})(),(function(){t.register("format","currency",{regexps:{format:/(\$)/},format:function(b,_,w){var M=t.locales[t.options.currentLocale],P={before:_.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:_.match(/([\+|\-|\)|\s|\$]*)$/)[0]},j,G,z;for(_=_.replace(/\s?\$\s?/,""),j=t._.numberToFormat(b,_,w),b>=0?(P.before=P.before.replace(/[\-\(]/,""),P.after=P.after.replace(/[\-\)]/,"")):b<0&&!t._.includes(P.before,"-")&&!t._.includes(P.before,"(")&&(P.before="-"+P.before),z=0;z<P.before.length;z++)switch(G=P.before[z],G){case"$":j=t._.insert(j,M.currency.symbol,z);break;case" ":j=t._.insert(j," ",z+M.currency.symbol.length-1);break}for(z=P.after.length-1;z>=0;z--)switch(G=P.after[z],G){case"$":j=z===P.after.length-1?j+M.currency.symbol:t._.insert(j,M.currency.symbol,-(P.after.length-(1+z)));break;case" ":j=z===P.after.length-1?j+" ":t._.insert(j," ",-(P.after.length-(1+z)+M.currency.symbol.length-1));break}return j}})})(),(function(){t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(b,_,w){var M,P=typeof b=="number"&&!t._.isNaN(b)?b.toExponential():"0e+0",j=P.split("e");return _=_.replace(/e[\+|\-]{1}0/,""),M=t._.numberToFormat(Number(j[0]),_,w),M+"e"+j[1]},unformat:function(b){var _=t._.includes(b,"e+")?b.split("e+"):b.split("e-"),w=Number(_[0]),M=Number(_[1]);M=t._.includes(b,"e-")?M*=-1:M;function P(j,G,z,q){var Y=t._.correctionFactor(j,G),J=j*Y*(G*Y)/(Y*Y);return J}return t._.reduce([w,Math.pow(10,M)],P,1)}})})(),(function(){t.register("format","ordinal",{regexps:{format:/(o)/},format:function(b,_,w){var M=t.locales[t.options.currentLocale],P,j=t._.includes(_," o")?" ":"";return _=_.replace(/\s?o/,""),j+=M.ordinal(b),P=t._.numberToFormat(b,_,w),P+j}})})(),(function(){t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(b,_,w){var M=t._.includes(_," %")?" ":"",P;return t.options.scalePercentBy100&&(b=b*100),_=_.replace(/\s?\%/,""),P=t._.numberToFormat(b,_,w),t._.includes(P,")")?(P=P.split(""),P.splice(-1,0,M+"%"),P=P.join("")):P=P+M+"%",P},unformat:function(b){var _=t._.stringToNumber(b);return t.options.scalePercentBy100?_*.01:_}})})(),(function(){t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(b,_,w){var M=Math.floor(b/60/60),P=Math.floor((b-M*60*60)/60),j=Math.round(b-M*60*60-P*60);return M+":"+(P<10?"0"+P:P)+":"+(j<10?"0"+j:j)},unformat:function(b){var _=b.split(":"),w=0;return _.length===3?(w=w+Number(_[0])*60*60,w=w+Number(_[1])*60,w=w+Number(_[2])):_.length===2&&(w=w+Number(_[0])*60,w=w+Number(_[1])),Number(w)}})})(),t})})(WA)),WA.exports}var iBe=aBe();const oBe=qh(iBe),oG=e=>{let t=e.value??0;return S.jsx("div",{style:{opacity:t?1:.5,color:+t>0?"green":+t<0?"red":"inherit"},className:"text-center font-medium ",children:na.isNumber(t)?oBe(t).format("0,0[.]00").replace(/,/g," "):""})},sBe=/^[a-z]{2}$/i,lBe=127397;function uBe(e){if(!sBe.test(e)){const n=typeof e;throw new TypeError(`cc argument must be an ISO 3166-1 alpha-2 string, but got '${n==="string"?e:n}' instead.`)}const t=[...e.toUpperCase()].map(n=>n.codePointAt()+lBe);return String.fromCodePoint(...t)}var cBe=uBe;const dBe={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function fBe(e,t){var n=Array.prototype.slice.call(t);return n.push(dBe),e.apply(this,n)}function sG(e,t){e=e.split("-"),t=t.split("-");for(var n=e[0].split("."),r=t[0].split("."),a=0;a<3;a++){var l=Number(n[a]),u=Number(r[a]);if(l>u)return 1;if(u>l)return-1;if(!isNaN(l)&&isNaN(u))return 1;if(isNaN(l)&&!isNaN(u))return-1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}var hBe={}.constructor;function AE(e){return e!=null&&e.constructor===hBe}function rw(e){"@babel/helpers - typeof";return rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rw(e)}function YN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mBe(r.key),r)}}function WN(e,t,n){return t&&pBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mBe(e){var t=gBe(e,"string");return rw(t)=="symbol"?t:t+""}function gBe(e,t){if(rw(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yBe="1.2.0",vBe="1.7.35",lG=" ext. ",bBe=/^\d+$/,xd=(function(){function e(t){YN(this,e),dne(t),this.metadata=t,fne.call(this,t)}return WN(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(n){return n!=="001"})}},{key:"getCountryMetadata",value:function(n){return this.metadata.countries[n]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(n){return this.getCountryMetadata(n)!==void 0}},{key:"hasCallingCode",value:function(n){if(this.getCountryCodesForCallingCode(n))return!0;if(this.nonGeographic()){if(this.nonGeographic()[n])return!0}else{var r=this.countryCallingCodes()[n];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(n){return this.nonGeographic()?!!this.nonGeographic()[n]:!this.getCountryCodesForCallingCode(n)}},{key:"country",value:function(n){return this.selectNumberingPlan(n)}},{key:"selectNumberingPlan",value:function(n,r){if(n&&bBe.test(n)&&(r=n,n=null),n&&n!=="001"){if(!this.hasCountry(n))throw new Error("Unknown country: ".concat(n));this.numberingPlan=new uG(this.getCountryMetadata(n),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new uG(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(n){var r=this.countryCallingCodes()[n];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(n){var r=this.getCountryCodesForCallingCode(n);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(n){var r=this.getCountryCodeForCallingCode(n);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var a=this.nonGeographic()[n];if(a)return a}else{var l=this.countryCallingCodes()[n];if(l&&l.length===1&&l[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(n){return this.numberingPlan.type(n)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(n){return this.selectNumberingPlan(n)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),uG=(function(){function e(t,n){YN(this,e),this.globalMetadataObject=n,this.metadata=t,fne.call(this,n.metadata)}return WN(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(n){return n[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var n=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(a){return new _Be(a,n)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(n){return n[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(n){if(this.hasTypes()&&cG(this.types(),n))return new EBe(cG(this.types(),n),this)}},{key:"ext",value:function(){return this.v1||this.v2?lG:this.metadata[13]||lG}}])})(),_Be=(function(){function e(t,n){YN(this,e),this._format=t,this.metadata=n}return WN(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!xBe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),xBe=/^\(?\$1\)?$/,EBe=(function(){function e(t,n){YN(this,e),this.type=t,this.metadata=n}return WN(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function cG(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function dne(e){if(!e)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!AE(e)||!AE(e.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(AE(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+wBe(e)+": "+e,"."))}var wBe=function(t){return rw(t)};function hB(e,t){if(t=new xd(t),t.hasCountry(e))return t.selectNumberingPlan(e).countryCallingCode();throw new Error("Unknown country: ".concat(e))}function SBe(e,t){return t.countries.hasOwnProperty(e)}function fne(e){var t=e.version;typeof t=="number"?(this.v1=t===1,this.v2=t===2,this.v3=t===3,this.v4=t===4):t?sG(t,yBe)===-1?this.v2=!0:sG(t,vBe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function pB(e,t,n){return TBe(e,t,void 0,n)}function TBe(e,t,n,r){t&&(r=new xd(r.metadata),r.selectNumberingPlan(t));var a=r.type(n),l=a&&a.possibleLengths()||r.possibleLengths();if(!l)return"IS_POSSIBLE";var u=e.length,i=l[0];return i===u?"IS_POSSIBLE":i>u?"TOO_SHORT":l[l.length-1]<u?"TOO_LONG":l.indexOf(u,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function CBe(e,t,n){if(t===void 0&&(t={}),n=new xd(n),t.v2){if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!n.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));n.selectNumberingPlan(e.country)}else{if(!e.countryCallingCode)throw new Error("Invalid phone number object passed");n.selectNumberingPlan(e.countryCallingCode)}}if(n.possibleLengths())return hne(e.phone||e.nationalNumber,e.country,n);if(e.countryCallingCode&&n.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function hne(e,t,n){switch(pB(e,t,n)){case"IS_POSSIBLE":return!0;default:return!1}}function sv(e,t){return e=e||"",new RegExp("^(?:"+t+")$").test(e)}function ABe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=kBe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(e,t){if(e){if(typeof e=="string")return dG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dG(e,t):void 0}}function dG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var IBe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function mB(e,t,n){if(t=t||{},!(!e.country&&!e.countryCallingCode)){n=new xd(n),n.selectNumberingPlan(e.country,e.countryCallingCode);var r=t.v2?e.nationalNumber:e.phone;if(sv(r,n.nationalNumberPattern())){if(ZM(r,"FIXED_LINE",n))return n.type("MOBILE")&&n.type("MOBILE").pattern()===""||!n.type("MOBILE")||ZM(r,"MOBILE",n)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var a=ABe(IBe),l;!(l=a()).done;){var u=l.value;if(ZM(r,u,n))return u}}}}function ZM(e,t,n){return t=n.type(t),!t||!t.pattern()||t.possibleLengths()&&t.possibleLengths().indexOf(e.length)<0?!1:sv(e,t.pattern())}function NBe(e,t,n){if(t=t||{},n=new xd(n),n.selectNumberingPlan(e.country,e.countryCallingCode),n.hasTypes())return mB(e,t,n.metadata)!==void 0;var r=t.v2?e.nationalNumber:e.phone;return sv(r,n.nationalNumberPattern())}function RBe(e,t,n){var r=new xd(n),a=r.getCountryCodesForCallingCode(e);return a?a.filter(function(l){return MBe(t,l,n)}):[]}function MBe(e,t,n){var r=new xd(n);return r.selectNumberingPlan(t),r.numberingPlan.possibleLengths().indexOf(e.length)>=0}var gB=2,OBe=17,DBe=3,fg="0-9---",LBe="--",PBe="/",FBe=".",BBe=" ",$Be="()\\[\\]",jBe="~",uI="".concat(LBe).concat(PBe).concat(FBe).concat(BBe).concat($Be).concat(jBe),yB="+",zBe=new RegExp("(["+fg+"])");function UBe(e,t,n,r){if(t){var a=new xd(r);a.selectNumberingPlan(t,n);var l=new RegExp(a.IDDPrefix());if(e.search(l)===0){e=e.slice(e.match(l)[0].length);var u=e.match(zBe);if(!(u&&u[1]!=null&&u[1].length>0&&u[1]==="0"))return e}}}function GBe(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var n=new RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),r=n.exec(e);if(r){var a,l,u=r.length-1,i=u>0&&r[u];if(t.nationalPrefixTransformRule()&&i)a=e.replace(n,t.nationalPrefixTransformRule()),u>1&&(l=r[1]);else{var m=r[0];a=e.slice(m.length),i&&(l=r[1])}var b;if(i){var _=e.indexOf(r[1]),w=e.slice(0,_);w===t.numberingPlan.nationalPrefix()&&(b=t.numberingPlan.nationalPrefix())}else b=r[0];return{nationalNumber:a,nationalPrefix:b,carrierCode:l}}}return{nationalNumber:e}}function HBe(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=VBe(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VBe(e,t){if(e){if(typeof e=="string")return fG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fG(e,t):void 0}}function fG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function qBe(e,t){var n=t.countries,r=t.metadata;r=new xd(r);for(var a=HBe(n),l;!(l=a()).done;){var u=l.value;if(r.selectNumberingPlan(u),r.leadingDigits()){if(e&&e.search(r.leadingDigits())===0)return u}else if(mB({phone:e,country:u},void 0,r.metadata))return u}}function pne(e,t){var n=t.nationalNumber,r=t.metadata,a=r.getCountryCodesForCallingCode(e);if(a)return a.length===1?a[0]:qBe(n,{countries:a,metadata:r.metadata})}function KD(e,t,n){var r=GBe(e,n),a=r.carrierCode,l=r.nationalNumber;if(l!==e){if(!YBe(e,l,n))return{nationalNumber:e};if(n.numberingPlan.possibleLengths()&&(t||(t=pne(n.numberingPlan.callingCode(),{nationalNumber:l,metadata:n})),!WBe(l,t,n)))return{nationalNumber:e}}return{nationalNumber:l,carrierCode:a}}function YBe(e,t,n){return!(sv(e,n.nationalNumberPattern())&&!sv(t,n.nationalNumberPattern()))}function WBe(e,t,n){switch(pB(e,t,n)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function ZBe(e,t,n,r,a){var l=n?hB(n,a):r;if(e.indexOf(l)===0){a=new xd(a),a.selectNumberingPlan(n,l);var u=e.slice(l.length),i=KD(u,t,a),m=i.nationalNumber,b=KD(e,t,a),_=b.nationalNumber;if(!sv(_,a.nationalNumberPattern())&&sv(m,a.nationalNumberPattern())||pB(_,t,a)==="TOO_LONG")return{countryCallingCode:l,number:u}}return{number:e}}function mne(e,t,n,r,a){if(!e)return{};var l;if(e[0]!=="+"){var u=UBe(e,n,r,a);if(u&&u!==e)l=!0,e="+"+u;else{if(n||r){var i=ZBe(e,t,n,r,a),m=i.countryCallingCode,b=i.number;if(m)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:m,number:b}}return{number:e}}}if(e[1]==="0")return{};a=new xd(a);for(var _=2;_-1<=DBe&&_<=e.length;){var w=e.slice(1,_);if(a.hasCallingCode(w))return a.selectNumberingPlan(w),{countryCallingCodeSource:l?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:w,number:e.slice(_)};_++}return{}}function XBe(e){return e.replace(new RegExp("[".concat(uI,"]+"),"g")," ").trim()}var KBe=/(\$\d)/;function QBe(e,t,n){var r=n.useInternationalFormat,a=n.withNationalPrefix,l=e.replace(new RegExp(t.pattern()),r?t.internationalFormat():a&&t.nationalPrefixFormattingRule()?t.format().replace(KBe,t.nationalPrefixFormattingRule()):t.format());return r?XBe(l):l}var JBe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function e$e(e,t,n){var r=new xd(n);if(r.selectNumberingPlan(e,t),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(JBe.test(r.IDDPrefix()))return r.IDDPrefix()}var t$e=";ext=",Kx=function(t){return"([".concat(fg,"]{1,").concat(t,"})")};function gne(e){var t="20",n="15",r="9",a="6",l="[ \\t,]*",u="[:\\.]?[ \\t,-]*",i="#?",m="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",b="(?:[x#~]|int|)",_="[- ]+",w="[ \\t]*",M="(?:,{2}|;)",P=t$e+Kx(t),j=l+m+u+Kx(t)+i,G=l+b+u+Kx(r)+i,z=_+Kx(a)+"#",q=w+M+u+Kx(n)+i,Y=w+"(?:,)+"+u+Kx(r)+i;return P+"|"+j+"|"+G+"|"+z+"|"+q+"|"+Y}var n$e="["+fg+"]{"+gB+"}",r$e="["+yB+"]{0,1}(?:["+uI+"]*["+fg+"]){3,}["+uI+fg+"]*",a$e=new RegExp("^["+yB+"]{0,1}(?:["+uI+"]*["+fg+"]){1,2}$","i"),i$e=r$e+"(?:"+gne()+")?",o$e=new RegExp("^"+n$e+"$|^"+i$e+"$","i");function s$e(e){return e.length>=gB&&o$e.test(e)}function l$e(e){return a$e.test(e)}function u$e(e){var t=e.number,n=e.ext;if(!t)return"";if(t[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(n?";ext="+n:"")}var hG={formatExtension:function(t,n,r){return"".concat(t).concat(r.ext()).concat(n)}};function c$e(e,t,n,r){if(n?n=h$e({},hG,n):n=hG,r=new xd(r),e.country&&e.country!=="001"){if(!r.hasCountry(e.country))throw new Error("Unknown country: ".concat(e.country));r.selectNumberingPlan(e.country)}else if(e.countryCallingCode)r.selectNumberingPlan(e.countryCallingCode);else return e.phone||"";var a=r.countryCallingCode(),l=n.v2?e.nationalNumber:e.phone,u;switch(t){case"NATIONAL":return l?(u=cI(l,e.carrierCode,"NATIONAL",r,n),XM(u,e.ext,r,n.formatExtension)):"";case"INTERNATIONAL":return l?(u=cI(l,null,"INTERNATIONAL",r,n),u="+".concat(a," ").concat(u),XM(u,e.ext,r,n.formatExtension)):"+".concat(a);case"E.164":return"+".concat(a).concat(l);case"RFC3966":return u$e({number:"+".concat(a).concat(l),ext:e.ext});case"IDD":if(!n.fromCountry)return;var i=f$e(l,e.carrierCode,a,n.fromCountry,r);return XM(i,e.ext,r,n.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}}function cI(e,t,n,r,a){var l=d$e(r.formats(),e);return l?QBe(e,l,{useInternationalFormat:n==="INTERNATIONAL",withNationalPrefix:!(l.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&a&&a.nationalPrefix===!1)}):e}function d$e(e,t){return p$e(e,function(n){if(n.leadingDigitsPatterns().length>0){var r=n.leadingDigitsPatterns()[n.leadingDigitsPatterns().length-1];if(t.search(r)!==0)return!1}return sv(t,n.pattern())})}function XM(e,t,n,r){return t?r(e,t,n):e}function f$e(e,t,n,r,a){var l=hB(r,a.metadata);if(l===n){var u=cI(e,t,"NATIONAL",a);return n==="1"?n+" "+u:u}var i=e$e(r,void 0,a.metadata);if(i)return"".concat(i," ").concat(n," ").concat(cI(e,null,"INTERNATIONAL",a))}function h$e(){for(var e=1,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(;e<n.length;){if(n[e])for(var a in n[e])n[0][a]=n[e][a];e++}return n[0]}function p$e(e,t){for(var n=0;n<e.length;){if(t(e[n]))return e[n];n++}}function eT(e){"@babel/helpers - typeof";return eT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eT(e)}function pG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pG(Object(n),!0).forEach(function(r){m$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m$e(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y$e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yne(r.key),r)}}function v$e(e,t,n){return t&&y$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e){var t=b$e(e,"string");return eT(t)=="symbol"?t:t+""}function b$e(e,t){if(eT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _$e=(function(){function e(t,n,r){if(g$e(this,e),!t)throw new TypeError("First argument is required");if(typeof t!="string")throw new TypeError("First argument must be a string");if(t[0]==="+"&&!n)throw new TypeError("`metadata` argument not passed");if(AE(n)&&AE(n.countries)){r=n;var a=t;if(!w$e.test(a))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var l=mne(a,void 0,void 0,void 0,r),u=l.countryCallingCode,i=l.number;if(n=i,t=u,!n)throw new Error("Invalid `number` argument passed: too short")}if(!n)throw new TypeError("`nationalNumber` argument is required");if(typeof n!="string")throw new TypeError("`nationalNumber` argument must be a string");dne(r);var m=E$e(t,r),b=m.country,_=m.countryCallingCode;this.country=b,this.countryCallingCode=_,this.nationalNumber=n,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return v$e(e,[{key:"setExt",value:function(n){this.ext=n}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:RBe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return CBe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return NBe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var n=new xd(this.getMetadata());return n.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(n){return this.number===n.number&&this.ext===n.ext}},{key:"getType",value:function(){return mB(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(n,r){return c$e(this,n,r?mG(mG({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(n){return this.format("NATIONAL",n)}},{key:"formatInternational",value:function(n){return this.format("INTERNATIONAL",n)}},{key:"getURI",value:function(n){return this.format("RFC3966",n)}}])})(),x$e=function(t){return/^[A-Z]{2}$/.test(t)};function E$e(e,t){var n,r,a=new xd(t);return x$e(e)?(n=e,a.selectNumberingPlan(n),r=a.countryCallingCode()):r=e,{country:n,countryCallingCode:r}}var w$e=/^\+\d+$/;function QD(e){"@babel/helpers - typeof";return QD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QD(e)}function S$e(e,t,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function T$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C$e(e,t,n){return t=nT(t),A$e(e,vB()?Reflect.construct(t,n||[],nT(e).constructor):t.apply(e,n))}function A$e(e,t){if(t&&(QD(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(e)}function k$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tT(e,t)}function JD(e){var t=typeof Map=="function"?new Map:void 0;return JD=function(r){if(r===null||!R$e(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(r))return t.get(r);t.set(r,a)}function a(){return N$e(r,arguments,nT(this).constructor)}return a.prototype=Object.create(r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),tT(a,r)},JD(e)}function N$e(e,t,n){if(vB())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&tT(a,n.prototype),a}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function R$e(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}}function tT(e,t){return tT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tT(e,t)}function nT(e){return nT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nT(e)}var L0=(function(e){function t(n){var r;return T$e(this,t),r=C$e(this,t,[n]),Object.setPrototypeOf(r,t.prototype),r.name=r.constructor.name,r}return I$e(t,e),S$e(t)})(JD(Error)),gG=new RegExp("(?:"+gne()+")$","i");function M$e(e){var t=e.search(gG);if(t<0)return{};for(var n=e.slice(0,t),r=e.match(gG),a=1;a<r.length;){if(r[a])return{number:n,ext:r[a]};a++}}var O$e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function D$e(e){return O$e[e]}function L$e(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=P$e(e))||t){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P$e(e,t){if(e){if(typeof e=="string")return yG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yG(e,t):void 0}}function yG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function vG(e){for(var t="",n=L$e(e.split("")),r;!(r=n()).done;){var a=r.value;t+=F$e(a,t)||""}return t}function F$e(e,t,n){return e==="+"?t?void 0:"+":D$e(e)}var vne="+",B$e="[\\-\\.\\(\\)]?",bG="(["+fg+"]|"+B$e+")",$$e="^\\"+vne+bG+"*["+fg+"]"+bG+"*$",j$e=new RegExp($$e,"g"),eL=fg,z$e="["+eL+"]+((\\-)*["+eL+"])*",U$e="a-zA-Z",G$e="["+U$e+"]+((\\-)*["+eL+"])*",H$e="^("+z$e+"\\.)*"+G$e+"\\.?$",V$e=new RegExp(H$e,"g"),_G="tel:",tL=";phone-context=",q$e=";isub=";function Y$e(e){var t=e.indexOf(tL);if(t<0)return null;var n=t+tL.length;if(n>=e.length)return"";var r=e.indexOf(";",n);return r>=0?e.substring(n,r):e.substring(n)}function W$e(e){return e===null?!0:e.length===0?!1:j$e.test(e)||V$e.test(e)}function Z$e(e,t){var n=t.extractFormattedPhoneNumber,r=Y$e(e);if(!W$e(r))throw new L0("NOT_A_NUMBER");var a;if(r===null)a=n(e)||"";else{a="",r.charAt(0)===vne&&(a+=r);var l=e.indexOf(_G),u;l>=0?u=l+_G.length:u=0;var i=e.indexOf(tL);a+=e.substring(u,i)}var m=a.indexOf(q$e);if(m>0&&(a=a.substring(0,m)),a!=="")return a}var X$e=250,K$e=new RegExp("["+yB+fg+"]"),Q$e=new RegExp("[^"+fg+"#]+$");function J$e(e,t,n){if(t=t||{},n=new xd(n),t.defaultCountry&&!n.hasCountry(t.defaultCountry))throw t.v2?new L0("INVALID_COUNTRY"):new Error("Unknown country: ".concat(t.defaultCountry));var r=t9e(e,t.v2,t.extract),a=r.number,l=r.ext,u=r.error;if(!a){if(t.v2)throw u==="TOO_SHORT"?new L0("TOO_SHORT"):new L0("NOT_A_NUMBER");return{}}var i=r9e(a,t.defaultCountry,t.defaultCallingCode,n),m=i.country,b=i.nationalNumber,_=i.countryCallingCode,w=i.countryCallingCodeSource,M=i.carrierCode;if(!n.hasSelectedNumberingPlan()){if(t.v2)throw new L0("INVALID_COUNTRY");return{}}if(!b||b.length<gB){if(t.v2)throw new L0("TOO_SHORT");return{}}if(b.length>OBe){if(t.v2)throw new L0("TOO_LONG");return{}}if(t.v2){var P=new _$e(_,b,n.metadata);return m&&(P.country=m),M&&(P.carrierCode=M),l&&(P.ext=l),P.__countryCallingCodeSource=w,P}var j=(t.extended?n.hasSelectedNumberingPlan():m)?sv(b,n.nationalNumberPattern()):!1;return t.extended?{country:m,countryCallingCode:_,carrierCode:M,valid:j,possible:j?!0:!!(t.extended===!0&&n.possibleLengths()&&hne(b,m,n)),phone:b,ext:l}:j?n9e(m,b,l):{}}function e9e(e,t,n){if(e){if(e.length>X$e){if(n)throw new L0("TOO_LONG");return}if(t===!1)return e;var r=e.search(K$e);if(!(r<0))return e.slice(r).replace(Q$e,"")}}function t9e(e,t,n){var r=Z$e(e,{extractFormattedPhoneNumber:function(u){return e9e(u,n,t)}});if(!r)return{};if(!s$e(r))return l$e(r)?{error:"TOO_SHORT"}:{};var a=M$e(r);return a.ext?a:{number:r}}function n9e(e,t,n){var r={country:e,phone:t};return n&&(r.ext=n),r}function r9e(e,t,n,r){var a=mne(vG(e),void 0,t,n,r.metadata),l=a.countryCallingCodeSource,u=a.countryCallingCode,i=a.number,m;if(u)r.selectNumberingPlan(u);else if(i&&(t||n))r.selectNumberingPlan(t,n),t&&(m=t),u=n||hB(t,r.metadata);else return{};if(!i)return{countryCallingCodeSource:l,countryCallingCode:u};var b=KD(vG(i),m,r),_=b.nationalNumber,w=b.carrierCode,M=pne(u,{nationalNumber:_,metadata:r});return M&&(m=M,M==="001"||r.selectNumberingPlan(m)),{country:m,countryCallingCode:u,countryCallingCodeSource:l,nationalNumber:_,carrierCode:w}}function rT(e){"@babel/helpers - typeof";return rT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rT(e)}function xG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function EG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xG(Object(n),!0).forEach(function(r){a9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a9e(e,t,n){return(t=i9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i9e(e){var t=o9e(e,"string");return rT(t)=="symbol"?t:t+""}function o9e(e,t){if(rT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9e(e,t,n){return J$e(e,EG(EG({},t),{},{v2:!0}),n)}function aT(e){"@babel/helpers - typeof";return aT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},aT(e)}function wG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l9e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wG(Object(n),!0).forEach(function(r){u9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u9e(e,t,n){return(t=c9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c9e(e){var t=d9e(e,"string");return aT(t)=="symbol"?t:t+""}function d9e(e,t){if(aT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(aT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f9e(e,t){return g9e(e)||m9e(e,t)||p9e(e,t)||h9e()}function h9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p9e(e,t){if(e){if(typeof e=="string")return SG(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?SG(e,t):void 0}}function SG(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m9e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,a,l,u,i=[],m=!0,b=!1;try{if(l=(n=n.call(e)).next,t!==0)for(;!(m=(r=l.call(n)).done)&&(i.push(r.value),i.length!==t);m=!0);}catch(_){b=!0,a=_}finally{try{if(!m&&n.return!=null&&(u=n.return(),Object(u)!==u))return}finally{if(b)throw a}}return i}}function g9e(e){if(Array.isArray(e))return e}function y9e(e){var t=Array.prototype.slice.call(e),n=f9e(t,4),r=n[0],a=n[1],l=n[2],u=n[3],i,m,b;if(typeof r=="string")i=r;else throw new TypeError("A text for parsing must be a string.");if(!a||typeof a=="string")u?(m=l,b=u):(m=void 0,b=l),a&&(m=l9e({defaultCountry:a},m));else if(AE(a))l?(m=a,b=l):b=a;else throw new Error("Invalid second argument: ".concat(a));return{text:i,options:m,metadata:b}}function iT(e){"@babel/helpers - typeof";return iT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iT(e)}function TG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function CG(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TG(Object(n),!0).forEach(function(r){v9e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TG(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function v9e(e,t,n){return(t=b9e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b9e(e){var t=_9e(e,"string");return iT(t)=="symbol"?t:t+""}function _9e(e,t){if(iT(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(iT(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x9e(e,t,n){t&&t.defaultCountry&&!SBe(t.defaultCountry,n)&&(t=CG(CG({},t),{},{defaultCountry:void 0}));try{return s9e(e,t,n)}catch(r){if(!(r instanceof L0))throw r}}function E9e(){var e=y9e(arguments),t=e.text,n=e.options,r=e.metadata;return x9e(t,n,r)}function w9e(){return fBe(E9e,arguments)}const S9e=e=>{const t=e.value;if(!t)return S.jsx(r_,{...e});const n=w9e("+"+t);return S.jsxs("span",{className:"whitespace-nowrap",children:[n?.country&&S.jsx("span",{className:"mr-1",children:cBe(n?.country)}),n?n.formatInternational():"+"+t]})},T9e=["#ff0000","#cc4100","#cc4100","#cc7e00","#6d9c02","#00a616"],C9e=e=>{const t=e.value;return t==null||t==null||!t?S.jsx(r_,{...e}):S.jsx("div",{className:"text-center font-medium ",style:{color:T9e[Math.round(t)]},children:na.isNumber(t)?(+t).toLocaleString():""})},T2=e=>{const t=e.value;return t?S.jsx("div",{className:"truncate-2-lines",children:t}):S.jsx(r_,{...e})},A9e=e=>{const t=e.value;return S.jsx("div",{className:"flex flex-row gap-2",children:na.map(e.structure?.items,n=>{if(!n.inAdmin||!n.inTable)return null;const r=na.get(t,n?.key??"none",null);return S.jsx(S.Fragment,{children:S.jsx(bB,{value:r,structure:n??null})})})})},k9e=e=>{const t=e.value;return t?S.jsx("div",{children:S.jsx("div",{children:yo.unix(t).format("DD.MM.YYYY")})}):S.jsx(r_,{...e})},I9e=e=>{const t=e.value;return t?S.jsxs("div",{children:[S.jsx("div",{children:yo.unix(t).format("DD.MM.YYYY")}),S.jsx("div",{className:"text-xs",children:yo.unix(t).format("HH:mm")})]}):S.jsx(r_,{...e})},bB=e=>{const t={enum:XFe,bool:WFe,string:T2,text:T2,color:ZFe,int:oG,float:oG,IDs:nBe,ID:tBe,unixdate:k9e,unixdatetime:I9e,array:qFe,structure:A9e,uuid:()=>S.jsx(S.Fragment,{}),html:eBe,phone:S9e,login:T2,fileImage:WM,fileImageLink:WM,fileImageID:WM,geopoint:QFe,enums:KFe,rate:C9e,url:T2,email:T2};if(e?.structure?.type&&t[e?.structure?.type]){const n=t[e?.structure?.type];return S.jsx(n,{...e})}return S.jsx("div",{children:e.structure?.type})},bne=(e,t,n="",r=[])=>{let a=[];if(!t)return a;const u=na(t.items??{}).toPairs().orderBy(([i,m])=>m.tablePriority||0,"desc").fromPairs().value();return na.map(u,i=>{if(i.inAdmin&&i.inTable&&!i.hide){if(i.type=="structure"||i.type=="range"){bne(!1,i,`${n}${i.key}.`,[...r,i.title??i.key??""]).map(b=>{a.push({...b})});return}a.push({key:n+i.key,dataIndex:n+i.key,sorter:!0,width:i.columnsWidth??150,showSorterTooltip:!1,render:(m,b)=>{let _=na.get(b,n+i.key);return S.jsx(bB,{structure:i??null,value:_})},title:()=>{let m=(i.title??i.key??"").length,b="";return m>2?b=i.title??i.key??"":b=[...r,i.title].join("  "),S.jsx("div",{className:"text-xs truncate ...",children:b})}})}}),a},_B=(e,t)=>{if(t.length===0)return e;let n=t[0],r={...e.items?.[n]};return r?(r.title=`${e.title}  ${r.title}`,e.key?r.key=`${e.key}.${r.key}`:r.key=r.key,r.col=24,_B(r,t.slice(1))):e},_ne=({structure:e,selectBefore:t,rootStructure:n})=>{if(!e)return[];n||(n=e),t||(t=[]);let r=[];return na.map(e.items,(a,l)=>{a.hide||a.inAdmin&&a.editable&&(a.items?r.push(..._ne({structure:a,selectBefore:[...t,a.key],rootStructure:n})):r.push(_B(n,[...t,a.key])))}),r},xne=({onSelect:e,structure:t,selectBefore:n,rootStructure:r})=>{if(!t)return[];r||(r=t);let a=[];return na.map(t.items,(l,u)=>{l.hide||l.inAdmin&&l.editable&&(l.items?a.push({label:l.title??l.key,htmlIcon:S.jsx(G2,{}),submenu:xne({onSelect:e,structure:l,selectBefore:[...n,l.key],rootStructure:r})}):a.push({label:l.title??l.key,htmlIcon:S.jsx(G2,{}),click:()=>{let i=[...n,l.key];console.log("_selectBefore",i);let m=_B(r,i);console.log("newStructure",m),e?.(m)}}))}),a},AG=e=>{let t={};return na.forEach(e,(n,r)=>{let a=r.split(".");na.set(t,a,n)}),t},nL=$.forwardRef(({structure:e,onApply:t,initialFilter:n},r)=>{const{isMobile:a}=Fr(),[l,u]=$.useState(!1),[i,m]=$.useState(null),[b,_]=$.useState([]),w=$.useRef({}),M=$.useRef(e??null);$.useImperativeHandle(r,()=>({open:()=>{M.current=e??null,u(!0)},close:()=>{u(!1)}})),$.useEffect(()=>{M.current=e??null},[e]);const P=M.current,j=ie=>{if(n){let ue=_ne({structure:ie}),oe=[];na.map(ue,K=>{n[K.key??""]&&oe.push(K)}),_(oe),w.current=n}};$.useEffect(()=>{P?.collection&&ja.filter({collection:P.collection}).then(ie=>{ie&&(m(ie),j(ie))})},[P?.collection]);const G=()=>a?S.jsx(Jm,{className:"fixed left-safe-4 bottom-safe-4 z-20 k-color-brand-green",onClick:()=>{_([]),w.current={},t([],{}),ne()},icon:S.jsx(fR,{})}):S.jsxs(Bn,{disabled:b.length===0,variant:"outline",onClick:()=>{_([]),w.current={},t([],{}),ne()},children:[S.jsx(fR,{})," ",tt.key("clearFilter")]}),z=()=>a?S.jsx(Jm,{className:"fixed right-safe-4 bottom-safe-4 z-20",icon:S.jsx(h1,{}),textPosition:"after",onClick:()=>{if(b.length===0){Ca.error(tt.key("please_add_filter"));return}t(b,w.current),ne()}}):S.jsxs(Bn,{onClick:()=>{t(b,w.current),ne()},disabled:b.length===0,variant:"default",children:[S.jsx(h1,{})," ",tt.key("apply")]}),q=()=>{let ie=xne({onSelect:ue=>{_(oe=>[...oe,ue])},structure:i,selectBefore:[]});return a?S.jsx(nw,{menu:ie,children:S.jsx(Jm,{className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",icon:S.jsx(O$,{}),text:tt.key("add"),textPosition:"after"})}):S.jsx(nw,{menu:ie,children:S.jsxs(Bn,{variant:"outline",children:[S.jsx(O$,{})," ",tt.key("add_filter")]})})},Y=(ie,ue)=>{ue.key&&delete w.current[ue.key],_(oe=>[...oe.slice(0,ie),...oe.slice(ie+1)])},J=()=>b.length===0?S.jsx(m1,{children:S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(fR,{})}),S.jsx(v1,{children:tt.key("no_filters_title")}),S.jsx(b1,{children:tt.key("no_filters_description")})]})}):S.jsx(S.Fragment,{children:b.map((ie,ue)=>S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"flex-1",children:S.jsx(ov,{inline:!0,noPaddingBottom:!0,structure:ie,valuesRef:w})}),a?S.jsx(ks,{className:"px-2",onClick:()=>{Y(ue,ie)},children:S.jsx(Yl,{})}):S.jsx(Bn,{variant:"ghost",className:"mt-3",size:"icon-sm",onClick:()=>{Y(ue,ie)},children:S.jsx(Yl,{})})]}))}),ne=()=>{u(!1)};return!l||!P||!P.items?null:a?S.jsx(Yh,{opened:l,onBackdropClick:ne,children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("filter"),right:S.jsx(ks,{onClick:ne,children:S.jsx(Yl,{})})}),S.jsx("div",{className:"px-2",children:S.jsx(J,{})}),S.jsx(q,{}),S.jsx(G,{}),S.jsx(z,{})]})}):S.jsx(S.Fragment,{children:S.jsx(Lc,{open:l,onOpenChange:ie=>{ie||ne()},children:S.jsxs(Pc,{className:"sm:!max-w-[80vw]",children:[S.jsx("div",{className:"min-h-[20vh] overflow-y-auto",children:S.jsx(J,{})}),S.jsx(B1,{children:S.jsxs("div",{className:"flex justify-between w-full",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(q,{}),S.jsx(G,{})]}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(z,{}),S.jsx(Bn,{variant:"outline",onClick:ne,children:tt.key("close")})]})]})})]})})})});nL.displayName="TableFilterDialog";const Qm=e=>{const{isMobile:t}=Fr();if(t)return S.jsx(ql,{title:e.label,link:!0,chevron:!1,media:e.media,onClick:e.onClick});let n="flex items-center gap-2 p-2 rounded-md dark:hover:bg-gray-800 hover:bg-gray-100 cursor-pointer";return e.active&&(n+=" bg-gray-100 dark:bg-gray-800"),S.jsxs("div",{onClick:e.onClick,className:n,children:[S.jsx("div",{children:e.media}),S.jsx("div",{className:"",children:S.jsx("div",{className:"text-sm",children:e.label})}),!!e.hotkey&&S.jsx("span",{className:"text-[10px] text-gray-500",children:e.hotkey})]})};class N9e{static cached={};static async getSvg(t){if(!t)return null;if(this.cached[t])return this.cached[t];const r=await(await fetch(t)).text();return this.cached[t]=r,r}}const R9e=e=>e?e.startsWith("#")?e.substring(1):e:"",Vm=e=>{const t=e.size??20,{isDarkTheme:n}=Fr(),[r,a]=$.useState("");return $.useEffect(()=>{const l=e.color?e.color:n?"#E0E0E0":"#37474F",i=`${cde()}/_assets/icons/${e.icon?e.icon:"border-all-variant"}?height=${t}&width=${t}&fill=${R9e(l)}`;if(localStorage.getItem(i)){a(localStorage.getItem(i)??"");return}N9e.getSvg(i).then(m=>{m&&(a(m),localStorage.setItem(i,m))})},[e.icon,e.size,e.color,n]),S.jsx("span",{role:"img",style:e.style,dangerouslySetInnerHTML:{__html:r??""},className:`anticon ant-menu-item-icon ${e.className}`})},Ene=$.createContext(void 0);function kG({children:e}){const[t,n]=$.useState(null),{isMobile:r}=Fr(),[a,l]=$.useState([]),[u,i]=$.useState([]),[m,b]=$.useState(null);$.useEffect(()=>{_()},[]),$.useEffect(()=>{t?.key&&localStorage.setItem("lastSelectMenuKey",t?.key)},[t]);const _=()=>{ja.profile().then(j=>{j&&b(j)})},w=j=>new Promise((G,z)=>{let q=Ca.loading(tt.key("saving_profile"));ja.updateProfile({values:j}).then(()=>{_(),G(),Ca.success(tt.key("profile_saved_successfully"))}).catch(Y=>{Ca.error(tt.key("error_saving_profile")),z(Y)}).finally(()=>{Ca.dismiss(q)})}),M=$.useRef(!1);$.useEffect(()=>{M.current||(M.current=!0,SI.menu().then(j=>{if(j&&(j.menu&&l(j.menu),j.allItems))if(i(j.allItems),t){const G=j.allItems.find(z=>z.key===t);n(G||j.allItems[0]||null)}else{const G=localStorage.getItem("lastSelectMenuKey");if(G){const z=j.allItems.find(q=>q.key===G);n(z||j.allItems[0]||null)}else n(j.allItems[0]||null)}}).finally(()=>{M.current=!1}))},[]);const P={selectMenu:t,setSelectMenu:n,menu:a,profile:m,saveProfile:w};return S.jsx(Ene.Provider,{value:P,children:e})}function xB(){const e=$.useContext(Ene);if(e===void 0)throw new Error("useMainPage must be used within a MainPageProvider");return e}function IG(e){return tc({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16ZM11 14V16H13V14H11ZM7 14V16H9V14H7ZM15 14V16H17V14H15Z"},child:[]}]})(e)}function NG(e){return tc({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM5 10V20H19V10H5ZM11 14H13V16H11V14ZM7 14H9V16H7V14ZM15 14H17V16H15V14ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16Z"},child:[]}]})(e)}var EB="ContextMenu",[M9e]=vd(EB,[HN]),Ed=HN(),[O9e,wne]=M9e(EB),Sne=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,dir:a,modal:l=!0}=e,[u,i]=$.useState(!1),m=Ed(t),b=Xu(r),_=$.useCallback(w=>{i(w),b(w)},[b]);return S.jsx(O9e,{scope:t,open:u,onOpenChange:_,modal:l,children:S.jsx(Lte,{...m,dir:a,open:u,onOpenChange:_,modal:l,children:n})})};Sne.displayName=EB;var Tne="ContextMenuTrigger",Cne=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,disabled:r=!1,...a}=e,l=wne(Tne,n),u=Ed(n),i=$.useRef({x:0,y:0}),m=$.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...i.current})}),b=$.useRef(0),_=$.useCallback(()=>window.clearTimeout(b.current),[]),w=M=>{i.current={x:M.clientX,y:M.clientY},l.onOpenChange(!0)};return $.useEffect(()=>_,[_]),$.useEffect(()=>void(r&&_()),[r,_]),S.jsxs(S.Fragment,{children:[S.jsx(Pte,{...u,virtualRef:m}),S.jsx(xa.span,{"data-state":l.open?"open":"closed","data-disabled":r?"":void 0,...a,ref:t,style:{WebkitTouchCallout:"none",...e.style},onContextMenu:r?e.onContextMenu:kr(e.onContextMenu,M=>{_(),w(M),M.preventDefault()}),onPointerDown:r?e.onPointerDown:kr(e.onPointerDown,pA(M=>{_(),b.current=window.setTimeout(()=>w(M),700)})),onPointerMove:r?e.onPointerMove:kr(e.onPointerMove,pA(_)),onPointerCancel:r?e.onPointerCancel:kr(e.onPointerCancel,pA(_)),onPointerUp:r?e.onPointerUp:kr(e.onPointerUp,pA(_))})]})});Cne.displayName=Tne;var D9e="ContextMenuPortal",Ane=e=>{const{__scopeContextMenu:t,...n}=e,r=Ed(t);return S.jsx(Fte,{...r,...n})};Ane.displayName=D9e;var kne="ContextMenuContent",Ine=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=wne(kne,n),l=Ed(n),u=$.useRef(!1);return S.jsx(Bte,{...l,...r,ref:t,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),!i.defaultPrevented&&u.current&&i.preventDefault(),u.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),!i.defaultPrevented&&!a.modal&&(u.current=!0)},style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ine.displayName=kne;var L9e="ContextMenuGroup",P9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx($te,{...a,...r,ref:t})});P9e.displayName=L9e;var F9e="ContextMenuLabel",B9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(jte,{...a,...r,ref:t})});B9e.displayName=F9e;var $9e="ContextMenuItem",Nne=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(zte,{...a,...r,ref:t})});Nne.displayName=$9e;var j9e="ContextMenuCheckboxItem",z9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Ute,{...a,...r,ref:t})});z9e.displayName=j9e;var U9e="ContextMenuRadioGroup",G9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Gte,{...a,...r,ref:t})});G9e.displayName=U9e;var H9e="ContextMenuRadioItem",V9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Hte,{...a,...r,ref:t})});V9e.displayName=H9e;var q9e="ContextMenuItemIndicator",Y9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Vte,{...a,...r,ref:t})});Y9e.displayName=q9e;var W9e="ContextMenuSeparator",Rne=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(qte,{...a,...r,ref:t})});Rne.displayName=W9e;var Z9e="ContextMenuArrow",X9e=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Yte,{...a,...r,ref:t})});X9e.displayName=Z9e;var Mne="ContextMenuSub",One=e=>{const{__scopeContextMenu:t,children:n,onOpenChange:r,open:a,defaultOpen:l}=e,u=Ed(t),[i,m]=Zf({prop:a,defaultProp:l??!1,onChange:r,caller:Mne});return S.jsx(Wte,{...u,open:i,onOpenChange:m,children:n})};One.displayName=Mne;var K9e="ContextMenuSubTrigger",Dne=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Zte,{...a,...r,ref:t})});Dne.displayName=K9e;var Q9e="ContextMenuSubContent",Lne=$.forwardRef((e,t)=>{const{__scopeContextMenu:n,...r}=e,a=Ed(n);return S.jsx(Xte,{...a,...r,ref:t,style:{...e.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Lne.displayName=Q9e;function pA(e){return t=>t.pointerType!=="mouse"?e(t):void 0}var J9e=Sne,eje=Cne,tje=Ane,nje=Ine,rje=Nne,aje=Rne,ije=One,oje=Dne,sje=Lne;function lje({...e}){return S.jsx(J9e,{"data-slot":"context-menu",...e})}function uje({...e}){return S.jsx(eje,{"data-slot":"context-menu-trigger",...e})}function cje({...e}){return S.jsx(ije,{"data-slot":"context-menu-sub",...e})}function dje({className:e,inset:t,children:n,...r}){return S.jsxs(oje,{"data-slot":"context-menu-sub-trigger","data-inset":t,className:Dn("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,S.jsx(pS,{className:"ml-auto"})]})}function fje({className:e,...t}){return S.jsx(sje,{"data-slot":"context-menu-sub-content",className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",e),...t})}function hje({className:e,...t}){return S.jsx(tje,{children:S.jsx(nje,{"data-slot":"context-menu-content",className:Dn("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...t})})}function pje({className:e,inset:t,variant:n="default",...r}){return S.jsx(rje,{"data-slot":"context-menu-item","data-inset":t,"data-variant":n,className:Dn("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function mje({className:e,...t}){return S.jsx(aje,{"data-slot":"context-menu-separator",className:Dn("bg-border -mx-1 my-1 h-px",e),...t})}function wB({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(Yce,{"data-slot":"table",className:Dn("caption-bottom text-sm",e),...t}):S.jsx("table",{"data-slot":"table",className:Dn("caption-bottom text-sm",e),...t})}function SB({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(Zce,{"data-slot":"table-header",className:Dn("[&_tr]:border-b",e),...t}):S.jsx("thead",{"data-slot":"table-header",className:Dn("[&_tr]:border-b",e),...t})}function TB({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(Wce,{"data-slot":"table-body",className:Dn("[&_tr:last-child]:border-0",e),...t}):S.jsx("tbody",{"data-slot":"table-body",className:Dn("[&_tr:last-child]:border-0",e),...t})}const Pne=({menu:e})=>e.map(t=>t.type==="separator"?S.jsx(mje,{},t.key):t.submenu?S.jsxs(cje,{children:[S.jsx(dje,{children:t.label}),S.jsx(fje,{children:S.jsx(Pne,{menu:t.submenu})})]}):S.jsxs(pje,{onClick:()=>t.click?.(),children:[t.htmlIcon," ",t.label]},t.key));function f1({className:e,header:t,contextMenuItems:n,...r}){const{isMobile:a}=Fr();return a?S.jsx(Xce,{header:t,"data-slot":"table-row",className:Dn("[&_tr]:border-b",e),...r}):!a&&n&&n.length>0?S.jsxs(lje,{children:[S.jsx(uje,{asChild:!0,children:S.jsx("tr",{"data-slot":"table-row",className:Dn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}),S.jsx(hje,{children:S.jsx(Pne,{menu:n})})]}):S.jsx("tr",{"data-slot":"table-row",className:Dn("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...r})}function xb({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(JV,{"data-slot":"table-head",className:Dn("[&_tr]:border-b",e),...t}):S.jsx("th",{"data-slot":"table-head",className:Dn("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function j0({className:e,...t}){const{isMobile:n}=Fr();return n?S.jsx(JV,{"data-slot":"table-cell",className:Dn("[&_tr]:border-b",e),...t}):S.jsx("td",{"data-slot":"table-cell",className:Dn("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function gje({className:e,...t}){return S.jsx("caption",{"data-slot":"table-caption",className:Dn("text-muted-foreground mt-4 text-sm",e),...t})}const RG=({open:e,onClose:t,onSaveNewPassword:n})=>{const[r,a]=$.useState(null),{isMobile:l}=Fr();return l?S.jsx(Yh,{opened:e,onBackdropClick:t,children:S.jsxs(Dc,{children:[S.jsx(Oc,{title:tt.key("change_password"),right:S.jsx(ks,{onClick:t,children:S.jsx(Yl,{})})}),S.jsx(ig,{outline:!0,children:S.jsx(ml,{className:"w-full",value:r??"",placeholder:tt.key("enter_new_password"),onChange:u=>a(u.target.value)})}),S.jsxs(ig,{outline:!0,children:[S.jsx(vu,{outline:!0,style:{width:"100%"},onClick:()=>a(FD(16)),children:tt.key("generate_random_password")}),S.jsx(vu,{className:"mt-4",disabled:!r,onClick:()=>{r&&(n(r),t())},children:tt.key("save_new_password")})]})]})}):S.jsx(Lc,{open:e,onOpenChange:u=>{u||t()},children:S.jsxs(Pc,{children:[S.jsx(qb,{children:tt.key("change_password")}),S.jsx(ml,{className:"w-full",value:r??"",onChange:u=>a(u.target.value)}),S.jsx(Bn,{variant:"outline",style:{width:"100%"},onClick:()=>a(FD(16)),children:tt.key("generate_random_password")}),S.jsx(Bn,{disabled:!r,onClick:()=>{r&&(n(r),t())},children:tt.key("save_new_password")}),S.jsx(Bn,{onClick:t,children:tt.key("cancel")})]})})},dI=$.createRef(),MG=$.forwardRef((e,t)=>{const[n,r]=$.useState(!1),{profile:a,saveProfile:l}=xB();$.useImperativeHandle(t,()=>({open:()=>{u.current=a?.data,r(!0)},close:()=>r(!1)}));const u=Ve.useRef({}),i=()=>{l(u.current).then(()=>{r(!1)})},m=ne=>{l({password:ne}).then(()=>{Ca.success(tt.key("new_password_saved_successfully")),_(!1)}).catch(ie=>{Ca.error(tt.key("error_saving_new_password"))})},[b,_]=$.useState(!1),[w,M]=$.useState(null);$.useEffect(()=>{n&&!J&&!w&&M("profile")},[n]);const[P,j]=$.useState([]);$.useEffect(()=>{n&&ja.lastBalanceOperations().then(ne=>{j(ne??[])})},[n]);const G=ne=>!a?.data||!ne?0:ck.get(a.data,ne)??0,z=({type:ne})=>{const ie=P.filter(ue=>ne=="all"?!0:(ue.amount??0)>0?ne=="earn":ne=="spend");return S.jsxs(wB,{className:"w-full",children:[ie.length==0&&S.jsx(gje,{children:tt.key("not_found_payment")}),S.jsx(SB,{children:S.jsxs(f1,{children:[S.jsx(xb,{children:tt.key("date")}),S.jsx(xb,{children:tt.key("payment_type")}),S.jsx(xb,{children:tt.key("payment_description")}),S.jsx(xb,{className:"text-right",children:tt.key("payment_amount")}),S.jsx(xb,{className:"text-right",children:tt.key("payment_currency")})]})}),S.jsx(TB,{children:ie.map(ue=>S.jsxs(f1,{children:[S.jsx(j0,{className:"font-medium",children:!!ue.created_at&&yo.unix(ue.created_at).format("DD.MM.YYYY HH:mm")}),S.jsx(j0,{children:(ue.amount??0)>0?tt.key("payment_earn"):tt.key("payment_spend")}),S.jsx(j0,{children:S.jsx("div",{className:"text-xs text-gray-500 break-words whitespace-normal",children:ue.description})}),S.jsx(j0,{className:"text-right",children:ue.amount}),S.jsx(j0,{className:"text-right",children:ue.currency})]},ue._id))})]})},q=ne=>{if(!ne.field?.currency)return;let ie=Ca.loading(tt.key("exporting_report"));ja.makeStatementExport({currency:ne.field?.currency??""}).then(ue=>{Ca.success(tt.key("report_exported_successfully")),L1.current?.open()}).catch(ue=>{L1.current?.open()}).finally(()=>{Ca.dismiss(ie)})},Y=ne=>{ne.field?.gateways||K0.current?.open({title:tt.key("no_gateways_available"),description:tt.key("no_gateways_available_description"),buttons:[{label:tt.key("close"),onClick:()=>{}}]})},{isMobile:J}=Fr();return J?S.jsxs(Yh,{opened:n,onBackdropClick:()=>r(!1),children:[S.jsxs(Dc,{className:"flex flex-col",children:[S.jsx(Oc,{left:!!w&&S.jsx(ks,{onClick:()=>{M(null)},children:S.jsx(YH,{})}),title:tt.key("profile"),right:S.jsx(ks,{onClick:()=>r(!1),children:S.jsx(Yl,{})})}),!w&&S.jsxs(Pb,{outline:!0,children:[S.jsx(ql,{onClick:()=>{M("profile")},link:!0,media:S.jsx(JA,{}),title:tt.key("profile")}),a?.changePassword&&S.jsx(ql,{onClick:()=>{_(!0)},link:!0,media:S.jsx(IG,{}),title:tt.key("change_password")}),!!a?.balances?.length&&S.jsx(ql,{onClick:()=>{M("payment")},link:!0,media:S.jsx(N$,{}),title:tt.key("payment_and_balance")})]}),S.jsxs("div",{children:[w=="profile"&&S.jsxs(S.Fragment,{children:[a?.structure&&S.jsx(ov,{structure:a?.structure,valuesRef:u}),S.jsx(Jm,{className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",icon:S.jsx(s1,{}),text:tt.key("save"),onClick:i,textPosition:"after"})]}),w=="payment"&&S.jsxs("div",{children:[S.jsx("div",{children:a?.balances?.map(ne=>S.jsx(Uce,{outline:!0,children:S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2 w-full",children:[S.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:S.jsx("div",{className:"text-2xl font-bold text-gray-500",children:ne.field?.currencySymbol})}),S.jsx("div",{className:"text-lg font-medium",children:G(ne?.path)})]}),S.jsx(Bn,{onClick:()=>{Y(ne)},children:S.jsx(G2,{})})]})}))}),S.jsxs("div",{className:"px-4",children:[S.jsx("div",{className:"text-lg font-medium mt-4",children:tt.key("payment_history")}),S.jsx("div",{className:"text-xs text-gray-500",children:tt.key("payment_history_description_one")}),S.jsx("div",{className:"text-xs text-gray-500",children:tt.key("payment_history_description_two")})]}),S.jsx(Pb,{outline:!0,children:P.map(ne=>S.jsx(ql,{dividers:!0,media:ne.amount?ne.amount>0?S.jsx(G2,{}):S.jsx(koe,{}):void 0,header:ne.description,title:ne.amount,after:ne.currency,footer:ne.created_at?yo.unix(ne.created_at).format("DD.MM.YYYY HH:mm"):""},ne._id))})]})]})]}),S.jsx(RG,{open:b,onClose:()=>_(!1),onSaveNewPassword:m})]}):S.jsxs(S.Fragment,{children:[S.jsx(Lc,{open:n,onOpenChange:r,children:S.jsx(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] overflow-hidden !p-0",children:S.jsxs(eC,{className:"h-full w-full !w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh]",children:[S.jsx(X0,{width:"300px",className:" py-2 px-1 border-r",children:S.jsxs(yd,{className:"px-2 py-4 flex flex-col ",children:[S.jsx(Qm,{active:w=="profile",onClick:()=>{M("profile")},label:tt.key("profile"),media:S.jsx(JA,{className:"size-4"})}),a?.changePassword&&S.jsx(Qm,{onClick:()=>{_(!0)},label:tt.key("change_password"),media:S.jsx(IG,{className:"size-4"})}),!!a?.balances?.length&&S.jsx(Qm,{active:w=="payment",onClick:()=>{M("payment")},label:tt.key("payment_and_balance"),media:S.jsx(N$,{className:"size-4"})})]})}),w=="profile"&&S.jsx(X0,{children:S.jsxs(yd,{className:"flex flex-col",children:[a?.structure&&S.jsx(ov,{structure:a?.structure,valuesRef:u}),S.jsx("div",{className:"px-4 flex justify-end mb-4",children:S.jsx(Bn,{onClick:i,children:tt.key("save")})})]})}),w=="payment"&&S.jsx(X0,{className:"mt-6 px-4 ",children:S.jsxs(yd,{className:"flex flex-col",children:[S.jsx("div",{children:a?.balances?.map(ne=>S.jsx(FT,{variant:"outline",size:"sm",asChild:!0,children:S.jsxs("a",{href:"#",children:[S.jsx(eF,{children:S.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-300 flex items-center justify-center",children:S.jsx("div",{className:"text-2xl font-bold text-gray-500",children:ne.field?.currencySymbol})})}),S.jsx(BT,{children:S.jsx($T,{className:"text-lg font-medium",children:G(ne?.path)})}),S.jsxs(jX,{children:[S.jsxs(Bn,{onClick:()=>{Y(ne)},variant:"outline",size:"sm",children:[S.jsx(G2,{})," ",tt.key("top_up_balance")]}),S.jsxs(Bn,{onClick:()=>{q(ne)},variant:"outline",size:"sm",children:[S.jsx(XH,{}),"  ",tt.key("export_report")]})]})]})}))}),S.jsx("div",{className:"text-lg font-medium mt-4",children:tt.key("payment_history")}),S.jsx("div",{className:"text-xs text-gray-500",children:tt.key("payment_history_description_one")}),S.jsx("div",{className:"text-xs text-gray-500",children:tt.key("payment_history_description_two")}),S.jsx("div",{className:"mt-4 ",children:S.jsxs(xee,{defaultValue:"spend",children:[S.jsxs(Eee,{children:[S.jsx(VA,{value:"spend",children:tt.key("spend_balance")}),S.jsx(VA,{value:"earn",children:tt.key("earn_balance")}),S.jsx(VA,{value:"all",children:tt.key("all_operations")})]}),S.jsx(qA,{value:"spend",children:S.jsx(z,{type:"spend"})}),S.jsx(qA,{value:"earn",children:S.jsx(z,{type:"earn"})}),S.jsx(qA,{value:"all",children:S.jsx(z,{type:"all"})})]})})]})})]})})}),S.jsx(RG,{open:b,onClose:()=>_(!1),onSaveNewPassword:m})]})}),yje=()=>{Ym.execute("mobileMenuOpened")},OG=()=>{const{menu:e,selectMenu:t,setSelectMenu:n,profile:r}=xB(),{color:a,title:l,icon:u,initLoaded:i,isDarkTheme:m,toggleTheme:b}=Fr(),_=()=>{K0.current?.open({title:tt.key("log_out_title"),description:tt.key("log_out_description"),buttons:[{label:tt.key("cancel"),onClick:()=>{}},{label:tt.key("log_out"),onClick:()=>{localStorage.clear(),window.location.reload()}}]})},{isMobile:w,openDialog:M}=Fr(),[P,j]=$.useState(!1),G=$.useRef(null),z=J=>{if(Y(!1),J.single){M({modalKey:`collection_view_${J?.collection}_single`,collection:J?.collection??"",_id:"single"});return}n(J)};$.useEffect(()=>{if(w)return Ym.subscribe("mobileMenuOpened",()=>{Y(!0)}),()=>{Ym.delete("mobileMenuOpened")}},[w]);const[q,Y]=$.useState(!1);return w?S.jsxs(S.Fragment,{children:[S.jsx(Vce,{floating:!0,side:"left",opened:q,onBackdropClick:()=>Y(!1),children:S.jsxs(Dc,{children:[S.jsx(Oc,{left:S.jsx(S.Fragment,{children:i?S.jsxs("div",{className:"flex items-center gap-2 px-2",children:[S.jsx("img",{src:u,className:"w-8 h-8 rounded-sm",alt:"logo"}),S.jsx("div",{className:"text-base font-medium",children:l})]}):S.jsxs("div",{children:[S.jsx(fd,{className:"w-8 h-8 rounded-sm"}),S.jsx(fd,{className:"w-24 h-4"})]})}),right:S.jsx(ks,{ref:G,iconOnly:!0,onClick:()=>j(!0),children:S.jsx(EO,{})})}),e.length>0?S.jsx("ul",{children:e?.map(J=>J.children?S.jsxs("div",{className:"mb-4",children:[S.jsx(zce,{className:"mb-0",children:J.label}),S.jsx("ul",{children:J.children.map(ne=>S.jsx(Qm,{onClick:()=>{z(ne)},active:t?.key==ne.key,media:S.jsx(Vm,{color:t?.key==ne.key?a:void 0,icon:ne.icon}),label:S.jsx("span",{style:{color:t?.key==ne.key?a:void 0},children:ne.label})},ne.key??""))})]}):S.jsx(Qm,{onClick:()=>{z(J)},active:t?.key==J.key,media:S.jsx(Vm,{color:t?.key==J.key?a:void 0,icon:J.icon}),label:S.jsx("span",{style:{color:t?.key==J.key?a:void 0},children:J.label})},J.key??""))}):[1,2,3,4,5,6,7,8,9,10].map(J=>S.jsx(fd,{className:"w-full h-8 mb-2"},J))]})}),S.jsx(r3,{opened:P,target:G.current,onBackdropClick:()=>j(!1),children:S.jsxs(Pb,{nested:!0,children:[S.jsx(ql,{title:tt.key("profile"),link:!0,chevron:!1,media:S.jsx(JA,{}),onClick:()=>{j(!1),Y(!1),dI.current?.open()}}),S.jsx(ql,{title:tt.key("export_data"),link:!0,chevron:!1,media:S.jsx(mS,{}),onClick:()=>{j(!1),L1.current?.open()}}),S.jsx(ql,{title:m?tt.key("light_theme"):tt.key("dark_theme"),link:!0,chevron:!1,media:m?S.jsx(z$,{}):S.jsx($$,{}),onClick:()=>{b()}}),S.jsx(ql,{title:tt.getCurrentLang()!="ru"?"  ":"Switch to English",link:!0,chevron:!1,media:S.jsx(L$,{}),onClick:()=>{tt.manualChangeLang(tt.getCurrentLang()=="ru"?"en":"ru")}}),S.jsx(ql,{title:tt.key("log_out"),link:!0,chevron:!1,media:S.jsx(B$,{}),onClick:()=>{j(!1),Y(!1),_()}})]})})]}):S.jsxs(S.Fragment,{children:[S.jsx(yd,{autoSize:!0,className:"flex flex-col",children:S.jsxs("div",{className:"flex items-center justify-between p-4",children:[S.jsx("div",{className:"flex items-center gap-2 px-2",children:i?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:u,className:"w-8 h-8 rounded-sm",alt:"logo"}),S.jsx("div",{className:"text-base font-medium",children:l})]}):S.jsxs(S.Fragment,{children:[S.jsx(fd,{className:"w-8 h-8 rounded-sm"}),S.jsx(fd,{className:"w-24 h-4"})]})}),i?S.jsxs(oI,{children:[S.jsx(sI,{asChild:!0,children:S.jsx(Bn,{variant:"outline",size:"icon-sm",children:S.jsx(EO,{})})}),S.jsxs(lI,{className:"w-56",align:"start",children:[S.jsxs(aE,{children:[S.jsxs(Uf,{onClick:()=>{dI.current?.open()},children:[S.jsx(JA,{}),"  ",tt.key("profile")]}),S.jsxs(Uf,{onClick:()=>{L1.current?.open()},children:[S.jsx(mS,{}),"  ",tt.key("export_data")]})]}),S.jsx(JS,{}),S.jsxs(Uf,{onClick:b,children:[m?S.jsx(z$,{}):S.jsx($$,{}),"  ",m?tt.key("light_theme"):tt.key("dark_theme")]}),S.jsxs(Uf,{onClick:()=>{tt.manualChangeLang(tt.getCurrentLang()=="ru"?"en":"ru")},children:[S.jsx(L$,{}),"  ",tt.getCurrentLang()!="ru"?"  ":"Switch to English"]}),S.jsx(JS,{}),S.jsxs(Uf,{onClick:_,children:[S.jsx(B$,{}),"  ",tt.key("log_out")]})]})]}):S.jsx(fd,{className:"w-8 h-8"})]})}),S.jsx(yd,{className:"flex flex-col p-4",children:e.length>0?e?.map(J=>J.children?S.jsxs("div",{className:"mb-4",children:[S.jsx($m,{children:J.label}),S.jsx("div",{children:J.children.map(ne=>S.jsx(Qm,{onClick:()=>{z(ne)},active:t?.key==ne.key,media:S.jsx(Vm,{color:t?.key==ne.key?a:void 0,icon:ne.icon}),label:S.jsx("span",{style:{color:t?.key==ne.key?a:void 0},children:ne.label})},ne.key??""))})]}):S.jsx(Qm,{onClick:()=>{z(J)},active:t?.key==J.key,media:S.jsx(Vm,{color:t?.key==J.key?a:void 0,icon:J.icon}),label:S.jsx("span",{style:{color:t?.key==J.key?a:void 0},children:J.label})},J.key??"")):[1,2,3,4,5,6,7,8,9,10].map(J=>S.jsx(fd,{className:"w-full h-8 mb-2"},J))}),S.jsx(yd,{autoSize:!0,children:S.jsx("div",{})})]})},DG=e=>e?{canCreate:()=>e?.single?!1:e.canCreate??!1,canUpdate:()=>e.canUpdate??!1,canDelete:()=>e?.single?!1:e.canDelete??!1}:{canCreate:()=>!1,canUpdate:()=>!1,canDelete:()=>!1},Fne=({structure:e,relations:t,onOpenRelationTable:n,onEditFields:r,onDoAction:a,onDeleteSelected:l,onExportSelected:u,forOneRow:i})=>{const m=DG(e).canDelete(),b=DG(e).canUpdate(),_=[];b&&_.push({label:i?tt.key("edit_field"):tt.key("edit_fields"),htmlIcon:S.jsx(ZH,{className:"size-5"}),submenu:na.map(e?.items,M=>!M.inAdmin||M.hide||!M.editable||M.cond||M.localCond?null:{label:M.title??M.key,click:()=>{r(M)}}).filter(M=>M!==null)});let w=[];return na.map(e?.items,M=>{M.type=="action"&&M.actionPosition!="table"&&w.push(M)}),w.length>0&&_.push({label:tt.key("do_action"),htmlIcon:S.jsx(o1,{}),submenu:w?.map(M=>({htmlIcon:S.jsx(Vm,{icon:M.assets?.icon}),label:M.title??M.key,click:()=>{a(M)}}))}),t.length>0&&_.push({label:tt.key("relations_collection"),htmlIcon:S.jsx(o1,{}),submenu:t.map(M=>({htmlIcon:S.jsx(Vm,{icon:M.icon}),label:M.title??M.key,subtitle:M.subtitle,click:()=>{n(M)}}))}),i||_.push({label:tt.key("export_selected"),htmlIcon:S.jsx(mS,{}),click:()=>{u()}}),m&&_.push({label:i?tt.key("delete"):tt.key("delete_selected"),htmlIcon:S.jsx(hd,{}),click:()=>{l()}}),_},LG=({selectedRows:e,structure:t,relations:n,onOpenRelationTable:r,onEditFields:a,onDoAction:l,onDeleteSelected:u,onExportSelected:i})=>{const{isMobile:m}=Fr();if(e.length===0)return null;const b=()=>Fne({structure:t,relations:n,onEditFields:a,onDoAction:l,onDeleteSelected:u,onExportSelected:i,onOpenRelationTable:r});return m?S.jsx(nw,{className:"fixed right-3 bottom-1/2 bottom-safe-14 transform -translate-y-1/2 z-20",menu:b(),children:S.jsx(Jm,{icon:S.jsx(ZH,{className:"size-5"}),text:S.jsx("span",{className:"text-base px-2",children:e.length}),textPosition:"after"})}):S.jsxs(DS,{children:[S.jsxs(Bn,{variant:"outline",children:[tt.key("selected")," ",e.length]}),S.jsx(nw,{menu:b(),children:S.jsx(Bn,{variant:"outline",size:"icon","aria-label":"More Options",children:S.jsx(o1,{})})})]})},PG=({structure:e,stage:t,onCloseTableDialog:n,setStage:r,onOpenRelationTable:a,relations:l,filterCount:u,search:i,onOpenFilter:m,setSearch:b,onCreate:_,onExport:w,selectedRows:M,sortable:P,setSortable:j,onEditFields:G,onDoAction:z,onDeleteSelected:q,onExportSelected:Y,dialog:J=!1})=>{const{isMobile:ne}=Fr();if(ne){const ie=$.useRef(null),ue=$.useRef(null),oe=()=>e?.publicStages?.[t??""]??void 0,[K,se]=$.useState(!1),[pe,ve]=$.useState(!1);return S.jsxs(S.Fragment,{children:[S.jsx(Oc,{left:J?void 0:S.jsx(ks,{onClick:()=>{yje()},children:S.jsx(EO,{})}),title:e?.title,subtitle:t?S.jsxs("div",{ref:ue,onClick:()=>{ve(!0)},className:"flex items-center gap-2",children:[oe()," ",S.jsx(i1,{})]}):void 0,subnavbar:S.jsx(KV,{onClear:()=>{b("")},placeholder:tt.key("searchPlaceholder"),value:i??"",onChange:Te=>{b(Te.target.value)}}),right:S.jsxs(S.Fragment,{children:[P?S.jsx(ks,{onClick:()=>{j(!P)},children:S.jsx(hR,{className:"text-red-500 animate-pulse"})}):S.jsx("div",{ref:ie,children:S.jsxs(ks,{onClick:()=>{se(!0)},children:[S.jsx(o1,{}),u>0&&S.jsx(n3,{children:u})]})}),J&&S.jsx(ks,{onClick:()=>{n()},children:S.jsx(Yl,{})})]})}),S.jsx(LG,{onOpenRelationTable:a,relations:l,onExportSelected:Y,onEditFields:G,onDoAction:z,onDeleteSelected:q,selectedRows:M,structure:e}),S.jsx(r3,{opened:K,target:ie.current,onBackdropClick:()=>{se(!1)},children:S.jsxs(Pb,{nested:!0,children:[S.jsx(ql,{title:tt.key("create"),media:S.jsx(gS,{}),onClick:()=>{se(!1),_()}}),S.jsx(ql,{title:tt.key("export"),media:S.jsx(R$,{}),onClick:()=>{se(!1),w()}}),S.jsx(ql,{title:tt.key("filter"),after:u>0?S.jsx(n3,{children:u}):void 0,media:S.jsx(D$,{}),onClick:()=>{m(),se(!1)}}),e?.manualSort&&S.jsx(ql,{title:P?tt.key("disableManualSort"):tt.key("manualSort"),media:S.jsx(hR,{}),onClick:()=>{se(!1),j(!P)}})]})}),S.jsx(r3,{opened:pe,target:ue.current,onBackdropClick:()=>{ve(!1)},children:S.jsx(Pb,{nested:!0,children:na.map(e?.publicStages,(Te,Me)=>S.jsx(ql,{title:Te,onClick:()=>{r(Me),ve(!1)}},Me))})})]})}return S.jsx(S.Fragment,{children:S.jsx(yd,{autoSize:!0,className:"flex flex-col p-4",children:S.jsxs("div",{className:"flex items-center  gap-2 justify-between",children:[S.jsxs("div",{className:"flex items-center",children:[S.jsx("div",{className:"text-lg font-medium mr-2",children:e?.title}),!!e?.publicStages&&S.jsx(nw,{menu:na.map(e?.publicStages,(ie,ue)=>({label:ie,click:()=>{r(ue)}})),children:S.jsxs(Bn,{variant:"outline",children:[" ",e?.publicStages?.[t??""]," ",S.jsx(i1,{})]})})]}),S.jsx(LG,{onOpenRelationTable:a,relations:l,onExportSelected:Y,onEditFields:G,onDoAction:z,onDeleteSelected:q,selectedRows:M,structure:e}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx(ml,{placeholder:tt.key("searchPlaceholder"),value:i??"",onChange:ie=>{b(ie.target.value)},className:"w-full"}),S.jsxs(DS,{children:[S.jsx(Bn,{onClick:()=>{w()},variant:"outline",children:S.jsx(R$,{})}),S.jsxs(Bn,{variant:"outline",onClick:()=>{m()},children:[S.jsx(D$,{})," ",u>0&&S.jsx(pl,{children:u})]}),e?.manualSort&&S.jsx(Bn,{variant:P?"default":"outline",onClick:()=>{j(!P)},children:S.jsx(hR,{})}),e?.canCreate&&S.jsx(Bn,{variant:"outline",onClick:()=>{_()},children:S.jsx(gS,{})})]})]})]})})})};function vje(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $.useMemo(()=>r=>{t.forEach(a=>a(r))},t)}const ZN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pw(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function CB(e){return"nodeType"in e}function Kf(e){var t,n;return e?Pw(e)?e:CB(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function AB(e){const{Document:t}=Kf(e);return e instanceof t}function pC(e){return Pw(e)?!1:e instanceof Kf(e).HTMLElement}function Bne(e){return e instanceof Kf(e).SVGElement}function Fw(e){return e?Pw(e)?e.document:CB(e)?AB(e)?e:pC(e)||Bne(e)?e.ownerDocument:document:document:document}const By=ZN?$.useLayoutEffect:$.useEffect;function kB(e){const t=$.useRef(e);return By(()=>{t.current=e}),$.useCallback(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}function bje(){const e=$.useRef(null),t=$.useCallback((r,a)=>{e.current=setInterval(r,a)},[]),n=$.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function oT(e,t){t===void 0&&(t=[e]);const n=$.useRef(e);return By(()=>{n.current!==e&&(n.current=e)},t),n}function mC(e,t){const n=$.useRef();return $.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function fI(e){const t=kB(e),n=$.useRef(null),r=$.useCallback(a=>{a!==n.current&&t?.(a,n.current),n.current=a},[]);return[n,r]}function rL(e){const t=$.useRef();return $.useEffect(()=>{t.current=e},[e]),t.current}let KM={};function gC(e,t){return $.useMemo(()=>{if(t)return t;const n=KM[e]==null?0:KM[e]+1;return KM[e]=n,e+"-"+n},[e,t])}function $ne(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.reduce((l,u)=>{const i=Object.entries(u);for(const[m,b]of i){const _=l[m];_!=null&&(l[m]=_+e*b)}return l},{...t})}}const kE=$ne(1),hI=$ne(-1);function _je(e){return"clientX"in e&&"clientY"in e}function IB(e){if(!e)return!1;const{KeyboardEvent:t}=Kf(e.target);return t&&e instanceof t}function xje(e){if(!e)return!1;const{TouchEvent:t}=Kf(e.target);return t&&e instanceof t}function aL(e){if(xje(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return _je(e)?{x:e.clientX,y:e.clientY}:null}const sT=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[sT.Translate.toString(e),sT.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),FG="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Eje(e){return e.matches(FG)?e:e.querySelector(FG)}const wje={display:"none"};function Sje(e){let{id:t,value:n}=e;return Ve.createElement("div",{id:t,style:wje},n)}function Tje(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ve.createElement("div",{id:t,style:a,role:"status","aria-live":r,"aria-atomic":!0},n)}function Cje(){const[e,t]=$.useState("");return{announce:$.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const jne=$.createContext(null);function Aje(e){const t=$.useContext(jne);$.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function kje(){const[e]=$.useState(()=>new Set),t=$.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[$.useCallback(r=>{let{type:a,event:l}=r;e.forEach(u=>{var i;return(i=u[a])==null?void 0:i.call(u,l)})},[e]),t]}const Ije={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Nje={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Rje(e){let{announcements:t=Nje,container:n,hiddenTextDescribedById:r,screenReaderInstructions:a=Ije}=e;const{announce:l,announcement:u}=Cje(),i=gC("DndLiveRegion"),[m,b]=$.useState(!1);if($.useEffect(()=>{b(!0)},[]),Aje($.useMemo(()=>({onDragStart(w){let{active:M}=w;l(t.onDragStart({active:M}))},onDragMove(w){let{active:M,over:P}=w;t.onDragMove&&l(t.onDragMove({active:M,over:P}))},onDragOver(w){let{active:M,over:P}=w;l(t.onDragOver({active:M,over:P}))},onDragEnd(w){let{active:M,over:P}=w;l(t.onDragEnd({active:M,over:P}))},onDragCancel(w){let{active:M,over:P}=w;l(t.onDragCancel({active:M,over:P}))}}),[l,t])),!m)return null;const _=Ve.createElement(Ve.Fragment,null,Ve.createElement(Sje,{id:r,value:a.draggable}),Ve.createElement(Tje,{id:i,announcement:u}));return n?qm.createPortal(_,n):_}var yu;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(yu||(yu={}));function pI(){}const hg=Object.freeze({x:0,y:0});function Mje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Oje(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Dje(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),l=Math.min(t.top+t.height,e.top+e.height),u=a-r,i=l-n;if(r<a&&n<l){const m=t.width*t.height,b=e.width*e.height,_=u*i,w=_/(m+b-_);return Number(w.toFixed(4))}return 0}const Lje=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const a=[];for(const l of r){const{id:u}=l,i=n.get(u);if(i){const m=Dje(i,t);m>0&&a.push({id:u,data:{droppableContainer:l,value:m}})}}return a.sort(Mje)};function Pje(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function zne(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:hg}function Fje(e){return function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return a.reduce((u,i)=>({...u,top:u.top+e*i.y,bottom:u.bottom+e*i.y,left:u.left+e*i.x,right:u.right+e*i.x}),{...n})}}const Bje=Fje(1);function $je(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function jje(e,t,n){const r=$je(t);if(!r)return e;const{scaleX:a,scaleY:l,x:u,y:i}=r,m=e.left-u-(1-a)*parseFloat(n),b=e.top-i-(1-l)*parseFloat(n.slice(n.indexOf(" ")+1)),_=a?e.width/a:e.width,w=l?e.height/l:e.height;return{width:_,height:w,top:b,right:m+_,bottom:b+w,left:m}}const zje={ignoreTransform:!1};function Bw(e,t){t===void 0&&(t=zje);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:b,transformOrigin:_}=Kf(e).getComputedStyle(e);b&&(n=jje(n,b,_))}const{top:r,left:a,width:l,height:u,bottom:i,right:m}=n;return{top:r,left:a,width:l,height:u,bottom:i,right:m}}function BG(e){return Bw(e,{ignoreTransform:!0})}function Uje(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function Gje(e,t){return t===void 0&&(t=Kf(e).getComputedStyle(e)),t.position==="fixed"}function Hje(e,t){t===void 0&&(t=Kf(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const l=t[a];return typeof l=="string"?n.test(l):!1})}function NB(e,t){const n=[];function r(a){if(t!=null&&n.length>=t||!a)return n;if(AB(a)&&a.scrollingElement!=null&&!n.includes(a.scrollingElement))return n.push(a.scrollingElement),n;if(!pC(a)||Bne(a)||n.includes(a))return n;const l=Kf(e).getComputedStyle(a);return a!==e&&Hje(a,l)&&n.push(a),Gje(a,l)?n:r(a.parentNode)}return e?r(e):n}function Une(e){const[t]=NB(e,1);return t??null}function QM(e){return!ZN||!e?null:Pw(e)?e:CB(e)?AB(e)||e===Fw(e).scrollingElement?window:pC(e)?e:null:null}function Gne(e){return Pw(e)?e.scrollX:e.scrollLeft}function Hne(e){return Pw(e)?e.scrollY:e.scrollTop}function iL(e){return{x:Gne(e),y:Hne(e)}}var Zu;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Zu||(Zu={}));function Vne(e){return!ZN||!e?!1:e===document.scrollingElement}function qne(e){const t={x:0,y:0},n=Vne(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},a=e.scrollTop<=t.y,l=e.scrollLeft<=t.x,u=e.scrollTop>=r.y,i=e.scrollLeft>=r.x;return{isTop:a,isLeft:l,isBottom:u,isRight:i,maxScroll:r,minScroll:t}}const Vje={x:.2,y:.2};function qje(e,t,n,r,a){let{top:l,left:u,right:i,bottom:m}=n;r===void 0&&(r=10),a===void 0&&(a=Vje);const{isTop:b,isBottom:_,isLeft:w,isRight:M}=qne(e),P={x:0,y:0},j={x:0,y:0},G={height:t.height*a.y,width:t.width*a.x};return!b&&l<=t.top+G.height?(P.y=Zu.Backward,j.y=r*Math.abs((t.top+G.height-l)/G.height)):!_&&m>=t.bottom-G.height&&(P.y=Zu.Forward,j.y=r*Math.abs((t.bottom-G.height-m)/G.height)),!M&&i>=t.right-G.width?(P.x=Zu.Forward,j.x=r*Math.abs((t.right-G.width-i)/G.width)):!w&&u<=t.left+G.width&&(P.x=Zu.Backward,j.x=r*Math.abs((t.left+G.width-u)/G.width)),{direction:P,speed:j}}function Yje(e){if(e===document.scrollingElement){const{innerWidth:l,innerHeight:u}=window;return{top:0,left:0,right:l,bottom:u,width:l,height:u}}const{top:t,left:n,right:r,bottom:a}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:a,width:e.clientWidth,height:e.clientHeight}}function Yne(e){return e.reduce((t,n)=>kE(t,iL(n)),hg)}function Wje(e){return e.reduce((t,n)=>t+Gne(n),0)}function Zje(e){return e.reduce((t,n)=>t+Hne(n),0)}function Xje(e,t){if(t===void 0&&(t=Bw),!e)return;const{top:n,left:r,bottom:a,right:l}=t(e);Une(e)&&(a<=0||l<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Kje=[["x",["left","right"],Wje],["y",["top","bottom"],Zje]];class RB{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=NB(n),a=Yne(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[l,u,i]of Kje)for(const m of u)Object.defineProperty(this,m,{get:()=>{const b=i(r),_=a[l]-b;return this.rect[m]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class lS{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var a;(a=this.target)==null||a.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function Qje(e){const{EventTarget:t}=Kf(e);return e instanceof t?e:Fw(e)}function JM(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Bp;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Bp||(Bp={}));function $G(e){e.preventDefault()}function Jje(e){e.stopPropagation()}var Vi;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Vi||(Vi={}));const Wne={start:[Vi.Space,Vi.Enter],cancel:[Vi.Esc],end:[Vi.Space,Vi.Enter,Vi.Tab]},e7e=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Vi.Right:return{...n,x:n.x+25};case Vi.Left:return{...n,x:n.x-25};case Vi.Down:return{...n,y:n.y+25};case Vi.Up:return{...n,y:n.y-25}}};class Zne{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new lS(Fw(n)),this.windowListeners=new lS(Kf(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Bp.Resize,this.handleCancel),this.windowListeners.add(Bp.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Bp.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&Xje(r),n(hg)}handleKeyDown(t){if(IB(t)){const{active:n,context:r,options:a}=this.props,{keyboardCodes:l=Wne,coordinateGetter:u=e7e,scrollBehavior:i="smooth"}=a,{code:m}=t;if(l.end.includes(m)){this.handleEnd(t);return}if(l.cancel.includes(m)){this.handleCancel(t);return}const{collisionRect:b}=r.current,_=b?{x:b.left,y:b.top}:hg;this.referenceCoordinates||(this.referenceCoordinates=_);const w=u(t,{active:n,context:r.current,currentCoordinates:_});if(w){const M=hI(w,_),P={x:0,y:0},{scrollableAncestors:j}=r.current;for(const G of j){const z=t.code,{isTop:q,isRight:Y,isLeft:J,isBottom:ne,maxScroll:ie,minScroll:ue}=qne(G),oe=Yje(G),K={x:Math.min(z===Vi.Right?oe.right-oe.width/2:oe.right,Math.max(z===Vi.Right?oe.left:oe.left+oe.width/2,w.x)),y:Math.min(z===Vi.Down?oe.bottom-oe.height/2:oe.bottom,Math.max(z===Vi.Down?oe.top:oe.top+oe.height/2,w.y))},se=z===Vi.Right&&!Y||z===Vi.Left&&!J,pe=z===Vi.Down&&!ne||z===Vi.Up&&!q;if(se&&K.x!==w.x){const ve=G.scrollLeft+M.x,Te=z===Vi.Right&&ve<=ie.x||z===Vi.Left&&ve>=ue.x;if(Te&&!M.y){G.scrollTo({left:ve,behavior:i});return}Te?P.x=G.scrollLeft-ve:P.x=z===Vi.Right?G.scrollLeft-ie.x:G.scrollLeft-ue.x,P.x&&G.scrollBy({left:-P.x,behavior:i});break}else if(pe&&K.y!==w.y){const ve=G.scrollTop+M.y,Te=z===Vi.Down&&ve<=ie.y||z===Vi.Up&&ve>=ue.y;if(Te&&!M.x){G.scrollTo({top:ve,behavior:i});return}Te?P.y=G.scrollTop-ve:P.y=z===Vi.Down?G.scrollTop-ie.y:G.scrollTop-ue.y,P.y&&G.scrollBy({top:-P.y,behavior:i});break}}this.handleMove(t,kE(hI(w,this.referenceCoordinates),P))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Zne.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Wne,onActivation:a}=t,{active:l}=n;const{code:u}=e.nativeEvent;if(r.start.includes(u)){const i=l.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}}];function jG(e){return!!(e&&"distance"in e)}function zG(e){return!!(e&&"delay"in e)}class MB{constructor(t,n,r){var a;r===void 0&&(r=Qje(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:l}=t,{target:u}=l;this.props=t,this.events=n,this.document=Fw(u),this.documentListeners=new lS(this.document),this.listeners=new lS(r),this.windowListeners=new lS(Kf(u)),this.initialCoordinates=(a=aL(l))!=null?a:hg,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Bp.Resize,this.handleCancel),this.windowListeners.add(Bp.DragStart,$G),this.windowListeners.add(Bp.VisibilityChange,this.handleCancel),this.windowListeners.add(Bp.ContextMenu,$G),this.documentListeners.add(Bp.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(zG(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jG(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:a}=this.props;a(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Bp.Click,Jje,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Bp.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:a,props:l}=this,{onMove:u,options:{activationConstraint:i}}=l;if(!a)return;const m=(n=aL(t))!=null?n:hg,b=hI(a,m);if(!r&&i){if(jG(i)){if(i.tolerance!=null&&JM(b,i.tolerance))return this.handleCancel();if(JM(b,i.distance))return this.handleStart()}if(zG(i)&&JM(b,i.tolerance))return this.handleCancel();this.handlePending(i,b);return}t.cancelable&&t.preventDefault(),u(m)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Vi.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const t7e={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Xne extends MB{constructor(t){const{event:n}=t,r=Fw(n.target);super(t,t7e,r)}}Xne.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const n7e={move:{name:"mousemove"},end:{name:"mouseup"}};var oL;(function(e){e[e.RightClick=2]="RightClick"})(oL||(oL={}));class r7e extends MB{constructor(t){super(t,n7e,Fw(t.event.target))}}r7e.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===oL.RightClick?!1:(r?.({event:n}),!0)}}];const eO={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class a7e extends MB{constructor(t){super(t,eO)}static setup(){return window.addEventListener(eO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(eO.move.name,t)};function t(){}}}a7e.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:a}=n;return a.length>1?!1:(r?.({event:n}),!0)}}];var uS;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(uS||(uS={}));var mI;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(mI||(mI={}));function i7e(e){let{acceleration:t,activator:n=uS.Pointer,canScroll:r,draggingRect:a,enabled:l,interval:u=5,order:i=mI.TreeOrder,pointerCoordinates:m,scrollableAncestors:b,scrollableAncestorRects:_,delta:w,threshold:M}=e;const P=s7e({delta:w,disabled:!l}),[j,G]=bje(),z=$.useRef({x:0,y:0}),q=$.useRef({x:0,y:0}),Y=$.useMemo(()=>{switch(n){case uS.Pointer:return m?{top:m.y,bottom:m.y,left:m.x,right:m.x}:null;case uS.DraggableRect:return a}},[n,a,m]),J=$.useRef(null),ne=$.useCallback(()=>{const ue=J.current;if(!ue)return;const oe=z.current.x*q.current.x,K=z.current.y*q.current.y;ue.scrollBy(oe,K)},[]),ie=$.useMemo(()=>i===mI.TreeOrder?[...b].reverse():b,[i,b]);$.useEffect(()=>{if(!l||!b.length||!Y){G();return}for(const ue of ie){if(r?.(ue)===!1)continue;const oe=b.indexOf(ue),K=_[oe];if(!K)continue;const{direction:se,speed:pe}=qje(ue,K,Y,t,M);for(const ve of["x","y"])P[ve][se[ve]]||(pe[ve]=0,se[ve]=0);if(pe.x>0||pe.y>0){G(),J.current=ue,j(ne,u),z.current=pe,q.current=se;return}}z.current={x:0,y:0},q.current={x:0,y:0},G()},[t,ne,r,G,l,u,JSON.stringify(Y),JSON.stringify(P),j,b,ie,_,JSON.stringify(M)])}const o7e={x:{[Zu.Backward]:!1,[Zu.Forward]:!1},y:{[Zu.Backward]:!1,[Zu.Forward]:!1}};function s7e(e){let{delta:t,disabled:n}=e;const r=rL(t);return mC(a=>{if(n||!r||!a)return o7e;const l={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Zu.Backward]:a.x[Zu.Backward]||l.x===-1,[Zu.Forward]:a.x[Zu.Forward]||l.x===1},y:{[Zu.Backward]:a.y[Zu.Backward]||l.y===-1,[Zu.Forward]:a.y[Zu.Forward]||l.y===1}}},[n,t,r])}function l7e(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return mC(a=>{var l;return t==null?null:(l=r??a)!=null?l:null},[r,t])}function u7e(e,t){return $.useMemo(()=>e.reduce((n,r)=>{const{sensor:a}=r,l=a.activators.map(u=>({eventName:u.eventName,handler:t(u.handler,r)}));return[...n,...l]},[]),[e,t])}var lT;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(lT||(lT={}));var sL;(function(e){e.Optimized="optimized"})(sL||(sL={}));const UG=new Map;function c7e(e,t){let{dragging:n,dependencies:r,config:a}=t;const[l,u]=$.useState(null),{frequency:i,measure:m,strategy:b}=a,_=$.useRef(e),w=z(),M=oT(w),P=$.useCallback(function(q){q===void 0&&(q=[]),!M.current&&u(Y=>Y===null?q:Y.concat(q.filter(J=>!Y.includes(J))))},[M]),j=$.useRef(null),G=mC(q=>{if(w&&!n)return UG;if(!q||q===UG||_.current!==e||l!=null){const Y=new Map;for(let J of e){if(!J)continue;if(l&&l.length>0&&!l.includes(J.id)&&J.rect.current){Y.set(J.id,J.rect.current);continue}const ne=J.node.current,ie=ne?new RB(m(ne),ne):null;J.rect.current=ie,ie&&Y.set(J.id,ie)}return Y}return q},[e,l,n,w,m]);return $.useEffect(()=>{_.current=e},[e]),$.useEffect(()=>{w||P()},[n,w]),$.useEffect(()=>{l&&l.length>0&&u(null)},[JSON.stringify(l)]),$.useEffect(()=>{w||typeof i!="number"||j.current!==null||(j.current=setTimeout(()=>{P(),j.current=null},i))},[i,w,P,...r]),{droppableRects:G,measureDroppableContainers:P,measuringScheduled:l!=null};function z(){switch(b){case lT.Always:return!1;case lT.BeforeDragging:return n;default:return!n}}}function Kne(e,t){return mC(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function d7e(e,t){return Kne(e,t)}function f7e(e){let{callback:t,disabled:n}=e;const r=kB(t),a=$.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:l}=window;return new l(r)},[r,n]);return $.useEffect(()=>()=>a?.disconnect(),[a]),a}function XN(e){let{callback:t,disabled:n}=e;const r=kB(t),a=$.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:l}=window;return new l(r)},[n]);return $.useEffect(()=>()=>a?.disconnect(),[a]),a}function h7e(e){return new RB(Bw(e),e)}function GG(e,t,n){t===void 0&&(t=h7e);const[r,a]=$.useState(null);function l(){a(m=>{if(!e)return null;if(e.isConnected===!1){var b;return(b=m??n)!=null?b:null}const _=t(e);return JSON.stringify(m)===JSON.stringify(_)?m:_})}const u=f7e({callback(m){if(e)for(const b of m){const{type:_,target:w}=b;if(_==="childList"&&w instanceof HTMLElement&&w.contains(e)){l();break}}}}),i=XN({callback:l});return By(()=>{l(),e?(i?.observe(e),u?.observe(document.body,{childList:!0,subtree:!0})):(i?.disconnect(),u?.disconnect())},[e]),r}function p7e(e){const t=Kne(e);return zne(e,t)}const HG=[];function m7e(e){const t=$.useRef(e),n=mC(r=>e?r&&r!==HG&&e&&t.current&&e.parentNode===t.current.parentNode?r:NB(e):HG,[e]);return $.useEffect(()=>{t.current=e},[e]),n}function g7e(e){const[t,n]=$.useState(null),r=$.useRef(e),a=$.useCallback(l=>{const u=QM(l.target);u&&n(i=>i?(i.set(u,iL(u)),new Map(i)):null)},[]);return $.useEffect(()=>{const l=r.current;if(e!==l){u(l);const i=e.map(m=>{const b=QM(m);return b?(b.addEventListener("scroll",a,{passive:!0}),[b,iL(b)]):null}).filter(m=>m!=null);n(i.length?new Map(i):null),r.current=e}return()=>{u(e),u(l)};function u(i){i.forEach(m=>{const b=QM(m);b?.removeEventListener("scroll",a)})}},[a,e]),$.useMemo(()=>e.length?t?Array.from(t.values()).reduce((l,u)=>kE(l,u),hg):Yne(e):hg,[e,t])}function VG(e,t){t===void 0&&(t=[]);const n=$.useRef(null);return $.useEffect(()=>{n.current=null},t),$.useEffect(()=>{const r=e!==hg;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?hI(e,n.current):hg}function y7e(e){$.useEffect(()=>{if(!ZN)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function v7e(e,t){return $.useMemo(()=>e.reduce((n,r)=>{let{eventName:a,handler:l}=r;return n[a]=u=>{l(u,t)},n},{}),[e,t])}function Qne(e){return $.useMemo(()=>e?Uje(e):null,[e])}const qG=[];function b7e(e,t){t===void 0&&(t=Bw);const[n]=e,r=Qne(n?Kf(n):null),[a,l]=$.useState(qG);function u(){l(()=>e.length?e.map(m=>Vne(m)?r:new RB(t(m),m)):qG)}const i=XN({callback:u});return By(()=>{i?.disconnect(),u(),e.forEach(m=>i?.observe(m))},[e]),a}function _7e(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return pC(t)?t:e}function x7e(e){let{measure:t}=e;const[n,r]=$.useState(null),a=$.useCallback(b=>{for(const{target:_}of b)if(pC(_)){r(w=>{const M=t(_);return w?{...w,width:M.width,height:M.height}:M});break}},[t]),l=XN({callback:a}),u=$.useCallback(b=>{const _=_7e(b);l?.disconnect(),_&&l?.observe(_),r(_?t(_):null)},[t,l]),[i,m]=fI(u);return $.useMemo(()=>({nodeRef:i,rect:n,setRef:m}),[n,i,m])}const E7e=[{sensor:Xne,options:{}},{sensor:Zne,options:{}}],w7e={current:{}},ZA={draggable:{measure:BG},droppable:{measure:BG,strategy:lT.WhileDragging,frequency:sL.Optimized},dragOverlay:{measure:Bw}};class cS extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const S7e={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cS,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pI},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ZA,measureDroppableContainers:pI,windowRect:null,measuringScheduled:!1},T7e={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pI,draggableNodes:new Map,over:null,measureDroppableContainers:pI},KN=$.createContext(T7e),Jne=$.createContext(S7e);function C7e(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cS}}}function A7e(e,t){switch(t.type){case yu.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case yu.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case yu.DragEnd:case yu.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case yu.RegisterDroppable:{const{element:n}=t,{id:r}=n,a=new cS(e.droppable.containers);return a.set(r,n),{...e,droppable:{...e.droppable,containers:a}}}case yu.SetDroppableDisabled:{const{id:n,key:r,disabled:a}=t,l=e.droppable.containers.get(n);if(!l||r!==l.key)return e;const u=new cS(e.droppable.containers);return u.set(n,{...l,disabled:a}),{...e,droppable:{...e.droppable,containers:u}}}case yu.UnregisterDroppable:{const{id:n,key:r}=t,a=e.droppable.containers.get(n);if(!a||r!==a.key)return e;const l=new cS(e.droppable.containers);return l.delete(n),{...e,droppable:{...e.droppable,containers:l}}}default:return e}}function k7e(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:a}=$.useContext(KN),l=rL(r),u=rL(n?.id);return $.useEffect(()=>{if(!t&&!r&&l&&u!=null){if(!IB(l)||document.activeElement===l.target)return;const i=a.get(u);if(!i)return;const{activatorNode:m,node:b}=i;if(!m.current&&!b.current)return;requestAnimationFrame(()=>{for(const _ of[m.current,b.current]){if(!_)continue;const w=Eje(_);if(w){w.focus();break}}})}},[r,t,a,u,l]),null}function I7e(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((a,l)=>l({transform:a,...r}),n):n}function N7e(e){return $.useMemo(()=>({draggable:{...ZA.draggable,...e?.draggable},droppable:{...ZA.droppable,...e?.droppable},dragOverlay:{...ZA.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function R7e(e){let{activeNode:t,measure:n,initialRect:r,config:a=!0}=e;const l=$.useRef(!1),{x:u,y:i}=typeof a=="boolean"?{x:a,y:a}:a;By(()=>{if(!u&&!i||!t){l.current=!1;return}if(l.current||!r)return;const b=t?.node.current;if(!b||b.isConnected===!1)return;const _=n(b),w=zne(_,r);if(u||(w.x=0),i||(w.y=0),l.current=!0,Math.abs(w.x)>0||Math.abs(w.y)>0){const M=Une(b);M&&M.scrollBy({top:w.y,left:w.x})}},[t,u,i,r,n])}const ere=$.createContext({...hg,scaleX:1,scaleY:1});var yb;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(yb||(yb={}));const M7e=$.memo(function(t){var n,r,a,l;let{id:u,accessibility:i,autoScroll:m=!0,children:b,sensors:_=E7e,collisionDetection:w=Lje,measuring:M,modifiers:P,...j}=t;const G=$.useReducer(A7e,void 0,C7e),[z,q]=G,[Y,J]=kje(),[ne,ie]=$.useState(yb.Uninitialized),ue=ne===yb.Initialized,{draggable:{active:oe,nodes:K,translate:se},droppable:{containers:pe}}=z,ve=oe!=null?K.get(oe):null,Te=$.useRef({initial:null,translated:null}),Me=$.useMemo(()=>{var Qn;return oe!=null?{id:oe,data:(Qn=ve?.data)!=null?Qn:w7e,rect:Te}:null},[oe,ve]),xe=$.useRef(null),[Se,he]=$.useState(null),[we,_e]=$.useState(null),Be=oT(j,Object.values(j)),He=gC("DndDescribedBy",u),Re=$.useMemo(()=>pe.getEnabled(),[pe]),je=N7e(M),{droppableRects:Ze,measureDroppableContainers:Qe,measuringScheduled:Pe}=c7e(Re,{dragging:ue,dependencies:[se.x,se.y],config:je.droppable}),St=l7e(K,oe),Nt=$.useMemo(()=>we?aL(we):null,[we]),We=Xn(),en=d7e(St,je.draggable.measure);R7e({activeNode:oe!=null?K.get(oe):null,config:We.layoutShiftCompensation,initialRect:en,measure:je.draggable.measure});const zt=GG(St,je.draggable.measure,en),rn=GG(St?St.parentElement:null),Ge=$.useRef({activatorEvent:null,active:null,activeNode:St,collisionRect:null,collisions:null,droppableRects:Ze,draggableNodes:K,draggingNode:null,draggingNodeRect:null,droppableContainers:pe,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),kn=pe.getNodeFor((n=Ge.current.over)==null?void 0:n.id),_n=x7e({measure:je.dragOverlay.measure}),Lt=(r=_n.nodeRef.current)!=null?r:St,pn=ue?(a=_n.rect)!=null?a:zt:null,Tn=!!(_n.nodeRef.current&&_n.rect),tr=p7e(Tn?null:zt),Vt=Qne(Lt?Kf(Lt):null),lr=m7e(ue?kn??St:null),sr=b7e(lr),xn=I7e(P,{transform:{x:se.x-tr.x,y:se.y-tr.y,scaleX:1,scaleY:1},activatorEvent:we,active:Me,activeNodeRect:zt,containerNodeRect:rn,draggingNodeRect:pn,over:Ge.current.over,overlayNodeRect:_n.rect,scrollableAncestors:lr,scrollableAncestorRects:sr,windowRect:Vt}),En=Nt?kE(Nt,se):null,hn=g7e(lr),jn=VG(hn),_t=VG(hn,[zt]),Oe=kE(xn,jn),ke=pn?Bje(pn,xn):null,qe=Me&&ke?w({active:Me,collisionRect:ke,droppableRects:Ze,droppableContainers:Re,pointerCoordinates:En}):null,ut=Oje(qe,"id"),[dt,Ut]=$.useState(null),Bt=Tn?xn:kE(xn,_t),xt=Pje(Bt,(l=dt?.rect)!=null?l:null,zt),Ct=$.useRef(null),sn=$.useCallback((Qn,Pt)=>{let{sensor:wn,options:Mr}=Pt;if(xe.current==null)return;const Mn=K.get(xe.current);if(!Mn)return;const on=Qn.nativeEvent,Wr=new wn({active:xe.current,activeNode:Mn,event:on,options:Mr,context:Ge,onAbort(Ir){if(!K.get(Ir))return;const{onDragAbort:yt}=Be.current,Ft={id:Ir};yt?.(Ft),Y({type:"onDragAbort",event:Ft})},onPending(Ir,Xr,yt,Ft){if(!K.get(Ir))return;const{onDragPending:Ot}=Be.current,Pn={id:Ir,constraint:Xr,initialCoordinates:yt,offset:Ft};Ot?.(Pn),Y({type:"onDragPending",event:Pn})},onStart(Ir){const Xr=xe.current;if(Xr==null)return;const yt=K.get(Xr);if(!yt)return;const{onDragStart:Ft}=Be.current,Yt={activatorEvent:on,active:{id:Xr,data:yt.data,rect:Te}};qm.unstable_batchedUpdates(()=>{Ft?.(Yt),ie(yb.Initializing),q({type:yu.DragStart,initialCoordinates:Ir,active:Xr}),Y({type:"onDragStart",event:Yt}),he(Ct.current),_e(on)})},onMove(Ir){q({type:yu.DragMove,coordinates:Ir})},onEnd:Tr(yu.DragEnd),onCancel:Tr(yu.DragCancel)});Ct.current=Wr;function Tr(Ir){return async function(){const{active:yt,collisions:Ft,over:Yt,scrollAdjustedTranslate:Ot}=Ge.current;let Pn=null;if(yt&&Ot){const{cancelDrop:nr}=Be.current;Pn={activatorEvent:on,active:yt,collisions:Ft,delta:Ot,over:Yt},Ir===yu.DragEnd&&typeof nr=="function"&&await Promise.resolve(nr(Pn))&&(Ir=yu.DragCancel)}xe.current=null,qm.unstable_batchedUpdates(()=>{q({type:Ir}),ie(yb.Uninitialized),Ut(null),he(null),_e(null),Ct.current=null;const nr=Ir===yu.DragEnd?"onDragEnd":"onDragCancel";if(Pn){const fr=Be.current[nr];fr?.(Pn),Y({type:nr,event:Pn})}})}}},[K]),mn=$.useCallback((Qn,Pt)=>(wn,Mr)=>{const Mn=wn.nativeEvent,on=K.get(Mr);if(xe.current!==null||!on||Mn.dndKit||Mn.defaultPrevented)return;const Wr={active:on};Qn(wn,Pt.options,Wr)===!0&&(Mn.dndKit={capturedBy:Pt.sensor},xe.current=Mr,sn(wn,Pt))},[K,sn]),Vn=u7e(_,mn);y7e(_),By(()=>{zt&&ne===yb.Initializing&&ie(yb.Initialized)},[zt,ne]),$.useEffect(()=>{const{onDragMove:Qn}=Be.current,{active:Pt,activatorEvent:wn,collisions:Mr,over:Mn}=Ge.current;if(!Pt||!wn)return;const on={active:Pt,activatorEvent:wn,collisions:Mr,delta:{x:Oe.x,y:Oe.y},over:Mn};qm.unstable_batchedUpdates(()=>{Qn?.(on),Y({type:"onDragMove",event:on})})},[Oe.x,Oe.y]),$.useEffect(()=>{const{active:Qn,activatorEvent:Pt,collisions:wn,droppableContainers:Mr,scrollAdjustedTranslate:Mn}=Ge.current;if(!Qn||xe.current==null||!Pt||!Mn)return;const{onDragOver:on}=Be.current,Wr=Mr.get(ut),Tr=Wr&&Wr.rect.current?{id:Wr.id,rect:Wr.rect.current,data:Wr.data,disabled:Wr.disabled}:null,Ir={active:Qn,activatorEvent:Pt,collisions:wn,delta:{x:Mn.x,y:Mn.y},over:Tr};qm.unstable_batchedUpdates(()=>{Ut(Tr),on?.(Ir),Y({type:"onDragOver",event:Ir})})},[ut]),By(()=>{Ge.current={activatorEvent:we,active:Me,activeNode:St,collisionRect:ke,collisions:qe,droppableRects:Ze,draggableNodes:K,draggingNode:Lt,draggingNodeRect:pn,droppableContainers:pe,over:dt,scrollableAncestors:lr,scrollAdjustedTranslate:Oe},Te.current={initial:pn,translated:ke}},[Me,St,qe,ke,K,Lt,pn,Ze,pe,dt,lr,Oe]),i7e({...We,delta:se,draggingRect:ke,pointerCoordinates:En,scrollableAncestors:lr,scrollableAncestorRects:sr});const gn=$.useMemo(()=>({active:Me,activeNode:St,activeNodeRect:zt,activatorEvent:we,collisions:qe,containerNodeRect:rn,dragOverlay:_n,draggableNodes:K,droppableContainers:pe,droppableRects:Ze,over:dt,measureDroppableContainers:Qe,scrollableAncestors:lr,scrollableAncestorRects:sr,measuringConfiguration:je,measuringScheduled:Pe,windowRect:Vt}),[Me,St,zt,we,qe,rn,_n,K,pe,Ze,dt,Qe,lr,sr,je,Pe,Vt]),qn=$.useMemo(()=>({activatorEvent:we,activators:Vn,active:Me,activeNodeRect:zt,ariaDescribedById:{draggable:He},dispatch:q,draggableNodes:K,over:dt,measureDroppableContainers:Qe}),[we,Vn,Me,zt,q,He,K,dt,Qe]);return Ve.createElement(jne.Provider,{value:J},Ve.createElement(KN.Provider,{value:qn},Ve.createElement(Jne.Provider,{value:gn},Ve.createElement(ere.Provider,{value:xt},b)),Ve.createElement(k7e,{disabled:i?.restoreFocus===!1})),Ve.createElement(Rje,{...i,hiddenTextDescribedById:He}));function Xn(){const Qn=Se?.autoScrollEnabled===!1,Pt=typeof m=="object"?m.enabled===!1:m===!1,wn=ue&&!Qn&&!Pt;return typeof m=="object"?{...m,enabled:wn}:{enabled:wn}}}),O7e=$.createContext(null),YG="button",D7e="Draggable";function L7e(e){let{id:t,data:n,disabled:r=!1,attributes:a}=e;const l=gC(D7e),{activators:u,activatorEvent:i,active:m,activeNodeRect:b,ariaDescribedById:_,draggableNodes:w,over:M}=$.useContext(KN),{role:P=YG,roleDescription:j="draggable",tabIndex:G=0}=a??{},z=m?.id===t,q=$.useContext(z?ere:O7e),[Y,J]=fI(),[ne,ie]=fI(),ue=v7e(u,t),oe=oT(n);By(()=>(w.set(t,{id:t,key:l,node:Y,activatorNode:ne,data:oe}),()=>{const se=w.get(t);se&&se.key===l&&w.delete(t)}),[w,t]);const K=$.useMemo(()=>({role:P,tabIndex:G,"aria-disabled":r,"aria-pressed":z&&P===YG?!0:void 0,"aria-roledescription":j,"aria-describedby":_.draggable}),[r,P,G,z,j,_.draggable]);return{active:m,activatorEvent:i,activeNodeRect:b,attributes:K,isDragging:z,listeners:r?void 0:ue,node:Y,over:M,setNodeRef:J,setActivatorNodeRef:ie,transform:q}}function P7e(){return $.useContext(Jne)}const F7e="Droppable",B7e={timeout:25};function $7e(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:a}=e;const l=gC(F7e),{active:u,dispatch:i,over:m,measureDroppableContainers:b}=$.useContext(KN),_=$.useRef({disabled:n}),w=$.useRef(!1),M=$.useRef(null),P=$.useRef(null),{disabled:j,updateMeasurementsFor:G,timeout:z}={...B7e,...a},q=oT(G??r),Y=$.useCallback(()=>{if(!w.current){w.current=!0;return}P.current!=null&&clearTimeout(P.current),P.current=setTimeout(()=>{b(Array.isArray(q.current)?q.current:[q.current]),P.current=null},z)},[z]),J=XN({callback:Y,disabled:j||!u}),ne=$.useCallback((K,se)=>{J&&(se&&(J.unobserve(se),w.current=!1),K&&J.observe(K))},[J]),[ie,ue]=fI(ne),oe=oT(t);return $.useEffect(()=>{!J||!ie.current||(J.disconnect(),w.current=!1,J.observe(ie.current))},[ie,J]),$.useEffect(()=>(i({type:yu.RegisterDroppable,element:{id:r,key:l,disabled:n,node:ie,rect:M,data:oe}}),()=>i({type:yu.UnregisterDroppable,key:l,id:r})),[r]),$.useEffect(()=>{n!==_.current.disabled&&(i({type:yu.SetDroppableDisabled,id:r,key:l,disabled:n}),_.current.disabled=n)},[r,l,n,i]),{active:u,rect:M,isOver:m?.id===r,node:ie,over:m,setNodeRef:ue}}const j7e=e=>{let{transform:t}=e;return{...t,x:0}};function OB(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function z7e(e,t){return e.reduce((n,r,a)=>{const l=t.get(r);return l&&(n[a]=l),n},Array(e.length))}function mA(e){return e!==null&&e>=0}function U7e(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function G7e(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const tre=e=>{let{rects:t,activeIndex:n,overIndex:r,index:a}=e;const l=OB(t,r,n),u=t[a],i=l[a];return!i||!u?null:{x:i.left-u.left,y:i.top-u.top,scaleX:i.width/u.width,scaleY:i.height/u.height}},gA={scaleX:1,scaleY:1},H7e=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:a,rects:l,overIndex:u}=e;const i=(t=l[n])!=null?t:r;if(!i)return null;if(a===n){const b=l[u];return b?{x:0,y:n<u?b.top+b.height-(i.top+i.height):b.top-i.top,...gA}:null}const m=V7e(l,a,n);return a>n&&a<=u?{x:0,y:-i.height-m,...gA}:a<n&&a>=u?{x:0,y:i.height+m,...gA}:{x:0,y:0,...gA}};function V7e(e,t,n){const r=e[t],a=e[t-1],l=e[t+1];return r?n<t?a?r.top-(a.top+a.height):l?l.top-(r.top+r.height):0:l?l.top-(r.top+r.height):a?r.top-(a.top+a.height):0:0}const nre="Sortable",rre=Ve.createContext({activeIndex:-1,containerId:nre,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tre,disabled:{draggable:!1,droppable:!1}});function q7e(e){let{children:t,id:n,items:r,strategy:a=tre,disabled:l=!1}=e;const{active:u,dragOverlay:i,droppableRects:m,over:b,measureDroppableContainers:_}=P7e(),w=gC(nre,n),M=i.rect!==null,P=$.useMemo(()=>r.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[r]),j=u!=null,G=u?P.indexOf(u.id):-1,z=b?P.indexOf(b.id):-1,q=$.useRef(P),Y=!U7e(P,q.current),J=z!==-1&&G===-1||Y,ne=G7e(l);By(()=>{Y&&j&&_(P)},[Y,P,j,_]),$.useEffect(()=>{q.current=P},[P]);const ie=$.useMemo(()=>({activeIndex:G,containerId:w,disabled:ne,disableTransforms:J,items:P,overIndex:z,useDragOverlay:M,sortedRects:z7e(P,m),strategy:a}),[G,w,ne.draggable,ne.droppable,J,P,z,m,M,a]);return Ve.createElement(rre.Provider,{value:ie},t)}const Y7e=e=>{let{id:t,items:n,activeIndex:r,overIndex:a}=e;return OB(n,r,a).indexOf(t)},W7e=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:a,items:l,newIndex:u,previousItems:i,previousContainerId:m,transition:b}=e;return!b||!r||i!==l&&a===u?!1:n?!0:u!==a&&t===m},Z7e={duration:200,easing:"ease"},are="transform",X7e=sT.Transition.toString({property:are,duration:0,easing:"linear"}),K7e={roleDescription:"sortable"};function Q7e(e){let{disabled:t,index:n,node:r,rect:a}=e;const[l,u]=$.useState(null),i=$.useRef(n);return By(()=>{if(!t&&n!==i.current&&r.current){const m=a.current;if(m){const b=Bw(r.current,{ignoreTransform:!0}),_={x:m.left-b.left,y:m.top-b.top,scaleX:m.width/b.width,scaleY:m.height/b.height};(_.x||_.y)&&u(_)}}n!==i.current&&(i.current=n)},[t,n,r,a]),$.useEffect(()=>{l&&u(null)},[l]),l}function J7e(e){let{animateLayoutChanges:t=W7e,attributes:n,disabled:r,data:a,getNewIndex:l=Y7e,id:u,strategy:i,resizeObserverConfig:m,transition:b=Z7e}=e;const{items:_,containerId:w,activeIndex:M,disabled:P,disableTransforms:j,sortedRects:G,overIndex:z,useDragOverlay:q,strategy:Y}=$.useContext(rre),J=eze(r,P),ne=_.indexOf(u),ie=$.useMemo(()=>({sortable:{containerId:w,index:ne,items:_},...a}),[w,a,ne,_]),ue=$.useMemo(()=>_.slice(_.indexOf(u)),[_,u]),{rect:oe,node:K,isOver:se,setNodeRef:pe}=$7e({id:u,data:ie,disabled:J.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...m}}),{active:ve,activatorEvent:Te,activeNodeRect:Me,attributes:xe,setNodeRef:Se,listeners:he,isDragging:we,over:_e,setActivatorNodeRef:Be,transform:He}=L7e({id:u,data:ie,attributes:{...K7e,...n},disabled:J.draggable}),Re=vje(pe,Se),je=!!ve,Ze=je&&!j&&mA(M)&&mA(z),Qe=!q&&we,Pe=Qe&&Ze?He:null,Nt=Ze?Pe??(i??Y)({rects:G,activeNodeRect:Me,activeIndex:M,overIndex:z,index:ne}):null,We=mA(M)&&mA(z)?l({id:u,items:_,activeIndex:M,overIndex:z}):ne,en=ve?.id,zt=$.useRef({activeId:en,items:_,newIndex:We,containerId:w}),rn=_!==zt.current.items,Ge=t({active:ve,containerId:w,isDragging:we,isSorting:je,id:u,index:ne,items:_,newIndex:zt.current.newIndex,previousItems:zt.current.items,previousContainerId:zt.current.containerId,transition:b,wasDragging:zt.current.activeId!=null}),kn=Q7e({disabled:!Ge,index:ne,node:K,rect:oe});return $.useEffect(()=>{je&&zt.current.newIndex!==We&&(zt.current.newIndex=We),w!==zt.current.containerId&&(zt.current.containerId=w),_!==zt.current.items&&(zt.current.items=_)},[je,We,w,_]),$.useEffect(()=>{if(en===zt.current.activeId)return;if(en!=null&&zt.current.activeId==null){zt.current.activeId=en;return}const Lt=setTimeout(()=>{zt.current.activeId=en},50);return()=>clearTimeout(Lt)},[en]),{active:ve,activeIndex:M,attributes:xe,data:ie,rect:oe,index:ne,newIndex:We,items:_,isOver:se,isSorting:je,isDragging:we,listeners:he,node:K,overIndex:z,over:_e,setNodeRef:Re,setActivatorNodeRef:Be,setDroppableNodeRef:pe,setDraggableNodeRef:Se,transform:kn??Nt,transition:_n()};function _n(){if(kn||rn&&zt.current.newIndex===ne)return X7e;if(!(Qe&&!IB(Te)||!b)&&(je||Ge))return sT.Transition.toString({...b,property:are})}}function eze(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}Vi.Down,Vi.Right,Vi.Up,Vi.Left;const tze=({title:e,onCreate:t})=>S.jsx(m1,{children:S.jsxs(g1,{children:[S.jsx(y1,{variant:"icon",children:S.jsx(moe,{})}),S.jsx(v1,{children:e||tt.key("empty_table_title")}),S.jsx(b1,{children:tt.key("empty_table_description")})]})}),ire=({count:e})=>S.jsx(f1,{children:[...Array(e)].map(t=>S.jsx(j0,{children:S.jsx(fd,{className:"w-full h-6"})},t))}),nze=()=>S.jsxs(wB,{style:{width:"100%"},children:[S.jsx(SB,{children:S.jsx(f1,{header:!0,children:[1,2,3,4,5].map(e=>S.jsx(xb,{children:S.jsx(fd,{className:"w-full h-6"})},e))})}),S.jsx(TB,{children:[1,2,3].map(e=>S.jsx(ire,{count:5},e))})]}),WG=({loading:e,sortable:t,data:n,relations:r,onOpenRelationTable:a,onDoAction:l,selectedRows:u,onSelectAll:i,onDeleteSelected:m,onEditFields:b,sort:_,onSelectRow:w,onClickSort:M,onCreate:P,structure:j,onReorder:G})=>{const{openDialog:z}=Fr(),q=$.useMemo(()=>j?()=>bne(!1,j??{}):()=>[],[j?.items]),Y=$.useCallback(ue=>t?[]:j?Fne({onOpenRelationTable:oe=>{a(oe,ue)},relations:r,structure:j,onEditFields:oe=>{b?.(oe,ue)},onDoAction:oe=>{l?.(oe,ue)},onDeleteSelected:()=>{m?.(ue)},onExportSelected:()=>{},forOneRow:!0}):[],[j,t,r]),J=({active:ue,over:oe})=>{if(!oe||ue.id===oe.id||!G)return;const K=n.findIndex(ve=>ve._id===ue.id),se=n.findIndex(ve=>ve._id===oe.id);if(K===-1||se===-1)return;const pe=OB(n,K,se);G(K,se,pe)},ne=({children:ue})=>t?S.jsx(M7e,{modifiers:[j7e],onDragEnd:J,children:S.jsx(q7e,{items:(n??[]).map(oe=>oe._id),strategy:H7e,children:ue})}):ue,ie=({item:ue})=>{let oe={},K,se,pe,ve;if(t){const Te=J7e({id:ue._id});K=Te.setNodeRef,se=Te.setActivatorNodeRef,pe=Te.attributes,ve=Te.listeners,oe={transform:sT.Translate.toString(Te.transform),transition:Te.transition,...Te.isDragging?{position:"relative",zIndex:9999}:{}}}return S.jsxs(f1,{contextMenuItems:Y(ue._id),ref:t?K:void 0,style:t?oe:void 0,onClick:Te=>{t||(u.length>0?w(ue._id):z({modalKey:`collection_view_${j?.collection}_${ue._id}`,collection:j?.collection??"",_id:ue._id}))},children:[S.jsx(j0,{onClick:Te=>{Te.stopPropagation(),Te.preventDefault(),t||w(ue._id)},className:"cursor-pointer",children:e?S.jsx(fd,{className:"w-full h-6"}):t?S.jsx("div",{ref:se,...pe,...ve,className:"cursor-grab active:cursor-grabbing",children:S.jsx(P$,{className:"size-4"})}):S.jsx(iS,{checked:ue._id?u.includes(ue._id):!1,onCheckedChange:Te=>{w(ue._id)}})}),q()?.map(Te=>{let Me=na.get(ue,Te.dataIndex);return S.jsx(j0,{style:{opacity:e?.3:1,transition:"opacity 0.2s ease-in-out"},children:Te.render(Me,ue)},Te.key)})]},ue._id)};return S.jsxs("div",{className:"rounded-md  overflow-auto relative",style:{},children:[!j&&S.jsx(nze,{}),j&&S.jsx(ne,{children:S.jsxs(wB,{style:{width:"100%"},children:[S.jsx(SB,{children:S.jsxs(f1,{header:!0,children:[S.jsx(xb,{onClick:ue=>{t||n?.length!=0&&(i(),ue.stopPropagation(),ue.preventDefault())},className:"sticky top-0 bg-background z-10 shadow-sm",children:t?S.jsx(P$,{className:"size-4"}):S.jsx(iS,{style:{pointerEvents:"none"},disabled:n?.length==0,checked:u.length==n?.length})}),q()?.map(ue=>S.jsx(xb,{className:"sticky top-0 bg-background z-10 shadow-sm",children:S.jsxs("div",{onClick:()=>{M(ue)},className:"flex items-center gap-2 cursor-pointer",children:[ue.sorter?_?.field==ue.dataIndex?_?.direction=="ASC"?S.jsx(WH,{className:"opacity-50",size:13}):S.jsx(qH,{className:"opacity-50",size:13}):S.jsx(hoe,{className:"opacity-50",size:13}):null,"  ",ue.title()]})},ue.key))]})}),S.jsxs(TB,{children:[!e&&n?.length==0&&S.jsx(f1,{children:S.jsx(j0,{colSpan:(q()?.length??0)+1,children:S.jsx(tze,{title:j?.title,onCreate:P})})}),e&&n.length==0&&[1,2,3].map(ue=>S.jsx(ire,{count:(q()?.length??0)+1},ue)),n?.length>0&&n?.map((ue,oe)=>S.jsx(ie,{item:ue},ue._id))]})]})})]})},lL=({collection:e,defaultFilter:t={},dialog:n=!1,modalKey:r})=>{const{openDialog:a}=Fr(),[l,u]=$.useState(!1),[i,m]=$.useState({}),[b,_]=$.useState(!1),[w,M]=$.useState(null),[P,j]=$.useState([]),[G,z]=$.useState(null),[q,Y]=$.useState(null),[J,ne]=$.useState(20),[ie,ue]=$.useState(0),[oe,K]=$.useState(null),[se,pe]=$.useState(0),[ve,Te]=$.useState(null),[Me,xe]=$.useState(null),Se=$.useRef(null);$.useEffect(()=>{Se.current&&clearTimeout(Se.current),Se.current=setTimeout(()=>{we()},1e3)},[oe]);const he=$.useRef(!1),we=$.useCallback(()=>{w&&(_(!0),localStorage.setItem(`collection_table_sort_${e}`,JSON.stringify(q)),localStorage.setItem(`collection_table_search_${e}`,oe??""),localStorage.setItem(`collection_table_stage_${e}`,Me??""),he.current=!0,ja.data({sort:q??void 0,search:oe&&oe.trim()?oe.trim():void 0,collection:e,limit:J,filter:{...AG(i),...t},offset:ie,stage:Me??void 0}).then(xn=>{if(xn?.data?.length==0&&ie>0){ue(0);return}z(xn),pe(xn?.total??0)}).finally(()=>{he.current=!1,_(!1)}))},[w,e,q,oe,J,ie,Me,i]);N8e(1e3,()=>{let xn=localStorage.getItem(`collection_table_stage_${e}`);xn&&xe(xn);let En=localStorage.getItem(`collection_table_sort_${e}`);En&&Y(JSON.parse(En));let hn=localStorage.getItem(`collection_table_search_${e}`);if(hn&&K(hn),!n){let jn=localStorage.getItem(`collection_table_filter_${e}`);jn&&(console.log("=====> load filter: "+jn),m(JSON.parse(jn)))}_(!0),M(null),SI.collection({collection:e}).then(jn=>{jn?.structure&&M(jn.structure),j(jn?.relations??[]),jn?.descriptions&&Te(jn.descriptions)}).finally(()=>{})},[e]),$.useEffect(()=>{w?.publicStages&&!Me&&xe(Object.keys(w?.publicStages)[0]),we()},[w,q,J,ie,Me,i]),$.useEffect(()=>{l&&Y(null)},[l]);const _e=xn=>{if(l){Ca.error(tt.key("sortingByHandDisabledWithManualSort"));return}q?.field==xn.dataIndex?q?.direction=="ASC"?Y({field:xn.dataIndex,direction:"DESC"}):Y(null):Y({field:xn.dataIndex,direction:"ASC"})},[Be,He]=$.useState([]),Re=xn=>{xn&&(Be.includes(xn)?He(Be.filter(En=>En!==xn)):He([...Be,xn]))},je=()=>{Be.length==G?.data?.length?He([]):He(G?.data?.map(xn=>xn._id)??[])},Ze=$.useCallback((xn,En,hn)=>{if(!G?.data||xn===En)return;const jn=G.data[xn];if(!jn?._id)return;const _t={_id:jn._id,collection:e};En>0?_t.aboveId=hn[En-1]._id:En<hn.length-1?_t.belowId=hn[En+1]._id:hn.length>1&&(_t.aboveId=hn[En-1]._id),z(Oe=>Oe&&{...Oe,data:hn}),ja.moveUpdate(_t).then(()=>{Ca.success(tt.key("sortingByHandSuccess"))}).catch(Oe=>{Ca.error(tt.key("sortingByHandError")),console.error("Failed to update order:",Oe),we()})},[G,e,we]),Qe=$.useRef(null),Pe=$.useRef(null),[St,Nt]=$.useState(0),[We,en]=$.useState(0);$.useEffect(()=>{Pe.current&&Nt(Pe.current.clientHeight),Qe.current&&en(Qe.current.clientWidth)},[Pe.current,Qe.current]),$.useEffect(()=>{let xn=null,En=window.addEventListener("resize",()=>{clearTimeout(xn),xn=setTimeout(()=>{Pe.current&&Nt(Pe.current.clientHeight),Qe.current&&en(Qe.current.clientWidth)},1e3)});return()=>{clearTimeout(xn),window.removeEventListener("resize",En)}},[]);const zt=()=>{a({modalKey:`collection_create_${e}`,collection:e})},rn=(xn,En)=>{m(hn=>({...En})),n||(console.log("=====> save filter: "+JSON.stringify(En)),localStorage.setItem(`collection_table_filter_${e}`,JSON.stringify(En)))},{openTableDialog:Ge}=Fr(),kn=(xn,En)=>{Ge({...xn,ids:En?[En]:Be})},_n=()=>{Lt(Be)},Lt=xn=>{if(!w?.collection)return;let En="";En+=w.title||w.collection||"data",Me&&(En+=`-${Me}`),En+=`-${yo().format("DD-MM-YYYY-HH-mm")}`,K0.current?.open({title:xn?tt.key("export_selected_items"):tt.key("export_data_confirm"),description:xn?tt.key("export_selected_items_description"):tt.key("export_data_confirm_description"),buttons:[{label:tt.key("export_data"),onClick:()=>{w?.collection&&ja.makeExport({ids:xn??void 0,title:En,collection:w?.collection,filter:{...AG(i),...t},stage:Me??void 0}).then(hn=>{Ca.success(tt.key("exportCreatedSuccess")),L1?.current?.open()}).catch(hn=>{L1?.current?.open()})}},{label:tt.key("cancel"),onClick:()=>{K0.current?.close()}}]})},pn=(xn,En)=>{ute.current?.open({structure:xn,initialValues:{},onSave:hn=>{let jn=Ca.loading(tt.key("saving"));ja.update({collection:e,_ids:En?[En]:Be,values:hn}).then(()=>{Ca.success(tt.key("saved_successfully")),we()}).finally(()=>{Ca.dismiss(jn)})}})},Tn=(xn,En)=>{!En&&!Be.length||aB.current?.open({collection:e,action:xn,ids:En?[En]:Be,onSuccess:()=>{we()}})},tr=xn=>{K0.current?.open({title:xn?tt.key("remove_item"):tt.key("remove_selected_items"),description:xn?tt.key("remove_item_description"):tt.key("remove_selected_items_description"),buttons:[{label:tt.key("cancel"),onClick:()=>{}},{label:tt.key("delete"),onClick:()=>{let En=Ca.loading(tt.key("removing_selected_items"));ja.deleteData({collection:e,_ids:xn?[xn]:Be}).then(()=>{Ca.success(tt.key("remove_selected_items_success")),He([]),we()}).finally(()=>{Ca.dismiss(En)})}}]})},Vt=$.useRef(null),{closeDialog:lr}=Fr(),{isMobile:sr}=Fr();return sr?S.jsxs(S.Fragment,{children:[S.jsx(PG,{onCloseTableDialog:()=>{lr(r)},dialog:n,onOpenRelationTable:kn,relations:P,filterCount:Object.keys(i).length,onOpenFilter:()=>{Vt.current?.open()},onExportSelected:_n,onEditFields:pn,onDoAction:Tn,onDeleteSelected:tr,onExport:Lt,structure:w,stage:Me,setStage:xe,search:oe,setSearch:K,onCreate:zt,selectedRows:Be,setSortable:u,sortable:l}),S.jsx(rG,{lock:b,collection:e,limit:J,offset:ie,search:oe,sort:q??void 0,stage:Me??void 0,currentHash:G?.hash,onHashUpdate:we}),S.jsx("div",{className:"h-full",children:S.jsx(WG,{onOpenRelationTable:kn,relations:P,onDeleteSelected:tr,onEditFields:pn,sortable:l,loading:b,onDoAction:Tn,data:G?.data??[],selectedRows:Be,sort:q,onSelectAll:je,onSelectRow:Re,onClickSort:_e,onCreate:zt,structure:w,onReorder:Ze})}),S.jsx(vL,{className:"left-0 sticky bottom-0 w-full mt-auto",children:S.jsx(qS,{onChangeOffset:ue,total:se,limit:J,offset:ie})}),S.jsx(nL,{onApply:(xn,En)=>{rn(xn,En)},initialFilter:i,ref:Vt,structure:w})]}):S.jsxs(S.Fragment,{children:[S.jsx(PG,{onCloseTableDialog:()=>{lr(r)},onOpenRelationTable:kn,relations:P,filterCount:Object.keys(i).length,onOpenFilter:()=>{Vt.current?.open()},onExportSelected:_n,onEditFields:pn,onDoAction:Tn,onDeleteSelected:tr,onExport:Lt,structure:w,stage:Me,setStage:xe,search:oe,setSearch:K,onCreate:zt,selectedRows:Be,setSortable:u,sortable:l}),S.jsxs(yd,{className:"flex flex-col px-4",children:[S.jsx(rG,{lock:b,collection:e,limit:J,offset:ie,search:oe,sort:q??void 0,stage:Me??void 0,currentHash:G?.hash,onHashUpdate:we}),S.jsx(WG,{onOpenRelationTable:kn,relations:P,onDeleteSelected:tr,onEditFields:pn,sortable:l,loading:b,data:G?.data??[],onDoAction:Tn,selectedRows:Be,sort:q,onSelectAll:je,onSelectRow:Re,onClickSort:_e,onCreate:zt,structure:w,onReorder:Ze})]}),S.jsx(yd,{autoSize:!0,className:"p-4",children:S.jsx(qS,{onChangeOffset:ue,total:se,limit:J,offset:ie})}),S.jsx(nL,{onApply:(xn,En)=>{rn(xn,En)},ref:Vt,structure:w})]})},rze=e=>{const{isMobile:t,closeDialog:n}=Fr(),r=()=>{n(e.modalKey)};return t?S.jsx(Yh,{opened:!0,onBackdropClick:()=>{r()},children:S.jsx(Dc,{children:S.jsx(lL,{...e,dialog:!0})})}):S.jsx(Lc,{open:!0,onOpenChange:()=>{r()},children:S.jsx(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] overflow-hidden !p-0",children:S.jsx(eC,{className:"w-[80vw] h-[80vh]",children:S.jsx(X0,{children:S.jsx(lL,{...e,dialog:!0})})})})})},ore=["shift","alt","meta","mod","ctrl","control"],aze={esc:"escape",return:"enter",left:"arrowleft",right:"arrowright",up:"arrowup",down:"arrowdown",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function Lb(e){return(aze[e.trim()]||e.trim()).toLowerCase().replace(/key|digit|numpad/,"")}function sre(e){return ore.includes(e)}function tO(e,t=","){return e.toLowerCase().split(t)}function nO(e,t="+",n=">",r=!1,a){let l=[],u=!1;e=e.trim(),e.includes(n)?(u=!0,l=e.toLocaleLowerCase().split(n).map(b=>Lb(b))):l=e.toLocaleLowerCase().split(t).map(b=>Lb(b));const i={alt:l.includes("alt"),ctrl:l.includes("ctrl")||l.includes("control"),shift:l.includes("shift"),meta:l.includes("meta"),mod:l.includes("mod"),useKey:r},m=l.filter(b=>!ore.includes(b));return{...i,keys:m,description:a,isSequence:u,hotkey:e}}typeof document<"u"&&(document.addEventListener("keydown",e=>{e.code!==void 0&&lre([Lb(e.code)])}),document.addEventListener("keyup",e=>{e.code!==void 0&&ure([Lb(e.code)])})),typeof window<"u"&&(window.addEventListener("blur",()=>{q0.clear()}),window.addEventListener("contextmenu",()=>{setTimeout(()=>{q0.clear()},0)}));const q0=new Set;function DB(e){return Array.isArray(e)}function ize(e,t=","){return(DB(e)?e:e.split(t)).every(n=>q0.has(n.trim().toLowerCase()))}function lre(e){const t=Array.isArray(e)?e:[e];q0.has("meta")&&q0.forEach(n=>!sre(n)&&q0.delete(n.toLowerCase())),t.forEach(n=>q0.add(n.toLowerCase()))}function ure(e){const t=Array.isArray(e)?e:[e];e==="meta"?q0.clear():t.forEach(n=>q0.delete(n.toLowerCase()))}function oze(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function sze(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}const lze=["input","textarea","select","searchbox","slider","spinbutton","menuitem","menuitemcheckbox","menuitemradio","option","radio","textbox"];function uze(e){return cre(e,lze)}function cre(e,t=!1){const{target:n,composed:r}=e;let a,l;return cze(n)&&r?(a=e.composedPath()[0]&&e.composedPath()[0].tagName,l=e.composedPath()[0]&&e.composedPath()[0].role):(a=n&&n.tagName,l=n&&n.role),DB(t)?!!(a&&t&&t.some(u=>u.toLowerCase()===a.toLowerCase()||u===l)):!!(a&&t&&t)}function cze(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function dze(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(n=>t.includes(n))||e.includes("*"):!0}const fze=(e,t,n=!1)=>{const{alt:r,meta:a,mod:l,shift:u,ctrl:i,keys:m,useKey:b}=t,{code:_,key:w,ctrlKey:M,metaKey:P,shiftKey:j,altKey:G}=e,z=Lb(_);if(b&&m?.length===1&&m.includes(w))return!0;if(!m?.includes(z)&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(z))return!1;if(!n){if(r!==G&&z!=="alt"||u!==j&&z!=="shift")return!1;if(l){if(!P&&!M)return!1}else if(a!==P&&z!=="meta"&&z!=="os"||i!==M&&z!=="ctrl"&&z!=="control")return!1}return m&&m.length===1&&m.includes(z)?!0:m?ize(m):!m},hze=$.createContext(void 0),pze=()=>$.useContext(hze);function mze(e,t){return e===t}const gze=$.createContext({hotkeys:[],activeScopes:[],toggleScope:()=>{},enableScope:()=>{},disableScope:()=>{}}),yze=()=>$.useContext(gze);function vze(e){const t=$.useRef(void 0);return mze(t.current,e)||(t.current=e),t.current}const ZG=e=>{e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation()},bze=typeof window<"u"?$.useLayoutEffect:$.useEffect;function Np(e,t,n,r){const a=$.useRef(null),l=$.useRef(!1),u=Array.isArray(n)?Array.isArray(r)?void 0:r:n,i=DB(e)?e.join(u?.delimiter):e,m=$.useCallback(t,[]),b=$.useRef(m);b.current=t;const _=vze(u),{activeScopes:w}=yze(),M=pze();return bze(()=>{if(_?.enabled===!1||!dze(w,_?.scopes))return;let P=[],j;const G=(J,ne=!1)=>{if(!(uze(J)&&!cre(J,_?.enableOnFormTags))){if(a.current!==null){const ie=a.current.getRootNode();if((ie instanceof Document||ie instanceof ShadowRoot)&&ie.activeElement!==a.current&&!a.current.contains(ie.activeElement)){ZG(J);return}}J.target?.isContentEditable&&!_?.enableOnContentEditable||tO(i,_?.delimiter).forEach(ie=>{if(ie.includes(_?.splitKey??"+")&&ie.includes(_?.sequenceSplitKey??">")){console.warn(`Hotkey ${ie} contains both ${_?.splitKey??"+"} and ${_?.sequenceSplitKey??">"} which is not supported.`);return}const ue=nO(ie,_?.splitKey,_?.sequenceSplitKey,_?.useKey,_?.description);if(ue.isSequence){j=setTimeout(()=>{P=[]},_?.sequenceTimeoutMs??1e3);const oe=ue.useKey?J.key:Lb(J.code);if(sre(oe.toLowerCase()))return;P.push(oe);const K=ue.keys?.[P.length-1];if(oe!==K){P=[],j&&clearTimeout(j);return}P.length===ue.keys?.length&&(b.current(J,ue),j&&clearTimeout(j),P=[])}else if(fze(J,ue,_?.ignoreModifiers)||ue.keys?.includes("*")){if(_?.ignoreEventWhen?.(J)||ne&&l.current)return;if(oze(J,ue,_?.preventDefault),!sze(J,ue,_?.enabled)){ZG(J);return}b.current(J,ue),ne||(l.current=!0)}})}},z=J=>{J.code!==void 0&&(lre(Lb(J.code)),(_?.keydown===void 0&&_?.keyup!==!0||_?.keydown)&&G(J))},q=J=>{J.code!==void 0&&(ure(Lb(J.code)),l.current=!1,_?.keyup&&G(J,!0))},Y=a.current||u?.document||document;return Y.addEventListener("keyup",q,u?.eventListenerOptions),Y.addEventListener("keydown",z,u?.eventListenerOptions),M&&tO(i,_?.delimiter).forEach(J=>M.addHotkey(nO(J,_?.splitKey,_?.sequenceSplitKey,_?.useKey,_?.description))),()=>{Y.removeEventListener("keyup",q,u?.eventListenerOptions),Y.removeEventListener("keydown",z,u?.eventListenerOptions),M&&tO(i,_?.delimiter).forEach(J=>M.removeHotkey(nO(J,_?.splitKey,_?.sequenceSplitKey,_?.useKey,_?.description))),P=[],j&&clearTimeout(j)}},[i,_,w]),a}function XG({className:e,...t}){return S.jsx("kbd",{"data-slot":"kbd",className:Dn("bg-muted text-muted-foreground pointer-events-none inline-flex h-4 w-fit min-w-5 items-center justify-center gap-1 rounded-sm px-1 font-sans text-[10px] font-medium select-none","[&_svg:not([class*='size-'])]:size-3","[[data-slot=tooltip-content]_&]:bg-background/20 [[data-slot=tooltip-content]_&]:text-background dark:[[data-slot=tooltip-content]_&]:bg-background/10",e),...t})}const _ze=({collection:e,_id:t,modalKey:n,clonedFrom:r})=>{const{closeDialog:a,focusDialogKey:l,openDialog:u,setHideTips:i,hideTips:m}=Fr(),[b,_]=Ve.useState(null),w=je=>{l===n&&j?.allItems?.[je]&&ue(j?.allItems?.[je]?.key??"")};Np("shift+1",()=>{w(0)}),Np("shift+2",()=>{w(1)}),Np("shift+3",()=>{w(2)}),Np("shift+4",()=>{w(3)}),Np("shift+5",()=>{w(4)}),Np("shift+6",()=>{w(5)}),Np("shift+7",()=>{w(6)}),Np("shift+8",()=>{w(7)}),Np("shift+9",()=>{w(8)}),Np("shift+0",()=>{w(9)});const M=()=>{l===n&&a(n)};Np("shift+x",()=>{M()});const P=()=>{l===n&&!oe&&Se.showSaveButton()&&ve("save")};Np("shift+s",()=>{P()});const[j,G]=Ve.useState(null),[z,q]=Ve.useState(null),[Y,J]=Ve.useState(null),[ne,ie]=Ve.useState(null),ue=je=>{let Ze=j?.allItems?.find(Qe=>Qe.key===je);Ze?.group&&q(Ze)},[oe,K]=Ve.useState(!0),se=()=>{K(!0),t?ja.data({collection:e,_id:t}).then(je=>{pe.current=je?.data?.[0]??{}}).catch(()=>{a(n)}).finally(()=>{K(!1)}):ja.emptyData({collection:e,clone:r}).then(je=>{pe.current=je}).catch(()=>{a(n)}).finally(()=>{K(!1)})};Ve.useEffect(()=>{SI.collection({collection:e}).then(je=>{je?.structure&&_(je.structure),je?.descriptions&&J(je.descriptions),ie(je?.relations??null),G(je?.collectionMenu??null),!z&&je?.collectionMenu?.allItems&&q(je?.collectionMenu?.allItems[0])}),se()},[e]);const pe=Ve.useRef({}),ve=je=>{if(!b){Ca.error(tt.key("error_saving"));return}let Ze=XS(pe.current,b,pe.current,[]);if(Ze.length>0){let Pe=Ze[0];Ca.error(`${Pe} ${tt.key("is_required")}`);return}let Qe=Ca.loading(tt.key("saving"));ja.update({collection:e,_ids:t?[t]:void 0,values:pe.current}).then(Pe=>{if(Ca.success(tt.key("saved_successfully")),je==="save_and_close"&&a(n),je==="save_and_add_new"){u({collection:e}),a(n);return}if(je==="save_and_edit"){t||(u({collection:e,_id:Pe?.data?.[0]?._id}),a(n));return}if(je==="save"){t||(u({collection:e,_id:Pe?.data?.[0]?._id}),a(n));return}}).catch(Pe=>{Ca.error(tt.key("error_saving"))}).finally(()=>{Ca.dismiss(Qe)})},Te=()=>{K0.current?.open({title:tt.key("delete_item"),description:tt.key("delete_item_description"),buttons:[{label:tt.key("cancel"),onClick:()=>{}},{label:tt.key("delete"),onClick:()=>{t&&ja.deleteData({collection:e,_ids:[t]}).then(je=>{Ca.success(tt.key("deleted_successfully")),a(n)})}}]})},{isMobile:Me,color:xe}=Fr(),Se=k8e(b,t),he=je=>{t&&aB.current?.open({collection:e,action:je,ids:[t],onSuccess:()=>{se()}})},we=()=>{t&&u({modalKey:`collection_create_${e}_cloned_from_${t}`,collection:e,clonedFrom:t})},{openTableDialog:_e}=Fr(),Be=je=>{t&&_e({...je,ids:[t]})},[He,Re]=Ve.useState([]);return Ve.useEffect(()=>{let je=[];na.map(b?.items,Ze=>{Ze.type=="action"&&Ze.actionPosition=="sidebar"&&je.push(Ze)}),Re(je)},[b]),Me?S.jsx(Yh,{opened:!0,onBackdropClick:()=>a(n),children:S.jsxs(Dc,{children:[S.jsx(Oc,{right:S.jsx(ks,{onClick:()=>a(n),children:S.jsx(Yl,{})}),title:b?.title,subtitle:t?tt.key("edit_item"):tt.key("create_item"),subnavbar:j?.allItems&&j?.allItems?.length>1&&S.jsx("div",{className:" inline-flex gap-2 overflow-x-scroll  py-2 overflow-y-hidden",children:j?.menu?.map(je=>je.children?S.jsx(S.Fragment,{children:je.children.map((Ze,Qe)=>S.jsx(ks,{style:{borderColor:z?.key==Ze.key?xe:void 0},onClick:()=>{Ze.key&&ue(Ze.key)},className:"whitespace-nowrap border-1 border-gray-200 rounded-md px-2 py-1",children:Ze.title}))}):S.jsx(ks,{style:{borderColor:z?.key==je.key?xe:void 0},className:"whitespace-nowrap",onClick:()=>{je.key&&ue(je.key)},children:je.title}))})}),oe?S.jsx(IE,{className:"w-full p-4 ",children:[1,2,3,4,5].map(()=>S.jsxs(vS,{col:12,className:"px-1",children:[S.jsx(fd,{className:"w-16 h-2 mt-2"}),S.jsx(fd,{className:"w-full h-12 mt-1"})]}))}):!!z?.group&&S.jsx(ov,{descriptions:Y,groupKey:z?.group,onlyShow:t?!b?.canUpdate:!b?.canCreate,structure:b,valuesRef:pe}),S.jsx(nw,{className:"fixed left-1/2 bottom-safe-4 transform -translate-x-1/2 z-20",menu:[{htmlIcon:S.jsx(s1,{}),disabled:oe||!Se.showSaveButton(),label:tt.key("save"),click:()=>{ve("save")}},{label:tt.key("actions"),disabled:oe||!Se.showActionButton()||!He.length,submenu:He.map(je=>({htmlIcon:S.jsx(Vm,{icon:je.assets?.icon}),label:je.title??je.key,click:()=>{he(je)}}))},{htmlIcon:S.jsx(p1,{}),disabled:oe||!Se.showCloneButton(),label:tt.key("copy_item"),click:()=>{we()}},{htmlIcon:S.jsx(A$,{}),label:tt.key("copy_item_id"),disabled:oe||!Se.showCopyButton(),click:()=>{t&&qf(t)}},{htmlIcon:m?S.jsx(M$,{}):S.jsx(xO,{}),label:m?tt.key("show_tips"):tt.key("hide_tips"),click:()=>{i(!m)}},{htmlIcon:S.jsx(hd,{}),disabled:oe||!Se.showDeleteButton(),label:tt.key("delete"),click:()=>{Te()}}],children:S.jsx(Jm,{icon:S.jsx(o1,{className:"size-5"})})})]})}):S.jsx(Lc,{open:!0,onOpenChange:je=>{je||a(n)},children:S.jsx(Pc,{className:"!w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh] overflow-hidden !p-0",children:S.jsxs(eC,{className:"h-full w-full !w-[80vw] !max-w-[80vw] sm:!max-w-[80vw] h-[80vh]",children:[S.jsxs(X0,{width:"300px",className:" py-2 px-1 border-r",children:[S.jsx(yd,{autoSize:!0,children:S.jsxs(DS,{className:"w-full",children:[S.jsxs(Bn,{onClick:()=>a(n),className:"w-full flex-1",variant:"outline",children:[tt.key("close")," ",S.jsx(XG,{children:"Shift + X"})]}),S.jsxs(oI,{children:[S.jsx(sI,{asChild:!0,children:S.jsx(Bn,{disabled:oe,variant:"outline",size:"icon","aria-label":"More Options",children:S.jsx(o1,{})})}),S.jsxs(lI,{align:"end",children:[S.jsxs(aE,{children:[S.jsxs(Uf,{disabled:oe||!Se.showCloneButton(),onClick:()=>{we()},children:[S.jsx(p1,{}),tt.key("copy_item")]}),S.jsxs(Uf,{disabled:oe||!Se.showCopyButton(),onClick:()=>{t&&qf(t)},children:[S.jsx(A$,{}),tt.key("copy_item_id")]})]}),S.jsx(JS,{}),S.jsx(aE,{children:S.jsxs(Uf,{onClick:()=>{i(!m)},children:[m?S.jsx(M$,{}):S.jsx(xO,{}),m?tt.key("show_tips"):tt.key("hide_tips")]})}),S.jsx(JS,{}),S.jsx(aE,{children:S.jsxs(Uf,{disabled:oe||!Se.showDeleteButton(),onClick:()=>Te(),variant:"destructive",children:[S.jsx(hd,{}),tt.key("delete")]})})]})]})]})}),S.jsxs(yd,{className:"px-2 py-4 flex flex-col gap-2",children:[j?.menu?.map(je=>je.children?S.jsxs("div",{className:"mb-4",children:[S.jsx($m,{children:je.title}),je.children.map((Ze,Qe)=>{let Pe=Qe+1;return Pe==10&&(Pe=0),Pe>10&&(Pe=null),S.jsx(Qm,{hotkey:Pe!==null?`Shift+${Pe}`:void 0,active:z?.key==Ze.key,media:S.jsx(Vm,{color:z?.key==Ze.key?xe:void 0,icon:Ze.icon}),label:S.jsx("span",{style:{opacity:z?.key==Ze.key?1:.8},children:Ze.title}),onClick:()=>{Ze.key&&ue(Ze.key)}},Ze.key)})]}):S.jsx(Qm,{onClick:()=>{je.key&&ue(je.key)},media:S.jsx(Vm,{color:z?.key==je.key?xe:void 0,icon:je.icon}),label:S.jsx("span",{style:{opacity:z?.key==je.key?1:.8},children:je.title}),active:z?.key==je.key},je.key)),Se.showActionButton()&&!!He.length&&S.jsxs("div",{className:"mb-4",children:[S.jsx($m,{children:tt.key("actions")}),He.map(je=>S.jsx(Qm,{media:S.jsx(Vm,{icon:je.assets?.icon}),onClick:()=>{he(je)},label:je.title},je.key))]}),Se.showRelationButton()&&ne&&ne.length>0&&S.jsxs("div",{className:"mb-4",children:[S.jsx($m,{children:tt.key("relations_collection")}),ne.map(je=>S.jsx(Qm,{media:S.jsx(Vm,{icon:je.icon}),label:je.title,onClick:()=>{Be(je)}},je.key))]})]}),S.jsx(yd,{autoSize:!0,children:S.jsxs(DS,{className:"w-full",children:[S.jsxs(Bn,{disabled:oe||!Se.showSaveButton(),onClick:()=>ve("save"),className:"w-full flex-1",variant:"outline",children:[S.jsx(s1,{}),tt.key("save")," ",S.jsx(XG,{children:"Shift + S"})]}),S.jsxs(oI,{children:[S.jsx(sI,{asChild:!0,children:S.jsx(Bn,{disabled:oe,variant:"outline",size:"icon","aria-label":"More Options",children:S.jsx(o1,{})})}),S.jsxs(lI,{align:"end",children:[S.jsxs(aE,{children:[S.jsxs(Uf,{disabled:oe||!Se.showSaveButton(),onClick:()=>ve("save_and_close"),children:[S.jsx(s1,{}),tt.key("save_and_close")]}),S.jsxs(Uf,{disabled:oe||!Se.showCreateButton(),onClick:()=>ve("save_and_add_new"),children:[S.jsx(gS,{}),tt.key("save_and_add_new")]}),S.jsxs(Uf,{disabled:oe||!Se.showSaveButton(),onClick:()=>ve("save_and_edit"),children:[S.jsx(Tse,{}),tt.key("save_and_edit")]})]}),S.jsx(aE,{children:S.jsxs(Uf,{disabled:oe||!Se.showDeleteButton(),onClick:()=>Te(),variant:"destructive",children:[S.jsx(hd,{}),tt.key("delete")]})})]})]})]})})]}),S.jsx(X0,{children:oe?S.jsx(IE,{className:"w-full p-4",children:[1,2,3,4,5].map(()=>S.jsxs(vS,{col:12,className:"px-1",children:[S.jsx(fd,{className:"w-16 h-2 mt-2"}),S.jsx(fd,{className:"w-full h-12 mt-1"})]}))}):!!z?.group&&S.jsx(ov,{descriptions:Y??null,onlyShow:t?!b?.canUpdate:!b?.canCreate,groupKey:z?.group,structure:b,valuesRef:pe})})]})})})},xze=()=>{const{dialogStack:e}=Fr();return e.map(t=>{if(t.view)return S.jsx(_ze,{...t.view},t.view.modalKey);if(t.table)return S.jsx(rze,{...t.table},t.table.modalKey)})};var Qx={},rO={exports:{}},aO,KG;function Eze(){if(KG)return aO;KG=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return aO=e,aO}var iO,QG;function wze(){if(QG)return iO;QG=1;var e=Eze();function t(){}function n(){}return n.resetWarningCache=t,iO=function(){function r(u,i,m,b,_,w){if(w!==e){var M=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw M.name="Invariant Violation",M}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return l.PropTypes=l,l},iO}var JG;function dre(){return JG||(JG=1,rO.exports=wze()()),rO.exports}var oO,eH;function fre(){return eH||(eH=1,oO={L:1,M:0,Q:3,H:2}),oO}var sO,tH;function hre(){return tH||(tH=1,sO={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),sO}var lO,nH;function Sze(){if(nH)return lO;nH=1;var e=hre();function t(n){this.mode=e.MODE_8BIT_BYTE,this.data=n}return t.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},lO=t,lO}var uO,rH;function Tze(){if(rH)return uO;rH=1;var e=fre();function t(n,r){this.totalCount=n,this.dataCount=r}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(n,r){var a=t.getRsBlockTable(n,r);if(a==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var l=a.length/3,u=new Array,i=0;i<l;i++)for(var m=a[i*3+0],b=a[i*3+1],_=a[i*3+2],w=0;w<m;w++)u.push(new t(b,_));return u},t.getRsBlockTable=function(n,r){switch(r){case e.L:return t.RS_BLOCK_TABLE[(n-1)*4+0];case e.M:return t.RS_BLOCK_TABLE[(n-1)*4+1];case e.Q:return t.RS_BLOCK_TABLE[(n-1)*4+2];case e.H:return t.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},uO=t,uO}var cO,aH;function Cze(){if(aH)return cO;aH=1;function e(){this.buffer=new Array,this.length=0}return e.prototype={get:function(t){var n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)==1},put:function(t,n){for(var r=0;r<n;r++)this.putBit((t>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},cO=e,cO}var dO,iH;function pre(){if(iH)return dO;iH=1;for(var e={glog:function(n){if(n<1)throw new Error("glog("+n+")");return e.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return e.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(var t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(var t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return dO=e,dO}var fO,oH;function mre(){if(oH)return fO;oH=1;var e=pre();function t(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var a=0;a<n.length&&n[a]==0;)a++;this.num=new Array(n.length-a+r);for(var l=0;l<n.length-a;l++)this.num[l]=n[l+a]}return t.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),a=0;a<this.getLength();a++)for(var l=0;l<n.getLength();l++)r[a+l]^=e.gexp(e.glog(this.get(a))+e.glog(n.get(l)));return new t(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=e.glog(this.get(0))-e.glog(n.get(0)),a=new Array(this.getLength()),l=0;l<this.getLength();l++)a[l]=this.get(l);for(var l=0;l<n.getLength();l++)a[l]^=e.gexp(e.glog(n.get(l))+r);return new t(a,0).mod(n)}},fO=t,fO}var hO,sH;function Aze(){if(sH)return hO;sH=1;var e=hre(),t=mre(),n=pre(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var u=l<<10;a.getBCHDigit(u)-a.getBCHDigit(a.G15)>=0;)u^=a.G15<<a.getBCHDigit(u)-a.getBCHDigit(a.G15);return(l<<10|u)^a.G15_MASK},getBCHTypeNumber:function(l){for(var u=l<<12;a.getBCHDigit(u)-a.getBCHDigit(a.G18)>=0;)u^=a.G18<<a.getBCHDigit(u)-a.getBCHDigit(a.G18);return l<<12|u},getBCHDigit:function(l){for(var u=0;l!=0;)u++,l>>>=1;return u},getPatternPosition:function(l){return a.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,u,i){switch(l){case r.PATTERN000:return(u+i)%2==0;case r.PATTERN001:return u%2==0;case r.PATTERN010:return i%3==0;case r.PATTERN011:return(u+i)%3==0;case r.PATTERN100:return(Math.floor(u/2)+Math.floor(i/3))%2==0;case r.PATTERN101:return u*i%2+u*i%3==0;case r.PATTERN110:return(u*i%2+u*i%3)%2==0;case r.PATTERN111:return(u*i%3+(u+i)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var u=new t([1],0),i=0;i<l;i++)u=u.multiply(new t([1,n.gexp(i)],0));return u},getLengthInBits:function(l,u){if(1<=u&&u<10)switch(l){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:return 8;case e.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(u<27)switch(l){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else if(u<41)switch(l){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}else throw new Error("type:"+u)},getLostPoint:function(l){for(var u=l.getModuleCount(),i=0,m=0;m<u;m++)for(var b=0;b<u;b++){for(var _=0,w=l.isDark(m,b),M=-1;M<=1;M++)if(!(m+M<0||u<=m+M))for(var P=-1;P<=1;P++)b+P<0||u<=b+P||M==0&&P==0||w==l.isDark(m+M,b+P)&&_++;_>5&&(i+=3+_-5)}for(var m=0;m<u-1;m++)for(var b=0;b<u-1;b++){var j=0;l.isDark(m,b)&&j++,l.isDark(m+1,b)&&j++,l.isDark(m,b+1)&&j++,l.isDark(m+1,b+1)&&j++,(j==0||j==4)&&(i+=3)}for(var m=0;m<u;m++)for(var b=0;b<u-6;b++)l.isDark(m,b)&&!l.isDark(m,b+1)&&l.isDark(m,b+2)&&l.isDark(m,b+3)&&l.isDark(m,b+4)&&!l.isDark(m,b+5)&&l.isDark(m,b+6)&&(i+=40);for(var b=0;b<u;b++)for(var m=0;m<u-6;m++)l.isDark(m,b)&&!l.isDark(m+1,b)&&l.isDark(m+2,b)&&l.isDark(m+3,b)&&l.isDark(m+4,b)&&!l.isDark(m+5,b)&&l.isDark(m+6,b)&&(i+=40);for(var G=0,b=0;b<u;b++)for(var m=0;m<u;m++)l.isDark(m,b)&&G++;var z=Math.abs(100*G/u/u-50)/5;return i+=z*10,i}};return hO=a,hO}var pO,lH;function kze(){if(lH)return pO;lH=1;var e=Sze(),t=Tze(),n=Cze(),r=Aze(),a=mre();function l(i,m){this.typeNumber=i,this.errorCorrectLevel=m,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var u=l.prototype;return u.addData=function(i){var m=new e(i);this.dataList.push(m),this.dataCache=null},u.isDark=function(i,m){if(i<0||this.moduleCount<=i||m<0||this.moduleCount<=m)throw new Error(i+","+m);return this.modules[i][m]},u.getModuleCount=function(){return this.moduleCount},u.make=function(){if(this.typeNumber<1){var i=1;for(i=1;i<40;i++){for(var m=t.getRSBlocks(i,this.errorCorrectLevel),b=new n,_=0,w=0;w<m.length;w++)_+=m[w].dataCount;for(var w=0;w<this.dataList.length;w++){var M=this.dataList[w];b.put(M.mode,4),b.put(M.getLength(),r.getLengthInBits(M.mode,i)),M.write(b)}if(b.getLengthInBits()<=_*8)break}this.typeNumber=i}this.makeImpl(!1,this.getBestMaskPattern())},u.makeImpl=function(i,m){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var b=0;b<this.moduleCount;b++){this.modules[b]=new Array(this.moduleCount);for(var _=0;_<this.moduleCount;_++)this.modules[b][_]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(i,m),this.typeNumber>=7&&this.setupTypeNumber(i),this.dataCache==null&&(this.dataCache=l.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,m)},u.setupPositionProbePattern=function(i,m){for(var b=-1;b<=7;b++)if(!(i+b<=-1||this.moduleCount<=i+b))for(var _=-1;_<=7;_++)m+_<=-1||this.moduleCount<=m+_||(0<=b&&b<=6&&(_==0||_==6)||0<=_&&_<=6&&(b==0||b==6)||2<=b&&b<=4&&2<=_&&_<=4?this.modules[i+b][m+_]=!0:this.modules[i+b][m+_]=!1)},u.getBestMaskPattern=function(){for(var i=0,m=0,b=0;b<8;b++){this.makeImpl(!0,b);var _=r.getLostPoint(this);(b==0||i>_)&&(i=_,m=b)}return m},u.createMovieClip=function(i,m,b){var _=i.createEmptyMovieClip(m,b),w=1;this.make();for(var M=0;M<this.modules.length;M++)for(var P=M*w,j=0;j<this.modules[M].length;j++){var G=j*w,z=this.modules[M][j];z&&(_.beginFill(0,100),_.moveTo(G,P),_.lineTo(G+w,P),_.lineTo(G+w,P+w),_.lineTo(G,P+w),_.endFill())}return _},u.setupTimingPattern=function(){for(var i=8;i<this.moduleCount-8;i++)this.modules[i][6]==null&&(this.modules[i][6]=i%2==0);for(var m=8;m<this.moduleCount-8;m++)this.modules[6][m]==null&&(this.modules[6][m]=m%2==0)},u.setupPositionAdjustPattern=function(){for(var i=r.getPatternPosition(this.typeNumber),m=0;m<i.length;m++)for(var b=0;b<i.length;b++){var _=i[m],w=i[b];if(this.modules[_][w]==null)for(var M=-2;M<=2;M++)for(var P=-2;P<=2;P++)M==-2||M==2||P==-2||P==2||M==0&&P==0?this.modules[_+M][w+P]=!0:this.modules[_+M][w+P]=!1}},u.setupTypeNumber=function(i){for(var m=r.getBCHTypeNumber(this.typeNumber),b=0;b<18;b++){var _=!i&&(m>>b&1)==1;this.modules[Math.floor(b/3)][b%3+this.moduleCount-8-3]=_}for(var b=0;b<18;b++){var _=!i&&(m>>b&1)==1;this.modules[b%3+this.moduleCount-8-3][Math.floor(b/3)]=_}},u.setupTypeInfo=function(i,m){for(var b=this.errorCorrectLevel<<3|m,_=r.getBCHTypeInfo(b),w=0;w<15;w++){var M=!i&&(_>>w&1)==1;w<6?this.modules[w][8]=M:w<8?this.modules[w+1][8]=M:this.modules[this.moduleCount-15+w][8]=M}for(var w=0;w<15;w++){var M=!i&&(_>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=M:w<9?this.modules[8][15-w-1+1]=M:this.modules[8][15-w-1]=M}this.modules[this.moduleCount-8][8]=!i},u.mapData=function(i,m){for(var b=-1,_=this.moduleCount-1,w=7,M=0,P=this.moduleCount-1;P>0;P-=2)for(P==6&&P--;;){for(var j=0;j<2;j++)if(this.modules[_][P-j]==null){var G=!1;M<i.length&&(G=(i[M]>>>w&1)==1);var z=r.getMask(m,_,P-j);z&&(G=!G),this.modules[_][P-j]=G,w--,w==-1&&(M++,w=7)}if(_+=b,_<0||this.moduleCount<=_){_-=b,b=-b;break}}},l.PAD0=236,l.PAD1=17,l.createData=function(i,m,b){for(var _=t.getRSBlocks(i,m),w=new n,M=0;M<b.length;M++){var P=b[M];w.put(P.mode,4),w.put(P.getLength(),r.getLengthInBits(P.mode,i)),P.write(w)}for(var j=0,M=0;M<_.length;M++)j+=_[M].dataCount;if(w.getLengthInBits()>j*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+j*8+")");for(w.getLengthInBits()+4<=j*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=j*8||(w.put(l.PAD0,8),w.getLengthInBits()>=j*8));)w.put(l.PAD1,8);return l.createBytes(w,_)},l.createBytes=function(i,m){for(var b=0,_=0,w=0,M=new Array(m.length),P=new Array(m.length),j=0;j<m.length;j++){var G=m[j].dataCount,z=m[j].totalCount-G;_=Math.max(_,G),w=Math.max(w,z),M[j]=new Array(G);for(var q=0;q<M[j].length;q++)M[j][q]=255&i.buffer[q+b];b+=G;var Y=r.getErrorCorrectPolynomial(z),J=new a(M[j],Y.getLength()-1),ne=J.mod(Y);P[j]=new Array(Y.getLength()-1);for(var q=0;q<P[j].length;q++){var ie=q+ne.getLength()-P[j].length;P[j][q]=ie>=0?ne.get(ie):0}}for(var ue=0,q=0;q<m.length;q++)ue+=m[q].totalCount;for(var oe=new Array(ue),K=0,q=0;q<_;q++)for(var j=0;j<m.length;j++)q<M[j].length&&(oe[K++]=M[j][q]);for(var q=0;q<w;q++)for(var j=0;j<m.length;j++)q<P[j].length&&(oe[K++]=P[j][q]);return oe},pO=l,pO}var yA={},uH;function Ize(){if(uH)return yA;uH=1,Object.defineProperty(yA,"__esModule",{value:!0});var e=Object.assign||function(b){for(var _=1;_<arguments.length;_++){var w=arguments[_];for(var M in w)Object.prototype.hasOwnProperty.call(w,M)&&(b[M]=w[M])}return b},t=dre(),n=l(t),r=aw(),a=l(r);function l(b){return b&&b.__esModule?b:{default:b}}function u(b,_){var w={};for(var M in b)_.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(b,M)&&(w[M]=b[M]);return w}var i={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},m=(0,r.forwardRef)(function(b,_){var w=b.bgColor,M=b.bgD,P=b.fgD,j=b.fgColor,G=b.size,z=b.title,q=b.viewBoxSize,Y=b.xmlns,J=Y===void 0?"http://www.w3.org/2000/svg":Y,ne=u(b,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",e({},ne,{height:G,ref:_,viewBox:"0 0 "+q+" "+q,width:G,xmlns:J}),z?a.default.createElement("title",null,z):null,a.default.createElement("path",{d:M,fill:w}),a.default.createElement("path",{d:P,fill:j}))});return m.displayName="QRCodeSvg",m.propTypes=i,yA.default=m,yA}var cH;function Nze(){if(cH)return Qx;cH=1,Object.defineProperty(Qx,"__esModule",{value:!0}),Qx.QRCode=void 0;var e=Object.assign||function(G){for(var z=1;z<arguments.length;z++){var q=arguments[z];for(var Y in q)Object.prototype.hasOwnProperty.call(q,Y)&&(G[Y]=q[Y])}return G},t=dre(),n=w(t),r=fre(),a=w(r),l=kze(),u=w(l),i=aw(),m=w(i),b=Ize(),_=w(b);function w(G){return G&&G.__esModule?G:{default:G}}function M(G,z){var q={};for(var Y in G)z.indexOf(Y)>=0||Object.prototype.hasOwnProperty.call(G,Y)&&(q[Y]=G[Y]);return q}var P={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},j=(0,i.forwardRef)(function(G,z){var q=G.bgColor,Y=q===void 0?"#FFFFFF":q,J=G.fgColor,ne=J===void 0?"#000000":J,ie=G.level,ue=ie===void 0?"L":ie,oe=G.size,K=oe===void 0?256:oe,se=G.value,pe=M(G,["bgColor","fgColor","level","size","value"]),ve=new u.default(-1,a.default[ue]);ve.addData(se),ve.make();var Te=ve.modules;return m.default.createElement(_.default,e({},pe,{bgColor:Y,bgD:Te.map(function(Me,xe){return Me.map(function(Se,he){return Se?"":"M "+he+" "+xe+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:ne,fgD:Te.map(function(Me,xe){return Me.map(function(Se,he){return Se?"M "+he+" "+xe+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:z,size:K,viewBoxSize:Te.length}))});return Qx.QRCode=j,j.displayName="QRCode",j.propTypes=P,Qx.default=j,Qx}var Rze=Nze();const Mze=qh(Rze),Oze=({msgAuthData:e,onCancelAuthWithPhoneNumber:t})=>{const{isMobile:n}=Fr();return n?S.jsx(S.Fragment,{children:S.jsxs(QV,{className:"pb-safe",opened:!0,children:[S.jsx("div",{className:"my-2  px-2 mt-6 text-sm text-gray-500 text-center ",children:tt.key("loginWithAuth4AppInstructions")}),S.jsx(Pb,{outline:!0,children:S.jsx(ql,{dividers:!0,media:S.jsx(T9,{}),title:e?.code,footer:tt.key("copyCode"),onClick:()=>{qf(e?.code?.toString()??"")}})}),S.jsx("div",{className:"px-2 text-sm text-gray-500 text-center",children:tt.key("selectMessengerAndSendCodeToMessenger")}),S.jsx(ig,{outline:!0,children:S.jsx("div",{className:"flex items-center justify-around ",children:e?.links?.map(r=>S.jsx("div",{onClick:()=>{window.open(r.link)},children:S.jsx("img",{className:"w-12 h-12 rounded-lg cursor-pointer active:opacity-50",src:r.image})}))})}),S.jsx(ig,{children:S.jsx(vu,{onClick:()=>{t?.()},children:tt.key("cancelAuthWithPhoneNumber")})})]})}):S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"my-2  px-2 mt-6 text-sm text-gray-500 ",children:tt.key("loginWithAuth4AppInstructions")}),S.jsxs("div",{className:"my-2  px-2 mt-6",children:[S.jsx("span",{className:"text-xl font-bold",children:"1. "}),tt.key("copyCode")]}),S.jsx("div",{children:S.jsxs("div",{onClick:()=>{qf(e?.code?.toString()??"")},className:"text-2xl relative bg-white dark:bg-black text-center px-2 py-2 rounded-sm cursor-pointer active:opacity-50 border-2 border-dashed border-gray-400 mx-2",children:[e?.code,S.jsx("span",{className:"absolute top-2 right-2 opacity-50",children:S.jsx(T9,{})})]})}),S.jsxs("div",{className:"my-2  px-2",children:[S.jsx("span",{className:"text-xl font-bold",children:"2. "}),tt.key("selectMessenger")]}),S.jsx("div",{children:S.jsx("div",{className:"flex items-center justify-around mt-4",children:e?.links?.map(r=>S.jsx("div",{onClick:()=>{window.open(r.link)},children:S.jsx("img",{className:"w-12 h-12 rounded-lg cursor-pointer active:opacity-50",src:r.image})}))})}),S.jsxs("div",{className:"my-2  px-2",children:[S.jsx("span",{className:"text-xl font-bold",children:"3. "}),tt.key("autoLogin")]}),S.jsx("div",{className:"bg-white rounded-md dark:bg-black",children:S.jsxs("div",{className:"flex items-center justify-start flex mt-6",children:[S.jsx("div",{children:S.jsx(Mze,{size:200,value:`https://api.auth4app.com/code/link/${e?.code_id}`})}),S.jsx("div",{className:"px-2 mt-2 text-xs",children:tt.key("scanQRCode")})]})})]})},mO=({title:e,onBack:t})=>{const{isMobile:n,icon:r,title:a}=Fr();return n?S.jsx(Oc,{left:t?S.jsxs(ks,{onClick:t,children:[" ",S.jsx(XD,{})," "]}):S.jsx("img",{src:r,className:"w-8 h-8 rounded-sm mr-2"}),title:a,subtitle:e}):S.jsxs("div",{className:"text-3xl font-medium mb-2 flex items-center",children:[t&&S.jsx("span",{className:"cursor-pointer active:opacity-50",onClick:()=>{t?.()},children:S.jsx(XD,{})}),S.jsx("span",{children:e})]})},Dze=({login:e,setLogin:t,onEmailPrepare:n,loading:r})=>{const{isMobile:a,auth:l}=Fr();return l?.emailLogin?a?S.jsx(S.Fragment,{children:S.jsxs(ig,{outline:!0,children:[S.jsx(ml,{id:"login",name:"login",icon:S.jsx(F$,{}),className:"my-2",value:e,onChange:u=>t(u.target.value.trim()),placeholder:tt.key("emailOrLogin"),onKeyPress:u=>{u.key==="Enter"&&n()}}),S.jsx(vu,{className:"mt-2",disabled:r||!e,onClick:n,children:tt.key("continue")})]})}):S.jsxs(S.Fragment,{children:[S.jsx(ml,{id:"login",name:"login",icon:S.jsx(F$,{}),className:"my-2",value:e,onChange:u=>t(u.target.value.trim()),placeholder:tt.key("emailOrLogin"),onKeyPress:u=>{u.key==="Enter"&&n()}}),S.jsx(Bn,{disabled:r||!e,onClick:n,className:"mt-2 w-full",children:tt.key("continue")})]}):null},Lze=({imageUrl:e,maxTiltDeg:t=10,perspective:n=1e3,hoverScale:r=1.02,ease:a=.12,safetyMargin:l=.3,filterCss:u})=>{const i=$.useRef(null),m=$.useRef(!1),b=$.useRef(null),_=$.useRef({rx:0,ry:0,scale:1}),w=$.useRef({rx:0,ry:0,scale:1}),M=$.useRef(1),P=(j,G)=>{const z=j*Math.PI/180;return 1/(Math.cos(z)*Math.cos(z))*(1+G)};return $.useEffect(()=>{const j=()=>{M.current=P(t,l)};j();const G=()=>j();return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[t,l]),$.useEffect(()=>{const j=Y=>{const J=window.innerWidth/2,ne=window.innerHeight/2,ie=(Y.clientX-J)/(window.innerWidth/2),ue=(Y.clientY-ne)/(window.innerHeight/2),oe=Math.max(-1,Math.min(1,ie)),K=Math.max(-1,Math.min(1,ue));_.current.ry=oe*t,_.current.rx=-K*t,_.current.scale=m.current?r:1},G=()=>m.current=!0,z=()=>{m.current=!1,_.current.rx=0,_.current.ry=0,_.current.scale=1};document.addEventListener("mousemove",j),document.addEventListener("mouseenter",G),document.addEventListener("mouseleave",z);const q=()=>{const Y=i.current;if(!Y)return;const J=w.current,ne=_.current;J.rx+=(ne.rx-J.rx)*a,J.ry+=(ne.ry-J.ry)*a,J.scale+=(ne.scale-J.scale)*a;const ue=M.current*J.scale;Y.style.transform=`
        perspective(${n}px)
        rotateX(${J.rx}deg)
        rotateY(${J.ry}deg)
        scale(${ue})
      `,b.current=requestAnimationFrame(q)};return b.current=requestAnimationFrame(q),()=>{b.current&&cancelAnimationFrame(b.current),document.removeEventListener("mousemove",j),document.removeEventListener("mouseenter",G),document.removeEventListener("mouseleave",z)}},[a,r,t,n]),S.jsx(S.Fragment,{children:S.jsx("div",{style:{position:"absolute",inset:0,overflow:"hidden",zIndex:1,pointerEvents:"none",background:"#000"},children:S.jsx("div",{ref:i,style:{width:"100vw",height:"100vh",transformOrigin:"center center",willChange:"transform",filter:u},children:S.jsx("img",{src:e,alt:"",draggable:!1,style:{width:"100%",height:"100%",display:"block",objectFit:"cover",userSelect:"none",backfaceVisibility:"hidden",pointerEvents:"none"}})})})})},vA=e=>{const{isMobile:t,auth:n,color:r,cover:a,icon:l,subtitle:u,title:i,terms:m,privacy:b}=Fr();return t?S.jsx(Dc,{children:e.children}):S.jsxs("div",{className:"w-screen h-screen flex bg-gray-400 items-center overflow-hidden ",style:{backgroundColor:r??""},children:[a?S.jsx(Lze,{imageUrl:a??""}):S.jsx("div",{className:" absolute top-0 right-0 w-full h-full ",style:{zIndex:0,opacity:.5,backgroundColor:r??""}}),S.jsx("div",{className:"h-screen w-screen bg-black/50 z-50 overflow-hidden",children:S.jsxs("div",{className:"grid  gap-4 grid-cols-12 w-screen h-screen z-50 max-w-[1280px] mx-auto",children:[S.jsx("div",{className:"col-start-2 col-span-5  h-screen flex items-center md:hidden lg:hidden xl:flex ",children:S.jsxs("div",{className:"text-white",children:[S.jsx("div",{className:"relative",children:S.jsx("img",{style:{objectFit:"cover"},className:"w-12 h-12 rounded-lg shadow-sm",src:l})}),S.jsx("div",{className:"text-4xl font-bold ",children:i}),S.jsx("div",{className:"text-[20px] font-light",children:u})]})}),S.jsx("div",{className:`
              md:col-span-8 md:col-start-3
              lg:col-start-4 lg:col-span-6 xl:col-span-5   h-screen flex items-center`,children:S.jsx("div",{className:" bg-white dark:bg-gray-900 py-10 px-14 rounded-md w-full",children:e.children})})]})})]})},Pze=({password:e,setPassword:t,onPasswordAuth:n,loading:r,onForgotPassword:a})=>{const{isMobile:l}=Fr();return l?S.jsx(S.Fragment,{children:S.jsxs(ig,{children:[S.jsx(ml,{className:"my-2",type:"password",icon:S.jsx(A9,{}),id:"password",name:"password",placeholder:"",value:e,security:"",onChange:u=>t(u.target.value),onKeyPress:u=>{u.key==="Enter"&&n()}}),S.jsx(vu,{className:"mt-2",disabled:!e||r,onClick:n,children:tt.key("continue")}),S.jsx(vu,{outline:!0,className:"mt-2",disabled:r,onClick:a,children:tt.key("forgotPassword")})]})}):S.jsxs(S.Fragment,{children:[S.jsx(ml,{className:"my-2",type:"password",icon:S.jsx(A9,{}),id:"password",name:"password",placeholder:"",value:e,security:"",onChange:u=>t(u.target.value),onKeyPress:u=>{u.key==="Enter"&&n()}}),S.jsx(Bn,{disabled:!e||r,onClick:n,className:"mt-2 w-full",variant:"default",children:tt.key("continue")}),S.jsx(Bn,{disabled:r,className:"mt-2 w-full",onClick:a,variant:"link",children:tt.key("forgotPassword")})]})},Fze=({phone:e,setPhone:t,onPhoneAuth:n,loading:r})=>{const{isMobile:a}=Fr();return a?S.jsx(S.Fragment,{children:S.jsxs(ig,{children:[S.jsx(Tk,{containerClass:"!w-full phone-input-field my-8",inputClass:"!w-full !h-10 !text-base !text-base  !rounded-md !border-2 !border-gray-400 !p-2",specialLabel:tt.key("enterPhoneLogin"),placeholder:tt.key("phone"),value:e,onChange:l=>{t(l)}}),S.jsx(vu,{className:"mt-2",disabled:!e||r,onClick:n,children:tt.key("continue")})]})}):S.jsxs(S.Fragment,{children:[S.jsx(Tk,{containerClass:"!w-full phone-input-field my-8",inputClass:"!w-full !h-10 !text-base !text-base  !rounded-md !border-2 !border-gray-400 !p-2",specialLabel:tt.key("enterPhoneLogin"),placeholder:tt.key("phone"),value:e,onChange:l=>{t(l)}}),S.jsx(Bn,{disabled:!e||r,onClick:n,className:"mt-2 w-full",children:tt.key("continue")})]})},Bze=()=>{const{terms:e,privacy:t,auth:n}=Fr();return n?.emailReg||n?.phoneReg||n?.socialReg?S.jsxs("div",{className:"mt-6 text-xs text-center",children:[tt.key("termsOfUse")," ",S.jsx("a",{target:"_blank",href:e,children:tt.key("termsOfUseLink")})," ",tt.key("and")," ",S.jsx("a",{target:"_blank",href:t,children:tt.key("privacyPolicyLink")})]}):null},gre=()=>S.jsx("div",{className:"text-center text-sm text-gray-500 my-2",children:tt.key("or")}),$ze=({onClick:e})=>{const{isMobile:t,auth:n}=Fr();return n?.phoneLogin?t?S.jsx(S.Fragment,{children:S.jsx(ig,{children:S.jsx(vu,{outline:!0,className:"w-full",onClick:e,children:tt.key("phoneLogin")})})}):S.jsxs(S.Fragment,{children:[S.jsx(gre,{}),S.jsx(Bn,{variant:"outline",className:"w-full",onClick:e,children:tt.key("phoneLogin")})]}):null};function dH(e){return tc({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}function fH(e){return tc({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M545 117.7c3.7-12.5 0-21.7-17.8-21.7h-58.9c-15 0-21.9 7.9-25.6 16.7 0 0-30 73.1-72.4 120.5-13.7 13.7-20 18.1-27.5 18.1-3.7 0-9.4-4.4-9.4-16.9V117.7c0-15-4.2-21.7-16.6-21.7h-92.6c-9.4 0-15 7-15 13.5 0 14.2 21.2 17.5 23.4 57.5v86.8c0 19-3.4 22.5-10.9 22.5-20 0-68.6-73.4-97.4-157.4-5.8-16.3-11.5-22.9-26.6-22.9H38.8c-16.8 0-20.2 7.9-20.2 16.7 0 15.6 20 93.1 93.1 195.5C160.4 378.1 229 416 291.4 416c37.5 0 42.1-8.4 42.1-22.9 0-66.8-3.4-73.1 15.4-73.1 8.7 0 23.7 4.4 58.7 38.1 40 40 46.6 57.9 69 57.9h58.9c16.8 0 25.3-8.4 20.4-25-11.2-34.9-86.9-106.7-90.3-111.5-8.7-11.2-6.2-16.2 0-26.2.1-.1 72-101.3 79.4-135.6z"},child:[]}]})(e)}function hH(e){return tc({attr:{viewBox:"0 0 256 512"},child:[{tag:"path",attr:{d:"M153.1 315.8L65.7 512H2l96-209.8c-45.1-22.9-75.2-64.4-75.2-141.1C22.7 53.7 90.8 0 171.7 0H254v512h-55.1V315.8h-45.8zm45.8-269.3h-29.4c-44.4 0-87.4 29.4-87.4 114.6 0 82.3 39.4 108.8 87.4 108.8h29.4V46.5z"},child:[]}]})(e)}const jze=({onSocAuth:e})=>{const{auth:t,isMobile:n}=Fr();return t?.socialLogin?n?S.jsxs(ig,{outline:!0,children:[" ",S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsx(vu,{outline:!0,large:!0,onClick:()=>{e("vk")},children:S.jsx(fH,{size:30,className:" text-blue-600"})}),S.jsx(vu,{outline:!0,large:!0,onClick:()=>{e("ya")},children:S.jsx(hH,{size:20,className:" text-red-600"})}),S.jsx(vu,{outline:!0,large:!0,onClick:()=>{e("google")},children:S.jsx(dH,{size:20,className:" text-gray-600"})})]})]}):S.jsxs(S.Fragment,{children:[S.jsx(gre,{}),S.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[S.jsxs(Bn,{variant:"outline",onClick:()=>{e("vk")},children:[S.jsx(fH,{size:30,className:" text-blue-600"})," ",tt.key("vkLogin")]}),S.jsxs(Bn,{variant:"outline",onClick:()=>{e("ya")},children:[S.jsx(hH,{size:20,className:" text-red-600"})," ",tt.key("yaLogin")]}),S.jsxs(Bn,{variant:"outline",onClick:()=>{e("google")},children:[S.jsx(dH,{size:20,className:" text-gray-600"}),tt.key("googleLogin")]})]})]}):null},zze=()=>{const{isMobile:e}=Fr(),t=oe=>{window.location.reload()},n=oe=>{let K=new Date().getTime()+"-"+yde(256)+"-"+vde(100),se=window.open(`https://auth4app.com/auth?soc=${oe}&key=${K}`,"_blank");const pe=setInterval(()=>{se&&se.closed&&(clearInterval(pe),ja.authSoc({key:K}).then(ve=>{ve&&(localStorage.setItem("token",ve),t())}))},500)},[r,a]=Ve.useState(""),[l,u]=Ve.useState(""),[i,m]=Ve.useState(""),[b,_]=$.useState("main"),[w,M]=$.useState(null),[P,j]=$.useState(!1),[G,z]=$.useState(""),q=()=>{r&&(j(!0),ja.authEmailPrepare({login:r}).then(oe=>{if(!oe?.find&&!oe?.isEmail){Ca.error(tt.key("invalidLoginOrEmail"));return}if(oe?.find){_("emailPassword");return}else if(oe?.isEmail&&oe?.canRegister)_("emailCodeConfirmation");else{Ca.error(tt.key("invalidLoginOrEmail"));return}M(oe)}).finally(()=>{j(!1)}))},Y=()=>{!r||!l||(j(!0),ja.authEmail({login:r,password:l}).then(oe=>{oe&&(localStorage.setItem("token",oe),t(tt.key("successfulAuthorization")))}).finally(()=>{j(!1)}))},J=()=>{!r||!l||!G||(j(!0),ja.authEmail({login:r,withEmailCode:!0,code:+G,password:l}).then(oe=>{oe&&(localStorage.setItem("token",oe),t(tt.key("successfulAuthorization")))}).finally(()=>{j(!1)}))},[ne,ie]=$.useState(null);$.useEffect(()=>{let oe=null,K=!1;return ne&&i&&b=="phone"&&(oe=setInterval(()=>{K||(K=!0,ja.authPhone({phone:i,code_id:ne.code_id}).then(se=>{se?.token&&(oe&&clearInterval(oe),localStorage.setItem("token",se.token),t(tt.key("successfulAuthorization"))),console.log(se)}).catch(()=>{}).finally(()=>{K=!1}))},5e3)),()=>{clearInterval(oe),ne&&ie(null)}},[ne,b]);const ue=()=>{i&&(j(!0),ja.authPhone({phone:i}).then(oe=>{oe&&ie(oe)}).finally(()=>{j(!1)}))};return $.useEffect(()=>{b=="emailCodeConfirmation"&&r&&(u(""),z(""),ja.authEmail({login:r,withEmailCode:!0}).then(()=>{Ca.success(tt.key("emailCodeConfirmationSent"))})),b=="main"&&(u(""),z(""),a(""),m(""),M(null),ie(null))},[b]),b=="phone"?S.jsxs(vA,{children:[S.jsx(mO,{title:tt.key("phoneLogin"),onBack:()=>{_("main"),M(null)}}),ne?S.jsx(S.Fragment,{children:S.jsx(Oze,{onCancelAuthWithPhoneNumber:()=>{_("main"),M(null)},msgAuthData:ne})}):S.jsx(S.Fragment,{children:S.jsx(Fze,{phone:i,setPhone:m,onPhoneAuth:ue,loading:P})})]}):b=="emailPassword"?S.jsxs(vA,{children:[S.jsx(mO,{title:tt.key("enterPassword"),onBack:()=>{_("main"),M(null)}}),S.jsx(Pze,{onForgotPassword:()=>{_("emailCodeConfirmation")},password:l,setPassword:u,onPasswordAuth:Y,loading:P})]}):b=="emailCodeConfirmation"?S.jsx(vA,{children:S.jsxs(Ve.Fragment,{children:[S.jsxs("div",{className:"text-3xl font-medium mb-2 flex items-center cursor-pointer active:opacity-50",onClick:()=>{_("main"),M(null)},children:[S.jsx(XD,{})," ",w?.find?tt.key("recoveryPassword"):tt.key("registration")]}),S.jsx("div",{className:"text-sm mb-4 mt-4 ",children:tt.key("emailCodeConfirmationSentToEmail")}),S.jsx(ml,{className:"my-2",icon:S.jsx(NG,{}),id:"code",placeholder:tt.key("emailCodeConfirmation"),value:G,onChange:oe=>z(oe.target.value.trim()),onKeyPress:oe=>{oe.key==="Enter"&&J()}}),S.jsx(ml,{type:"password",className:"my-2",icon:S.jsx(NG,{}),id:"password",placeholder:tt.key("password"),value:l,security:"",onChange:oe=>u(oe.target.value),onKeyPress:oe=>{oe.key==="Enter"&&J()}}),S.jsx(Bn,{disabled:!r||!G||!l,className:"mt-2 w-full",onClick:()=>{J()},children:tt.key("continue")})]})}):S.jsxs(vA,{children:[S.jsx(mO,{title:tt.key("login")}),S.jsx(Dze,{login:r,setLogin:a,onEmailPrepare:q,loading:P}),S.jsx($ze,{onClick:()=>{_("phone")}}),S.jsx(jze,{onSocAuth:n}),S.jsx(Bze,{})]})},pH=()=>{const{selectMenu:e}=xB();return e?.collection?S.jsx(lL,{collection:e.collection},e.collection):S.jsx("div",{className:"w-full p-4"})},Uze=()=>{const{isMobile:e}=Fr();return e?S.jsxs(kG,{children:[S.jsxs(Dc,{children:[S.jsx(pH,{}),S.jsx(OG,{})]}),S.jsx(MG,{ref:dI})]}):S.jsxs(kG,{children:[S.jsxs(eC,{className:"h-screen w-screen",children:[S.jsx(X0,{width:"300px",className:"border-r",children:S.jsx(OG,{})}),S.jsx(X0,{children:S.jsx(pH,{})})]}),S.jsx(MG,{ref:dI})]})},Gze=Gie([{path:"/",element:localStorage.getItem("token")?S.jsx(Uze,{}):S.jsx(zze,{})},{path:"/*",element:S.jsx(bie,{to:"/",replace:!0})}],{future:{v7_normalizeFormMethod:!0}});J0||(console.log=()=>{},console.error=()=>{},console.warn=()=>{},console.info=()=>{},console.debug=()=>{},console.trace=()=>{},console.dir=()=>{},console.dirxml=()=>{},console.group=()=>{},console.groupEnd=()=>{},console.time=()=>{},console.timeEnd=()=>{},console.timeLog=()=>{},console.timeStamp=()=>{},console.count=()=>{},console.countReset=()=>{},console.groupCollapsed=()=>{},console.groupEnd=()=>{});const Hze=()=>($.useEffect(()=>{tt.initLang()},[]),S.jsxs(hde,{children:[S.jsx(toe,{router:Gze}),S.jsx(pde,{ref:Ch}),S.jsx(xze,{}),S.jsx(NTe,{ref:tK}),S.jsx(eCe,{ref:rK}),S.jsx(U4e,{ref:VJ}),S.jsx(w6e,{ref:cee}),S.jsx(oTe,{ref:G3}),S.jsx(cte,{ref:ute}),S.jsx(I8e,{ref:aB}),S.jsx(v6e,{ref:K0}),S.jsx(R8e,{ref:L1}),S.jsx(xye,{ref:BY}),S.jsx(I4e,{ref:zJ}),S.jsx(lTe,{ref:BX})]}));Fre.createRoot(document.getElementById("root")).render(S.jsx($.StrictMode,{children:S.jsx(Hze,{})}))});export default Vze();
